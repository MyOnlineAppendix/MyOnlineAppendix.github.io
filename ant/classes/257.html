<h3 style="margin:0px">Class: org.apache.tools.zip.ZipEntryTest (6 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyConstructor() throws Exception {
  ZipEntry archiveEntry=new ZipEntry("fred");
  archiveEntry.setUnixMode(0664);
  archiveEntry.setMethod(ZipEntry.DEFLATED);
  archiveEntry.getGeneralPurposeBit().useStrongEncryption(true);
  ZipEntry copy=new ZipEntry(archiveEntry);
  assertEquals(archiveEntry,copy);
}

</code></pre>

<pre class="type-4 type-15 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test handling of extra fields
 */
@Test public void testAddAsFirstExtraField(){
  AsiExtraField a=new AsiExtraField();
  a.setDirectory(true);
  a.setMode(0755);
  UnrecognizedExtraField u=new UnrecognizedExtraField();
  u.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u.setLocalFileDataData(new byte[0]);
  ZipEntry ze=new ZipEntry("test/");
  ze.setExtraFields(new ZipExtraField[]{a,u});
  byte[] data1=ze.getExtra();
  UnrecognizedExtraField u2=new UnrecognizedExtraField();
  u2.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u2.setLocalFileDataData(new byte[]{1});
  ze.addAsFirstExtraField(u2);
  byte[] data2=ze.getExtra();
  ZipExtraField[] result=ze.getExtraFields();
  assertEquals("second pass",2,result.length);
  assertSame(u2,result[0]);
  assertSame(a,result[1]);
  assertEquals("length second pass",data1.length + 1,data2.length);
  UnrecognizedExtraField u3=new UnrecognizedExtraField();
  u3.setHeaderId(new ZipShort(2));
  u3.setLocalFileDataData(new byte[]{1});
  ze.addAsFirstExtraField(u3);
  result=ze.getExtraFields();
  assertEquals("third pass",3,result.length);
  assertSame(u3,result[0]);
  assertSame(u2,result[1]);
  assertSame(a,result[2]);
}

</code></pre>

<pre class="type-8 type-4 type-15 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test handling of extra fields
 */
@Test public void testExtraFields(){
  AsiExtraField a=new AsiExtraField();
  a.setDirectory(true);
  a.setMode(0755);
  UnrecognizedExtraField u=new UnrecognizedExtraField();
  u.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u.setLocalFileDataData(new byte[0]);
  ZipEntry ze=new ZipEntry("test/");
  ze.setExtraFields(new ZipExtraField[]{a,u});
  byte[] data1=ze.getExtra();
  ZipExtraField[] result=ze.getExtraFields();
  assertEquals("first pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u,result[1]);
  UnrecognizedExtraField u2=new UnrecognizedExtraField();
  u2.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u2.setLocalFileDataData(new byte[]{1});
  ze.addExtraField(u2);
  byte[] data2=ze.getExtra();
  result=ze.getExtraFields();
  assertEquals("second pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u2,result[1]);
  assertEquals("length second pass",data1.length + 1,data2.length);
  UnrecognizedExtraField u3=new UnrecognizedExtraField();
  u3.setHeaderId(new ZipShort(2));
  u3.setLocalFileDataData(new byte[]{1});
  ze.addExtraField(u3);
  result=ze.getExtraFields();
  assertEquals("third pass",3,result.length);
  ze.removeExtraField(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  byte[] data3=ze.getExtra();
  result=ze.getExtraFields();
  assertEquals("fourth pass",2,result.length);
  assertSame(a,result[0]);
  assertSame(u3,result[1]);
  assertEquals("length fourth pass",data2.length,data3.length);
  try {
    ze.removeExtraField(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
    fail("should be no such element");
  }
 catch (  java.util.NoSuchElementException nse) {
  }
}

</code></pre>

<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnixMode(){
  ZipEntry ze=new ZipEntry("foo");
  assertEquals(0,ze.getPlatform());
  ze.setUnixMode(0755);
  assertEquals(3,ze.getPlatform());
  assertEquals(0755,(ze.getExternalAttributes() >> 16) & 0xFFFF);
  assertEquals(0,ze.getExternalAttributes() & 0xFFFF);
  ze.setUnixMode(0444);
  assertEquals(3,ze.getPlatform());
  assertEquals(0444,(ze.getExternalAttributes() >> 16) & 0xFFFF);
  assertEquals(1,ze.getExternalAttributes() & 0xFFFF);
  ze=new ZipEntry("foo/");
  assertEquals(0,ze.getPlatform());
  ze.setUnixMode(0777);
  assertEquals(3,ze.getPlatform());
  assertEquals(0777,(ze.getExternalAttributes() >> 16) & 0xFFFF);
  assertEquals(0x10,ze.getExternalAttributes() & 0xFFFF);
  ze.setUnixMode(0577);
  assertEquals(3,ze.getPlatform());
  assertEquals(0577,(ze.getExternalAttributes() >> 16) & 0xFFFF);
  assertEquals(0x11,ze.getExternalAttributes() & 0xFFFF);
}

</code></pre>

<pre class="type-4 type-15 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test handling of extra fields via central directory
 */
@Test public void testExtraFieldMerging(){
  AsiExtraField a=new AsiExtraField();
  a.setDirectory(true);
  a.setMode(0755);
  UnrecognizedExtraField u=new UnrecognizedExtraField();
  u.setHeaderId(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER);
  u.setLocalFileDataData(new byte[0]);
  ZipEntry ze=new ZipEntry("test/");
  ze.setExtraFields(new ZipExtraField[]{a,u});
  byte[] b=ExtraFieldUtilsTest.UNRECOGNIZED_HEADER.getBytes();
  ze.setCentralDirectoryExtra(new byte[]{b[0],b[1],1,0,127});
  ZipExtraField[] result=ze.getExtraFields();
  assertEquals("first pass",2,result.length);
  assertSame(a,result[0]);
  assertEquals(ExtraFieldUtilsTest.UNRECOGNIZED_HEADER,result[1].getHeaderId());
  assertEquals(new ZipShort(0),result[1].getLocalFileDataLength());
  assertEquals(new ZipShort(1),result[1].getCentralDirectoryLength());
  ze.setCentralDirectoryExtra(new byte[]{2,0,0,0});
  result=ze.getExtraFields();
  assertEquals("second pass",3,result.length);
  ze.setExtra(new byte[]{2,0,1,0,127});
  result=ze.getExtraFields();
  assertEquals("third pass",3,result.length);
  assertSame(a,result[0]);
  assertEquals(new ZipShort(2),result[2].getHeaderId());
  assertEquals(new ZipShort(1),result[2].getLocalFileDataLength());
  assertEquals(new ZipShort(0),result[2].getCentralDirectoryLength());
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for
 * <a href="https://issues.apache.org/jira/browse/COMPRESS-94"
 * >COMPRESS-94</a>.
 */
@Test public void testNotEquals(){
  ZipEntry entry1=new ZipEntry("foo");
  ZipEntry entry2=new ZipEntry("bar");
  assertFalse(entry1.equals(entry2));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
