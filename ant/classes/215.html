<h3 style="margin:0px">Class: org.apache.tools.ant.types.selectors.ModifiedSelectorTest (39 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(21)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(4)</kbd></button>&nbsp;<button id="16"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('16')" data-toggle="tooltip" title="Is an empty test case"><kbd id="tag-16"class="label-info"style="display: inline-block;font-size:7pt" >EmptyTester&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  Project prj=selectorRule.getProject();
  testclasses=new Path(prj,prj.getProperty("build.tests.value"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEqualComparator(){
  EqualComparator comp=new EqualComparator();
  doTest(comp);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCustomAlgorithm(){
  String algo=getAlgoName("org.apache.tools.ant.types.selectors.modifiedselector.HashvalueAlgorithm");
  assertTrue("Wrong algorithm used: " + algo,algo.startsWith("HashvalueAlgorithm"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEqualComparatorViaSelector(){
  ModifiedSelector s=new ModifiedSelector();
  ModifiedSelector.ComparatorName compName=new ModifiedSelector.ComparatorName();
  compName.setValue("equal");
  s.setComparator(compName);
  try {
    performTests(s,"TTTTTTTTTTTT");
  }
  finally {
    s.getCache().delete();
  }
}

</code></pre>

<pre class="type-7 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("not yet supported see note in selector") public void testRuleComparatorViaSelector(){
  ModifiedSelector s=new ModifiedSelector();
  ModifiedSelector.ComparatorName compName=new ModifiedSelector.ComparatorName();
  compName.setValue("rule");
  s.setComparator(compName);
  try {
    performTests(s,"TTTTTTTTTTTT");
  }
  finally {
    s.getCache().delete();
  }
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks whether a cache file is created. 
 */
@Test public void testCreatePropertiesCacheDirect(){
  File cachefile=new File(selectorRule.getProject().getBaseDir(),"cachefile.properties");
  PropertiesfileCache cache=new PropertiesfileCache();
  cache.setCachefile(cachefile);
  cache.put("key","value");
  cache.save();
  assertTrue("Cachefile not created.",cachefile.exists());
  cache.delete();
  assertFalse("Cachefile not deleted.",cachefile.exists());
}

</code></pre>

<pre class="type-11 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Propertycache must have a set 'cachefile' attribute.
 * The default in ModifiedSelector "cache.properties" is set by the selector.
 */
@Test public void testPropcacheInvalid(){
  Cache cache=new PropertiesfileCache();
  if (cache.isValid())   fail("PropertyfilesCache does not check its configuration.");
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDigestAlgorithmMD5(){
  DigestAlgorithm algo=new DigestAlgorithm();
  algo.setAlgorithm("MD5");
  doTest(algo);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDelayUpdateBuildFinished(){
  doDelayUpdateTest(3);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testResourceSelectorSelresFalse(){
  BFT bft=new BFT();
  bft.doTarget("modifiedselectortest-ResourceSelresFalse");
  bft.deleteCachefile();
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDelayUpdateTaskFinished(){
  doDelayUpdateTest(1);
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testChecksumAlgorithmCRC(){
  ChecksumAlgorithm algo=new ChecksumAlgorithm();
  algo.setAlgorithm("CRC");
  doTest(algo);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCustomAlgorithm2(){
  String algo=getAlgoName("org.apache.tools.ant.types.selectors.MockAlgorithm");
  assertTrue("Wrong algorithm used: " + algo,algo.startsWith("MockAlgorithm"));
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDelayUpdateTargetFinished(){
  doDelayUpdateTest(2);
}

</code></pre>

<pre class="type-16 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is an empty test case
- Is not executed with the test suite
"></span><br>
@Test @Ignore("same logic as on algorithm, no testcases created") public void testCustomCache(){
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDigestAlgorithmSHA(){
  DigestAlgorithm algo=new DigestAlgorithm();
  algo.setAlgorithm("SHA");
  doTest(algo);
}

</code></pre>

<pre class="type-8 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test right use of cache names. 
 */
@Test public void testValidateWrongCache(){
  String name="this-is-not-a-valid-cache-name";
  try {
    ModifiedSelector.CacheName cacheName=new ModifiedSelector.CacheName();
    cacheName.setValue(name);
    fail("CacheSelector.CacheName accepted invalid value.");
  }
 catch (  BuildException be) {
    assertEquals(name + " is not a legal value for this attribute",be.getMessage());
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testResourceSelectorSelresTrue(){
  BFT bft=new BFT();
  bft.doTarget("modifiedselectortest-ResourceSelresTrue");
  AntAssert.assertContains("does not provide an InputStream",bft.getLog());
  bft.deleteCachefile();
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testChecksumAlgorithm(){
  ChecksumAlgorithm algo=new ChecksumAlgorithm();
  doTest(algo);
}

</code></pre>

<pre class="type-8 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test right use of cache names. 
 */
@Test public void testValidateWrongAlgorithm(){
  String name="this-is-not-a-valid-algorithm-name";
  try {
    ModifiedSelector.AlgorithmName algoName=new ModifiedSelector.AlgorithmName();
    algoName.setValue(name);
    fail("CacheSelector.AlgorithmName accepted invalid value.");
  }
 catch (  BuildException be) {
    assertEquals(name + " is not a legal value for this attribute",be.getMessage());
  }
}

</code></pre>

<pre class="type-10 type-2 type-4 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomClasses(){
  Assume.assumeNotNull("Ant home not set",selectorRule.getProject().getProperty("ant.home"));
  BFT bft=new BFT();
  bft.setUp();
  try {
    bft.doTarget("modifiedselectortest-customClasses");
    String fsFullValue=bft.getProperty("fs.full.value");
    String fsModValue=bft.getProperty("fs.mod.value");
    assertNotNull("'fs.full.value' must be set.",fsFullValue);
    assertTrue("'fs.full.value' must not be null.",!"".equals(fsFullValue));
    assertTrue("'fs.full.value' must contain ant.bat.",fsFullValue.indexOf("ant.bat") > -1);
    assertNotNull("'fs.mod.value' must be set.",fsModValue);
    assertTrue("'fs.mod.value' must be empty.","".equals(fsModValue));
  }
  finally {
    bft.doTarget("modifiedselectortest-scenario-clean");
    bft.deletePropertiesfile();
    bft.tearDown();
  }
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPropertyfileCache(){
  PropertiesfileCache cache=new PropertiesfileCache();
  File cachefile=new File("cache.properties");
  cache.setCachefile(cachefile);
  doTest(cache);
  assertFalse("Cache file not deleted.",cachefile.exists());
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHashvalueAlgorithm(){
  HashvalueAlgorithm algo=new HashvalueAlgorithm();
  doTest(algo);
}

</code></pre>

<pre class="type-8 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIllegalCustomAlgorithm(){
  try {
    getAlgoName("java.lang.Object");
    fail("Illegal classname used.");
  }
 catch (  BuildException e) {
    assertEquals("Wrong exception message.","Specified class (java.lang.Object) is not an Algorithm.",e.getMessage());
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether the seldirs attribute is used.
 */
@Test public void testSeldirs(){
  ModifiedSelector s=new ModifiedSelector();
  StringBuffer sbTrue=new StringBuffer();
  StringBuffer sbFalse=new StringBuffer();
  for (int i=0; i < selectorRule.getFiles().length; i++) {
    if (selectorRule.getFiles()[i].isDirectory()) {
      sbTrue.append("T");
      sbFalse.append("F");
    }
 else {
      sbTrue.append("T");
      sbFalse.append("T");
    }
  }
  s.setSeldirs(true);
  performTests(s,sbTrue.toString());
  s.getCache().delete();
  s.setSeldirs(false);
  performTests(s,sbFalse.toString());
  s.getCache().delete();
  s.getCache().delete();
}

</code></pre>

<pre class="type-8 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonExistentCustomAlgorithm(){
  try {
    getAlgoName("non.existent.custom.Algorithm");
    fail("does 'non.existent.custom.Algorithm' really exist?");
  }
 catch (  BuildException e) {
    assertEquals("Wrong exception message.","Specified class (non.existent.custom.Algorithm) not found.",e.getMessage());
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testRuleComparator(){
  RuleBasedCollator comp=(RuleBasedCollator)RuleBasedCollator.getInstance();
  doTest(comp);
}

</code></pre>

<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Complex test scenario using default values (DigestAlgorithm with MD5,
 * PropertiesfileCache with file=cache.properties, EqualComparator
 * and update=true). <ol>
 * <li> try fist time --> should select all </li>
 * <li> try second time --> should select no files (only directories) </li>
 * <li> modify timestamp of one file and content of a nother one </li>
 * <li> try third time --> should select only the file with modified
 * content </li>
 */
@Test public void testScenario1(){
  BFT bft=null;
  ModifiedSelector s=null;
  try {
    String results;
    s=new ModifiedSelector();
    performTests(s,"TTTTTTTTTTTT");
    performTests(s,"TFFFFFFFFFFT");
    String f2name="tar/bz2/asf-logo-huge.tar.bz2";
    String f3name="asf-logo.gif.md5";
    String f4name="copy.filterset.filtered";
    bft=new BFT();
    bft.writeProperties("f2name=" + f2name);
    bft.writeProperties("f3name=" + f3name);
    bft.writeProperties("f4name=" + f4name);
    bft.doTarget("modifiedselectortest-makeDirty");
    results=selectorRule.selectionString(s);
    StringBuffer expected=new StringBuffer();
    for (int i=0; i < selectorRule.getFiles().length; i++) {
      String ch="F";
      if (selectorRule.getFiles()[i].isDirectory())       ch="T";
      if (selectorRule.getFilenames()[i].equalsIgnoreCase(f3name))       ch="T";
      if (selectorRule.getFilenames()[i].equalsIgnoreCase(f4name))       ch="T";
      expected.append(ch);
    }
    assertEquals("Wrong files selected. Differing files: " + resolve(diff(expected.toString(),results)),expected.toString(),results);
  }
  finally {
    if (s != null)     s.getCache().delete();
    if (bft != null)     bft.deletePropertiesfile();
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScenarioCoreSelectorDefaults(){
  Assume.assumeNotNull("Ant home not set",selectorRule.getProject().getProperty("ant.home"));
  doScenarioTest("modifiedselectortest-scenario-coreselector-defaults","cache.properties");
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testResourceSelectorSimple(){
  BFT bft=new BFT();
  bft.doTarget("modifiedselectortest-ResourceSimple");
  bft.deleteCachefile();
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScenarioCoreSelectorSettings(){
  Assume.assumeNotNull("Ant home not set",selectorRule.getProject().getProperty("ant.home"));
  doScenarioTest("modifiedselectortest-scenario-coreselector-settings","core.cache.properties");
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testResourceSelectorScenarioSimple(){
  Assume.assumeNotNull("Ant home not set",selectorRule.getProject().getProperty("ant.home"));
  BFT bft=new BFT();
  bft.doTarget("modifiedselectortest-scenario-resourceSimple");
  bft.doTarget("modifiedselectortest-scenario-clean");
  bft.deleteCachefile();
}

</code></pre>

<pre class="type-4 type-5 type-13 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This scenario is based on scenario 1, but does not use any
 * default value and its based on <custom> selector. Used values are:<ul>
 * <li><b>Cache: </b> Propertyfile,
 * cachefile={java.io.tmpdir}/mycache.txt </li>
 * <li><b>Algorithm: </b> Digest
 * algorithm=SHA, Provider=null </li>
 * <li><b>Comparator: </b> java.text.RuleBasedCollator
 * <li><b>Update: </b> true </li>
 */
@Test @Ignore("RuleBasedCollator not yet supported - see Selector:375 note") public void testScenario2(){
  ExtendSelector s=new ExtendSelector();
  BFT bft=new BFT();
  String cachefile=System.getProperty("java.io.tmpdir") + "/mycache.txt";
  try {
    s.setClassname("org.apache.tools.ant.types.selectors.modifiedselector.ModifiedSelector");
    s.addParam(createParam("cache.cachefile",cachefile));
    s.addParam(createParam("cache","propertyfile"));
    s.addParam(createParam("update","true"));
    s.addParam(createParam("comparator","rule"));
    s.addParam(createParam("algorithm.name","sha"));
    s.addParam(createParam("algorithm","digest"));
    performTests(s,"TTTTTTTTTTTT");
    performTests(s,"TFFFFFFFFFFT");
    String f2name="tar/bz2/asf-logo-huge.tar.bz2";
    String f3name="asf-logo.gif.md5";
    String f4name="copy.filterset.filtered";
    bft.writeProperties("f2name=" + f2name);
    bft.writeProperties("f3name=" + f3name);
    bft.writeProperties("f4name=" + f4name);
    bft.doTarget("modifiedselectortest-makeDirty");
    String results=selectorRule.selectionString(s);
    StringBuffer expected=new StringBuffer();
    for (int i=0; i < selectorRule.getFilenames().length; i++) {
      String ch="F";
      if (selectorRule.getFiles()[i].isDirectory())       ch="T";
      if (selectorRule.getFilenames()[i].equalsIgnoreCase(f3name))       ch="T";
      if (selectorRule.getFilenames()[i].equalsIgnoreCase(f4name))       ch="T";
      expected.append(ch);
    }
    assertEquals("Wrong files selected. Differing files: " + resolve(diff(expected.toString(),results)),expected.toString(),results);
  }
  finally {
    (new java.io.File(cachefile)).delete();
    bft.deletePropertiesfile();
  }
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * In earlier implementations there were problems with the <i>order</i>
 * of the <param>s. The scenario was <pre>
 * <custom class="ModifiedSelector">
 * <param name="cache.cachefile" value="mycache.properties" />
 * <param name="cache" value="propertyfiles" />
 * </custom>
 * </pre> It was important first to set the cache and then to set
 * the cache's configuration parameters. That results in the reorganized
 * configure() method of ModifiedSelector. This testcase tests that.
 */
@Test public void testCreatePropertiesCacheViaCustomSelector(){
  File cachefile=FILE_UTILS.createTempFile("tmp-cache-",".properties",null,false,false);
  ExtendSelector s=new ExtendSelector();
  s.setClassname("org.apache.tools.ant.types.selectors.modifiedselector.ModifiedSelector");
  s.addParam(createParam("update","true"));
  s.addParam(createParam("cache.cachefile",cachefile.getAbsolutePath()));
  s.addParam(createParam("cache","propertyfile"));
  selectorRule.selectionString(s);
  assertTrue("Cache file is not created.",cachefile.exists());
  cachefile.delete();
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks whether a cache file is created. 
 */
@Test public void testCreatePropertiesCacheViaModifiedSelector(){
  File cachefile=new File(selectorRule.getProject().getBaseDir(),"cachefile.properties");
  ModifiedSelector s=new ModifiedSelector();
  s.setDelayUpdate(false);
  s.addParam("cache.cachefile",cachefile);
  ModifiedSelector.CacheName cacheName=new ModifiedSelector.CacheName();
  cacheName.setValue("propertyfile");
  s.setCache(cacheName);
  s.setUpdate(true);
  selectorRule.selectionString(s);
  assertTrue("Cache file is not created.",cachefile.exists());
  cachefile.delete();
}

</code></pre>

<pre class="type-16 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is an empty test case
- Is not executed with the test suite
"></span><br>
@Test @Ignore("same logic as on algorithm, no testcases created") public void testCustomComparator(){
}

</code></pre>

<pre class="type-8 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test right use of comparator names. 
 */
@Test public void testValidateWrongComparator(){
  String name="this-is-not-a-valid-comparator-name";
  try {
    ModifiedSelector.ComparatorName compName=new ModifiedSelector.ComparatorName();
    compName.setValue(name);
    fail("ModifiedSelector.ComparatorName accepted invalid value.");
  }
 catch (  BuildException be) {
    assertEquals(name + " is not a legal value for this attribute",be.getMessage());
  }
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testScenarioCustomSelectorSettings(){
  Assume.assumeNotNull("Ant home not set",selectorRule.getProject().getProperty("ant.home"));
  doScenarioTest("modifiedselectortest-scenario-customselector-settings","core.cache.properties");
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testChecksumAlgorithmAdler(){
  ChecksumAlgorithm algo=new ChecksumAlgorithm();
  algo.setAlgorithm("Adler");
  doTest(algo);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
