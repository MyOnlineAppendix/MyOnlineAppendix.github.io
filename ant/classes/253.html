<h3 style="margin:0px">Class: org.apache.tools.zip.AsiExtraFieldTest (4 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test file mode magic.
 */
@Test public void testModes(){
  AsiExtraField a=new AsiExtraField();
  a.setMode(0123);
  assertEquals("plain file",0100123,a.getMode());
  a.setDirectory(true);
  assertEquals("directory",040123,a.getMode());
  a.setLinkedFile("test");
  assertEquals("symbolic link",0120123,a.getMode());
}

</code></pre>

<pre class="type-4 type-15 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClone(){
  AsiExtraField s1=new AsiExtraField();
  s1.setUserId(42);
  s1.setGroupId(12);
  s1.setLinkedFile("foo");
  s1.setMode(0644);
  s1.setDirectory(true);
  AsiExtraField s2=(AsiExtraField)s1.clone();
  assertNotSame(s1,s2);
  assertEquals(s1.getUserId(),s2.getUserId());
  assertEquals(s1.getGroupId(),s2.getGroupId());
  assertEquals(s1.getLinkedFile(),s2.getLinkedFile());
  assertEquals(s1.getMode(),s2.getMode());
  assertEquals(s1.isDirectory(),s2.isDirectory());
}

</code></pre>

<pre class="type-8 type-2 type-4 type-5 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test reparse
 */
@Test public void testReparse() throws Exception {
  byte[] data={(byte)0xC6,0x02,0x78,(byte)0xB6,0123,(byte)0x80,0,0,0,0,5,0,6,0};
  AsiExtraField a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length plain file",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("plain file, no link",!a.isLink());
  assertTrue("plain file, no dir",!a.isDirectory());
  assertEquals("mode plain file",FILE_FLAG | 0123,a.getMode());
  assertEquals("uid plain file",5,a.getUserId());
  assertEquals("gid plain file",6,a.getGroupId());
  data=new byte[]{0x75,(byte)0x8E,0x41,(byte)0xFD,0123,(byte)0xA0,4,0,0,0,5,0,6,0,(byte)'t',(byte)'e',(byte)'s',(byte)'t'};
  a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length link",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("link, is link",a.isLink());
  assertTrue("link, no dir",!a.isDirectory());
  assertEquals("mode link",LINK_FLAG | 0123,a.getMode());
  assertEquals("uid link",5,a.getUserId());
  assertEquals("gid link",6,a.getGroupId());
  assertEquals("test",a.getLinkedFile());
  data=new byte[]{(byte)0x8E,0x01,(byte)0xBF,(byte)0x0E,0123,(byte)0x40,0,0,0,0,5,0,6,0};
  a=new AsiExtraField();
  a.parseFromLocalFileData(data,0,data.length);
  assertEquals("length dir",data.length,a.getLocalFileDataLength().getValue());
  assertTrue("dir, no link",!a.isLink());
  assertTrue("dir, is dir",a.isDirectory());
  assertEquals("mode dir",DIR_FLAG | 0123,a.getMode());
  assertEquals("uid dir",5,a.getUserId());
  assertEquals("gid dir",6,a.getGroupId());
  data=new byte[]{0,0,0,0,0123,(byte)0x40,0,0,0,0,5,0,6,0};
  a=new AsiExtraField();
  try {
    a.parseFromLocalFileData(data,0,data.length);
    fail("should raise bad CRC exception");
  }
 catch (  Exception e) {
    assertEquals("bad CRC checksum 0 instead of ebf018e",e.getMessage());
  }
}

</code></pre>

<pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test content.
 */
@Test public void testContent(){
  AsiExtraField a=new AsiExtraField();
  a.setMode(0123);
  a.setUserId(5);
  a.setGroupId(6);
  byte[] b=a.getLocalFileDataData();
  byte[] expect={(byte)0xC6,0x02,0x78,(byte)0xB6,0123,(byte)0x80,0,0,0,0,5,0,6,0};
  assertEquals("no link",expect.length,b.length);
  for (int i=0; i < expect.length; i++) {
    assertEquals("no link, byte " + i,expect[i],b[i]);
  }
  a.setLinkedFile("test");
  expect=new byte[]{0x75,(byte)0x8E,0x41,(byte)0xFD,0123,(byte)0xA0,4,0,0,0,5,0,6,0,(byte)'t',(byte)'e',(byte)'s',(byte)'t'};
  b=a.getLocalFileDataData();
  assertEquals("no link",expect.length,b.length);
  for (int i=0; i < expect.length; i++) {
    assertEquals("no link, byte " + i,expect[i],b[i]);
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
