<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.flume.TestContext </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context=new Context();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.TestCounterGroup </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  counterGroup=new CounterGroup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.agent.embedded.TestEmbeddedAgent </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  headers=Maps.newHashMap();
  headers.put("key1","value1");
  body="body".getBytes(Charsets.UTF_8);
  int port=findFreePort();
  eventCollector=new EventCollector();
  Responder responder=new SpecificResponder(AvroSourceProtocol.class,eventCollector);
  nettyServer=new NettyServer(responder,new InetSocketAddress(HOSTNAME,port));
  nettyServer.start();
  Thread.sleep(1000L);
  properties=Maps.newHashMap();
  properties.put("channel.type","memory");
  properties.put("channel.capacity","200");
  properties.put("sinks","sink1 sink2");
  properties.put("sink1.type","avro");
  properties.put("sink2.type","avro");
  properties.put("sink1.hostname",HOSTNAME);
  properties.put("sink1.port",String.valueOf(port));
  properties.put("sink2.hostname",HOSTNAME);
  properties.put("sink2.port",String.valueOf(port));
  properties.put("processor.type","load_balance");
  agent=new EmbeddedAgent("test-" + serialNumber.incrementAndGet());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.agent.embedded.TestEmbeddedAgentConfiguration </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  properties=Maps.newHashMap();
  properties.put("source.type",EmbeddedAgentConfiguration.SOURCE_TYPE_EMBEDDED);
  properties.put("channel.type","memory");
  properties.put("channel.capacity","200");
  properties.put("sinks","sink1 sink2");
  properties.put("sink1.type","avro");
  properties.put("sink2.type","avro");
  properties.put("sink1.hostname","sink1.host");
  properties.put("sink1.port","2");
  properties.put("sink2.hostname","sink2.host");
  properties.put("sink2.port","2");
  properties.put("processor.type","load_balance");
  properties.put("source.interceptors","i1");
  properties.put("source.interceptors.i1.type","timestamp");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.agent.embedded.TestEmbeddedAgentEmbeddedSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  properties=Maps.newHashMap();
  properties.put("source.type",EmbeddedAgentConfiguration.SOURCE_TYPE_EMBEDDED);
  properties.put("channel.type","memory");
  properties.put("sinks","sink1 sink2");
  properties.put("sink1.type","avro");
  properties.put("sink2.type","avro");
  properties.put("processor.type","load_balance");
  sourceRunner=mock(SourceRunner.class);
  channel=mock(Channel.class);
  sinkRunner=mock(SinkRunner.class);
  source=mock(EmbeddedSource.class);
  when(sourceRunner.getSource()).thenReturn(source);
  when(sourceRunner.getLifecycleState()).thenReturn(LifecycleState.START);
  when(channel.getLifecycleState()).thenReturn(LifecycleState.START);
  when(sinkRunner.getLifecycleState()).thenReturn(LifecycleState.START);
  config=new MaterializedConfiguration(){
    @Override public ImmutableMap<String,SourceRunner> getSourceRunners(){
      Map<String,SourceRunner> result=Maps.newHashMap();
      result.put("source",sourceRunner);
      return ImmutableMap.copyOf(result);
    }
    @Override public ImmutableMap<String,SinkRunner> getSinkRunners(){
      Map<String,SinkRunner> result=Maps.newHashMap();
      result.put("sink",sinkRunner);
      return ImmutableMap.copyOf(result);
    }
    @Override public ImmutableMap<String,Channel> getChannels(){
      Map<String,Channel> result=Maps.newHashMap();
      result.put("channel",channel);
      return ImmutableMap.copyOf(result);
    }
    @Override public void addSourceRunner(    String name,    SourceRunner sourceRunner){
      throw new UnsupportedOperationException();
    }
    @Override public void addSinkRunner(    String name,    SinkRunner sinkRunner){
      throw new UnsupportedOperationException();
    }
    @Override public void addChannel(    String name,    Channel channel){
      throw new UnsupportedOperationException();
    }
  }
;
  agent=new EmbeddedAgent(new MaterializedConfigurationProvider(){
    public MaterializedConfiguration get(    String name,    Map<String,String> properties){
      return config;
    }
  }
,"dummy");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.agent.embedded.TestEmbeddedAgentState </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  agent=new EmbeddedAgent("dummy");
  properties=Maps.newHashMap();
  properties.put("source.type",EmbeddedAgentConfiguration.SOURCE_TYPE_EMBEDDED);
  properties.put("channel.type","memory");
  properties.put("sinks","sink1 sink2");
  properties.put("sink1.type","avro");
  properties.put("sink2.type","avro");
  properties.put("sink1.hostname",HOSTNAME);
  properties.put("sink1.port","0");
  properties.put("sink2.hostname",HOSTNAME);
  properties.put("sink2.port","0");
  properties.put("processor.type","load_balance");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.api.TestThriftRpcClient </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  props.setProperty("hosts","h1");
  port=random.nextInt(40000) + 1024;
  props.setProperty(RpcClientConfigurationConstants.CONFIG_CLIENT_TYPE,"thrift");
  props.setProperty("hosts.h1","0.0.0.0:" + String.valueOf(port));
  props.setProperty(RpcClientConfigurationConstants.CONFIG_BATCH_SIZE,"10");
  props.setProperty(RpcClientConfigurationConstants.CONFIG_REQUEST_TIMEOUT,"2000");
  props.setProperty(ThriftRpcClient.CONFIG_PROTOCOL,ThriftRpcClient.COMPACT_PROTOCOL);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.AbstractBasicChannelSemanticsTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  Preconditions.checkState(channel == null,"test cleanup failed!");
  Preconditions.checkState(executor == null,"test cleanup failed!");
  channel=new TestChannel();
  executor=Executors.newCachedThreadPool();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestMemoryChannel </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  channel=new MemoryChannel();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestMemoryChannelConcurrency </h4><pre class="type-4 type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Is an empty test case
"></span><br>
@Before public void setUp(){
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestMemoryChannelTransaction </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  channel=new MemoryChannel();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestMultiplexingChannelSelector </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  channels.clear();
  channels.add(MockChannel.createMockChannel("ch1"));
  channels.add(MockChannel.createMockChannel("ch2"));
  channels.add(MockChannel.createMockChannel("ch3"));
  config.put("type","multiplexing");
  config.put("header","myheader");
  config.put("optional.foo","ch2 ch3");
  config.put("optional.xyz","ch1 ch3");
  config.put("optional.zebra","ch1 ch2");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestReplicatingChannelSelector </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  channels.clear();
  channels.add(MockChannel.createMockChannel("ch1"));
  channels.add(MockChannel.createMockChannel("ch2"));
  channels.add(MockChannel.createMockChannel("ch3"));
  channels.add(MockChannel.createMockChannel("ch4"));
  selector=ChannelSelectorFactory.create(channels,new HashMap<String,String>());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.TestSpillableMemoryChannel </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  channel=new SpillableMemoryChannel();
  channel.setName("spillChannel-" + UUID.randomUUID());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestCheckpoint </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws IOException {
  file=File.createTempFile("Checkpoint","");
  inflightPuts=File.createTempFile("inflightPuts","");
  inflightTakes=File.createTempFile("inflightTakes","");
  queueSet=File.createTempFile("queueset","");
  Assert.assertTrue(file.isFile());
  Assert.assertTrue(file.canWrite());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestCheckpointRebuilder </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestEventQueueBackingStoreFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  baseDir=Files.createTempDir();
  checkpoint=new File(baseDir,"checkpoint");
  inflightTakes=new File(baseDir,"takes");
  inflightPuts=new File(baseDir,"puts");
  queueSetDir=new File(baseDir,"queueset");
  TestUtils.copyDecompressed("fileformat-v2-checkpoint.gz",checkpoint);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFileChannel </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFileChannelBase </h4><pre class="type-12 type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  baseDir=Files.createTempDir();
  checkpointDir=new File(baseDir,"chkpt");
  backupDir=new File(baseDir,"backup");
  uncompressedBackupCheckpoint=new File(backupDir,"checkpoint");
  compressedBackupCheckpoint=new File(backupDir,"checkpoint.snappy");
  Assert.assertTrue(checkpointDir.mkdirs() || checkpointDir.isDirectory());
  Assert.assertTrue(backupDir.mkdirs() || backupDir.isDirectory());
  dataDirs=new File[3];
  dataDir="";
  for (int i=0; i < dataDirs.length; i++) {
    dataDirs[i]=new File(baseDir,"data" + (i + 1));
    Assert.assertTrue(dataDirs[i].mkdirs() || dataDirs[i].isDirectory());
    dataDir+=dataDirs[i].getAbsolutePath() + ",";
  }
  dataDir=dataDir.substring(0,dataDir.length() - 1);
  channel=createFileChannel();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFileChannelFormatRegression </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFileChannelRestart </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFileChannelRollback </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestFlumeEventQueue </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  backingStore=backingStoreSupplier.get();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestIntegration </h4><pre class="type-12 type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  baseDir=Files.createTempDir();
  checkpointDir=new File(baseDir,"chkpt");
  Assert.assertTrue(checkpointDir.mkdirs() || checkpointDir.isDirectory());
  dataDirs=new File[3];
  dataDir="";
  for (int i=0; i < dataDirs.length; i++) {
    dataDirs[i]=new File(baseDir,"data" + (i + 1));
    Assert.assertTrue(dataDirs[i].mkdirs() || dataDirs[i].isDirectory());
    dataDir+=dataDirs[i].getAbsolutePath() + ",";
  }
  dataDir=dataDir.substring(0,dataDir.length() - 1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestLog </h4><pre class="type-12 type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws IOException {
  transactionID=0;
  checkpointDir=Files.createTempDir();
  FileUtils.forceDeleteOnExit(checkpointDir);
  Assert.assertTrue(checkpointDir.isDirectory());
  dataDirs=new File[3];
  for (int i=0; i < dataDirs.length; i++) {
    dataDirs[i]=Files.createTempDir();
    Assert.assertTrue(dataDirs[i].isDirectory());
  }
  log=new Log.Builder().setCheckpointInterval(1L).setMaxFileSize(MAX_FILE_SIZE).setQueueSize(CAPACITY).setCheckpointDir(checkpointDir).setLogDirs(dataDirs).setCheckpointOnClose(false).setChannelName("testlog").build();
  log.replay();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.TestLogFile </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws IOException {
  fileID=1;
  transactionID=1L;
  dataDir=Files.createTempDir();
  dataFile=new File(dataDir,String.valueOf(fileID));
  Assert.assertTrue(dataDir.isDirectory());
  logFileWriter=LogFileFactory.getWriter(dataFile,fileID,Integer.MAX_VALUE,null,null,null,Long.MAX_VALUE,true,0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.encryption.TestAESCTRNoPaddingProvider </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  KeyGenerator keyGen=KeyGenerator.getInstance("AES");
  key=keyGen.generateKey();
  encryptor=CipherProviderFactory.getEncrypter(CipherProviderType.AESCTRNOPADDING.name(),key);
  decryptor=CipherProviderFactory.getDecrypter(CipherProviderType.AESCTRNOPADDING.name(),key,encryptor.getParameters());
  cipherProviderTestSuite=new CipherProviderTestSuite(encryptor,decryptor);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.encryption.TestFileChannelEncryption </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  super.setup();
  keyStorePasswordFile=new File(baseDir,"keyStorePasswordFile");
  Files.write("keyStorePassword",keyStorePasswordFile,Charsets.UTF_8);
  keyStoreFile=new File(baseDir,"keyStoreFile");
  Assert.assertTrue(keyStoreFile.createNewFile());
  keyAliasPassword=Maps.newHashMap();
  keyAliasPassword.putAll(EncryptionTestUtils.configureTestKeyStore(baseDir,keyStoreFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.file.encryption.TestJCEFileKeyProvider </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  baseDir=Files.createTempDir();
  keyStorePasswordFile=new File(baseDir,"keyStorePasswordFile");
  Files.write("keyStorePassword",keyStorePasswordFile,Charsets.UTF_8);
  keyAliasPassword=Maps.newHashMap();
  keyStoreFile=new File(baseDir,"keyStoreFile");
  Assert.assertTrue(keyStoreFile.createNewFile());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.jdbc.BaseJdbcChannelProviderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  derbyCtx.clear();
  derbyCtx.put(ConfigurationConstants.CONFIG_CREATE_SCHEMA,"true");
  derbyCtx.put(ConfigurationConstants.CONFIG_DATABASE_TYPE,"DERBY");
  derbyCtx.put(ConfigurationConstants.CONFIG_JDBC_DRIVER_CLASS,"org.apache.derby.jdbc.EmbeddedDriver");
  derbyCtx.put(ConfigurationConstants.CONFIG_PASSWORD,"");
  derbyCtx.put(ConfigurationConstants.CONFIG_USERNAME,"sa");
  File tmpDir=new File("target/test");
  tmpDir.mkdirs();
  File derbyLogFile=new File(tmpDir,"derbytest.log");
  String derbyLogFilePath=derbyLogFile.getCanonicalPath();
  derbyCtx.put(ConfigurationConstants.CONFIG_JDBC_SYSPROP_PREFIX + "derby.stream.error.file",derbyLogFilePath);
  File tempFile=File.createTempFile("temp","_db",tmpDir);
  String absFileName=tempFile.getCanonicalPath();
  tempFile.delete();
  derbyDbDir=new File(absFileName + "_dir");
  if (!derbyDbDir.exists()) {
    derbyDbDir.mkdirs();
  }
  derbyCtx.put(ConfigurationConstants.CONFIG_URL,"jdbc:derby:" + derbyDbDir.getCanonicalPath() + "/db;create=true");
  configureChannel(derbyCtx);
  LOGGER.info("Derby Properties: " + derbyCtx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.jdbc.TestDatabaseTypeEnum </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  enumMap.clear();
  enumMap.put(DBTYPE_OTHER,DatabaseType.OTHER);
  enumMap.put(DBTYPE_DERBY,DatabaseType.DERBY);
  enumMap.put(DBTYPE_MYSQL,DatabaseType.MYSQL);
  enumMap.put(DBTYPE_PGSQL,DatabaseType.POSTGRESQL);
  enumMap.put(DBTYPE_ORACLE,DatabaseType.ORACLE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.jdbc.TestTransactionIsolationLevelEnum </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  enumMap.clear();
  enumMap.put(TX_READ_UNCOMMITTED,TransactionIsolation.READ_UNCOMMITTED);
  enumMap.put(TX_READ_COMMITTED,TransactionIsolation.READ_COMMITTED);
  enumMap.put(TX_REPEATABLE_READ,TransactionIsolation.REPEATABLE_READ);
  enumMap.put(TX_SERIALIZABLE,TransactionIsolation.SERIALIZABLE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.channel.kafka.TestKafkaChannel </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  boolean topicFound=false;
  while (!topicFound) {
    topic=RandomStringUtils.randomAlphabetic(8);
    if (!usedTopics.contains(topic)) {
      usedTopics.add(topic);
      topicFound=true;
    }
  }
  try {
    createTopic(topic);
  }
 catch (  Exception e) {
  }
  Thread.sleep(2500);
  latch=new CountDownLatch(5);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.client.avro.TestBufferedLineReader </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  tmpDir=Files.createTempDir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.client.avro.TestReliableSpoolingFileEventReader </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException, InterruptedException {
  if (!WORK_DIR.isDirectory()) {
    Files.createParentDirs(new File(WORK_DIR,"dummy"));
  }
  for (int i=0; i < 4; i++) {
    File fileName=new File(WORK_DIR,"file" + i);
    StringBuilder sb=new StringBuilder();
    for (int j=0; j < i; j++) {
      sb.append("file" + i + "line"+ j+ "\n");
    }
    Files.write(sb.toString(),fileName,Charsets.UTF_8);
  }
  Thread.sleep(1500L);
  Files.write("\n",new File(WORK_DIR,"emptylineFile"),Charsets.UTF_8);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.client.avro.TestSpoolingFileLineReader </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  tmpDir=Files.createTempDir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.clients.log4jappender.TestLoadBalancingLog4jAppender </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initiate() throws InterruptedException {
  ch=new MemoryChannel();
  configureChannel();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.clients.log4jappender.TestLog4jAppender </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void initiate() throws Exception {
  int port=25430;
  source=new AvroSource();
  ch=new MemoryChannel();
  Configurables.configure(ch,new Context());
  Context context=new Context();
  context.put("port",String.valueOf(port));
  context.put("bind","localhost");
  Configurables.configure(source,context);
  File TESTFILE=new File(TestLog4jAppender.class.getClassLoader().getResource("flume-log4jtest.properties").getFile());
  FileReader reader=new FileReader(TESTFILE);
  props=new Properties();
  props.load(reader);
  reader.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.clients.log4jappender.TestLog4jAppenderWithAvro </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  URL schemaUrl=getClass().getClassLoader().getResource("myrecord.avsc");
  Files.copy(Resources.newInputStreamSupplier(schemaUrl),new File("/tmp/myrecord.avsc"));
  int port=25430;
  source=new AvroSource();
  ch=new MemoryChannel();
  Configurables.configure(ch,new Context());
  Context context=new Context();
  context.put("port",String.valueOf(port));
  context.put("bind","localhost");
  Configurables.configure(source,context);
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(ch);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
  source.start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.formatter.output.TestBucketPath </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  cal=Calendar.getInstance();
  cal.set(2012,5,23,13,46,33);
  cal.set(Calendar.MILLISECOND,234);
  headers=new HashMap<String,String>();
  headers.put("timestamp",String.valueOf(cal.getTimeInMillis()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.instrumentation.TestMonitoredCounterGroup </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  mbServer=ManagementFactory.getPlatformMBeanServer();
  random=new Random(System.nanoTime());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.instrumentation.kafka.KafkaSourceCounterTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  counter=new KafkaSourceCounter("test");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.interceptor.TestRegexExtractorInterceptor </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  fixtureBuilder=InterceptorBuilderFactory.newInstance(InterceptorType.REGEX_EXTRACTOR.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.lifecycle.TestLifecycleSupervisor </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  supervisor=new LifecycleSupervisor();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.node.TestAbstractZooKeeperConfigurationProvider </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  zkServer=new TestingServer();
  client=CuratorFrameworkFactory.newClient("localhost:" + zkServer.getPort(),new ExponentialBackoffRetry(1000,3));
  client.start();
  EnsurePath ensurePath=new EnsurePath(AGENT_PATH);
  ensurePath.ensure(client.getZookeeperClient());
  doSetUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.node.TestApplication </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  baseDir=Files.createTempDir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.node.TestPollingPropertiesFileConfigurationProvider </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  baseDir=Files.createTempDir();
  configFile=new File(baseDir,TESTFILE.getName());
  Files.copy(TESTFILE,configFile);
  eventBus=new EventBus("test");
  provider=new PollingPropertiesFileConfigurationProvider("host1",configFile,eventBus,1);
  provider.start();
  LifecycleController.waitForOneOf(provider,LifecycleState.START_OR_ERROR);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.node.TestPropertiesFileConfigurationProvider </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  provider=new PropertiesFileConfigurationProvider("test",TESTFILE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.serialization.TestLineDeserializer </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  StringBuilder sb=new StringBuilder();
  sb.append("line 1\n");
  sb.append("line 2\n");
  mini=sb.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.serialization.TestResettableFileInputStream </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  Files.createParentDirs(new File(WORK_DIR,"dummy"));
  file=File.createTempFile(getClass().getSimpleName(),".txt",WORK_DIR);
  logger.info("Data file: {}",file);
  meta=File.createTempFile(getClass().getSimpleName(),".avro",WORK_DIR);
  logger.info("PositionTracker meta file: {}",meta);
  meta.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.TestDefaultSinkFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sinkFactory=new DefaultSinkFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.TestLoggerSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sink=new LoggerSink();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.TestRollingFileSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  tmpDir=new File("/tmp/flume-rfs-" + System.currentTimeMillis() + "-"+ Thread.currentThread().getId());
  sink=new RollingFileSink();
  sink.setChannel(new MemoryChannel());
  tmpDir.mkdirs();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.TestThriftSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  sink=new ThriftSink();
  channel=new MemoryChannel();
  hostname="0.0.0.0";
  port=random.nextInt(50000) + 1024;
  Context context=new Context();
  context.put("hostname",hostname);
  context.put("port",String.valueOf(port));
  context.put("batch-size",String.valueOf(2));
  context.put("request-timeout",String.valueOf(2000L));
  context.put(ThriftRpcClient.CONFIG_PROTOCOL,ThriftRpcClient.COMPACT_PROTOCOL);
  sink.setChannel(channel);
  Configurables.configure(sink,context);
  Configurables.configure(channel,context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.AbstractElasticSearchSinkTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setFixedJodaTime(){
  DateTimeUtils.setCurrentMillisFixed(FIXED_TIME_MILLIS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.TestElasticSearchIndexRequestBuilderFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupFactory() throws Exception {
  serializer=new FakeEventSerializer();
  factory=new EventSerializerIndexRequestBuilderFactory(serializer){
    @Override IndexRequestBuilder prepareIndex(    Client client){
      return new IndexRequestBuilder(FAKE_CLIENT);
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.TestElasticSearchSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  initDefaults();
  createNodes();
  fixture=new ElasticSearchSink(true);
  fixture.setName("ElasticSearchSink-" + UUID.randomUUID().toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.TestElasticSearchSinkCreation </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sinkFactory=new DefaultSinkFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.TimeBasedIndexNameBuilderTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Context context=new Context();
  context.put(ElasticSearchSinkConstants.INDEX_NAME,"prefix");
  indexNameBuilder=new TimeBasedIndexNameBuilder();
  indexNameBuilder.configure(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.TimestampedEventTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setFixedJodaTime(){
  DateTimeUtils.setCurrentMillisFixed(FIXED_TIME_MILLIS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.client.RoundRobinListTest </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  fixture=new RoundRobinList<String>(Arrays.asList("test1","test2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.client.TestElasticSearchClientFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  initMocks(this);
  factory=new ElasticSearchClientFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.client.TestElasticSearchRestClient </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  initMocks(this);
  BytesReference bytesReference=mock(BytesReference.class);
  BytesStream bytesStream=mock(BytesStream.class);
  when(nameBuilder.getIndexName(any(Event.class))).thenReturn(INDEX_NAME);
  when(bytesReference.toBytesArray()).thenReturn(new BytesArray(MESSAGE_CONTENT));
  when(bytesStream.bytes()).thenReturn(bytesReference);
  when(serializer.getContentBuilder(any(Event.class))).thenReturn(bytesStream);
  fixture=new ElasticSearchRestClient(HOSTS,serializer,httpClient);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.elasticsearch.client.TestElasticSearchTransportClient </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  initMocks(this);
  BytesReference bytesReference=mock(BytesReference.class);
  BytesStream bytesStream=mock(BytesStream.class);
  when(nameBuilder.getIndexName(any(Event.class))).thenReturn("foo_index");
  when(bytesReference.toBytes()).thenReturn("{\"body\":\"test\"}".getBytes());
  when(bytesStream.bytes()).thenReturn(bytesReference);
  when(serializer.getContentBuilder(any(Event.class))).thenReturn(bytesStream);
  when(elasticSearchClient.prepareIndex(anyString(),anyString())).thenReturn(indexRequestBuilder);
  when(indexRequestBuilder.setSource(bytesReference)).thenReturn(indexRequestBuilder);
  fixture=new ElasticSearchTransportClient(elasticSearchClient,serializer);
  fixture.setBulkRequestBuilder(bulkRequestBuilder);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hbase.TestHBaseSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Most common context setup for unit tests using{@link SimpleHbaseEventSerializer}.
 */
@Before public void setUp() throws IOException {
  conf=new Configuration(testUtility.getConfiguration());
  ctx=new Context();
  testUtility.createTable(tableName.getBytes(),columnFamily.getBytes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hbase.TestHBaseSinkCreation </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sinkFactory=new DefaultSinkFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hdfs.TestAvroEventSerializer </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  file=File.createTempFile(getClass().getSimpleName(),"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hdfs.TestHDFSCompressedDataStream </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws Exception {
  this.file=new File("target/test/data/foo.gz");
  this.fileURI=file.getAbsoluteFile().toURI().toString();
  logger.info("File URI: {}",fileURI);
  Configuration conf=new Configuration();
  conf.set("fs.file.impl","org.apache.hadoop.fs.RawLocalFileSystem");
  Path path=new Path(fileURI);
  path.getFileSystem(conf);
  this.factory=new CompressionCodecFactory(conf);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hdfs.TestHDFSEventSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  LOG.debug("Starting...");
  testPath="file:///tmp/flume-test." + Calendar.getInstance().getTimeInMillis() + "."+ Thread.currentThread().getId();
  sink=new HDFSEventSink();
  sink.setName("HDFSEventSink-" + UUID.randomUUID().toString());
  dirCleanup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hdfs.TestUseRawLocalFileSystem </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  baseDir=Files.createTempDir();
  testFile=new File(baseDir.getAbsoluteFile(),"test");
  context=new Context();
  event=EventBuilder.withBody("test",Charsets.UTF_8);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hive.TestHiveSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  TestUtil.dropDB(conf,dbName);
  sink=new HiveSink();
  sink.setName("HiveSink-" + UUID.randomUUID().toString());
  String dbLocation=dbFolder.newFolder(dbName).getCanonicalPath() + ".db";
  dbLocation=dbLocation.replaceAll("\\\\","/");
  TestUtil.createDbAndTable(driver,dbName,tblName,partitionVals,colNames,colTypes,partNames,dbLocation);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.hive.TestHiveWriter </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  TxnDbUtil.cleanDb();
  TxnDbUtil.prepDb();
  TestUtil.dropDB(conf,dbName);
  String dbLocation=dbFolder.newFolder(dbName).getCanonicalPath() + ".db";
  dbLocation=dbLocation.replaceAll("\\\\","/");
  TestUtil.createDbAndTable(driver,dbName,tblName,partVals,colNames,colTypes,partNames,dbLocation);
  Context ctx=new Context();
  ctx.put("serializer.fieldnames",COL1 + ",," + COL2+ ",");
  serializer=new HiveDelimitedTextSerializer();
  serializer.configure(ctx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.irc.TestIRCSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  ircServerPort=findFreePort();
  dumbIRCServer=new DumbIRCServer(ircServerPort);
  dumbIRCServer.start();
  eventFile=folder.newFile("eventFile.txt");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.kite.TestDatasetSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws EventDeliveryException {
  Datasets.delete(FILE_DATASET_URI);
  Datasets.create(FILE_DATASET_URI,DESCRIPTOR);
  this.config=new Context();
  config.put("keep-alive","0");
  this.in=new MemoryChannel();
  Configurables.configure(in,config);
  config.put(DatasetSinkConstants.CONFIG_KITE_DATASET_URI,FILE_DATASET_URI);
  GenericRecordBuilder builder=new GenericRecordBuilder(RECORD_SCHEMA);
  expected=Lists.<GenericRecord>newArrayList(builder.set("id","1").set("msg","msg1").build(),builder.set("id","2").set("msg","msg2").build(),builder.set("id","3").set("msg","msg3").build());
  putToChannel(in,Iterables.transform(expected,new Function<GenericRecord,Event>(){
    private int i=0;
    @Override public Event apply(    @Nullable GenericRecord rec){
      this.i+=1;
      boolean useURI=(i % 2) == 0;
      return event(rec,RECORD_SCHEMA,SCHEMA_FILE,useURI);
    }
  }
));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.solr.morphline.TestBlobDeserializer </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  StringBuilder sb=new StringBuilder();
  sb.append("line 1\n");
  sb.append("line 2\n");
  mini=sb.toString();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.solr.morphline.TestBlobHandler </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  handler=new BlobHandler();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.sink.solr.morphline.TestMorphlineSolrSink </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  String path=RESOURCES_DIR + "/test-documents";
  expectedRecords=new HashMap();
  expectedRecords.put(path + "/sample-statuses-20120906-141433.avro",2);
  expectedRecords.put(path + "/sample-statuses-20120906-141433",2);
  expectedRecords.put(path + "/sample-statuses-20120906-141433.gz",2);
  expectedRecords.put(path + "/sample-statuses-20120906-141433.bz2",2);
  expectedRecords.put(path + "/cars.csv",5);
  expectedRecords.put(path + "/cars.csv.gz",5);
  expectedRecords.put(path + "/cars.tar.gz",4);
  expectedRecords.put(path + "/cars.tsv",5);
  expectedRecords.put(path + "/cars.ssv",5);
  final Map<String,String> context=new HashMap();
  if (EXTERNAL_SOLR_SERVER_URL != null) {
    throw new UnsupportedOperationException();
  }
 else {
    if (TEST_WITH_EMBEDDED_SOLR_SERVER) {
      solrServer=new TestEmbeddedSolrServer(h.getCoreContainer(),"");
    }
 else {
      throw new RuntimeException("Not yet implemented");
    }
  }
  Map<String,String> channelContext=new HashMap();
  channelContext.put("capacity","1000000");
  channelContext.put("keep-alive","0");
  Channel channel=new MemoryChannel();
  channel.setName(channel.getClass().getName() + SEQ_NUM.getAndIncrement());
  Configurables.configure(channel,new Context(channelContext));
class MySolrSink extends MorphlineSolrSink {
    public MySolrSink(    MorphlineHandlerImpl indexer){
      super(indexer);
    }
  }
  int batchSize=SEQ_NUM2.incrementAndGet() % 2 == 0 ? 100 : 1;
  DocumentLoader testServer=new SolrServerDocumentLoader(solrServer,batchSize);
  MorphlineContext solrMorphlineContext=new SolrMorphlineContext.Builder().setDocumentLoader(testServer).setExceptionHandler(new FaultTolerance(false,false,SolrServerException.class.getName())).setMetricRegistry(new MetricRegistry()).build();
  MorphlineHandlerImpl impl=new MorphlineHandlerImpl();
  impl.setMorphlineContext(solrMorphlineContext);
class MySolrLocator extends SolrLocator {
    public MySolrLocator(    MorphlineContext indexer){
      super(indexer);
    }
  }
  SolrLocator locator=new MySolrLocator(solrMorphlineContext);
  locator.setSolrHomeDir(testSolrHome + "/collection1");
  String str1="SOLR_LOCATOR : " + locator.toString();
  File morphlineFile=new File("target/test-classes/test-morphlines/solrCellDocumentTypes.conf");
  String str2=Files.toString(morphlineFile,Charsets.UTF_8);
  tmpFile=File.createTempFile("morphline",".conf");
  tmpFile.deleteOnExit();
  Files.write(str1 + "\n" + str2,tmpFile,Charsets.UTF_8);
  context.put("morphlineFile",tmpFile.getPath());
  impl.configure(new Context(context));
  sink=new MySolrSink(impl);
  sink.setName(sink.getClass().getName() + SEQ_NUM.getAndIncrement());
  sink.configure(new Context(context));
  sink.setChannel(channel);
  sink.start();
  source=new EmbeddedSource(sink);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(Collections.singletonList(channel));
  ChannelProcessor chp=new ChannelProcessor(rcs);
  Context chpContext=new Context();
  chpContext.put("interceptors","uuidinterceptor");
  chpContext.put("interceptors.uuidinterceptor.type",UUIDInterceptor.Builder.class.getName());
  chp.configure(chpContext);
  source.setChannelProcessor(chp);
  deleteAllDocuments();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestAbstractPollableSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=spy(new AbstractPollableSource(){
    @Override protected Status doProcess() throws EventDeliveryException {
      return Status.BACKOFF;
    }
    @Override protected void doConfigure(    Context context) throws FlumeException {
      throw new FlumeException("dummy");
    }
    @Override protected void doStart() throws FlumeException {
    }
    @Override protected void doStop() throws FlumeException {
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestAvroSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws UnknownHostException {
  localhost=InetAddress.getByName("127.0.0.1");
  source=new AvroSource();
  channel=new MemoryChannel();
  Configurables.configure(channel,new Context());
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestBasicSourceSemantics </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context=new Context();
  channelProcessor=mock(ChannelProcessor.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestDefaultSourceFactory </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sourceFactory=new DefaultSourceFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestExecSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context.put("keep-alive","1");
  context.put("capacity","1000");
  context.put("transactionCapacity","1000");
  Configurables.configure(channel,context);
  rcs.setChannels(Lists.newArrayList(channel));
  source=new ExecSource();
  source.setChannelProcessor(new ChannelProcessor(rcs));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestNetcatSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  logger.info("Running setup");
  channel=new MemoryChannel();
  source=new NetcatSource();
  Context context=new Context();
  Configurables.configure(channel,context);
  List<Channel> channels=Lists.newArrayList(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestPollableSourceRunner </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sourceRunner=new PollableSourceRunner();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestSequenceGeneratorSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=new SequenceGeneratorSource();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestSpoolDirectorySource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=new SpoolDirectorySource();
  channel=new MemoryChannel();
  Configurables.configure(channel,new Context());
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
  tmpDir=Files.createTempDir();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestStressSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  mockProcessor=mock(ChannelProcessor.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.TestThriftSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  port=random.nextInt(50000) + 1024;
  props.clear();
  props.setProperty("hosts","h1");
  props.setProperty("hosts.h1","0.0.0.0:" + String.valueOf(port));
  props.setProperty(RpcClientConfigurationConstants.CONFIG_BATCH_SIZE,"10");
  props.setProperty(RpcClientConfigurationConstants.CONFIG_REQUEST_TIMEOUT,"2000");
  channel=new MemoryChannel();
  source=new ThriftSource();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.avroLegacy.TestLegacyAvroSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=new AvroLegacySource();
  channel=new MemoryChannel();
  Configurables.configure(channel,new Context());
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.http.TestBLOBHandler </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  handler=new BLOBHandler();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.http.TestHTTPSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  httpClient=new DefaultHttpClient();
  postRequest=new HttpPost("http://0.0.0.0:" + selectedPort);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.http.TestJSONHandler </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  handler=new JSONHandler();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.jms.JMSMessageConsumerTestBase </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  beforeSetup();
  connectionFactory=mock(ConnectionFactory.class);
  connection=mock(Connection.class);
  session=mock(Session.class);
  queue=mock(Queue.class);
  topic=mock(Topic.class);
  messageConsumer=mock(MessageConsumer.class);
  message=mock(TextMessage.class);
  when(message.getPropertyNames()).thenReturn(new Enumeration(){
    @Override public boolean hasMoreElements(){
      return false;
    }
    @Override public Object nextElement(){
      throw new UnsupportedOperationException();
    }
  }
);
  when(message.getText()).thenReturn(TEXT);
  when(connectionFactory.createConnection(USERNAME,PASSWORD)).thenReturn(connection);
  when(connection.createSession(true,Session.SESSION_TRANSACTED)).thenReturn(session);
  when(session.createQueue(destinationName)).thenReturn(queue);
  when(session.createConsumer(any(Destination.class),anyString())).thenReturn(messageConsumer);
  when(messageConsumer.receiveNoWait()).thenReturn(message);
  when(messageConsumer.receive(anyLong())).thenReturn(message);
  destinationName=DESTINATION_NAME;
  destinationType=JMSDestinationType.QUEUE;
  destinationLocator=JMSDestinationLocator.CDI;
  messageSelector=SELECTOR;
  batchSize=10;
  pollTimeout=500L;
  context=new Context();
  converter=new DefaultJMSMessageConverter.Builder().build(context);
  event=converter.convert(message).iterator().next();
  userName=Optional.of(USERNAME);
  password=Optional.of(PASSWORD);
  afterSetup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.jms.TestDefaultJMSMessageConverter </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  headers=Maps.newHashMap();
  context=new Context();
  converter=new DefaultJMSMessageConverter.Builder().build(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.jms.TestIntegrationActiveMQ </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Before public void setup() throws Exception {
  baseDir=Files.createTempDir();
  tmpDir=new File(baseDir,"tmp");
  dataDir=new File(baseDir,"data");
  Assert.assertTrue(tmpDir.mkdir());
  passwordFile=new File(baseDir,"password");
  Files.write(PASSWORD.getBytes(Charsets.UTF_8),passwordFile);
  broker=new BrokerService();
  broker.addConnector(BROKER_BIND_URL);
  broker.setTmpDataDirectory(tmpDir);
  broker.setDataDirectoryFile(dataDir);
  List<AuthenticationUser> users=Lists.newArrayList();
  users.add(new AuthenticationUser(USERNAME,PASSWORD,""));
  SimpleAuthenticationPlugin authentication=new SimpleAuthenticationPlugin(users);
  broker.setPlugins(new BrokerPlugin[]{authentication});
  broker.start();
  context=new Context();
  context.put(JMSSourceConfiguration.INITIAL_CONTEXT_FACTORY,INITIAL_CONTEXT_FACTORY);
  context.put(JMSSourceConfiguration.PROVIDER_URL,BROKER_BIND_URL);
  context.put(JMSSourceConfiguration.DESTINATION_NAME,DESTINATION_NAME);
  context.put(JMSSourceConfiguration.USERNAME,USERNAME);
  context.put(JMSSourceConfiguration.PASSWORD_FILE,passwordFile.getAbsolutePath());
  events=Lists.newArrayList();
  source=new JMSSource();
  source.setName("JMSSource-" + UUID.randomUUID());
  ChannelProcessor channelProcessor=mock(ChannelProcessor.class);
  doAnswer(new Answer<Void>(){
    @Override public Void answer(    InvocationOnMock invocation) throws Throwable {
      events.addAll((List<Event>)invocation.getArguments()[0]);
      return null;
    }
  }
).when(channelProcessor).processEventBatch(any(List.class));
  source.setChannelProcessor(channelProcessor);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.jms.TestJMSSourceCreation </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  sourceFactory=new DefaultSourceFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.kafka.TestKafkaSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before public void setup() throws Exception {
  kafkaSource=new KafkaSource();
  kafkaServer=new KafkaSourceEmbeddedKafka();
  try {
    kafkaServer.createTopic(topicName);
  }
 catch (  TopicExistsException e) {
  }
  context=new Context();
  context.put(KafkaSourceConstants.ZOOKEEPER_CONNECT_FLUME,kafkaServer.getZkConnectString());
  context.put(KafkaSourceConstants.GROUP_ID_FLUME,"flume");
  context.put(KafkaSourceConstants.TOPIC,topicName);
  context.put("kafka.consumer.timeout.ms","100");
  kafkaSource.setChannelProcessor(createGoodChannel());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.kafka.TestKafkaSourceUtil </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context.put("kafka.consumer.timeout","10");
  context.put("type","KafkaSource");
  context.put("topic","test");
  context.put("zookeeperConnect","127.0.0.1:" + zkPort);
  context.put("groupId","test");
  props=KafkaSourceUtil.getKafkaProperties(context);
  zookeeper=new KafkaSourceEmbeddedZookeeper(zkPort);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.taildir.TestTaildirEventReader </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  tmpDir=Files.createTempDir();
  posFilePath=tmpDir.getAbsolutePath() + "/taildir_position_test.json";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.taildir.TestTaildirSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=new TaildirSource();
  channel=new MemoryChannel();
  Configurables.configure(channel,new Context());
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
  tmpDir=Files.createTempDir();
  posFilePath=tmpDir.getAbsolutePath() + "/taildir_position_test.json";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.source.thriftLegacy.TestThriftLegacySource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  source=new ThriftLegacySource();
  channel=new MemoryChannel();
  Configurables.configure(channel,new Context());
  List<Channel> channels=new ArrayList<Channel>();
  channels.add(channel);
  ChannelSelector rcs=new ReplicatingChannelSelector();
  rcs.setChannels(channels);
  source.setChannelProcessor(new ChannelProcessor(rcs));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.test.agent.TestFileChannel </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  final File sinkOutputDir=Files.createTempDir();
  tempResources.add(sinkOutputDir);
  final String sinkOutputDirPath=sinkOutputDir.getCanonicalPath();
  LOGGER.info("Created rolling file sink's output dir: " + sinkOutputDirPath);
  final File channelCheckpointDir=Files.createTempDir();
  tempResources.add(channelCheckpointDir);
  final String channelCheckpointDirPath=channelCheckpointDir.getCanonicalPath();
  LOGGER.info("Created file channel's checkpoint dir: " + channelCheckpointDirPath);
  final File channelDataDir=Files.createTempDir();
  tempResources.add(channelDataDir);
  final String channelDataDirPath=channelDataDir.getCanonicalPath();
  LOGGER.info("Created file channel's data dir: " + channelDataDirPath);
  Properties agentProps=new Properties();
  agentProps.put("a1.channels","c1");
  agentProps.put("a1.sources","r1");
  agentProps.put("a1.sinks","k1");
  agentProps.put("a1.channels.c1.type","FILE");
  agentProps.put("a1.channels.c1.checkpointDir",channelCheckpointDirPath);
  agentProps.put("a1.channels.c1.dataDirs",channelDataDirPath);
  agentProps.put("a1.sources.r1.channels","c1");
  agentProps.put("a1.sources.r1.type","EXEC");
  agentProps.put("a1.sources.r1.command","seq 1 100");
  agentProps.put("a1.sinks.k1.channel","c1");
  agentProps.put("a1.sinks.k1.type","FILE_ROLL");
  agentProps.put("a1.sinks.k1.sink.directory",sinkOutputDirPath);
  agentProps.put("a1.sinks.k1.sink.rollInterval","0");
  this.agentProps=agentProps;
  this.sinkOutputDir=sinkOutputDir;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.test.agent.TestRpcClient </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  StagedInstall.getInstance().startAgent("rpccagent",CONFIG_FILE_PRCCLIENT_TEST);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.test.agent.TestSpooldirSource </h4><pre class="type-12 type-9 type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  File agentDir=StagedInstall.getInstance().getStageDir();
  LOGGER.debug("Using agent stage dir: {}",agentDir);
  File testDir=new File(agentDir,TestSpooldirSource.class.getName());
  assertTrue(testDir.mkdirs());
  File spoolParentDir=new File(testDir,"spools");
  assertTrue("Unable to create sink output dir: " + spoolParentDir.getPath(),spoolParentDir.mkdir());
  final int NUM_SOURCES=100;
  agentProps=new Properties();
  List<String> spooldirSrcNames=Lists.newArrayList();
  String channelName="mem-01";
  for (int i=0; i < NUM_SOURCES; i++) {
    String srcName=String.format("spooldir-%03d",i);
    File spoolDir=new File(spoolParentDir,srcName);
    assertTrue(spoolDir.mkdir());
    spooldirSrcNames.add(srcName);
    spoolDirs.add(spoolDir);
    agentProps.put(String.format("agent.sources.%s.type",srcName),"SPOOLDIR");
    agentProps.put(String.format("agent.sources.%s.spoolDir",srcName),spoolDir.getPath());
    agentProps.put(String.format("agent.sources.%s.channels",srcName),channelName);
  }
  agentProps.put("agent.channels.mem-01.type","MEMORY");
  agentProps.put("agent.channels.mem-01.capacity",String.valueOf(100000));
  sinkOutputDir=new File(testDir,"out");
  assertTrue("Unable to create sink output dir: " + sinkOutputDir.getPath(),sinkOutputDir.mkdir());
  agentProps.put("agent.sinks.roll-01.channel",channelName);
  agentProps.put("agent.sinks.roll-01.type","FILE_ROLL");
  agentProps.put("agent.sinks.roll-01.sink.directory",sinkOutputDir.getPath());
  agentProps.put("agent.sinks.roll-01.sink.rollInterval","0");
  agentProps.put("agent.sources",Joiner.on(" ").join(spooldirSrcNames));
  agentProps.put("agent.channels",channelName);
  agentProps.put("agent.sinks","roll-01");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.test.agent.TestSyslogSource </h4><pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  agent=new SyslogAgent();
  agent.configure(sourceType);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.flume.tools.TestFileChannelIntegrityTool </h4><pre class="type-4 type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  checkpointDir=new File(baseDir,"checkpoint");
  dataDir=new File(baseDir,"dataDir");
  Assert.assertTrue(checkpointDir.mkdirs() || checkpointDir.isDirectory());
  Assert.assertTrue(dataDir.mkdirs() || dataDir.isDirectory());
  File[] dataFiles=origDataDir.listFiles(new FilenameFilter(){
    @Override public boolean accept(    File dir,    String name){
      if (name.contains("lock")) {
        return false;
      }
      return true;
    }
  }
);
  for (  File dataFile : dataFiles) {
    Serialization.copyFile(dataFile,new File(dataDir,dataFile.getName()));
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
