<h3 style="margin:0px">Class: org.apache.wookie.tests.functional.WidgetInstancesControllerTest (16 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(2)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for resume() extension feature. The feature itself may be removed in
 * future releases.
 */
@Test @Ignore public void resume(){
  fail("test not written");
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that a request for an instance with an invalid API key is rejected
 * @throws HttpException
 * @throws IOException
 */
@Test public void getInstance_InvalidAPIkey() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_INVALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","test");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(403,code);
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test we can get an existing instance using instance parameters - widgetid,
 * apikey, userid, shareddatakey, locale
 * @throws HttpException
 * @throws IOException
 */
@Test public void getExistingInstanceByInstanceParams() throws HttpException, IOException {
  Request get=new Request("GET",TEST_INSTANCES_SERVICE_URL_VALID);
  get.addParameter("api_key",API_KEY_VALID);
  get.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  get.addParameter("userid","localetest");
  get.addParameter("shareddatakey","localetest");
  get.addParameter("locale","fr");
  get.execute(true,false);
  int code=get.getStatusCode();
  assertEquals(200,code);
  assertTrue(get.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertTrue(get.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@AfterClass public static void tearDown() throws HttpException, IOException {
  Request delete;
  delete=new Request("DELETE",TEST_INSTANCES_SERVICE_URL_VALID + "?api_key=" + API_KEY_VALID+ "&widgetid="+ WIDGET_ID_VALID+ "&userid=test&shareddatakey=test");
  delete.execute(true,false);
  delete=new Request("DELETE",TEST_INSTANCES_SERVICE_URL_VALID + "?api_key=" + API_KEY_VALID+ "&widgetid="+ WIDGET_ID_VALID+ "&userid=test&shareddatakey=clonetestsrc");
  delete.execute(true,false);
  delete=new Request("DELETE",TEST_INSTANCES_SERVICE_URL_VALID + "?api_key=" + API_KEY_VALID+ "&widgetid="+ WIDGET_ID_VALID+ "&userid=test&shareddatakey=clonetestsync");
  delete.execute(true,false);
  delete=new Request("DELETE",TEST_WIDGETS_SERVICE_URL_VALID + "/" + WIDGET_ID_LOCALIZED);
  delete.execute(true,false);
  delete=new Request("DELETE",TEST_WIDGETS_SERVICE_URL_VALID + "/" + TEST_DEFAULT_PREFS_WIDGET);
  delete.execute(true,false);
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that a new instance has the default preferences set from config.xml
 * @throws HttpException
 * @throws IOException
 */
@Test public void getInstanceWithDefaultPreferences() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",TEST_DEFAULT_PREFS_WIDGET);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","test");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  Request get=new Request("GET",TEST_PROPERTIES_SERVICE_URL_VALID);
  get.addParameter("api_key",API_KEY_VALID);
  get.addParameter("widgetid",TEST_DEFAULT_PREFS_WIDGET);
  get.addParameter("userid","test");
  get.addParameter("shareddatakey","test");
  get.addParameter("propertyname","default");
  get.execute(true,false);
  code=get.getStatusCode();
  assertEquals(200,code);
  assertEquals("yes",get.getResponseBodyAsString());
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test we can get an existing instance using just the id_key parameter
 * @throws IOException
 * @throws HttpException
 */
@Test public void getExistingInstanceByIdKey() throws HttpException, IOException {
  Request get=new Request("GET",TEST_INSTANCES_SERVICE_URL_VALID);
  get.addParameter("api_key",API_KEY_VALID);
  get.addParameter("idkey",TEST_ID_KEY);
  get.execute(true,false);
  int code=get.getStatusCode();
  assertEquals(200,code);
  System.out.println(get.getResponseBodyAsString());
  assertTrue(get.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertTrue(get.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests we can create an instance using instance params and widget id and get
 * a 201 response
 * @throws IOException
 * @throws HttpException
 */
@Test public void getInstanceById() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","test");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test we can get an existing instance using the id_key as a resource path
 * @throws IOException
 * @throws HttpException
 */
@Test public void getExistingInstanceByIdResource() throws HttpException, IOException {
  Request get=new Request("GET",TEST_INSTANCES_SERVICE_URL_VALID + "/" + TEST_ID_KEY);
  get.addParameter("api_key",API_KEY_VALID);
  get.execute(true,false);
  int code=get.getStatusCode();
  assertEquals(200,code);
  assertTrue(get.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertTrue(get.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test we can get an instance localized using the locale parameter
 * @throws IOException
 * @throws HttpException
 */
@Test public void getLocalizedInstance() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","localetest");
  post.addParameter("shareddatakey","localetest");
  post.addParameter("locale","fr");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  assertTrue(post.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertTrue(post.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
  TEST_ID_KEY=post.getResponseBodyAsString().substring(post.getResponseBodyAsString().indexOf("<identifier>") + 12,post.getResponseBodyAsString().indexOf("</identifier>"));
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that getting an existing instance returns 200 rather than 201
 * @throws IOException
 * @throws HttpException
 */
@Test public void getInstanceById_AlreadyExists() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","test");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
}

</code></pre>

<pre class="type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that we can clone an instance
 * @throws IOException
 * @throws HttpException
 * @throws JSONException 
 */
@Test public void cloneSharedData() throws HttpException, IOException, JSONException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_VALID);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","clonetestsrc");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  post=new Request("POST",TEST_PROPERTIES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_VALID);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","clonetestsrc");
  JSONObject data=new JSONObject();
  data.put("name","cat");
  data.put("value","garfield");
  JSONObject json=new JSONObject();
  JSONArray set=new JSONArray();
  set.put(data);
  json.put("shareddata",set);
  StringRequestEntity entity=new StringRequestEntity(json.toString(),"application/json","UTF-8");
  post.setRequestEntity(entity);
  post.execute(true,false);
  code=post.getStatusCode();
  assertEquals(201,code);
  Request put=new Request("PUT",TEST_INSTANCES_SERVICE_URL_VALID);
  put.addParameter("api_key",API_KEY_VALID);
  put.addParameter("widgetid",WIDGET_ID_VALID);
  put.addParameter("userid","test");
  put.addParameter("shareddatakey","clonetestsrc");
  put.addParameter("requestid","clone");
  put.addParameter("cloneshareddatakey","clonetestsync");
  put.execute(true,false);
  code=put.getStatusCode();
  assertEquals(200,code);
  post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_VALID);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","clonetestsync");
  post.execute(true,false);
  code=post.getStatusCode();
  assertEquals(200,code);
  Request get=new Request("GET",TEST_PROPERTIES_SERVICE_URL_VALID);
  get.addParameter("api_key",API_KEY_VALID);
  get.addParameter("widgetid",WIDGET_ID_VALID);
  get.addParameter("userid","test");
  get.addParameter("shareddatakey","clonetestsync");
  get.addParameter("propertyname","cat");
  get.execute(true,false);
  code=get.getStatusCode();
  assertEquals(200,code);
  String resp=get.getResponseBodyAsString();
  assertEquals("garfield",resp);
}

</code></pre>

<pre class="type-9 type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for stop() extension feature. The feature itself may be removed in
 * future releases.
 */
@Test @Ignore public void stop(){
  fail("test not written");
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we get a 404 when requesting an instance for a non-installed
 * widget, even though we still get the representation of the
 * "unsupported widget widget"
 * @throws HttpException
 * @throws IOException
 */
@Test public void getInstanceById_InvalidWidget() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_INVALID);
  post.addParameter("userid","test");
  post.addParameter("shareddatakey","test");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(404,code);
  assertTrue(post.getResponseBodyAsString().contains("Unsupported widget widget"));
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that requesting an instance for an unsupported locale returns a
 * non-localized instance
 * @throws IOException
 */
@Test public void getNonLocalizedInstance() throws IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","localetest");
  post.addParameter("shareddatakey","localetest2");
  post.addParameter("locale","bu");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  assertFalse(post.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertFalse(post.getResponseBodyAsString().contains("locales/en/index.htm"));
  assertTrue(post.getResponseBodyAsString().contains("index.htm"));
  assertTrue(post.getResponseBodyAsString().contains("locale test"));
  assertFalse(post.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that requesting an instance with no locale property returns the
 * instance for the default locale
 * @throws IOException
 * @throws HttpException
 */
@Test public void getDefaultLocalizedInstance() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","localetest3");
  post.addParameter("shareddatakey","localetest4");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  assertTrue(post.getResponseBodyAsString().contains("locales/en/index.htm"));
  assertTrue(post.getResponseBodyAsString().contains("locale test"));
  assertFalse(post.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<pre class="type-1 type-3 type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that instance localization includes support for fallback locales -
 * e.g. specifying "early modern french" locale returns standard FR start file
 * @throws IOException
 * @throws HttpException
 */
@Test public void getGracefulLocalizedInstance() throws HttpException, IOException {
  Request post=new Request("POST",TEST_INSTANCES_SERVICE_URL_VALID);
  post.addParameter("api_key",API_KEY_VALID);
  post.addParameter("widgetid",WIDGET_ID_LOCALIZED);
  post.addParameter("userid","localetest");
  post.addParameter("shareddatakey","localetest1b");
  post.addParameter("locale","fr-1694acad");
  post.execute(true,false);
  int code=post.getStatusCode();
  assertEquals(200,code);
  assertTrue(post.getResponseBodyAsString().contains("locales/fr/index.htm"));
  assertFalse(post.getResponseBodyAsString().contains("locale test"));
  assertTrue(post.getResponseBodyAsString().contains("tester les param&#232;tres r&#233;gionaux"));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
