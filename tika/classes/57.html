<h3 style="margin:0px">Class: org.apache.tika.metadata.TestMetadata (12 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>names</code> method. 
 */
@Test public void testNames(){
  String[] names=null;
  Metadata meta=new Metadata();
  names=meta.names();
  assertEquals(0,names.length);
  meta.add("name-one","value");
  names=meta.names();
  assertEquals(1,names.length);
  assertEquals("name-one",names[0]);
  meta.add("name-two","value");
  names=meta.names();
  assertEquals(2,names.length);
}

</code></pre>

<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>equals(Object)</code> method. 
 */
@Test public void testObject(){
  Metadata meta1=new Metadata();
  Metadata meta2=new Metadata();
  assertFalse(meta1.equals(null));
  assertFalse(meta1.equals("String"));
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.2");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.x");
  assertFalse(meta1.equals(meta2));
}

</code></pre>

<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>isMultiValued()</code> method. 
 */
@Test public void testIsMultiValued(){
  Metadata meta=new Metadata();
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value1");
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value2");
  assertTrue(meta.isMultiValued("key"));
}

</code></pre>

<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests for getting and setting date
 * based properties
 */
@Test public void testGetSetDate(){
  Metadata meta=new Metadata();
  long hour=60 * 60 * 1000;
  assertEquals(null,meta.get(TikaCoreProperties.CREATED));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
  try {
    meta.set(Metadata.BITS_PER_SAMPLE,new Date(1000));
    fail("Shouldn't be able to set a multi valued property as a date");
  }
 catch (  PropertyTypeException e) {
  }
  try {
    meta.set(Metadata.IMAGE_WIDTH,new Date(1000));
    fail("Shouldn't be able to set an int property as an date");
  }
 catch (  PropertyTypeException e) {
  }
  meta.set(TikaCoreProperties.CREATED,new Date(1000));
  assertEquals("1970-01-01T00:00:01Z",meta.get(TikaCoreProperties.CREATED));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"INVALID");
  assertEquals("INVALID",meta.get(TikaCoreProperties.CREATED));
  assertEquals(null,meta.getDate(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,new Date(1000));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  assertEquals(null,meta.getInt(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,new Date(1050));
  assertEquals("1970-01-01T00:00:01Z",meta.get(TikaCoreProperties.CREATED));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T00:00:01Z");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01 00:00:01Z");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T01:00:01+01:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01 01:00:01+01:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T12:00:01+12:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1969-12-31T12:00:01-12:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01");
  assertEquals(12 * hour,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970:01:01");
  assertEquals(12 * hour,meta.getDate(TikaCoreProperties.CREATED).getTime());
}

</code></pre>

<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests for getting and setting integer
 * based properties
 */
@Test public void testGetSetInt(){
  Metadata meta=new Metadata();
  assertEquals(null,meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(null,meta.getInt(Metadata.IMAGE_WIDTH));
  try {
    meta.set(Metadata.BITS_PER_SAMPLE,1);
    fail("Shouldn't be able to set a multi valued property as an int");
  }
 catch (  PropertyTypeException e) {
  }
  try {
    meta.set(TikaCoreProperties.CREATED,1);
    fail("Shouldn't be able to set a date property as an int");
  }
 catch (  PropertyTypeException e) {
  }
  meta.set(Metadata.IMAGE_WIDTH,22);
  assertEquals("22",meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(22,meta.getInt(Metadata.IMAGE_WIDTH).intValue());
  meta.set(Metadata.IMAGE_WIDTH,"INVALID");
  assertEquals("INVALID",meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(null,meta.getInt(Metadata.IMAGE_WIDTH));
  meta.set(Metadata.IMAGE_WIDTH,22);
  assertEquals(22,meta.getInt(Metadata.IMAGE_WIDTH).intValue());
  assertEquals(null,meta.getInt(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
}

</code></pre>

<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  Metadata meta=new Metadata();
  assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Defines a composite property, then checks that when set as the
 * composite the value can be retrieved with the property or the aliases
 */
@SuppressWarnings("deprecation") @Test public void testCompositeProperty(){
  Metadata meta=new Metadata();
  Property compositeProperty=Property.composite(DublinCore.DESCRIPTION,new Property[]{Property.internalText(Metadata.DESCRIPTION),Property.internalText("testDescriptionAlt")});
  String message="composite description";
  meta.set(compositeProperty,message);
  assertEquals(message,meta.get(compositeProperty));
  assertEquals(message,meta.get(DublinCore.DESCRIPTION));
  assertEquals(message,meta.get(Metadata.DESCRIPTION));
  assertEquals(message,meta.get("testDescriptionAlt"));
}

</code></pre>

<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  Metadata meta=new Metadata();
  meta.remove("name-one");
  assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  assertEquals(2,meta.size());
  assertNotNull(meta.get("name-one"));
  assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  assertEquals(1,meta.size());
  assertNull(meta.get("name-one"));
  assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  assertEquals(0,meta.size());
  assertNull(meta.get("name-one"));
  assertNull(meta.get("name-two"));
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>setAll(Properties)</code> method. 
 */
@Test public void testSetProperties(){
  String[] values=null;
  Metadata meta=new Metadata();
  Properties props=new Properties();
  meta.setAll(props);
  assertEquals(0,meta.size());
  props.setProperty("name-one","value1.1");
  meta.setAll(props);
  assertEquals(1,meta.size());
  values=meta.getValues("name-one");
  assertEquals(1,values.length);
  assertEquals("value1.1",values[0]);
  props.setProperty("name-two","value2.1");
  meta.setAll(props);
  assertEquals(2,meta.size());
  values=meta.getValues("name-one");
  assertEquals(1,values.length);
  assertEquals("value1.1",values[0]);
  values=meta.getValues("name-two");
  assertEquals(1,values.length);
  assertEquals("value2.1",values[0]);
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>set(String, String)</code> method. 
 */
@Test public void testSet(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  assertEquals(0,values.length);
  meta.set(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  meta.set(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
  meta.set(CONTENTTYPE,"new value 1");
  meta.add("contenttype","new value 2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(2,values.length);
  assertEquals("new value 1",values[0]);
  assertEquals("new value 2",values[1]);
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Some documents, like jpegs, might have date in unspecified time zone
 * which should be handled like strings but verified to have parseable ISO 8601 format
 */
@Test public void testGetSetDateUnspecifiedTimezone(){
  Metadata meta=new Metadata();
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T00:00:01");
  assertEquals("should return string without time zone specifier because zone is not known","1970-01-01T00:00:01",meta.get(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,DateUtils.formatDateUnknownTimezone(new Date(1000)));
  assertEquals("should return string without time zone specifier because zone is not known","1970-01-01T00:00:01",meta.get(TikaCoreProperties.CREATED));
}

</code></pre>

<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for the <code>add(String, String)</code> method. 
 */
@Test public void testAdd(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  assertEquals(0,values.length);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  meta.add(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(2,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(3,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  assertEquals("value1",values[2]);
  Property nonMultiValued=Property.internalText("nonMultiValued");
  meta.add(nonMultiValued,"value1");
  try {
    meta.add(nonMultiValued,"value2");
    fail("add should fail on the second call of a non-multi valued item");
  }
 catch (  PropertyTypeException e) {
  }
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
