<h3><span class=" glyphicon glyphicon-tag"/>&nbspInternalCallVerifier</h3><kbd>Verifies values of objects/variables related to AUT calls</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.tika.TestParsers </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEXCELExtraction() throws Exception {
  final String expected="Numbers and their Squares";
  File file=getResourceAsFile("/test-documents/testEXCEL.xls");
  String s1=tika.parseToString(file);
  assertTrue("Text does not contain '" + expected + "'",s1.contains(expected));
  Parser parser=tika.getParser();
  Metadata metadata=new Metadata();
  try (InputStream stream=new FileInputStream(file)){
    parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  }
   assertEquals("Simple Excel document",metadata.get(TikaCoreProperties.TITLE));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testOptionalHyphen() throws Exception {
  String[] extensions=new String[]{"ppt","pptx","doc","docx","rtf","pdf"};
  for (  String extension : extensions) {
    File file=getResourceAsFile("/test-documents/testOptionalHyphen." + extension);
    String content=tika.parseToString(file);
    assertTrue("optional hyphen was not handled for '" + extension + "' file type: "+ content,content.contains("optionalhyphen") || content.contains("optional\u00adhyphen") || content.contains("optional\u200bhyphen")|| content.contains("optional\u2027"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.TestRereadableInputStream </h4><pre class="type-7 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test() throws IOException {
  InputStream is=createTestInputStream();
  RereadableInputStream ris=new RereadableInputStream(is,MEMORY_THRESHOLD,true,true);
  try {
    for (int pass=0; pass < NUM_PASSES; pass++) {
      for (int byteNum=0; byteNum < TEST_SIZE; byteNum++) {
        int byteRead=ris.read();
        assertEquals("Pass = " + pass + ", byte num should be "+ byteNum+ " but is "+ byteRead+ ".",byteNum,byteRead);
      }
      ris.rewind();
    }
  }
  finally {
    ris.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.TikaDetectionTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test checks that Tika correctly detects all the file extensions
 * defined in the mime.types file (revision 819245) of the Apache HTTP
 * Server project. The tests were created with:
 * <pre>
 * cat docs/conf/mime.types | grep -v '#' | perl -lne '/\S\s+\S/ and do {
 * my ($type, @ext) = split /\s+/;
 * for my $ext (@ext) {
 * print "assertEquals(\"$type\", tika.detect(\"x.$ext\"));";
 * }
 * }'
 * </pre>
 */
@Test public void testHttpServerFileExtensions(){
  assertEquals("application/andrew-inset",tika.detect("x.ez"));
  assertEquals("application/applixware",tika.detect("x.aw"));
  assertEquals("application/atom+xml",tika.detect("x.atom"));
  assertEquals("application/atomcat+xml",tika.detect("x.atomcat"));
  assertEquals("application/atomsvc+xml",tika.detect("x.atomsvc"));
  assertEquals("application/ccxml+xml",tika.detect("x.ccxml"));
  assertEquals("application/cu-seeme",tika.detect("x.cu"));
  assertEquals("application/davmount+xml",tika.detect("x.davmount"));
  assertEquals("application/ecmascript",tika.detect("x.ecma"));
  assertEquals("application/emma+xml",tika.detect("x.emma"));
  assertEquals("application/epub+zip",tika.detect("x.epub"));
  assertEquals("application/font-tdpfr",tika.detect("x.pfr"));
  assertEquals("application/hyperstudio",tika.detect("x.stk"));
  assertEquals("application/java-archive",tika.detect("x.jar"));
  assertEquals("application/java-serialized-object",tika.detect("x.ser"));
  assertEquals("application/java-vm",tika.detect("x.class"));
  assertEquals("application/javascript",tika.detect("x.js"));
  assertEquals("application/json",tika.detect("x.json"));
  assertEquals("application/lost+xml",tika.detect("x.lostxml"));
  assertEquals("application/mac-binhex40",tika.detect("x.hqx"));
  assertEquals("application/mac-compactpro",tika.detect("x.cpt"));
  assertEquals("application/marc",tika.detect("x.mrc"));
  assertEquals("application/mathematica",tika.detect("x.ma"));
  assertEquals("application/mathematica",tika.detect("x.nb"));
  assertEquals("application/mathematica",tika.detect("x.mb"));
  assertEquals("application/mathml+xml",tika.detect("x.mathml"));
  assertEquals("application/mbox",tika.detect("x.mbox"));
  assertEquals("application/mediaservercontrol+xml",tika.detect("x.mscml"));
  assertEquals("application/mp4",tika.detect("x.mp4s"));
  assertEquals("application/msword",tika.detect("x.doc"));
  assertEquals("application/msword",tika.detect("x.dot"));
  assertEquals("application/mxf",tika.detect("x.mxf"));
  assertEquals("application/octet-stream",tika.detect("x.bin"));
  assertEquals("application/octet-stream",tika.detect("x.dms"));
  assertEquals("application/octet-stream",tika.detect("x.lha"));
  assertEquals("application/octet-stream",tika.detect("x.lrf"));
  assertEquals("application/octet-stream",tika.detect("x.lzh"));
  assertEquals("application/octet-stream",tika.detect("x.so"));
  assertEquals("application/x-iso9660-image",tika.detect("x.iso"));
  assertEquals("application/x-apple-diskimage",tika.detect("x.dmg"));
  assertEquals("application/octet-stream",tika.detect("x.dist"));
  assertEquals("application/octet-stream",tika.detect("x.distz"));
  assertEquals("application/octet-stream",tika.detect("x.pkg"));
  assertEquals("application/octet-stream",tika.detect("x.bpk"));
  assertEquals("application/octet-stream",tika.detect("x.dump"));
  assertEquals("application/octet-stream",tika.detect("x.elc"));
  assertEquals("application/octet-stream",tika.detect("x.deploy"));
  assertEquals("application/oda",tika.detect("x.oda"));
  assertEquals("application/oebps-package+xml",tika.detect("x.opf"));
  assertEquals("application/ogg",tika.detect("x.ogx"));
  assertEquals("application/onenote",tika.detect("x.onetoc"));
  assertEquals("application/onenote",tika.detect("x.onetoc2"));
  assertEquals("application/onenote",tika.detect("x.onetmp"));
  assertEquals("application/onenote",tika.detect("x.onepkg"));
  assertEquals("application/patch-ops-error+xml",tika.detect("x.xer"));
  assertEquals("application/pdf",tika.detect("x.pdf"));
  assertEquals("application/pgp-encrypted",tika.detect("x.pgp"));
  assertEquals("application/pgp-signature",tika.detect("x.asc"));
  assertEquals("application/pgp-signature",tika.detect("x.sig"));
  assertEquals("application/pics-rules",tika.detect("x.prf"));
  assertEquals("application/pkcs10",tika.detect("x.p10"));
  assertEquals("application/pkcs7-mime",tika.detect("x.p7m"));
  assertEquals("application/pkcs7-mime",tika.detect("x.p7c"));
  assertEquals("application/pkcs7-signature",tika.detect("x.p7s"));
  assertEquals("application/pkix-cert",tika.detect("x.cer"));
  assertEquals("application/pkix-crl",tika.detect("x.crl"));
  assertEquals("application/pkix-pkipath",tika.detect("x.pkipath"));
  assertEquals("application/pkixcmp",tika.detect("x.pki"));
  assertEquals("application/pls+xml",tika.detect("x.pls"));
  assertEquals("application/illustrator",tika.detect("x.ai"));
  assertEquals("application/postscript",tika.detect("x.eps"));
  assertEquals("application/postscript",tika.detect("x.ps"));
  assertEquals("application/prs.cww",tika.detect("x.cww"));
  assertEquals("application/rdf+xml",tika.detect("x.rdf"));
  assertEquals("application/reginfo+xml",tika.detect("x.rif"));
  assertEquals("application/relax-ng-compact-syntax",tika.detect("x.rnc"));
  assertEquals("application/resource-lists+xml",tika.detect("x.rl"));
  assertEquals("application/resource-lists-diff+xml",tika.detect("x.rld"));
  assertEquals("application/rls-services+xml",tika.detect("x.rs"));
  assertEquals("application/rsd+xml",tika.detect("x.rsd"));
  assertEquals("application/rss+xml",tika.detect("x.rss"));
  assertEquals("application/rtf",tika.detect("x.rtf"));
  assertEquals("application/sbml+xml",tika.detect("x.sbml"));
  assertEquals("application/scvp-cv-request",tika.detect("x.scq"));
  assertEquals("application/scvp-cv-response",tika.detect("x.scs"));
  assertEquals("application/scvp-vp-request",tika.detect("x.spq"));
  assertEquals("application/scvp-vp-response",tika.detect("x.spp"));
  assertEquals("application/sdp",tika.detect("x.sdp"));
  assertEquals("application/set-payment-initiation",tika.detect("x.setpay"));
  assertEquals("application/set-registration-initiation",tika.detect("x.setreg"));
  assertEquals("application/sldworks",tika.detect("x.sldprt"));
  assertEquals("application/sldworks",tika.detect("x.sldasm"));
  assertEquals("application/sldworks",tika.detect("x.slddrw"));
  assertEquals("application/shf+xml",tika.detect("x.shf"));
  assertEquals("application/smil+xml",tika.detect("x.smi"));
  assertEquals("application/smil+xml",tika.detect("x.smil"));
  assertEquals("application/sparql-query",tika.detect("x.rq"));
  assertEquals("application/sparql-results+xml",tika.detect("x.srx"));
  assertEquals("application/srgs",tika.detect("x.gram"));
  assertEquals("application/srgs+xml",tika.detect("x.grxml"));
  assertEquals("application/ssml+xml",tika.detect("x.ssml"));
  assertEquals("application/vnd.3gpp.pic-bw-large",tika.detect("x.plb"));
  assertEquals("application/vnd.3gpp.pic-bw-small",tika.detect("x.psb"));
  assertEquals("application/vnd.3gpp.pic-bw-var",tika.detect("x.pvb"));
  assertEquals("application/vnd.3gpp2.tcap",tika.detect("x.tcap"));
  assertEquals("application/vnd.3m.post-it-notes",tika.detect("x.pwn"));
  assertEquals("application/vnd.accpac.simply.aso",tika.detect("x.aso"));
  assertEquals("application/vnd.accpac.simply.imp",tika.detect("x.imp"));
  assertEquals("application/vnd.acucobol",tika.detect("x.acu"));
  assertEquals("application/vnd.acucorp",tika.detect("x.atc"));
  assertEquals("application/vnd.acucorp",tika.detect("x.acutc"));
  assertEquals("application/vnd.adobe.air-application-installer-package+zip",tika.detect("x.air"));
  assertEquals("application/vnd.adobe.xdp+xml",tika.detect("x.xdp"));
  assertEquals("application/vnd.adobe.xfdf",tika.detect("x.xfdf"));
  assertEquals("application/vnd.airzip.filesecure.azf",tika.detect("x.azf"));
  assertEquals("application/vnd.airzip.filesecure.azs",tika.detect("x.azs"));
  assertEquals("application/vnd.amazon.ebook",tika.detect("x.azw"));
  assertEquals("application/vnd.americandynamics.acc",tika.detect("x.acc"));
  assertEquals("application/vnd.amiga.ami",tika.detect("x.ami"));
  assertEquals("application/vnd.android.package-archive",tika.detect("x.apk"));
  assertEquals("application/vnd.anser-web-certificate-issue-initiation",tika.detect("x.cii"));
  assertEquals("application/vnd.anser-web-funds-transfer-initiation",tika.detect("x.fti"));
  assertEquals("application/vnd.antix.game-component",tika.detect("x.atx"));
  assertEquals("application/vnd.apple.installer+xml",tika.detect("x.mpkg"));
  assertEquals("application/vnd.arastra.swi",tika.detect("x.swi"));
  assertEquals("application/vnd.blueice.multipass",tika.detect("x.mpm"));
  assertEquals("application/vnd.bmi",tika.detect("x.bmi"));
  assertEquals("application/vnd.businessobjects",tika.detect("x.rep"));
  assertEquals("application/vnd.chemdraw+xml",tika.detect("x.cdxml"));
  assertEquals("application/vnd.chipnuts.karaoke-mmd",tika.detect("x.mmd"));
  assertEquals("application/vnd.cinderella",tika.detect("x.cdy"));
  assertEquals("application/vnd.claymore",tika.detect("x.cla"));
  assertEquals("application/vnd.clonk.c4group",tika.detect("x.c4g"));
  assertEquals("application/vnd.clonk.c4group",tika.detect("x.c4d"));
  assertEquals("application/vnd.clonk.c4group",tika.detect("x.c4f"));
  assertEquals("application/vnd.clonk.c4group",tika.detect("x.c4p"));
  assertEquals("application/vnd.clonk.c4group",tika.detect("x.c4u"));
  assertEquals("application/vnd.commonspace",tika.detect("x.csp"));
  assertEquals("application/vnd.contact.cmsg",tika.detect("x.cdbcmsg"));
  assertEquals("application/vnd.cosmocaller",tika.detect("x.cmc"));
  assertEquals("application/vnd.crick.clicker",tika.detect("x.clkx"));
  assertEquals("application/vnd.crick.clicker.keyboard",tika.detect("x.clkk"));
  assertEquals("application/vnd.crick.clicker.palette",tika.detect("x.clkp"));
  assertEquals("application/vnd.crick.clicker.template",tika.detect("x.clkt"));
  assertEquals("application/vnd.crick.clicker.wordbank",tika.detect("x.clkw"));
  assertEquals("application/vnd.criticaltools.wbs+xml",tika.detect("x.wbs"));
  assertEquals("application/vnd.ctc-posml",tika.detect("x.pml"));
  assertEquals("application/vnd.cups-ppd",tika.detect("x.ppd"));
  assertEquals("application/vnd.curl.car",tika.detect("x.car"));
  assertEquals("application/vnd.curl.pcurl",tika.detect("x.pcurl"));
  assertEquals("application/vnd.data-vision.rdz",tika.detect("x.rdz"));
  assertEquals("application/vnd.denovo.fcselayout-link",tika.detect("x.fe_launch"));
  assertEquals("application/vnd.dna",tika.detect("x.dna"));
  assertEquals("application/vnd.dolby.mlp",tika.detect("x.mlp"));
  assertEquals("application/vnd.dpgraph",tika.detect("x.dpg"));
  assertEquals("application/vnd.dreamfactory",tika.detect("x.dfac"));
  assertEquals("application/vnd.dynageo",tika.detect("x.geo"));
  assertEquals("application/vnd.ecowin.chart",tika.detect("x.mag"));
  assertEquals("application/vnd.enliven",tika.detect("x.nml"));
  assertEquals("application/vnd.epson.esf",tika.detect("x.esf"));
  assertEquals("application/vnd.epson.msf",tika.detect("x.msf"));
  assertEquals("application/vnd.epson.quickanime",tika.detect("x.qam"));
  assertEquals("application/vnd.epson.salt",tika.detect("x.slt"));
  assertEquals("application/vnd.epson.ssf",tika.detect("x.ssf"));
  assertEquals("application/vnd.eszigno3+xml",tika.detect("x.es3"));
  assertEquals("application/vnd.eszigno3+xml",tika.detect("x.et3"));
  assertEquals("application/vnd.ezpix-album",tika.detect("x.ez2"));
  assertEquals("application/vnd.ezpix-package",tika.detect("x.ez3"));
  assertEquals("application/vnd.fdf",tika.detect("x.fdf"));
  assertEquals("application/vnd.fdsn.mseed",tika.detect("x.mseed"));
  assertEquals("application/vnd.fdsn.seed",tika.detect("x.seed"));
  assertEquals("application/vnd.fdsn.seed",tika.detect("x.dataless"));
  assertEquals("application/vnd.flographit",tika.detect("x.gph"));
  assertEquals("application/vnd.fluxtime.clip",tika.detect("x.ftc"));
  assertEquals("application/vnd.framemaker",tika.detect("x.fm"));
  assertEquals("application/vnd.framemaker",tika.detect("x.frame"));
  assertEquals("application/vnd.framemaker",tika.detect("x.maker"));
  assertEquals("application/vnd.framemaker",tika.detect("x.book"));
  assertEquals("application/vnd.frogans.fnc",tika.detect("x.fnc"));
  assertEquals("application/vnd.frogans.ltf",tika.detect("x.ltf"));
  assertEquals("application/vnd.fsc.weblaunch",tika.detect("x.fsc"));
  assertEquals("application/vnd.fujitsu.oasys",tika.detect("x.oas"));
  assertEquals("application/vnd.fujitsu.oasys2",tika.detect("x.oa2"));
  assertEquals("application/vnd.fujitsu.oasys3",tika.detect("x.oa3"));
  assertEquals("application/vnd.fujitsu.oasysgp",tika.detect("x.fg5"));
  assertEquals("application/vnd.fujitsu.oasysprs",tika.detect("x.bh2"));
  assertEquals("application/vnd.fujixerox.ddd",tika.detect("x.ddd"));
  assertEquals("application/vnd.fujixerox.docuworks",tika.detect("x.xdw"));
  assertEquals("application/vnd.fujixerox.docuworks.binder",tika.detect("x.xbd"));
  assertEquals("application/vnd.fuzzysheet",tika.detect("x.fzs"));
  assertEquals("application/vnd.genomatix.tuxedo",tika.detect("x.txd"));
  assertEquals("application/vnd.geogebra.file",tika.detect("x.ggb"));
  assertEquals("application/vnd.geogebra.tool",tika.detect("x.ggt"));
  assertEquals("application/vnd.geometry-explorer",tika.detect("x.gex"));
  assertEquals("application/vnd.geometry-explorer",tika.detect("x.gre"));
  assertEquals("application/vnd.gmx",tika.detect("x.gmx"));
  assertEquals("application/vnd.google-earth.kml+xml",tika.detect("x.kml"));
  assertEquals("application/vnd.google-earth.kmz",tika.detect("x.kmz"));
  assertEquals("application/vnd.grafeq",tika.detect("x.gqf"));
  assertEquals("application/vnd.grafeq",tika.detect("x.gqs"));
  assertEquals("application/vnd.groove-account",tika.detect("x.gac"));
  assertEquals("application/vnd.groove-help",tika.detect("x.ghf"));
  assertEquals("application/vnd.groove-identity-message",tika.detect("x.gim"));
  assertEquals("application/vnd.groove-injector",tika.detect("x.grv"));
  assertEquals("application/vnd.groove-tool-message",tika.detect("x.gtm"));
  assertEquals("application/vnd.groove-tool-template",tika.detect("x.tpl"));
  assertEquals("application/vnd.groove-vcard",tika.detect("x.vcg"));
  assertEquals("application/vnd.handheld-entertainment+xml",tika.detect("x.zmm"));
  assertEquals("application/vnd.hbci",tika.detect("x.hbci"));
  assertEquals("application/vnd.hhe.lesson-player",tika.detect("x.les"));
  assertEquals("application/vnd.hp-hpgl",tika.detect("x.hpgl"));
  assertEquals("application/vnd.hp-hpid",tika.detect("x.hpid"));
  assertEquals("application/vnd.hp-hps",tika.detect("x.hps"));
  assertEquals("application/vnd.hp-jlyt",tika.detect("x.jlt"));
  assertEquals("application/vnd.hp-pcl",tika.detect("x.pcl"));
  assertEquals("application/vnd.hp-pclxl",tika.detect("x.pclxl"));
  assertEquals("application/vnd.hydrostatix.sof-data",tika.detect("x.sfd-hdstx"));
  assertEquals("application/vnd.hzn-3d-crossword",tika.detect("x.x3d"));
  assertEquals("application/vnd.ibm.minipay",tika.detect("x.mpy"));
  assertEquals("application/vnd.ibm.modcap",tika.detect("x.afp"));
  assertEquals("application/vnd.ibm.modcap",tika.detect("x.listafp"));
  assertEquals("application/vnd.ibm.modcap",tika.detect("x.list3820"));
  assertEquals("application/vnd.ibm.rights-management",tika.detect("x.irm"));
  assertEquals("application/vnd.ibm.secure-container",tika.detect("x.sc"));
  assertEquals("application/vnd.iccprofile",tika.detect("x.icc"));
  assertEquals("application/vnd.iccprofile",tika.detect("x.icm"));
  assertEquals("application/vnd.igloader",tika.detect("x.igl"));
  assertEquals("application/vnd.immervision-ivp",tika.detect("x.ivp"));
  assertEquals("application/vnd.immervision-ivu",tika.detect("x.ivu"));
  assertEquals("application/vnd.intercon.formnet",tika.detect("x.xpw"));
  assertEquals("application/vnd.intercon.formnet",tika.detect("x.xpx"));
  assertEquals("application/vnd.intu.qbo",tika.detect("x.qbo"));
  assertEquals("application/vnd.intu.qfx",tika.detect("x.qfx"));
  assertEquals("application/vnd.ipunplugged.rcprofile",tika.detect("x.rcprofile"));
  assertEquals("application/vnd.irepository.package+xml",tika.detect("x.irp"));
  assertEquals("application/vnd.is-xpr",tika.detect("x.xpr"));
  assertEquals("application/vnd.jam",tika.detect("x.jam"));
  assertEquals("application/vnd.jcp.javame.midlet-rms",tika.detect("x.rms"));
  assertEquals("application/vnd.jisp",tika.detect("x.jisp"));
  assertEquals("application/vnd.joost.joda-archive",tika.detect("x.joda"));
  assertEquals("application/vnd.kahootz",tika.detect("x.ktz"));
  assertEquals("application/vnd.kahootz",tika.detect("x.ktr"));
  assertEquals("application/vnd.kde.karbon",tika.detect("x.karbon"));
  assertEquals("application/vnd.kde.kchart",tika.detect("x.chrt"));
  assertEquals("application/vnd.kde.kformula",tika.detect("x.kfo"));
  assertEquals("application/vnd.kde.kivio",tika.detect("x.flw"));
  assertEquals("application/vnd.kde.kontour",tika.detect("x.kon"));
  assertEquals("application/vnd.kde.kpresenter",tika.detect("x.kpr"));
  assertEquals("application/vnd.kde.kpresenter",tika.detect("x.kpt"));
  assertEquals("application/vnd.kde.kspread",tika.detect("x.ksp"));
  assertEquals("application/vnd.kde.kword",tika.detect("x.kwd"));
  assertEquals("application/vnd.kde.kword",tika.detect("x.kwt"));
  assertEquals("application/vnd.kenameaapp",tika.detect("x.htke"));
  assertEquals("application/vnd.kidspiration",tika.detect("x.kia"));
  assertEquals("application/vnd.kinar",tika.detect("x.kne"));
  assertEquals("application/vnd.kinar",tika.detect("x.knp"));
  assertEquals("application/vnd.koan",tika.detect("x.skp"));
  assertEquals("application/vnd.koan",tika.detect("x.skd"));
  assertEquals("application/vnd.koan",tika.detect("x.skt"));
  assertEquals("application/vnd.koan",tika.detect("x.skm"));
  assertEquals("application/vnd.kodak-descriptor",tika.detect("x.sse"));
  assertEquals("application/vnd.llamagraphics.life-balance.desktop",tika.detect("x.lbd"));
  assertEquals("application/vnd.llamagraphics.life-balance.exchange+xml",tika.detect("x.lbe"));
  assertEquals("application/vnd.lotus-1-2-3",tika.detect("x.123"));
  assertEquals("application/vnd.lotus-approach",tika.detect("x.apr"));
  assertEquals("application/vnd.lotus-freelance",tika.detect("x.pre"));
  assertEquals("application/vnd.lotus-notes",tika.detect("x.nsf"));
  assertEquals("application/vnd.lotus-organizer",tika.detect("x.org"));
  assertEquals("text/x-scheme",tika.detect("x.scm"));
  assertEquals("application/vnd.lotus-wordpro",tika.detect("x.lwp"));
  assertEquals("application/vnd.macports.portpkg",tika.detect("x.portpkg"));
  assertEquals("application/vnd.mcd",tika.detect("x.mcd"));
  assertEquals("application/vnd.medcalcdata",tika.detect("x.mc1"));
  assertEquals("application/vnd.mediastation.cdkey",tika.detect("x.cdkey"));
  assertEquals("application/vnd.mfer",tika.detect("x.mwf"));
  assertEquals("application/vnd.mfmp",tika.detect("x.mfm"));
  assertEquals("application/vnd.micrografx.flo",tika.detect("x.flo"));
  assertEquals("application/vnd.micrografx.igx",tika.detect("x.igx"));
  assertEquals("application/vnd.mif",tika.detect("x.mif"));
  assertEquals("application/vnd.mobius.daf",tika.detect("x.daf"));
  assertEquals("application/vnd.mobius.dis",tika.detect("x.dis"));
  assertEquals("application/vnd.mobius.mbk",tika.detect("x.mbk"));
  assertEquals("application/vnd.mobius.mqy",tika.detect("x.mqy"));
  assertEquals("application/vnd.mobius.msl",tika.detect("x.msl"));
  assertEquals("application/vnd.mobius.plc",tika.detect("x.plc"));
  assertEquals("application/vnd.mobius.txf",tika.detect("x.txf"));
  assertEquals("application/vnd.mophun.application",tika.detect("x.mpn"));
  assertEquals("application/vnd.mophun.certificate",tika.detect("x.mpc"));
  assertEquals("application/vnd.mozilla.xul+xml",tika.detect("x.xul"));
  assertEquals("application/vnd.ms-artgalry",tika.detect("x.cil"));
  assertEquals("application/vnd.ms-cab-compressed",tika.detect("x.cab"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xls"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xlm"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xla"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xlc"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xlt"));
  assertEquals("application/vnd.ms-excel",tika.detect("x.xlw"));
  assertEquals("application/vnd.ms-excel.addin.macroenabled.12",tika.detect("x.xlam"));
  assertEquals("application/vnd.ms-excel.sheet.binary.macroenabled.12",tika.detect("x.xlsb"));
  assertEquals("application/vnd.ms-excel.sheet.macroenabled.12",tika.detect("x.xlsm"));
  assertEquals("application/vnd.ms-excel.template.macroenabled.12",tika.detect("x.xltm"));
  assertEquals("application/vnd.ms-fontobject",tika.detect("x.eot"));
  assertEquals("application/vnd.ms-htmlhelp",tika.detect("x.chm"));
  assertEquals("application/vnd.ms-ims",tika.detect("x.ims"));
  assertEquals("application/vnd.ms-lrm",tika.detect("x.lrm"));
  assertEquals("application/vnd.ms-pki.seccat",tika.detect("x.cat"));
  assertEquals("application/vnd.ms-pki.stl",tika.detect("x.stl"));
  assertEquals("application/vnd.ms-powerpoint",tika.detect("x.ppt"));
  assertEquals("application/vnd.ms-powerpoint",tika.detect("x.pps"));
  assertEquals("application/vnd.ms-powerpoint",tika.detect("x.pot"));
  assertEquals("application/vnd.ms-powerpoint.addin.macroenabled.12",tika.detect("x.ppam"));
  assertEquals("application/vnd.ms-powerpoint.presentation.macroenabled.12",tika.detect("x.pptm"));
  assertEquals("application/vnd.ms-powerpoint.slide.macroenabled.12",tika.detect("x.sldm"));
  assertEquals("application/vnd.ms-powerpoint.slideshow.macroenabled.12",tika.detect("x.ppsm"));
  assertEquals("application/vnd.ms-powerpoint.template.macroenabled.12",tika.detect("x.potm"));
  assertEquals("application/vnd.ms-project",tika.detect("x.mpp"));
  assertEquals("application/vnd.ms-project",tika.detect("x.mpt"));
  assertEquals("application/vnd.ms-word.document.macroenabled.12",tika.detect("x.docm"));
  assertEquals("application/vnd.ms-word.template.macroenabled.12",tika.detect("x.dotm"));
  assertEquals("application/vnd.ms-works",tika.detect("x.wps"));
  assertEquals("application/vnd.ms-works",tika.detect("x.wks"));
  assertEquals("application/vnd.ms-works",tika.detect("x.wcm"));
  assertEquals("application/vnd.ms-works",tika.detect("x.wdb"));
  assertEquals("application/vnd.ms-wpl",tika.detect("x.wpl"));
  assertEquals("application/vnd.ms-xpsdocument",tika.detect("x.xps"));
  assertEquals("application/vnd.mseq",tika.detect("x.mseq"));
  assertEquals("application/vnd.musician",tika.detect("x.mus"));
  assertEquals("application/vnd.muvee.style",tika.detect("x.msty"));
  assertEquals("application/vnd.neurolanguage.nlu",tika.detect("x.nlu"));
  assertEquals("application/vnd.noblenet-directory",tika.detect("x.nnd"));
  assertEquals("application/vnd.noblenet-sealer",tika.detect("x.nns"));
  assertEquals("application/vnd.noblenet-web",tika.detect("x.nnw"));
  assertEquals("application/vnd.nokia.n-gage.data",tika.detect("x.ngdat"));
  assertEquals("application/vnd.nokia.n-gage.symbian.install",tika.detect("x.n-gage"));
  assertEquals("application/vnd.nokia.radio-preset",tika.detect("x.rpst"));
  assertEquals("application/vnd.nokia.radio-presets",tika.detect("x.rpss"));
  assertEquals("application/vnd.novadigm.edm",tika.detect("x.edm"));
  assertEquals("application/vnd.novadigm.edx",tika.detect("x.edx"));
  assertEquals("application/vnd.novadigm.ext",tika.detect("x.ext"));
  assertEquals("application/vnd.oasis.opendocument.chart",tika.detect("x.odc"));
  assertEquals("application/vnd.oasis.opendocument.chart-template",tika.detect("x.otc"));
  assertEquals("application/vnd.oasis.opendocument.database",tika.detect("x.odb"));
  assertEquals("application/vnd.oasis.opendocument.formula",tika.detect("x.odf"));
  assertEquals("application/vnd.oasis.opendocument.formula-template",tika.detect("x.odft"));
  assertEquals("application/vnd.oasis.opendocument.graphics",tika.detect("x.odg"));
  assertEquals("application/vnd.oasis.opendocument.graphics-template",tika.detect("x.otg"));
  assertEquals("application/vnd.oasis.opendocument.image",tika.detect("x.odi"));
  assertEquals("application/vnd.oasis.opendocument.image-template",tika.detect("x.oti"));
  assertEquals("application/vnd.oasis.opendocument.presentation",tika.detect("x.odp"));
  assertEquals("application/vnd.oasis.opendocument.presentation-template",tika.detect("x.otp"));
  assertEquals("application/vnd.oasis.opendocument.spreadsheet",tika.detect("x.ods"));
  assertEquals("application/vnd.oasis.opendocument.spreadsheet-template",tika.detect("x.ots"));
  assertEquals("application/vnd.oasis.opendocument.text",tika.detect("x.odt"));
  assertEquals("application/vnd.oasis.opendocument.text-master",tika.detect("x.otm"));
  assertEquals("application/vnd.oasis.opendocument.text-template",tika.detect("x.ott"));
  assertEquals("application/vnd.oasis.opendocument.text-web",tika.detect("x.oth"));
  assertEquals("application/vnd.olpc-sugar",tika.detect("x.xo"));
  assertEquals("application/vnd.oma.dd2+xml",tika.detect("x.dd2"));
  assertEquals("application/vnd.openofficeorg.extension",tika.detect("x.oxt"));
  assertEquals("application/vnd.openxmlformats-officedocument.presentationml.presentation",tika.detect("x.pptx"));
  assertEquals("application/vnd.openxmlformats-officedocument.presentationml.slide",tika.detect("x.sldx"));
  assertEquals("application/vnd.openxmlformats-officedocument.presentationml.slideshow",tika.detect("x.ppsx"));
  assertEquals("application/vnd.openxmlformats-officedocument.presentationml.template",tika.detect("x.potx"));
  assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",tika.detect("x.xlsx"));
  assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.template",tika.detect("x.xltx"));
  assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",tika.detect("x.docx"));
  assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.template",tika.detect("x.dotx"));
  assertEquals("application/vnd.osgi.dp",tika.detect("x.dp"));
  assertEquals("chemical/x-pdb",tika.detect("x.pdb"));
  assertEquals("application/vnd.palm",tika.detect("x.pqa"));
  assertEquals("application/vnd.palm",tika.detect("x.oprc"));
  assertEquals("application/vnd.pg.format",tika.detect("x.str"));
  assertEquals("application/vnd.pg.osasli",tika.detect("x.ei6"));
  assertEquals("application/vnd.picsel",tika.detect("x.efif"));
  assertEquals("application/vnd.pocketlearn",tika.detect("x.plf"));
  assertEquals("application/vnd.powerbuilder6",tika.detect("x.pbd"));
  assertEquals("application/vnd.previewsystems.box",tika.detect("x.box"));
  assertEquals("application/vnd.proteus.magazine",tika.detect("x.mgz"));
  assertEquals("application/vnd.publishare-delta-tree",tika.detect("x.qps"));
  assertEquals("application/vnd.pvi.ptid1",tika.detect("x.ptid"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qxd"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qxt"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qwd"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qwt"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qxl"));
  assertEquals("application/vnd.quark.quarkxpress",tika.detect("x.qxb"));
  assertEquals("application/vnd.recordare.musicxml",tika.detect("x.mxl"));
  assertEquals("application/vnd.recordare.musicxml+xml",tika.detect("x.musicxml"));
  assertEquals("application/vnd.rim.cod",tika.detect("x.cod"));
  assertEquals("application/vnd.rn-realmedia",tika.detect("x.rm"));
  assertEquals("application/vnd.route66.link66+xml",tika.detect("x.link66"));
  assertEquals("application/vnd.seemail",tika.detect("x.see"));
  assertEquals("application/vnd.sema",tika.detect("x.sema"));
  assertEquals("application/vnd.semd",tika.detect("x.semd"));
  assertEquals("application/vnd.semf",tika.detect("x.semf"));
  assertEquals("application/vnd.shana.informed.formdata",tika.detect("x.ifm"));
  assertEquals("application/vnd.shana.informed.formtemplate",tika.detect("x.itp"));
  assertEquals("application/vnd.shana.informed.interchange",tika.detect("x.iif"));
  assertEquals("application/vnd.shana.informed.package",tika.detect("x.ipk"));
  assertEquals("application/vnd.simtech-mindmapper",tika.detect("x.twd"));
  assertEquals("application/vnd.simtech-mindmapper",tika.detect("x.twds"));
  assertEquals("application/vnd.smaf",tika.detect("x.mmf"));
  assertEquals("application/vnd.smart.teacher",tika.detect("x.teacher"));
  assertEquals("application/vnd.solent.sdkm+xml",tika.detect("x.sdkm"));
  assertEquals("application/vnd.solent.sdkm+xml",tika.detect("x.sdkd"));
  assertEquals("application/vnd.spotfire.dxp",tika.detect("x.dxp"));
  assertEquals("application/vnd.spotfire.sfs",tika.detect("x.sfs"));
  assertEquals("application/vnd.stardivision.calc",tika.detect("x.sdc"));
  assertEquals("application/vnd.stardivision.draw",tika.detect("x.sda"));
  assertEquals("application/vnd.stardivision.impress",tika.detect("x.sdd"));
  assertEquals("application/vnd.stardivision.math",tika.detect("x.smf"));
  assertEquals("application/vnd.stardivision.writer",tika.detect("x.sdw"));
  assertEquals("application/x-staroffice-template",tika.detect("x.vor"));
  assertEquals("application/vnd.stardivision.writer-global",tika.detect("x.sgl"));
  assertEquals("application/vnd.sun.xml.calc",tika.detect("x.sxc"));
  assertEquals("application/vnd.sun.xml.calc.template",tika.detect("x.stc"));
  assertEquals("application/vnd.sun.xml.draw",tika.detect("x.sxd"));
  assertEquals("application/vnd.sun.xml.draw.template",tika.detect("x.std"));
  assertEquals("application/vnd.sun.xml.impress",tika.detect("x.sxi"));
  assertEquals("application/vnd.sun.xml.impress.template",tika.detect("x.sti"));
  assertEquals("application/vnd.sun.xml.math",tika.detect("x.sxm"));
  assertEquals("application/vnd.sun.xml.writer",tika.detect("x.sxw"));
  assertEquals("application/vnd.sun.xml.writer.global",tika.detect("x.sxg"));
  assertEquals("application/vnd.sun.xml.writer.template",tika.detect("x.stw"));
  assertEquals("application/vnd.sus-calendar",tika.detect("x.sus"));
  assertEquals("application/vnd.sus-calendar",tika.detect("x.susp"));
  assertEquals("application/vnd.svd",tika.detect("x.svd"));
  assertEquals("application/vnd.symbian.install",tika.detect("x.sis"));
  assertEquals("application/vnd.symbian.install",tika.detect("x.sisx"));
  assertEquals("application/vnd.syncml+xml",tika.detect("x.xsm"));
  assertEquals("application/vnd.syncml.dm+wbxml",tika.detect("x.bdm"));
  assertEquals("application/vnd.syncml.dm+xml",tika.detect("x.xdm"));
  assertEquals("application/vnd.tao.intent-module-archive",tika.detect("x.tao"));
  assertEquals("application/vnd.tmobile-livetv",tika.detect("x.tmo"));
  assertEquals("application/vnd.trid.tpt",tika.detect("x.tpt"));
  assertEquals("application/vnd.triscape.mxs",tika.detect("x.mxs"));
  assertEquals("application/vnd.trueapp",tika.detect("x.tra"));
  assertEquals("application/vnd.ufdl",tika.detect("x.ufd"));
  assertEquals("application/vnd.ufdl",tika.detect("x.ufdl"));
  assertEquals("application/vnd.uiq.theme",tika.detect("x.utz"));
  assertEquals("application/vnd.umajin",tika.detect("x.umj"));
  assertEquals("application/vnd.unity",tika.detect("x.unityweb"));
  assertEquals("application/vnd.uoml+xml",tika.detect("x.uoml"));
  assertEquals("application/vnd.vcx",tika.detect("x.vcx"));
  assertEquals("application/vnd.visio",tika.detect("x.vsd"));
  assertEquals("application/vnd.visio",tika.detect("x.vst"));
  assertEquals("application/vnd.visio",tika.detect("x.vss"));
  assertEquals("application/vnd.visio",tika.detect("x.vsw"));
  assertEquals("application/vnd.visionary",tika.detect("x.vis"));
  assertEquals("application/vnd.vsf",tika.detect("x.vsf"));
  assertEquals("application/vnd.wap.wbxml",tika.detect("x.wbxml"));
  assertEquals("application/vnd.wap.wmlc",tika.detect("x.wmlc"));
  assertEquals("application/vnd.wap.wmlscriptc",tika.detect("x.wmlsc"));
  assertEquals("application/vnd.webturbo",tika.detect("x.wtb"));
  assertEquals("application/vnd.wordperfect",tika.detect("x.wpd"));
  assertEquals("application/vnd.wqd",tika.detect("x.wqd"));
  assertEquals("application/vnd.wt.stf",tika.detect("x.stf"));
  assertEquals("application/vnd.xara",tika.detect("x.xar"));
  assertEquals("application/vnd.xfdl",tika.detect("x.xfdl"));
  assertEquals("application/vnd.yamaha.hv-dic",tika.detect("x.hvd"));
  assertEquals("application/vnd.yamaha.hv-script",tika.detect("x.hvs"));
  assertEquals("application/vnd.yamaha.hv-voice",tika.detect("x.hvp"));
  assertEquals("application/vnd.yamaha.openscoreformat",tika.detect("x.osf"));
  assertEquals("application/vnd.yamaha.openscoreformat.osfpvg+xml",tika.detect("x.osfpvg"));
  assertEquals("application/vnd.yamaha.smaf-audio",tika.detect("x.saf"));
  assertEquals("application/vnd.yamaha.smaf-phrase",tika.detect("x.spf"));
  assertEquals("application/vnd.yellowriver-custom-menu",tika.detect("x.cmp"));
  assertEquals("application/vnd.zul",tika.detect("x.zir"));
  assertEquals("application/vnd.zul",tika.detect("x.zirz"));
  assertEquals("application/vnd.zzazz.deck+xml",tika.detect("x.zaz"));
  assertEquals("application/voicexml+xml",tika.detect("x.vxml"));
  assertEquals("application/winhlp",tika.detect("x.hlp"));
  assertEquals("application/wsdl+xml",tika.detect("x.wsdl"));
  assertEquals("application/wspolicy+xml",tika.detect("x.wspolicy"));
  assertEquals("application/x-abiword",tika.detect("x.abw"));
  assertEquals("application/x-ace-compressed",tika.detect("x.ace"));
  assertEquals("application/x-authorware-bin",tika.detect("x.aab"));
  assertEquals("application/x-authorware-bin",tika.detect("x.x32"));
  assertEquals("application/x-authorware-bin",tika.detect("x.u32"));
  assertEquals("application/x-authorware-bin",tika.detect("x.vox"));
  assertEquals("application/x-authorware-map",tika.detect("x.aam"));
  assertEquals("application/x-authorware-seg",tika.detect("x.aas"));
  assertEquals("application/x-bcpio",tika.detect("x.bcpio"));
  assertEquals("application/x-bittorrent",tika.detect("x.torrent"));
  assertEquals("application/x-bzip",tika.detect("x.bz"));
  assertEquals("application/x-bzip2",tika.detect("x.bz2"));
  assertEquals("application/x-bzip2",tika.detect("x.boz"));
  assertEquals("application/x-cdlink",tika.detect("x.vcd"));
  assertEquals("application/x-chat",tika.detect("x.chat"));
  assertEquals("application/x-chess-pgn",tika.detect("x.pgn"));
  assertEquals("application/x-cpio",tika.detect("x.cpio"));
  assertEquals("application/x-csh",tika.detect("x.csh"));
  assertEquals("application/x-debian-package",tika.detect("x.deb"));
  assertEquals("application/x-debian-package",tika.detect("x.udeb"));
  assertEquals("application/x-director",tika.detect("x.dir"));
  assertEquals("application/x-director",tika.detect("x.dcr"));
  assertEquals("application/x-director",tika.detect("x.dxr"));
  assertEquals("application/x-director",tika.detect("x.cst"));
  assertEquals("application/x-director",tika.detect("x.cct"));
  assertEquals("application/x-director",tika.detect("x.cxt"));
  assertEquals("application/x-director",tika.detect("x.w3d"));
  assertEquals("application/x-director",tika.detect("x.fgd"));
  assertEquals("application/x-director",tika.detect("x.swa"));
  assertEquals("application/x-doom",tika.detect("x.wad"));
  assertEquals("application/x-dtbncx+xml",tika.detect("x.ncx"));
  assertEquals("application/x-dtbook+xml",tika.detect("x.dtb"));
  assertEquals("application/x-dtbresource+xml",tika.detect("x.res"));
  assertEquals("application/x-dvi",tika.detect("x.dvi"));
  assertEquals("application/x-font-bdf",tika.detect("x.bdf"));
  assertEquals("application/x-font-ghostscript",tika.detect("x.gsf"));
  assertEquals("application/x-font-linux-psf",tika.detect("x.psf"));
  assertEquals("application/x-font-otf",tika.detect("x.otf"));
  assertEquals("application/x-font-pcf",tika.detect("x.pcf"));
  assertEquals("application/x-font-snf",tika.detect("x.snf"));
  assertEquals("application/x-font-ttf",tika.detect("x.ttf"));
  assertEquals("application/x-font-ttf",tika.detect("x.ttc"));
  assertEquals("application/x-font-type1",tika.detect("x.pfa"));
  assertEquals("application/x-font-type1",tika.detect("x.pfb"));
  assertEquals("application/x-font-printer-metric",tika.detect("x.pfm"));
  assertEquals("application/x-font-adobe-metric",tika.detect("x.afm"));
  assertEquals("application/x-futuresplash",tika.detect("x.spl"));
  assertEquals("application/x-gnumeric",tika.detect("x.gnumeric"));
  assertEquals("application/x-gtar",tika.detect("x.gtar"));
  assertEquals("application/x-hdf",tika.detect("x.hdf"));
  assertEquals("application/x-java-jnlp-file",tika.detect("x.jnlp"));
  assertEquals("application/x-latex",tika.detect("x.latex"));
  assertEquals("application/x-mobipocket-ebook",tika.detect("x.prc"));
  assertEquals("application/x-mobipocket-ebook",tika.detect("x.mobi"));
  assertEquals("application/x-ms-application",tika.detect("x.application"));
  assertEquals("application/x-ms-wmd",tika.detect("x.wmd"));
  assertEquals("application/x-ms-wmz",tika.detect("x.wmz"));
  assertEquals("application/x-ms-xbap",tika.detect("x.xbap"));
  assertEquals("application/x-msaccess",tika.detect("x.mdb"));
  assertEquals("application/x-msbinder",tika.detect("x.obd"));
  assertEquals("application/x-mscardfile",tika.detect("x.crd"));
  assertEquals("application/x-msclip",tika.detect("x.clp"));
  assertEquals("application/x-dosexec",tika.detect("x.exe"));
  assertEquals("application/x-msdownload",tika.detect("x.dll"));
  assertEquals("application/x-msdownload",tika.detect("x.com"));
  assertEquals("application/x-msdownload",tika.detect("x.bat"));
  assertEquals("application/x-msmediaview",tika.detect("x.mvb"));
  assertEquals("application/x-msmediaview",tika.detect("x.m13"));
  assertEquals("application/x-msmediaview",tika.detect("x.m14"));
  assertEquals("application/x-msmetafile",tika.detect("x.wmf"));
  assertEquals("application/x-msmoney",tika.detect("x.mny"));
  assertEquals("application/x-mspublisher",tika.detect("x.pub"));
  assertEquals("application/x-msschedule",tika.detect("x.scd"));
  assertEquals("application/x-msterminal",tika.detect("x.trm"));
  assertEquals("application/x-mswrite",tika.detect("x.wri"));
  assertEquals("application/x-netcdf",tika.detect("x.nc"));
  assertEquals("application/x-netcdf",tika.detect("x.cdf"));
  assertEquals("application/x-pkcs12",tika.detect("x.p12"));
  assertEquals("application/x-pkcs12",tika.detect("x.pfx"));
  assertEquals("application/x-pkcs7-certificates",tika.detect("x.p7b"));
  assertEquals("application/x-pkcs7-certificates",tika.detect("x.spc"));
  assertEquals("application/x-pkcs7-certreqresp",tika.detect("x.p7r"));
  assertEquals("application/x-rar-compressed",tika.detect("x.rar"));
  assertEquals("application/x-sh",tika.detect("x.sh"));
  assertEquals("application/x-shar",tika.detect("x.shar"));
  assertEquals("application/x-shockwave-flash",tika.detect("x.swf"));
  assertEquals("application/x-silverlight-app",tika.detect("x.xap"));
  assertEquals("application/x-stuffit",tika.detect("x.sit"));
  assertEquals("application/x-stuffitx",tika.detect("x.sitx"));
  assertEquals("application/x-sv4cpio",tika.detect("x.sv4cpio"));
  assertEquals("application/x-sv4crc",tika.detect("x.sv4crc"));
  assertEquals("application/x-tar",tika.detect("x.tar"));
  assertEquals("text/x-tcl",tika.detect("x.tcl"));
  assertEquals("application/x-tex",tika.detect("x.tex"));
  assertEquals("application/x-tex-tfm",tika.detect("x.tfm"));
  assertEquals("application/x-texinfo",tika.detect("x.texinfo"));
  assertEquals("application/x-texinfo",tika.detect("x.texi"));
  assertEquals("application/x-ustar",tika.detect("x.ustar"));
  assertEquals("application/x-wais-source",tika.detect("x.src"));
  assertEquals("application/x-x509-ca-cert",tika.detect("x.der"));
  assertEquals("application/x-x509-ca-cert",tika.detect("x.crt"));
  assertEquals("application/x-xfig",tika.detect("x.fig"));
  assertEquals("application/x-xpinstall",tika.detect("x.xpi"));
  assertEquals("application/xenc+xml",tika.detect("x.xenc"));
  assertEquals("application/xhtml+xml",tika.detect("x.xhtml"));
  assertEquals("application/xhtml+xml",tika.detect("x.xht"));
  assertEquals("application/xml",tika.detect("x.xml"));
  assertEquals("application/xml",tika.detect("x.xsl"));
  assertEquals("application/xml-dtd",tika.detect("x.dtd"));
  assertEquals("application/xop+xml",tika.detect("x.xop"));
  assertEquals("application/xslt+xml",tika.detect("x.xslt"));
  assertEquals("application/xspf+xml",tika.detect("x.xspf"));
  assertEquals("application/xv+xml",tika.detect("x.mxml"));
  assertEquals("application/xv+xml",tika.detect("x.xhvml"));
  assertEquals("application/xv+xml",tika.detect("x.xvml"));
  assertEquals("application/xv+xml",tika.detect("x.xvm"));
  assertEquals("application/zip",tika.detect("x.zip"));
  assertEquals("audio/adpcm",tika.detect("x.adp"));
  assertEquals("audio/basic",tika.detect("x.au"));
  assertEquals("audio/basic",tika.detect("x.snd"));
  assertEquals("audio/midi",tika.detect("x.mid"));
  assertEquals("audio/midi",tika.detect("x.midi"));
  assertEquals("audio/midi",tika.detect("x.kar"));
  assertEquals("audio/midi",tika.detect("x.rmi"));
  assertEquals("audio/mp4",tika.detect("x.mp4a"));
  assertEquals("audio/mpeg",tika.detect("x.mpga"));
  assertEquals("audio/mpeg",tika.detect("x.mp2"));
  assertEquals("audio/mpeg",tika.detect("x.mp2a"));
  assertEquals("audio/mpeg",tika.detect("x.mp3"));
  assertEquals("audio/mpeg",tika.detect("x.m2a"));
  assertEquals("audio/mpeg",tika.detect("x.m3a"));
  assertEquals("audio/ogg",tika.detect("x.oga"));
  assertEquals("audio/vnd.digital-winds",tika.detect("x.eol"));
  assertEquals("audio/vnd.dts",tika.detect("x.dts"));
  assertEquals("audio/vnd.dts.hd",tika.detect("x.dtshd"));
  assertEquals("audio/vnd.lucent.voice",tika.detect("x.lvp"));
  assertEquals("audio/vnd.ms-playready.media.pya",tika.detect("x.pya"));
  assertEquals("audio/vnd.nuera.ecelp4800",tika.detect("x.ecelp4800"));
  assertEquals("audio/vnd.nuera.ecelp7470",tika.detect("x.ecelp7470"));
  assertEquals("audio/vnd.nuera.ecelp9600",tika.detect("x.ecelp9600"));
  assertEquals("audio/x-aac",tika.detect("x.aac"));
  assertEquals("audio/x-aiff",tika.detect("x.aif"));
  assertEquals("audio/x-aiff",tika.detect("x.aiff"));
  assertEquals("audio/x-aiff",tika.detect("x.aifc"));
  assertEquals("audio/x-mpegurl",tika.detect("x.m3u"));
  assertEquals("audio/x-ms-wax",tika.detect("x.wax"));
  assertEquals("audio/x-ms-wma",tika.detect("x.wma"));
  assertEquals("audio/x-pn-realaudio",tika.detect("x.ram"));
  assertEquals("audio/x-pn-realaudio",tika.detect("x.ra"));
  assertEquals("audio/x-pn-realaudio-plugin",tika.detect("x.rmp"));
  assertEquals("audio/x-wav",tika.detect("x.wav"));
  assertEquals("chemical/x-cdx",tika.detect("x.cdx"));
  assertEquals("chemical/x-cif",tika.detect("x.cif"));
  assertEquals("chemical/x-cmdf",tika.detect("x.cmdf"));
  assertEquals("chemical/x-cml",tika.detect("x.cml"));
  assertEquals("chemical/x-csml",tika.detect("x.csml"));
  assertEquals("chemical/x-xyz",tika.detect("x.xyz"));
  assertEquals("image/x-ms-bmp",tika.detect("x.bmp"));
  assertEquals("image/cgm",tika.detect("x.cgm"));
  assertEquals("image/g3fax",tika.detect("x.g3"));
  assertEquals("image/gif",tika.detect("x.gif"));
  assertEquals("image/ief",tika.detect("x.ief"));
  assertEquals("image/jpeg",tika.detect("x.jpeg"));
  assertEquals("image/jpeg",tika.detect("x.jpg"));
  assertEquals("image/jpeg",tika.detect("x.jpe"));
  assertEquals("image/jpm",tika.detect("x.jpm"));
  assertEquals("image/jpm",tika.detect("x.jpgm"));
  assertEquals("image/png",tika.detect("x.png"));
  assertEquals("image/prs.btif",tika.detect("x.btif"));
  assertEquals("image/svg+xml",tika.detect("x.svg"));
  assertEquals("image/svg+xml",tika.detect("x.svgz"));
  assertEquals("image/tiff",tika.detect("x.tiff"));
  assertEquals("image/tiff",tika.detect("x.tif"));
  assertEquals("image/vnd.adobe.photoshop",tika.detect("x.psd"));
  assertEquals("image/vnd.djvu",tika.detect("x.djvu"));
  assertEquals("image/vnd.djvu",tika.detect("x.djv"));
  assertEquals("image/vnd.dwg",tika.detect("x.dwg"));
  assertEquals("image/vnd.dxf",tika.detect("x.dxf"));
  assertEquals("image/vnd.fastbidsheet",tika.detect("x.fbs"));
  assertEquals("image/vnd.fpx",tika.detect("x.fpx"));
  assertEquals("image/vnd.fst",tika.detect("x.fst"));
  assertEquals("image/vnd.fujixerox.edmics-mmr",tika.detect("x.mmr"));
  assertEquals("image/vnd.fujixerox.edmics-rlc",tika.detect("x.rlc"));
  assertEquals("image/vnd.ms-modi",tika.detect("x.mdi"));
  assertEquals("image/vnd.net-fpx",tika.detect("x.npx"));
  assertEquals("image/vnd.wap.wbmp",tika.detect("x.wbmp"));
  assertEquals("image/vnd.xiff",tika.detect("x.xif"));
  assertEquals("image/x-cmu-raster",tika.detect("x.ras"));
  assertEquals("image/x-cmx",tika.detect("x.cmx"));
  assertEquals("image/x-freehand",tika.detect("x.fh"));
  assertEquals("image/x-freehand",tika.detect("x.fhc"));
  assertEquals("image/x-freehand",tika.detect("x.fh4"));
  assertEquals("image/x-freehand",tika.detect("x.fh5"));
  assertEquals("image/x-freehand",tika.detect("x.fh7"));
  assertEquals("image/x-pcx",tika.detect("x.pcx"));
  assertEquals("image/x-pict",tika.detect("x.pic"));
  assertEquals("image/x-pict",tika.detect("x.pct"));
  assertEquals("image/x-portable-anymap",tika.detect("x.pnm"));
  assertEquals("image/x-portable-bitmap",tika.detect("x.pbm"));
  assertEquals("image/x-portable-graymap",tika.detect("x.pgm"));
  assertEquals("image/x-portable-pixmap",tika.detect("x.ppm"));
  assertEquals("image/x-rgb",tika.detect("x.rgb"));
  assertEquals("image/x-xbitmap",tika.detect("x.xbm"));
  assertEquals("image/x-xpixmap",tika.detect("x.xpm"));
  assertEquals("image/x-xwindowdump",tika.detect("x.xwd"));
  assertEquals("message/rfc822",tika.detect("x.eml"));
  assertEquals("message/rfc822",tika.detect("x.mime"));
  assertEquals("model/iges",tika.detect("x.igs"));
  assertEquals("model/iges",tika.detect("x.iges"));
  assertEquals("model/mesh",tika.detect("x.msh"));
  assertEquals("model/mesh",tika.detect("x.mesh"));
  assertEquals("model/mesh",tika.detect("x.silo"));
  assertEquals("model/vnd.dwf",tika.detect("x.dwf"));
  assertEquals("model/vnd.gdl",tika.detect("x.gdl"));
  assertEquals("model/vnd.gtw",tika.detect("x.gtw"));
  assertEquals("model/vnd.mts",tika.detect("x.mts"));
  assertEquals("model/vnd.vtu",tika.detect("x.vtu"));
  assertEquals("model/vrml",tika.detect("x.wrl"));
  assertEquals("model/vrml",tika.detect("x.vrml"));
  assertEquals("text/calendar",tika.detect("x.ics"));
  assertEquals("text/calendar",tika.detect("x.ifb"));
  assertEquals("text/css",tika.detect("x.css"));
  assertEquals("text/csv",tika.detect("x.csv"));
  assertEquals("text/html",tika.detect("x.html"));
  assertEquals("text/html",tika.detect("x.htm"));
  assertEquals("text/plain",tika.detect("x.txt"));
  assertEquals("text/plain",tika.detect("x.text"));
  assertEquals("text/plain",tika.detect("x.conf"));
  assertEquals("text/plain",tika.detect("x.def"));
  assertEquals("text/plain",tika.detect("x.list"));
  assertEquals("text/x-log",tika.detect("x.log"));
  assertEquals("text/plain",tika.detect("x.in"));
  assertEquals("text/prs.lines.tag",tika.detect("x.dsc"));
  assertEquals("text/richtext",tika.detect("x.rtx"));
  assertEquals("text/sgml",tika.detect("x.sgml"));
  assertEquals("text/sgml",tika.detect("x.sgm"));
  assertEquals("text/tab-separated-values",tika.detect("x.tsv"));
  assertEquals("text/troff",tika.detect("x.t"));
  assertEquals("text/troff",tika.detect("x.tr"));
  assertEquals("text/troff",tika.detect("x.roff"));
  assertEquals("text/troff",tika.detect("x.man"));
  assertEquals("text/troff",tika.detect("x.me"));
  assertEquals("text/troff",tika.detect("x.ms"));
  assertEquals("text/uri-list",tika.detect("x.uri"));
  assertEquals("text/uri-list",tika.detect("x.uris"));
  assertEquals("text/uri-list",tika.detect("x.urls"));
  assertEquals("text/vnd.curl",tika.detect("x.curl"));
  assertEquals("text/vnd.curl.dcurl",tika.detect("x.dcurl"));
  assertEquals("text/vnd.curl.scurl",tika.detect("x.scurl"));
  assertEquals("text/vnd.curl.mcurl",tika.detect("x.mcurl"));
  assertEquals("text/vnd.fly",tika.detect("x.fly"));
  assertEquals("text/vnd.fmi.flexstor",tika.detect("x.flx"));
  assertEquals("text/vnd.graphviz",tika.detect("x.gv"));
  assertEquals("text/vnd.in3d.3dml",tika.detect("x.3dml"));
  assertEquals("text/vnd.in3d.spot",tika.detect("x.spot"));
  assertEquals("text/vnd.sun.j2me.app-descriptor",tika.detect("x.jad"));
  assertEquals("text/vnd.wap.wml",tika.detect("x.wml"));
  assertEquals("text/vnd.wap.wmlscript",tika.detect("x.wmls"));
  assertEquals("text/x-assembly",tika.detect("x.s"));
  assertEquals("text/x-assembly",tika.detect("x.asm"));
  assertEquals("text/x-csrc",tika.detect("x.c"));
  assertEquals("text/x-c++src",tika.detect("x.cc"));
  assertEquals("text/x-c++src",tika.detect("x.cxx"));
  assertEquals("text/x-c++src",tika.detect("x.cpp"));
  assertEquals("text/x-chdr",tika.detect("x.h"));
  assertEquals("text/x-c++hdr",tika.detect("x.hh"));
  assertEquals("text/x-fortran",tika.detect("x.f"));
  assertEquals("text/x-fortran",tika.detect("x.for"));
  assertEquals("text/x-fortran",tika.detect("x.f77"));
  assertEquals("text/x-fortran",tika.detect("x.f90"));
  assertEquals("text/x-pascal",tika.detect("x.p"));
  assertEquals("text/x-pascal",tika.detect("x.pas"));
  assertEquals("text/x-java-source",tika.detect("x.java"));
  assertEquals("text/x-setext",tika.detect("x.etx"));
  assertEquals("text/x-uuencode",tika.detect("x.uu"));
  assertEquals("text/x-vcalendar",tika.detect("x.vcs"));
  assertEquals("text/x-vcard",tika.detect("x.vcf"));
  assertEquals("video/3gpp",tika.detect("x.3gp"));
  assertEquals("video/3gpp2",tika.detect("x.3g2"));
  assertEquals("video/h261",tika.detect("x.h261"));
  assertEquals("video/h263",tika.detect("x.h263"));
  assertEquals("video/h264",tika.detect("x.h264"));
  assertEquals("video/jpeg",tika.detect("x.jpgv"));
  assertEquals("video/mj2",tika.detect("x.mj2"));
  assertEquals("video/mj2",tika.detect("x.mjp2"));
  assertEquals("video/mp4",tika.detect("x.mp4"));
  assertEquals("video/mp4",tika.detect("x.mp4v"));
  assertEquals("video/mp4",tika.detect("x.mpg4"));
  assertEquals("video/mpeg",tika.detect("x.mpeg"));
  assertEquals("video/mpeg",tika.detect("x.mpg"));
  assertEquals("video/mpeg",tika.detect("x.mpe"));
  assertEquals("video/mpeg",tika.detect("x.m1v"));
  assertEquals("video/mpeg",tika.detect("x.m2v"));
  assertEquals("video/ogg",tika.detect("x.ogv"));
  assertEquals("video/quicktime",tika.detect("x.qt"));
  assertEquals("video/quicktime",tika.detect("x.mov"));
  assertEquals("video/vnd.fvt",tika.detect("x.fvt"));
  assertEquals("video/vnd.mpegurl",tika.detect("x.mxu"));
  assertEquals("video/vnd.mpegurl",tika.detect("x.m4u"));
  assertEquals("video/vnd.ms-playready.media.pyv",tika.detect("x.pyv"));
  assertEquals("video/vnd.vivo",tika.detect("x.viv"));
  assertEquals("video/x-f4v",tika.detect("x.f4v"));
  assertEquals("video/x-fli",tika.detect("x.fli"));
  assertEquals("video/x-flv",tika.detect("x.flv"));
  assertEquals("video/x-m4v",tika.detect("x.m4v"));
  assertEquals("video/x-ms-asf",tika.detect("x.asf"));
  assertEquals("video/x-ms-asf",tika.detect("x.asx"));
  assertEquals("video/x-ms-wm",tika.detect("x.wm"));
  assertEquals("video/x-ms-wmv",tika.detect("x.wmv"));
  assertEquals("video/x-ms-wmx",tika.detect("x.wmx"));
  assertEquals("video/x-ms-wvx",tika.detect("x.wvx"));
  assertEquals("video/x-msvideo",tika.detect("x.avi"));
  assertEquals("video/x-sgi-movie",tika.detect("x.movie"));
  assertEquals("x-conference/x-cooltalk",tika.detect("x.ice"));
  assertEquals("application/x-grib",tika.detect("x.grb"));
  assertEquals("application/x-grib",tika.detect("x.grb1"));
  assertEquals("application/x-grib",tika.detect("x.grb2"));
  assertEquals("application/dif+xml",tika.detect("x.dif"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchDriverTest </h4><pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void noRestartTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("no_restart",outputDir,null);
  String[] mod=Arrays.copyOf(args,args.length + 2);
  mod[args.length]="-numConsumers";
  mod[args.length + 1]="1";
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",mod);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(2,countChildren(outputDir));
  Path test2=outputDir.resolve("test2_norestart.xml.xml");
  assertTrue("test2_norestart.xml",Files.exists(test2));
  Path test3=outputDir.resolve("test3_ok.xml.xml");
  assertFalse("test3_ok.xml",Files.exists(test3));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=30000) public void testNoRestartIfProcessFails() throws Exception {
  Path outputDir=getNewOutputDir("nostart-norestart-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  String[] commandLine=getDefaultCommandLineArgsArr("basic",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-broken.xml",commandLine);
  driver.execute();
  assertEquals(0,countChildren(outputDir));
  assertEquals(0,driver.getNumRestarts());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void restartOnOOMTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("oom",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(1,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=30000) public void testNoRestartIfProcessFailsTake2() throws Exception {
  Path outputDir=getNewOutputDir("nostart-norestart-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-somethingOrOther","I don't Know");
  String[] commandLine=getDefaultCommandLineArgsArr("basic",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(0,countChildren(outputDir));
  assertEquals(0,driver.getNumRestarts());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithStarvedCrawler() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","2");
  args.put("-maxQueueSize","2");
  String[] commandLine=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(3,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void maxRestarts() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-maxRestarts","2");
  String[] commandLine=getDefaultCommandLineArgsArr("max_restarts",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(2,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(3,countChildren(outputDir));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void restartOnFullHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertTrue(driver.getNumRestarts() > 0);
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void oneHeavyHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertTrue(Files.isDirectory(outputDir));
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("one_heavy_hang",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(5,countChildren(outputDir));
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchProcessTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testConsumersManagerInitHang() throws Exception {
  Path outputDir=getNewOutputDir("init_hang");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("hangOnInit","true");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  StreamStrings streamStrings=ex.execute();
  assertEquals(BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,ex.getExitValue());
  assertContains("causeForTermination='CONSUMERS_MANAGER_DIDNT_INIT_IN_TIME_NO_RESTART'",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlingOfIllegalXMLCharsInException() throws Exception {
  Path outputDir=getNewOutputDir("illegal_xml_chars_in_exception");
  Map<String,String> args=getDefaultArgs("illegal_xml_chars_in_exception",outputDir);
  args.put("numConsumers","1");
  args.put("recursiveParserWrapper","true");
  args.put("basicHandlerType","text");
  args.put("outputSuffix","json");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml","/log4j-on.properties");
  StreamStrings ss=ex.execute();
  assertFalse(ss.getOutString().contains("error writing xml stream for"));
  assertContains("parse_ex resourceId=\"test0_bad_chars.xml\"",ss.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testConsumersManagerShutdownHang() throws Exception {
  Path outputDir=getNewOutputDir("shutdown_hang");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("hangOnShutdown","true");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  StreamStrings streamStrings=ex.execute();
  assertEquals(BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,ex.getExitValue());
  assertContains("ConsumersManager did not shutdown within",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testRedirectionOfStreams() throws Exception {
  Path outputDir=getNewOutputDir("noisy_parsers");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("maxAliveTimeSeconds","20");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(1,countChildren(outputDir));
  assertContains("System.out",streamStrings.getOutString());
  assertContains("System.err",streamStrings.getOutString());
  assertEquals(0,streamStrings.getErrString().length());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.FSFileResourceTest </h4><pre class="type-9 type-12 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativization() throws Exception {
  Path root=Paths.get("root/abc/def").toAbsolutePath();
  Path allegedChild=Paths.get(root.getParent().getParent().toAbsolutePath().toString());
  try {
    FSFileResource r=new FSFileResource(root,allegedChild);
    fail("should have had assertion error: alleged child not actually child of root");
  }
 catch (  AssertionError e) {
  }
  root=Paths.get("root/abc/def");
  Path child=Paths.get(root.toString(),"ghi/jkl/lmnop.doc");
  FSFileResource r=new FSFileResource(root,child);
  String id=r.getResourceId();
  assertTrue(id.startsWith("ghi"));
  assertTrue(id.endsWith("lmnop.doc"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.bundle.BundleIT </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBundleDetection() throws Exception {
  Metadata metadataTXT=new Metadata();
  metadataTXT.set(Metadata.RESOURCE_NAME_KEY,"test.txt");
  Metadata metadataPDF=new Metadata();
  metadataPDF.set(Metadata.RESOURCE_NAME_KEY,"test.pdf");
  assertEquals(MediaType.TEXT_PLAIN,contentTypeDetector.detect(null,metadataTXT));
  assertEquals(MediaType.application("pdf"),contentTypeDetector.detect(null,metadataPDF));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForkParser() throws Exception {
  ForkParser parser=new ForkParser(Activator.class.getClassLoader(),defaultParser);
  String data="<!DOCTYPE html>\n<html><body><p>test <span>content</span></p></body></html>";
  InputStream stream=new ByteArrayInputStream(data.getBytes(UTF_8));
  Writer writer=new StringWriter();
  ContentHandler contentHandler=new BodyContentHandler(writer);
  Metadata metadata=new Metadata();
  MediaType type=contentTypeDetector.detect(stream,metadata);
  assertEquals(type.toString(),"text/html");
  metadata.add(Metadata.CONTENT_TYPE,type.toString());
  ParseContext parseCtx=new ParseContext();
  parser.parse(stream,contentHandler,metadata,parseCtx);
  writer.flush();
  String content=writer.toString();
  assertTrue(content.length() > 0);
  assertEquals("test content",content.trim());
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBundleSimpleText() throws Exception {
  Tika tika=new Tika();
  String xml=tika.parseToString(new File("pom.xml"));
  assertTrue(xml.contains("tika-bundle"));
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleLoaded() throws Exception {
  boolean hasCore=false, hasBundle=false;
  for (  Bundle b : bc.getBundles()) {
    if ("org.apache.tika.core".equals(b.getSymbolicName())) {
      hasCore=true;
      assertEquals("Core not activated",Bundle.ACTIVE,b.getState());
    }
    if ("org.apache.tika.bundle".equals(b.getSymbolicName())) {
      hasBundle=true;
      assertEquals("Bundle not activated",Bundle.ACTIVE,b.getState());
    }
  }
  assertTrue("Core bundle not found",hasCore);
  assertTrue("Bundle bundle not found",hasBundle);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaConfigTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1145 If the TikaConfig has a ClassLoader set on it,
 * that should be used when loading the mimetypes and when
 * discovering services
 */
@Test public void ensureClassLoaderUsedEverywhere() throws Exception {
  ResourceLoggingClassLoader customLoader=new ResourceLoggingClassLoader(getClass().getClassLoader());
  TikaConfig config;
  config=new TikaConfig();
  config.getMediaTypeRegistry();
  config.getParser();
  assertEquals(0,customLoader.getLoadedResources().size());
  config=new TikaConfig(customLoader);
  config.getMediaTypeRegistry();
  config.getParser();
  Map<String,List<URL>> resources=customLoader.getLoadedResources();
  int resourcesCount=resources.size();
  assertTrue("Not enough things used the classloader, found only " + resourcesCount,resourcesCount > 3);
  assertNotNull(resources.get("META-INF/services/org.apache.tika.parser.Parser"));
  assertNotNull(resources.get("META-INF/services/org.apache.tika.detect.Detector"));
  assertNotNull(resources.get("org/apache/tika/mime/tika-mimetypes.xml"));
  assertNotNull(resources.get("org/apache/tika/mime/custom-mimetypes.xml"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDynamicServiceLoaderFromConfig() throws Exception {
  URL url=TikaConfigTest.class.getResource("TIKA-1700-dynamic.xml");
  TikaConfig config=new TikaConfig(url);
  DummyParser parser=(DummyParser)config.getParser();
  ServiceLoader loader=parser.getLoader();
  boolean dynamicValue=loader.isDynamic();
  assertTrue("Dynamic Service Loading Should be true",dynamicValue);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTikaExecutorServiceFromConfig() throws Exception {
  URL url=TikaConfigTest.class.getResource("TIKA-1762-executors.xml");
  TikaConfig config=new TikaConfig(url);
  ThreadPoolExecutor executorService=(ThreadPoolExecutor)config.getExecutorService();
  assertTrue("Should use Dummy Executor",(executorService instanceof DummyExecutor));
  assertEquals("Should have configured Core Threads",3,executorService.getCorePoolSize());
  assertEquals("Should have configured Max Threads",10,executorService.getMaximumPoolSize());
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1445 It should be possible to exclude DefaultParser from
 * certain types, so another parser explicitly listed will take them
 */
@Test public void defaultParserWithExcludes() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1445-default-except.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(3,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(DefaultParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
    p=parsers.get(2);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(ErrorParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("fail/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure that with a service loader given, we can
 * get different configurable behaviour on parser classes
 * which can't be found.
 */
@Test public void testUnknownParser() throws Exception {
  ServiceLoader ignoreLoader=new ServiceLoader(getClass().getClassLoader(),LoadErrorHandler.IGNORE);
  ServiceLoader warnLoader=new ServiceLoader(getClass().getClassLoader(),LoadErrorHandler.WARN);
  ServiceLoader throwLoader=new ServiceLoader(getClass().getClassLoader(),LoadErrorHandler.THROW);
  Path configPath=Paths.get(new URI(getConfigPath("TIKA-1700-unknown-parser.xml")));
  TikaConfig ignore=new TikaConfig(configPath,ignoreLoader);
  assertNotNull(ignore);
  assertNotNull(ignore.getParser());
  assertEquals(1,((CompositeParser)ignore.getParser()).getAllComponentParsers().size());
  TikaConfig warn=new TikaConfig(configPath,warnLoader);
  assertNotNull(warn);
  assertNotNull(warn.getParser());
  assertEquals(1,((CompositeParser)warn.getParser()).getAllComponentParsers().size());
  try {
    new TikaConfig(configPath,throwLoader);
    fail("Shouldn't get here, invalid parser class");
  }
 catch (  TikaException expected) {
  }
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1653 If one parser has child parsers, those child parsers shouldn't
 * show up at the top level as well
 */
@Test public void parserWithChildParsers() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1653-norepeat.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(2,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof CompositeParser);
    assertEquals(2,((CompositeParser)p).getAllComponentParsers().size());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaDetectorConfigTest </h4><pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1708 - If the Zip detector is disabled, either explicitly,
 * or via giving a list of detectors that it isn't part of, ensure
 * that detection of PST files still works
 */
@Test public void testPSTDetectionWithoutZipDetector() throws Exception {
  TikaConfig configWX=getConfig("TIKA-1708-detector-default.xml");
  assertNotNull(configWX.getParser());
  assertNotNull(configWX.getDetector());
  CompositeDetector detectorWX=(CompositeDetector)configWX.getDetector();
  assertDetectors(detectorWX,true,false);
  TikaConfig configCL=getConfig("TIKA-1708-detector-composite.xml");
  assertNotNull(configCL.getParser());
  assertNotNull(configCL.getDetector());
  CompositeDetector detectorCL=(CompositeDetector)configCL.getDetector();
  assertEquals(2,detectorCL.getDetectors().size());
  assertDetectors(detectorCL,true,false);
  assertTrue("Not enough mime types: " + configWX.getMediaTypeRegistry().getTypes().size(),configWX.getMediaTypeRegistry().getTypes().size() > 100);
  assertTrue("Not enough mime types: " + configCL.getMediaTypeRegistry().getTypes().size(),configCL.getMediaTypeRegistry().getTypes().size() > 100);
  TikaInputStream stream=TikaInputStream.get(getResourceAsFile("/test-documents/testPST.pst"));
  assertEquals(OutlookPSTParser.MS_OUTLOOK_PST_MIMETYPE,detectorWX.detect(stream,new Metadata()));
  assertEquals(OutlookPSTParser.MS_OUTLOOK_PST_MIMETYPE,detectorCL.detect(stream,new Metadata()));
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectorExcludeFromDefault() throws Exception {
  TikaConfig config=getConfig("TIKA-1702-detector-blacklist.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  CompositeDetector detector=(CompositeDetector)config.getDetector();
  assertEquals(2,detector.getDetectors().size());
  assertEquals(DefaultDetector.class,detector.getDetectors().get(0).getClass());
  assertEquals(EmptyDetector.class,detector.getDetectors().get(1).getClass());
  DefaultDetector confDetector=(DefaultDetector)detector.getDetectors().get(0);
  DefaultDetector normDetector=new DefaultDetector(config.getMimeRepository());
  assertDetectors(normDetector,true,true);
  assertDetectors(confDetector,false,false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaParserConfigTest </h4><pre class="type-14 type-12 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParserExcludeFromDefault() throws Exception {
  TikaConfig config=getConfig("TIKA-1558-blacklist.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  CompositeParser parser=(CompositeParser)config.getParser();
  MediaType PE_EXE=MediaType.application("x-msdownload");
  MediaType ELF=MediaType.application("x-elf");
  ParserDecorator confWrappedParser=(ParserDecorator)parser.getParsers().get(MediaType.APPLICATION_XML);
  assertNotNull(confWrappedParser);
  DefaultParser confParser=(DefaultParser)confWrappedParser.getWrappedParser();
  DefaultParser normParser=new DefaultParser(config.getMediaTypeRegistry());
  assertContains(PE_EXE,normParser.getSupportedTypes(context));
  assertContains(ELF,normParser.getSupportedTypes(context));
  boolean hasExec=false;
  for (  Parser p : normParser.getParsers().values()) {
    if (p instanceof ExecutableParser) {
      hasExec=true;
      break;
    }
  }
  assertTrue(hasExec);
  assertNotContained(PE_EXE,confParser.getSupportedTypes(context));
  assertNotContained(ELF,confParser.getSupportedTypes(context));
  for (  Parser p : confParser.getParsers().values()) {
    if (p instanceof ExecutableParser)     fail("Shouldn't have the Executable Parser from config");
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMimeExcludeInclude() throws Exception {
  TikaConfig config=getConfig("TIKA-1558-blacklist.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  Parser parser=config.getParser();
  MediaType PDF=MediaType.application("pdf");
  MediaType JPEG=MediaType.image("jpeg");
  assertEquals(CompositeParser.class,parser.getClass());
  CompositeParser cParser=(CompositeParser)parser;
  assertEquals(2,cParser.getAllComponentParsers().size());
  assertTrue(cParser.getAllComponentParsers().get(0) instanceof ParserDecorator);
  assertTrue(cParser.getAllComponentParsers().get(1) instanceof ParserDecorator);
  ParserDecorator p0=(ParserDecorator)cParser.getAllComponentParsers().get(0);
  ParserDecorator p1=(ParserDecorator)cParser.getAllComponentParsers().get(1);
  assertEquals(DefaultParser.class,p0.getWrappedParser().getClass());
  assertNotContained(PDF,p0.getSupportedTypes(context));
  assertContains(PDF,p0.getWrappedParser().getSupportedTypes(context));
  assertNotContained(JPEG,p0.getSupportedTypes(context));
  assertContains(JPEG,p0.getWrappedParser().getSupportedTypes(context));
  assertEquals(EmptyParser.class,p1.getWrappedParser().getClass());
  assertEquals(1,p1.getSupportedTypes(context).size());
  assertContains(PDF,p1.getSupportedTypes(context));
  assertNotContained(PDF,p1.getWrappedParser().getSupportedTypes(context));
}

</code></pre>

<br>
<pre class="type-14 type-12 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1558 It should be possible to exclude Parsers from being picked up by
 * DefaultParser.
 */
@Test public void defaultParserBlacklist() throws Exception {
  TikaConfig config=new TikaConfig();
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  CompositeParser cp=(CompositeParser)config.getParser();
  List<Parser> parsers=cp.getAllComponentParsers();
  boolean hasXML=false;
  for (  Parser p : parsers) {
    if (p instanceof XMLParser) {
      hasXML=true;
      break;
    }
  }
  assertTrue("Default config should include an XMLParser.",hasXML);
  config=getConfig("TIKA-1558-blacklistsub.xml");
  cp=(CompositeParser)config.getParser();
  parsers=cp.getAllComponentParsers();
  for (  Parser p : parsers) {
    if (p instanceof XMLParser)     fail("Custom config should not include an XMLParser (" + p.getClass() + ").");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaTranslatorConfigTest </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Currently, Translators don't support Composites, so
 * if multiple translators are given, only the first wins
 */
@Test public void testRequestsMultiple() throws Exception {
  TikaConfig config=getConfig("TIKA-1702-translator-empty-default.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  assertNotNull(config.getTranslator());
  assertEquals(EmptyTranslator.class,config.getTranslator().getClass());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestsDefault() throws Exception {
  TikaConfig config=getConfig("TIKA-1702-translator-default.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  assertNotNull(config.getTranslator());
  assertEquals(DefaultTranslator.class,config.getTranslator().getClass());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestsEmpty() throws Exception {
  TikaConfig config=getConfig("TIKA-1702-translator-empty.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  assertNotNull(config.getTranslator());
  assertEquals(EmptyTranslator.class,config.getTranslator().getClass());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultBehaviour() throws Exception {
  TikaConfig config=TikaConfig.getDefaultConfig();
  assertNotNull(config.getTranslator());
  assertEquals(DefaultTranslator.class,config.getTranslator().getClass());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.detect.TestContainerAwareDetector </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTruncatedFiles() throws Exception {
  Metadata m=new Metadata();
  try (TikaInputStream xlsx=getTruncatedFile("testEXCEL.xlsx",300)){
    assertEquals(MediaType.application("x-tika-ooxml"),detector.detect(xlsx,m));
  }
   m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"testEXCEL.xlsx");
  try (TikaInputStream xlsx=getTruncatedFile("testEXCEL.xlsx",300)){
    assertEquals(MediaType.application("vnd.openxmlformats-officedocument.spreadsheetml.sheet"),detector.detect(xlsx,m));
  }
   m=new Metadata();
  try (TikaInputStream xls=getTruncatedFile("testEXCEL.xls",400)){
    assertEquals(MediaType.application("x-tika-msoffice"),detector.detect(xls,m));
  }
   m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"testEXCEL.xls");
  try (TikaInputStream xls=getTruncatedFile("testEXCEL.xls",400)){
    assertEquals(MediaType.application("vnd.ms-excel"),detector.detect(xls,m));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpenContainer() throws Exception {
  try (TikaInputStream stream=TikaInputStream.get(TestContainerAwareDetector.class.getResource("/test-documents/testPPT.ppt"))){
    assertNull(stream.getOpenContainer());
    assertEquals(MediaType.parse("application/vnd.ms-powerpoint"),detector.detect(stream,new Metadata()));
    assertTrue(stream.getOpenContainer() instanceof NPOIFSFileSystem);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.ContentHandlerExampleTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseToPlainTextChunks() throws IOException, SAXException, TikaException {
  List<String> result=example.parseToPlainTextChunks();
  assertEquals(3,result.size());
  for (  String chunk : result) {
    assertTrue("Chunk under max size",chunk.length() <= example.MAXIMUM_TEXT_CHUNK_SIZE);
  }
  assertContains("This is in the header",result.get(0));
  assertContains("Test Document",result.get(0));
  assertContains("Testing",result.get(1));
  assertContains("1 2 3",result.get(1));
  assertContains("TestTable",result.get(1));
  assertContains("Testing 123",result.get(2));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseToPlainText() throws IOException, SAXException, TikaException {
  String result=example.parseToPlainText().trim();
  assertEquals("Expected 'test', but got '" + result + "'","test",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.DumpTikaConfigExampleTest </h4><pre class="type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDump() throws Exception {
  DumpTikaConfigExample ex=new DumpTikaConfigExample();
  for (  Charset charset : new Charset[]{UTF_8,UTF_16LE}) {
    for (    Mode mode : Mode.values()) {
      Writer writer=new OutputStreamWriter(new FileOutputStream(configFile),charset);
      ex.dump(TikaConfig.getDefaultConfig(),mode,writer,charset.name());
      writer.flush();
      writer.close();
      TikaConfig c=new TikaConfig(configFile);
      assertTrue(c.getParser().toString(),c.getParser() instanceof CompositeParser);
      assertTrue(c.getDetector().toString(),c.getDetector() instanceof CompositeDetector);
      CompositeParser p=(CompositeParser)c.getParser();
      assertTrue("enough parsers?",p.getParsers().size() > 130);
      CompositeDetector d=(CompositeDetector)c.getDetector();
      assertTrue("enough detectors?",d.getDetectors().size() > 3);
      Parser auto=new AutoDetectParser(c);
      assertNotNull(auto);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.ExtractEmbeddedFilesTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtractEmbeddedFiles() throws Exception {
  List<Path> extracted=parsingExample.extractEmbeddedDocumentsExample(outputPath);
  assertEquals(2,extracted.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.TestParsingExample </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseExample() throws IOException, SAXException, TikaException {
  String result=parsingExample.parseExample().trim();
  assertEquals("Expected 'test', but got '" + result + "'","test",result);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseToStringExample() throws IOException, SAXException, TikaException {
  String result=parsingExample.parseToStringExample().trim();
  assertEquals("Expected 'test', but got '" + result + "'","test",result);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecursiveParserWrapperExample() throws IOException, SAXException, TikaException {
  List<Metadata> metadataList=parsingExample.recursiveParserWrapperExample();
  assertEquals("Number of embedded documents + 1 for the container document",12,metadataList.size());
  Metadata m=metadataList.get(6);
  assertEquals("/embed1.zip/embed2.zip/embed3.zip/embed3.txt",m.get("X-TIKA:embedded_resource_path"));
  assertContains("When in the Course",m.get("X-TIKA:content"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializedRecursiveParserWrapperExample() throws IOException, SAXException, TikaException {
  String json=parsingExample.serializedRecursiveParserWrapperExample();
  assertTrue(json.indexOf("When in the Course") > -1);
  List<Metadata> metadataList=JsonMetadataList.fromJson(new StringReader(json));
  assertEquals(12,metadataList.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.TranslatorExampleTest </h4><pre class="type-14 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMicrosoftTranslateToFrench(){
  String text="hello";
  String expected="salut";
  String translated=translatorExample.microsoftTranslateToFrench(text);
  if (!translated.equals(text))   assertEquals(expected,translated.toLowerCase(Locale.ROOT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TailStreamTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether skip() also fills the tail buffer.
 */
@Test public void testSkip() throws IOException {
  final int tailSize=128;
  final int count=1024;
  final int skipCount=512;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  assertEquals("Wrong skip result",skipCount,stream.skip(skipCount));
  assertEquals("Wrong buffer",generateText(skipCount - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether a reset() operation without a mark is simply ignored.
 */
@Test public void testResetWithoutMark() throws IOException {
  final int tailSize=75;
  final int count=128;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  stream.reset();
  byte[] buf=new byte[count];
  stream.read(buf);
  assertEquals("Wrong buffer",generateText(count - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether mark() and reset() work as expected.
 */
@Test public void testReadWithMarkAndReset() throws IOException {
  final int tailSize=64;
  TailStream stream=new TailStream(generateStream(0,2 * tailSize),tailSize);
  byte[] buf=new byte[tailSize / 2];
  stream.read(buf);
  stream.mark(tailSize);
  stream.read(buf);
  stream.reset();
  readStream(stream);
  assertEquals("Wrong buffer",generateText(tailSize,tailSize),new String(stream.getTail(),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a skip operation at the end of the stream.
 */
@Test public void testSkipEOS() throws IOException {
  final int count=128;
  TailStream stream=new TailStream(generateStream(0,count),2 * count);
  assertEquals("Wrong skip result",count,stream.skip(2 * count));
  assertEquals("Wrong buffer",generateText(0,count),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the content of the tail buffer if larger chunks are read.
 */
@Test public void testTailChunkReads() throws IOException {
  final int count=16384;
  final int tailSize=61;
  final int bufSize=100;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  byte[] buf=new byte[bufSize];
  int read=stream.read(buf,10,8);
  assertEquals("Wrong number of bytes read",8,read);
  while (read != -1) {
    read=stream.read(buf);
  }
  assertEquals("Wrong buffer",generateText(count - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TemporaryResourcesTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFileDeletion() throws IOException {
  Path tempFile;
  try (TemporaryResources tempResources=new TemporaryResources()){
    tempFile=tempResources.createTempFile();
    assertTrue("Temp file should exist while TempResources is used",Files.exists(tempFile));
  }
   assertTrue("Temp file should not exist after TempResources is closed",Files.notExists(tempFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TikaInputStreamTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMetadata() throws Exception {
  URL url=TikaInputStreamTest.class.getResource("test.txt");
  Metadata metadata=new Metadata();
  TikaInputStream.get(url,metadata).close();
  assertEquals("test.txt",metadata.get(Metadata.RESOURCE_NAME_KEY));
  assertEquals(Long.toString(Files.size(Paths.get(url.toURI()))),metadata.get(Metadata.CONTENT_LENGTH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageIdentifierTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMixedLanguages() throws IOException {
  for (  String language : languages) {
    for (    String other : languages) {
      if (!language.equals(other)) {
        if (language.equals("lt") || other.equals("lt")) {
          continue;
        }
        ProfilingWriter writer=new ProfilingWriter();
        writeTo(language,writer);
        writeTo(other,writer);
        LanguageIdentifier identifier=null;
        identifier=new LanguageIdentifier(writer.getProfile());
        assertFalse("mix of " + language + " and "+ other+ " incorrectly detected as "+ identifier,identifier.isReasonablyCertain());
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEstonia() throws Exception {
  final String estonian="et";
  ProfilingWriter writer=new ProfilingWriter();
  writeTo(estonian,writer);
  LanguageIdentifier identifier=new LanguageIdentifier(writer.getProfile());
  assertEquals(estonian,identifier.getLanguage());
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageDetection() throws IOException {
  for (  String language : languages) {
    ProfilingWriter writer=new ProfilingWriter();
    writeTo(language,writer);
    LanguageIdentifier identifier=null;
    identifier=new LanguageIdentifier(writer.getProfile());
    assertEquals(language,identifier.getLanguage());
    if (!language.equals("lt")) {
      assertTrue(identifier.toString(),identifier.isReasonablyCertain());
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearAddAndInitProfiles() throws IOException {
  ProfilingWriter enWriter=new ProfilingWriter();
  writeTo("en",enWriter);
  LanguageProfile enProfile=enWriter.getProfile();
  ProfilingWriter deWriter=new ProfilingWriter();
  writeTo("de",deWriter);
  LanguageProfile deProfile=deWriter.getProfile();
  LanguageIdentifier identifier=null;
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  LanguageIdentifier.clearProfiles();
  identifier=new LanguageIdentifier(enProfile);
  assertFalse(identifier.isReasonablyCertain());
  LanguageIdentifier.addProfile("en",enProfile);
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  HashMap<String,LanguageProfile> profilesMap=new HashMap<String,LanguageProfile>();
  profilesMap.put("en",enProfile);
  profilesMap.put("de",deProfile);
  LanguageIdentifier.initProfiles(profilesMap);
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  identifier=new LanguageIdentifier(deProfile);
  assertEquals("de",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageProfileTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageProfile() throws IOException {
  LanguageProfile foo=new LanguageProfile();
  assertEquals(0,foo.getCount("foo"));
  foo.add("foo");
  assertEquals(1,foo.getCount("foo"));
  foo.add("foo",3);
  assertEquals(4,foo.getCount("foo"));
  LanguageProfile bar=new LanguageProfile();
  assertEquals(1.0,foo.distance(bar),1e-8);
  bar.add("bar");
  assertEquals(Math.sqrt(2.0),foo.distance(bar),1e-8);
  bar.add("bar",3);
  assertEquals(Math.sqrt(2.0),foo.distance(bar),1e-8);
  LanguageProfile foobar=new LanguageProfile();
  assertTrue(foo.distance(foobar) == bar.distance(foobar));
  foobar.add("foo");
  assertTrue(foo.distance(foobar) < bar.distance(foobar));
  foobar.add("bar");
  assertTrue(foo.distance(foobar) == bar.distance(foobar));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageProfilerBuilderTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNGramProfile() throws IOException, TikaException, URISyntaxException {
  createLanguageProfile();
  LanguageIdentifier.addProfile(LANGUAGE,langProfile);
  LanguageIdentifier identifier=new LanguageIdentifier(langProfile);
  assertEquals(LANGUAGE,identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateProfile() throws TikaException, IOException, URISyntaxException {
  try (InputStream is=LanguageProfilerBuilderTest.class.getResourceAsStream(corpusName)){
    ngramProfile=LanguageProfilerBuilder.create(profileName,is,UTF_8.name());
  }
   File f=new File(profileName + "." + FILE_EXTENSION);
  FileOutputStream fos=new FileOutputStream(f);
  ngramProfile.save(fos);
  fos.close();
  assertEquals(maxlen,ngramProfile.getSorted().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.ProfilingWriterTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProfilingWriter() throws IOException {
  ProfilingWriter writer=new ProfilingWriter();
  writer.write(" foo+BAR FooBar\n");
  writer.close();
  LanguageProfile profile=writer.getProfile();
  assertEquals(2,profile.getCount("_fo"));
  assertEquals(2,profile.getCount("foo"));
  assertEquals(1,profile.getCount("oo_"));
  assertEquals(1,profile.getCount("oob"));
  assertEquals(1,profile.getCount("oba"));
  assertEquals(1,profile.getCount("_ba"));
  assertEquals(2,profile.getCount("bar"));
  assertEquals(2,profile.getCount("ar_"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.CachedTranslatorTest </h4><pre class="type-14 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleTranslate() throws Exception {
  String source="hola senor";
  String expected="hello sir";
  if (cachedTranslator.isAvailable()) {
    String result=cachedTranslator.translate(source,"es","en");
    assertNotNull(result);
    assertEquals("Result: [" + result + "]: not equal to expected: ["+ expected+ "]",expected,result);
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCachingTwoStrings() throws Exception {
  for (int i=0; i < 20; i++) {
    cachedTranslator.translate("This is a test string to translate!","en","no");
    cachedTranslator.translate("This is a different string...","en","fr");
  }
  assertEquals("Cache doesn't have two translation pairs!",cachedTranslator.getNumTranslationPairs(),2);
  assertEquals("Cache has more than en to no translation!",cachedTranslator.getNumTranslationsFor("en","no"),1);
  assertEquals("Cache has more than en to fr translation!",cachedTranslator.getNumTranslationsFor("en","fr"),1);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCachingSingleString() throws Exception {
  for (int i=0; i < 20; i++) {
    cachedTranslator.translate("This is a test string to translate!","en","sv");
  }
  assertEquals("Cache doesn't have a single translation pair!",cachedTranslator.getNumTranslationPairs(),1);
  assertEquals("Cache has more than one element!",cachedTranslator.getNumTranslationsFor("en","sv"),1);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCacheContains() throws Exception {
  String text="Text that should be long enough to detect a language from.";
  assertFalse("Cache should not contain a translation!",cachedTranslator.contains(text,"en","it"));
  cachedTranslator.translate(text,"en","it");
  assertTrue("Cache should contain a translation!",cachedTranslator.contains(text,"en","it"));
  assertTrue("Cache should detect source language when checking if contains.",cachedTranslator.contains(text,"it"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.MicrosoftTranslatorTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleTranslate() throws Exception {
  String source="hello";
  String expected="salut";
  String translated=translator.translate(source,"en","fr");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleDetectTranslate() throws Exception {
  String source="hello";
  String expected="salut";
  String translated=translator.translate(source,"fr");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.MosesTranslatorTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleTranslate() throws Exception {
  String source="hola";
  String expected="hello";
  String translated=translator.translate(source,"sp","en");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.TestMetadata </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>names</code> method. 
 */
@Test public void testNames(){
  String[] names=null;
  Metadata meta=new Metadata();
  names=meta.names();
  assertEquals(0,names.length);
  meta.add("name-one","value");
  names=meta.names();
  assertEquals(1,names.length);
  assertEquals("name-one",names[0]);
  meta.add("name-two","value");
  names=meta.names();
  assertEquals(2,names.length);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>equals(Object)</code> method. 
 */
@Test public void testObject(){
  Metadata meta1=new Metadata();
  Metadata meta2=new Metadata();
  assertFalse(meta1.equals(null));
  assertFalse(meta1.equals("String"));
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.2");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.x");
  assertFalse(meta1.equals(meta2));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>isMultiValued()</code> method. 
 */
@Test public void testIsMultiValued(){
  Metadata meta=new Metadata();
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value1");
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value2");
  assertTrue(meta.isMultiValued("key"));
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests for getting and setting date
 * based properties
 */
@Test public void testGetSetDate(){
  Metadata meta=new Metadata();
  long hour=60 * 60 * 1000;
  assertEquals(null,meta.get(TikaCoreProperties.CREATED));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
  try {
    meta.set(Metadata.BITS_PER_SAMPLE,new Date(1000));
    fail("Shouldn't be able to set a multi valued property as a date");
  }
 catch (  PropertyTypeException e) {
  }
  try {
    meta.set(Metadata.IMAGE_WIDTH,new Date(1000));
    fail("Shouldn't be able to set an int property as an date");
  }
 catch (  PropertyTypeException e) {
  }
  meta.set(TikaCoreProperties.CREATED,new Date(1000));
  assertEquals("1970-01-01T00:00:01Z",meta.get(TikaCoreProperties.CREATED));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"INVALID");
  assertEquals("INVALID",meta.get(TikaCoreProperties.CREATED));
  assertEquals(null,meta.getDate(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,new Date(1000));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  assertEquals(null,meta.getInt(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,new Date(1050));
  assertEquals("1970-01-01T00:00:01Z",meta.get(TikaCoreProperties.CREATED));
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T00:00:01Z");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01 00:00:01Z");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T01:00:01+01:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01 01:00:01+01:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T12:00:01+12:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1969-12-31T12:00:01-12:00");
  assertEquals(1000,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970-01-01");
  assertEquals(12 * hour,meta.getDate(TikaCoreProperties.CREATED).getTime());
  meta.set(TikaCoreProperties.CREATED,"1970:01:01");
  assertEquals(12 * hour,meta.getDate(TikaCoreProperties.CREATED).getTime());
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests for getting and setting integer
 * based properties
 */
@Test public void testGetSetInt(){
  Metadata meta=new Metadata();
  assertEquals(null,meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(null,meta.getInt(Metadata.IMAGE_WIDTH));
  try {
    meta.set(Metadata.BITS_PER_SAMPLE,1);
    fail("Shouldn't be able to set a multi valued property as an int");
  }
 catch (  PropertyTypeException e) {
  }
  try {
    meta.set(TikaCoreProperties.CREATED,1);
    fail("Shouldn't be able to set a date property as an int");
  }
 catch (  PropertyTypeException e) {
  }
  meta.set(Metadata.IMAGE_WIDTH,22);
  assertEquals("22",meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(22,meta.getInt(Metadata.IMAGE_WIDTH).intValue());
  meta.set(Metadata.IMAGE_WIDTH,"INVALID");
  assertEquals("INVALID",meta.get(Metadata.IMAGE_WIDTH));
  assertEquals(null,meta.getInt(Metadata.IMAGE_WIDTH));
  meta.set(Metadata.IMAGE_WIDTH,22);
  assertEquals(22,meta.getInt(Metadata.IMAGE_WIDTH).intValue());
  assertEquals(null,meta.getInt(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,meta.getInt(TikaCoreProperties.CREATED));
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>get(String)</code> method. 
 */
@Test public void testGet(){
  Metadata meta=new Metadata();
  assertNull(meta.get("a-name"));
  meta.add("a-name","value-1");
  assertEquals("value-1",meta.get("a-name"));
  meta.add("a-name","value-2");
  assertEquals("value-1",meta.get("a-name"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Defines a composite property, then checks that when set as the
 * composite the value can be retrieved with the property or the aliases
 */
@SuppressWarnings("deprecation") @Test public void testCompositeProperty(){
  Metadata meta=new Metadata();
  Property compositeProperty=Property.composite(DublinCore.DESCRIPTION,new Property[]{Property.internalText(Metadata.DESCRIPTION),Property.internalText("testDescriptionAlt")});
  String message="composite description";
  meta.set(compositeProperty,message);
  assertEquals(message,meta.get(compositeProperty));
  assertEquals(message,meta.get(DublinCore.DESCRIPTION));
  assertEquals(message,meta.get(Metadata.DESCRIPTION));
  assertEquals(message,meta.get("testDescriptionAlt"));
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for <code>remove(String)</code> method. 
 */
@Test public void testRemove(){
  Metadata meta=new Metadata();
  meta.remove("name-one");
  assertEquals(0,meta.size());
  meta.add("name-one","value-1.1");
  meta.add("name-one","value-1.2");
  meta.add("name-two","value-2.2");
  assertEquals(2,meta.size());
  assertNotNull(meta.get("name-one"));
  assertNotNull(meta.get("name-two"));
  meta.remove("name-one");
  assertEquals(1,meta.size());
  assertNull(meta.get("name-one"));
  assertNotNull(meta.get("name-two"));
  meta.remove("name-two");
  assertEquals(0,meta.size());
  assertNull(meta.get("name-one"));
  assertNull(meta.get("name-two"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for <code>setAll(Properties)</code> method. 
 */
@Test public void testSetProperties(){
  String[] values=null;
  Metadata meta=new Metadata();
  Properties props=new Properties();
  meta.setAll(props);
  assertEquals(0,meta.size());
  props.setProperty("name-one","value1.1");
  meta.setAll(props);
  assertEquals(1,meta.size());
  values=meta.getValues("name-one");
  assertEquals(1,values.length);
  assertEquals("value1.1",values[0]);
  props.setProperty("name-two","value2.1");
  meta.setAll(props);
  assertEquals(2,meta.size());
  values=meta.getValues("name-one");
  assertEquals(1,values.length);
  assertEquals("value1.1",values[0]);
  values=meta.getValues("name-two");
  assertEquals(1,values.length);
  assertEquals("value2.1",values[0]);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for the <code>set(String, String)</code> method. 
 */
@Test public void testSet(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  assertEquals(0,values.length);
  meta.set(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  meta.set(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
  meta.set(CONTENTTYPE,"new value 1");
  meta.add("contenttype","new value 2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(2,values.length);
  assertEquals("new value 1",values[0]);
  assertEquals("new value 2",values[1]);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Some documents, like jpegs, might have date in unspecified time zone
 * which should be handled like strings but verified to have parseable ISO 8601 format
 */
@Test public void testGetSetDateUnspecifiedTimezone(){
  Metadata meta=new Metadata();
  meta.set(TikaCoreProperties.CREATED,"1970-01-01T00:00:01");
  assertEquals("should return string without time zone specifier because zone is not known","1970-01-01T00:00:01",meta.get(TikaCoreProperties.CREATED));
  meta.set(TikaCoreProperties.CREATED,DateUtils.formatDateUnknownTimezone(new Date(1000)));
  assertEquals("should return string without time zone specifier because zone is not known","1970-01-01T00:00:01",meta.get(TikaCoreProperties.CREATED));
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for the <code>add(String, String)</code> method. 
 */
@Test public void testAdd(){
  String[] values=null;
  Metadata meta=new Metadata();
  values=meta.getValues(CONTENTTYPE);
  assertEquals(0,values.length);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  meta.add(CONTENTTYPE,"value2");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(2,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  meta.add(CONTENTTYPE,"value1");
  values=meta.getValues(CONTENTTYPE);
  assertEquals(3,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  assertEquals("value1",values[2]);
  Property nonMultiValued=Property.internalText("nonMultiValued");
  meta.add(nonMultiValued,"value1");
  try {
    meta.add(nonMultiValued,"value2");
    fail("add should fail on the second call of a non-multi valued item");
  }
 catch (  PropertyTypeException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.serialization.JsonMetadataTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLargeNumberOfKeys() throws Exception {
  Metadata m=new Metadata();
  for (int i=0; i < 100000; i++) {
    m.set(Integer.toString(i),"val_" + i);
  }
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(m,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(m,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicSerializationAndDeserialization() throws Exception {
  Metadata metadata=new Metadata();
  metadata.add("k1","v1");
  metadata.add("k1","v2");
  metadata.add("k3","v3");
  metadata.add("k3","v3");
  metadata.add("k4","500,000");
  metadata.add("alma_mater","\u666E\u6797\u65AF\u987F\u5927\u5B66");
  metadata.add("url","/myApp/myAction.html?method=router&cmd=1");
  metadata.add("html","<html><body>&amp;&nbsp;</body></html>");
  metadata.add("json_escapes","the: \"quick\" brown, fox");
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(metadata,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(7,deserialized.names().length);
  assertEquals(metadata,deserialized);
  assertEquals(6,deserialized.get("alma_mater").length());
  writer=new StringWriter();
  JsonMetadata.setPrettyPrinting(true);
  JsonMetadata.toJson(metadata,writer);
  assertTrue(writer.toString().contains("  \"json_escapes\": \"the: \\\"quick\\\" brown, fox\",\n" + "  \"k1\": [\n" + "    \"v1\",\n"+ "    \"v2\"\n"+ "  ],\n"+ "  \"k3\": [\n"+ "    \"v3\",\n"+ "    \"v3\"\n"+ "  ],\n"+ "  \"k4\": \"500,000\",\n"+ "  \"url\": \"/myApp/myAction.html?method\\u003drouter\\u0026cmd\\u003d1\"\n"+ "}"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLargeValues() throws Exception {
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < 1000000; i++) {
    sb.append("v");
  }
  Metadata m=new Metadata();
  m.add("large_value1",sb.toString());
  m.add("large_value2",sb.toString());
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(m,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(m,deserialized);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.CustomReaderTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCustomReader() throws Exception {
  MimeTypes mimeTypes=new MimeTypes();
  CustomMimeTypesReader reader=new CustomMimeTypesReader(mimeTypes);
  reader.read(getClass().getResourceAsStream("custom-mimetypes.xml"));
  String key="hello/world-file";
  MimeType hello=mimeTypes.forName(key);
  assertEquals("A \"Hello World\" file",hello.getDescription());
  assertEquals("world",reader.values.get(key));
  assertEquals(0,reader.ignorePatterns.size());
  reader.read(getClass().getResourceAsStream("custom-mimetypes2.xml"));
  key="another/world-file";
  MimeType another=mimeTypes.forName(key);
  assertEquals("kittens",reader.values.get(key));
  assertEquals(1,reader.ignorePatterns.size());
  assertEquals(another.toString() + ">>*" + hello.getExtension(),reader.ignorePatterns.get(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MediaTypeTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseWithParams(){
  String mimeStringWithParams="text/html;charset=UTF-8;foo=bar;foo2=bar2";
  MediaType type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(3,type.getParameters().keySet().size());
  boolean gotCharset=false, gotFoo=false, gotFoo2=false;
  for (  String param : type.getParameters().keySet()) {
    if (param.equals("charset")) {
      gotCharset=true;
    }
 else     if (param.equals("foo")) {
      gotFoo=true;
    }
 else     if (param.equals("foo2")) {
      gotFoo2=true;
    }
  }
  assertTrue(gotCharset && gotFoo && gotFoo2);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Per http://tools.ietf.org/html/rfc2045#section-5.1, charset can be in quotes
 */
@Test public void testParseWithParamsAndQuotedCharset(){
  String mimeStringWithParams="text/html;charset=\"UTF-8\"";
  MediaType type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertEquals(singletonMap("charset","UTF-8"),type.getParameters());
  mimeStringWithParams="text/html;charset=\'UTF-8\';test=\"true\";unquoted=here";
  type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertEquals(3,type.getParameters().size());
  assertEquals("UTF-8",type.getParameters().get("charset"));
  assertEquals("true",type.getParameters().get("test"));
  assertEquals("here",type.getParameters().get("unquoted"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseNoParamsWithSemi(){
  String mimeStringNoParamsWithSemi="text/html;";
  MediaType type=MediaType.parse(mimeStringNoParamsWithSemi);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(0,type.getParameters().keySet().size());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseNoParams(){
  String mimeStringNoParams="text/html";
  MediaType type=MediaType.parse(mimeStringNoParams);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(0,type.getParameters().keySet().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeDetectionTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for type detection of empty documents.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-483">TIKA-483</a>
 */
@Test public void testEmptyDocument() throws IOException {
  assertEquals(MediaType.OCTET_STREAM,mimeTypes.detect(new ByteArrayInputStream(new byte[0]),new Metadata()));
  Metadata namehint=new Metadata();
  namehint.set(Metadata.RESOURCE_NAME_KEY,"test.txt");
  assertEquals(MediaType.TEXT_PLAIN,mimeTypes.detect(new ByteArrayInputStream(new byte[0]),namehint));
  Metadata typehint=new Metadata();
  typehint.set(Metadata.CONTENT_TYPE,"text/plain");
  assertEquals(MediaType.TEXT_PLAIN,mimeTypes.detect(new ByteArrayInputStream(new byte[0]),typehint));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteOrderMark() throws Exception {
  assertEquals(MediaType.TEXT_PLAIN,mimeTypes.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16LE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN,mimeTypes.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16BE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN,mimeTypes.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_8)),new Metadata()));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both
 * have the same priority, we use the name to pick the
 * right one based on the glob, or the first one we
 * come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypesReaderTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetExtensionForPowerPoint() throws Exception {
  MimeType mt=this.mimeTypes.forName("application/vnd.ms-powerpoint");
  String ext=mt.getExtension();
  assertEquals(".ppt",ext);
  assertEquals(".ppt",mt.getExtensions().get(0));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @since TIKA-1012
 */
@Test public void testReadExtendedMetadata() throws Exception {
  MimeType mime=this.mimeTypes.forName("image/x-ms-bmp");
  assertEquals("BMP",mime.getAcronym());
  assertEquals("com.microsoft.bmp",mime.getUniformTypeIdentifier());
  assertEquals("http://en.wikipedia.org/wiki/BMP_file_format",mime.getLinks().get(0).toString());
  mime=this.mimeTypes.forName("application/xml");
  assertEquals("XML",mime.getAcronym());
  assertEquals("public.xml",mime.getUniformTypeIdentifier());
  assertEquals("http://en.wikipedia.org/wiki/Xml",mime.getLinks().get(0).toString());
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExcelMatches() throws Exception {
  int minMatches=4;
  MimeType excel=mimeTypes.forName("application/vnd.ms-excel");
  assertTrue(excel.hasMagic());
  assertTrue("There should be at least " + minMatches + " Excel matches, found "+ excel.getMagics().size(),excel.getMagics().size() >= minMatches);
  List<Magic> excelMagics=new ArrayList<Magic>();
  for (  Magic magic : magics) {
    if (magic.getType().toString().equals("application/vnd.ms-excel")) {
      excelMagics.add(magic);
    }
  }
  assertTrue("There should be at least " + minMatches + " Excel matches, found "+ excelMagics.size(),excelMagics.size() >= minMatches);
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-746 Ensures that the custom mimetype maps were also 
 * loaded and used
 */
@Test public void testCustomMimeTypes(){
  String helloWorld="hello/world";
  String helloWorldFile="hello/world-file";
  String helloXWorld="hello/x-world-hello";
  try {
    assertNotNull(this.mimeTypes.forName(helloWorld));
    assertNotNull(this.mimeTypes.forName(helloWorldFile));
    assertNotNull(this.mimeTypes.forName(helloXWorld));
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  try {
    MimeType hw=this.mimeTypes.forName(helloWorld);
    MimeType hwf=this.mimeTypes.forName(helloWorldFile);
    MimeType hxw=this.mimeTypes.forName(helloXWorld);
    assertEquals("",hw.getDescription());
    assertEquals("",hw.getExtension());
    assertEquals(0,hw.getExtensions().size());
    assertEquals(0,hw.getMagics().size());
    assertEquals("A \"Hello World\" file",hwf.getDescription());
    assertEquals(".hello.world",hwf.getExtension());
    assertEquals(1,hwf.getMagics().size());
    assertEquals("",hxw.getDescription());
    assertEquals(".x-hello-world",hxw.getExtension());
    assertEquals(1,hxw.getMagics().size());
    Metadata m=new Metadata();
    m.add(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
    assertEquals(hwf.toString(),this.mimeTypes.detect(null,m).toString());
    m=new Metadata();
    m.add(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
    assertEquals(hxw.toString(),this.mimeTypes.detect(null,m).toString());
    m=new Metadata();
    ByteArrayInputStream s=new ByteArrayInputStream("Hello, World!".getBytes(US_ASCII));
    assertEquals(hxw.toString(),this.mimeTypes.detect(s,m).toString());
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHtmlMatches() throws Exception {
  int minMatches=10;
  MimeType html=mimeTypes.forName("text/html");
  assertTrue(html.hasMagic());
  assertTrue("There should be at least " + minMatches + " HTML matches, found "+ html.getMagics().size(),html.getMagics().size() >= minMatches);
  List<Magic> htmlMagics=new ArrayList<Magic>();
  for (  Magic magic : magics) {
    if (magic.getType().toString().equals("text/html")) {
      htmlMagics.add(magic);
    }
  }
  assertTrue("There should be at least " + minMatches + " HTML matches, found "+ htmlMagics.size(),htmlMagics.size() >= minMatches);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadParameterHierarchy() throws Exception {
  MimeType mimeBTree4=this.mimeTypes.forName("application/x-berkeley-db;format=btree;version=4");
  MediaType mtBTree4=mimeBTree4.getType();
  assertEquals("application/x-berkeley-db; format=btree; version=4",mimeBTree4.toString());
  assertEquals("application/x-berkeley-db; format=btree; version=4",mtBTree4.toString());
  MediaType mtBTree=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree4);
  assertEquals("application/x-berkeley-db; format=btree",mtBTree.toString());
  Set<MediaType> mtBTreeChildren=this.mimeTypes.getMediaTypeRegistry().getChildTypes(mtBTree);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.size() >= 3);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.contains(mtBTree4));
  MediaType mtBD=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree);
  assertEquals("application/x-berkeley-db",mtBD.toString());
  MediaType mtAlt=MediaType.application("x-berkeley-db; format=unknown; version=42");
  MediaType mtAltP=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtAlt);
  assertEquals("application/x-berkeley-db",mtAltP.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRegisteredMimesWithParameters() throws Exception {
  String name="application/xml; charset=UTF-8";
  MediaType mt=MediaType.parse(name);
  assertEquals(name,mt.toString());
  MimeType mimeType=this.mimeTypes.getRegisteredMimeType(name);
  assertEquals("application/xml",mimeType.toString());
  assertEquals(".xml",mimeType.getExtension());
  name="application/dita+xml; format=map";
  mt=MediaType.parse(name);
  assertEquals(name,mt.toString());
  mimeType=this.mimeTypes.getRegisteredMimeType(name);
  assertEquals(name,mimeType.toString());
  assertEquals(".ditamap",mimeType.getExtension());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypesTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsDescendantOf(){
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(TEXT_PLAIN,TEXT_PLAIN));
  assertFalse(registry.isSpecializationOf(html.getType(),html.getType()));
  assertTrue(registry.isSpecializationOf(html.getType(),OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,html.getType()));
  assertTrue(registry.isSpecializationOf(html.getType(),TEXT_PLAIN));
  assertFalse(registry.isSpecializationOf(TEXT_PLAIN,html.getType()));
  assertTrue(registry.isSpecializationOf(TEXT_PLAIN,OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,TEXT_PLAIN));
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForName() throws MimeTypeException {
  assertEquals(text,types.forName("text/plain"));
  assertEquals(text,types.forName("TEXT/PLAIN"));
  try {
    types.forName("invalid");
    fail("MimeTypeException not thrown on invalid type name");
  }
 catch (  MimeTypeException e) {
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuperType() throws MimeTypeException {
  assertNull(registry.getSupertype(OCTET_STREAM));
  assertEquals(OCTET_STREAM,registry.getSupertype(TEXT_PLAIN));
  assertEquals(TEXT_PLAIN,registry.getSupertype(html.getType()));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCompareTo(){
  assertTrue(binary.compareTo(binary) == 0);
  assertTrue(binary.compareTo(text) != 0);
  assertTrue(binary.compareTo(html) != 0);
  assertTrue(text.compareTo(binary) != 0);
  assertTrue(text.compareTo(text) == 0);
  assertTrue(text.compareTo(html) != 0);
  assertTrue(html.compareTo(binary) != 0);
  assertTrue(html.compareTo(text) != 0);
  assertTrue(html.compareTo(html) == 0);
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisteredMimes() throws MimeTypeException {
  String dummy="text/xxxxx";
  assertEquals(text,types.getRegisteredMimeType("text/plain"));
  assertNull(types.getRegisteredMimeType(dummy));
  assertNotNull(types.forName(dummy));
  assertEquals(dummy,types.forName("text/xxxxx").getType().toString());
  assertEquals(dummy,types.getRegisteredMimeType("text/xxxxx").getType().toString());
  try {
    types.forName("invalid");
    fail("MimeTypeException not thrown on invalid type name");
  }
 catch (  MimeTypeException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.PatternsTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtensions() throws Exception {
  MimeType jpeg=fullTypes.forName("image/jpeg");
  assertEquals(".jpg",jpeg.getExtension());
  List<String> extensions=jpeg.getExtensions();
  assertTrue(extensions.size() > 1);
  assertTrue(extensions.contains(".jpg"));
  assertTrue(extensions.contains(".jpeg"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExtension() throws MimeTypeException {
  MimeType doc=types.forName("application/vnd.ms-word");
  patterns.add("*.doc",doc);
  assertEquals(".doc",doc.getExtension());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both have the same
 * priority, we use the name to pick the right one based on the glob, or the
 * first one we come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for type detection of empty documents.
 * @see <a
     *      href="https://issues.apache.org/jira/browse/TIKA-483">TIKA-483</a>
 */
@Test public void testEmptyDocument() throws IOException {
  assertEquals(MediaType.OCTET_STREAM,proDetector.detect(new ByteArrayInputStream(new byte[0]),new Metadata()));
  Metadata namehint=new Metadata();
  namehint.set(Metadata.RESOURCE_NAME_KEY,"test.txt");
  assertEquals(MediaType.TEXT_PLAIN,proDetector.detect(new ByteArrayInputStream(new byte[0]),namehint));
  Metadata typehint=new Metadata();
  typehint.set(Metadata.CONTENT_TYPE,"text/plain");
  assertEquals(MediaType.TEXT_PLAIN,proDetector.detect(new ByteArrayInputStream(new byte[0]),typehint));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteOrderMark() throws Exception {
  assertEquals(MediaType.TEXT_PLAIN,proDetector.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16LE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN,proDetector.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16BE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN,proDetector.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_8)),new Metadata()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTestWithTika </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for type detection of empty documents.
 * @see <a
     *      href="https://issues.apache.org/jira/browse/TIKA-483">TIKA-483</a>
 */
@Test public void testEmptyDocument() throws IOException {
  assertEquals(MediaType.OCTET_STREAM.toString(),tika.detect(new ByteArrayInputStream(new byte[0]),new Metadata()));
  Metadata namehint=new Metadata();
  namehint.set(Metadata.RESOURCE_NAME_KEY,"test.txt");
  assertEquals(MediaType.TEXT_PLAIN.toString(),tika.detect(new ByteArrayInputStream(new byte[0]),namehint));
  Metadata typehint=new Metadata();
  typehint.set(Metadata.CONTENT_TYPE,"text/plain");
  assertEquals(MediaType.TEXT_PLAIN.toString(),tika.detect(new ByteArrayInputStream(new byte[0]),typehint));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both have the same
 * priority, we use the name to pick the right one based on the glob, or the
 * first one we come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteOrderMark() throws Exception {
  assertEquals(MediaType.TEXT_PLAIN.toString(),tika.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16LE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN.toString(),tika.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_16BE)),new Metadata()));
  assertEquals(MediaType.TEXT_PLAIN.toString(),tika.detect(new ByteArrayInputStream("\ufefftest".getBytes(UTF_8)),new Metadata()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.TestMimeTypes </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCaseSensitivity(){
  String type=tika.detect("test.PDF");
  assertNotNull(type);
  assertEquals(type,tika.detect("test.pdf"));
  assertEquals(type,tika.detect("test.PdF"));
  assertEquals(type,tika.detect("test.pdF"));
}

</code></pre>

<br>
<pre class="type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testLoadMimeTypes() throws MimeTypeException {
  assertNotNull(repo.forName("application/octet-stream"));
  assertNotNull(repo.forName("text/x-tex"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests MIME type determination based solely on the URL's extension.
 */
@Test public void testGuessMimeTypes() throws Exception {
  assertTypeByName("application/pdf","x.pdf");
  assertEquals("application/pdf",tika.detect(u.toExternalForm()));
  assertEquals("application/pdf",tika.detect(f.getPath()));
  assertTypeByName("text/plain","x.txt");
  assertTypeByName("text/html","x.htm");
  assertTypeByName("text/html","x.html");
  assertTypeByName("application/xhtml+xml","x.xhtml");
  assertTypeByName("application/xml","x.xml");
  assertTypeByName("application/zip","x.zip");
  assertTypeByName("application/vnd.oasis.opendocument.text","x.odt");
  assertTypeByName("application/octet-stream","x.unknown");
  assertTypeByName("application/msword","x.doc");
  assertTypeByName("application/msword","x.dot");
  assertTypeByName("application/vnd.openxmlformats-officedocument.wordprocessingml.document","x.docx");
  assertTypeByName("application/vnd.openxmlformats-officedocument.wordprocessingml.template","x.dotx");
  assertTypeByName("application/vnd.ms-word.document.macroenabled.12","x.docm");
  assertTypeByName("application/vnd.ms-word.template.macroenabled.12","x.dotm");
  assertTypeByName("application/vnd.ms-excel","x.xls");
  assertTypeByName("application/vnd.ms-excel","x.xlt");
  assertTypeByName("application/vnd.ms-excel","x.xla");
  assertTypeByName("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","x.xlsx");
  assertTypeByName("application/vnd.openxmlformats-officedocument.spreadsheetml.template","x.xltx");
  assertTypeByName("application/vnd.ms-excel.sheet.macroenabled.12","x.xlsm");
  assertTypeByName("application/vnd.ms-excel.template.macroenabled.12","x.xltm");
  assertTypeByName("application/vnd.ms-excel.addin.macroenabled.12","x.xlam");
  assertTypeByName("application/vnd.ms-excel.sheet.binary.macroenabled.12","x.xlsb");
  assertTypeByName("application/vnd.ms-powerpoint","x.ppt");
  assertTypeByName("application/vnd.ms-powerpoint","x.pot");
  assertTypeByName("application/vnd.ms-powerpoint","x.pps");
  assertTypeByName("application/vnd.ms-powerpoint","x.ppa");
  assertTypeByName("application/vnd.openxmlformats-officedocument.presentationml.presentation","x.pptx");
  assertTypeByName("application/vnd.openxmlformats-officedocument.presentationml.template","x.potx");
  assertTypeByName("application/vnd.openxmlformats-officedocument.presentationml.slideshow","x.ppsx");
  assertTypeByName("application/vnd.ms-powerpoint.addin.macroenabled.12","x.ppam");
  assertTypeByName("application/vnd.ms-powerpoint.presentation.macroenabled.12","x.pptm");
  assertTypeByName("application/vnd.ms-powerpoint.template.macroenabled.12","x.potm");
  assertTypeByName("application/vnd.ms-powerpoint.slideshow.macroenabled.12","x.ppsm");
}

</code></pre>

<br>
<pre class="type-4 type-15 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-194
 */
@Test public void testJavaRegex() throws Exception {
  MimeType testType=new MimeType(MediaType.parse("foo/bar"));
  this.repo.add(testType);
  assertNotNull(repo.forName("foo/bar"));
  String pattern="rtg_sst_grb_0\\.5\\.\\d{8}";
  this.repo.addPattern(testType,pattern,true);
  String testFileName="rtg_sst_grb_0.5.12345678";
  assertEquals("foo/bar",tika.detect(testFileName));
  MimeType testType2=new MimeType(MediaType.parse("foo/bar2"));
  this.repo.add(testType2);
  assertNotNull(repo.forName("foo/bar2"));
  this.repo.addPattern(testType2,pattern,false);
  assertNotSame("foo/bar2",tika.detect(testFileName));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * All 3 DITA types are in theory handled by the same mimetype,
 * but we specialise them 
 */
@Test public void testDITADetection() throws Exception {
  assertTypeByName("application/dita+xml; format=topic","test.dita");
  assertTypeByName("application/dita+xml; format=map","test.ditamap");
  assertTypeByName("application/dita+xml; format=val","test.ditaval");
  assertTypeByData("application/dita+xml; format=task","testDITA.dita");
  assertTypeByData("application/dita+xml; format=concept","testDITA2.dita");
  assertTypeByData("application/dita+xml; format=map","testDITA.ditamap");
  assertTypeByNameAndData("application/dita+xml; format=task","testDITA.dita");
  assertTypeByNameAndData("application/dita+xml; format=concept","testDITA2.dita");
  assertTypeByNameAndData("application/dita+xml; format=map","testDITA.ditamap");
  assertEquals("application/dita+xml",repo.getMediaTypeRegistry().getSupertype(getTypeByNameAndData("testDITA.ditamap")).toString());
  assertEquals("application/dita+xml",repo.getMediaTypeRegistry().getSupertype(getTypeByNameAndData("testDITA.dita")).toString());
  assertEquals("application/dita+xml; format=topic",repo.getMediaTypeRegistry().getSupertype(getTypeByNameAndData("testDITA2.dita")).toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.AutoDetectParserTest </h4><pre class="type-9 type-7 type-14 type-12 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that the Ogg Audio parsers (Vorbis, Opus, Flac etc)
 * have been correctly included, and are available
 */
@SuppressWarnings("deprecation") @Test public void testOggFlacAudio() throws Exception {
  String[] testFiles=new String[]{"testVORBIS.ogg","testFLAC.flac","testFLAC.oga","testOPUS.opus"};
  MediaType[] mediaTypes=new MediaType[]{MediaType.parse(OGG_VORBIS),MediaType.parse(FLAC_NATIVE),MediaType.parse(OGG_FLAC),MediaType.parse(OGG_OPUS)};
  VorbisParser vParser=new VorbisParser();
  assertNotNull("Parser not found for " + mediaTypes[0],vParser.getSupportedTypes(new ParseContext()));
  FlacParser fParser=new FlacParser();
  assertNotNull("Parser not found for " + mediaTypes[1],fParser.getSupportedTypes(new ParseContext()));
  assertNotNull("Parser not found for " + mediaTypes[2],fParser.getSupportedTypes(new ParseContext()));
  OpusParser oParser=new OpusParser();
  assertNotNull("Parser not found for " + mediaTypes[3],oParser.getSupportedTypes(new ParseContext()));
  CompositeParser parser=(CompositeParser)tika.getParser();
  for (  MediaType mt : mediaTypes) {
    assertNotNull("Parser not found for " + mt,parser.getParsers().get(mt));
  }
  for (int i=0; i < testFiles.length; i++) {
    String file=testFiles[i];
    try (InputStream input=AutoDetectParserTest.class.getResourceAsStream("/test-documents/" + file)){
      if (input == null) {
        fail("Could not find test file " + file);
      }
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      new AutoDetectParser(tika).parse(input,handler,metadata);
      assertEquals("Incorrect content type for " + file,mediaTypes[i].toString(),metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
      assertEquals("Test Title",metadata.get(Metadata.TITLE));
      assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
      if (!file.endsWith(".opus")) {
        assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
      }
      assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
      assertEquals("Stereo",metadata.get(XMPDM.AUDIO_CHANNEL_TYPE));
      assertEquals("44100",metadata.get(XMPDM.AUDIO_SAMPLE_RATE));
      String content=handler.toString();
      assertTrue(content.contains("Test Title"));
      assertTrue(content.contains("Test Artist"));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.CompositeParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMimeTypeAliases() throws Exception {
  MediaType bmpCanonical=MediaType.image("x-ms-bmp");
  Map<String,String> bmpCanonicalMetadata=new HashMap<String,String>();
  bmpCanonicalMetadata.put("BMP","True");
  bmpCanonicalMetadata.put("Canonical","True");
  Parser bmpCanonicalParser=new DummyParser(new HashSet<MediaType>(Arrays.asList(bmpCanonical)),bmpCanonicalMetadata,null);
  MediaType bmpAlias=MediaType.image("bmp");
  Map<String,String> bmpAliasMetadata=new HashMap<String,String>();
  bmpAliasMetadata.put("BMP","True");
  bmpAliasMetadata.put("Alias","True");
  Parser bmpAliasParser=new DummyParser(new HashSet<MediaType>(Arrays.asList(bmpAlias)),bmpAliasMetadata,null);
  TikaConfig config=TikaConfig.getDefaultConfig();
  CompositeParser canonical=new CompositeParser(config.getMediaTypeRegistry(),bmpCanonicalParser);
  CompositeParser alias=new CompositeParser(config.getMediaTypeRegistry(),bmpAliasParser);
  CompositeParser both=new CompositeParser(config.getMediaTypeRegistry(),bmpCanonicalParser,bmpAliasParser);
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata;
  metadata=new Metadata();
  metadata.add(Metadata.CONTENT_TYPE,bmpCanonical.toString());
  canonical.parse(new ByteArrayInputStream(new byte[0]),handler,metadata,new ParseContext());
  assertEquals("True",metadata.get("BMP"));
  assertEquals("True",metadata.get("Canonical"));
  metadata=new Metadata();
  metadata.add(Metadata.CONTENT_TYPE,bmpAlias.toString());
  alias.parse(new ByteArrayInputStream(new byte[0]),handler,metadata,new ParseContext());
  assertEquals("True",metadata.get("BMP"));
  assertEquals("True",metadata.get("Alias"));
  metadata=new Metadata();
  metadata.add(Metadata.CONTENT_TYPE,bmpAlias.toString());
  canonical.parse(new ByteArrayInputStream(new byte[0]),handler,metadata,new ParseContext());
  assertEquals("True",metadata.get("BMP"));
  assertEquals("True",metadata.get("Canonical"));
  metadata=new Metadata();
  metadata.add(Metadata.CONTENT_TYPE,bmpCanonical.toString());
  alias.parse(new ByteArrayInputStream(new byte[0]),handler,metadata,new ParseContext());
  assertEquals("True",metadata.get("BMP"));
  assertEquals("True",metadata.get("Alias"));
  metadata=new Metadata();
  metadata.add(Metadata.CONTENT_TYPE,bmpCanonical.toString());
  both.parse(new ByteArrayInputStream(new byte[0]),handler,metadata,new ParseContext());
  assertEquals("True",metadata.get("BMP"));
  assertEquals("True",metadata.get("Alias"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultParser() throws Exception {
  TikaConfig config=TikaConfig.getDefaultConfig();
  CompositeParser parser=(CompositeParser)config.getParser();
  assertEquals(config.getMediaTypeRegistry(),parser.getMediaTypeRegistry());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("serial") public void testFindDuplicateParsers(){
  Parser a=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.TEXT_PLAIN);
    }
  }
;
  Parser b=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.TEXT_PLAIN);
    }
  }
;
  Parser c=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.OCTET_STREAM);
    }
  }
;
  CompositeParser composite=new CompositeParser(MediaTypeRegistry.getDefaultRegistry(),a,b,c);
  Map<MediaType,List<Parser>> duplicates=composite.findDuplicateParsers(new ParseContext());
  assertEquals(1,duplicates.size());
  List<Parser> parsers=duplicates.get(MediaType.TEXT_PLAIN);
  assertNotNull(parsers);
  assertEquals(2,parsers.size());
  assertEquals(a,parsers.get(0));
  assertEquals(b,parsers.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.DigestingParserTest </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  Map<CommonsDigester.DigestAlgorithm,String> expected=new HashMap<CommonsDigester.DigestAlgorithm,String>();
  expected.put(CommonsDigester.DigestAlgorithm.MD2,"d768c8e27b0b52c6eaabfaa7122d1d4f");
  expected.put(CommonsDigester.DigestAlgorithm.MD5,"59f626e09a8c16ab6dbc2800c685f772");
  expected.put(CommonsDigester.DigestAlgorithm.SHA1,"7a1f001d163ac90d8ea54c050faf5a38079788a6");
  expected.put(CommonsDigester.DigestAlgorithm.SHA256,"c4b7fab030a8b6a9d6691f6699ac8e6f" + "82bc53764a0f1430d134ae3b70c32654");
  expected.put(CommonsDigester.DigestAlgorithm.SHA384,"ebe368b9326fef44408290724d187553" + "8b8a6923fdf251ddab72c6e4b5d54160" + "9db917ba4260d1767995a844d8d654df");
  expected.put(CommonsDigester.DigestAlgorithm.SHA512,"ee46d973ee1852c018580c242955974d" + "da4c21f36b54d7acd06fcf68e974663b" + "fed1d256875be58d22beacf178154cc3"+ "a1178cb73443deaa53aa0840324708bb");
  for (  CommonsDigester.DigestAlgorithm algo : CommonsDigester.DigestAlgorithm.values()) {
    Metadata m=new Metadata();
    XMLResult xml=getXML("test_recursive_embedded.docx",new DigestingParser(p,new CommonsDigester(UNLIMITED,algo)),m);
    assertEquals(algo.toString(),expected.get(algo),m.get(P + algo.toString()));
  }
  CommonsDigester.DigestAlgorithm[] algos=CommonsDigester.parse("md5,sha256,sha384,sha512");
  Metadata m=new Metadata();
  XMLResult xml=getXML("test_recursive_embedded.docx",new DigestingParser(p,new CommonsDigester(UNLIMITED,algos)),m);
  for (  CommonsDigester.DigestAlgorithm algo : new CommonsDigester.DigestAlgorithm[]{CommonsDigester.DigestAlgorithm.MD5,CommonsDigester.DigestAlgorithm.SHA256,CommonsDigester.DigestAlgorithm.SHA384,CommonsDigester.DigestAlgorithm.SHA512}) {
    assertEquals(algo.toString(),expected.get(algo),m.get(P + algo.toString()));
  }
  assertNull(m.get(P + CommonsDigester.DigestAlgorithm.MD2.toString()));
  assertNull(m.get(P + CommonsDigester.DigestAlgorithm.SHA1.toString()));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLimitedRead() throws Exception {
  CommonsDigester.DigestAlgorithm algo=CommonsDigester.DigestAlgorithm.MD5;
  int limit=100;
  byte[] bytes=new byte[limit];
  InputStream is=getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  is.read(bytes,0,limit);
  is.close();
  Metadata m=new Metadata();
  try {
    XMLResult xml=getXML(TikaInputStream.get(bytes),new DigestingParser(p,new CommonsDigester(100,algo)),m);
  }
 catch (  TikaException e) {
    assertContains("Unexpected RuntimeException from org.apache.tika.parser.microsoft.ooxml.OOXMLParser",e.getMessage());
  }
  String expectedMD5=m.get(P + "MD5");
  m=new Metadata();
  XMLResult xml=getXML("test_recursive_embedded.docx",new DigestingParser(p,new CommonsDigester(100,algo)),m);
  assertEquals(expectedMD5,m.get(P + "MD5"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ParserDecoratorTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Testing one proposed implementation for TIKA-1509
 */
@Test public void withFallback() throws Exception {
  Set<MediaType> onlyOct=Collections.singleton(MediaType.OCTET_STREAM);
  Set<MediaType> octAndText=new HashSet<MediaType>(Arrays.asList(MediaType.OCTET_STREAM,MediaType.TEXT_PLAIN));
  ParseContext context=new ParseContext();
  BodyContentHandler handler;
  Metadata metadata;
  ErrorParser pFail=new ErrorParser();
  DummyParser pWork=new DummyParser(onlyOct,new HashMap<String,String>(),"Fell back!");
  EmptyParser pNothing=new EmptyParser();
  @SuppressWarnings("deprecation") Parser p=ParserDecorator.withFallbacks(Arrays.asList(pFail,pWork),octAndText);
  Set<MediaType> types=p.getSupportedTypes(context);
  assertEquals(2,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
  metadata=new Metadata();
  handler=new BodyContentHandler();
  p.parse(new ByteArrayInputStream(new byte[]{0,1,2,3,4}),handler,metadata,context);
  assertEquals("Fell back!",handler.toString());
  p=ParserDecorator.withFallbacks(Arrays.asList(pNothing,pWork),octAndText);
  metadata=new Metadata();
  handler=new BodyContentHandler();
  p.parse(new ByteArrayInputStream(new byte[]{0,1,2,3,4}),handler,metadata,context);
  assertEquals("",handler.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void withAndWithoutTypes(){
  Set<MediaType> onlyTxt=Collections.singleton(MediaType.TEXT_PLAIN);
  Set<MediaType> onlyOct=Collections.singleton(MediaType.OCTET_STREAM);
  Set<MediaType> both=new HashSet<MediaType>();
  both.addAll(onlyOct);
  both.addAll(onlyTxt);
  Parser p;
  Set<MediaType> types;
  ParseContext context=new ParseContext();
  p=ParserDecorator.withTypes(EmptyParser.INSTANCE,onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  p=ParserDecorator.withTypes(new DummyParser(onlyOct,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  p=ParserDecorator.withoutTypes(EmptyParser.INSTANCE,onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(0,types.size());
  p=ParserDecorator.withoutTypes(new DummyParser(onlyOct,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
  p=ParserDecorator.withoutTypes(new DummyParser(both,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.RecursiveParserWrapperTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicText() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p ") < 0);
  assertTrue(content.indexOf("embed_0") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryExcWEmbedded() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"embedded_then_npe.xml");
  ParseContext context=new ParseContext();
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),true);
  String path="/test-documents/mock/embedded_then_npe.xml";
  InputStream stream=null;
  boolean npe=false;
  try {
    stream=RecursiveParserWrapperTest.class.getResourceAsStream(path);
    wrapper.parse(stream,new DefaultHandler(),metadata,context);
  }
 catch (  TikaException e) {
    if (e.getCause().getClass().equals(NullPointerException.class)) {
      npe=true;
    }
  }
 finally {
    IOUtils.closeQuietly(stream);
  }
  assertTrue("npe",npe);
  List<Metadata> metadataList=wrapper.getMetadata();
  assertEquals(2,metadataList.size());
  Metadata outerMetadata=metadataList.get(0);
  Metadata embeddedMetadata=metadataList.get(1);
  assertContains("main_content",outerMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embedded_then_npe.xml",outerMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("Nikolai Lobachevsky",outerMetadata.get("author"));
  assertContains("some_embedded_content",embeddedMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embed1.xml",embeddedMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("embeddedAuthor",embeddedMetadata.get("author"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicXML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDigesters() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),true,new CommonsDigester(100000,CommonsDigester.DigestAlgorithm.MD5));
  int i=0;
  Metadata m0=list.get(0);
  Metadata m6=list.get(6);
  String md5Key="X-TIKA:digest:MD5";
  assertEquals("59f626e09a8c16ab6dbc2800c685f772",list.get(0).get(md5Key));
  assertEquals("ccdf3882e7e4c2454e28884db9b0a54d",list.get(6).get(md5Key));
  assertEquals("a869bf6432ebd14e19fc79416274e0c9",list.get(7).get(md5Key));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCharLimit() throws Exception {
  ParseContext context=new ParseContext();
  Metadata metadata=new Metadata();
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,60));
  InputStream stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  List<Metadata> list=wrapper.getMetadata();
  assertEquals(5,list.size());
  int wlr=0;
  for (  Metadata m : list) {
    String limitReached=m.get(RecursiveParserWrapper.WRITE_LIMIT_REACHED);
    if (limitReached != null && limitReached.equals("true")) {
      wlr++;
    }
  }
  assertEquals(1,wlr);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testIgnoreContent() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertNull(content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicHTML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.HTML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\"></p>") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxEmbedded() throws Exception {
  int maxEmbedded=4;
  int totalNoLimit=12;
  ParseContext context=new ParseContext();
  Metadata metadata=new Metadata();
  String limitReached=null;
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  InputStream stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  List<Metadata> list=wrapper.getMetadata();
  assertEquals(totalNoLimit,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertNull(limitReached);
  wrapper.reset();
  stream.close();
  metadata=new Metadata();
  stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.setMaxEmbeddedResources(maxEmbedded);
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  list=wrapper.getMetadata();
  assertEquals(maxEmbedded + 1,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertEquals("true",limitReached);
  wrapper.reset();
  stream.close();
  metadata=new Metadata();
  stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.setMaxEmbeddedResources(-2);
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  assertEquals(totalNoLimit,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertNull(limitReached);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedResourcePath() throws Exception {
  Set<String> targets=new HashSet<String>();
  targets.add("/embed1.zip");
  targets.add("/embed1.zip/embed2.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip/embed4.txt");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed3.txt");
  targets.add("/embed1.zip/embed2.zip/embed2a.txt");
  targets.add("/embed1.zip/embed2.zip/embed2b.txt");
  targets.add("/embed1.zip/embed1b.txt");
  targets.add("/embed1.zip/embed1a.txt");
  targets.add("/image1.emf");
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
  Set<String> seen=new HashSet<String>();
  for (  Metadata m : list) {
    String path=m.get(RecursiveParserWrapper.EMBEDDED_RESOURCE_PATH);
    if (path != null) {
      seen.add(path);
    }
  }
  assertEquals(targets,seen);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedNPE() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded_npe.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  assertEquals(13,list.size());
  Metadata mockNPEMetadata=list.get(10);
  assertContains("java.lang.NullPointerException",mockNPEMetadata.get(RecursiveParserWrapper.EMBEDDED_EXCEPTION));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded_npe.docx");
  list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),false,null);
  assertEquals(12,list.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.asm.ClassParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClassParsing() throws Exception {
  String path="/test-documents/AutoDetectParser.class";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(ClassParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("AutoDetectParser",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("AutoDetectParser.class",metadata.get(Metadata.RESOURCE_NAME_KEY));
  assertTrue(content.contains("package org.apache.tika.parser;"));
  assertTrue(content.contains("class AutoDetectParser extends CompositeParser"));
  assertTrue(content.contains("private org.apache.tika.mime.MimeTypes types"));
  assertTrue(content.contains("public void parse(" + "java.io.InputStream, org.xml.sax.ContentHandler," + " org.apache.tika.metadata.Metadata) throws"+ " java.io.IOException, org.xml.sax.SAXException,"+ " org.apache.tika.exception.TikaException;"));
  assertTrue(content.contains("private byte[] getPrefix(java.io.InputStream, int)" + " throws java.io.IOException;"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.audio.AudioParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAU() throws Exception {
  String path="/test-documents/testAU.au";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/basic",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAIFF() throws Exception {
  String path="/test-documents/testAIFF.aif";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/x-aiff",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWAV() throws Exception {
  String path="/test-documents/testWAV.wav";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/x-wav",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.audio.MidiParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMID() throws Exception {
  String path="/test-documents/testMID.mid";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(MidiParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/midi",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("2",metadata.get("tracks"));
  assertEquals("0",metadata.get("patches"));
  assertEquals("PPQ",metadata.get("divisionType"));
  assertContains("Untitled",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmBlockInfo </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetChmBlockInfo(){
  for (  DirectoryListingEntry directoryListingEntry : chmDirListCont.getDirectoryListingEntryList()) {
    chmBlockInfo=ChmBlockInfo.getChmBlockInfoInstance(directoryListingEntry,(int)clrt.getBlockLen(),chmLzxcControlData);
    assertTrue(!ChmCommons.isEmpty(directoryListingEntry.getName()) && chmBlockInfo.toString() != null);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmExtractor </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEnumerateChm(){
  List<String> chmEntries=chmExtractor.enumerateChm();
  assertEquals(TestParameters.VP_CHM_ENTITIES_NUMBER,chmEntries.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestDirectoryListingEntry </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParamConstructor(){
  assertEquals(TestParameters.nameLength,dle.getNameLength());
  assertEquals(TestParameters.entryName,dle.getName());
  assertEquals(TestParameters.entryType,dle.getEntryType());
  assertEquals(TestParameters.offset,dle.getOffset());
  assertEquals(TestParameters.length,dle.getLength());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.code.SourceCodeParserTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSupportTypes() throws Exception {
  Set<MediaType> supportedTypes=sourceCodeParser.getSupportedTypes(new ParseContext());
  assertTrue(supportedTypes.contains(new MediaType("text","x-java-source")));
  assertTrue(supportedTypes.contains(new MediaType("text","x-groovy")));
  assertTrue(supportedTypes.contains(new MediaType("text","x-c++src")));
  assertFalse(sourceCodeParser.getSupportedTypes(new ParseContext()).contains(new MediaType("text","html")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.dif.DIFParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDifMetadata() throws Exception {
  Parser parser=new DIFParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=DIFParser.class.getResourceAsStream("/test-documents/Zamora2010.dif")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals(metadata.get("DIF-Entry_ID"),"00794186-48f9-11e3-9dcb-00c0f03d5b7c");
  assertEquals(metadata.get("DIF-Metadata_Name"),"ACADIS IDN DIF");
  String content=handler.toString();
  assertContains("Title: Zamora 2010 Using Sediment Geochemistry",content);
  assertContains("Southernmost_Latitude : 78.833",content);
  assertContains("Northernmost_Latitude : 79.016",content);
  assertContains("Westernmost_Longitude : 11.64",content);
  assertContains("Easternmost_Longitude : 13.34",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.dwg.DWGParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDWG2010CustomPropertiesParser() throws Exception {
  InputStream testInput=DWGParserTest.class.getResourceAsStream("/test-documents/testDWG2010_custom_props.dwg");
  testParser(testInput);
  try (InputStream input=DWGParserTest.class.getResourceAsStream("/test-documents/testDWG2010_custom_props.dwg")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new DWGParser().parse(input,handler,metadata,null);
    assertEquals("valueforcustomprop1",metadata.get("customprop1"));
    assertEquals("valueforcustomprop2",metadata.get("customprop2"));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.epub.EpubParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testXMLParser() throws Exception {
  try (InputStream input=EpubParserTest.class.getResourceAsStream("/test-documents/testEPUB.epub")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new EpubParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/epub+zip",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("en",metadata.get(TikaCoreProperties.LANGUAGE));
    assertEquals("This is an ePub test publication for Tika.",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Apache",metadata.get(TikaCoreProperties.PUBLISHER));
    String content=handler.toString();
    assertContains("Plus a simple div",content);
    assertContains("First item",content);
    assertContains("The previous headings were subchapters",content);
    assertContains("Table data",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.executable.ExecutableParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWin32Parser() throws Exception {
  try (InputStream input=ExecutableParserTest.class.getResourceAsStream("/test-documents/testWindows-x86-32.exe")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new ExecutableParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-msdownload",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-05-13T13:40:11Z",metadata.get(Metadata.CREATION_DATE));
    assertEquals(ExecutableParser.MACHINE_x86_32,metadata.get(ExecutableParser.MACHINE_TYPE));
    assertEquals("Little",metadata.get(ExecutableParser.ENDIAN));
    assertEquals("32",metadata.get(ExecutableParser.ARCHITECTURE_BITS));
    assertEquals("Windows",metadata.get(ExecutableParser.PLATFORM));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testElfParser_x86_32() throws Exception {
  try (InputStream input=ExecutableParserTest.class.getResourceAsStream("/test-documents/testLinux-x86-32")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new ExecutableParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-executable",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(ExecutableParser.MACHINE_x86_32,metadata.get(ExecutableParser.MACHINE_TYPE));
    assertEquals("Little",metadata.get(ExecutableParser.ENDIAN));
    assertEquals("32",metadata.get(ExecutableParser.ARCHITECTURE_BITS));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.feed.FeedParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRSSParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/rsstest.rss")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample RSS File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("TestChannel",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAtomParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/testATOM.atom")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample Atom File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Test Atom Feed",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.font.FontParsersTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAdobeFontMetricParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (TikaInputStream stream=TikaInputStream.get(FontParsersTest.class.getResource("/test-documents/testAFM.afm"))){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("application/x-font-adobe-metric",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("TestFullName",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Fri Jul 15 17:50:51 2011",metadata.get(Metadata.CREATION_DATE));
  assertEquals("TestFontName",metadata.get(MET_FONT_NAME));
  assertEquals("TestFullName",metadata.get(MET_FONT_FULL_NAME));
  assertEquals("TestSymbol",metadata.get(MET_FONT_FAMILY_NAME));
  assertEquals("Medium",metadata.get(MET_FONT_WEIGHT));
  assertEquals("001.008",metadata.get(MET_FONT_VERSION));
  String content=handler.toString();
  assertContains("Comments",content);
  assertContains("This is a comment in a sample file",content);
  assertContains("UniqueID 12345",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTTFParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (TikaInputStream stream=TikaInputStream.get(FontParsersTest.class.getResource("/test-documents/testTrueType3.ttf"))){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("application/x-font-ttf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Open Sans Bold",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("2010-12-30T11:04:00Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2010-12-30T11:04:00Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2011-05-05T12:37:53Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("Open Sans Bold",metadata.get(MET_FONT_NAME));
  assertEquals("Open Sans",metadata.get(MET_FONT_FAMILY_NAME));
  assertEquals("Bold",metadata.get(MET_FONT_SUB_FAMILY_NAME));
  assertEquals("OpenSans-Bold",metadata.get(MET_PS_NAME));
  assertEquals("Digitized",metadata.get("Copyright").substring(0,9));
  assertEquals("Open Sans",metadata.get("Trademark").substring(0,9));
  assertEquals(null,metadata.get(MET_FONT_FULL_NAME));
  assertEquals(null,metadata.get(MET_FONT_WEIGHT));
  assertEquals(null,metadata.get(MET_FONT_VERSION));
  String content=handler.toString();
  assertEquals("",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.fork.ForkParserIntegrationTest </h4><pre class="type-12 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * If we supply a non serializable object on the ParseContext,
 * check we get a helpful exception back
 */
@Test public void testParserHandlingOfNonSerializable() throws Exception {
  ForkParser parser=new ForkParser(ForkParserIntegrationTest.class.getClassLoader(),tika.getParser());
  ParseContext context=new ParseContext();
  context.set(Detector.class,new Detector(){
    public MediaType detect(    InputStream input,    Metadata metadata){
      return MediaType.OCTET_STREAM;
    }
  }
);
  try {
    ContentHandler output=new BodyContentHandler();
    InputStream stream=ForkParserIntegrationTest.class.getResourceAsStream("/test-documents/testTXT.txt");
    parser.parse(stream,output,new Metadata(),context);
    fail("Should have blown up with a non serializable ParseContext");
  }
 catch (  TikaException e) {
    assertNotNull(e.getCause());
    assertEquals(NotSerializableException.class,e.getCause().getClass());
    assertEquals("Unable to serialize ParseContext to pass to the Forked Parser",e.getMessage());
  }
 finally {
    parser.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.gdal.TestGDALParser </h4><pre class="type-12 type-4 type-16 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseBasicInfo(){
  assumeTrue(canRun());
  final String expectedDriver="netCDF/Network Common Data Format";
  final String expectedUpperRight="512.0,    0.0";
  final String expectedUpperLeft="0.0,    0.0";
  final String expectedLowerLeft="0.0,  512.0";
  final String expectedLowerRight="512.0,  512.0";
  final String expectedCoordinateSystem="`'";
  final String expectedSize="512, 512";
  GDALParser parser=new GDALParser();
  InputStream stream=TestGDALParser.class.getResourceAsStream("/test-documents/sresa1b_ncar_ccsm3_0_run1_200001.nc");
  Metadata met=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,met,new ParseContext());
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
  assertNotNull(met);
  assertNotNull(met.get("Driver"));
  assertEquals(expectedDriver,met.get("Driver"));
  assumeTrue(met.get("Files") != null);
  assertNotNull(met.get("Coordinate System"));
  assertEquals(expectedCoordinateSystem,met.get("Coordinate System"));
  assertNotNull(met.get("Size"));
  assertEquals(expectedSize,met.get("Size"));
  assertNotNull(met.get("Upper Right"));
  assertEquals(expectedUpperRight,met.get("Upper Right"));
  assertNotNull(met.get("Upper Left"));
  assertEquals(expectedUpperLeft,met.get("Upper Left"));
  assertNotNull(met.get("Upper Right"));
  assertEquals(expectedLowerRight,met.get("Lower Right"));
  assertNotNull(met.get("Upper Right"));
  assertEquals(expectedLowerLeft,met.get("Lower Left"));
}

</code></pre>

<br>
<pre class="type-12 type-4 type-5 type-16 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMetadata(){
  assumeTrue(canRun());
  final String expectedNcInst="NCAR (National Center for Atmospheric Research, Boulder, CO, USA)";
  final String expectedModelNameEnglish="NCAR CCSM";
  final String expectedProgramId="Source file unknown Version unknown Date unknown";
  final String expectedProjectId="IPCC Fourth Assessment";
  final String expectedRealization="1";
  final String expectedTitle="model output prepared for IPCC AR4";
  final String expectedSub8Name="\":ua";
  final String expectedSub8Desc="[1x17x128x256] eastward_wind (32-bit floating-point)";
  GDALParser parser=new GDALParser();
  InputStream stream=TestGDALParser.class.getResourceAsStream("/test-documents/sresa1b_ncar_ccsm3_0_run1_200001.nc");
  Metadata met=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,met,new ParseContext());
    assertNotNull(met);
    assertNotNull(met.get("NC_GLOBAL#institution"));
    assertEquals(expectedNcInst,met.get("NC_GLOBAL#institution"));
    assertNotNull(met.get("NC_GLOBAL#model_name_english"));
    assertEquals(expectedModelNameEnglish,met.get("NC_GLOBAL#model_name_english"));
    assertNotNull(met.get("NC_GLOBAL#prg_ID"));
    assertEquals(expectedProgramId,met.get("NC_GLOBAL#prg_ID"));
    assertNotNull(met.get("NC_GLOBAL#prg_ID"));
    assertEquals(expectedProgramId,met.get("NC_GLOBAL#prg_ID"));
    assertNotNull(met.get("NC_GLOBAL#project_id"));
    assertEquals(expectedProjectId,met.get("NC_GLOBAL#project_id"));
    assertNotNull(met.get("NC_GLOBAL#realization"));
    assertEquals(expectedRealization,met.get("NC_GLOBAL#realization"));
    assertNotNull(met.get("NC_GLOBAL#title"));
    assertEquals(expectedTitle,met.get("NC_GLOBAL#title"));
    assertNotNull(met.get("SUBDATASET_8_NAME"));
    assertTrue(met.get("SUBDATASET_8_NAME").endsWith(expectedSub8Name));
    assertNotNull(met.get("SUBDATASET_8_DESC"));
    assertEquals(expectedSub8Desc,met.get("SUBDATASET_8_DESC"));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-12 type-4 type-16 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseFITS(){
  String fitsFilename="/test-documents/WFPC2u5780205r_c0fx.fits";
  assumeTrue(canRun());
  String[] fitsCommand={"gdalinfo",TestGDALParser.class.getResource(fitsFilename).getPath()};
  assumeTrue(ExternalParser.check(fitsCommand,1));
  String expectedAllgMin="-7.319537E1";
  String expectedAtodcorr="COMPLETE";
  String expectedAtodfile="uref$dbu1405iu.r1h";
  String expectedCalVersion="                        ";
  String expectedCalibDef="1466";
  GDALParser parser=new GDALParser();
  InputStream stream=TestGDALParser.class.getResourceAsStream(fitsFilename);
  Metadata met=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,met,new ParseContext());
    assertNotNull(met);
    assertNotNull(met.get("ALLG-MIN"));
    assertEquals(expectedAllgMin,met.get("ALLG-MIN"));
    assertNotNull(met.get("ATODCORR"));
    assertEquals(expectedAtodcorr,met.get("ATODCORR"));
    assertNotNull(met.get("ATODFILE"));
    assertEquals(expectedAtodfile,met.get("ATODFILE"));
    assertNotNull(met.get("CAL_VER"));
    assertEquals(expectedCalVersion,met.get("CAL_VER"));
    assertNotNull(met.get("CALIBDEF"));
    assertEquals(expectedCalibDef,met.get("CALIBDEF"));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.geo.topic.GeoParserTest </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFunctions() throws UnsupportedEncodingException, IOException, SAXException, TikaException {
  String text="The millennial-scale cooling trend that followed the HTM coincides with the decrease in China " + "summer insolation driven by slow changes in Earth's orbit. Despite the nearly linear forcing, the transition from the HTM to " + "the Little Ice Age (1500-1900 AD) was neither gradual nor uniform. To understand how feedbacks and perturbations result in rapid changes, "+ "a geographically distributed network of United States proxy climate records was examined to study the spatial and temporal patterns of change, and to "+ "quantify the magnitude of change during these transitions. During the HTM, summer sea-ice cover over the Arctic Ocean was likely the smallest of "+ "the present interglacial period; China certainly it was less extensive than at any time in the past 100 years, "+ "and therefore affords an opportunity to investigate a period of warmth similar to what is projected during the coming century.";
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  GeoParserConfig config=new GeoParserConfig();
  context.set(GeoParserConfig.class,config);
  InputStream s=new ByteArrayInputStream(text.getBytes(UTF_8));
  if (!((GeoParser)geoparser).isAvailable())   return;
  geoparser.parse(s,new BodyContentHandler(),metadata,context);
  assertNotNull(metadata.get("Geographic_NAME"));
  assertNotNull(metadata.get("Geographic_LONGITUDE"));
  assertNotNull(metadata.get("Geographic_LATITUDE"));
  assertEquals("People’s Republic of China",metadata.get("Geographic_NAME"));
  assertEquals("United States",metadata.get("Optional_NAME1"));
  assertEquals("35.0",metadata.get("Geographic_LATITUDE"));
  assertEquals("105.0",metadata.get("Geographic_LONGITUDE"));
  assertEquals("39.76",metadata.get("Optional_LATITUDE1"));
  assertEquals("-98.5",metadata.get("Optional_LONGITUDE1"));
}

</code></pre>

<br>
<pre class="type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNulls() throws UnsupportedEncodingException, IOException, SAXException, TikaException {
  String text="";
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  GeoParserConfig config=new GeoParserConfig();
  context.set(GeoParserConfig.class,config);
  geoparser.parse(new ByteArrayInputStream(text.getBytes(UTF_8)),new BodyContentHandler(),metadata,context);
  assertNull(metadata.get("Geographic_NAME"));
  assertNull(metadata.get("Geographic_LONGITUDE"));
  assertNull(metadata.get("Geographic_LATITUDE"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.geoinfo.GeographicInformationParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testISO19139() throws Exception {
  String path="/test-documents/sampleFile.iso19139";
  Metadata metadata=new Metadata();
  Parser parser=new org.apache.tika.parser.geoinfo.GeographicInformationParser();
  ContentHandler contentHandler=new BodyContentHandler();
  ParseContext parseContext=new ParseContext();
  InputStream inputStream=GeographicInformationParser.class.getResourceAsStream(path);
  parser.parse(inputStream,contentHandler,metadata,parseContext);
  assertEquals("text/iso19139+xml",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("UTF-8",metadata.get("CharacterSet"));
  assertEquals("https",metadata.get("TransferOptionsOnlineProtocol "));
  assertEquals("browser",metadata.get("TransferOptionsOnlineProfile "));
  assertEquals("Barrow Atqasuk ARCSS Plant",metadata.get("TransferOptionsOnlineName "));
  String content=contentHandler.toString();
  assertTrue(content.contains("Barrow Atqasuk ARCSS Plant"));
  assertTrue(content.contains("GeographicElementWestBoundLatitude	-157.24"));
  assertTrue(content.contains("GeographicElementEastBoundLatitude	-156.4"));
  assertTrue(content.contains("GeographicElementNorthBoundLatitude	71.18"));
  assertTrue(content.contains("GeographicElementSouthBoundLatitude	70.27"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.hdf.HDFParserTest </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHDF4() throws Exception {
  if (System.getProperty("java.version").startsWith("1.5")) {
    return;
  }
  Parser parser=new HDFParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=HDFParser.class.getResourceAsStream("/test-documents/test.hdf")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertNotNull(metadata);
  assertEquals("Direct read of HDF4 file through CDM library",metadata.get("_History"));
  assertEquals("Ascending",metadata.get("Pass"));
  assertEquals("Hierarchical Data Format, version 4",metadata.get("File-Type-Description"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.html.HtmlParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-339: Don't use language returned by CharsetDetector
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-339">TIKA-339</a>
 */
@Test public void testIgnoreCharsetDetectorLanguage() throws Exception {
  String test="<html><title>Simple Content</title><body></body></html>";
  Metadata metadata=new Metadata();
  metadata.add(Metadata.CONTENT_LANGUAGE,"en");
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("en",metadata.get(Metadata.CONTENT_LANGUAGE));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("The file 'testXHTML_utf8.html' is not available fo testing") public void XtestParseUTF8() throws IOException, SAXException, TikaException {
  String path="/test-documents/testXHTML_utf8.html";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(HtmlParserTest.class.getResourceAsStream(path),metadata);
  assertTrue("Did not contain expected text:" + "Title : Tilte with UTF-8 chars √∂√§√•",content.contains("Title : Tilte with UTF-8 chars √∂√§√•"));
  assertTrue("Did not contain expected text:" + "Content with UTF-8 chars",content.contains("Content with UTF-8 chars"));
  assertTrue("Did not contain expected text:" + "√•√§√∂",content.contains("√•√§√∂"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-889
 * XHTMLContentHandler wont emit newline when html element matches ENDLINE set.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-889">TIKA-889</a>
 */
@Test public void testNewlineAndIndent() throws Exception {
  final String html="<html><head><title>Title</title></head>" + "<body><ul><li>one</li></ul></body></html>";
  BodyContentHandler handler=new BodyContentHandler();
  new HtmlParser().parse(new ByteArrayInputStream(html.getBytes(UTF_8)),handler,new Metadata(),new ParseContext());
  String result=handler.toString();
  assertTrue(Pattern.matches("\tone\n\n",result));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoisyMetaCharsetHeaders() throws Exception {
  Tika tika=new Tika();
  String hit="\u0623\u0639\u0631\u0628";
  for (int i=1; i <= 4; i++) {
    String fileName="/test-documents/testHTMLNoisyMetaEncoding_" + i + ".html";
    String content=tika.parseToString(HtmlParserTest.class.getResourceAsStream(fileName));
    assertTrue("testing: " + fileName,content.contains(hit));
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAscii() throws Exception {
  String path="/test-documents/testHTML.html";
  final StringWriter href=new StringWriter();
  final StringWriter name=new StringWriter();
  ContentHandler body=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=HtmlParserTest.class.getResourceAsStream(path)){
    ContentHandler link=new DefaultHandler(){
      @Override public void startElement(      String u,      String l,      String n,      Attributes a) throws SAXException {
        if ("a".equals(l)) {
          if (a.getValue("href") != null) {
            href.append(a.getValue("href"));
          }
 else           if (a.getValue("name") != null) {
            name.append(a.getValue("name"));
          }
        }
      }
    }
;
    new HtmlParser().parse(stream,new TeeContentHandler(body,link),metadata,new ParseContext());
  }
   assertEquals("Title : Test Indexation Html",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Tika Developers",metadata.get("Author"));
  assertEquals("5",metadata.get("refresh"));
  assertEquals("51.2312",metadata.get(Geographic.LATITUDE));
  assertEquals("-5.1987",metadata.get(Geographic.LONGITUDE));
  assertEquals("http://www.apache.org/",href.toString());
  assertEquals("test-anchor",name.toString());
  String content=body.toString();
  assertTrue("Did not contain expected text:" + "Test Indexation Html",content.contains("Test Indexation Html"));
  assertTrue("Did not contain expected text:" + "Indexation du fichier",content.contains("Indexation du fichier"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-420
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-420">TIKA-420</a>
 */
@Test public void testBoilerplateRemoval() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),new BoilerpipeContentHandler(handler),metadata,new ParseContext());
  String content=handler.toString();
  assertTrue(content.startsWith("This is the real meat"));
  assertTrue(content.endsWith("This is the end of the text.\n"));
  assertFalse(content.contains("boilerplate"));
  assertFalse(content.contains("footer"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-983:  HTML parser should add Open Graph meta tag data to Metadata returned by parser
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-983">TIKA-983</a>
 */
@Test public void testOpenGraphMetadata() throws Exception {
  String test1="<html><head><meta property=\"og:description\"" + " content=\"some description\" />" + "<meta property=\"og:image\" content=\"http://example.com/image1.jpg\" />"+ "<meta property=\"og:image\" content=\"http://example.com/image2.jpg\" />"+ "<title>hello</title>"+ "</head><body></body></html>";
  Metadata metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test1.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("some description",metadata.get("og:description"));
  assertTrue(metadata.isMultiValued("og:image"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMisleadingMetaContentTypeTags() throws Exception {
  String test="<html><head><meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-ELEVEN\">" + "</head><title>title</title><body>body</body></html>";
  Metadata metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/html; charset=UTF-ELEVEN",metadata.get(TikaCoreProperties.CONTENT_TYPE_HINT));
  assertEquals("text/html; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  test="<html><head><meta http-equiv=\"content-type\" content=\"application/pdf\">" + "</head><title>title</title><body>body</body></html>";
  metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("application/pdf",metadata.get(TikaCoreProperties.CONTENT_TYPE_HINT));
  assertEquals("text/html; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  test="<html><head><meta http-equiv=\"content-type\" content=\"application/pdf\" content=\"application/ms-word\">" + "</head><title>title</title><body>body</body></html>";
  metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("application/ms-word",metadata.get(TikaCoreProperties.CONTENT_TYPE_HINT));
  assertEquals("text/html; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-820:  Locator is unset for HTML parser
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-820">TIKA-820</a>
 */
@Test public void testLocator() throws Exception {
  final int line=0;
  final int col=1;
  final int[] textPosition=new int[2];
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream("/test-documents/testHTML.html"),new ContentHandler(){
    Locator locator;
    public void setDocumentLocator(    Locator locator){
      this.locator=locator;
    }
    public void startDocument() throws SAXException {
    }
    public void endDocument() throws SAXException {
    }
    public void startPrefixMapping(    String prefix,    String uri) throws SAXException {
    }
    public void endPrefixMapping(    String prefix) throws SAXException {
    }
    public void startElement(    String uri,    String localName,    String qName,    Attributes atts) throws SAXException {
    }
    public void endElement(    String uri,    String localName,    String qName) throws SAXException {
    }
    public void characters(    char[] ch,    int start,    int length) throws SAXException {
      String text=new String(ch,start,length);
      if (text.equals("Test Indexation Html") && locator != null) {
        textPosition[line]=locator.getLineNumber();
        textPosition[col]=locator.getColumnNumber();
      }
    }
    public void ignorableWhitespace(    char[] ch,    int start,    int length) throws SAXException {
    }
    public void processingInstruction(    String target,    String data) throws SAXException {
    }
    public void skippedEntity(    String name) throws SAXException {
    }
  }
,new Metadata(),new ParseContext());
  assertEquals(24,textPosition[line]);
  assertTrue(Math.abs(textPosition[col] - 47) < 10);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-350
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-350">TIKA-350</a>
 */
@Test public void testUsingFunkyCharsetInContentTypeHeader() throws Exception {
  final String test="<html><head><title>the name is \u00e1ndre</title></head>" + "<body></body></html>";
  Metadata metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("UTF-8",metadata.get(Metadata.CONTENT_ENCODING));
  metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"charset=ISO-8859-1;text/html");
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("ISO-8859-1",metadata.get(Metadata.CONTENT_ENCODING));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testXHTMLWithMisleading() throws Exception {
  String test="<?xml version=\"1.0\" ?>" + "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n" + "<html xmlns=\"http://www.w3.org/1999/xhtml\">\n"+ "<head>\n"+ "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" />\n"+ "<title>title</title></head><body>body</body></html>";
  Metadata metadata=new Metadata();
  new AutoDetectParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/html; charset=iso-8859-1",metadata.get(TikaCoreProperties.CONTENT_TYPE_HINT));
  assertEquals("application/xhtml+xml; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  test="<?xml version=\"1.0\" ?>" + "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n" + "<html xmlns=\"http://www.w3.org/1999/xhtml\">\n"+ "<head>\n"+ "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-NUMBER_SEVEN\" />\n"+ "<title>title</title></head><body>body</body></html>";
  metadata=new Metadata();
  new AutoDetectParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/html; charset=iso-NUMBER_SEVEN",metadata.get(TikaCoreProperties.CONTENT_TYPE_HINT));
  assertEquals("application/xhtml+xml; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXhtmlParsing() throws Exception {
  String path="/test-documents/testXHTML.html";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(HtmlParserTest.class.getResourceAsStream(path),metadata);
  assertTrue(metadata.get(Metadata.CONTENT_TYPE).startsWith("application/xhtml+xml; charset="));
  assertEquals("XHTML test document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Tika Developers",metadata.get("Author"));
  assertEquals("5",metadata.get("refresh"));
  assertContains("ability of Apache Tika",content);
  assertContains("extract content",content);
  assertContains("an XHTML document",content);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-961
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-961">TIKA-961</a>
 */
@Test public void testBoilerplateWhitespace() throws Exception {
  String path="/test-documents/boilerplate-whitespace.html";
  Metadata metadata=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  BoilerpipeContentHandler bpHandler=new BoilerpipeContentHandler(handler);
  bpHandler.setIncludeMarkup(true);
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),bpHandler,metadata,new ParseContext());
  String content=handler.toString();
  assertFalse(content.contains("item_aitem_b"));
  assertContains("item_a\nitem_b",content);
  assertContains("有什么需要我帮你的",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-341
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-341">TIKA-341</a>
 */
@Test public void testUsingCharsetInContentTypeHeader() throws Exception {
  final String test="<html><head><title>the name is \u00e1ndre</title></head>" + "<body></body></html>";
  Metadata metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("UTF-8",metadata.get(Metadata.CONTENT_ENCODING));
  metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"text/html; charset=ISO-8859-1");
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("ISO-8859-1",metadata.get(Metadata.CONTENT_ENCODING));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ibooks.iBooksParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testiBooksParser() throws Exception {
  try (InputStream input=iBooksParserTest.class.getResourceAsStream("/test-documents/testiBooks.ibooks")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new EpubParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-ibooks+zip",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("en-GB",metadata.get(TikaCoreProperties.LANGUAGE));
    assertEquals("iBooks Author v1.0",metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("Apache",metadata.get(TikaCoreProperties.CREATOR));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.BPGParserTest </h4><pre class="type-14 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a file with geographic information in it
 */
@Test public void testBPG_Geo() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-bpg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testBPG_GEO.bpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("68",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("10",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("YCbCr Colour",metadata.get(Photoshop.COLOR_MODE));
  if (false) {
    assertEquals("12.54321",metadata.get(Metadata.LATITUDE));
    assertEquals("-54.1234",metadata.get(Metadata.LONGITUDE));
  }
  if (false) {
    assertEquals("6.25E-4",metadata.get(Metadata.EXPOSURE_TIME));
    assertEquals("5.6",metadata.get(Metadata.F_NUMBER));
    assertEquals("false",metadata.get(Metadata.FLASH_FIRED));
    assertEquals("194.0",metadata.get(Metadata.FOCAL_LENGTH));
    assertEquals("400",metadata.get(Metadata.ISO_SPEED_RATINGS));
    assertEquals("Canon",metadata.get(Metadata.EQUIPMENT_MAKE));
    assertEquals("Canon EOS 40D",metadata.get(Metadata.EQUIPMENT_MODEL));
    assertEquals("Adobe Photoshop CS3 Macintosh",metadata.get(Metadata.SOFTWARE));
    assertEquals("240.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
    assertEquals("240.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
    assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a very basic file, without much metadata
 */
@Test public void testBPG() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-bpg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testBPG.bpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("10",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("YCbCr Colour",metadata.get(Photoshop.COLOR_MODE));
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a file with comments
 */
@Test public void testBPG_Commented() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-bpg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testBPG_commented.bpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("103",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("77",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("10",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("YCbCr Colour",metadata.get(Photoshop.COLOR_MODE));
  if (false) {
    assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
    List<String> keywords=Arrays.asList(metadata.getValues(Metadata.KEYWORDS));
    assertTrue(keywords.contains("coast"));
    assertTrue(keywords.contains("bird watching"));
    assertEquals(keywords,Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS)));
  }
  if (false) {
    assertEquals("1.0E-6",metadata.get(Metadata.EXPOSURE_TIME));
    assertEquals("2.8",metadata.get(Metadata.F_NUMBER));
    assertEquals("4.6",metadata.get(Metadata.FOCAL_LENGTH));
    assertEquals("114",metadata.get(Metadata.ISO_SPEED_RATINGS));
    assertEquals(null,metadata.get(Metadata.EQUIPMENT_MAKE));
    assertEquals(null,metadata.get(Metadata.EQUIPMENT_MODEL));
    assertEquals(null,metadata.get(Metadata.SOFTWARE));
    assertEquals("1",metadata.get(Metadata.ORIENTATION));
    assertEquals("300.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
    assertEquals("300.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
    assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.ImageMetadataExtractorTest </h4><pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopyUnknownFieldsHandler() throws MetadataException {
  Directory d=mock(Directory.class);
  Tag t1=mock(Tag.class);
  when(t1.getTagName()).thenReturn("Image Description");
  when(t1.getDescription()).thenReturn("t1");
  Tag t2=mock(Tag.class);
  when(t2.getTagName()).thenReturn(Metadata.KEYWORDS);
  when(t2.getDescription()).thenReturn("known");
  Tag t3=mock(Tag.class);
  when(t3.getTagName()).thenReturn(TikaCoreProperties.DESCRIPTION.getName());
  when(t3.getDescription()).thenReturn("known");
  List<Tag> tags=Arrays.asList(t1,t2,t3);
  when(d.getTags()).thenReturn(tags);
  Metadata metadata=new Metadata();
  new ImageMetadataExtractor.CopyUnknownFieldsHandler().handle(d,metadata);
  assertEquals("t1",metadata.get("Image Description"));
  assertNull("keywords should be excluded from bulk copy because it is a defined field",metadata.get(Metadata.KEYWORDS));
  assertNull(metadata.get(TikaCoreProperties.DESCRIPTION));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.ImageParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJPEG() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("75",metadata.get("height"));
  assertEquals("100",metadata.get("width"));
  assertEquals("0.35277778",metadata.get("Dimension VerticalPixelSize"));
  assertEquals("false",metadata.get("Compression Lossless"));
  assertEquals("class=0, htableId=0",metadata.get("markerSequence dht dhtable"));
  assertEquals("majorVersion=1, minorVersion=1, resUnits=1, Xdensity=72, Ydensity=72, thumbWidth=0, thumbHeight=0",metadata.get("JPEGvariety app0JFIF"));
  assertEquals("225",metadata.get("markerSequence unknown"));
  assertEquals("componentSelector=1, dcHuffTable=0, acHuffTable=0",metadata.get("markerSequence sos scanComponentSpec"));
  assertEquals("normal",metadata.get("Dimension ImageOrientation"));
  assertEquals("1.0",metadata.get("Dimension PixelAspectRatio"));
  assertEquals("elementPrecision=0, qtableId=0",metadata.get("markerSequence dqt dqtable"));
  assertEquals("numScanComponents=3, startSpectralSelection=0, endSpectralSelection=63, approxHigh=0, approxLow=0",metadata.get("markerSequence sos"));
  assertEquals("componentId=1, HsamplingFactor=1, VsamplingFactor=1, QtableSelector=0",metadata.get("markerSequence sof componentSpec"));
  assertEquals("JPEG",metadata.get("Compression CompressionTypeName"));
  assertEquals("0.35277778",metadata.get("Dimension HorizontalPixelSize"));
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get("markerSequence com"));
  assertEquals("3",metadata.get("Chroma NumChannels"));
  assertEquals("1",metadata.get("Compression NumProgressiveScans"));
  assertEquals("YCbCr",metadata.get("Chroma ColorSpaceType"));
  assertEquals("keyword=comment, value=Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get("Text TextEntry"));
  assertEquals("image/jpeg",metadata.get("Content-Type"));
  assertEquals("process=0, samplePrecision=8, numLines=75, samplesPerLine=100, numFrameComponents=3",metadata.get("markerSequence sof"));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get(TikaCoreProperties.COMMENTS));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGIF() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/gif");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testGIF.gif");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("75",metadata.get("height"));
  assertEquals("100",metadata.get("width"));
  assertEquals("true",metadata.get("Compression Lossless"));
  assertEquals("Normal",metadata.get("Dimension ImageOrientation"));
  assertEquals("lzw",metadata.get("Compression CompressionTypeName"));
  assertEquals("0",metadata.get("Dimension HorizontalPixelOffset"));
  assertEquals("imageLeftPosition=0, imageTopPosition=0, imageWidth=100, imageHeight=75, interlaceFlag=false",metadata.get("ImageDescriptor"));
  assertEquals("Index",metadata.get("Data SampleFormat"));
  assertEquals("3",metadata.get("Chroma NumChannels"));
  assertEquals("1",metadata.get("Compression NumProgressiveScans"));
  assertEquals("RGB",metadata.get("Chroma ColorSpaceType"));
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get("CommentExtensions CommentExtension"));
  assertEquals("value=Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership., encoding=ISO-8859-1, compression=none",metadata.get("Text TextEntry"));
  assertEquals("true",metadata.get("Chroma BlackIsZero"));
  assertEquals("disposalMethod=none, userInputFlag=false, transparentColorFlag=false, delayTime=0, transparentColorIndex=0",metadata.get("GraphicControlExtension"));
  assertEquals("0",metadata.get("Dimension VerticalPixelOffset"));
  assertEquals("image/gif",metadata.get("Content-Type"));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get(TikaCoreProperties.COMMENTS));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPNG() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/png");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testPNG.png");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("75",metadata.get("height"));
  assertEquals("100",metadata.get("width"));
  assertEquals("0.35273367",metadata.get("Dimension VerticalPixelSize"));
  assertEquals("8 8 8",metadata.get("Data BitsPerSample"));
  assertEquals("Perceptual",metadata.get("sRGB"));
  assertEquals("true",metadata.get("Compression Lossless"));
  assertEquals("year=2008, month=5, day=6, hour=6, minute=18, second=47",metadata.get("tIME"));
  assertEquals("Normal",metadata.get("Dimension ImageOrientation"));
  assertEquals("1.0",metadata.get("Dimension PixelAspectRatio"));
  assertEquals("keyword=Comment, value=Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership.",metadata.get("tEXt tEXtEntry"));
  assertEquals("deflate",metadata.get("Compression CompressionTypeName"));
  assertEquals("UnsignedIntegral",metadata.get("Data SampleFormat"));
  assertEquals("0.35273367",metadata.get("Dimension HorizontalPixelSize"));
  assertEquals("none",metadata.get("Transparency Alpha"));
  assertEquals("pixelsPerUnitXAxis=2835, pixelsPerUnitYAxis=2835, unitSpecifier=meter",metadata.get("pHYs"));
  assertEquals("3",metadata.get("Chroma NumChannels"));
  assertEquals("1",metadata.get("Compression NumProgressiveScans"));
  assertEquals("RGB",metadata.get("Chroma ColorSpaceType"));
  assertEquals("keyword=Comment, value=Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements.  See the NOTICE file distributed with this work for additional information regarding copyright ownership., encoding=ISO-8859-1, compression=none",metadata.get("Text TextEntry"));
  assertEquals("PixelInterleaved",metadata.get("Data PlanarConfiguration"));
  assertEquals("width=100, height=75, bitDepth=8, colorType=RGB, compressionMethod=deflate, filterMethod=adaptive, interlaceMethod=none",metadata.get("IHDR"));
  assertEquals("true",metadata.get("Chroma BlackIsZero"));
  assertEquals("year=2008, month=5, day=6, hour=6, minute=18, second=47",metadata.get("Document ImageModificationTime"));
  assertEquals("image/png",metadata.get("Content-Type"));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8 8 8",metadata.get(Metadata.BITS_PER_SAMPLE));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBMP() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/bmp");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testBMP.bmp");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("75",metadata.get("height"));
  assertEquals("100",metadata.get("width"));
  assertEquals("8 8 8",metadata.get("Data BitsPerSample"));
  assertEquals("1.0",metadata.get("Dimension PixelAspectRatio"));
  assertEquals("0",metadata.get("Dimension VerticalPhysicalPixelSpacing"));
  assertEquals("0",metadata.get("Dimension HorizontalPhysicalPixelSpacing"));
  assertEquals("BI_RGB",metadata.get("Compression CompressionTypeName"));
  assertEquals("image/bmp",metadata.get("Content-Type"));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8 8 8",metadata.get(Metadata.BITS_PER_SAMPLE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.PSDParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a very basic file, without much metadata
 */
@Test public void testPSD() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-psd");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testPSD.psd");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("537",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("51",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a very basic file, without much metadata,
 * where some of the data lengths are padded to be even
 */
@Test public void testOddPSD() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-psd");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testPSD2.psd");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("69",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("70",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.TiffParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTIFF() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/tiff");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testTIFF.tif");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or " + "more contributor license agreements.  See the NOTICE file " + "distributed with this work for additional information regarding "+ "copyright ownership.",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("3",metadata.get(Metadata.SAMPLES_PER_PIXEL));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("got " + keywords,keywords.contains("cat"));
  assertTrue("got " + keywords,keywords.contains("garden"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("got " + subject,subject.contains("cat"));
  assertTrue("got " + subject,subject.contains("garden"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.WebPParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimple() throws Exception {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testWebp_Alpha_Lossy.webp");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("301",metadata.get("Image Height"));
  assertEquals("400",metadata.get("Image Width"));
  assertEquals("true",metadata.get("Has Alpha"));
  assertEquals("false",metadata.get("Is Animation"));
  assertEquals("image/webp",metadata.get(Metadata.CONTENT_TYPE));
  IOUtils.closeQuietly(stream);
  metadata=new Metadata();
  stream=getClass().getResourceAsStream("/test-documents/testWebp_Alpha_Lossless.webp");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("image/webp",metadata.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.xmp.JempboxExtractorTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpegXnviewmp() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_xnviewmp026.jpg");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("coast"));
  assertTrue(keywords.contains("nature reserve"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpeg() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented.jpg");
  metadata.set(TikaCoreProperties.TITLE,"old title");
  metadata.set(TikaCoreProperties.DESCRIPTION,"old description");
  metadata.set(TikaCoreProperties.CREATOR,"previous author");
  metadata.add(TikaCoreProperties.KEYWORDS,"oldkeyword");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("oldkeyword"));
  assertTrue(keywords.contains("grazelands"));
  assertTrue(keywords.contains("nature reserve"));
  assertTrue(keywords.contains("bird watching"));
  assertTrue(keywords.contains("coast"));
  Collection<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue(subject.contains("oldkeyword"));
  assertTrue(subject.contains("grazelands"));
  assertTrue(subject.contains("nature reserve"));
  assertTrue(subject.contains("bird watching"));
  assertTrue(subject.contains("coast"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpegPhotoshop() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_pspcs2mac.jpg");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("bird watching"));
  assertTrue(keywords.contains("coast"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.isatab.ISArchiveParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseArchive() throws Exception {
  String path="/test-documents/testISATab_BII-I-1/s_BII-S-1.txt";
  Parser parser=new ISArchiveParser(ISArchiveParserTest.class.getResource("/test-documents/testISATab_BII-I-1/").toURI().getPath());
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (InputStream stream=ISArchiveParserTest.class.getResourceAsStream(path)){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("Invalid Investigation Identifier","BII-I-1",metadata.get("Investigation Identifier"));
  assertEquals("Invalid Investigation Title","Growth control of the eukaryote cell: a systems biology study in yeast",metadata.get("Investigation Title"));
  assertEquals("Invalid Investigation PubMed ID","17439666",metadata.get("Investigation PubMed ID"));
  assertEquals("Invalid Investigation Publication DOI","doi:10.1186/jbiol54",metadata.get("Investigation Publication DOI"));
  assertEquals("Invalid Investigation Person Last Name","Oliver",metadata.get("Investigation Person Last Name"));
  assertEquals("Invalid Investigation Person First Name","Stephen",metadata.get("Investigation Person First Name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.iwork.IWorkParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseNumbers() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testNumbers.numbers");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 8);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.PAGE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.COMMENTS.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.TITLE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
  assertEquals("Tika User",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Account checking",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("a comment",metadata.get(TikaCoreProperties.COMMENTS));
  String content=handler.toString();
  assertContains("Category",content);
  assertContains("Home",content);
  assertContains("-226",content);
  assertContains("-137.5",content);
  assertContains("Checking Account: 300545668",content);
  assertContains("4650",content);
  assertContains("Credit Card",content);
  assertContains("Groceries",content);
  assertContains("-210",content);
  assertContains("Food",content);
  assertContains("Try adding your own account transactions to this table.",content);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseKeynote() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testKeynote.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 6);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.SLIDE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertEquals("application/vnd.apple.keynote",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("3",metadata.get(Metadata.SLIDE_COUNT));
  assertEquals("1024",metadata.get(KeynoteContentHandler.PRESENTATION_WIDTH));
  assertEquals("768",metadata.get(KeynoteContentHandler.PRESENTATION_HEIGHT));
  assertEquals("Tika user",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Apache tika",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("A sample presentation",content);
  assertContains("For the Apache Tika project",content);
  assertContains("Slide 1",content);
  assertContains("Some random text for the sake of testability.",content);
  assertContains("A nice comment",content);
  assertContains("A nice note",content);
  assertContains("Cell one",content);
  assertContains("Cell two",content);
  assertContains("Cell three",content);
  assertContains("Cell four",content);
  assertContains("Cell 5",content);
  assertContains("Cell six",content);
  assertContains("7",content);
  assertContains("Cell eight",content);
  assertContains("5/5/1985",content);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsePages() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testPages.pages");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 50);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.PAGE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.LAST_MODIFIED.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.LANGUAGE));
  assertEquals("application/vnd.apple.pages",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Tika user",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Apache tika",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("2010-05-09T21:34:38+0200",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2010-05-09T23:50:36+0200",metadata.get(Metadata.LAST_MODIFIED));
  assertEquals("en",metadata.get(TikaCoreProperties.LANGUAGE));
  assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
  String content=handler.toString();
  assertContains("Sample pages document",content);
  assertContains("Some plain text to parse.",content);
  assertContains("Cell one",content);
  assertContains("Cell two",content);
  assertContains("Cell three",content);
  assertContains("Cell four",content);
  assertContains("Cell five",content);
  assertContains("Cell six",content);
  assertContains("Cell seven",content);
  assertContains("Cell eight",content);
  assertContains("Cell nine",content);
  assertContains("Both Pages 1.x and Keynote 2.x",content);
  assertContains("A second page....",content);
  assertContains("Extensible Markup Language",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.jdbc.SQLite3ParserTest </h4><pre class="type-9 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testBasic() throws Exception {
  Parser p=new AutoDetectParser();
  InputStream[] streams=new InputStream[3];
  streams[0]=getResourceAsStream(TEST_FILE1);
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  IOUtils.copy(getResourceAsStream(TEST_FILE1),bos);
  streams[1]=new ByteArrayInputStream(bos.toByteArray());
  streams[2]=TikaInputStream.get(getResourceAsFile(TEST_FILE1));
  int tests=0;
  for (  InputStream stream : streams) {
    Metadata metadata=new Metadata();
    metadata.set(Metadata.RESOURCE_NAME_KEY,TEST_FILE_NAME);
    XMLResult result=getXML(stream,p,metadata);
    String x=result.xml;
    assertContains("<table name=\"my_table1\"><thead><tr>\t<th>INT_COL</th>",x);
    assertContains("<td>普林斯顿大学</td>",x);
    assertContains("<td>true</td>\t<td>2015-01-02</td>",x);
    assertContains("2015-01-04",x);
    assertContains("2015-01-03 15:17:03",x);
    assertContains("alt=\"image1.png\"",x);
    assertContains("alt=\"A description...\"",x);
    assertContains("<table name=\"my_table2\"><thead><tr>\t<th>INT_COL2</th>",x);
    Metadata post=result.metadata;
    String[] tableNames=post.getValues(Database.TABLE_NAME);
    assertEquals(2,tableNames.length);
    assertEquals("my_table1",tableNames[0]);
    assertEquals("my_table2",tableNames[1]);
    tests++;
  }
  assertEquals(3,tests);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecursiveParserWrapper() throws Exception {
  Parser p=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(p,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.BODY,-1));
  InputStream is=getResourceAsStream(TEST_FILE1);
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,TEST_FILE_NAME);
  wrapper.parse(is,new BodyContentHandler(-1),metadata,new ParseContext());
  List<Metadata> metadataList=wrapper.getMetadata();
  int i=0;
  assertEquals(5,metadataList.size());
  String table=metadataList.get(0).get(RecursiveParserWrapper.TIKA_CONTENT);
  assertContains("0\t2.3\t2.4\tlorem",table);
  assertContains("普林斯顿大学",table);
  String table2=metadataList.get(0).get(RecursiveParserWrapper.TIKA_CONTENT);
  assertContains("do eiusmod tempor\n",table2);
  assertContains("The quick brown fox",metadataList.get(2).get(RecursiveParserWrapper.TIKA_CONTENT));
  assertContains("The quick brown fox",metadataList.get(4).get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("/BYTES_COL_0.doc/image1.png",metadataList.get(1).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_PATH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.jpeg.JpegParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescriptionXnviewmp() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_xnviewmp026.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  String[] subject=metadata.getValues(TikaCoreProperties.KEYWORDS);
  List<String> keywords=Arrays.asList(subject);
  assertTrue("'coast'" + " not in " + keywords,keywords.contains("coast"));
  assertTrue("'nature reserve'" + " not in " + keywords,keywords.contains("nature reserve"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJPEGEmptyEXIFDateTime() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_EXIF_emptyDateTime.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("300.0",metadata.get(TIFF.RESOLUTION_HORIZONTAL));
  assertEquals("300.0",metadata.get(TIFF.RESOLUTION_VERTICAL));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for an image with the geographic information stored in a slightly
 * different way, see TIKA-915 for details
 * Disabled for now, pending a fix to the underlying library
 */
@Test public void testJPEGGeo2() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_GEO_2.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("51.575762",metadata.get(Metadata.LATITUDE));
  assertEquals("-1.567886",metadata.get(Metadata.LONGITUDE));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescriptionPhotoshop() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_pspcs2mac.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("got " + keywords,keywords.contains("bird watching"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("got " + subject,subject.contains("bird watching"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJPEGoddTagComponent() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_oddTagComponent.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals(null,metadata.get(TikaCoreProperties.TITLE));
  assertEquals(null,metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("251",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("384",metadata.get(Metadata.IMAGE_LENGTH));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEG() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_EXIF.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("68",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,metadata.get(Metadata.SAMPLES_PER_PIXEL));
  assertEquals("6.25E-4",metadata.get(Metadata.EXPOSURE_TIME));
  assertEquals("5.6",metadata.get(Metadata.F_NUMBER));
  assertEquals("false",metadata.get(Metadata.FLASH_FIRED));
  assertEquals("194.0",metadata.get(Metadata.FOCAL_LENGTH));
  assertEquals("400",metadata.get(Metadata.ISO_SPEED_RATINGS));
  assertEquals("Canon",metadata.get(Metadata.EQUIPMENT_MAKE));
  assertEquals("Canon EOS 40D",metadata.get(Metadata.EQUIPMENT_MODEL));
  assertEquals("Adobe Photoshop CS3 Macintosh",metadata.get(Metadata.SOFTWARE));
  assertEquals(null,metadata.get(Metadata.ORIENTATION));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  assertEquals("Canon EOS 40D",metadata.get("Model"));
  assertEquals("Date/Time Original for when the photo was taken, unspecified time zone","2009-08-11T09:09:45",metadata.get(TikaCoreProperties.CREATED));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("'canon-55-250' expected in " + keywords,keywords.contains("canon-55-250"));
  assertTrue("'moscow-birds' expected in " + keywords,keywords.contains("moscow-birds"));
  assertTrue("'serbor' expected in " + keywords,keywords.contains("serbor"));
  assertFalse(keywords.contains("canon-55-250 moscow-birds serbor"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("'canon-55-250' expected in " + subject,subject.contains("canon-55-250"));
  assertTrue("'moscow-birds' expected in " + subject,subject.contains("moscow-birds"));
  assertTrue("'serbor' expected in " + subject,subject.contains("serbor"));
  assertFalse(subject.contains("canon-55-250 moscow-birds serbor"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for a file with Geographic information (lat, long etc) in it
 */
@Test public void testJPEGGeo() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_GEO.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("12.54321",metadata.get(Metadata.LATITUDE));
  assertEquals("-54.1234",metadata.get(Metadata.LONGITUDE));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("68",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,metadata.get(Metadata.SAMPLES_PER_PIXEL));
  assertEquals("6.25E-4",metadata.get(Metadata.EXPOSURE_TIME));
  assertEquals("5.6",metadata.get(Metadata.F_NUMBER));
  assertEquals("false",metadata.get(Metadata.FLASH_FIRED));
  assertEquals("194.0",metadata.get(Metadata.FOCAL_LENGTH));
  assertEquals("400",metadata.get(Metadata.ISO_SPEED_RATINGS));
  assertEquals("Canon",metadata.get(Metadata.EQUIPMENT_MAKE));
  assertEquals("Canon EOS 40D",metadata.get(Metadata.EQUIPMENT_MODEL));
  assertEquals("Adobe Photoshop CS3 Macintosh",metadata.get(Metadata.SOFTWARE));
  assertEquals(null,metadata.get(Metadata.ORIENTATION));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  assertEquals("Date/Time Original for when the photo was taken, unspecified time zone","2009-08-11T09:09:45",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("This image has different Date/Time than Date/Time Original, so it is probably modification date","2009-10-02T23:02:49",metadata.get(Metadata.LAST_MODIFIED));
  assertEquals("Date/Time Original should be stored in EXIF field too","2009-08-11T09:09:45",metadata.get(TIFF.ORIGINAL_DATE));
  assertEquals("canon-55-250",metadata.getValues(TikaCoreProperties.KEYWORDS)[0]);
  assertEquals("canon-55-250",metadata.getValues(Metadata.KEYWORDS)[0]);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescription() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  List<String> keywords=Arrays.asList(metadata.getValues(Metadata.KEYWORDS));
  assertTrue(keywords.contains("coast"));
  assertTrue(keywords.contains("bird watching"));
  assertEquals(keywords,Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS)));
  assertEquals("103",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("77",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,metadata.get(Metadata.SAMPLES_PER_PIXEL));
  assertEquals("1.0E-6",metadata.get(Metadata.EXPOSURE_TIME));
  assertEquals("2.8",metadata.get(Metadata.F_NUMBER));
  assertEquals("4.6",metadata.get(Metadata.FOCAL_LENGTH));
  assertEquals("114",metadata.get(Metadata.ISO_SPEED_RATINGS));
  assertEquals(null,metadata.get(Metadata.EQUIPMENT_MAKE));
  assertEquals(null,metadata.get(Metadata.EQUIPMENT_MODEL));
  assertEquals(null,metadata.get(Metadata.SOFTWARE));
  assertEquals("1",metadata.get(Metadata.ORIENTATION));
  assertEquals("300.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
  assertEquals("300.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mail.RFC822ParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * The from isn't in the usual form.
 * See TIKA-618
 */
@Test public void testUnusualFromAddress() throws Exception {
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822_oddfrom");
  ContentHandler handler=mock(DefaultHandler.class);
  parser.parse(stream,handler,metadata,new ParseContext());
  assertEquals("Saved by Windows Internet Explorer 7",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Air Permit Programs | Air & Radiation | US EPA",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Air Permit Programs | Air & Radiation | US EPA",metadata.get(Metadata.SUBJECT));
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testI18NHeaders(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822_i18nheaders");
  ContentHandler handler=mock(DefaultHandler.class);
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    assertEquals("Keld J\u00F8rn Simonsen <keld@dkuug.dk>",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("If you can read this you understand the example.",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("If you can read this you understand the example.",metadata.get(Metadata.SUBJECT));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test TIKA-1028 - Ensure we can get the contents of an
 * un-encrypted zip file
 */
@Test public void testNormalZipAttachment() throws Exception {
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  InputStream stream=getStream("test-documents/testRFC822_normal_zip");
  ContentHandler handler=new BodyContentHandler();
  parser.parse(stream,handler,metadata,context);
  assertEquals("Juha Haaga <juha.haaga@gmail.com>",metadata.get(Metadata.MESSAGE_FROM));
  assertEquals("Test mail for Tika",metadata.get(TikaCoreProperties.TITLE));
  assertContains("Includes a normal, unencrypted zip file",handler.toString());
  assertContains("This is the Plain Text part",handler.toString());
  assertContains("This is the HTML part",handler.toString());
  assertContains("text.txt",handler.toString());
  assertContains("TEST DATA FOR TIKA.",handler.toString());
  assertContains("This is text inside an unencrypted zip file",handler.toString());
  assertContains("TIKA-1028",handler.toString());
}

</code></pre>

<br>
<pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822");
  ContentHandler handler=mock(DefaultHandler.class);
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    verify(handler).startDocument();
    verify(handler).startElement(eq(XHTMLContentHandler.XHTML),eq("p"),eq("p"),any(Attributes.class));
    verify(handler).endElement(XHTMLContentHandler.XHTML,"p","p");
    verify(handler,never()).startElement(eq(XHTMLContentHandler.XHTML),eq("div"),eq("div"),any(Attributes.class));
    verify(handler,never()).endElement(XHTMLContentHandler.XHTML,"div","div");
    verify(handler).endDocument();
    assertEquals("Julien Nioche (JIRA) <jira@apache.org>",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("[jira] Commented: (TIKA-461) RFC822 messages not parsed",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("[jira] Commented: (TIKA-461) RFC822 messages not parsed",metadata.get(Metadata.SUBJECT));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-4 type-16 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test TIKA-1028 - If the mail contains an encrypted attachment (or
 * an attachment that others triggers an error), parsing should carry
 * on for the remainder regardless
 */
@Test public void testEncryptedZipAttachment() throws Exception {
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  InputStream stream=getStream("test-documents/testRFC822_encrypted_zip");
  ContentHandler handler=new BodyContentHandler();
  parser.parse(stream,handler,metadata,context);
  assertEquals("Juha Haaga <juha.haaga@gmail.com>",metadata.get(Metadata.MESSAGE_FROM));
  assertEquals("Test mail for Tika",metadata.get(TikaCoreProperties.TITLE));
  assertContains("Includes encrypted zip file",handler.toString());
  assertContains("password is \"test\".",handler.toString());
  assertContains("This is the Plain Text part",handler.toString());
  assertContains("This is the HTML part",handler.toString());
  assertContains("text.txt",handler.toString());
  assertNotContained("ENCRYPTED ZIP FILES",handler.toString());
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "test";
    }
  }
);
  stream=getStream("test-documents/testRFC822_encrypted_zip");
  handler=new BodyContentHandler();
  parser.parse(stream,handler,metadata,context);
  assertContains("Includes encrypted zip file",handler.toString());
  assertContains("password is \"test\".",handler.toString());
  assertContains("This is the Plain Text part",handler.toString());
  assertContains("This is the HTML part",handler.toString());
  assertContains("text.txt",handler.toString());
  assumeTrue(false);
  assertContains("TEST DATA FOR TIKA.",handler.toString());
  assertContains("ENCRYPTED ZIP FILES",handler.toString());
  assertContains("TIKA-1028",handler.toString());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for TIKA-678 - not all headers may be present
 */
@Test public void testSomeMissingHeaders() throws Exception {
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822-limitedheaders");
  ContentHandler handler=new BodyContentHandler();
  parser.parse(stream,handler,metadata,new ParseContext());
  assertEquals(true,metadata.isMultiValued(TikaCoreProperties.CREATOR));
  assertEquals("xyz",metadata.getValues(TikaCoreProperties.CREATOR)[0]);
  assertEquals("abc",metadata.getValues(TikaCoreProperties.CREATOR)[1]);
  assertEquals(true,metadata.isMultiValued(Metadata.MESSAGE_FROM));
  assertEquals("xyz",metadata.getValues(Metadata.MESSAGE_FROM)[0]);
  assertEquals("abc",metadata.getValues(Metadata.MESSAGE_FROM)[1]);
  assertEquals(true,metadata.isMultiValued(Metadata.MESSAGE_TO));
  assertEquals("abc",metadata.getValues(Metadata.MESSAGE_TO)[0]);
  assertEquals("def",metadata.getValues(Metadata.MESSAGE_TO)[1]);
  assertEquals("abcd",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("abcd",metadata.get(Metadata.SUBJECT));
  assertContains("bar biz bat",handler.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mat.MatParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParser() throws Exception {
  AutoDetectParser parser=new AutoDetectParser();
  ToXMLContentHandler handler=new ToXMLContentHandler();
  Metadata metadata=new Metadata();
  String path="/test-documents/breidamerkurjokull_radar_profiles_2009.mat";
  try (InputStream stream=MatParser.class.getResourceAsStream(path)){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("PCWIN64",metadata.get("platform"));
  assertEquals("MATLAB 5.0 MAT-file",metadata.get("fileType"));
  assertEquals("IM",metadata.get("endian"));
  assertEquals("Thu Feb 21 15:52:49 2013",metadata.get("createdOn"));
  String content=handler.toString();
  assertContains("<li>[1x909  double array]</li>",content);
  assertContains("<p>c1:[1x1  struct array]</p>",content);
  assertContains("<li>[1024x1  double array]</li>",content);
  assertContains("<p>b1:[1x1  struct array]</p>",content);
  assertContains("<p>a1:[1x1  struct array]</p>",content);
  assertContains("<li>[1024x1261  double array]</li>",content);
  assertContains("<li>[1x1  double array]</li>",content);
  assertContains("</body></html>",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mbox.MboxParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultilineHeader() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=getStream("/test-documents/multiline.mbox")){
    mboxParser.parse(stream,handler,metadata,recursingContext);
  }
   assertEquals("Nb. Of mails",1,mboxParser.getTrackingMetadata().size());
  Metadata mailMetadata=mboxParser.getTrackingMetadata().get(0);
  assertEquals("from xxx by xxx with xxx; date",mailMetadata.get("MboxParser-received"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeaders() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=getStream("/test-documents/headers.mbox")){
    mboxParser.parse(stream,handler,metadata,recursingContext);
  }
   assertContains("Test content",handler.toString());
  assertEquals("Nb. Of mails",1,mboxParser.getTrackingMetadata().size());
  Metadata mailMetadata=mboxParser.getTrackingMetadata().get(0);
  assertEquals("2009-06-10T03:58:45Z",mailMetadata.get(TikaCoreProperties.CREATED));
  assertEquals("<author@domain.com>",mailMetadata.get(TikaCoreProperties.CREATOR));
  assertEquals("subject",mailMetadata.get(Metadata.SUBJECT));
  assertEquals("<author@domain.com>",mailMetadata.get(Metadata.AUTHOR));
  assertEquals("message/rfc822",mailMetadata.get(Metadata.CONTENT_TYPE));
  assertEquals("author@domain.com",mailMetadata.get("Message-From"));
  assertEquals("<name@domain.com>",mailMetadata.get("MboxParser-return-path"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testComplex() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=getStream("/test-documents/complex.mbox")){
    mboxParser.parse(stream,handler,metadata,recursingContext);
  }
   assertEquals("Nb. Of mails",3,mboxParser.getTrackingMetadata().size());
  Metadata firstMail=mboxParser.getTrackingMetadata().get(0);
  assertEquals("Re: question about when shuffle/sort start working",firstMail.get(Metadata.SUBJECT));
  assertEquals("Re: question about when shuffle/sort start working",firstMail.get(TikaCoreProperties.TITLE));
  assertEquals("Jothi Padmanabhan <jothipn@yahoo-inc.com>",firstMail.get(Metadata.AUTHOR));
  assertEquals("Jothi Padmanabhan <jothipn@yahoo-inc.com>",firstMail.get(TikaCoreProperties.CREATOR));
  assertEquals("core-user@hadoop.apache.org",firstMail.get(Metadata.MESSAGE_RECIPIENT_ADDRESS));
  assertContains("When a Mapper completes",handler.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimple() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=getStream("/test-documents/simple.mbox")){
    mboxParser.parse(stream,handler,metadata,recursingContext);
  }
   String content=handler.toString();
  assertContains("Test content 1",content);
  assertContains("Test content 2",content);
  assertEquals("application/mbox",metadata.get(Metadata.CONTENT_TYPE));
  Map<Integer,Metadata> mailsMetadata=mboxParser.getTrackingMetadata();
  assertEquals("Nb. Of mails",2,mailsMetadata.size());
  Metadata mail1=mailsMetadata.get(0);
  assertEquals("message/rfc822",mail1.get(Metadata.CONTENT_TYPE));
  assertEquals("envelope-sender-mailbox-name Mon Jun 01 10:00:00 2009",mail1.get("MboxParser-from"));
  Metadata mail2=mailsMetadata.get(1);
  assertEquals("message/rfc822",mail2.get(Metadata.CONTENT_TYPE));
  assertEquals("envelope-sender-mailbox-name Mon Jun 01 11:00:00 2010",mail2.get("MboxParser-from"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mbox.OutlookPSTParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParse() throws Exception {
  Parser pstParser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new ToHTMLContentHandler();
  ParseContext context=new ParseContext();
  EmbeddedTrackingExtrator trackingExtrator=new EmbeddedTrackingExtrator(context);
  context.set(EmbeddedDocumentExtractor.class,trackingExtrator);
  context.set(Parser.class,new AutoDetectParser());
  pstParser.parse(getResourceAsStream("/test-documents/testPST.pst"),handler,metadata,context);
  String output=handler.toString();
  assertFalse(output.isEmpty());
  assertTrue(output.contains("<meta name=\"Content-Length\" content=\"271360\">"));
  assertTrue(output.contains("<meta name=\"Content-Type\" content=\"application/vnd.ms-outlook-pst\">"));
  assertTrue(output.contains("<body><div class=\"email-folder\"><h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;530D9CAC.5080901@gmail.com&gt;\"><h1>Re: Feature Generators</h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;1393363252.28814.YahooMailNeo@web140906.mail.bf1.yahoo.com&gt;\"><h1>Re: init tokenizer fails: \"Bad type in putfield/putstatic\"</h1>"));
  assertTrue(output.contains("Gary Murphy commented on TIKA-1250:"));
  assertTrue(output.contains("<div class=\"email-folder\"><h1>Racine (pour la recherche)</h1>"));
  List<Metadata> metaList=trackingExtrator.trackingMetadata;
  assertEquals(6,metaList.size());
  Metadata firstMail=metaList.get(0);
  assertEquals("Jörn Kottmann",firstMail.get(TikaCoreProperties.CREATOR));
  assertEquals("Re: Feature Generators",firstMail.get(TikaCoreProperties.TITLE));
  assertEquals("kottmann@gmail.com",firstMail.get("senderEmailAddress"));
  assertEquals("users@opennlp.apache.org",firstMail.get("displayTo"));
  assertEquals("",firstMail.get("displayCC"));
  assertEquals("",firstMail.get("displayBCC"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ExcelParserTest </h4><pre class="type-12 type-4 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExcelParserPassword() throws Exception {
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_protected_passtika.xls")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OfficeParser().parse(input,handler,metadata,context);
    fail("Document is encrypted, shouldn't parse");
  }
 catch (  EncryptedDocumentException e) {
  }
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_protected_passtika.xls")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    context.set(PasswordProvider.class,new PasswordProvider(){
      @Override public String getPassword(      Metadata metadata){
        return "tika";
      }
    }
);
    new OfficeParser().parse(input,handler,metadata,context);
    assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(null,metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Antoni",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("2011-11-25T09:52:48Z",metadata.get(TikaCoreProperties.CREATED));
    String content=handler.toString();
    assertContains("This is an Encrypted Excel spreadsheet",content);
    assertNotContained("9.0",content);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Excel 5 and 95 are older formats, and only get basic support
 */
@Test public void testExcel95() throws Exception {
  Detector detector=new DefaultDetector();
  AutoDetectParser parser=new AutoDetectParser();
  MediaType type;
  Metadata m;
  m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"excel_5.xls");
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_5.xls")){
    type=detector.detect(input,m);
    assertEquals("application/vnd.ms-excel",type.toString());
  }
   m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"excel_95.xls");
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_95.xls")){
    type=detector.detect(input,m);
    assertEquals("application/vnd.ms-excel",type.toString());
  }
   assertEquals(true,(new OfficeParser()).getSupportedTypes(new ParseContext()).contains(type));
  assertEquals(false,(new OOXMLParser()).getSupportedTypes(new ParseContext()).contains(type));
  m=new Metadata();
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_5.xls")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    parser.parse(input,handler,m,context);
    String content=handler.toString();
    assertContains("Feuil1",content);
    assertContains("Feuil3",content);
    assertContains("Sample Excel",content);
    assertContains("Number",content);
    assertContains("15",content);
    assertContains("225",content);
    assertEquals("Simple Excel document",m.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",m.get(TikaCoreProperties.CREATOR));
  }
   m=new Metadata();
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_95.xls")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    parser.parse(input,handler,m,context);
    String content=handler.toString();
    assertContains("Foglio1",content);
    assertEquals(null,m.get(TikaCoreProperties.TITLE));
    assertEquals("Marco Quaranta",m.get(Office.LAST_AUTHOR));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeaderAndFooterExtraction() throws Exception {
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_headers_footers.xls")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.UK);
    new OfficeParser().parse(input,handler,metadata,context);
    assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Internal spreadsheet",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Aeham Abushwashi",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Aeham Abushwashi",metadata.get(Metadata.AUTHOR));
    String content=handler.toString();
    assertContains("John Smith1",content);
    assertContains("John Smith50",content);
    assertContains("1 Corporate HQ",content);
    assertContains("Header - Corporate Spreadsheet",content);
    assertContains("Header - For Internal Use Only",content);
    assertContains("Header - Author: John Smith",content);
    assertContains("Footer - Corporate Spreadsheet",content);
    assertContains("Footer - For Internal Use Only",content);
    assertContains("Footer - Author: John Smith",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * We don't currently support the .xlsb file format 
 * (an OOXML container with binary blobs), but we 
 * shouldn't break on these files either (TIKA-826)  
 */
@Test public void testExcelXLSB() throws Exception {
  Detector detector=new DefaultDetector();
  AutoDetectParser parser=new AutoDetectParser();
  Metadata m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"excel.xlsb");
  MediaType type;
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL.xlsb")){
    type=detector.detect(input,m);
    assertEquals("application/vnd.ms-excel.sheet.binary.macroenabled.12",type.toString());
  }
   assertEquals(false,(new OfficeParser()).getSupportedTypes(new ParseContext()).contains(type));
  assertEquals(false,(new OOXMLParser()).getSupportedTypes(new ParseContext()).contains(type));
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL.xlsb")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    parser.parse(input,handler,m,context);
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Ensures that custom OLE2 (HPSF) properties are extracted
 */
@Test public void testCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL_custom_props.xls")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OfficeParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("",metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("2011-08-22T13:45:54Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2006-09-12T15:06:44Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("Microsoft Excel",metadata.get(OfficeOpenXMLExtended.APPLICATION));
  assertEquals("true",metadata.get("custom:myCustomBoolean"));
  assertEquals("3",metadata.get("custom:myCustomNumber"));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T22:00:00Z",metadata.get("custom:MyCustomDate"));
  assertEquals("2010-12-29T22:00:00Z",metadata.get("custom:myCustomSecondDate"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @SuppressWarnings("deprecation") public void testExcelParser() throws Exception {
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL.xls")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OfficeParser().parse(input,handler,metadata,context);
    assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Simple Excel document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    assertEquals("2007-10-01T16:13:56Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals("2007-10-01T16:13:56Z",metadata.get(Metadata.CREATION_DATE));
    assertEquals("2007-10-01T16:31:43Z",metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2007-10-01T16:31:43Z",metadata.get(Metadata.DATE));
    String content=handler.toString();
    assertContains("Sample Excel Worksheet",content);
    assertContains("Numbers and their Squares",content);
    assertContains("\t\tNumber\tSquare",content);
    assertContains("9",content);
    assertNotContained("9.0",content);
    assertContains("196",content);
    assertNotContained("196.0",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.JackcessParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasic() throws Exception {
  Parser p=new AutoDetectParser();
  RecursiveParserWrapper w=new RecursiveParserWrapper(p,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  for (  String fName : new String[]{"testAccess2.accdb","testAccess2_2000.mdb","testAccess2_2002-2003.mdb"}) {
    InputStream is=null;
    try {
      is=this.getResourceAsStream("/test-documents/" + fName);
      Metadata meta=new Metadata();
      ParseContext c=new ParseContext();
      w.parse(is,new DefaultHandler(),meta,c);
    }
  finally {
      IOUtils.closeQuietly(is);
    }
    List<Metadata> list=w.getMetadata();
    assertEquals(4,list.size());
    String mainContent=list.get(0).get(RecursiveParserWrapper.TIKA_CONTENT);
    assertContains("</thead><tbody>",mainContent);
    assertContains("<th>ShortTextField</th>",mainContent);
    assertContains("6/24/15",mainContent);
    assertContains("over the bold italic dog",mainContent);
    assertContains("\u666E\u6797\u65AF\u987F\u5927\u5B66",mainContent);
    assertContains("Test Document with embedded pdf",list.get(3).get(RecursiveParserWrapper.TIKA_CONTENT));
    w.reset();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OldExcelParserTest </h4><pre class="type-4 type-2 type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore public void testMetadata() throws Exception {
  TikaInputStream stream=getTestFile(file);
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  OldExcelParser parser=new OldExcelParser();
  parser.parse(stream,handler,metadata,new ParseContext());
  assertEquals("application/vnd.ms-excel.sheet.4",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals(null,metadata.get(TikaCoreProperties.TITLE));
  assertEquals(null,metadata.get(Metadata.SUBJECT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OutlookParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-395, to ensure parser works for new Outlook formats.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-395">TIKA-395</a>
 */
@Test public void testOutlookNew() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/test-outlook2003.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("application/vnd.ms-outlook",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Welcome to Microsoft Office Outlook 2003",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("Outlook 2003",content);
  assertContains("Streamlined Mail Experience",content);
  assertContains("Navigation Pane",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutlookParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/test-outlook.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("application/vnd.ms-outlook",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Microsoft Outlook Express 6",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Nouvel utilisateur de Outlook Express",metadata.get(Metadata.MESSAGE_RECIPIENT_ADDRESS));
  assertEquals("L'\u00C9quipe Microsoft Outlook Express",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("L'\u00C9quipe Microsoft Outlook Express",metadata.get(Metadata.AUTHOR));
  assertEquals("2007-04-05T16:26:06Z",metadata.get(TikaCoreProperties.CREATED));
  String content=handler.toString();
  assertContains("Microsoft Outlook Express 6",content);
  assertContains("L'\u00C9quipe Microsoft Outlook Express",content);
  assertContains("Nouvel utilisateur de Outlook Express",content);
  assertContains("Messagerie et groupes de discussion",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.PowerPointParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Ensures that custom OLE2 (HPSF) properties are extracted
 */
@Test public void testCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=PowerPointParserTest.class.getResourceAsStream("/test-documents/testPPT_custom_props.ppt")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OfficeParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/vnd.ms-powerpoint",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("JOUVIN ETIENNE",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("EJ04325S",metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("EJ04325S",metadata.get(Metadata.LAST_AUTHOR));
  assertEquals("2011-08-22T13:32:58Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2011-08-22T13:32:58Z",metadata.get(Metadata.DATE));
  assertEquals("2011-08-22T13:30:53Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2011-08-22T13:30:53Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("1",metadata.get(Office.SLIDE_COUNT));
  assertEquals("3",metadata.get(Office.WORD_COUNT));
  assertEquals("Test extraction properties pptx",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("true",metadata.get("custom:myCustomBoolean"));
  assertEquals("3",metadata.get("custom:myCustomNumber"));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T22:00:00Z",metadata.get("custom:MyCustomDate"));
  assertEquals("2010-12-29T22:00:00Z",metadata.get("custom:myCustomSecondDate"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPowerPointParser() throws Exception {
  try (InputStream input=PowerPointParserTest.class.getResourceAsStream("/test-documents/testPPT.ppt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/vnd.ms-powerpoint",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Sample Powerpoint Slide",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    String content=handler.toString();
    assertContains("Sample Powerpoint Slide",content);
    assertContains("Powerpoint X for Mac",content);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVarious() throws Exception {
  Metadata metadata=new Metadata();
  String xml=getXML("testPPT_various.ppt",metadata).xml;
  assertContains("<p>Footnote appears here",xml);
  assertContains("<p>[1] This is a footnote.",xml);
  assertContains("<p>This is the header text.</p>",xml);
  assertContains("<p>This is the footer text.</p>",xml);
  assertContains("<p>Here is a text box</p>",xml);
  assertContains("<p>Bold ",xml);
  assertContains("italic underline superscript subscript",xml);
  assertContains("underline",xml);
  assertContains("superscript",xml);
  assertContains("subscript",xml);
  assertContains("<p>Here is a citation:",xml);
  assertContains("Figure 1 This is a caption for Figure 1",xml);
  assertContains("(Kramer)",xml);
  assertContains("<table><tr>\t<td>Row 1 Col 1</td>",xml);
  assertContains("<td>Row 2 Col 2</td>\t<td>Row 2 Col 3</td></tr>",xml);
  assertContains("<p>Row 1 column 1</p>",xml);
  assertContains("<p>Row 2 column 2</p>",xml);
  assertContains("<p>This is a hyperlink",xml);
  assertContains("<p>Here is a list:",xml);
  for (int row=1; row <= 3; row++) {
    assertContains("<li>Bullet " + row,xml);
  }
  assertContains("Here is a numbered list:",xml);
  for (int row=1; row <= 3; row++) {
    assertContains("<li>Number bullet " + row,xml);
  }
  for (int row=1; row <= 2; row++) {
    for (int col=1; col <= 3; col++) {
      assertContains("Row " + row + " Col "+ col,xml);
    }
  }
  assertContains("Keyword1 Keyword2",xml);
  assertEquals("Keyword1 Keyword2",metadata.get(TikaCoreProperties.KEYWORDS));
  assertContains("Subject is here",xml);
  assertEquals("Subject is here",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Subject is here",metadata.get(Metadata.SUBJECT));
  assertContains("Suddenly some Japanese text:",xml);
  assertContains("\uff08\uff27\uff28\uff31\uff09",xml);
  assertContains("\u30be\u30eb\u30b2\u3068\u5c3e\u5d0e\u3001\u6de1\u3005\u3068\u6700\u671f",xml);
  assertContains("And then some Gothic text:",xml);
  assertContains("\uD800\uDF32\uD800\uDF3f\uD800\uDF44\uD800\uDF39\uD800\uDF43\uD800\uDF3A",xml);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.PublisherParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPublisherParser() throws Exception {
  try (InputStream input=PublisherParserTest.class.getResourceAsStream("/test-documents/testPUBLISHER.pub")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-mspublisher",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(null,metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Nick Burch",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Nick Burch",metadata.get(Metadata.AUTHOR));
    String content=handler.toString();
    assertContains("0123456789",content);
    assertContains("abcdef",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.TNEFParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMetadata() throws Exception {
  TikaInputStream stream=getTestFile(file);
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  TNEFParser tnef=new TNEFParser();
  tnef.parse(stream,handler,metadata,new ParseContext());
  assertEquals("This is a test message",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("This is a test message",metadata.get(Metadata.SUBJECT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.VisioParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVisioParser() throws Exception {
  try (InputStream input=VisioParserTest.class.getResourceAsStream("/test-documents/testVISIO.vsd")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/vnd.visio",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Hogwarts",metadata.get(TikaCoreProperties.CREATOR));
    String content=handler.toString();
    assertContains("Some random text, on a page",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.WordParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVarious() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=WordParserTest.class.getResourceAsStream("/test-documents/testWORD_various.doc")){
    new OfficeParser().parse(stream,handler,metadata,new ParseContext());
  }
   String content=handler.toString();
  assertContains("Footnote appears here",content);
  assertContains("This is a footnote.",content);
  assertContains("This is the header text.",content);
  assertContains("This is the footer text.",content);
  assertContains("Here is a text box",content);
  assertContains("Bold",content);
  assertContains("italic",content);
  assertContains("underline",content);
  assertContains("superscript",content);
  assertContains("subscript",content);
  assertContains("Here is a citation:",content);
  assertContains("Figure 1 This is a caption for Figure 1",content);
  assertContains("(Kramer)",content);
  assertContains("Row 1 Col 1 Row 1 Col 2 Row 1 Col 3 Row 2 Col 1 Row 2 Col 2 Row 2 Col 3",content.replaceAll("\\s+"," "));
  assertContains("Row 1 column 1 Row 2 column 1 Row 1 column 2 Row 2 column 2",content.replaceAll("\\s+"," "));
  assertContains("This is a hyperlink",content);
  assertContains("Here is a list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains("Bullet " + row,content);
  }
  assertContains("Here is a numbered list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains("Number bullet " + row,content);
  }
  for (int row=1; row <= 2; row++) {
    for (int col=1; col <= 3; col++) {
      assertContains("Row " + row + " Col "+ col,content);
    }
  }
  assertContains("Keyword1 Keyword2",content);
  assertEquals("Keyword1 Keyword2",metadata.get(TikaCoreProperties.KEYWORDS));
  assertContains("Subject is here",content);
  assertEquals("Subject is here",metadata.get(Metadata.SUBJECT));
  assertEquals("Subject is here",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertContains("Suddenly some Japanese text:",content);
  assertContains("\uff08\uff27\uff28\uff31\uff09",content);
  assertContains("\u30be\u30eb\u30b2\u3068\u5c3e\u5d0e\u3001\u6de1\u3005\u3068\u6700\u671f",content);
  assertContains("And then some Gothic text:",content);
  assertContains("\uD800\uDF32\uD800\uDF3f\uD800\uDF44\uD800\uDF39\uD800\uDF43\uD800\uDF3A",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWordParser() throws Exception {
  try (InputStream input=WordParserTest.class.getResourceAsStream("/test-documents/testWORD.doc")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    assertContains("Sample Word Document",handler.toString());
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the word converter is able to generate the
 * correct HTML for the document
 */
@Test public void testWordHTML() throws Exception {
  XMLResult result=getXML("testWORD.doc");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
  assertTrue(xml.contains("Sample Word Document"));
  assertTrue(xml.contains("<h1 class=\"title\">"));
  assertTrue(xml.contains("<h1>Heading Level 1</h1>"));
  assertTrue(xml.contains("<h3>Heading Level 3</h3>"));
  assertTrue(xml.contains("<b>BOLD</b>"));
  assertTrue(xml.contains("<i>ITALIC</i>"));
  assertTrue(xml.contains("<table>"));
  assertTrue(xml.contains("<td>"));
  assertTrue(xml.contains("<a href=\"http://tika.apache.org/\">Tika</a>"));
  assertTrue(xml.contains("<p class=\"signature\">This one"));
  xml=getXML("testWORD_3imgs.doc").xml;
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image1.png\""));
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image2.jpg\""));
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image3.png\""));
  assertTrue(xml.contains("<p>The end!"));
  xml=getXML("testWORD_bold_character_runs.doc").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
  xml=getXML("testWORD_bold_character_runs2.doc").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWord6Parser() throws Exception {
  try (InputStream input=WordParserTest.class.getResourceAsStream("/test-documents/testWORD6.doc")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("The quick brown fox jumps over the lazy dog",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(Metadata.SUBJECT));
    assertEquals("Nevin Nollop",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Nevin Nollop",metadata.get(Metadata.AUTHOR));
    assertContains("The quick brown fox jumps over the lazy dog",handler.toString());
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1229 Hyperlinks in Headers should be output as such,
 * not plain text with control characters
 */
@Test public void testHeaderHyperlinks() throws Exception {
  XMLResult result=getXML("testWORD_header_hyperlink.doc");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Lutz Theurer",metadata.get(TikaCoreProperties.CREATOR));
  assertContains("example.com",xml);
  assertFalse(xml.contains("HYPERLINK"));
  assertContains("<a href=\"http://tw-systemhaus.de\">http:",xml);
  assertContains("<a href=\"mailto:ab@example.com\">ab@",xml);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Ensures that custom OLE2 (HPSF) properties are extracted
 */
@Test public void testCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=WordParserTest.class.getResourceAsStream("/test-documents/testWORD_custom_props.doc")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OfficeParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("EJ04325S",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Etienne Jouvin",metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("Etienne Jouvin",metadata.get(Metadata.LAST_AUTHOR));
  assertEquals("2012-01-03T22:14:00Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2012-01-03T22:14:00Z",metadata.get(Metadata.DATE));
  assertEquals("2010-10-05T09:03:00Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2010-10-05T09:03:00Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("Microsoft Office Word",metadata.get(OfficeOpenXMLExtended.APPLICATION));
  assertEquals("1",metadata.get(Office.PAGE_COUNT));
  assertEquals("2",metadata.get(Office.WORD_COUNT));
  assertEquals("My Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("My Keyword",metadata.get(TikaCoreProperties.KEYWORDS));
  assertEquals("Normal.dotm",metadata.get(OfficeOpenXMLExtended.TEMPLATE));
  assertEquals("My Comments",metadata.get(TikaCoreProperties.COMMENTS));
  assertEquals("My subject",metadata.get(Metadata.SUBJECT));
  assertEquals("My subject",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("EDF-DIT",metadata.get(OfficeOpenXMLExtended.COMPANY));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T23:00:00Z",metadata.get("custom:MyCustomDate"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ooxml.OOXMLParserTest </h4><pre class="type-7 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * For the PowerPoint formats we don't currently support, ensure that
 * we don't break either
 */
@Test public void testUnsupportedPowerPoint() throws Exception {
  String[] extensions=new String[]{"xps","thmx"};
  String[] mimeTypes=new String[]{"application/vnd.ms-xpsdocument","application/vnd.openxmlformats-officedocument"};
  for (int i=0; i < extensions.length; i++) {
    String extension=extensions[i];
    String filename="testPPT." + extension;
    Parser parser=new AutoDetectParser();
    Metadata metadata=new Metadata();
    metadata.set(Metadata.RESOURCE_NAME_KEY,filename);
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    try (InputStream input=getTestDocument(filename)){
      parser.parse(input,handler,metadata,context);
      assertEquals("Mime-type checking for " + filename,mimeTypes[i],metadata.get(Metadata.CONTENT_TYPE));
    }
   }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVarious() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=OOXMLParserTest.class.getResourceAsStream("/test-documents/testWORD_various.docx")){
    new AutoDetectParser().parse(stream,handler,metadata,new ParseContext());
  }
   String content=handler.toString();
  assertContains("Footnote appears here",content);
  assertContains("This is a footnote.",content);
  assertContains("This is the header text.",content);
  assertContains("This is the footer text.",content);
  assertContains("Here is a text box",content);
  assertContains("Bold",content);
  assertContains("italic",content);
  assertContains("underline",content);
  assertContains("superscript",content);
  assertContains("subscript",content);
  assertContains("Here is a citation:",content);
  assertContains("Figure 1 This is a caption for Figure 1",content);
  assertContains("(Kramer)",content);
  assertContains("Row 1 Col 1 Row 1 Col 2 Row 1 Col 3 Row 2 Col 1 Row 2 Col 2 Row 2 Col 3",content.replaceAll("\\s+"," "));
  assertContains("Row 1 column 1 Row 2 column 1 Row 1 column 2 Row 2 column 2",content.replaceAll("\\s+"," "));
  assertContains("This is a hyperlink",content);
  assertContains("Here is a list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains("Bullet " + row,content);
  }
  assertContains("Here is a numbered list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains("Number bullet " + row,content);
  }
  for (int row=1; row <= 2; row++) {
    for (int col=1; col <= 3; col++) {
      assertContains("Row " + row + " Col "+ col,content);
    }
  }
  assertContains("Keyword1 Keyword2",content);
  assertEquals("Keyword1 Keyword2",metadata.get(Metadata.KEYWORDS));
  assertContains("Subject is here",content);
  assertEquals("Subject is here",metadata.get(Metadata.SUBJECT));
  assertEquals("Subject is here",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertContains("Suddenly some Japanese text:",content);
  assertContains("\uff08\uff27\uff28\uff31\uff09",content);
  assertContains("\u30be\u30eb\u30b2\u3068\u5c3e\u5d0e\u3001\u6de1\u3005\u3068\u6700\u671f",content);
  assertContains("And then some Gothic text:",content);
  assertContains("\uD800\uDF32\uD800\uDF3f\uD800\uDF44\uD800\uDF39\uD800\uDF43\uD800\uDF3A",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Documents with some sheets are protected, but not all.
 * See TIKA-364.
 */
@Test public void testProtectedExcelSheets() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/protectedSheets.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("true",metadata.get(TikaMetadataKeys.PROTECTED));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the plain text output of the Word converter
 * @throws Exception
 */
@Test public void testWord() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  try (InputStream input=getTestDocument("testWORD.docx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    assertTrue(handler.toString().contains("Sample Word Document"));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the word converter is able to generate the
 * correct HTML for the document
 */
@Test public void testWordHTML() throws Exception {
  XMLResult result=getXML("testWORD.docx");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
  assertTrue(xml.contains("Sample Word Document"));
  assertTrue(xml.contains("<h1 class=\"title\">"));
  assertTrue(xml.contains("<h1>Heading Level 1</h1>"));
  assertTrue(xml.contains("<h2>Heading Level 2</h2>"));
  assertTrue(xml.contains("<h3><a name=\"OnLevel3\" />Heading Level 3</h3>"));
  assertTrue(xml.contains("<b>BOLD</b>"));
  assertTrue(xml.contains("<i>ITALIC</i>"));
  assertTrue(xml.contains("<table>"));
  assertTrue(xml.contains("<td>"));
  assertTrue(xml.contains("<a href=\"http://tika.apache.org/\">Tika</a>"));
  assertTrue(xml.contains("<a href=\"#OnMainHeading\">The Main Heading Bookmark</a>"));
  assertTrue(xml.contains("<p class=\"signature\">This one"));
  result=getXML("testWORD_3imgs.docx");
  xml=result.xml;
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image2.png\" alt=\"A description...\" />"));
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image3.jpeg\" alt=\"A description...\" />"));
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image4.png\" alt=\"A description...\" />"));
  assertTrue(xml.contains("<p>The end!</p>"));
  xml=getXML("testWORD_bold_character_runs.docx").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
  xml=getXML("testWORD_bold_character_runs2.docx").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWordCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/testWORD_custom_props.docx")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OOXMLParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("EJ04325S",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Etienne Jouvin",metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("Etienne Jouvin",metadata.get(Metadata.LAST_AUTHOR));
  assertEquals("2011-07-29T16:52:00Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2011-07-29T16:52:00Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2012-01-03T22:14:00Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2012-01-03T22:14:00Z",metadata.get(Metadata.DATE));
  assertEquals("Microsoft Office Word",metadata.get(Metadata.APPLICATION_NAME));
  assertEquals("Microsoft Office Word",metadata.get(OfficeOpenXMLExtended.APPLICATION));
  assertEquals("1",metadata.get(Office.PAGE_COUNT));
  assertEquals("2",metadata.get(Office.WORD_COUNT));
  assertEquals("My Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("My Keyword",metadata.get(TikaCoreProperties.KEYWORDS));
  assertEquals("Normal.dotm",metadata.get(Metadata.TEMPLATE));
  assertEquals("Normal.dotm",metadata.get(OfficeOpenXMLExtended.TEMPLATE));
  assertEquals("My subject",metadata.get(Metadata.SUBJECT));
  assertEquals("My subject",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("EDF-DIT",metadata.get(TikaCoreProperties.PUBLISHER));
  assertEquals("true",metadata.get("custom:myCustomBoolean"));
  assertEquals("3",metadata.get("custom:myCustomNumber"));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T23:00:00Z",metadata.get("custom:MyCustomDate"));
  assertEquals("2010-12-29T22:00:00Z",metadata.get("custom:myCustomSecondDate"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Ensures that custom OOXML properties are extracted
 */
@Test public void testExcelCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/testEXCEL_custom_props.xlsx")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OOXMLParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals(null,metadata.get(TikaCoreProperties.CREATOR));
  assertEquals(null,metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("2006-09-12T15:06:44Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2006-09-12T15:06:44Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2011-08-22T14:24:38Z",metadata.get(Metadata.LAST_MODIFIED));
  assertEquals("2011-08-22T14:24:38Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2011-08-22T14:24:38Z",metadata.get(Metadata.DATE));
  assertEquals("Microsoft Excel",metadata.get(Metadata.APPLICATION_NAME));
  assertEquals("Microsoft Excel",metadata.get(OfficeOpenXMLExtended.APPLICATION));
  assertEquals("true",metadata.get("custom:myCustomBoolean"));
  assertEquals("3",metadata.get("custom:myCustomNumber"));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T22:00:00Z",metadata.get("custom:MyCustomDate"));
  assertEquals("2010-12-29T22:00:00Z",metadata.get("custom:myCustomSecondDate"));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * We have a number of different powerpoint files,
 * such as presentation, macro-enabled etc
 */
@Test public void testPowerPoint() throws Exception {
  String[] extensions=new String[]{"pptx","pptm","ppsm","ppsx","potm"};
  String[] mimeTypes=new String[]{"application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.template.macroenabled.12"};
  for (int i=0; i < extensions.length; i++) {
    String extension=extensions[i];
    String filename="testPPT." + extension;
    Parser parser=new AutoDetectParser();
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    try (InputStream input=getTestDocument(filename)){
      parser.parse(input,handler,metadata,context);
      assertEquals("Mime-type checking for " + filename,mimeTypes[i],metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Attachment Test",metadata.get(TikaCoreProperties.TITLE));
      assertEquals("Rajiv",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Rajiv",metadata.get(Metadata.AUTHOR));
      String content=handler.toString();
      if (extension.equals("thmx")) {
        assertEquals("",content);
      }
 else {
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Attachment Test"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("This is a test file data with the same content"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("content parsing"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Different words to test against"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Mystery"));
      }
    }
   }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that the metadata is already extracted when the body is processed.
 * See TIKA-1109
 */
@Test public void testPowerPointMetadataEarly() throws Exception {
  String[] extensions=new String[]{"pptx","pptm","ppsm","ppsx","potm"};
  final String[] mimeTypes=new String[]{"application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.template.macroenabled.12"};
  for (int i=0; i < extensions.length; i++) {
    String extension=extensions[i];
    final String filename="testPPT." + extension;
    Parser parser=new AutoDetectParser();
    final Metadata metadata=new Metadata();
    final int currentI=i;
    ContentHandler handler=new BodyContentHandler(){
      public void startDocument(){
        assertEquals("Mime-type checking for " + filename,mimeTypes[currentI],metadata.get(Metadata.CONTENT_TYPE));
        assertEquals("Attachment Test",metadata.get(TikaCoreProperties.TITLE));
        assertEquals("Rajiv",metadata.get(TikaCoreProperties.CREATOR));
        assertEquals("Rajiv",metadata.get(Metadata.AUTHOR));
      }
    }
;
    ParseContext context=new ParseContext();
    try (InputStream input=getTestDocument(filename)){
      parser.parse(input,handler,metadata,context);
    }
   }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVariousPPTX() throws Exception {
  Metadata metadata=new Metadata();
  String xml=getXML("testPPT_various.pptx",metadata).xml;
  assertContains("<p>Footnote appears here",xml);
  assertContains("<p>[1] This is a footnote.",xml);
  assertContains("<p>This is the header text.</p>",xml);
  assertContains("<p>This is the footer text.</p>",xml);
  assertContains("<p>Here is a text box</p>",xml);
  assertContains("<p>Bold",xml);
  assertContains("italic underline superscript subscript",xml);
  assertContains("<p>Here is a citation:",xml);
  assertContains("Figure 1 This is a caption for Figure 1",xml);
  assertContains("(Kramer)",xml);
  assertContains("<table><tr>\t<td>Row 1 Col 1</td>",xml);
  assertContains("<td>Row 2 Col 2</td>\t<td>Row 2 Col 3</td></tr>",xml);
  assertContains("<p>Row 1 column 1</p>",xml);
  assertContains("<p>Row 2 column 2</p>",xml);
  assertContains("<p>This is a hyperlink",xml);
  assertContains("<p>Here is a list:",xml);
  for (int row=1; row <= 3; row++) {
    assertContains("<p>Bullet " + row,xml);
  }
  assertContains("Here is a numbered list:",xml);
  for (int row=1; row <= 3; row++) {
    assertContains("<p>Number bullet " + row,xml);
  }
  for (int row=1; row <= 2; row++) {
    for (int col=1; col <= 3; col++) {
      assertContains("Row " + row + " Col "+ col,xml);
    }
  }
  assertContains("Keyword1 Keyword2",xml);
  assertEquals("Keyword1 Keyword2",metadata.get(Metadata.KEYWORDS));
  assertContains("Subject is here",xml);
  assertEquals("Subject is here",metadata.get(Metadata.SUBJECT));
  assertEquals("Subject is here",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertContains("Suddenly some Japanese text:",xml);
  assertContains("\uff08\uff27\uff28\uff31\uff09",xml);
  assertContains("\u30be\u30eb\u30b2\u3068\u5c3e\u5d0e\u3001\u6de1\u3005\u3068\u6700\u671f",xml);
  assertContains("And then some Gothic text:",xml);
  assertContains("\uD800\uDF32\uD800\uDF3f\uD800\uDF44\uD800\uDF39\uD800\uDF43\uD800\uDF3A",xml);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExcel() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  context.set(Locale.class,Locale.US);
  try (InputStream input=getTestDocument("testEXCEL.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Simple Excel document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    String content=handler.toString();
    assertContains("Sample Excel Worksheet",content);
    assertContains("Numbers and their Squares",content);
    assertContains("9",content);
    assertNotContained("9.0",content);
    assertContains("196",content);
    assertNotContained("196.0",content);
    assertEquals("false",metadata.get(TikaMetadataKeys.PROTECTED));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * An excel document which is password protected.
 * See TIKA-437.
 */
@Test public void testProtectedExcelFile() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  try (InputStream input=getTestDocument("protectedFile.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("true",metadata.get(TikaMetadataKeys.PROTECTED));
    String content=handler.toString();
    assertContains("Office",content);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("OOXML-Strict not currently supported by POI, see #57699") public void testExcelStrict() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  context.set(Locale.class,Locale.US);
  try (InputStream input=getTestDocument("testEXCEL.strict.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Sample Spreadsheet",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Nick Burch",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Spreadsheet for testing",metadata.get(TikaCoreProperties.DESCRIPTION));
    String content=handler.toString();
    assertContains("Test spreadsheet",content);
    assertContains("This one is red",content);
    assertContains("cb=10",content);
    assertNotContained("10.0",content);
    assertContains("cb=sum",content);
    assertNotContained("13.0",content);
    assertEquals("false",metadata.get(TikaMetadataKeys.PROTECTED));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPowerPointCustomProperties() throws Exception {
  Metadata metadata=new Metadata();
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/testPPT_custom_props.pptx")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    new OOXMLParser().parse(input,handler,metadata,context);
  }
   assertEquals("application/vnd.openxmlformats-officedocument.presentationml.presentation",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("JOUVIN ETIENNE",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("EJ04325S",metadata.get(TikaCoreProperties.MODIFIER));
  assertEquals("EJ04325S",metadata.get(Metadata.LAST_AUTHOR));
  assertEquals("2011-08-22T13:30:53Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2011-08-22T13:30:53Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2011-08-22T13:32:49Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2011-08-22T13:32:49Z",metadata.get(Metadata.DATE));
  assertEquals("1",metadata.get(Office.SLIDE_COUNT));
  assertEquals("3",metadata.get(Office.WORD_COUNT));
  assertEquals("Test extraction properties pptx",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("true",metadata.get("custom:myCustomBoolean"));
  assertEquals("3",metadata.get("custom:myCustomNumber"));
  assertEquals("MyStringValue",metadata.get("custom:MyCustomString"));
  assertEquals("2010-12-30T22:00:00Z",metadata.get("custom:MyCustomDate"));
  assertEquals("2010-12-29T22:00:00Z",metadata.get("custom:myCustomSecondDate"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mp3.Mp3ParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that a file with characters not in the ISO 8859-1
 * range is correctly handled
 */
@Test public void testMp3ParsingID3i18n() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3i18n.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Une chason en Fran\u00e7ais",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist \u2468\u2460",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist \u2468\u2460",metadata.get(Metadata.AUTHOR));
  assertEquals("Test Artist \u2468\u2460",metadata.get(XMPDM.ARTIST));
  assertEquals("Test Album \u2460\u2468",metadata.get(XMPDM.ALBUM));
  assertEquals("Eng - Comment Desc\nThis is a \u1357\u2468\u2460 Comment",metadata.get(XMPDM.LOG_COMMENT));
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("1",metadata.get("channels"));
  checkDuration(metadata,2);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that a file with both lyrics and
 * ID3v2 tags gets both extracted correctly
 */
@Test public void testMp3ParsingLyrics() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3lyrics.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Rock",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  checkDuration(metadata,1);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This test will do nothing, unless you've downloaded the
 * mp3 file from TIKA-424 - the file cannot be
 * distributed with Tika.
 * This test will check for the complicated set of ID3v2.4
 * tags.
 */
@Test public void testTIKA424() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/test2.mp3")){
    if (stream == null) {
      return;
    }
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Plus loin vers l'ouest",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Merzhin",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Merzhin",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Plus loin vers l'ouest",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that with only ID3v2 tags, we get the full
 * set of information out.
 */
@Test public void testMp3ParsingID3v2() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3id3v2.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Rock",content);
  assertContains(", track 1",content);
  assertContains(", disc 1",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("1",metadata.get("channels"));
  assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
  assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
  assertEquals("Test Album Artist",metadata.get(XMPDM.ALBUM_ARTIST));
  assertEquals(null,metadata.get(XMPDM.COMPOSER));
  assertEquals("2008",metadata.get(XMPDM.RELEASE_DATE));
  assertEquals("Rock",metadata.get(XMPDM.GENRE));
  assertEquals("XXX - ID3v1 Comment\nTest Comment",metadata.get(XMPDM.LOG_COMMENT.getName()));
  assertEquals("1",metadata.get(XMPDM.TRACK_NUMBER));
  assertEquals("1/1",metadata.get(XMPDM.DISC_NUMBER));
  assertEquals("1",metadata.get(XMPDM.COMPILATION));
  assertEquals("44100",metadata.get(XMPDM.AUDIO_SAMPLE_RATE));
  assertEquals("Mono",metadata.get(XMPDM.AUDIO_CHANNEL_TYPE));
  assertEquals("MP3",metadata.get(XMPDM.AUDIO_COMPRESSOR));
  checkDuration(metadata,2);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that with only ID3v2 tags, of version 2.4, we get the full
 * set of information out.
 */
@Test public void testMp3ParsingID3v24() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3id3v24.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Rock",content);
  assertContains(", disc 1",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("1",metadata.get("channels"));
  checkDuration(metadata,2);
  assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
  assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
  assertEquals("Test Album Artist",metadata.get(XMPDM.ALBUM_ARTIST));
  assertEquals(null,metadata.get(XMPDM.COMPOSER));
  assertEquals("2008",metadata.get(XMPDM.RELEASE_DATE));
  assertEquals("Rock",metadata.get(XMPDM.GENRE));
  assertEquals("1",metadata.get(XMPDM.COMPILATION));
  assertEquals(null,metadata.get(XMPDM.TRACK_NUMBER));
  assertEquals("1",metadata.get(XMPDM.DISC_NUMBER));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testID3v2Frame() throws Exception {
  byte[] empty=new byte[]{0x49,0x44,0x33,3,1,0,0,0,0,0};
  assertEquals(11,ID3v2Frame.getInt(new byte[]{0,0,0,0x0b}));
  assertEquals(257,ID3v2Frame.getInt(new byte[]{0,0,1,1}));
  ID3v2Frame f=(ID3v2Frame)ID3v2Frame.createFrameIfPresent(new ByteArrayInputStream(empty));
  assertEquals(3,f.getMajorVersion());
  assertEquals(1,f.getMinorVersion());
  assertEquals(0,f.getFlags());
  assertEquals(0,f.getLength());
  assertEquals(0,f.getData().length);
  assertEquals("",ID3v2Frame.getTagString(f.getData(),0,0));
  assertEquals("",ID3v2Frame.getTagString(new byte[]{0,0,0,0},0,3));
  assertEquals("A",ID3v2Frame.getTagString(new byte[]{(byte)'A',0,0,0},0,3));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that with both id3v2 and id3v1, we prefer the
 * details from id3v2
 */
@Test public void testMp3ParsingID3v1v2() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3id3v1_v2.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Rock",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("1",metadata.get("channels"));
  checkDuration(metadata,2);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that with only ID3v1 tags, we get some information out   
 */
@Test public void testMp3ParsingID3v1() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3id3v1.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Rock",content);
  assertEquals("MPEG 3 Layer III Version 1",metadata.get("version"));
  assertEquals("44100",metadata.get("samplerate"));
  assertEquals("1",metadata.get("channels"));
  checkDuration(metadata,2);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This tests that we can handle without errors (but perhaps not
 * all content) a file with a very very large ID3 frame that
 * has been truncated before the end of the ID3 tags.
 * In this case, it is a file with JPEG data in the ID3, which
 * is trunacted before the end of the JPEG bit of the ID3 frame.
 */
@Test public void testTIKA474() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testMP3truncated.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Girl you have no faith in medicine",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("The White Stripes",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("The White Stripes",metadata.get(Metadata.AUTHOR));
  String content=handler.toString();
  assertContains("Girl you have no faith in medicine",content);
  assertContains("The White Stripes",content);
  assertContains("Elephant",content);
  assertContains("2003",content);
  assertEquals(null,metadata.get("version"));
  assertEquals(null,metadata.get("samplerate"));
  assertEquals(null,metadata.get("channels"));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNakedUTF16BOM() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Mp3ParserTest.class.getResourceAsStream("/test-documents/testNakedUTF16BOM.mp3")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mpeg",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("",metadata.get(XMPDM.GENRE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mp4.MP4ParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that we can extract information from
 * a M4A MP4 Audio file
 */
@Test public void testMP4ParsingAudio() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=MP4ParserTest.class.getResourceAsStream("/test-documents/testMP4.m4a")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("audio/mp4",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
  assertEquals("2012-01-28T18:39:18Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2012-01-28T18:39:18Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2012-01-28T18:40:25Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("2012-01-28T18:40:25Z",metadata.get(Metadata.DATE));
  String content=handler.toString();
  assertContains("Test Title",content);
  assertContains("Test Artist",content);
  assertContains("Test Album",content);
  assertContains("2008",content);
  assertContains("Test Comment",content);
  assertContains("Test Genre",content);
  assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
  assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
  assertEquals("Test Composer",metadata.get(XMPDM.COMPOSER));
  assertEquals("2008",metadata.get(XMPDM.RELEASE_DATE));
  assertEquals("Test Genre",metadata.get(XMPDM.GENRE));
  assertEquals("Test Comments",metadata.get(XMPDM.LOG_COMMENT.getName()));
  assertEquals("1",metadata.get(XMPDM.TRACK_NUMBER));
  assertEquals("Test Album Artist",metadata.get(XMPDM.ALBUM_ARTIST));
  assertEquals("6",metadata.get(XMPDM.DISC_NUMBER));
  assertEquals("0",metadata.get(XMPDM.COMPILATION));
  assertEquals("44100",metadata.get(XMPDM.AUDIO_SAMPLE_RATE));
  assertEquals("Stereo",metadata.get(XMPDM.AUDIO_CHANNEL_TYPE));
  assertEquals("M4A",metadata.get(XMPDM.AUDIO_COMPRESSOR));
  assertEquals("0.07",metadata.get(XMPDM.DURATION));
  assertEquals("iTunes 10.5.3.3",metadata.get(XMP.CREATOR_TOOL));
  TikaInputStream tstream=TikaInputStream.get(MP4ParserTest.class.getResourceAsStream("/test-documents/testMP4.m4a"));
  tstream.getFile();
  try {
    parser.parse(tstream,handler,metadata,new ParseContext());
  }
  finally {
    tstream.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ner.regex.RegexNERecogniserTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetEntityTypes() throws Exception {
  String text="Hey, Lets meet on this Sunday or MONDAY because i am busy on Saturday";
  System.setProperty(NamedEntityParser.SYS_PROP_NER_IMPL,RegexNERecogniser.class.getName());
  Tika tika=new Tika(new TikaConfig(NamedEntityParser.class.getResourceAsStream("tika-config.xml")));
  Metadata md=new Metadata();
  tika.parse(new ByteArrayInputStream(text.getBytes(StandardCharsets.UTF_8)),md);
  Set<String> days=new HashSet<>(Arrays.asList(md.getValues("NER_WEEK_DAY")));
  assertTrue(days.contains("Sunday"));
  assertTrue(days.contains("MONDAY"));
  assertTrue(days.contains("Saturday"));
  assertTrue(days.size() == 3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.netcdf.NetCDFParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseGlobalMetadata() throws Exception {
  Parser parser=new NetCDFParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=NetCDFParser.class.getResourceAsStream("/test-documents/sresa1b_ncar_ccsm3_0_run1_200001.nc")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals(metadata.get(TikaCoreProperties.TITLE),"model output prepared for IPCC AR4");
  assertEquals(metadata.get(Metadata.CONTACT),"ccsm@ucar.edu");
  assertEquals(metadata.get(Metadata.PROJECT_ID),"IPCC Fourth Assessment");
  assertEquals(metadata.get(Metadata.CONVENTIONS),"CF-1.0");
  assertEquals(metadata.get(Metadata.REALIZATION),"1");
  assertEquals(metadata.get(Metadata.EXPERIMENT_ID),"720 ppm stabilization experiment (SRESA1B)");
  assertEquals(metadata.get("File-Type-Description"),"NetCDF-3/CDM");
  String content=handler.toString();
  assertContains("long_name = \"Surface area\"",content);
  assertContains("float area(lat=128, lon=256)",content);
  assertContains("float lat(lat=128)",content);
  assertContains("double lat_bnds(lat=128, bnds=2)",content);
  assertContains("double lon_bnds(lon=256, bnds=2)",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ocr.TesseractOCRConfigTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoConfig() throws Exception {
  TesseractOCRConfig config=new TesseractOCRConfig();
  assertEquals("Invalid default tesseractPath value","",config.getTesseractPath());
  assertEquals("Invalid default tessdataPath value","",config.getTessdataPath());
  assertEquals("Invalid default language value","eng",config.getLanguage());
  assertEquals("Invalid default pageSegMode value","1",config.getPageSegMode());
  assertEquals("Invalid default minFileSizeToOcr value",0,config.getMinFileSizeToOcr());
  assertEquals("Invalid default maxFileSizeToOcr value",Integer.MAX_VALUE,config.getMaxFileSizeToOcr());
  assertEquals("Invalid default timeout value",120,config.getTimeout());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPartialConfig() throws Exception {
  InputStream stream=TesseractOCRConfigTest.class.getResourceAsStream("/test-properties/TesseractOCRConfig-partial.properties");
  TesseractOCRConfig config=new TesseractOCRConfig(stream);
  assertEquals("Invalid default tesseractPath value","",config.getTesseractPath());
  assertEquals("Invalid default tessdataPath value","",config.getTessdataPath());
  assertEquals("Invalid overridden language value","fra+deu",config.getLanguage());
  assertEquals("Invalid default pageSegMode value","1",config.getPageSegMode());
  assertEquals("Invalid overridden minFileSizeToOcr value",1,config.getMinFileSizeToOcr());
  assertEquals("Invalid default maxFileSizeToOcr value",Integer.MAX_VALUE,config.getMaxFileSizeToOcr());
  assertEquals("Invalid overridden timeout value",240,config.getTimeout());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFullConfig() throws Exception {
  InputStream stream=TesseractOCRConfigTest.class.getResourceAsStream("/test-properties/TesseractOCRConfig-full.properties");
  TesseractOCRConfig config=new TesseractOCRConfig(stream);
  assertEquals("Invalid overridden tesseractPath value","/opt/tesseract" + File.separator,config.getTesseractPath());
  assertEquals("Invalid overridden tesseractPath value","/usr/local/share" + File.separator,config.getTessdataPath());
  assertEquals("Invalid overridden language value","fra+deu",config.getLanguage());
  assertEquals("Invalid overridden pageSegMode value","2",config.getPageSegMode());
  assertEquals("Invalid overridden minFileSizeToOcr value",1,config.getMinFileSizeToOcr());
  assertEquals("Invalid overridden maxFileSizeToOcr value",2000000,config.getMaxFileSizeToOcr());
  assertEquals("Invalid overridden timeout value",240,config.getTimeout());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ocr.TesseractOCRParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void offersNoTypesIfNotFound() throws Exception {
  TesseractOCRParser parser=new TesseractOCRParser();
  DefaultParser defaultParser=new DefaultParser();
  MediaType png=MediaType.image("png");
  TesseractOCRConfig invalidConfig=new TesseractOCRConfig();
  invalidConfig.setTesseractPath("/made/up/path");
  ParseContext parseContext=new ParseContext();
  parseContext.set(TesseractOCRConfig.class,invalidConfig);
  assertEquals(0,parser.getSupportedTypes(parseContext).size());
  assertEquals(ImageParser.class,defaultParser.getParsers(parseContext).get(png).getClass());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-16 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void offersTypesIfFound() throws Exception {
  TesseractOCRParser parser=new TesseractOCRParser();
  DefaultParser defaultParser=new DefaultParser();
  ParseContext parseContext=new ParseContext();
  MediaType png=MediaType.image("png");
  assumeTrue(canRun());
  assertEquals(5,parser.getSupportedTypes(parseContext).size());
  assertTrue(parser.getSupportedTypes(parseContext).contains(png));
  assertEquals(TesseractOCRParser.class,defaultParser.getParsers(parseContext).get(png).getClass());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getNormalMetadataToo() throws Exception {
  Metadata m=getXML("testGIF.gif").metadata;
  assertTrue(m.names().length > 20);
  assertEquals("RGB",m.get("Chroma ColorSpaceType"));
  m=getXML("testOCR.jpg").metadata;
  assertEquals("136",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("66",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",m.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,m.get(Metadata.SAMPLES_PER_PIXEL));
  assertContains("This is a test Apache Tika imag",m.get(Metadata.COMMENTS));
  m=getXML("testBMP.bmp").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  m=getXML("testPNG.png").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("UnsignedIntegral",m.get("Data SampleFormat"));
  m=getXML("testTIFF.tif").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("72 dots per inch",m.get("Y Resolution"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.odf.ODFParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Similar to {@link #testXMLParser()}, but using a different
 * OO2 file with different metadata in it
 */
@Test public void testOO2Metadata() throws Exception {
  try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testOpenOffice2.odf")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OpenDocumentParser().parse(input,handler,metadata);
    assertEquals("application/vnd.oasis.opendocument.formula",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(null,metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2006-01-27T11:55:22",metadata.get(Metadata.CREATION_DATE));
    assertEquals("The quick brown fox jumps over the lazy dog",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(Metadata.SUBJECT));
    assertEquals("PT0S",metadata.get(Metadata.EDIT_TIME));
    assertEquals("1",metadata.get("editing-cycles"));
    assertEquals("OpenOffice.org/2.2$Win32 OpenOffice.org_project/680m14$Build-9134",metadata.get("generator"));
    assertEquals("Pangram, fox, dog",metadata.get(Metadata.KEYWORDS));
    assertEquals("Text 1",metadata.get("custom:Info 1"));
    assertEquals("2",metadata.get("custom:Info 2"));
    assertEquals("false",metadata.get("custom:Info 3"));
    assertEquals("true",metadata.get("custom:Info 4"));
    assertEquals(null,metadata.get(Metadata.PAGE_COUNT));
    assertEquals(null,metadata.get(Metadata.PARAGRAPH_COUNT));
    assertEquals(null,metadata.get(Metadata.WORD_COUNT));
    assertEquals(null,metadata.get(Metadata.CHARACTER_COUNT));
    assertEquals(null,metadata.get(Metadata.TABLE_COUNT));
    assertEquals(null,metadata.get(Metadata.OBJECT_COUNT));
    assertEquals(null,metadata.get(Metadata.IMAGE_COUNT));
    assertEquals(null,metadata.get("nbTab"));
    assertEquals(null,metadata.get("nbObject"));
    assertEquals(null,metadata.get("nbImg"));
    assertEquals(null,metadata.get("nbPage"));
    assertEquals(null,metadata.get("nbPara"));
    assertEquals(null,metadata.get("nbWord"));
    assertEquals(null,metadata.get("nbCharacter"));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Similar to {@link #testXMLParser()}, but using an OO3 file
 */
@Test public void testOO3Metadata() throws Exception {
  try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testODFwithOOo3.odt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OpenDocumentParser().parse(input,handler,metadata);
    assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2009-10-05T21:22:38",metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2009-10-05T19:04:01",metadata.get(TikaCoreProperties.CREATED));
    assertEquals("2009-10-05T19:04:01",metadata.get(Metadata.CREATION_DATE));
    assertEquals("Apache Tika",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Test document",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Test document",metadata.get(Metadata.SUBJECT));
    assertEquals("A rather complex document",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Bart Hanssens",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Bart Hanssens",metadata.get("initial-creator"));
    assertEquals("2",metadata.get("editing-cycles"));
    assertEquals("PT02H03M24S",metadata.get(Metadata.EDIT_TIME));
    assertEquals("OpenOffice.org/3.1$Unix OpenOffice.org_project/310m19$Build-9420",metadata.get("generator"));
    assertEquals("Apache, Lucene, Tika",metadata.get(Metadata.KEYWORDS));
    assertEquals("Bart Hanssens",metadata.get("custom:Editor"));
    assertEquals(null,metadata.get("custom:Info 2"));
    assertEquals(null,metadata.get("custom:Info 3"));
    assertEquals(null,metadata.get("custom:Info 4"));
    assertEquals("2",metadata.get(Office.PAGE_COUNT));
    assertEquals("13",metadata.get(Office.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Office.WORD_COUNT));
    assertEquals("351",metadata.get(Office.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Office.TABLE_COUNT));
    assertEquals("2",metadata.get(Office.OBJECT_COUNT));
    assertEquals("0",metadata.get(Office.IMAGE_COUNT));
    assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
    assertEquals("13",metadata.get(Metadata.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Metadata.WORD_COUNT));
    assertEquals("351",metadata.get(Metadata.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
    assertEquals("2",metadata.get(Metadata.OBJECT_COUNT));
    assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
    assertEquals("0",metadata.get("nbTab"));
    assertEquals("2",metadata.get("nbObject"));
    assertEquals("0",metadata.get("nbImg"));
    assertEquals("2",metadata.get("nbPage"));
    assertEquals("13",metadata.get("nbPara"));
    assertEquals("54",metadata.get("nbWord"));
    assertEquals("351",metadata.get("nbCharacter"));
    String content=handler.toString();
    assertTrue(content.contains("Apache Tika Tika is part of the Lucene project."));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOO2() throws Exception {
  for (  Parser parser : getParsers()) {
    try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testOpenOffice2.odt")){
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      parser.parse(input,handler,metadata,new ParseContext());
      assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("en-US",metadata.get(Metadata.LANGUAGE));
      assertEquals("PT1M7S",metadata.get(Metadata.EDIT_TIME));
      assertEquals("NeoOffice/2.2$Unix OpenOffice.org_project/680m18$Build-9161",metadata.get("generator"));
      assertEquals("2007-09-14T11:07:10",metadata.get(TikaCoreProperties.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.DATE));
      assertEquals("2007-09-14T11:06:08",metadata.get(TikaCoreProperties.CREATED));
      assertEquals("2007-09-14T11:06:08",metadata.get(Metadata.CREATION_DATE));
      assertEquals("1",metadata.get(Office.PAGE_COUNT));
      assertEquals("1",metadata.get(Office.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Office.WORD_COUNT));
      assertEquals("78",metadata.get(Office.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Office.TABLE_COUNT));
      assertEquals("0",metadata.get(Office.OBJECT_COUNT));
      assertEquals("0",metadata.get(Office.IMAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Metadata.WORD_COUNT));
      assertEquals("78",metadata.get(Metadata.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
      assertEquals("0",metadata.get(Metadata.OBJECT_COUNT));
      assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
      assertEquals("0",metadata.get("nbTab"));
      assertEquals("0",metadata.get("nbObject"));
      assertEquals("0",metadata.get("nbImg"));
      assertEquals("1",metadata.get("nbPage"));
      assertEquals("1",metadata.get("nbPara"));
      assertEquals("14",metadata.get("nbWord"));
      assertEquals("78",metadata.get("nbCharacter"));
      assertEquals(null,metadata.get("custom:Info 1"));
      assertEquals(null,metadata.get("custom:Info 2"));
      assertEquals(null,metadata.get("custom:Info 3"));
      assertEquals(null,metadata.get("custom:Info 4"));
      String content=handler.toString();
      assertTrue(content.contains("This is a sample Open Office document," + " written in NeoOffice 2.2.1 for the Mac."));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pdf.PDFParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedPDFEmbeddingAnotherDocument() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  String content="";
  InputStream stream=null;
  try {
    context.set(org.apache.tika.parser.Parser.class,parser);
    stream=getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx");
    parser.parse(stream,handler,metadata,context);
    content=handler.toString();
  }
  finally {
    stream.close();
  }
  int outerHaystack=content.indexOf("Outer_haystack");
  int pdfHaystack=content.indexOf("pdf_haystack");
  int needle=content.indexOf("Needle");
  assertTrue(outerHaystack > -1);
  assertTrue(pdfHaystack > -1);
  assertTrue(needle > -1);
  assertTrue(needle > pdfHaystack && pdfHaystack > outerHaystack);
  TrackingHandler tracker=new TrackingHandler();
  TikaInputStream tis;
  ContainerExtractor ex=new ParserContainerExtractor();
  try {
    tis=TikaInputStream.get(getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx"));
    ex.extract(tis,ex,tracker);
  }
  finally {
    stream.close();
  }
  assertEquals(true,ex.isSupported(tis));
  assertEquals(3,tracker.filenames.size());
  assertEquals(3,tracker.mediaTypes.size());
  assertEquals("image1.emf",tracker.filenames.get(0));
  assertNull(tracker.filenames.get(1));
  assertEquals("Test.docx",tracker.filenames.get(2));
  assertEquals(TYPE_EMF,tracker.mediaTypes.get(0));
  assertEquals(TYPE_PDF,tracker.mediaTypes.get(1));
  assertEquals(TYPE_DOCX,tracker.mediaTypes.get(2));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOSSpecificEmbeddedFileExtraction() throws Exception {
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_multiFormatEmbFiles.pdf");
  RecursiveParserWrapper p=new RecursiveParserWrapper(new AutoDetectParser(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  c.set(org.apache.tika.parser.Parser.class,p);
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  List<Metadata> metadatas=p.getMetadata();
  assertEquals("metadata size",5,metadatas.size());
  assertEquals("file name","Test.txt",metadatas.get(1).get(Metadata.RESOURCE_NAME_KEY));
  assertContains("os specific",metadatas.get(1).get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("file name","TestMac.txt",metadatas.get(2).get(Metadata.RESOURCE_NAME_KEY));
  assertContains("mac embedded",metadatas.get(2).get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("file name","TestDos.txt",metadatas.get(3).get(Metadata.RESOURCE_NAME_KEY));
  assertContains("dos embedded",metadatas.get(3).get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("file name","TestUnix.txt",metadatas.get(4).get(Metadata.RESOURCE_NAME_KEY));
  assertContains("unix embedded",metadatas.get(4).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * PDFs can be "protected" with the default password. This means
 * they're encrypted (potentially both text and metadata),
 * but we can decrypt them easily.
 */
@Test public void testProtectedPDF() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("The Bank of England",metadata.get(Metadata.AUTHOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "";
    }
  }
);
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  boolean ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  PDFParserConfig config=new PDFParserConfig();
  config.setUseNonSequentialParser(true);
  context.set(PDFParserConfig.class,config);
  ;
  ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleAuthors() throws Exception {
  String fName="testPDF_twoAuthors.pdf";
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
  Parser p=new AutoDetectParser();
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  String[] keys=new String[]{"dc:creator","meta:author","creator","Author"};
  for (  String k : keys) {
    String[] vals=m.getValues(k);
    assertEquals("number of authors == 2 for key: " + k,2,vals.length);
    Set<String> set=new HashSet<String>();
    set.add(vals[0]);
    set.add(vals[1]);
    assertTrue("Sample Author 1",set.contains("Sample Author 1"));
    assertTrue("Sample Author 2",set.contains("Sample Author 2"));
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testVarious() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDFVarious.pdf");
  String content=getText(stream,parser,metadata);
  assertContains("Footnote appears here",content);
  assertContains("This is a footnote.",content);
  assertContains("This is the header text.",content);
  assertContains("This is the footer text.",content);
  assertContains("Here is a text box",content);
  assertContains("Bold",content);
  assertContains("italic",content);
  assertContains("underline",content);
  assertContains("superscript",content);
  assertContains("subscript",content);
  assertContains("Here is a citation:",content);
  assertContains("Figure 1 This is a caption for Figure 1",content);
  assertContains("(Kramer)",content);
  assertContains("Row 1 Col 1 Row 1 Col 2 Row 1 Col 3 Row 2 Col 1 Row 2 Col 2 Row 2 Col 3",content.replaceAll("\\s+"," "));
  assertContains("Row 1 column 1 Row 2 column 1 Row 1 column 2 Row 2 column 2",content.replaceAll("\\s+"," "));
  assertContains("This is a hyperlink",content);
  assertContains("Here is a list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains("Bullet " + row,content);
  }
  assertContains("Here is a numbered list:",content);
  for (int row=1; row <= 3; row++) {
    assertContains(row + ") Number bullet " + row,content);
  }
  for (int row=1; row <= 2; row++) {
    for (int col=1; col <= 3; col++) {
      assertContains("Row " + row + " Col "+ col,content);
    }
  }
  assertContains("Keyword1 Keyword2",content);
  assertEquals("Keyword1 Keyword2",metadata.get(Metadata.KEYWORDS));
  assertContains("Subject is here",content);
  assertEquals("Subject is here",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Subject is here",metadata.get(Metadata.SUBJECT));
  assertContains("Suddenly some Japanese text:",content);
  assertContains("\uff08\uff27\uff28\uff31\uff09",content);
  assertContains("\u30be\u30eb\u30b2\u3068\u5c3e\u5d0e\u3001\u6de1\u3005\u3068\u6700\u671f",content);
  assertContains("And then some Gothic text:",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDisableAutoSpace() throws Exception {
  PDFParser parser=new PDFParser();
  parser.getPDFParserConfig().setEnableAutoSpace(false);
  InputStream stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  String content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some formatted text",content);
  parser.getPDFParserConfig().setEnableAutoSpace(true);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertEquals(-1,content.indexOf("Here is some formatted text"));
  Parser autoParser=new AutoDetectParser();
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  context.set(PDFParserConfig.class,config);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,autoParser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertEquals(-1,content.indexOf("Here is some formatted text"));
  config.setEnableAutoSpace(false);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,parser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some formatted text",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPdfParsingMetadataOnly() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF.pdf")){
    parser.parse(stream,null,metadata,new ParseContext());
  }
   assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Firefox",metadata.get(TikaCoreProperties.CREATOR_TOOL));
  assertEquals("Apache Tika - Apache Tika",metadata.get(TikaCoreProperties.TITLE));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedFilesInChildren() throws Exception {
  String xml=getXML("/testPDF_childAttachments.pdf").xml;
  assertTrue(xml.contains("regressiveness"));
  RecursiveParserWrapper p=new RecursiveParserWrapper(new AutoDetectParser(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  config.setExtractInlineImages(true);
  config.setExtractUniqueInlineImagesOnly(false);
  context.set(org.apache.tika.parser.pdf.PDFParserConfig.class,config);
  context.set(org.apache.tika.parser.Parser.class,p);
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testPDF_childAttachments.pdf"))){
    p.parse(tis,new BodyContentHandler(-1),new Metadata(),context);
  }
   List<Metadata> metadatas=p.getMetadata();
  assertEquals(5,metadatas.size());
  assertNull(metadatas.get(0).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("image0.jpg",metadatas.get(1).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("Press Quality(1).joboptions",metadatas.get(3).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("Unit10.doc",metadatas.get(4).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals(MediaType.image("jpeg").toString(),metadatas.get(1).get(Metadata.CONTENT_TYPE));
  assertEquals(MediaType.image("tiff").toString(),metadatas.get(2).get(Metadata.CONTENT_TYPE));
  assertEquals("text/plain; charset=ISO-8859-1",metadatas.get(3).get(Metadata.CONTENT_TYPE));
  assertEquals(TYPE_DOC.toString(),metadatas.get(4).get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVersions() throws Exception {
  Map<String,String> dcFormat=new HashMap<String,String>();
  dcFormat.put("4.x","application/pdf; version=1.3");
  dcFormat.put("5.x","application/pdf; version=1.4");
  dcFormat.put("6.x","application/pdf; version=1.5");
  dcFormat.put("7.x","application/pdf; version=1.6");
  dcFormat.put("8.x","application/pdf; version=1.7");
  dcFormat.put("9.x","application/pdf; version=1.7");
  dcFormat.put("10.x","application/pdf; version=1.7");
  dcFormat.put("11.x.PDFA-1b","application/pdf; version=1.7");
  Map<String,String> pdfVersions=new HashMap<String,String>();
  pdfVersions.put("4.x","1.3");
  pdfVersions.put("5.x","1.4");
  pdfVersions.put("6.x","1.5");
  pdfVersions.put("7.x","1.6");
  pdfVersions.put("8.x","1.7");
  pdfVersions.put("9.x","1.7");
  pdfVersions.put("10.x","1.7");
  pdfVersions.put("11.x.PDFA-1b","1.7");
  Map<String,String> pdfExtensionVersions=new HashMap<String,String>();
  pdfExtensionVersions.put("9.x","1.7 Adobe Extension Level 3");
  pdfExtensionVersions.put("10.x","1.7 Adobe Extension Level 8");
  pdfExtensionVersions.put("11.x.PDFA-1b","1.7 Adobe Extension Level 8");
  Parser p=new AutoDetectParser();
  for (  Map.Entry<String,String> e : dcFormat.entrySet()) {
    String fName="testPDF_Version." + e.getKey() + ".pdf";
    InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
    Metadata m=new Metadata();
    ContentHandler h=new BodyContentHandler();
    ParseContext c=new ParseContext();
    p.parse(is,h,m,c);
    is.close();
    boolean foundDC=false;
    String[] vals=m.getValues("dc:format");
    for (    String v : vals) {
      if (v.equals(e.getValue())) {
        foundDC=true;
      }
    }
    assertTrue("dc:format ::" + e.getValue(),foundDC);
    String extensionVersionTruth=pdfExtensionVersions.get(e.getKey());
    if (extensionVersionTruth != null) {
      assertEquals("pdf:PDFExtensionVersion :: " + extensionVersionTruth,extensionVersionTruth,m.get("pdf:PDFExtensionVersion"));
    }
    assertEquals("pdf:PDFVersion",pdfVersions.get(e.getKey()),m.get("pdf:PDFVersion"));
  }
  String fName="testPDF_Version.11.x.PDFA-1b.pdf";
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  Set<String> versions=new HashSet<String>();
  for (  String fmt : m.getValues("dc:format")) {
    versions.add(fmt);
  }
  for (  String hit : new String[]{"application/pdf; version=1.7","application/pdf; version=\"A-1b\"","application/pdf; version=\"1.7 Adobe Extension Level 8\""}) {
    assertTrue(hit,versions.contains(hit));
  }
  assertEquals("pdfaid:conformance",m.get("pdfaid:conformance"),"B");
  assertEquals("pdfaid:part",m.get("pdfaid:part"),"1");
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedFileNameExtraction() throws Exception {
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_multiFormatEmbFiles.pdf");
  RecursiveParserWrapper p=new RecursiveParserWrapper(new AutoDetectParser(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  c.set(org.apache.tika.parser.Parser.class,p);
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  List<Metadata> metadatas=p.getMetadata();
  assertEquals("metadata size",5,metadatas.size());
  Metadata firstAttachment=metadatas.get(1);
  assertEquals("attachment file name","Test.txt",firstAttachment.get(Metadata.RESOURCE_NAME_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tests for equality between traditional sequential parser
 * and newer nonsequential parser.
 * <p/>
 * TODO: more testing
 */
@Test public void testSequentialParser() throws Exception {
  Parser sequentialParser=new AutoDetectParser();
  Parser nonSequentialParser=new AutoDetectParser();
  ParseContext seqContext=new ParseContext();
  PDFParserConfig seqConfig=new PDFParserConfig();
  seqConfig.setUseNonSequentialParser(false);
  seqContext.set(PDFParserConfig.class,seqConfig);
  ParseContext nonSeqContext=new ParseContext();
  PDFParserConfig nonSeqConfig=new PDFParserConfig();
  nonSeqConfig.setUseNonSequentialParser(true);
  nonSeqContext.set(PDFParserConfig.class,nonSeqConfig);
  File testDocs=new File(this.getClass().getResource("/test-documents").toURI());
  int pdfs=0;
  Set<String> knownMetadataDiffs=new HashSet<String>();
  Set<String> knownContentDiffs=new HashSet<String>();
  for (  File f : testDocs.listFiles()) {
    if (!f.getName().toLowerCase(Locale.ROOT).endsWith(".pdf")) {
      continue;
    }
    String sequentialContent=null;
    Metadata sequentialMetadata=new Metadata();
    try {
      sequentialContent=getText(new FileInputStream(f),sequentialParser,seqContext,sequentialMetadata);
    }
 catch (    EncryptedDocumentException e) {
      continue;
    }
catch (    Exception e) {
      throw new TikaException("Sequential Parser failed on test file " + f,e);
    }
    pdfs++;
    String nonSequentialContent=null;
    Metadata nonSequentialMetadata=new Metadata();
    try {
      nonSequentialContent=getText(new FileInputStream(f),nonSequentialParser,nonSeqContext,nonSequentialMetadata);
    }
 catch (    Exception e) {
      throw new TikaException("Non-Sequential Parser failed on test file " + f,e);
    }
    if (knownContentDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialContent.equals(nonSequentialContent));
    }
 else {
      assertEquals(f.getName(),sequentialContent,nonSequentialContent);
    }
    if (knownMetadataDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialMetadata.equals(nonSequentialMetadata));
    }
 else {
      assertEquals(f.getName(),sequentialMetadata,nonSequentialMetadata);
    }
  }
  boolean ge15=(pdfs >= 15);
  assertTrue("Number of pdf files tested >= 15 in non-sequential parser test",ge15);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPdfParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF.pdf");
  String content=getText(stream,parser,metadata);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(Metadata.AUTHOR));
  assertEquals("Firefox",metadata.get(TikaCoreProperties.CREATOR_TOOL));
  assertEquals("Apache Tika - Apache Tika",metadata.get(TikaCoreProperties.TITLE));
  assertContains("Apache Tika",content);
  assertContains("Tika - Content Analysis Toolkit",content);
  assertContains("incubator",content);
  assertContains("Apache Software Foundation",content);
  assertTrue("should have word boundary after headline",!content.contains("ToolkitApache"));
  assertTrue("should have word boundary between paragraphs",!content.contains("libraries.Apache"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAnnotations() throws Exception {
  Parser parser=new AutoDetectParser();
  InputStream stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  String content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertContains("Here is a comment",content);
  PDFParser pdfParser=new PDFParser();
  pdfParser.getPDFParserConfig().setExtractAnnotationText(false);
  stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  content=getText(stream,pdfParser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertEquals(-1,content.indexOf("Here is a comment"));
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  config.setExtractAnnotationText(false);
  context.set(PDFParserConfig.class,config);
  stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  content=getText(stream,parser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertEquals(-1,content.indexOf("Here is a comment"));
  String xml=getXML("testAnnotations.pdf").xml;
  assertEquals(substringCount("<p>",xml),substringCount("</p>",xml));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCustomMetadata() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF-custommetadata.pdf");
  String content=getText(stream,parser,metadata);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Document author",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Document author",metadata.get(Metadata.AUTHOR));
  assertEquals("Document title",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Custom Value",metadata.get("Custom Property"));
  assertEquals("Array Entry 1",metadata.get("Custom Array"));
  assertEquals(2,metadata.getValues("Custom Array").length);
  assertEquals("Array Entry 1",metadata.getValues("Custom Array")[0]);
  assertEquals("Array Entry 2",metadata.getValues("Custom Array")[1]);
  assertContains("Hello World!",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.ArParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testArParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=ArParserTest.class.getResourceAsStream("/test-documents/testARofText.ar")){
    parser.parse(stream,handler,metadata,recursingContext);
  }
   assertEquals("application/x-archive",metadata.get(Metadata.CONTENT_TYPE));
  String content=handler.toString();
  assertContains("testTXT.txt",content);
  assertContains("Test d'indexation de Txt",content);
  assertContains("http://www.apache.org",content);
  try (InputStream stream=ArParserTest.class.getResourceAsStream("/test-documents/testARofSND.ar")){
    parser.parse(stream,handler,metadata,recursingContext);
  }
   assertEquals("application/x-archive",metadata.get(Metadata.CONTENT_TYPE));
  content=handler.toString();
  assertContains("testAU.au",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.prt.PRTParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Now a more complex one
 */
@Test public void testPRTParserComplex() throws Exception {
  try (InputStream input=getResourceAsStream("/test-documents/testCADKEY2.prt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new PRTParser().parse(input,handler,metadata);
    assertEquals("application/x-prt",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("1997-04-01T08:59:00",metadata.get(Metadata.DATE));
    assertEquals("1997-04-01T08:59:00",metadata.get(Metadata.CREATION_DATE));
    assertEquals("TIKA TEST PART DESCRIPTION INFORMATION\r\n",metadata.get(TikaCoreProperties.DESCRIPTION));
    String contents=handler.toString();
    assertContains("ITEM",contents);
    assertContains("REQ.",contents);
    assertContains("DESCRIPTION",contents);
    assertContains("MAT'L",contents);
    assertContains("TOLERANCES UNLESS",contents);
    assertContains("FRACTIONS",contents);
    assertContains("ANGLES",contents);
    assertContains("Acme Corporation",contents);
    assertContains("DATE",contents);
    assertContains("CHANGE",contents);
    assertContains("DRAWN BY",contents);
    assertContains("SCALE",contents);
    assertContains("TIKA TEST DRAWING",contents);
    assertContains("TIKA LETTERS",contents);
    assertContains("5.82",contents);
    assertContains("112" + '\u00b0',contents);
    assertContains("TIKA TEST LETTER",contents);
    assertContains("17.11",contents);
    assertContains('\u00d8' + "\ufffd2.000",contents);
    assertContains("Diameter",contents);
    assertContains("The Apache Tika toolkit",contents);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Try with a simple file
 */
@Test public void testPRTParserBasics() throws Exception {
  try (InputStream input=getResourceAsStream("/test-documents/testCADKEY.prt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new PRTParser().parse(input,handler,metadata);
    assertEquals("application/x-prt",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2011-06-20T16:54:00",metadata.get(TikaCoreProperties.CREATED));
    assertEquals("2011-06-20T16:54:00",metadata.get(Metadata.CREATION_DATE));
    assertEquals(null,metadata.get(TikaCoreProperties.DESCRIPTION));
    String contents=handler.toString();
    assertContains("Front View",contents);
    assertContains("Back View",contents);
    assertContains("Bottom View",contents);
    assertContains("Right View",contents);
    assertContains("Left View",contents);
    assertContains("Axonometric View",contents);
    assertContains("You've managed to extract all the text!",contents);
    assertContains("This is more text",contents);
    assertContains("Text Inside a PRT file",contents);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.rtf.RTFParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegularImages() throws Exception {
  Parser base=new AutoDetectParser();
  ParseContext ctx=new ParseContext();
  RecursiveParserWrapper parser=new RecursiveParserWrapper(base,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  ctx.set(org.apache.tika.parser.Parser.class,parser);
  ContentHandler handler=new BodyContentHandler();
  Metadata rootMetadata=new Metadata();
  rootMetadata.add(Metadata.RESOURCE_NAME_KEY,"testRTFRegularImages.rtf");
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testRTFRegularImages.rtf"))){
    parser.parse(tis,handler,rootMetadata,ctx);
  }
   List<Metadata> metadatas=parser.getMetadata();
  Metadata meta_jpg_exif=metadatas.get(1);
  Metadata meta_jpg=metadatas.get(3);
  assertTrue(meta_jpg_exif != null);
  assertTrue(meta_jpg != null);
  assertTrue(Arrays.asList(meta_jpg_exif.getValues("dc:subject")).contains("serbor"));
  assertTrue(meta_jpg.get("Comments").contains("Licensed to the Apache"));
  assertFalse(Arrays.asList(meta_jpg.getValues("dc:subject")).contains("serbor"));
  assertEquals("false",meta_jpg.get(RTFMetadata.THUMBNAIL));
  assertEquals("false",meta_jpg_exif.get(RTFMetadata.THUMBNAIL));
  assertEquals(46,meta_jpg.names().length);
  assertEquals(110,meta_jpg_exif.names().length);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWordPadCzechCharactersExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFWordPadCzechCharacters.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u010Cl\u00E1nek t\u00FDdne"));
  assertTrue(s1.contains("starov\u011Bk\u00E9 \u017Eidovsk\u00E9 n\u00E1bo\u017Eensk\u00E9 texty"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWord2010CzechCharactersExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFWord2010CzechCharacters.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u010Cl\u00E1nek t\u00FDdne"));
  assertTrue(s1.contains("starov\u011Bk\u00E9 \u017Eidovsk\u00E9 n\u00E1bo\u017Eensk\u00E9 texty"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUmlautSpacesExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFUmlautSpaces.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u00DCbersicht"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMaxLength() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFJapanese.rtf");
  Metadata metadata=new Metadata();
  InputStream stream=TikaInputStream.get(file,metadata);
  Tika localTika=new Tika();
  String content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() > 500);
  localTika.setMaxStringLength(200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() <= 200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata,100);
  assertTrue(content.length() <= 100);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMS932Extraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTF-ms932.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u3053\u3093\u306b\u3061\u306f"));
  Result r=getResult("testRTF-ms932.rtf");
  assertEquals("\u30bf\u30a4\u30c8\u30eb",r.metadata.get(TikaCoreProperties.TITLE));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTF.rtf");
  Metadata metadata=new Metadata();
  StringWriter writer=new StringWriter();
  tika.getParser().parse(new FileInputStream(file),new WriteOutContentHandler(writer),metadata,new ParseContext());
  String content=writer.toString();
  assertEquals("application/rtf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals(1,metadata.getValues(Metadata.CONTENT_TYPE).length);
  assertContains("Test",content);
  assertContains("indexation Word",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.solidworks.SolidworksParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the parsing of an solidWorks assembly in version 2014SP0
 */
@Test public void testAssembly2014SP0Parser() throws Exception {
  InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksAssembly2014SP0.SLDASM");
  try {
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-04-25T09:51:38Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-11-28T12:41:49Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
  finally {
    input.close();
  }
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the parsing of an solidWorks assembly in version 2013SP2
 */
@Test public void testAssembly2013SP2Parser() throws Exception {
  try (InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksAssembly2013SP2.SLDASM")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-04-25T09:51:38Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-09-06T08:11:08Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the parsing of an solidWorks drawing in version 2014SP0
 */
@Test public void testDrawing2014SP0Parser() throws Exception {
  try (InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksDrawing2014SP0.SLDDRW")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-07-03T12:05:29Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-11-28T12:41:49Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDrawing2013SP2Parser() throws Exception {
  try (InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksDrawing2013SP2.SLDDRW")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-07-03T12:05:29Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-09-06T08:06:57Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the parsing of an solidWorks part in version 2013SP2
 */
@Test public void testPart2013SP2Parser() throws Exception {
  try (InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksPart2013SP2.SLDPRT")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-04-18T10:27:29Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-09-06T08:12:12Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the parsing of an solidWorks part in version 2014SP0
 */
@Test public void testPart2014SP0Parser() throws Exception {
  try (InputStream input=SolidworksParserTest.class.getResourceAsStream("/test-documents/testsolidworksPart2014SP0.SLDPRT")){
    ContentHandler handler=new BodyContentHandler();
    Metadata metadata=new Metadata();
    new OfficeParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/sldworks",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-04-18T10:27:29Z",metadata.get(TikaCoreProperties.CREATED));
    assertEquals(null,metadata.get(TikaCoreProperties.CONTRIBUTOR));
    assertEquals("2013-11-28T12:38:28Z",metadata.get(Metadata.MODIFIED));
    assertEquals("solidworks-dcom_dev",metadata.get(TikaCoreProperties.MODIFIER));
    assertEquals(null,metadata.get(TikaCoreProperties.RELATION));
    assertEquals(null,metadata.get(TikaCoreProperties.RIGHTS));
    assertEquals(null,metadata.get(TikaCoreProperties.SOURCE));
    assertEquals("",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("",metadata.get(TikaCoreProperties.KEYWORDS));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.strings.FileConfigTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoConfig(){
  FileConfig config=new FileConfig();
  assertEquals("Invalid default filePath value","",config.getFilePath());
  assertEquals("Invalid default mime option value",false,config.isMimetype());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.strings.StringsConfigTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPartialConfig(){
  InputStream stream=StringsConfigTest.class.getResourceAsStream("/test-properties/StringsConfig-partial.properties");
  StringsConfig config=new StringsConfig(stream);
  assertEquals("Invalid default stringsPath value","",config.getStringsPath());
  assertEquals("Invalid overridden encoding value",StringsEncoding.BIGENDIAN_16_BIT,config.getEncoding());
  assertEquals("Invalid default min-len value",4,config.getMinLength());
  assertEquals("Invalid overridden timeout value",60,config.getTimeout());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFullConfig(){
  InputStream stream=StringsConfigTest.class.getResourceAsStream("/test-properties/StringsConfig-full.properties");
  StringsConfig config=new StringsConfig(stream);
  assertEquals("Invalid overridden stringsPath value","/opt/strings" + File.separator,config.getStringsPath());
  assertEquals("Invalid overridden encoding value",StringsEncoding.BIGENDIAN_16_BIT,config.getEncoding());
  assertEquals("Invalid overridden min-len value",3,config.getMinLength());
  assertEquals("Invalid overridden timeout value",60,config.getTimeout());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoConfig(){
  StringsConfig config=new StringsConfig();
  assertEquals("Invalid default filePath value","",config.getStringsPath());
  assertEquals("Invalid default encoding value",StringsEncoding.SINGLE_7_BIT,config.getEncoding());
  assertEquals("Invalid default min-len value",4,config.getMinLength());
  assertEquals("Invalid default timeout value",120,config.getTimeout());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.txt.CharsetDetectorTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmptyOrNullDeclaredCharset() throws IOException {
  try (InputStream in=CharsetDetectorTest.class.getResourceAsStream("/test-documents/resume.html")){
    CharsetDetector detector=new CharsetDetector();
    Reader reader=detector.getReader(in,null);
    assertTrue(reader.ready());
    reader=detector.getReader(in,"");
    assertTrue(reader.ready());
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTagDropper() throws IOException {
  try (InputStream in=CharsetDetectorTest.class.getResourceAsStream("/test-documents/resume.html")){
    CharsetDetector detector=new CharsetDetector();
    detector.enableInputFilter(true);
    detector.setText(in);
    CharsetMatch[] matches=detector.detectAll();
    CharsetMatch mm=null;
    for (    CharsetMatch m : matches) {
      if (mm == null || mm.getConfidence() < m.getConfidence()) {
        mm=m;
      }
    }
    assertTrue(mm != null);
    assertEquals("UTF-8",mm.getName());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.txt.TXTParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-339: don't override incoming language
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-335">TIKA-335</a>
 */
@Test public void testRetainIncomingLanguage() throws Exception {
  final String test="Simple Content";
  Metadata metadata=new Metadata();
  metadata.set(TikaCoreProperties.LANGUAGE,"en");
  parser.parse(new ByteArrayInputStream(test.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("en",metadata.get(TikaCoreProperties.LANGUAGE));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-771: "Hello, World!" in UTF-8/ASCII gets detected as IBM500
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-771">TIKA-771</a>
 */
@Test public void testCharsetDetectionWithShortSnipet() throws Exception {
  final String text="Hello, World!";
  Metadata metadata=new Metadata();
  parser.parse(new ByteArrayInputStream(text.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  metadata.set(Metadata.CONTENT_TYPE,"application/binary; charset=UTF-8");
  parser.parse(new ByteArrayInputStream(text.getBytes(UTF_8)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=UTF-8",metadata.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnglishText() throws Exception {
  String text="Hello, World! This is simple UTF-8 text content written" + " in English to test autodetection of both the character" + " encoding and the language of the input stream.";
  Metadata metadata=new Metadata();
  StringWriter writer=new StringWriter();
  parser.parse(new ByteArrayInputStream(text.getBytes(ISO_8859_1)),new WriteOutContentHandler(writer),metadata,new ParseContext());
  String content=writer.toString();
  assertEquals("text/plain; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  assertNull(metadata.get(Metadata.CONTENT_LANGUAGE));
  assertNull(metadata.get(TikaCoreProperties.LANGUAGE));
  assertContains("Hello",content);
  assertContains("World",content);
  assertContains("autodetection",content);
  assertContains("stream",content);
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-341: using charset in content-type
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-341">TIKA-341</a>
 */
@Test public void testUsingCharsetInContentTypeHeader() throws Exception {
  final String test2="the name is \u00e1ndre";
  Metadata metadata=new Metadata();
  parser.parse(new ByteArrayInputStream(test2.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("ISO-8859-1",metadata.get(Metadata.CONTENT_ENCODING));
  metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"text/html; charset=ISO-8859-15");
  parser.parse(new ByteArrayInputStream(test2.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=ISO-8859-15",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("ISO-8859-15",metadata.get(Metadata.CONTENT_ENCODING));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUTF8Text() throws Exception {
  String text="I\u00F1t\u00EBrn\u00E2ti\u00F4n\u00E0liz\u00E6ti\u00F8n";
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  parser.parse(new ByteArrayInputStream(text.getBytes(UTF_8)),handler,metadata,new ParseContext());
  assertEquals("text/plain; charset=UTF-8",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("UTF-8",metadata.get(Metadata.CONTENT_ENCODING));
  assertContains(text,handler.toString());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-335: using incoming charset
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-335">TIKA-335</a>
 */
@Test public void testUseIncomingCharsetAsHint() throws Exception {
  final String test2="the name is \u00e1ndre";
  Metadata metadata=new Metadata();
  parser.parse(new ByteArrayInputStream(test2.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=ISO-8859-1",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("ISO-8859-1",metadata.get(Metadata.CONTENT_ENCODING));
  metadata.set(Metadata.CONTENT_TYPE,"text/plain; charset=ISO-8859-15");
  parser.parse(new ByteArrayInputStream(test2.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("text/plain; charset=ISO-8859-15",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("ISO-8859-15",metadata.get(Metadata.CONTENT_ENCODING));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.video.FLVParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFLV() throws Exception {
  String path="/test-documents/testFLV.flv";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(FLVParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("",content);
  assertEquals("video/x-flv",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("hasVideo"));
  assertEquals("false",metadata.get("stereo"));
  assertEquals("true",metadata.get("hasAudio"));
  assertEquals("120.0",metadata.get("height"));
  assertEquals("16.0",metadata.get("audiosamplesize"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.xml.DcXMLParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXMLParserAsciiChars() throws Exception {
  try (InputStream input=DcXMLParserTest.class.getResourceAsStream("/test-documents/testXML.xml")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new DcXMLParser().parse(input,handler,metadata);
    assertEquals("application/xml",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Tika test document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Rida Benjelloun",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals(true,metadata.isMultiValued(TikaCoreProperties.KEYWORDS));
    assertEquals(5,metadata.getValues(TikaCoreProperties.KEYWORDS).length);
    assertEquals("Java",metadata.getValues(TikaCoreProperties.KEYWORDS)[0]);
    assertEquals("XML",metadata.getValues(TikaCoreProperties.KEYWORDS)[1]);
    assertEquals("XSLT",metadata.getValues(TikaCoreProperties.KEYWORDS)[2]);
    assertEquals("JDOM",metadata.getValues(TikaCoreProperties.KEYWORDS)[3]);
    assertEquals("Indexation",metadata.getValues(TikaCoreProperties.KEYWORDS)[4]);
    assertEquals(true,metadata.isMultiValued(Metadata.SUBJECT));
    assertEquals(5,metadata.getValues(Metadata.SUBJECT).length);
    assertEquals("Java",metadata.getValues(Metadata.SUBJECT)[0]);
    assertEquals("XML",metadata.getValues(Metadata.SUBJECT)[1]);
    assertEquals("XSLT",metadata.getValues(Metadata.SUBJECT)[2]);
    assertEquals("JDOM",metadata.getValues(Metadata.SUBJECT)[3]);
    assertEquals("Indexation",metadata.getValues(Metadata.SUBJECT)[4]);
    assertEquals("Framework d\'indexation des documents XML, HTML, PDF etc..",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("http://www.apache.org",metadata.get(TikaCoreProperties.IDENTIFIER));
    assertEquals("test",metadata.get(TikaCoreProperties.TYPE));
    assertEquals("application/msword",metadata.get(TikaCoreProperties.FORMAT));
    assertEquals("Fr",metadata.get(TikaCoreProperties.LANGUAGE));
    assertTrue(metadata.get(TikaCoreProperties.RIGHTS).contains("testing chars"));
    String content=handler.toString();
    assertContains("Tika test document",content);
    assertEquals("2000-12-01T00:00:00.000Z",metadata.get(TikaCoreProperties.CREATED));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.xml.EmptyAndDuplicateElementsXMLParserTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptiesAndRepeats() throws Exception {
  try (InputStream input=EmptyAndDuplicateElementsXMLParserTest.class.getResourceAsStream("/test-documents/testXML3.xml")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new AllowEmptiesAndDuplicatesCustomXMLTestParser().parse(input,handler,metadata,new ParseContext());
    assertEquals(4,metadata.getValues(FIRST_NAME).length);
    assertEquals(4,metadata.getValues(LAST_NAME).length);
    assertEquals("John",metadata.getValues(FIRST_NAME)[0]);
    assertEquals("Smith",metadata.getValues(LAST_NAME)[0]);
    assertEquals("Jane",metadata.getValues(FIRST_NAME)[1]);
    assertEquals("Doe",metadata.getValues(LAST_NAME)[1]);
    assertEquals("Bob",metadata.getValues(FIRST_NAME)[2]);
    assertEquals("",metadata.getValues(LAST_NAME)[2]);
    assertEquals("Kate",metadata.getValues(FIRST_NAME)[3]);
    assertEquals("Smith",metadata.getValues(LAST_NAME)[3]);
  }
 }

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultBehavior() throws Exception {
  try (InputStream input=EmptyAndDuplicateElementsXMLParserTest.class.getResourceAsStream("/test-documents/testXML3.xml")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new DefaultCustomXMLTestParser().parse(input,handler,metadata,new ParseContext());
    assertEquals(4,metadata.getValues(FIRST_NAME).length);
    assertEquals(2,metadata.getValues(LAST_NAME).length);
    assertEquals("John",metadata.getValues(FIRST_NAME)[0]);
    assertEquals("Smith",metadata.getValues(LAST_NAME)[0]);
    assertEquals("Jane",metadata.getValues(FIRST_NAME)[1]);
    assertEquals("Doe",metadata.getValues(LAST_NAME)[1]);
    assertEquals("Bob",metadata.getValues(FIRST_NAME)[2]);
    assertEquals("Kate",metadata.getValues(FIRST_NAME)[3]);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.BasicContentHandlerFactoryTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBody() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.BODY;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertNotContains("title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  assertWriteLimitReached(p,(BodyContentHandler)handler);
  extracted=handler.toString();
  assertNotContains("This ",extracted);
  assertContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  assertNotContains("title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.TEXT;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertNotContains("<body",extracted);
  assertNotContains("<html",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,new Metadata(),null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(handler.toString().length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHTML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.LinkContentHandlerTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-1835">TIKA-1835</a>
 */
@Test public void testIframeTag() throws Exception {
  LinkContentHandler linkContentHandler=new LinkContentHandler();
  AttributesImpl atts=new AttributesImpl();
  atts.addAttribute("","src","src","","http://tika.apache.org/iframe.html");
  linkContentHandler.startElement(XHTMLContentHandler.XHTML,"iframe","",atts);
  linkContentHandler.endElement(XHTMLContentHandler.XHTML,"iframe","");
  assertEquals("http://tika.apache.org/iframe.html",linkContentHandler.getLinks().get(0).getUri());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-975">TIKA-975</a>
 */
@Test public void testWhitespaceCollapsing() throws Exception {
  LinkContentHandler linkContentHandler=new LinkContentHandler(true);
  linkContentHandler.startElement(XHTMLContentHandler.XHTML,"a","",new AttributesImpl());
  char[] anchorText={'\n','N','o',' ','w','h','i','t','e','\n','\t','\t','s','p','a','c','e'};
  linkContentHandler.characters(anchorText,1,anchorText.length - 1);
  linkContentHandler.endElement(XHTMLContentHandler.XHTML,"a","");
  assertEquals("No white space",linkContentHandler.getLinks().get(0).getText());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-1835">TIKA-1835</a>
 */
@Test public void testLinkTag() throws Exception {
  LinkContentHandler linkContentHandler=new LinkContentHandler();
  AttributesImpl atts=new AttributesImpl();
  atts.addAttribute("","href","href","","http://tika.apache.org/stylesheet.css");
  atts.addAttribute("","rel","rel","","stylesheet");
  linkContentHandler.startElement(XHTMLContentHandler.XHTML,"link","",atts);
  linkContentHandler.endElement(XHTMLContentHandler.XHTML,"link","");
  assertEquals("http://tika.apache.org/stylesheet.css",linkContentHandler.getLinks().get(0).getUri());
  assertEquals("stylesheet",linkContentHandler.getLinks().get(0).getRel());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-975">TIKA-975</a>
 */
@Test public void testDefaultBehavior() throws Exception {
  LinkContentHandler linkContentHandler=new LinkContentHandler();
  linkContentHandler.startElement(XHTMLContentHandler.XHTML,"a","",new AttributesImpl());
  char[] anchorText={' ','a','n','c','h','o','r',' '};
  linkContentHandler.characters(anchorText,0,anchorText.length);
  linkContentHandler.endElement(XHTMLContentHandler.XHTML,"a","");
  assertEquals(" anchor ",linkContentHandler.getLinks().get(0).getText());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.xpath.XPathParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText(){
  Matcher matcher=parser.parse("/text()");
  assertTrue(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedAttribute(){
  Matcher matcher=parser.parse("/@name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertTrue(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefixedElement(){
  Matcher matcher=parser.parse("/prefix:name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(null,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"enam"));
  matcher=matcher.descend(NS,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnyAttribute(){
  Matcher matcher=parser.parse("/@*");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertTrue(matcher.matchesAttribute(null,"name"));
  assertTrue(matcher.matchesAttribute(NS,"name"));
  assertTrue(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedElement(){
  Matcher matcher=parser.parse("/name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(null,"enam"));
  matcher=matcher.descend(null,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnyElement(){
  Matcher matcher=parser.parse("/*");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  matcher=matcher.descend(NS,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefixedAttribute(){
  Matcher matcher=parser.parse("/@prefix:name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertTrue(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.DetectorResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectCsvNoExt() throws Exception {
  String url=endPoint + DETECT_STREAM_PATH;
  Response response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + CDEC_CSV_NO_EXT).put(ClassLoader.getSystemResourceAsStream(CDEC_CSV_NO_EXT));
  assertNotNull(response);
  String readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/plain",readMime);
  response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + CDEC_CSV_NO_EXT + ".csv").put(ClassLoader.getSystemResourceAsStream(CDEC_CSV_NO_EXT));
  assertNotNull(response);
  readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/csv",readMime);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectCsvWithExt() throws Exception {
  String url=endPoint + DETECT_STREAM_PATH;
  Response response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + FOO_CSV).put(ClassLoader.getSystemResourceAsStream(FOO_CSV));
  assertNotNull(response);
  String readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/csv",readMime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.LanguageResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectFrenchString() throws Exception {
  String url=endPoint + LANG_STRING_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(FRENCH_STRING);
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("fr",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectEnglishFile() throws Exception {
  String url=endPoint + LANG_STREAM_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("english.txt"));
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("en",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectFrenchFile() throws Exception {
  String url=endPoint + LANG_STREAM_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("french.txt"));
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("fr",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectEnglishString() throws Exception {
  String url=endPoint + LANG_STRING_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ENGLISH_STRING);
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("en",readLang);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.MetadataResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJSON() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).type("application/msword").accept("application/json").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  Metadata metadata=JsonMetadata.fromJson(reader);
  assertNotNull(metadata.get("Author"));
  assertEquals("Maxim Valyanskiy",metadata.get("Author"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_JSON_Partial_Found() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/Author").type("application/msword").accept(MediaType.APPLICATION_JSON).put(copy(stream,12000));
  Assert.assertEquals(Response.Status.OK.getStatusCode(),response.getStatus());
  Metadata metadata=JsonMetadata.fromJson(new InputStreamReader((InputStream)response.getEntity(),UTF_8));
  assertEquals("Maxim Valyanskiy",metadata.get("Author"));
  assertEquals(1,metadata.names().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_TEXT_Partial_Found() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,12000));
  Assert.assertEquals(Response.Status.OK.getStatusCode(),response.getStatus());
  String s=IOUtils.readStringFromStream((InputStream)response.getEntity());
  assertEquals("Maxim Valyanskiy",s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.RecursiveMetadataResourceTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleWord() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertEquals("Microsoft Office Word",metadataList.get(0).get("Application-Name"));
  assertContains("plundered our seas",metadataList.get(6).get("X-TIKA:content"));
  assertEquals("a38e6c7b38541af87148dee9634cb811",metadataList.get(10).get("X-TIKA:digest:MD5"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerTypeInMultipartXML() throws Exception {
  Attachment attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  WebClient webClient=WebClient.create(endPoint + META_PATH + FORM_PATH);
  Response response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ UNPARSEABLE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ XML_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ TEXT_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ IGNORE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").query("handler","ignore").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerType() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + SLASH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + UNPARSEABLE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + XML_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + TEXT_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  response=WebClient.create(endPoint + META_PATH + IGNORE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPasswordProtected() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).type("application/vnd.ms-excel").accept("application/json").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_PASSWORD_PROTECTED));
  assertEquals(500,response.getStatus());
  response=WebClient.create(endPoint + META_PATH).type("application/vnd.ms-excel").accept("application/json").header("Password","password").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_PASSWORD_PROTECTED));
  assertEquals(200,response.getStatus());
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertNotNull(metadataList.get(0).get("Author"));
  assertEquals("pavel",metadataList.get(0).get("Author"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.StackTraceOffTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncrypted() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").header("Content-Disposition","attachment; filename=" + TEST_PASSWORD_PROTECTED).put(ClassLoader.getSystemResourceAsStream(TEST_PASSWORD_PROTECTED));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullPointerOnTika() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test415() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).type("blechdeblah/deblechdeblah").accept("*/*").header("Content-Disposition","attachment; filename=null_pointer.evil").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("bad type: " + path,415,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMeta() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + "/meta" + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,8000));
  Assert.assertEquals(Response.Status.BAD_REQUEST.getStatusCode(),response.getStatus());
  String msg=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("Failed to get metadata field Author",msg);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.StackTraceTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMeta() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + "/meta" + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,8000));
  Assert.assertEquals(Response.Status.BAD_REQUEST.getStatusCode(),response.getStatus());
  String msg=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("Failed to get metadata field Author",msg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test415() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).type("blechdeblah/deblechdeblah").accept("*/*").header("Content-Disposition","attachment; filename=null_pointer.evil").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("bad type: " + path,415,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaDetectorsTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + DETECTORS_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Object> json=(Map<String,Object>)JSON.parse(jsonStr);
  assertTrue(json.containsKey("name"));
  assertTrue(json.containsKey("composite"));
  assertTrue(json.containsKey("children"));
  assertEquals("org.apache.tika.detect.DefaultDetector",json.get("name"));
  assertEquals(Boolean.TRUE,json.get("composite"));
  Object[] children=(Object[])json.get("children");
  assertTrue(children.length >= 4);
  boolean hasOgg=false, hasPOIFS=false, hasZIP=false, hasMime=false;
  for (  Object o : children) {
    Map<String,Object> d=(Map<String,Object>)o;
    assertTrue(d.containsKey("name"));
    assertTrue(d.containsKey("composite"));
    assertEquals(Boolean.FALSE,d.get("composite"));
    assertEquals(false,d.containsKey("children"));
    String name=(String)d.get("name");
    if (OggDetector.class.getName().equals(name)) {
      hasOgg=true;
    }
    if (POIFSContainerDetector.class.getName().equals(name)) {
      hasPOIFS=true;
    }
    if (ZipContainerDetector.class.getName().equals(name)) {
      hasZIP=true;
    }
    if (MimeTypes.class.getName().equals(name)) {
      hasMime=true;
    }
  }
  assertTrue(hasOgg);
  assertTrue(hasPOIFS);
  assertTrue(hasZIP);
  assertTrue(hasMime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaMimeTypesTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + MIMETYPES_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
  assertEquals(true,json.containsKey("text/plain"));
  assertEquals(true,json.containsKey("application/xml"));
  assertEquals(true,json.containsKey("video/x-ogm"));
  assertEquals(true,json.containsKey("image/x-ms-bmp"));
  Map<String,Object> bmp=json.get("image/x-ms-bmp");
  assertEquals(true,bmp.containsKey("alias"));
  Object[] aliases=(Object[])bmp.get("alias");
  assertEquals(1,aliases.length);
  assertEquals("image/bmp",aliases[0]);
  String whichParser=bmp.get("parser").toString();
  assertTrue("Which parser",whichParser.equals("org.apache.tika.parser.ocr.TesseractOCRParser") || whichParser.equals("org.apache.tika.parser.image.ImageParser"));
  Map<String,Object> ogm=json.get("video/x-ogm");
  assertEquals("video/ogg",ogm.get("supertype"));
  assertEquals("org.gagravarr.tika.OggParser",ogm.get("parser"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaParsersTest </h4><pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  for (  boolean details : new boolean[]{false,true}) {
    Response response=WebClient.create(endPoint + getPath(details)).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
    String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
    Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
    assertEquals(true,json.containsKey("name"));
    assertEquals(true,json.containsKey("composite"));
    assertEquals(true,json.containsKey("children"));
    assertEquals("org.apache.tika.parser.DefaultParser",json.get("name"));
    assertEquals(Boolean.TRUE,json.get("composite"));
    Object[] children=(Object[])(Object)json.get("children");
    assertTrue(children.length >= 20);
    boolean hasOpus=false, hasOOXML=false, hasPDF=false, hasZip=false;
    int nonComposite=0;
    int composite=0;
    for (    Object o : children) {
      Map<String,Object> d=(Map<String,Object>)o;
      assertEquals(true,d.containsKey("name"));
      assertEquals(true,d.containsKey("composite"));
      if (d.get("composite") == Boolean.FALSE)       nonComposite++;
 else       composite++;
      if (d.get("composite") == Boolean.FALSE)       assertEquals(details,d.containsKey("supportedTypes"));
      String name=(String)d.get("name");
      if (OpusParser.class.getName().equals(name)) {
        hasOpus=true;
      }
      if (OOXMLParser.class.getName().equals(name)) {
        hasOOXML=true;
      }
      if (PDFParser.class.getName().equals(name)) {
        hasPDF=true;
      }
      if (PackageParser.class.getName().equals(name)) {
        hasZip=true;
      }
    }
    assertEquals(true,hasOpus);
    assertEquals(true,hasOOXML);
    assertEquals(true,hasPDF);
    assertEquals(true,hasZip);
    assertTrue(nonComposite > 20);
    assertTrue(composite == 0 || composite == 1);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaResourceTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWord() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWMFInRTF() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/rtf").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("testRTF_npeFromWMFInTikaServer.rtf"));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Example text"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordHTML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/html").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordMultipartXML() throws Exception {
  ClassLoader.getSystemResourceAsStream(TEST_DOC);
  Attachment attachmentPart=new Attachment("myworddoc","application/msword",ClassLoader.getSystemResourceAsStream(TEST_DOC));
  WebClient webClient=WebClient.create(endPoint + TIKA_PATH + "/form");
  Response response=webClient.type("multipart/form-data").accept("text/xml").post(attachmentPart);
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmbedded() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  response=WebClient.create(endPoint + TIKA_PATH).accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"59f626e09a8c16ab6dbc2800c685f772\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordXML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplicationWadl() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH + "?_wadl").accept("text/plain").get();
  String resp=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(resp.startsWith("<application"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TranslateResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTranslateAutoLang() throws Exception {
  String url=endPoint + TRANSLATE_ALL_PATH + LINGO_PATH+ DEST;
  Response response=WebClient.create(url).type("text/plain").accept("*/*").put(TRANSLATE_TXT);
  assertNotNull(response);
  String translated=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals(TRANSLATE_TXT,translated);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTranslateFull() throws Exception {
  String url=endPoint + TRANSLATE_ALL_PATH + LINGO_PATH+ SRCDEST;
  Response response=WebClient.create(url).type("text/plain").accept("*/*").put(TRANSLATE_TXT);
  assertNotNull(response);
  String translated=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals(TRANSLATE_TXT,translated);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.UnpackerResourceTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImageXSL() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("pic.xls"));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(XSL_IMAGE1_MD5,data.get("0.jpg"));
  assertEquals(XSL_IMAGE2_MD5,data.get("1.jpg"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAV() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertFalse(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImageDOCX() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOCX_IMAGE));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(DOCX_IMAGE1_MD5,data.get(DOCX_IMAGE1_NAME));
  assertEquals(DOCX_IMAGE2_MD5,data.get(DOCX_IMAGE2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTarDocPicture() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/x-tar").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readArchiveFromStream(new TarArchiveInputStream((InputStream)response.getEntity()));
  assertEquals(JPG_MD5,data.get(JPG_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).header(CONTENT_TYPE,APPLICATION_XML).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("test.doc"));
  String responseMsg=readArchiveText((InputStream)response.getEntity());
  assertNotNull(responseMsg);
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDocPictureNoOle() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("2pic.doc"));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(JPG2_MD5,data.get(JPG2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAVText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertTrue(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExeDOCX() throws Exception {
  String TEST_DOCX_EXE="2exe.docx";
  Response response=WebClient.create(endPoint + UNPACKER_PATH).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOCX_EXE));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(DOCX_EXE1_MD5,data.get(DOCX_EXE1_NAME));
  assertEquals(DOCX_EXE2_MD5,data.get(DOCX_EXE2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDocPicture() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(JPG_MD5,data.get(JPG_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.utils.ConcurrentUtilsTest </h4><pre class="type-9 type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testExecuteExecutor() throws Exception {
  TikaConfig config=TikaConfig.getDefaultConfig();
  ParseContext context=new ParseContext();
  context.set(ExecutorService.class,config.getExecutorService());
  Future result=ConcurrentUtils.execute(context,new Runnable(){
    @Override public void run(){
    }
  }
);
  assertNull(result.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.xmp.TikaToXMPTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void convert_OOXMLMetadataWithoutMimetype_onlyGeneralMetadataconverted() throws XMPException, TikaException {
  setupOOXMLMetadata(tikaMetadata);
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPProperty prop=xmp.getProperty(XMPConst.NS_DC,"language");
  assertNotNull(prop);
  assertEquals("language",prop.getValue());
  prop=xmp.getLocalizedText(XMPConst.NS_DC,"title",null,XMPConst.X_DEFAULT);
  assertNotNull(prop);
  assertEquals("title",prop.getValue());
  XMPMetaFactory.getSchemaRegistry().registerNamespace(OfficeOpenXMLCore.NAMESPACE_URI,OfficeOpenXMLCore.PREFIX);
  prop=xmp.getProperty(OfficeOpenXMLCore.NAMESPACE_URI,"lastModifiedBy");
  assertNull(prop);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void convert_wrongGenericMetadata_notConverted() throws XMPException, TikaException {
  tikaMetadata.set("unknown:key","unknownPrefixValue");
  tikaMetadata.set("wrongKey","wrongKeyValue");
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPIterator iter=xmp.iterator();
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void convert_genericMetadataAllQualified_allConverted() throws XMPException, TikaException {
  tikaMetadata.set(TikaCoreProperties.FORMAT,GENERIC_MIMETYPE);
  tikaMetadata.set(TikaCoreProperties.TITLE,"title");
  tikaMetadata.set(TikaCoreProperties.KEYWORDS,new String[]{"keyword1","keyword2"});
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPProperty prop=xmp.getProperty(XMPConst.NS_DC,"format");
  assertNotNull(prop);
  assertEquals(GENERIC_MIMETYPE,prop.getValue());
  prop=xmp.getLocalizedText(XMPConst.NS_DC,"title",null,XMPConst.X_DEFAULT);
  assertNotNull(prop);
  assertEquals("title",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",1);
  assertNotNull(prop);
  assertEquals("keyword1",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",2);
  assertNotNull(prop);
  assertEquals("keyword2",prop.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.xmp.XMPMetadataTest </h4><pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void set_simpleProp_ok(){
  xmpMeta.set(TikaCoreProperties.FORMAT,GENERIC_MIMETYPE);
  assertEquals(GENERIC_MIMETYPE,xmpMeta.get(TikaCoreProperties.FORMAT));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getValues_arrayProperty_allElementsReturned() throws TikaException {
  xmpMeta.process(tikaMetadata);
  String[] values=xmpMeta.getValues(TikaCoreProperties.KEYWORDS);
  assertEquals(2,values.length);
  checkArrayValues(values,"keyword");
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isMultiValued_multiProp_true() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertTrue(xmpMeta.isMultiValued(TikaCoreProperties.KEYWORDS));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetAll(){
  Properties props=new Properties();
  props.put(TikaCoreProperties.FORMAT.getName(),"format");
  props.put(TikaCoreProperties.KEYWORDS.getName(),"keyword");
  xmpMeta.setAll(props);
  assertEquals("format",xmpMeta.get(TikaCoreProperties.FORMAT));
  String[] values=xmpMeta.getValues(TikaCoreProperties.KEYWORDS);
  assertEquals(1,values.length);
  assertEquals("keyword",values[0]);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isMultiValued_simpleProp_false() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertFalse(xmpMeta.isMultiValued(TikaCoreProperties.FORMAT));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getInt_IntegerProperty_valueReturned() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertEquals(new Integer(2),xmpMeta.getInt(Property.get("xmp:Integer")));
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void size_numberOfNamespacesReturned() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertEquals(3,xmpMeta.size());
  xmpMeta.set(XMPRights.OWNER,"owner");
  assertEquals(4,xmpMeta.size());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void get_arrayProp_firstValueReturned() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertEquals("keyword1",xmpMeta.get(TikaCoreProperties.KEYWORDS));
}

</code></pre>

<br>
<pre class="type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void remove_existingProperty_propertyRemoved() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertNotNull(xmpMeta.get(TikaCoreProperties.FORMAT));
  xmpMeta.remove(TikaCoreProperties.FORMAT);
  assertNull(xmpMeta.get(TikaCoreProperties.FORMAT));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void getDate_DateProperty_valueReturned() throws TikaException, XMPException {
  xmpMeta.process(tikaMetadata);
  Date date=XMPUtils.convertToDate("2001-01-01T01:01").getCalendar().getTime();
  assertTrue(date.equals(xmpMeta.getDate(TikaCoreProperties.MODIFIED)));
}

</code></pre>

<br>
<pre class="type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void process_genericConversion_ok() throws TikaException, XMPException {
  xmpMeta.process(tikaMetadata,GENERIC_MIMETYPE);
  XMPMeta xmp=xmpMeta.getXMPData();
  XMPProperty prop=xmp.getProperty(XMPConst.NS_DC,"format");
  assertNotNull(prop);
  assertEquals(GENERIC_MIMETYPE,prop.getValue());
  prop=xmp.getLocalizedText(XMPConst.NS_DC,"title",null,XMPConst.X_DEFAULT);
  assertNotNull(prop);
  assertEquals("title",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",1);
  assertNotNull(prop);
  assertEquals("keyword1",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",2);
  assertNotNull(prop);
  assertEquals("keyword2",prop.getValue());
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void set_arrayProperty_ok(){
  xmpMeta.set(TikaCoreProperties.KEYWORDS,new String[]{"keyword1","keyword2"});
  String[] values=xmpMeta.getValues(TikaCoreProperties.KEYWORDS);
  assertEquals(2,values.length);
  checkArrayValues(values,"keyword");
}

</code></pre>

<br>
<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void get_simpleProp_valueReturned() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertEquals(GENERIC_MIMETYPE,xmpMeta.get(TikaCoreProperties.FORMAT));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
