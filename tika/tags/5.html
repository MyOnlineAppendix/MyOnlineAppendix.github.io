<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.tika.TestParsers </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEXCELExtraction() throws Exception {
  final String expected="Numbers and their Squares";
  File file=getResourceAsFile("/test-documents/testEXCEL.xls");
  String s1=tika.parseToString(file);
  assertTrue("Text does not contain '" + expected + "'",s1.contains(expected));
  Parser parser=tika.getParser();
  Metadata metadata=new Metadata();
  try (InputStream stream=new FileInputStream(file)){
    parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  }
   assertEquals("Simple Excel document",metadata.get(TikaCoreProperties.TITLE));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testOptionalHyphen() throws Exception {
  String[] extensions=new String[]{"ppt","pptx","doc","docx","rtf","pdf"};
  for (  String extension : extensions) {
    File file=getResourceAsFile("/test-documents/testOptionalHyphen." + extension);
    String content=tika.parseToString(file);
    assertTrue("optional hyphen was not handled for '" + extension + "' file type: "+ content,content.contains("optionalhyphen") || content.contains("optional\u00adhyphen") || content.contains("optional\u200bhyphen")|| content.contains("optional\u2027"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.TikaIT </h4><pre class="type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToString(){
  String version=new Tika().toString();
  assertNotNull(version);
  assertTrue(version.matches("Apache Tika \\d+\\.\\d+(\\.\\d+)?(-SNAPSHOT)?"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchDriverTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test(timeout=30000) public void maxRestartsBadParameter() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-maxRestarts","zebra");
  String[] commandLine=getDefaultCommandLineArgsArr("max_restarts",outputDir,args);
  boolean ex=false;
  try {
    BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
    driver.execute();
  }
 catch (  IllegalArgumentException e) {
    ex=true;
  }
  assertTrue("IllegalArgumentException should have been thrown",ex);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void noRestartTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("no_restart",outputDir,null);
  String[] mod=Arrays.copyOf(args,args.length + 2);
  mod[args.length]="-numConsumers";
  mod[args.length + 1]="1";
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",mod);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(2,countChildren(outputDir));
  Path test2=outputDir.resolve("test2_norestart.xml.xml");
  assertTrue("test2_norestart.xml",Files.exists(test2));
  Path test3=outputDir.resolve("test3_ok.xml.xml");
  assertFalse("test3_ok.xml",Files.exists(test3));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void restartOnOOMTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("oom",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(1,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithStarvedCrawler() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","2");
  args.put("-maxQueueSize","2");
  String[] commandLine=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(3,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void maxRestarts() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-maxRestarts","2");
  String[] commandLine=getDefaultCommandLineArgsArr("max_restarts",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(2,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(3,countChildren(outputDir));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void restartOnFullHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertTrue(driver.getNumRestarts() > 0);
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void oneHeavyHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertTrue(Files.isDirectory(outputDir));
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("one_heavy_hang",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(5,countChildren(outputDir));
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchProcessTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHierarchicalWFileList() throws Exception {
  Path outputDir=getNewOutputDir("hierarchical_file_list");
  Map<String,String> args=getDefaultArgs("hierarchical",outputDir);
  args.put("numConsumers","1");
  args.put("fileList",Paths.get(this.getClass().getResource("/testFileList.txt").toURI()).toString());
  args.put("recursiveParserWrapper","true");
  args.put("basicHandlerType","text");
  args.put("outputSuffix","json");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  ex.execute();
  Path test1=outputDir.resolve("test1.xml.json");
  Path test2=outputDir.resolve("sub1a/test2.xml.json");
  Path test3=outputDir.resolve("sub1a/sub2a/test3.xml.json");
  assertTrue("test1 exists",Files.exists(test1));
  assertTrue("test1 length > 10",Files.size(test1) > 10);
  assertTrue(Files.exists(test3) && Files.size(test3) > 10);
  Path test2Dir=outputDir.resolve("sub1a");
  assertEquals(1,countChildren(test2Dir));
  assertFalse(Files.exists(test2));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithStarvedCrawler() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=getDefaultArgs("heavy_heavy_hangs",outputDir);
  args.put("numConsumers","2");
  args.put("maxQueueSize","2");
  args.put("timeoutThresholdMillis","100000000");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(2,countChildren(outputDir));
  for (int i=0; i < 2; i++) {
    Path hvyHang=outputDir.resolve("test" + i + "_heavy_hang.xml.xml");
    assertTrue(Files.exists(hvyHang));
    assertEquals(0,Files.size(hvyHang));
  }
  assertContains(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
  assertContains("Crawler timed out",streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test(timeout=15000) public void noRestart() throws Exception {
  Path outputDir=getNewOutputDir("no_restart");
  Map<String,String> args=getDefaultArgs("no_restart",outputDir);
  args.put("numConsumers","1");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  Path test2=outputDir.resolve("test2_norestart.xml.xml");
  assertTrue("test2_norestart.xml",Files.exists(test2));
  Path test3=outputDir.resolve("test3_ok.xml.xml");
  assertFalse("test3_ok.xml",Files.exists(test3));
  assertContains("exitStatus=" + BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,streamStrings.getOutString());
  assertContains("causeForTermination='MAIN_LOOP_EXCEPTION_NO_RESTART'",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void allHeavyHangsTest() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangs-");
  Map<String,String> args=getDefaultArgs("heavy_heavy_hangs",outputDir);
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(3,countChildren(outputDir));
  for (  Path hvyHang : listPaths(outputDir)) {
    assertTrue(Files.exists(hvyHang));
    assertEquals("file length for " + hvyHang.getFileName() + " should be 0, but is: "+ Files.size(hvyHang),0,Files.size(hvyHang));
  }
  assertContains(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void oneHeavyHangTest() throws Exception {
  Path outputDir=getNewOutputDir("one_heavy_hang-");
  Map<String,String> args=getDefaultArgs("one_heavy_hang",outputDir);
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(5,countChildren(outputDir));
  Path hvyHang=outputDir.resolve("test0_heavy_hang.xml.xml");
  assertTrue(Files.exists(hvyHang));
  assertEquals(0,Files.size(hvyHang));
  assertNotContained(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlingOfIllegalXMLCharsInException() throws Exception {
  Path outputDir=getNewOutputDir("illegal_xml_chars_in_exception");
  Map<String,String> args=getDefaultArgs("illegal_xml_chars_in_exception",outputDir);
  args.put("numConsumers","1");
  args.put("recursiveParserWrapper","true");
  args.put("basicHandlerType","text");
  args.put("outputSuffix","json");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml","/log4j-on.properties");
  StreamStrings ss=ex.execute();
  assertFalse(ss.getOutString().contains("error writing xml stream for"));
  assertContains("parse_ex resourceId=\"test0_bad_chars.xml\"",ss.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithCrazyNumberConsumersTest() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsCrazyNumberConsumers-");
  Map<String,String> args=getDefaultArgs("heavy_heavy_hangs",outputDir);
  args.put("numConsumers","100");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(7,countChildren(outputDir));
  for (int i=0; i < 6; i++) {
    Path hvyHang=outputDir.resolve("test" + i + "_heavy_hang.xml.xml");
    assertTrue(Files.exists(hvyHang));
    assertEquals(0,Files.size(hvyHang));
  }
  assertContains("This is tika-batch's first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
  assertNotContained(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.FSFileResourceTest </h4><pre class="type-9 type-12 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativization() throws Exception {
  Path root=Paths.get("root/abc/def").toAbsolutePath();
  Path allegedChild=Paths.get(root.getParent().getParent().toAbsolutePath().toString());
  try {
    FSFileResource r=new FSFileResource(root,allegedChild);
    fail("should have had assertion error: alleged child not actually child of root");
  }
 catch (  AssertionError e) {
  }
  root=Paths.get("root/abc/def");
  Path child=Paths.get(root.toString(),"ghi/jkl/lmnop.doc");
  FSFileResource r=new FSFileResource(root,child);
  String id=r.getResourceId();
  assertTrue(id.startsWith("ghi"));
  assertTrue(id.endsWith("lmnop.doc"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.FSUtilTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSafeResolution() throws Exception {
  Path cwd=Paths.get(".");
  String windows="C:/temp/file.txt";
  String linux="/root/dir/file.txt";
  boolean ex=false;
  try {
    FSUtil.resolveRelative(cwd,windows);
  }
 catch (  IllegalArgumentException e) {
    ex=true;
  }
  try {
    FSUtil.resolveRelative(cwd,linux);
  }
 catch (  IllegalArgumentException e) {
    ex=true;
  }
  assertTrue("IllegalArgumentException should have been thrown",ex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.HandlerBuilderTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testHTML() throws Exception {
  Path outputDir=getNewOutputDir("handler-html-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","html");
  args.put("outputSuffix","html");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.html");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertFalse(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXMLWithWriteLimit() throws Exception {
  Path outputDir=getNewOutputDir("handler-xml-write-limit-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("writeLimit","5");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.xml");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.equals(""));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRecursiveParserWrapper() throws Exception {
  Path outputDir=getNewOutputDir("handler-recursive-parser");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","txt");
  args.put("outputSuffix","json");
  args.put("recursiveParserWrapper","true");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.json");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("\"author\":\"Nikolai Lobachevsky\""));
  assertTrue(resultString.contains("tika-batch\\u0027s first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testText() throws Exception {
  Path outputDir=getNewOutputDir("handler-txt-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","txt");
  args.put("outputSuffix","txt");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.txt");
  String resultString=readFileToString(outputFile,UTF_8);
  assertFalse(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertFalse(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXML() throws Exception {
  Path outputDir=getNewOutputDir("handler-xml-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","xml");
  args.put("outputSuffix","xml");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.xml");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertTrue(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.OutputStreamFactoryTest </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIllegalState() throws Exception {
  Path outputDir=getNewOutputDir("os-factory-illegal-state-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  run(runner);
  assertEquals(1,countChildren(outputDir));
  boolean illegalState=false;
  try {
    ParallelFileProcessingResult result=run(runner);
  }
 catch (  ExecutionException e) {
    if (e.getCause() instanceof IllegalStateException) {
      illegalState=true;
    }
  }
  assertTrue("Should have been an illegal state exception",illegalState);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.bundle.BundleIT </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleParsers() throws Exception {
  ServiceReference<Parser> parserRef=bc.getServiceReference(Parser.class);
  DefaultParser parserService=(DefaultParser)bc.getService(parserRef);
  Set<String> osgiParsers=new HashSet<String>();
  for (  Parser p : parserService.getAllComponentParsers()) {
    osgiParsers.add(p.getClass().getName());
  }
  assertTrue("Should have lots Parser names, found " + osgiParsers.size(),osgiParsers.size() > 15);
  CompositeParser parser=(CompositeParser)defaultParser;
  Set<String> rawParsers=new HashSet<String>();
  for (  Parser p : parser.getAllComponentParsers()) {
    if (p instanceof DefaultParser) {
      for (      Parser pChild : ((DefaultParser)p).getAllComponentParsers()) {
        rawParsers.add(pChild.getClass().getName());
      }
    }
 else {
      rawParsers.add(p.getClass().getName());
    }
  }
  assertEquals(rawParsers,osgiParsers);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForkParser() throws Exception {
  ForkParser parser=new ForkParser(Activator.class.getClassLoader(),defaultParser);
  String data="<!DOCTYPE html>\n<html><body><p>test <span>content</span></p></body></html>";
  InputStream stream=new ByteArrayInputStream(data.getBytes(UTF_8));
  Writer writer=new StringWriter();
  ContentHandler contentHandler=new BodyContentHandler(writer);
  Metadata metadata=new Metadata();
  MediaType type=contentTypeDetector.detect(stream,metadata);
  assertEquals(type.toString(),"text/html");
  metadata.add(Metadata.CONTENT_TYPE,type.toString());
  ParseContext parseCtx=new ParseContext();
  parser.parse(stream,contentHandler,metadata,parseCtx);
  writer.flush();
  String content=writer.toString();
  assertTrue(content.length() > 0);
  assertEquals("test content",content.trim());
}

</code></pre>

<br>
<pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleDetectors() throws Exception {
  ServiceReference<Detector> detectorRef=bc.getServiceReference(Detector.class);
  DefaultDetector detectorService=(DefaultDetector)bc.getService(detectorRef);
  Set<String> osgiDetectors=new HashSet<String>();
  for (  Detector d : detectorService.getDetectors()) {
    osgiDetectors.add(d.getClass().getName());
  }
  assertTrue("Should have several Detector names, found " + osgiDetectors.size(),osgiDetectors.size() > 3);
  DefaultDetector detector=new DefaultDetector();
  Set<String> rawDetectors=new HashSet<String>();
  for (  Detector d : detector.getDetectors()) {
    if (d instanceof DefaultDetector) {
      for (      Detector dChild : ((DefaultDetector)d).getDetectors()) {
        rawDetectors.add(dChild.getClass().getName());
      }
    }
 else {
      rawDetectors.add(d.getClass().getName());
    }
  }
  assertEquals(osgiDetectors,rawDetectors);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBundleSimpleText() throws Exception {
  Tika tika=new Tika();
  String xml=tika.parseToString(new File("pom.xml"));
  assertTrue(xml.contains("tika-bundle"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testManifestNoJUnit() throws Exception {
  File TARGET=new File("target");
  File base=new File(TARGET,"test-bundles");
  File tikaBundle=new File(base,"tika-bundle.jar");
  JarInputStream jarIs=new JarInputStream(new FileInputStream(tikaBundle));
  Manifest mf=jarIs.getManifest();
  Attributes main=mf.getMainAttributes();
  String importPackage=main.getValue("Import-Package");
  boolean containsJunit=importPackage.contains("junit");
  assertFalse("The bundle should not import junit",containsJunit);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testTikaBundle() throws Exception {
  Tika tika=new Tika();
  ContentHandler handler=new BodyContentHandler();
  Parser parser=tika.getParser();
  ParseContext context=new ParseContext();
  context.set(Parser.class,parser);
  try (InputStream stream=new FileInputStream("src/test/resources/test-documents.zip")){
    parser.parse(stream,handler,new Metadata(),context);
  }
   String content=handler.toString();
  assertTrue(content.contains("testEXCEL.xls"));
  assertTrue(content.contains("Sample Excel Worksheet"));
  assertTrue(content.contains("testHTML.html"));
  assertTrue(content.contains("Test Indexation Html"));
  assertTrue(content.contains("testOpenOffice2.odt"));
  assertTrue(content.contains("This is a sample Open Office document"));
  assertTrue(content.contains("testPDF.pdf"));
  assertTrue(content.contains("Apache Tika"));
  assertTrue(content.contains("testPPT.ppt"));
  assertTrue(content.contains("Sample Powerpoint Slide"));
  assertTrue(content.contains("testRTF.rtf"));
  assertTrue(content.contains("indexation Word"));
  assertTrue(content.contains("testTXT.txt"));
  assertTrue(content.contains("Test d'indexation de Txt"));
  assertTrue(content.contains("testWORD.doc"));
  assertTrue(content.contains("This is a sample Microsoft Word Document"));
  assertTrue(content.contains("testXML.xml"));
  assertTrue(content.contains("Rida Benjelloun"));
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleLoaded() throws Exception {
  boolean hasCore=false, hasBundle=false;
  for (  Bundle b : bc.getBundles()) {
    if ("org.apache.tika.core".equals(b.getSymbolicName())) {
      hasCore=true;
      assertEquals("Core not activated",Bundle.ACTIVE,b.getState());
    }
    if ("org.apache.tika.bundle".equals(b.getSymbolicName())) {
      hasBundle=true;
      assertEquals("Bundle not activated",Bundle.ACTIVE,b.getState());
    }
  }
  assertTrue("Core bundle not found",hasCore);
  assertTrue("Bundle bundle not found",hasBundle);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLIBatchCommandLineTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJVMOpts() throws Exception {
  String[] params={"-JXmx1g","-JDlog4j.configuration=batch_process_log4j.xml","-inputDir",testInputPathForCommandLine,"-outputDir","testout-output"};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  StringBuilder sb=new StringBuilder();
  for (  String s : commandLine) {
    sb.append(s).append(" ");
  }
  String s=sb.toString();
  int classInd=s.indexOf("org.apache.tika.batch.fs.FSBatchProcessCLI");
  int xmx=s.indexOf("-Xmx1g");
  int inputDir=s.indexOf("-inputDir");
  int log=s.indexOf("-Dlog4j.configuration");
  assertTrue(classInd > -1);
  assertTrue(xmx > -1);
  assertTrue(inputDir > -1);
  assertTrue(log > -1);
  assertTrue(xmx < classInd);
  assertTrue(log < classInd);
  assertTrue(inputDir > classInd);
}

</code></pre>

<br>
<pre class="type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneDirOneFileException() throws Exception {
  boolean ex=false;
  try {
    String path=testFile.toAbsolutePath().toString();
    if (path.contains(" ")) {
      path="\"" + path + "\"";
    }
    String[] params={testInputPathForCommandLine,path};
    String[] commandLine=BatchCommandLineBuilder.build(params);
    fail("Not allowed to have one dir and one file");
  }
 catch (  IllegalArgumentException e) {
    ex=true;
  }
  assertTrue("exception on <dir> <file>",ex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLIBatchIntegrationTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsonRecursiveBatchIntegration() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","10","-J","-t"};
  TikaCLI.main(params);
  Path jsonFile=tempOutputDir.resolve("test_recursive_embedded.docx.json");
  try (Reader reader=Files.newBufferedReader(jsonFile,UTF_8)){
    List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
    assertEquals(12,metadataList.size());
    assertTrue(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).contains("human events"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigester() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","10","-J","-t","-digest","sha512"};
  TikaCLI.main(params);
  Path jsonFile=tempOutputDir.resolve("test_recursive_embedded.docx.json");
  try (Reader reader=Files.newBufferedReader(jsonFile,UTF_8)){
    List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
    assertEquals(12,metadataList.size());
    assertNotNull(metadataList.get(0).get("X-TIKA:digest:SHA512"));
    assertTrue(metadataList.get(0).get("X-TIKA:digest:SHA512").startsWith("ee46d973ee1852c01858"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProcessLogFileConfig() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","2","-JDlog4j.configuration=log4j_batch_process_test.properties"};
  TikaCLI.main(params);
  assertFileExists(tempOutputDir.resolve("bad_xml.xml.xml"));
  assertFileExists(tempOutputDir.resolve("coffee.xls.xml"));
  String sysOutString=new String(outBuffer.toByteArray(),UTF_8);
  assertTrue(sysOutString.contains("MY_CUSTOM_LOG_CONFIG"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLITest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests -m option of the cli
 * @throws Exception
 */
@Test public void testMetadataOutput() throws Exception {
  String[] params={"-m",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("text/plain"));
  params=new String[]{"-m","--digest=SHA512",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("text/plain"));
  assertTrue(outContent.toString(UTF_8.name()).contains("X-TIKA:digest:SHA512: dd459d99bc19ff78fd31fbae46e0"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests -d option of the cli
 * @throws Exception
 */
@Test public void testDetectOutput() throws Exception {
  String[] params={"-d",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("text/plain"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests -l option of the cli
 * @throws Exception
 */
@Test public void testLanguageOutput() throws Exception {
  String[] params={"-l",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("en"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests --list-parser-detail option of the cli
 * @throws Exception
 */
@Test public void testListParserDetail() throws Exception {
  String[] params={"--list-parser-detail"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("application/vnd.oasis.opendocument.text-web"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserDefault() throws Exception {
  String[] params=new String[]{"-J","-r",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\"X-TIKA:content\": \"\\u003chtml xmlns\\u003d\\\"http://www.w3.org/1999/xhtml"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testZipWithSubdirs() throws Exception {
  String[] params={"-z","--extract-dir=target",resourcePrefix + "testWithSubdirs.zip"};
  new File("subdir/foo.txt").delete();
  new File("subdir").delete();
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("Extracting 'subdir/foo.txt'"));
  new File("target/subdir/foo.txt").delete();
  new File("target/subdir").delete();
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testConfig() throws Exception {
  String[] params=new String[]{"--config=" + testDataFile.toString() + "/tika-config1.xml",resourcePrefix + "bad_xml.xml"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("apple"));
  assertTrue(content.contains("org.apache.tika.parser.html.HtmlParser"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDefaultConfigException() throws Exception {
  String[] params={resourcePrefix + "bad_xml.xml"};
  boolean tikaEx=false;
  try {
    TikaCLI.main(params);
  }
 catch (  TikaException e) {
    tikaEx=true;
  }
  assertTrue(tikaEx);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserMetadataOnly() throws Exception {
  String[] params=new String[]{"-m","-J","-r",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("[\n" + "  {\n" + "    \"Application-Name\": \"Microsoft Office Word\",\n"+ "    \"Application-Version\": \"15.0000\",\n"+ "    \"Character Count\": \"28\",\n"+ "    \"Character-Count-With-Spaces\": \"31\","));
  assertTrue(content.contains("\"X-TIKA:embedded_resource_path\": \"/embed1.zip\""));
  assertFalse(content.contains("X-TIKA:content"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests --list-supported-types option of the cli
 * @throws Exception
 */
@Test public void testListSupportedTypes() throws Exception {
  String[] params={"--list-supported-types",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("supertype: application/octet-stream"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Creates a welsh language profile
 * @throws Exception
 */
@Test public void testCreateProfile() throws Exception {
  String[] params={"--create-profile=welsh","-eUTF-8",resourcePrefix + "welsh_corpus.txt"};
  TikaCLI.main(params);
  assertTrue(profile.exists());
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserText() throws Exception {
  String[] params=new String[]{"-J","-r","-t",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\\n\\nembed_4\\n"));
  assertTrue(content.contains("\\n\\nembed_0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Basic tests for -json option
 * @throws Exception
 */
@Test public void testJsonMetadataOutput() throws Exception {
  String[] params={"--json","--digest=MD2",resourcePrefix + "testJsonMultipleInts.html"};
  TikaCLI.main(params);
  String json=outContent.toString(UTF_8.name());
  assertTrue(json.contains("\"fb:admins\":\"1,2,3,4\","));
  int enc=json.indexOf("\"Content-Encoding\"");
  int fb=json.indexOf("fb:admins");
  int title=json.indexOf("\"title\"");
  assertTrue(enc > -1 && fb > -1 && enc < fb);
  assertTrue(fb > -1 && title > -1 && fb < title);
  assertTrue(json.contains("\"X-TIKA:digest:MD2\":"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests --list-met-models option of the cli
 * @throws Exception
 */
@Test public void testListMetModels() throws Exception {
  String[] params={"--list-met-models",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("text/plain"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test for -json with prettyprint option
 * @throws Exception
 */
@Test public void testJsonMetadataPrettyPrintOutput() throws Exception {
  String[] params={"--json","-r",resourcePrefix + "testJsonMultipleInts.html"};
  TikaCLI.main(params);
  String json=outContent.toString(UTF_8.name());
  assertTrue(json.contains("  \"X-Parsed-By\": [\n" + "    \"org.apache.tika.parser.DefaultParser\",\n" + "    \"org.apache.tika.parser.html.HtmlParser\"\n"+ "  ],\n"));
  int enc=json.indexOf("\"Content-Encoding\"");
  int fb=json.indexOf("fb:admins");
  int title=json.indexOf("\"title\"");
  assertTrue(enc > -1 && fb > -1 && enc < fb);
  assertTrue(fb > -1 && title > -1 && fb < title);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests -x option of the cli
 * @throws Exception
 */
@Test public void testXMLOutput() throws Exception {
  String[] params={"-x",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("?xml version=\"1.0\" encoding=\"UTF-8\"?"));
  params=new String[]{"-x","--digest=SHA256",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("<meta name=\"X-TIKA:digest:SHA256\" content=\"e90779adbac09c4ee"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDigestInJson() throws Exception {
  String[] params=new String[]{"-J","-r","-t","--digest=MD5",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\"X-TIKA:digest:MD5\": \"59f626e09a8c16ab6dbc2800c685f772\","));
  assertTrue(content.contains("\"X-TIKA:digest:MD5\": \"f9627095ef86c482e61d99f0cc1cf87d\""));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMultiValuedMetadata() throws Exception {
  String[] params={"-m",resourcePrefix + "testMultipleSheets.numbers"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("sheetNames: Checking"));
  assertTrue(content.contains("sheetNames: Secon sheet"));
  assertTrue(content.contains("sheetNames: Logical Sheet 3"));
  assertTrue(content.contains("sheetNames: Sheet 4"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests a -h option of the cli
 * @throws Exception
 */
@Test public void testHTMLOutput() throws Exception {
  String[] params={"-h",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString("UTF-8").contains("html xmlns=\"http://www.w3.org/1999/xhtml"));
  assertTrue("Expanded <title></title> element should be present",outContent.toString(UTF_8.name()).contains("<title></title>"));
  params=new String[]{"-h","--digest=SHA384",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString("UTF-8").contains("<meta name=\"X-TIKA:digest:SHA384\" content=\"c69ea023f5da95a026"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests -t option of the cli
 * @throws Exception
 */
@Test public void testTextOutput() throws Exception {
  String[] params={"-t",resourcePrefix + "alice.cli.test"};
  TikaCLI.main(params);
  assertTrue(outContent.toString(UTF_8.name()).contains("finished off the cake"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaConfigTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1145 If the TikaConfig has a ClassLoader set on it,
 * that should be used when loading the mimetypes and when
 * discovering services
 */
@Test public void ensureClassLoaderUsedEverywhere() throws Exception {
  ResourceLoggingClassLoader customLoader=new ResourceLoggingClassLoader(getClass().getClassLoader());
  TikaConfig config;
  config=new TikaConfig();
  config.getMediaTypeRegistry();
  config.getParser();
  assertEquals(0,customLoader.getLoadedResources().size());
  config=new TikaConfig(customLoader);
  config.getMediaTypeRegistry();
  config.getParser();
  Map<String,List<URL>> resources=customLoader.getLoadedResources();
  int resourcesCount=resources.size();
  assertTrue("Not enough things used the classloader, found only " + resourcesCount,resourcesCount > 3);
  assertNotNull(resources.get("META-INF/services/org.apache.tika.parser.Parser"));
  assertNotNull(resources.get("META-INF/services/org.apache.tika.detect.Detector"));
  assertNotNull(resources.get("org/apache/tika/mime/tika-mimetypes.xml"));
  assertNotNull(resources.get("org/apache/tika/mime/custom-mimetypes.xml"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testDynamicServiceLoaderFromConfig() throws Exception {
  URL url=TikaConfigTest.class.getResource("TIKA-1700-dynamic.xml");
  TikaConfig config=new TikaConfig(url);
  DummyParser parser=(DummyParser)config.getParser();
  ServiceLoader loader=parser.getLoader();
  boolean dynamicValue=loader.isDynamic();
  assertTrue("Dynamic Service Loading Should be true",dynamicValue);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTikaExecutorServiceFromConfig() throws Exception {
  URL url=TikaConfigTest.class.getResource("TIKA-1762-executors.xml");
  TikaConfig config=new TikaConfig(url);
  ThreadPoolExecutor executorService=(ThreadPoolExecutor)config.getExecutorService();
  assertTrue("Should use Dummy Executor",(executorService instanceof DummyExecutor));
  assertEquals("Should have configured Core Threads",3,executorService.getCorePoolSize());
  assertEquals("Should have configured Max Threads",10,executorService.getMaximumPoolSize());
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1445 It should be possible to exclude DefaultParser from
 * certain types, so another parser explicitly listed will take them
 */
@Test public void defaultParserWithExcludes() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1445-default-except.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(3,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(DefaultParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
    p=parsers.get(2);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(ErrorParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("fail/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1653 If one parser has child parsers, those child parsers shouldn't
 * show up at the top level as well
 */
@Test public void parserWithChildParsers() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1653-norepeat.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(2,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof CompositeParser);
    assertEquals(2,((CompositeParser)p).getAllComponentParsers().size());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaDetectorConfigTest </h4><pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1708 - If the Zip detector is disabled, either explicitly,
 * or via giving a list of detectors that it isn't part of, ensure
 * that detection of PST files still works
 */
@Test public void testPSTDetectionWithoutZipDetector() throws Exception {
  TikaConfig configWX=getConfig("TIKA-1708-detector-default.xml");
  assertNotNull(configWX.getParser());
  assertNotNull(configWX.getDetector());
  CompositeDetector detectorWX=(CompositeDetector)configWX.getDetector();
  assertDetectors(detectorWX,true,false);
  TikaConfig configCL=getConfig("TIKA-1708-detector-composite.xml");
  assertNotNull(configCL.getParser());
  assertNotNull(configCL.getDetector());
  CompositeDetector detectorCL=(CompositeDetector)configCL.getDetector();
  assertEquals(2,detectorCL.getDetectors().size());
  assertDetectors(detectorCL,true,false);
  assertTrue("Not enough mime types: " + configWX.getMediaTypeRegistry().getTypes().size(),configWX.getMediaTypeRegistry().getTypes().size() > 100);
  assertTrue("Not enough mime types: " + configCL.getMediaTypeRegistry().getTypes().size(),configCL.getMediaTypeRegistry().getTypes().size() > 100);
  TikaInputStream stream=TikaInputStream.get(getResourceAsFile("/test-documents/testPST.pst"));
  assertEquals(OutlookPSTParser.MS_OUTLOOK_PST_MIMETYPE,detectorWX.detect(stream,new Metadata()));
  assertEquals(OutlookPSTParser.MS_OUTLOOK_PST_MIMETYPE,detectorCL.detect(stream,new Metadata()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaParserConfigTest </h4><pre class="type-14 type-12 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParserExcludeFromDefault() throws Exception {
  TikaConfig config=getConfig("TIKA-1558-blacklist.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  CompositeParser parser=(CompositeParser)config.getParser();
  MediaType PE_EXE=MediaType.application("x-msdownload");
  MediaType ELF=MediaType.application("x-elf");
  ParserDecorator confWrappedParser=(ParserDecorator)parser.getParsers().get(MediaType.APPLICATION_XML);
  assertNotNull(confWrappedParser);
  DefaultParser confParser=(DefaultParser)confWrappedParser.getWrappedParser();
  DefaultParser normParser=new DefaultParser(config.getMediaTypeRegistry());
  assertContains(PE_EXE,normParser.getSupportedTypes(context));
  assertContains(ELF,normParser.getSupportedTypes(context));
  boolean hasExec=false;
  for (  Parser p : normParser.getParsers().values()) {
    if (p instanceof ExecutableParser) {
      hasExec=true;
      break;
    }
  }
  assertTrue(hasExec);
  assertNotContained(PE_EXE,confParser.getSupportedTypes(context));
  assertNotContained(ELF,confParser.getSupportedTypes(context));
  for (  Parser p : confParser.getParsers().values()) {
    if (p instanceof ExecutableParser)     fail("Shouldn't have the Executable Parser from config");
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMimeExcludeInclude() throws Exception {
  TikaConfig config=getConfig("TIKA-1558-blacklist.xml");
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  Parser parser=config.getParser();
  MediaType PDF=MediaType.application("pdf");
  MediaType JPEG=MediaType.image("jpeg");
  assertEquals(CompositeParser.class,parser.getClass());
  CompositeParser cParser=(CompositeParser)parser;
  assertEquals(2,cParser.getAllComponentParsers().size());
  assertTrue(cParser.getAllComponentParsers().get(0) instanceof ParserDecorator);
  assertTrue(cParser.getAllComponentParsers().get(1) instanceof ParserDecorator);
  ParserDecorator p0=(ParserDecorator)cParser.getAllComponentParsers().get(0);
  ParserDecorator p1=(ParserDecorator)cParser.getAllComponentParsers().get(1);
  assertEquals(DefaultParser.class,p0.getWrappedParser().getClass());
  assertNotContained(PDF,p0.getSupportedTypes(context));
  assertContains(PDF,p0.getWrappedParser().getSupportedTypes(context));
  assertNotContained(JPEG,p0.getSupportedTypes(context));
  assertContains(JPEG,p0.getWrappedParser().getSupportedTypes(context));
  assertEquals(EmptyParser.class,p1.getWrappedParser().getClass());
  assertEquals(1,p1.getSupportedTypes(context).size());
  assertContains(PDF,p1.getSupportedTypes(context));
  assertNotContained(PDF,p1.getWrappedParser().getSupportedTypes(context));
}

</code></pre>

<br>
<pre class="type-14 type-12 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1558 It should be possible to exclude Parsers from being picked up by
 * DefaultParser.
 */
@Test public void defaultParserBlacklist() throws Exception {
  TikaConfig config=new TikaConfig();
  assertNotNull(config.getParser());
  assertNotNull(config.getDetector());
  CompositeParser cp=(CompositeParser)config.getParser();
  List<Parser> parsers=cp.getAllComponentParsers();
  boolean hasXML=false;
  for (  Parser p : parsers) {
    if (p instanceof XMLParser) {
      hasXML=true;
      break;
    }
  }
  assertTrue("Default config should include an XMLParser.",hasXML);
  config=getConfig("TIKA-1558-blacklistsub.xml");
  cp=(CompositeParser)config.getParser();
  parsers=cp.getAllComponentParsers();
  for (  Parser p : parsers) {
    if (p instanceof XMLParser)     fail("Custom config should not include an XMLParser (" + p.getClass() + ").");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.detect.TestContainerAwareDetector </h4><pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOpenContainer() throws Exception {
  try (TikaInputStream stream=TikaInputStream.get(TestContainerAwareDetector.class.getResource("/test-documents/testPPT.ppt"))){
    assertNull(stream.getOpenContainer());
    assertEquals(MediaType.parse("application/vnd.ms-powerpoint"),detector.detect(stream,new Metadata()));
    assertTrue(stream.getOpenContainer() instanceof NPOIFSFileSystem);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.ContentHandlerExampleTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseToPlainTextChunks() throws IOException, SAXException, TikaException {
  List<String> result=example.parseToPlainTextChunks();
  assertEquals(3,result.size());
  for (  String chunk : result) {
    assertTrue("Chunk under max size",chunk.length() <= example.MAXIMUM_TEXT_CHUNK_SIZE);
  }
  assertContains("This is in the header",result.get(0));
  assertContains("Test Document",result.get(0));
  assertContains("Testing",result.get(1));
  assertContains("1 2 3",result.get(1));
  assertContains("TestTable",result.get(1));
  assertContains("Testing 123",result.get(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.DumpTikaConfigExampleTest </h4><pre class="type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDump() throws Exception {
  DumpTikaConfigExample ex=new DumpTikaConfigExample();
  for (  Charset charset : new Charset[]{UTF_8,UTF_16LE}) {
    for (    Mode mode : Mode.values()) {
      Writer writer=new OutputStreamWriter(new FileOutputStream(configFile),charset);
      ex.dump(TikaConfig.getDefaultConfig(),mode,writer,charset.name());
      writer.flush();
      writer.close();
      TikaConfig c=new TikaConfig(configFile);
      assertTrue(c.getParser().toString(),c.getParser() instanceof CompositeParser);
      assertTrue(c.getDetector().toString(),c.getDetector() instanceof CompositeDetector);
      CompositeParser p=(CompositeParser)c.getParser();
      assertTrue("enough parsers?",p.getParsers().size() > 130);
      CompositeDetector d=(CompositeDetector)c.getDetector();
      assertTrue("enough detectors?",d.getDetectors().size() > 3);
      Parser auto=new AutoDetectParser(c);
      assertNotNull(auto);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.TestParsingExample </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializedRecursiveParserWrapperExample() throws IOException, SAXException, TikaException {
  String json=parsingExample.serializedRecursiveParserWrapperExample();
  assertTrue(json.indexOf("When in the Course") > -1);
  List<Metadata> metadataList=JsonMetadataList.fromJson(new StringReader(json));
  assertEquals(12,metadataList.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.filetypedetector.TikaFileTypeDetectorTest </h4><pre class="type-9 type-7 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void testMetaInfServicesLoad() throws Exception {
  ServiceLoader<FileTypeDetector> serviceLoader=ServiceLoader.load(FileTypeDetector.class);
  Iterator<FileTypeDetector> iterator=serviceLoader.iterator();
  assertTrue(iterator.hasNext());
  while (iterator.hasNext()) {
    FileTypeDetector fileTypeDetector=iterator.next();
    assertNotNull(fileTypeDetector);
    assertTrue(fileTypeDetector instanceof TikaFileTypeDetector);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.FilenameUtilsTest </h4><pre class="type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void normalizeWithNull() throws Exception {
  try {
    FilenameUtils.normalize(null);
    fail("missing check for null parameters");
  }
 catch (  IllegalArgumentException x) {
    assertTrue(x.getMessage() != null && x.getMessage().contains("name"));
    assertTrue(x.getMessage() != null && x.getMessage().contains("not be null"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TailStreamTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the content of the tail buffer if it is only partly filled.
 */
@Test public void testTailBufferPartlyRead() throws IOException {
  final int count=64;
  TailStream stream=new TailStream(generateStream(0,count),2 * count);
  byte[] data=readStream(stream);
  assertTrue("Wrong content",Arrays.equals(data,stream.getTail()));
  stream.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TemporaryResourcesTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testFileDeletion() throws IOException {
  Path tempFile;
  try (TemporaryResources tempResources=new TemporaryResources()){
    tempFile=tempResources.createTempFile();
    assertTrue("Temp file should exist while TempResources is used",Files.exists(tempFile));
  }
   assertTrue("Temp file should not exist after TempResources is closed",Files.notExists(tempFile));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TikaInputStreamTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStreamBased() throws IOException {
  InputStream input=IOUtils.toInputStream("Hello, World!",UTF_8.name());
  InputStream stream=TikaInputStream.get(input);
  Path file=TikaInputStream.get(stream).getPath();
  assertTrue(file != null && Files.isRegularFile(file));
  assertEquals("The contents of the file returned by the getFile method" + " should equal the contents of the TikaInputStream","Hello, World!",readFile(file));
  assertEquals("The contents of the TikaInputStream should not get modified" + " by reading the file first","Hello, World!",readStream(stream));
  stream.close();
  assertFalse("The close() method must remove the temporary file created" + " by a TikaInputStream",Files.exists(file));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFileBased() throws IOException {
  Path path=createTempFile("Hello, World!");
  InputStream stream=TikaInputStream.get(path);
  assertEquals("The file returned by the getFile() method should" + " be the file used to instantiate a TikaInputStream",path,TikaInputStream.get(stream).getPath());
  assertEquals("The contents of the TikaInputStream should equal the" + " contents of the underlying file","Hello, World!",readStream(stream));
  stream.close();
  assertTrue("The close() method must not remove the file used to" + " instantiate a TikaInputStream",Files.exists(path));
  Files.delete(path);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageIdentifierTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMixedLanguages() throws IOException {
  for (  String language : languages) {
    for (    String other : languages) {
      if (!language.equals(other)) {
        if (language.equals("lt") || other.equals("lt")) {
          continue;
        }
        ProfilingWriter writer=new ProfilingWriter();
        writeTo(language,writer);
        writeTo(other,writer);
        LanguageIdentifier identifier=null;
        identifier=new LanguageIdentifier(writer.getProfile());
        assertFalse("mix of " + language + " and "+ other+ " incorrectly detected as "+ identifier,identifier.isReasonablyCertain());
      }
    }
  }
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageDetection() throws IOException {
  for (  String language : languages) {
    ProfilingWriter writer=new ProfilingWriter();
    writeTo(language,writer);
    LanguageIdentifier identifier=null;
    identifier=new LanguageIdentifier(writer.getProfile());
    assertEquals(language,identifier.getLanguage());
    if (!language.equals("lt")) {
      assertTrue(identifier.toString(),identifier.isReasonablyCertain());
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearAddAndInitProfiles() throws IOException {
  ProfilingWriter enWriter=new ProfilingWriter();
  writeTo("en",enWriter);
  LanguageProfile enProfile=enWriter.getProfile();
  ProfilingWriter deWriter=new ProfilingWriter();
  writeTo("de",deWriter);
  LanguageProfile deProfile=deWriter.getProfile();
  LanguageIdentifier identifier=null;
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  LanguageIdentifier.clearProfiles();
  identifier=new LanguageIdentifier(enProfile);
  assertFalse(identifier.isReasonablyCertain());
  LanguageIdentifier.addProfile("en",enProfile);
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  HashMap<String,LanguageProfile> profilesMap=new HashMap<String,LanguageProfile>();
  profilesMap.put("en",enProfile);
  profilesMap.put("de",deProfile);
  LanguageIdentifier.initProfiles(profilesMap);
  identifier=new LanguageIdentifier(enProfile);
  assertEquals("en",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
  identifier=new LanguageIdentifier(deProfile);
  assertEquals("de",identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageProfileTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLanguageProfile() throws IOException {
  LanguageProfile foo=new LanguageProfile();
  assertEquals(0,foo.getCount("foo"));
  foo.add("foo");
  assertEquals(1,foo.getCount("foo"));
  foo.add("foo",3);
  assertEquals(4,foo.getCount("foo"));
  LanguageProfile bar=new LanguageProfile();
  assertEquals(1.0,foo.distance(bar),1e-8);
  bar.add("bar");
  assertEquals(Math.sqrt(2.0),foo.distance(bar),1e-8);
  bar.add("bar",3);
  assertEquals(Math.sqrt(2.0),foo.distance(bar),1e-8);
  LanguageProfile foobar=new LanguageProfile();
  assertTrue(foo.distance(foobar) == bar.distance(foobar));
  foobar.add("foo");
  assertTrue(foo.distance(foobar) < bar.distance(foobar));
  foobar.add("bar");
  assertTrue(foo.distance(foobar) == bar.distance(foobar));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageProfilerBuilderTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNGramProfile() throws IOException, TikaException, URISyntaxException {
  createLanguageProfile();
  LanguageIdentifier.addProfile(LANGUAGE,langProfile);
  LanguageIdentifier identifier=new LanguageIdentifier(langProfile);
  assertEquals(LANGUAGE,identifier.getLanguage());
  assertTrue(identifier.isReasonablyCertain());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.CachedTranslatorTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCacheContains() throws Exception {
  String text="Text that should be long enough to detect a language from.";
  assertFalse("Cache should not contain a translation!",cachedTranslator.contains(text,"en","it"));
  cachedTranslator.translate(text,"en","it");
  assertTrue("Cache should contain a translation!",cachedTranslator.contains(text,"en","it"));
  assertTrue("Cache should detect source language when checking if contains.",cachedTranslator.contains(text,"it"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.MicrosoftTranslatorTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleTranslate() throws Exception {
  String source="hello";
  String expected="salut";
  String translated=translator.translate(source,"en","fr");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleDetectTranslate() throws Exception {
  String source="hello";
  String expected="salut";
  String translated=translator.translate(source,"fr");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.translate.MosesTranslatorTest </h4><pre class="type-14 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleTranslate() throws Exception {
  String source="hola";
  String expected="hello";
  String translated=translator.translate(source,"sp","en");
  if (translator.isAvailable())   assertTrue("Translate " + source + " to "+ expected+ " (was "+ translated+ ")",expected.equalsIgnoreCase(translated));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.TestMetadata </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>equals(Object)</code> method. 
 */
@Test public void testObject(){
  Metadata meta1=new Metadata();
  Metadata meta2=new Metadata();
  assertFalse(meta1.equals(null));
  assertFalse(meta1.equals("String"));
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-one","value-1.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-one","value-1.2");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.1");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.1");
  assertTrue(meta1.equals(meta2));
  meta1.add("name-two","value-2.2");
  assertFalse(meta1.equals(meta2));
  meta2.add("name-two","value-2.x");
  assertFalse(meta1.equals(meta2));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test for <code>isMultiValued()</code> method. 
 */
@Test public void testIsMultiValued(){
  Metadata meta=new Metadata();
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value1");
  assertFalse(meta.isMultiValued("key"));
  meta.add("key","value2");
  assertTrue(meta.isMultiValued("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.serialization.JsonMetadataListTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPrettyPrint() throws Exception {
  Metadata m1=new Metadata();
  m1.add("tika:content","this is the content");
  m1.add("zk1","v1");
  m1.add("zk1","v2");
  m1.add("zk1","v3");
  m1.add("zk1","v4");
  m1.add("zk1","v4");
  m1.add("zk2","v1");
  Metadata m2=new Metadata();
  m2.add("k3","v1");
  m2.add("k3","v2");
  m2.add("k3","v3");
  m2.add("k3","v4");
  m2.add("k3","v4");
  m2.add("k4","v1");
  List<Metadata> metadataList=new LinkedList<Metadata>();
  metadataList.add(m1);
  metadataList.add(m2);
  StringWriter writer=new StringWriter();
  JsonMetadataList.toJson(metadataList,writer);
  assertTrue(writer.toString().startsWith("[{\"tika:content\":\"this is the content\",\"zk1\":[\"v1\",\"v2\","));
  writer=new StringWriter();
  JsonMetadataList.setPrettyPrinting(true);
  JsonMetadataList.toJson(metadataList,writer);
  assertTrue(writer.toString().startsWith("[\n" + "  {\n" + "    \"zk1\": [\n"+ "      \"v1\",\n"+ "      \"v2\","));
  assertTrue(writer.toString().contains("    \"zk2\": \"v1\",\n" + "    \"tika:content\": \"this is the content\"\n" + "  },"));
  JsonMetadataList.setPrettyPrinting(false);
  writer=new StringWriter();
  JsonMetadataList.toJson(metadataList,writer);
  assertTrue(writer.toString().startsWith("[{\"tika:content\":\"this is the content\",\"zk1\":[\"v1\",\"v2\","));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.serialization.JsonMetadataTest </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNull(){
  StringWriter writer=new StringWriter();
  boolean ex=false;
  try {
    JsonMetadata.toJson(null,writer);
  }
 catch (  TikaException e) {
    ex=true;
  }
  assertFalse(ex);
  assertEquals("null",writer.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicSerializationAndDeserialization() throws Exception {
  Metadata metadata=new Metadata();
  metadata.add("k1","v1");
  metadata.add("k1","v2");
  metadata.add("k3","v3");
  metadata.add("k3","v3");
  metadata.add("k4","500,000");
  metadata.add("alma_mater","\u666E\u6797\u65AF\u987F\u5927\u5B66");
  metadata.add("url","/myApp/myAction.html?method=router&cmd=1");
  metadata.add("html","<html><body>&amp;&nbsp;</body></html>");
  metadata.add("json_escapes","the: \"quick\" brown, fox");
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(metadata,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(7,deserialized.names().length);
  assertEquals(metadata,deserialized);
  assertEquals(6,deserialized.get("alma_mater").length());
  writer=new StringWriter();
  JsonMetadata.setPrettyPrinting(true);
  JsonMetadata.toJson(metadata,writer);
  assertTrue(writer.toString().contains("  \"json_escapes\": \"the: \\\"quick\\\" brown, fox\",\n" + "  \"k1\": [\n" + "    \"v1\",\n"+ "    \"v2\"\n"+ "  ],\n"+ "  \"k3\": [\n"+ "    \"v3\",\n"+ "    \"v3\"\n"+ "  ],\n"+ "  \"k4\": \"500,000\",\n"+ "  \"url\": \"/myApp/myAction.html?method\\u003drouter\\u0026cmd\\u003d1\"\n"+ "}"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeserializationException(){
  String json="{\"k1\":[\"v1\",\"v2\"],\"k3\":\"v3\",\"k4\":500,000}";
  boolean ex=false;
  try {
    Metadata deserialized=JsonMetadata.fromJson(new StringReader(json));
  }
 catch (  TikaException e) {
    ex=true;
  }
  assertTrue(ex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MediaTypeTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseWithParams(){
  String mimeStringWithParams="text/html;charset=UTF-8;foo=bar;foo2=bar2";
  MediaType type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(3,type.getParameters().keySet().size());
  boolean gotCharset=false, gotFoo=false, gotFoo2=false;
  for (  String param : type.getParameters().keySet()) {
    if (param.equals("charset")) {
      gotCharset=true;
    }
 else     if (param.equals("foo")) {
      gotFoo=true;
    }
 else     if (param.equals("foo2")) {
      gotFoo2=true;
    }
  }
  assertTrue(gotCharset && gotFoo && gotFoo2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeDetectionTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypeTest </h4><pre class="type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIsValidName(){
  assertTrue(MimeType.isValid("application/octet-stream"));
  assertTrue(MimeType.isValid("text/plain"));
  assertTrue(MimeType.isValid("foo/bar"));
  assertTrue(MimeType.isValid("a/b"));
  assertFalse(MimeType.isValid("application"));
  assertFalse(MimeType.isValid("application/"));
  assertFalse(MimeType.isValid("/"));
  assertFalse(MimeType.isValid("/octet-stream"));
  assertFalse(MimeType.isValid("application//octet-stream"));
  assertFalse(MimeType.isValid("application/octet=stream"));
  assertFalse(MimeType.isValid("application/\u00f6ctet-stream"));
  assertFalse(MimeType.isValid("text/plain;"));
  assertFalse(MimeType.isValid("text/plain; charset=UTF-8"));
  try {
    MimeType.isValid(null);
    fail("Expected IllegalArgumentException");
  }
 catch (  IllegalArgumentException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypesReaderTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testExcelMatches() throws Exception {
  int minMatches=4;
  MimeType excel=mimeTypes.forName("application/vnd.ms-excel");
  assertTrue(excel.hasMagic());
  assertTrue("There should be at least " + minMatches + " Excel matches, found "+ excel.getMagics().size(),excel.getMagics().size() >= minMatches);
  List<Magic> excelMagics=new ArrayList<Magic>();
  for (  Magic magic : magics) {
    if (magic.getType().toString().equals("application/vnd.ms-excel")) {
      excelMagics.add(magic);
    }
  }
  assertTrue("There should be at least " + minMatches + " Excel matches, found "+ excelMagics.size(),excelMagics.size() >= minMatches);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHtmlMatches() throws Exception {
  int minMatches=10;
  MimeType html=mimeTypes.forName("text/html");
  assertTrue(html.hasMagic());
  assertTrue("There should be at least " + minMatches + " HTML matches, found "+ html.getMagics().size(),html.getMagics().size() >= minMatches);
  List<Magic> htmlMagics=new ArrayList<Magic>();
  for (  Magic magic : magics) {
    if (magic.getType().toString().equals("text/html")) {
      htmlMagics.add(magic);
    }
  }
  assertTrue("There should be at least " + minMatches + " HTML matches, found "+ htmlMagics.size(),htmlMagics.size() >= minMatches);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadParameterHierarchy() throws Exception {
  MimeType mimeBTree4=this.mimeTypes.forName("application/x-berkeley-db;format=btree;version=4");
  MediaType mtBTree4=mimeBTree4.getType();
  assertEquals("application/x-berkeley-db; format=btree; version=4",mimeBTree4.toString());
  assertEquals("application/x-berkeley-db; format=btree; version=4",mtBTree4.toString());
  MediaType mtBTree=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree4);
  assertEquals("application/x-berkeley-db; format=btree",mtBTree.toString());
  Set<MediaType> mtBTreeChildren=this.mimeTypes.getMediaTypeRegistry().getChildTypes(mtBTree);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.size() >= 3);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.contains(mtBTree4));
  MediaType mtBD=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree);
  assertEquals("application/x-berkeley-db",mtBD.toString());
  MediaType mtAlt=MediaType.application("x-berkeley-db; format=unknown; version=42");
  MediaType mtAltP=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtAlt);
  assertEquals("application/x-berkeley-db",mtAltP.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypesTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testIsDescendantOf(){
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(TEXT_PLAIN,TEXT_PLAIN));
  assertFalse(registry.isSpecializationOf(html.getType(),html.getType()));
  assertTrue(registry.isSpecializationOf(html.getType(),OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,html.getType()));
  assertTrue(registry.isSpecializationOf(html.getType(),TEXT_PLAIN));
  assertFalse(registry.isSpecializationOf(TEXT_PLAIN,html.getType()));
  assertTrue(registry.isSpecializationOf(TEXT_PLAIN,OCTET_STREAM));
  assertFalse(registry.isSpecializationOf(OCTET_STREAM,TEXT_PLAIN));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testCompareTo(){
  assertTrue(binary.compareTo(binary) == 0);
  assertTrue(binary.compareTo(text) != 0);
  assertTrue(binary.compareTo(html) != 0);
  assertTrue(text.compareTo(binary) != 0);
  assertTrue(text.compareTo(text) == 0);
  assertTrue(text.compareTo(html) != 0);
  assertTrue(html.compareTo(binary) != 0);
  assertTrue(html.compareTo(text) != 0);
  assertTrue(html.compareTo(html) == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.PatternsTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExtensions() throws Exception {
  MimeType jpeg=fullTypes.forName("image/jpeg");
  assertEquals(".jpg",jpeg.getExtension());
  List<String> extensions=jpeg.getExtensions();
  assertTrue(extensions.size() > 1);
  assertTrue(extensions.contains(".jpg"));
  assertTrue(extensions.contains(".jpeg"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTestWithTika </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSuperTypes(){
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.parse("text/something")));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something; charset=UTF-8"),MediaType.OCTET_STREAM));
  assertTrue(registry.isSpecializationOf(MediaType.parse("text/something"),MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+xml"),MediaType.APPLICATION_XML));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/something+zip"),MediaType.APPLICATION_ZIP));
  assertTrue(registry.isSpecializationOf(MediaType.APPLICATION_XML,MediaType.TEXT_PLAIN));
  assertTrue(registry.isSpecializationOf(MediaType.parse("application/vnd.apple.iwork"),MediaType.APPLICATION_ZIP));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.AutoDetectParserTest </h4><pre class="type-9 type-7 type-14 type-12 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that the Ogg Audio parsers (Vorbis, Opus, Flac etc)
 * have been correctly included, and are available
 */
@SuppressWarnings("deprecation") @Test public void testOggFlacAudio() throws Exception {
  String[] testFiles=new String[]{"testVORBIS.ogg","testFLAC.flac","testFLAC.oga","testOPUS.opus"};
  MediaType[] mediaTypes=new MediaType[]{MediaType.parse(OGG_VORBIS),MediaType.parse(FLAC_NATIVE),MediaType.parse(OGG_FLAC),MediaType.parse(OGG_OPUS)};
  VorbisParser vParser=new VorbisParser();
  assertNotNull("Parser not found for " + mediaTypes[0],vParser.getSupportedTypes(new ParseContext()));
  FlacParser fParser=new FlacParser();
  assertNotNull("Parser not found for " + mediaTypes[1],fParser.getSupportedTypes(new ParseContext()));
  assertNotNull("Parser not found for " + mediaTypes[2],fParser.getSupportedTypes(new ParseContext()));
  OpusParser oParser=new OpusParser();
  assertNotNull("Parser not found for " + mediaTypes[3],oParser.getSupportedTypes(new ParseContext()));
  CompositeParser parser=(CompositeParser)tika.getParser();
  for (  MediaType mt : mediaTypes) {
    assertNotNull("Parser not found for " + mt,parser.getParsers().get(mt));
  }
  for (int i=0; i < testFiles.length; i++) {
    String file=testFiles[i];
    try (InputStream input=AutoDetectParserTest.class.getResourceAsStream("/test-documents/" + file)){
      if (input == null) {
        fail("Could not find test file " + file);
      }
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      new AutoDetectParser(tika).parse(input,handler,metadata);
      assertEquals("Incorrect content type for " + file,mediaTypes[i].toString(),metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
      assertEquals("Test Title",metadata.get(Metadata.TITLE));
      assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
      if (!file.endsWith(".opus")) {
        assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
      }
      assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
      assertEquals("Stereo",metadata.get(XMPDM.AUDIO_CHANNEL_TYPE));
      assertEquals("44100",metadata.get(XMPDM.AUDIO_SAMPLE_RATE));
      String content=handler.toString();
      assertTrue(content.contains("Test Title"));
      assertTrue(content.contains("Test Artist"));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.DigestingParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNegativeMaxMarkLength() throws Exception {
  Metadata m=new Metadata();
  boolean ex=false;
  try {
    XMLResult xml=getXML("test_recursive_embedded.docx",new DigestingParser(p,new CommonsDigester(-1,CommonsDigester.DigestAlgorithm.MD5)),m);
  }
 catch (  IllegalArgumentException e) {
    ex=true;
  }
  assertTrue("Exception not thrown",ex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.RecursiveParserWrapperTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicText() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p ") < 0);
  assertTrue(content.indexOf("embed_0") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryExcWEmbedded() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"embedded_then_npe.xml");
  ParseContext context=new ParseContext();
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),true);
  String path="/test-documents/mock/embedded_then_npe.xml";
  InputStream stream=null;
  boolean npe=false;
  try {
    stream=RecursiveParserWrapperTest.class.getResourceAsStream(path);
    wrapper.parse(stream,new DefaultHandler(),metadata,context);
  }
 catch (  TikaException e) {
    if (e.getCause().getClass().equals(NullPointerException.class)) {
      npe=true;
    }
  }
 finally {
    IOUtils.closeQuietly(stream);
  }
  assertTrue("npe",npe);
  List<Metadata> metadataList=wrapper.getMetadata();
  assertEquals(2,metadataList.size());
  Metadata outerMetadata=metadataList.get(0);
  Metadata embeddedMetadata=metadataList.get(1);
  assertContains("main_content",outerMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embedded_then_npe.xml",outerMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("Nikolai Lobachevsky",outerMetadata.get("author"));
  assertContains("some_embedded_content",embeddedMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embed1.xml",embeddedMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("embeddedAuthor",embeddedMetadata.get("author"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicXML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicHTML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.HTML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\"></p>") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedResourcePath() throws Exception {
  Set<String> targets=new HashSet<String>();
  targets.add("/embed1.zip");
  targets.add("/embed1.zip/embed2.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip/embed4.txt");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed3.txt");
  targets.add("/embed1.zip/embed2.zip/embed2a.txt");
  targets.add("/embed1.zip/embed2.zip/embed2b.txt");
  targets.add("/embed1.zip/embed1b.txt");
  targets.add("/embed1.zip/embed1a.txt");
  targets.add("/image1.emf");
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
  Set<String> seen=new HashSet<String>();
  for (  Metadata m : list) {
    String path=m.get(RecursiveParserWrapper.EMBEDDED_RESOURCE_PATH);
    if (path != null) {
      seen.add(path);
    }
  }
  assertEquals(targets,seen);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.asm.ClassParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClassParsing() throws Exception {
  String path="/test-documents/AutoDetectParser.class";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(ClassParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("AutoDetectParser",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("AutoDetectParser.class",metadata.get(Metadata.RESOURCE_NAME_KEY));
  assertTrue(content.contains("package org.apache.tika.parser;"));
  assertTrue(content.contains("class AutoDetectParser extends CompositeParser"));
  assertTrue(content.contains("private org.apache.tika.mime.MimeTypes types"));
  assertTrue(content.contains("public void parse(" + "java.io.InputStream, org.xml.sax.ContentHandler," + " org.apache.tika.metadata.Metadata) throws"+ " java.io.IOException, org.xml.sax.SAXException,"+ " org.apache.tika.exception.TikaException;"));
  assertTrue(content.contains("private byte[] getPrefix(java.io.InputStream, int)" + " throws java.io.IOException;"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmBlockInfo </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetChmBlockInfo(){
  for (  DirectoryListingEntry directoryListingEntry : chmDirListCont.getDirectoryListingEntryList()) {
    chmBlockInfo=ChmBlockInfo.getChmBlockInfoInstance(directoryListingEntry,(int)clrt.getBlockLen(),chmLzxcControlData);
    assertTrue(!ChmCommons.isEmpty(directoryListingEntry.getName()) && chmBlockInfo.toString() != null);
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  if (chmBlockInfo == null)   testGetChmBlockInfo();
  assertTrue(chmBlockInfo.toString().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmExtraction </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testMultiThreadedChmExtraction() throws InterruptedException {
  ExecutorService executor=Executors.newFixedThreadPool(TestParameters.NTHREADS);
  for (int i=0; i < TestParameters.NTHREADS; i++) {
    executor.execute(new Runnable(){
      public void run(){
        for (        String fileName : files) {
          InputStream stream=null;
          try {
            stream=TestChmExtraction.class.getResourceAsStream(fileName);
            BodyContentHandler handler=new BodyContentHandler(-1);
            parser.parse(stream,handler,new Metadata(),new ParseContext());
            assertTrue(!handler.toString().isEmpty());
          }
 catch (          Exception e) {
            e.printStackTrace();
          }
 finally {
            try {
              stream.close();
            }
 catch (            IOException e) {
              e.printStackTrace();
            }
          }
        }
      }
    }
);
  }
  executor.shutdown();
  while (!executor.isTerminated()) {
    Thread.sleep(500);
  }
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetText() throws Exception {
  BodyContentHandler handler=new BodyContentHandler();
  new ChmParser().parse(new ByteArrayInputStream(TestParameters.chmData),handler,new Metadata(),new ParseContext());
  assertTrue(handler.toString().contains("The TCard method accepts only numeric arguments"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmItsfHeader </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  assertTrue(chmItsfHeader.toString().contains(TestParameters.VP_ISTF_SIGNATURE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmItspHeader </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  assertTrue(chmItspHeader.toString().contains(TestParameters.VP_ISTP_SIGNATURE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmLzxState </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString() throws TikaException {
  if (chmLzxState == null)   testChmLzxStateConstructor();
  assertTrue(chmLzxState.toString().length() > 20);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmLzxcControlData </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetToString(){
  assertTrue(chmLzxcControlData.toString().contains(TestParameters.VP_CONTROL_DATA_SIGNATURE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmLzxcResetTable </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  assertTrue(chmLzxcResetTable.toString().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestPmgiHeader </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  assertTrue((chmPmgiHeader != null) && (chmPmgiHeader.toString().length() > 0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestPmglHeader </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToString(){
  assertTrue((chmPmglHeader != null) && chmPmglHeader.toString().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.code.SourceCodeParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testTextRender() throws Exception {
  String textContent=getText(getResourceAsStream("/test-documents/testJAVA.java"),sourceCodeParser,createMetadata("text/x-java-source"));
  assertTrue(textContent.length() > 0);
  assertTrue(textContent.indexOf("html") < 0);
  textContent=getText(new ByteArrayInputStream("public class HelloWorld {}".getBytes(UTF_8)),sourceCodeParser,createMetadata("text/x-java-source"));
  assertTrue(textContent.length() > 0);
  assertTrue(textContent.indexOf("html") < 0);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testReturnContentAsIsForTextHandler() throws Exception {
  String strContent=getXML(getResourceAsStream("/test-documents/testJAVA.java"),new AutoDetectParser(),createMetadata("text/plain")).xml;
  assertTrue(strContent.indexOf("public class HelloWorld {") > 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testHTMLRenderWithReturnLine() throws Exception {
  String htmlContent=getXML(getResourceAsStream("/test-documents/testJAVA.java"),sourceCodeParser,createMetadata("text/x-java-source")).xml;
  assertTrue(htmlContent.indexOf("<html:html lang=\"en\" xml:lang=\"en\"") == 0);
  assertTrue(htmlContent.indexOf("<html:span class=\"java_keyword\">public</span><html:span class=\"java_plain\">") > 0);
  assertTrue(htmlContent.indexOf("<html:span class=\"java_keyword\">static</span>") > 0);
  assertTrue(htmlContent.indexOf("<html:br clear=\"none\" />") > 0);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSupportTypes() throws Exception {
  Set<MediaType> supportedTypes=sourceCodeParser.getSupportedTypes(new ParseContext());
  assertTrue(supportedTypes.contains(new MediaType("text","x-java-source")));
  assertTrue(supportedTypes.contains(new MediaType("text","x-groovy")));
  assertTrue(supportedTypes.contains(new MediaType("text","x-c++src")));
  assertFalse(sourceCodeParser.getSupportedTypes(new ParseContext()).contains(new MediaType("text","html")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.feed.FeedParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRSSParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/rsstest.rss")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample RSS File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("TestChannel",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAtomParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/testATOM.atom")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample Atom File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Test Atom Feed",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.gdal.TestGDALParser </h4><pre class="type-12 type-4 type-5 type-16 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMetadata(){
  assumeTrue(canRun());
  final String expectedNcInst="NCAR (National Center for Atmospheric Research, Boulder, CO, USA)";
  final String expectedModelNameEnglish="NCAR CCSM";
  final String expectedProgramId="Source file unknown Version unknown Date unknown";
  final String expectedProjectId="IPCC Fourth Assessment";
  final String expectedRealization="1";
  final String expectedTitle="model output prepared for IPCC AR4";
  final String expectedSub8Name="\":ua";
  final String expectedSub8Desc="[1x17x128x256] eastward_wind (32-bit floating-point)";
  GDALParser parser=new GDALParser();
  InputStream stream=TestGDALParser.class.getResourceAsStream("/test-documents/sresa1b_ncar_ccsm3_0_run1_200001.nc");
  Metadata met=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,met,new ParseContext());
    assertNotNull(met);
    assertNotNull(met.get("NC_GLOBAL#institution"));
    assertEquals(expectedNcInst,met.get("NC_GLOBAL#institution"));
    assertNotNull(met.get("NC_GLOBAL#model_name_english"));
    assertEquals(expectedModelNameEnglish,met.get("NC_GLOBAL#model_name_english"));
    assertNotNull(met.get("NC_GLOBAL#prg_ID"));
    assertEquals(expectedProgramId,met.get("NC_GLOBAL#prg_ID"));
    assertNotNull(met.get("NC_GLOBAL#prg_ID"));
    assertEquals(expectedProgramId,met.get("NC_GLOBAL#prg_ID"));
    assertNotNull(met.get("NC_GLOBAL#project_id"));
    assertEquals(expectedProjectId,met.get("NC_GLOBAL#project_id"));
    assertNotNull(met.get("NC_GLOBAL#realization"));
    assertEquals(expectedRealization,met.get("NC_GLOBAL#realization"));
    assertNotNull(met.get("NC_GLOBAL#title"));
    assertEquals(expectedTitle,met.get("NC_GLOBAL#title"));
    assertNotNull(met.get("SUBDATASET_8_NAME"));
    assertTrue(met.get("SUBDATASET_8_NAME").endsWith(expectedSub8Name));
    assertNotNull(met.get("SUBDATASET_8_DESC"));
    assertEquals(expectedSub8Desc,met.get("SUBDATASET_8_DESC"));
  }
 catch (  Exception e) {
    e.printStackTrace();
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.geoinfo.GeographicInformationParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testISO19139() throws Exception {
  String path="/test-documents/sampleFile.iso19139";
  Metadata metadata=new Metadata();
  Parser parser=new org.apache.tika.parser.geoinfo.GeographicInformationParser();
  ContentHandler contentHandler=new BodyContentHandler();
  ParseContext parseContext=new ParseContext();
  InputStream inputStream=GeographicInformationParser.class.getResourceAsStream(path);
  parser.parse(inputStream,contentHandler,metadata,parseContext);
  assertEquals("text/iso19139+xml",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("UTF-8",metadata.get("CharacterSet"));
  assertEquals("https",metadata.get("TransferOptionsOnlineProtocol "));
  assertEquals("browser",metadata.get("TransferOptionsOnlineProfile "));
  assertEquals("Barrow Atqasuk ARCSS Plant",metadata.get("TransferOptionsOnlineName "));
  String content=contentHandler.toString();
  assertTrue(content.contains("Barrow Atqasuk ARCSS Plant"));
  assertTrue(content.contains("GeographicElementWestBoundLatitude	-157.24"));
  assertTrue(content.contains("GeographicElementEastBoundLatitude	-156.4"));
  assertTrue(content.contains("GeographicElementNorthBoundLatitude	71.18"));
  assertTrue(content.contains("GeographicElementSouthBoundLatitude	70.27"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.grib.GribParserTest </h4><pre class="type-9 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseGlobalMetadata() throws Exception {
  Parser parser=new GribParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  try (InputStream stream=GribParser.class.getResourceAsStream("/test-documents/gdas1.forecmwf.2014062612.grib2")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertNotNull(metadata);
  String content=handler.toString();
  assertTrue(content.contains("dimensions:"));
  assertTrue(content.contains("variables:"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.html.HtmlParserTest </h4><pre class="type-9 type-4 type-5 type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("The file 'testXHTML_utf8.html' is not available fo testing") public void XtestParseUTF8() throws IOException, SAXException, TikaException {
  String path="/test-documents/testXHTML_utf8.html";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(HtmlParserTest.class.getResourceAsStream(path),metadata);
  assertTrue("Did not contain expected text:" + "Title : Tilte with UTF-8 chars √∂√§√•",content.contains("Title : Tilte with UTF-8 chars √∂√§√•"));
  assertTrue("Did not contain expected text:" + "Content with UTF-8 chars",content.contains("Content with UTF-8 chars"));
  assertTrue("Did not contain expected text:" + "√•√§√∂",content.contains("√•√§√∂"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-889
 * XHTMLContentHandler wont emit newline when html element matches ENDLINE set.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-889">TIKA-889</a>
 */
@Test public void testNewlineAndIndent() throws Exception {
  final String html="<html><head><title>Title</title></head>" + "<body><ul><li>one</li></ul></body></html>";
  BodyContentHandler handler=new BodyContentHandler();
  new HtmlParser().parse(new ByteArrayInputStream(html.getBytes(UTF_8)),handler,new Metadata(),new ParseContext());
  String result=handler.toString();
  assertTrue(Pattern.matches("\tone\n\n",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testIFrameSrcExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><iframe src =\"framed.html\" width=\"100%\" height=\"300\">"+ "<p>Your browser doesn't support iframes!</p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<iframe .* src=\"http://domain.com/framed.html\".*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-481. Verify href in <link> is resolved.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-481">TIKA-481</a>
 */
@Test public void testLinkHrefResolution() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "<link rel=\"next\" href=\"next.html\" />"+ "</head><body></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<head>.*<link rel=\"next\" href=\"http://domain.com/next.html\"/>.*</head>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-480: fix NPE when using BodyContentHandler or HtmlTransformer
 * as delegate for BoilerpipeContentHandler
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-480">TIKA-480</a>
 */
@Test public void testBoilerplateDelegation() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),makeHtmlTransformer(sw),metadata,new ParseContext());
  String content=sw.toString();
  assertTrue(Pattern.matches("(?s).*<html xmlns=\"http://www.w3.org/1999/xhtml\">.*</html>.*$",content));
  assertTrue(Pattern.matches("(?s).*<head>.*</head>.*$",content));
  assertTrue(Pattern.matches("(?s).*<title>Title</title>.*$",content));
  assertTrue(Pattern.matches("(?s).*<body>.*</body>.*$",content));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-478. Don't emit <head> sub-elements inside of <body>.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-478">TIKA-478</a>
 */
@Test public void testElementOrdering() throws Exception {
  final String test="<html><head><title>Title</title>" + "<meta http-equiv=\"content-type\" content=\"text/html\">" + "<link rel=\"next\" href=\"next.html\" />"+ "</head><body><p>Simple Content</p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<title>Title</title>.*</head>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*<meta. *</body>.*$",result));
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<meta .*</head>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*<link .*</body>.*$",result));
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<link .*</head>.*$",result));
  assertTrue(Pattern.matches("(?s).*</body>.*</html>$",result));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoisyMetaCharsetHeaders() throws Exception {
  Tika tika=new Tika();
  String hit="\u0623\u0639\u0631\u0628";
  for (int i=1; i <= 4; i++) {
    String fileName="/test-documents/testHTMLNoisyMetaEncoding_" + i + ".html";
    String content=tika.parseToString(HtmlParserTest.class.getResourceAsStream(fileName));
    assertTrue("testing: " + fileName,content.contains(hit));
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAscii() throws Exception {
  String path="/test-documents/testHTML.html";
  final StringWriter href=new StringWriter();
  final StringWriter name=new StringWriter();
  ContentHandler body=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=HtmlParserTest.class.getResourceAsStream(path)){
    ContentHandler link=new DefaultHandler(){
      @Override public void startElement(      String u,      String l,      String n,      Attributes a) throws SAXException {
        if ("a".equals(l)) {
          if (a.getValue("href") != null) {
            href.append(a.getValue("href"));
          }
 else           if (a.getValue("name") != null) {
            name.append(a.getValue("name"));
          }
        }
      }
    }
;
    new HtmlParser().parse(stream,new TeeContentHandler(body,link),metadata,new ParseContext());
  }
   assertEquals("Title : Test Indexation Html",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Tika Developers",metadata.get("Author"));
  assertEquals("5",metadata.get("refresh"));
  assertEquals("51.2312",metadata.get(Geographic.LATITUDE));
  assertEquals("-5.1987",metadata.get(Geographic.LONGITUDE));
  assertEquals("http://www.apache.org/",href.toString());
  assertEquals("test-anchor",name.toString());
  String content=body.toString();
  assertTrue("Did not contain expected text:" + "Test Indexation Html",content.contains("Test Indexation Html"));
  assertTrue("Did not contain expected text:" + "Indexation du fichier",content.contains("Indexation du fichier"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-420
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-420">TIKA-420</a>
 */
@Test public void testBoilerplateRemoval() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),new BoilerpipeContentHandler(handler),metadata,new ParseContext());
  String content=handler.toString();
  assertTrue(content.startsWith("This is the real meat"));
  assertTrue(content.endsWith("This is the end of the text.\n"));
  assertFalse(content.contains("boilerplate"));
  assertFalse(content.contains("footer"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testObjectExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><p><object data=\"object.data\" type=\"text/html\">"+ "<param name=\"name\" value=\"value\" />"+ "</object></p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue("<object> tag not correctly found in:\n" + result,Pattern.matches("(?s).*<object data=\"http://domain.com/object.data\".*<param .* name=\"name\" value=\"value\"/>.*</object>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testImgUrlExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><img src=\"image.jpg\" /></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*src=\"http://domain.com/image.jpg\".*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-268
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-268">TIKA-268</a>
 */
@Test public void testWhitespaceBetweenTableCells() throws Exception {
  String test="<html><body><table><tr><td>a</td><td>b</td></table></body></html>";
  String content=new Tika().parseToString(new ByteArrayInputStream(test.getBytes(UTF_8)));
  assertContains("a",content);
  assertContains("b",content);
  assertFalse(content.contains("ab"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for change related to TIKA-463. Verify proper handling of <meta> tags.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testMetaTagHandling() throws Exception {
  final String test="<html><body><h1>header</h1><p>some text</p></body></html>";
  Metadata metadata=new Metadata();
  metadata.add("Content-Type","text/html; charset=utf-8");
  metadata.add("Language",null);
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),metadata,new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<meta name=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<meta name=\"Language\".*$",result));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-983:  HTML parser should add Open Graph meta tag data to Metadata returned by parser
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-983">TIKA-983</a>
 */
@Test public void testOpenGraphMetadata() throws Exception {
  String test1="<html><head><meta property=\"og:description\"" + " content=\"some description\" />" + "<meta property=\"og:image\" content=\"http://example.com/image1.jpg\" />"+ "<meta property=\"og:image\" content=\"http://example.com/image2.jpg\" />"+ "<title>hello</title>"+ "</head><body></body></html>";
  Metadata metadata=new Metadata();
  new HtmlParser().parse(new ByteArrayInputStream(test1.getBytes(ISO_8859_1)),new BodyContentHandler(),metadata,new ParseContext());
  assertEquals("some description",metadata.get("og:description"));
  assertTrue(metadata.isMultiValued("og:image"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-869
 * IdentityHtmlMapper needs to lower-case tag names.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-869">TIKA-869</a>
 */
@Test public void testIdentityMapper() throws Exception {
  final String html="<html><head><title>Title</title></head>" + "<body></body></html>";
  Metadata metadata=new Metadata();
  ParseContext parseContext=new ParseContext();
  parseContext.set(HtmlMapper.class,IdentityHtmlMapper.INSTANCE);
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(html.getBytes(UTF_8)),makeHtmlTransformer(sw),metadata,parseContext);
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<body/>.*$",result));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-820:  Locator is unset for HTML parser
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-820">TIKA-820</a>
 */
@Test public void testLocator() throws Exception {
  final int line=0;
  final int col=1;
  final int[] textPosition=new int[2];
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream("/test-documents/testHTML.html"),new ContentHandler(){
    Locator locator;
    public void setDocumentLocator(    Locator locator){
      this.locator=locator;
    }
    public void startDocument() throws SAXException {
    }
    public void endDocument() throws SAXException {
    }
    public void startPrefixMapping(    String prefix,    String uri) throws SAXException {
    }
    public void endPrefixMapping(    String prefix) throws SAXException {
    }
    public void startElement(    String uri,    String localName,    String qName,    Attributes atts) throws SAXException {
    }
    public void endElement(    String uri,    String localName,    String qName) throws SAXException {
    }
    public void characters(    char[] ch,    int start,    int length) throws SAXException {
      String text=new String(ch,start,length);
      if (text.equals("Test Indexation Html") && locator != null) {
        textPosition[line]=locator.getLineNumber();
        textPosition[col]=locator.getColumnNumber();
      }
    }
    public void ignorableWhitespace(    char[] ch,    int start,    int length) throws SAXException {
    }
    public void processingInstruction(    String target,    String data) throws SAXException {
    }
    public void skippedEntity(    String name) throws SAXException {
    }
  }
,new Metadata(),new ParseContext());
  assertEquals(24,textPosition[line]);
  assertTrue(Math.abs(textPosition[col] - 47) < 10);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testFrameSrcExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><frameset><frame src=\"frame.html\" /></frameset></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"http://domain.com/frame.html\"/>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testAreaExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><p><map name=\"map\" id=\"map\">"+ "<area shape=\"rect\" href=\"map.html\" alt=\"\" />"+ "</map></p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<map .*<area .* href=\"http://domain.com/map.html\".*</map>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-457. Better handling for broken HTML that has <frameset> inside of <body>.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-457">TIKA-457</a>
 */
@Test public void testBrokenFrameset() throws Exception {
  final String test1="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><frameset><frame src=\"frame.html\" /></frameset></body></html>";
  StringWriter sw1=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test1.getBytes(UTF_8)),makeHtmlTransformer(sw1),new Metadata(),new ParseContext());
  String result=sw1.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"http://domain.com/frame.html\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*$",result));
  final String test2="<html><head><title> my title </title></head><body>" + "<frameset rows=\"20,*\"><frame src=\"top.html\"></frame>" + "<frameset cols=\"20,*\"><frame src=\"left.html\"></frame>"+ "<frame src=\"invalid.html\"/></frame>"+ "<frame src=\"right.html\"></frame>"+ "</frameset></frameset></body></html>";
  StringWriter sw2=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test2.getBytes(UTF_8)),makeHtmlTransformer(sw2),new Metadata(),new ParseContext());
  result=sw2.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"top.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"left.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"invalid.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"right.html\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*$",result));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXhtmlParsing() throws Exception {
  String path="/test-documents/testXHTML.html";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(HtmlParserTest.class.getResourceAsStream(path),metadata);
  assertTrue(metadata.get(Metadata.CONTENT_TYPE).startsWith("application/xhtml+xml; charset="));
  assertEquals("XHTML test document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Tika Developers",metadata.get("Author"));
  assertEquals("5",metadata.get("refresh"));
  assertContains("ability of Apache Tika",content);
  assertContains("extract content",content);
  assertContains("an XHTML document",content);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-961
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-961">TIKA-961</a>
 */
@Test public void testBoilerplateWhitespace() throws Exception {
  String path="/test-documents/boilerplate-whitespace.html";
  Metadata metadata=new Metadata();
  BodyContentHandler handler=new BodyContentHandler();
  BoilerpipeContentHandler bpHandler=new BoilerpipeContentHandler(handler);
  bpHandler.setIncludeMarkup(true);
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),bpHandler,metadata,new ParseContext());
  String content=handler.toString();
  assertFalse(content.contains("item_aitem_b"));
  assertContains("item_a\nitem_b",content);
  assertContains("有什么需要我帮你的",content);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-564. Support returning markup from BoilerpipeContentHandler.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-564">TIKA-564</a>
 */
@Test public void testBoilerplateWithMarkup() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  ContentHandler ch=makeHtmlTransformer(sw);
  BoilerpipeContentHandler bpch=new BoilerpipeContentHandler(ch);
  bpch.setIncludeMarkup(true);
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),bpch,metadata,new ParseContext());
  String content=sw.toString();
  assertTrue("Has empty table elements",content.contains("<body><table><tr><td><table><tr><td>"));
  assertTrue("Has empty a element",content.contains("<a shape=\"rect\" href=\"Main.php\"/>"));
  assertTrue("Has real content",content.contains("<p>This is the real meat"));
  assertTrue("Ends with appropriate HTML",content.endsWith("</p></body></html>"));
  assertFalse(content.contains("boilerplate"));
  assertFalse(content.contains("footer"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.BPGParserTest </h4><pre class="type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a file with comments
 */
@Test public void testBPG_Commented() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/x-bpg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testBPG_commented.bpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("103",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("77",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("10",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("YCbCr Colour",metadata.get(Photoshop.COLOR_MODE));
  if (false) {
    assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
    List<String> keywords=Arrays.asList(metadata.getValues(Metadata.KEYWORDS));
    assertTrue(keywords.contains("coast"));
    assertTrue(keywords.contains("bird watching"));
    assertEquals(keywords,Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS)));
  }
  if (false) {
    assertEquals("1.0E-6",metadata.get(Metadata.EXPOSURE_TIME));
    assertEquals("2.8",metadata.get(Metadata.F_NUMBER));
    assertEquals("4.6",metadata.get(Metadata.FOCAL_LENGTH));
    assertEquals("114",metadata.get(Metadata.ISO_SPEED_RATINGS));
    assertEquals(null,metadata.get(Metadata.EQUIPMENT_MAKE));
    assertEquals(null,metadata.get(Metadata.EQUIPMENT_MODEL));
    assertEquals(null,metadata.get(Metadata.SOFTWARE));
    assertEquals("1",metadata.get(Metadata.ORIENTATION));
    assertEquals("300.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
    assertEquals("300.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
    assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.ImageMetadataExtractorTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExifHandlerSupports(){
  assertTrue(new ImageMetadataExtractor.ExifHandler().supports(ExifIFD0Directory.class));
  assertTrue(new ImageMetadataExtractor.ExifHandler().supports(ExifSubIFDDirectory.class));
  assertFalse(new ImageMetadataExtractor.ExifHandler().supports(Directory.class));
  assertFalse(new ImageMetadataExtractor.ExifHandler().supports(JpegCommentDirectory.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.MetadataFieldsTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsMetadataField(){
  assertFalse(MetadataFields.isMetadataField("random string that is not a field"));
  assertFalse(MetadataFields.isMetadataField("xyz"));
  assertTrue(MetadataFields.isMetadataField(TikaCoreProperties.KEYWORDS));
  assertTrue(MetadataFields.isMetadataField(TIFF.F_NUMBER.getName()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.TiffParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTIFF() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/tiff");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testTIFF.tif");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Licensed to the Apache Software Foundation (ASF) under one or " + "more contributor license agreements.  See the NOTICE file " + "distributed with this work for additional information regarding "+ "copyright ownership.",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals("3",metadata.get(Metadata.SAMPLES_PER_PIXEL));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("got " + keywords,keywords.contains("cat"));
  assertTrue("got " + keywords,keywords.contains("garden"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("got " + subject,subject.contains("cat"));
  assertTrue("got " + subject,subject.contains("garden"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.image.xmp.JempboxExtractorTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpegXnviewmp() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_xnviewmp026.jpg");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("coast"));
  assertTrue(keywords.contains("nature reserve"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpeg() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented.jpg");
  metadata.set(TikaCoreProperties.TITLE,"old title");
  metadata.set(TikaCoreProperties.DESCRIPTION,"old description");
  metadata.set(TikaCoreProperties.CREATOR,"previous author");
  metadata.add(TikaCoreProperties.KEYWORDS,"oldkeyword");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("oldkeyword"));
  assertTrue(keywords.contains("grazelands"));
  assertTrue(keywords.contains("nature reserve"));
  assertTrue(keywords.contains("bird watching"));
  assertTrue(keywords.contains("coast"));
  Collection<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue(subject.contains("oldkeyword"));
  assertTrue(subject.contains("grazelands"));
  assertTrue(subject.contains("nature reserve"));
  assertTrue(subject.contains("bird watching"));
  assertTrue(subject.contains("coast"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseJpegPhotoshop() throws IOException, TikaException {
  Metadata metadata=new Metadata();
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_pspcs2mac.jpg");
  JempboxExtractor extractor=new JempboxExtractor(metadata);
  extractor.parse(stream);
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  Collection<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue(keywords.contains("bird watching"));
  assertTrue(keywords.contains("coast"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.iwork.IWorkParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseNumbers() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testNumbers.numbers");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 8);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.PAGE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.COMMENTS.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.TITLE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
  assertEquals("Tika User",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Account checking",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("a comment",metadata.get(TikaCoreProperties.COMMENTS));
  String content=handler.toString();
  assertContains("Category",content);
  assertContains("Home",content);
  assertContains("-226",content);
  assertContains("-137.5",content);
  assertContains("Checking Account: 300545668",content);
  assertContains("4650",content);
  assertContains("Credit Card",content);
  assertContains("Groceries",content);
  assertContains("-210",content);
  assertContains("Food",content);
  assertContains("Try adding your own account transactions to this table.",content);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testKeynoteTextBoxes() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testTextBoxes.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  String content=handler.toString();
  assertTrue(content.replaceAll("\\s+"," ").contains("text1 text2 text3"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testKeynoteBulletPoints() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testBulletPoints.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  String content=handler.toString();
  assertTrue(content.replaceAll("\\s+"," ").contains("bullet point 1 bullet point 2 bullet point 3"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseKeynote() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testKeynote.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 6);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.SLIDE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertEquals("application/vnd.apple.keynote",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("3",metadata.get(Metadata.SLIDE_COUNT));
  assertEquals("1024",metadata.get(KeynoteContentHandler.PRESENTATION_WIDTH));
  assertEquals("768",metadata.get(KeynoteContentHandler.PRESENTATION_HEIGHT));
  assertEquals("Tika user",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Apache tika",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("A sample presentation",content);
  assertContains("For the Apache Tika project",content);
  assertContains("Slide 1",content);
  assertContains("Some random text for the sake of testability.",content);
  assertContains("A nice comment",content);
  assertContains("A nice note",content);
  assertContains("Cell one",content);
  assertContains("Cell two",content);
  assertContains("Cell three",content);
  assertContains("Cell four",content);
  assertContains("Cell 5",content);
  assertContains("Cell six",content);
  assertContains("7",content);
  assertContains("Cell eight",content);
  assertContains("5/5/1985",content);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsePages() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testPages.pages");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  assertTrue("Insufficient metadata found " + metadata.size(),metadata.size() >= 50);
  List<String> metadataKeys=Arrays.asList(metadata.names());
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.CONTENT_TYPE));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.PAGE_COUNT.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.CREATOR.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(TikaCoreProperties.TITLE.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.LAST_MODIFIED.getName()));
  assertTrue("Metadata not found in " + metadataKeys,metadataKeys.contains(Metadata.LANGUAGE));
  assertEquals("application/vnd.apple.pages",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Tika user",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Apache tika",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("2010-05-09T21:34:38+0200",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2010-05-09T23:50:36+0200",metadata.get(Metadata.LAST_MODIFIED));
  assertEquals("en",metadata.get(TikaCoreProperties.LANGUAGE));
  assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
  String content=handler.toString();
  assertContains("Sample pages document",content);
  assertContains("Some plain text to parse.",content);
  assertContains("Cell one",content);
  assertContains("Cell two",content);
  assertContains("Cell three",content);
  assertContains("Cell four",content);
  assertContains("Cell five",content);
  assertContains("Cell six",content);
  assertContains("Cell seven",content);
  assertContains("Cell eight",content);
  assertContains("Cell nine",content);
  assertContains("Both Pages 1.x and Keynote 2.x",content);
  assertContains("A second page....",content);
  assertContains("Extensible Markup Language",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.jpeg.JpegParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescriptionXnviewmp() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_xnviewmp026.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  String[] subject=metadata.getValues(TikaCoreProperties.KEYWORDS);
  List<String> keywords=Arrays.asList(subject);
  assertTrue("'coast'" + " not in " + keywords,keywords.contains("coast"));
  assertTrue("'nature reserve'" + " not in " + keywords,keywords.contains("nature reserve"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescriptionPhotoshop() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_pspcs2mac.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("got " + keywords,keywords.contains("bird watching"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("got " + subject,subject.contains("bird watching"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEG() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_EXIF.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("100",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("68",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,metadata.get(Metadata.SAMPLES_PER_PIXEL));
  assertEquals("6.25E-4",metadata.get(Metadata.EXPOSURE_TIME));
  assertEquals("5.6",metadata.get(Metadata.F_NUMBER));
  assertEquals("false",metadata.get(Metadata.FLASH_FIRED));
  assertEquals("194.0",metadata.get(Metadata.FOCAL_LENGTH));
  assertEquals("400",metadata.get(Metadata.ISO_SPEED_RATINGS));
  assertEquals("Canon",metadata.get(Metadata.EQUIPMENT_MAKE));
  assertEquals("Canon EOS 40D",metadata.get(Metadata.EQUIPMENT_MODEL));
  assertEquals("Adobe Photoshop CS3 Macintosh",metadata.get(Metadata.SOFTWARE));
  assertEquals(null,metadata.get(Metadata.ORIENTATION));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
  assertEquals("240.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
  assertEquals("Canon EOS 40D",metadata.get("Model"));
  assertEquals("Date/Time Original for when the photo was taken, unspecified time zone","2009-08-11T09:09:45",metadata.get(TikaCoreProperties.CREATED));
  List<String> keywords=Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS));
  assertTrue("'canon-55-250' expected in " + keywords,keywords.contains("canon-55-250"));
  assertTrue("'moscow-birds' expected in " + keywords,keywords.contains("moscow-birds"));
  assertTrue("'serbor' expected in " + keywords,keywords.contains("serbor"));
  assertFalse(keywords.contains("canon-55-250 moscow-birds serbor"));
  List<String> subject=Arrays.asList(metadata.getValues(Metadata.SUBJECT));
  assertTrue("'canon-55-250' expected in " + subject,subject.contains("canon-55-250"));
  assertTrue("'moscow-birds' expected in " + subject,subject.contains("moscow-birds"));
  assertTrue("'serbor' expected in " + subject,subject.contains("serbor"));
  assertFalse(subject.contains("canon-55-250 moscow-birds serbor"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescription() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Tosteberga \u00C4ngar",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  assertEquals("Some Tourist",metadata.get(TikaCoreProperties.CREATOR));
  List<String> keywords=Arrays.asList(metadata.getValues(Metadata.KEYWORDS));
  assertTrue(keywords.contains("coast"));
  assertTrue(keywords.contains("bird watching"));
  assertEquals(keywords,Arrays.asList(metadata.getValues(TikaCoreProperties.KEYWORDS)));
  assertEquals("103",metadata.get(Metadata.IMAGE_WIDTH));
  assertEquals("77",metadata.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",metadata.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,metadata.get(Metadata.SAMPLES_PER_PIXEL));
  assertEquals("1.0E-6",metadata.get(Metadata.EXPOSURE_TIME));
  assertEquals("2.8",metadata.get(Metadata.F_NUMBER));
  assertEquals("4.6",metadata.get(Metadata.FOCAL_LENGTH));
  assertEquals("114",metadata.get(Metadata.ISO_SPEED_RATINGS));
  assertEquals(null,metadata.get(Metadata.EQUIPMENT_MAKE));
  assertEquals(null,metadata.get(Metadata.EQUIPMENT_MODEL));
  assertEquals(null,metadata.get(Metadata.SOFTWARE));
  assertEquals("1",metadata.get(Metadata.ORIENTATION));
  assertEquals("300.0",metadata.get(Metadata.RESOLUTION_HORIZONTAL));
  assertEquals("300.0",metadata.get(Metadata.RESOLUTION_VERTICAL));
  assertEquals("Inch",metadata.get(Metadata.RESOLUTION_UNIT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mail.RFC822ParserTest </h4><pre class="type-9 type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipart(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822-multipart");
  ContentHandler handler=mock(XHTMLContentHandler.class);
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    verify(handler).startDocument();
    int bodyExpectedTimes=4, multipackExpectedTimes=5;
    if (!TesseractOCRParserTest.canRun()) {
      verify(handler,times(bodyExpectedTimes)).startElement(eq(XHTMLContentHandler.XHTML),eq("div"),eq("div"),any(Attributes.class));
      verify(handler,times(bodyExpectedTimes)).endElement(XHTMLContentHandler.XHTML,"div","div");
    }
    verify(handler,times(multipackExpectedTimes)).startElement(eq(XHTMLContentHandler.XHTML),eq("p"),eq("p"),any(Attributes.class));
    verify(handler,times(multipackExpectedTimes)).endElement(XHTMLContentHandler.XHTML,"p","p");
    verify(handler).endDocument();
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
  parser=new RFC822Parser();
  metadata=new Metadata();
  stream=getStream("test-documents/testRFC822-multipart");
  handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    String bodyText=handler.toString();
    assertTrue(bodyText.contains("body 1"));
    assertTrue(bodyText.contains("body 2"));
    assertFalse(bodyText.contains("R0lGODlhNgE8AMQAA"));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQuotedPrintable(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822_quoted");
  ContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    String bodyText=handler.toString();
    assertTrue(bodyText.contains("D\u00FCsseldorf has non-ascii."));
    assertTrue(bodyText.contains("Lines can be split like this."));
    assertTrue(bodyText.contains("Spaces at the end of a line \r\nmust be encoded.\r\n"));
    assertFalse(bodyText.contains("="));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mbox.OutlookPSTParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParse() throws Exception {
  Parser pstParser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new ToHTMLContentHandler();
  ParseContext context=new ParseContext();
  EmbeddedTrackingExtrator trackingExtrator=new EmbeddedTrackingExtrator(context);
  context.set(EmbeddedDocumentExtractor.class,trackingExtrator);
  context.set(Parser.class,new AutoDetectParser());
  pstParser.parse(getResourceAsStream("/test-documents/testPST.pst"),handler,metadata,context);
  String output=handler.toString();
  assertFalse(output.isEmpty());
  assertTrue(output.contains("<meta name=\"Content-Length\" content=\"271360\">"));
  assertTrue(output.contains("<meta name=\"Content-Type\" content=\"application/vnd.ms-outlook-pst\">"));
  assertTrue(output.contains("<body><div class=\"email-folder\"><h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;530D9CAC.5080901@gmail.com&gt;\"><h1>Re: Feature Generators</h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;1393363252.28814.YahooMailNeo@web140906.mail.bf1.yahoo.com&gt;\"><h1>Re: init tokenizer fails: \"Bad type in putfield/putstatic\"</h1>"));
  assertTrue(output.contains("Gary Murphy commented on TIKA-1250:"));
  assertTrue(output.contains("<div class=\"email-folder\"><h1>Racine (pour la recherche)</h1>"));
  List<Metadata> metaList=trackingExtrator.trackingMetadata;
  assertEquals(6,metaList.size());
  Metadata firstMail=metaList.get(0);
  assertEquals("Jörn Kottmann",firstMail.get(TikaCoreProperties.CREATOR));
  assertEquals("Re: Feature Generators",firstMail.get(TikaCoreProperties.TITLE));
  assertEquals("kottmann@gmail.com",firstMail.get("senderEmailAddress"));
  assertEquals("users@opennlp.apache.org",firstMail.get("displayTo"));
  assertEquals("",firstMail.get("displayCC"));
  assertEquals("",firstMail.get("displayBCC"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAccept() throws Exception {
  assertTrue((parser.getSupportedTypes(null).contains(MediaType.application("vnd.ms-outlook-pst"))));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ExcelParserTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExcelParserFormatting() throws Exception {
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL-formats.xls")){
    Metadata metadata=new Metadata();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    ContentHandler handler=new BodyContentHandler();
    new OfficeParser().parse(input,handler,metadata,context);
    assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
    String content=handler.toString();
    assertContains("1,599.99",content);
    assertContains("-1,599.99",content);
    assertContains("$1,599.99",content);
    assertContains("($1,599.99)",content);
    assertTrue(content.contains("1.98E08") || content.contains("1.98E+08"));
    assertTrue(content.contains("-1.98E08") || content.contains("-1.98E+08"));
    assertContains("2.50%",content);
    if (System.getProperty("java.version").startsWith("1.5")) {
      assertContains("2%",content);
    }
 else {
      assertContains("3%",content);
    }
    assertContains("6:15",content);
    assertContains("18:15",content);
    assertContains("17-May-07",content);
    assertContains("10/3/09",content);
    assertContains("1/19/08 4:35",content);
    assertContains("2 1/2",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.JackcessParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPassword() throws Exception {
  ParseContext c=new ParseContext();
  c.set(PasswordProvider.class,new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return "tika";
    }
  }
);
  Parser p=new AutoDetectParser();
  String content=null;
  try (InputStream is=this.getResourceAsStream("/test-documents/testAccess2_encrypted.accdb")){
    content=getText(is,p,c);
  }
   assertContains("red and brown",content);
  c.set(PasswordProvider.class,new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return "WRONG";
    }
  }
);
  boolean ex=false;
  try (InputStream is=this.getResourceAsStream("/test-documents/testAccess2_encrypted.accdb")){
    getText(is,p,c);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  assertTrue("failed to throw encrypted document exception for wrong password",ex);
  c.set(PasswordProvider.class,new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return null;
    }
  }
);
  ex=false;
  try (InputStream is=this.getResourceAsStream("/test-documents/testAccess2_encrypted.accdb")){
    getText(is,p,c);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  assertTrue("failed to throw encrypted document exception for null password",ex);
  c=new ParseContext();
  ex=false;
  try (InputStream is=this.getResourceAsStream("/test-documents/testAccess2_encrypted.accdb")){
    getText(is,p,c);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  assertTrue("failed to throw encrypted document exception for missing password provider",ex);
  c=new ParseContext();
  c.set(PasswordProvider.class,new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return "tika";
    }
  }
);
  ex=false;
  try (InputStream is=this.getResourceAsStream("/test-documents/testAccess2.accdb")){
    content=getText(is,p,c);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  assertFalse("shouldn't have thrown encrypted document exception for " + "opening unencrypted file that doesn't need passowrd",ex);
  assertContains("red and brown",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OfficeParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void parseOfficeWord() throws Exception {
  Metadata metadata=new Metadata();
  Parser parser=new OfficeParser();
  String xml=getXML(getTestDocument("test.doc"),parser,metadata).xml;
  assertTrue(xml.contains("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OutlookParserTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-197
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-197">TIKA-197</a>
 */
@Test public void testMultipleCopies() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/testMSG.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("application/vnd.ms-outlook",metadata.get(Metadata.CONTENT_TYPE));
  String content=handler.toString();
  Pattern pattern=Pattern.compile("From");
  Matcher matcher=pattern.matcher(content);
  assertTrue(matcher.find());
  assertFalse(matcher.find());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.POIContainerExtractionTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPowerpointImages() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("pictures.ppt",extractor,false);
  assertTrue(handler.mediaTypes.contains(new MediaType("image","jpeg")));
  assertTrue(handler.mediaTypes.contains(new MediaType("image","png")));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedOfficeFilesXML() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("EmbeddedDocument.docx",extractor,false);
  assertTrue(handler.filenames.contains("Microsoft_Office_Excel_97-2003_Worksheet1.bin"));
  assertEquals(2,handler.filenames.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.WordParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedNames() throws Exception {
  String result=getXML("testWORD_embedded_pdf.doc").xml;
  int i=result.indexOf("Here is the pdf file:");
  assertTrue(i != -1);
  int j=result.indexOf("<div class=\"embedded\" id=\"_1402837031\" />");
  assertTrue(j != -1);
  int k=result.indexOf("Bye Bye");
  assertTrue(k != -1);
  assertTrue(i < j);
  assertTrue(j < k);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedRTF() throws Exception {
  String result=getXML("testWORD_embedded_rtf.doc").xml;
  assertTrue(result.contains("<div class=\"embedded\" id=\"_1404039792\" />"));
  assertTrue(result.contains("_1404039792.rtf"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDocumentLink() throws Exception {
  String result=getXML("testDocumentLink.doc").xml;
  assertTrue(result.contains("<div class=\"embedded\" id=\"_1327495610\" />"));
  assertTrue(result.contains("_1327495610.unknown"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the word converter is able to generate the
 * correct HTML for the document
 */
@Test public void testWordHTML() throws Exception {
  XMLResult result=getXML("testWORD.doc");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
  assertTrue(xml.contains("Sample Word Document"));
  assertTrue(xml.contains("<h1 class=\"title\">"));
  assertTrue(xml.contains("<h1>Heading Level 1</h1>"));
  assertTrue(xml.contains("<h3>Heading Level 3</h3>"));
  assertTrue(xml.contains("<b>BOLD</b>"));
  assertTrue(xml.contains("<i>ITALIC</i>"));
  assertTrue(xml.contains("<table>"));
  assertTrue(xml.contains("<td>"));
  assertTrue(xml.contains("<a href=\"http://tika.apache.org/\">Tika</a>"));
  assertTrue(xml.contains("<p class=\"signature\">This one"));
  xml=getXML("testWORD_3imgs.doc").xml;
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image1.png\""));
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image2.jpg\""));
  assertTrue("Image not found in:\n" + xml,xml.contains("src=\"embedded:image3.png\""));
  assertTrue(xml.contains("<p>The end!"));
  xml=getXML("testWORD_bold_character_runs.doc").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
  xml=getXML("testWORD_bold_character_runs2.doc").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1229 Hyperlinks in Headers should be output as such,
 * not plain text with control characters
 */
@Test public void testHeaderHyperlinks() throws Exception {
  XMLResult result=getXML("testWORD_header_hyperlink.doc");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/msword",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Lutz Theurer",metadata.get(TikaCoreProperties.CREATOR));
  assertContains("example.com",xml);
  assertFalse(xml.contains("HYPERLINK"));
  assertContains("<a href=\"http://tw-systemhaus.de\">http:",xml);
  assertContains("<a href=\"mailto:ab@example.com\">ab@",xml);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ooxml.OOXMLParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testWordMissingOOXMLBeans() throws Exception {
  String[] fileNames=new String[]{"testWORD_missing_ooxml_bean1.docx"};
  PrintStream origErr=System.err;
  for (  String fileName : fileNames) {
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    InputStream input=getTestDocument(fileName);
    ByteArrayOutputStream errContent=new ByteArrayOutputStream();
    System.setErr(new PrintStream(errContent,true,UTF_8.name()));
    parser.parse(input,handler,metadata,context);
    System.setErr(origErr);
    String err=errContent.toString(UTF_8.name());
    assertTrue(err.length() == 0);
    input.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPPTXThumbnail() throws Exception {
  String xml=getXML("testPPTX_Thumbnail.pptx").xml;
  int a=xml.indexOf("<body><div class=\"slide-content\"><p>This file contains an embedded thumbnail");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.jpeg\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExcelFormats() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  context.set(Locale.class,Locale.US);
  try (InputStream input=getTestDocument("testEXCEL-formats.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    String content=handler.toString();
    assertContains("1,599.99",content);
    assertContains("-1,599.99",content);
    assertContains("$1,599.99",content);
    assertContains("$1,599.99)",content);
    assertTrue(content.contains("1.98E08") || content.contains("1.98E+08"));
    assertTrue(content.contains("-1.98E08") || content.contains("-1.98E+08"));
    assertContains("2.50%",content);
    if (System.getProperty("java.version").startsWith("1.5")) {
      assertContains("2%",content);
    }
 else {
      assertContains("3%",content);
    }
    assertContains("6:15",content);
    assertContains("18:15",content);
    assertContains("17-May-07",content);
    assertContains("$1,599.99",content);
    assertContains("($1,599.99)",content);
    assertContains("2 1/2",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedPDF() throws Exception {
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"no");
  handler.setResult(new StreamResult(sw));
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/testWORD_embedded_pdf.docx")){
    new OOXMLParser().parse(input,handler,metadata,new ParseContext());
  }
   String xml=sw.toString();
  int i=xml.indexOf("Here is the pdf file:");
  int j=xml.indexOf("<div class=\"embedded\" id=\"rId5\"/>");
  int k=xml.indexOf("Bye Bye");
  int l=xml.indexOf("<div class=\"embedded\" id=\"rId6\"/>");
  int m=xml.indexOf("Bye for real.");
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(k != -1);
  assertTrue(l != -1);
  assertTrue(m != -1);
  assertTrue(i < j);
  assertTrue(j < k);
  assertTrue(k < l);
  assertTrue(l < m);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the plain text output of the Word converter
 * @throws Exception
 */
@Test public void testWord() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  try (InputStream input=getTestDocument("testWORD.docx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
    assertTrue(handler.toString().contains("Sample Word Document"));
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that the word converter is able to generate the
 * correct HTML for the document
 */
@Test public void testWordHTML() throws Exception {
  XMLResult result=getXML("testWORD.docx");
  String xml=result.xml;
  Metadata metadata=result.metadata;
  assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Sample Word Document",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Keith Bennett",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Keith Bennett",metadata.get(Metadata.AUTHOR));
  assertTrue(xml.contains("Sample Word Document"));
  assertTrue(xml.contains("<h1 class=\"title\">"));
  assertTrue(xml.contains("<h1>Heading Level 1</h1>"));
  assertTrue(xml.contains("<h2>Heading Level 2</h2>"));
  assertTrue(xml.contains("<h3><a name=\"OnLevel3\" />Heading Level 3</h3>"));
  assertTrue(xml.contains("<b>BOLD</b>"));
  assertTrue(xml.contains("<i>ITALIC</i>"));
  assertTrue(xml.contains("<table>"));
  assertTrue(xml.contains("<td>"));
  assertTrue(xml.contains("<a href=\"http://tika.apache.org/\">Tika</a>"));
  assertTrue(xml.contains("<a href=\"#OnMainHeading\">The Main Heading Bookmark</a>"));
  assertTrue(xml.contains("<p class=\"signature\">This one"));
  result=getXML("testWORD_3imgs.docx");
  xml=result.xml;
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image2.png\" alt=\"A description...\" />"));
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image3.jpeg\" alt=\"A description...\" />"));
  assertTrue("Image not found in:\n" + xml,xml.contains("<img src=\"embedded:image4.png\" alt=\"A description...\" />"));
  assertTrue(xml.contains("<p>The end!</p>"));
  xml=getXML("testWORD_bold_character_runs.docx").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
  xml=getXML("testWORD_bold_character_runs2.docx").xml;
  assertTrue("Bold text wasn't contiguous: " + xml,xml.contains("F<b>oob</b>a<b>r</b>"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEncrypted() throws Exception {
  Map<String,String> tests=new HashMap<String,String>();
  tests.put("testWORD_protected_passtika.docx","This is an encrypted Word 2007 File");
  tests.put("testPPT_protected_passtika.pptx","This is an encrypted PowerPoint 2007 slide.");
  tests.put("testEXCEL_protected_passtika.xlsx","This is an Encrypted Excel spreadsheet.");
  Parser parser=new AutoDetectParser();
  Metadata m=new Metadata();
  PasswordProvider passwordProvider=new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return "tika";
    }
  }
;
  ParseContext passwordContext=new ParseContext();
  passwordContext.set(org.apache.tika.parser.PasswordProvider.class,passwordProvider);
  for (  Map.Entry<String,String> e : tests.entrySet()) {
    try (InputStream is=getTestDocument(e.getKey())){
      ContentHandler handler=new BodyContentHandler();
      parser.parse(is,handler,m,passwordContext);
      assertContains(e.getValue(),handler.toString());
    }
   }
  ParseContext context=new ParseContext();
  for (  Map.Entry<String,String> e : tests.entrySet()) {
    boolean exc=false;
    try (InputStream is=getTestDocument(e.getKey())){
      ContentHandler handler=new BodyContentHandler();
      parser.parse(is,handler,m,context);
    }
 catch (    EncryptedDocumentException ex) {
      exc=true;
    }
    assertTrue(exc);
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXLSXThumbnail() throws Exception {
  String xml=getXML("testXLSX_Thumbnail.xlsx").xml;
  int a=xml.indexOf("This file contains an embedded thumbnail by default");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.wmf\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDOCXThumbnail() throws Exception {
  String xml=getXML("testDOCX_Thumbnail.docx").xml;
  int a=xml.indexOf("This file contains a thumbnail");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.emf\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that we can extract image from docx header
 */
@Test public void testWordPicturesInHeader() throws Exception {
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"yes");
  handler.setResult(new StreamResult(sw));
  try (InputStream input=getTestDocument("headerPic.docx")){
    parser.parse(input,handler,metadata,context);
    String xml=sw.toString();
    assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
    assertTrue(xml.contains("<img"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-7 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * We have a number of different powerpoint files,
 * such as presentation, macro-enabled etc
 */
@Test public void testPowerPoint() throws Exception {
  String[] extensions=new String[]{"pptx","pptm","ppsm","ppsx","potm"};
  String[] mimeTypes=new String[]{"application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.template.macroenabled.12"};
  for (int i=0; i < extensions.length; i++) {
    String extension=extensions[i];
    String filename="testPPT." + extension;
    Parser parser=new AutoDetectParser();
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    try (InputStream input=getTestDocument(filename)){
      parser.parse(input,handler,metadata,context);
      assertEquals("Mime-type checking for " + filename,mimeTypes[i],metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Attachment Test",metadata.get(TikaCoreProperties.TITLE));
      assertEquals("Rajiv",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Rajiv",metadata.get(Metadata.AUTHOR));
      String content=handler.toString();
      if (extension.equals("thmx")) {
        assertEquals("",content);
      }
 else {
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Attachment Test"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("This is a test file data with the same content"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("content parsing"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Different words to test against"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Mystery"));
      }
    }
   }
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedZipInPPTX() throws Exception {
  String xml=getXML("test_embedded_zip.pptx").xml;
  int h=xml.indexOf("<div class=\"embedded\" id=\"slide1_rId3\" />");
  int i=xml.indexOf("Send me a note");
  int j=xml.indexOf("<div class=\"embedded\" id=\"slide2_rId4\" />");
  int k=xml.indexOf("<p>No title</p>");
  assertTrue(h != -1);
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(k != -1);
  assertTrue(h < i);
  assertTrue(i < j);
  assertTrue(j < k);
}

</code></pre>

<br>
<pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the plain text output of the Word converter
 * @throws Exception
 */
@Test public void testWordFootnote() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  try (InputStream input=getTestDocument("footnotes.docx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
    assertTrue(handler.toString().contains("snoska"));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mock.MockParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHeavyHang() throws Exception {
  long start=new Date().getTime();
  Metadata m=new Metadata();
  String content=getXML("heavy_hang.xml",m).xml;
  assertMockParser(m);
  long elapsed=new Date().getTime() - start;
  boolean enoughTimeHasElapsed=elapsed > 2000;
  assertTrue("not enough time has elapsed: " + elapsed,enoughTimeHasElapsed);
  assertMockParser(m);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNonInterruptibleSleep(){
  ParserRunnable r=new ParserRunnable("sleep_not_interruptible.xml");
  Thread t=new Thread(r);
  t.start();
  long start=new Date().getTime();
  try {
    Thread.sleep(1000);
  }
 catch (  InterruptedException e) {
  }
  t.interrupt();
  try {
    t.join(20000);
  }
 catch (  InterruptedException e) {
  }
  long elapsed=new Date().getTime() - start;
  boolean longEnough=elapsed > 3000;
  assertTrue("elapsed (" + elapsed + " millis) was not long enough",longEnough);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSleep() throws Exception {
  long start=new Date().getTime();
  Metadata m=new Metadata();
  String content=getXML("sleep.xml",m).xml;
  assertMockParser(m);
  long elapsed=new Date().getTime() - start;
  boolean enoughTimeHasElapsed=elapsed > 2000;
  assertTrue("not enough time has not elapsed: " + elapsed,enoughTimeHasElapsed);
  assertMockParser(m);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInterruptibleSleep(){
  ParserRunnable r=new ParserRunnable("sleep_interruptible.xml");
  Thread t=new Thread(r);
  t.start();
  long start=new Date().getTime();
  try {
    Thread.sleep(1000);
  }
 catch (  InterruptedException e) {
  }
  t.interrupt();
  try {
    t.join(10000);
  }
 catch (  InterruptedException e) {
  }
  long elapsed=new Date().getTime() - start;
  boolean shortEnough=elapsed < 2000;
  assertTrue("elapsed (" + elapsed + " millis) was not short enough",shortEnough);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mp3.MpegStreamTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tries to skip a frame if no current header is available.
 */
@Test public void testSkipNoCurrentHeader() throws IOException {
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  bos.write("This is a test".getBytes(UTF_8));
  ByteArrayInputStream in=new ByteArrayInputStream(bos.toByteArray());
  stream=new MpegStream(in);
  assertFalse("Wrong result",stream.skipFrame());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ner.regex.RegexNERecogniserTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetEntityTypes() throws Exception {
  String text="Hey, Lets meet on this Sunday or MONDAY because i am busy on Saturday";
  System.setProperty(NamedEntityParser.SYS_PROP_NER_IMPL,RegexNERecogniser.class.getName());
  Tika tika=new Tika(new TikaConfig(NamedEntityParser.class.getResourceAsStream("tika-config.xml")));
  Metadata md=new Metadata();
  tika.parse(new ByteArrayInputStream(text.getBytes(StandardCharsets.UTF_8)),md);
  Set<String> days=new HashSet<>(Arrays.asList(md.getValues("NER_WEEK_DAY")));
  assertTrue(days.contains("Sunday"));
  assertTrue(days.contains("MONDAY"));
  assertTrue(days.contains("Saturday"));
  assertTrue(days.size() == 3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ocr.TesseractOCRConfigTest </h4><pre class="type-5 type-18 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testValidatePageSegMode(){
  TesseractOCRConfig config=new TesseractOCRConfig();
  config.setPageSegMode("0");
  config.setPageSegMode("10");
  assertTrue("Couldn't set valid values",true);
  config.setPageSegMode("11");
}

</code></pre>

<br>
<pre class="type-5 type-18 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testValidateLanguage(){
  TesseractOCRConfig config=new TesseractOCRConfig();
  config.setLanguage("eng");
  config.setLanguage("eng+fra");
  assertTrue("Couldn't set valid values",true);
  config.setLanguage("rm -Rf *");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ocr.TesseractOCRParserTest </h4><pre class="type-4 type-5 type-16 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Sets implicit assumptions 
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void offersTypesIfFound() throws Exception {
  TesseractOCRParser parser=new TesseractOCRParser();
  DefaultParser defaultParser=new DefaultParser();
  ParseContext parseContext=new ParseContext();
  MediaType png=MediaType.image("png");
  assumeTrue(canRun());
  assertEquals(5,parser.getSupportedTypes(parseContext).size());
  assertTrue(parser.getSupportedTypes(parseContext).contains(png));
  assertEquals(TesseractOCRParser.class,defaultParser.getParsers(parseContext).get(png).getClass());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getNormalMetadataToo() throws Exception {
  Metadata m=getXML("testGIF.gif").metadata;
  assertTrue(m.names().length > 20);
  assertEquals("RGB",m.get("Chroma ColorSpaceType"));
  m=getXML("testOCR.jpg").metadata;
  assertEquals("136",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("66",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("8",m.get(Metadata.BITS_PER_SAMPLE));
  assertEquals(null,m.get(Metadata.SAMPLES_PER_PIXEL));
  assertContains("This is a test Apache Tika imag",m.get(Metadata.COMMENTS));
  m=getXML("testBMP.bmp").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  m=getXML("testPNG.png").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("UnsignedIntegral",m.get("Data SampleFormat"));
  m=getXML("testTIFF.tif").metadata;
  assertEquals("100",m.get(Metadata.IMAGE_WIDTH));
  assertEquals("75",m.get(Metadata.IMAGE_LENGTH));
  assertEquals("72 dots per inch",m.get("Y Resolution"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.odf.ODFParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Similar to {@link #testXMLParser()}, but using an OO3 file
 */
@Test public void testOO3Metadata() throws Exception {
  try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testODFwithOOo3.odt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OpenDocumentParser().parse(input,handler,metadata);
    assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2009-10-05T21:22:38",metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2009-10-05T19:04:01",metadata.get(TikaCoreProperties.CREATED));
    assertEquals("2009-10-05T19:04:01",metadata.get(Metadata.CREATION_DATE));
    assertEquals("Apache Tika",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Test document",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Test document",metadata.get(Metadata.SUBJECT));
    assertEquals("A rather complex document",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Bart Hanssens",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Bart Hanssens",metadata.get("initial-creator"));
    assertEquals("2",metadata.get("editing-cycles"));
    assertEquals("PT02H03M24S",metadata.get(Metadata.EDIT_TIME));
    assertEquals("OpenOffice.org/3.1$Unix OpenOffice.org_project/310m19$Build-9420",metadata.get("generator"));
    assertEquals("Apache, Lucene, Tika",metadata.get(Metadata.KEYWORDS));
    assertEquals("Bart Hanssens",metadata.get("custom:Editor"));
    assertEquals(null,metadata.get("custom:Info 2"));
    assertEquals(null,metadata.get("custom:Info 3"));
    assertEquals(null,metadata.get("custom:Info 4"));
    assertEquals("2",metadata.get(Office.PAGE_COUNT));
    assertEquals("13",metadata.get(Office.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Office.WORD_COUNT));
    assertEquals("351",metadata.get(Office.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Office.TABLE_COUNT));
    assertEquals("2",metadata.get(Office.OBJECT_COUNT));
    assertEquals("0",metadata.get(Office.IMAGE_COUNT));
    assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
    assertEquals("13",metadata.get(Metadata.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Metadata.WORD_COUNT));
    assertEquals("351",metadata.get(Metadata.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
    assertEquals("2",metadata.get(Metadata.OBJECT_COUNT));
    assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
    assertEquals("0",metadata.get("nbTab"));
    assertEquals("2",metadata.get("nbObject"));
    assertEquals("0",metadata.get("nbImg"));
    assertEquals("2",metadata.get("nbPage"));
    assertEquals("13",metadata.get("nbPara"));
    assertEquals("54",metadata.get("nbWord"));
    assertEquals("351",metadata.get("nbCharacter"));
    String content=handler.toString();
    assertTrue(content.contains("Apache Tika Tika is part of the Lucene project."));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOO2() throws Exception {
  for (  Parser parser : getParsers()) {
    try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testOpenOffice2.odt")){
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      parser.parse(input,handler,metadata,new ParseContext());
      assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("en-US",metadata.get(Metadata.LANGUAGE));
      assertEquals("PT1M7S",metadata.get(Metadata.EDIT_TIME));
      assertEquals("NeoOffice/2.2$Unix OpenOffice.org_project/680m18$Build-9161",metadata.get("generator"));
      assertEquals("2007-09-14T11:07:10",metadata.get(TikaCoreProperties.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.DATE));
      assertEquals("2007-09-14T11:06:08",metadata.get(TikaCoreProperties.CREATED));
      assertEquals("2007-09-14T11:06:08",metadata.get(Metadata.CREATION_DATE));
      assertEquals("1",metadata.get(Office.PAGE_COUNT));
      assertEquals("1",metadata.get(Office.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Office.WORD_COUNT));
      assertEquals("78",metadata.get(Office.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Office.TABLE_COUNT));
      assertEquals("0",metadata.get(Office.OBJECT_COUNT));
      assertEquals("0",metadata.get(Office.IMAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Metadata.WORD_COUNT));
      assertEquals("78",metadata.get(Metadata.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
      assertEquals("0",metadata.get(Metadata.OBJECT_COUNT));
      assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
      assertEquals("0",metadata.get("nbTab"));
      assertEquals("0",metadata.get("nbObject"));
      assertEquals("0",metadata.get("nbImg"));
      assertEquals("1",metadata.get("nbPage"));
      assertEquals("1",metadata.get("nbPara"));
      assertEquals("14",metadata.get("nbWord"));
      assertEquals("78",metadata.get("nbCharacter"));
      assertEquals(null,metadata.get("custom:Info 1"));
      assertEquals(null,metadata.get("custom:Info 2"));
      assertEquals(null,metadata.get("custom:Info 3"));
      assertEquals(null,metadata.get("custom:Info 4"));
      String content=handler.toString();
      assertTrue(content.contains("This is a sample Open Office document," + " written in NeoOffice 2.2.1 for the Mac."));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pdf.AccessCheckerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLegacy() throws AccessPermissionException {
  Metadata m=getMetadata(false,false);
  AccessChecker checker=new AccessChecker();
  checker.check(m);
  assertTrue("no exception",true);
  m=getMetadata(false,true);
  assertTrue("no exception",true);
  checker.check(m);
  m=getMetadata(true,true);
  assertTrue("no exception",true);
  checker.check(m);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCantAddMultiplesToMetadata(){
  Metadata m=new Metadata();
  boolean ex=false;
  m.add(AccessPermissions.EXTRACT_CONTENT,"true");
  try {
    m.add(AccessPermissions.EXTRACT_CONTENT,"false");
  }
 catch (  PropertyTypeException e) {
    ex=true;
  }
  assertTrue("can't add multiple values",ex);
  m=new Metadata();
  ex=false;
  m.add(AccessPermissions.EXTRACT_FOR_ACCESSIBILITY,"true");
  try {
    m.add(AccessPermissions.EXTRACT_FOR_ACCESSIBILITY,"false");
  }
 catch (  PropertyTypeException e) {
    ex=true;
  }
  assertTrue("can't add multiple values",ex);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoExtraction(){
  Metadata m=null;
  AccessChecker checker=new AccessChecker(false);
  boolean ex=false;
  try {
    m=getMetadata(false,false);
    checker.check(m);
  }
 catch (  AccessPermissionException e) {
    ex=true;
  }
  assertTrue("correct exception with no extraction, no extract for accessibility",ex);
  ex=false;
  try {
    m=getMetadata(false,true);
    checker.check(m);
  }
 catch (  AccessPermissionException e) {
    ex=true;
  }
  assertTrue("correct exception with no extraction, no extract for accessibility",ex);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testExtractOnlyForAccessibility() throws AccessPermissionException {
  Metadata m=getMetadata(false,true);
  AccessChecker checker=new AccessChecker(true);
  checker.check(m);
  assertTrue("no exception",true);
  boolean ex=false;
  try {
    m=getMetadata(false,false);
    checker.check(m);
  }
 catch (  AccessPermissionException e) {
    ex=true;
  }
  assertTrue("correct exception",ex);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCrazyExtractNotForAccessibility() throws AccessPermissionException {
  Metadata m=getMetadata(true,false);
  AccessChecker checker=new AccessChecker(true);
  checker.check(m);
  assertTrue("no exception",true);
  checker=new AccessChecker(false);
  checker.check(m);
  assertTrue("no exception",true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pdf.PDFParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedFilesInAnnotations() throws Exception {
  String xml=getXML("/testPDFFileEmbInAnnotation.pdf").xml;
  assertTrue(xml.contains("This is a Excel"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedPDFEmbeddingAnotherDocument() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  String content="";
  InputStream stream=null;
  try {
    context.set(org.apache.tika.parser.Parser.class,parser);
    stream=getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx");
    parser.parse(stream,handler,metadata,context);
    content=handler.toString();
  }
  finally {
    stream.close();
  }
  int outerHaystack=content.indexOf("Outer_haystack");
  int pdfHaystack=content.indexOf("pdf_haystack");
  int needle=content.indexOf("Needle");
  assertTrue(outerHaystack > -1);
  assertTrue(pdfHaystack > -1);
  assertTrue(needle > -1);
  assertTrue(needle > pdfHaystack && pdfHaystack > outerHaystack);
  TrackingHandler tracker=new TrackingHandler();
  TikaInputStream tis;
  ContainerExtractor ex=new ParserContainerExtractor();
  try {
    tis=TikaInputStream.get(getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx"));
    ex.extract(tis,ex,tracker);
  }
  finally {
    stream.close();
  }
  assertEquals(true,ex.isSupported(tis));
  assertEquals(3,tracker.filenames.size());
  assertEquals(3,tracker.mediaTypes.size());
  assertEquals("image1.emf",tracker.filenames.get(0));
  assertNull(tracker.filenames.get(1));
  assertEquals("Test.docx",tracker.filenames.get(2));
  assertEquals(TYPE_EMF,tracker.mediaTypes.get(0));
  assertEquals(TYPE_PDF,tracker.mediaTypes.get(1));
  assertEquals(TYPE_DOCX,tracker.mediaTypes.get(2));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSignatureInAcroForm() throws Exception {
  String xml=getXML("/testPDF_acroform3.pdf").xml;
  assertTrue("found",(xml.contains("<li>aTextField: TIKA-1226</li>")));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * PDFs can be "protected" with the default password. This means
 * they're encrypted (potentially both text and metadata),
 * but we can decrypt them easily.
 */
@Test public void testProtectedPDF() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("The Bank of England",metadata.get(Metadata.AUTHOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "";
    }
  }
);
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  boolean ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  PDFParserConfig config=new PDFParserConfig();
  config.setUseNonSequentialParser(true);
  context.set(PDFParserConfig.class,config);
  ;
  ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleAuthors() throws Exception {
  String fName="testPDF_twoAuthors.pdf";
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
  Parser p=new AutoDetectParser();
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  String[] keys=new String[]{"dc:creator","meta:author","creator","Author"};
  for (  String k : keys) {
    String[] vals=m.getValues(k);
    assertEquals("number of authors == 2 for key: " + k,2,vals.length);
    Set<String> set=new HashSet<String>();
    set.add(vals[0]);
    set.add(vals[1]);
    assertTrue("Sample Author 1",set.contains("Sample Author 1"));
    assertTrue("Sample Author 2",set.contains("Sample Author 2"));
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedFilesInChildren() throws Exception {
  String xml=getXML("/testPDF_childAttachments.pdf").xml;
  assertTrue(xml.contains("regressiveness"));
  RecursiveParserWrapper p=new RecursiveParserWrapper(new AutoDetectParser(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  config.setExtractInlineImages(true);
  config.setExtractUniqueInlineImagesOnly(false);
  context.set(org.apache.tika.parser.pdf.PDFParserConfig.class,config);
  context.set(org.apache.tika.parser.Parser.class,p);
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testPDF_childAttachments.pdf"))){
    p.parse(tis,new BodyContentHandler(-1),new Metadata(),context);
  }
   List<Metadata> metadatas=p.getMetadata();
  assertEquals(5,metadatas.size());
  assertNull(metadatas.get(0).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("image0.jpg",metadatas.get(1).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("Press Quality(1).joboptions",metadatas.get(3).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals("Unit10.doc",metadatas.get(4).get(Metadata.RESOURCE_NAME_KEY));
  assertEquals(MediaType.image("jpeg").toString(),metadatas.get(1).get(Metadata.CONTENT_TYPE));
  assertEquals(MediaType.image("tiff").toString(),metadatas.get(2).get(Metadata.CONTENT_TYPE));
  assertEquals("text/plain; charset=ISO-8859-1",metadatas.get(3).get(Metadata.CONTENT_TYPE));
  assertEquals(TYPE_DOC.toString(),metadatas.get(4).get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVersions() throws Exception {
  Map<String,String> dcFormat=new HashMap<String,String>();
  dcFormat.put("4.x","application/pdf; version=1.3");
  dcFormat.put("5.x","application/pdf; version=1.4");
  dcFormat.put("6.x","application/pdf; version=1.5");
  dcFormat.put("7.x","application/pdf; version=1.6");
  dcFormat.put("8.x","application/pdf; version=1.7");
  dcFormat.put("9.x","application/pdf; version=1.7");
  dcFormat.put("10.x","application/pdf; version=1.7");
  dcFormat.put("11.x.PDFA-1b","application/pdf; version=1.7");
  Map<String,String> pdfVersions=new HashMap<String,String>();
  pdfVersions.put("4.x","1.3");
  pdfVersions.put("5.x","1.4");
  pdfVersions.put("6.x","1.5");
  pdfVersions.put("7.x","1.6");
  pdfVersions.put("8.x","1.7");
  pdfVersions.put("9.x","1.7");
  pdfVersions.put("10.x","1.7");
  pdfVersions.put("11.x.PDFA-1b","1.7");
  Map<String,String> pdfExtensionVersions=new HashMap<String,String>();
  pdfExtensionVersions.put("9.x","1.7 Adobe Extension Level 3");
  pdfExtensionVersions.put("10.x","1.7 Adobe Extension Level 8");
  pdfExtensionVersions.put("11.x.PDFA-1b","1.7 Adobe Extension Level 8");
  Parser p=new AutoDetectParser();
  for (  Map.Entry<String,String> e : dcFormat.entrySet()) {
    String fName="testPDF_Version." + e.getKey() + ".pdf";
    InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
    Metadata m=new Metadata();
    ContentHandler h=new BodyContentHandler();
    ParseContext c=new ParseContext();
    p.parse(is,h,m,c);
    is.close();
    boolean foundDC=false;
    String[] vals=m.getValues("dc:format");
    for (    String v : vals) {
      if (v.equals(e.getValue())) {
        foundDC=true;
      }
    }
    assertTrue("dc:format ::" + e.getValue(),foundDC);
    String extensionVersionTruth=pdfExtensionVersions.get(e.getKey());
    if (extensionVersionTruth != null) {
      assertEquals("pdf:PDFExtensionVersion :: " + extensionVersionTruth,extensionVersionTruth,m.get("pdf:PDFExtensionVersion"));
    }
    assertEquals("pdf:PDFVersion",pdfVersions.get(e.getKey()),m.get("pdf:PDFVersion"));
  }
  String fName="testPDF_Version.11.x.PDFA-1b.pdf";
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  Set<String> versions=new HashSet<String>();
  for (  String fmt : m.getValues("dc:format")) {
    versions.add(fmt);
  }
  for (  String hit : new String[]{"application/pdf; version=1.7","application/pdf; version=\"A-1b\"","application/pdf; version=\"1.7 Adobe Extension Level 8\""}) {
    assertTrue(hit,versions.contains(hit));
  }
  assertEquals("pdfaid:conformance",m.get("pdfaid:conformance"),"B");
  assertEquals("pdfaid:part",m.get("pdfaid:part"),"1");
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBookmarks() throws Exception {
  String xml=getXML("testPDF_bookmarks.pdf").xml;
  int i=xml.indexOf("Denmark bookmark is here");
  int j=xml.indexOf("</body>");
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(i < j);
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tests for equality between traditional sequential parser
 * and newer nonsequential parser.
 * <p/>
 * TODO: more testing
 */
@Test public void testSequentialParser() throws Exception {
  Parser sequentialParser=new AutoDetectParser();
  Parser nonSequentialParser=new AutoDetectParser();
  ParseContext seqContext=new ParseContext();
  PDFParserConfig seqConfig=new PDFParserConfig();
  seqConfig.setUseNonSequentialParser(false);
  seqContext.set(PDFParserConfig.class,seqConfig);
  ParseContext nonSeqContext=new ParseContext();
  PDFParserConfig nonSeqConfig=new PDFParserConfig();
  nonSeqConfig.setUseNonSequentialParser(true);
  nonSeqContext.set(PDFParserConfig.class,nonSeqConfig);
  File testDocs=new File(this.getClass().getResource("/test-documents").toURI());
  int pdfs=0;
  Set<String> knownMetadataDiffs=new HashSet<String>();
  Set<String> knownContentDiffs=new HashSet<String>();
  for (  File f : testDocs.listFiles()) {
    if (!f.getName().toLowerCase(Locale.ROOT).endsWith(".pdf")) {
      continue;
    }
    String sequentialContent=null;
    Metadata sequentialMetadata=new Metadata();
    try {
      sequentialContent=getText(new FileInputStream(f),sequentialParser,seqContext,sequentialMetadata);
    }
 catch (    EncryptedDocumentException e) {
      continue;
    }
catch (    Exception e) {
      throw new TikaException("Sequential Parser failed on test file " + f,e);
    }
    pdfs++;
    String nonSequentialContent=null;
    Metadata nonSequentialMetadata=new Metadata();
    try {
      nonSequentialContent=getText(new FileInputStream(f),nonSequentialParser,nonSeqContext,nonSequentialMetadata);
    }
 catch (    Exception e) {
      throw new TikaException("Non-Sequential Parser failed on test file " + f,e);
    }
    if (knownContentDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialContent.equals(nonSequentialContent));
    }
 else {
      assertEquals(f.getName(),sequentialContent,nonSequentialContent);
    }
    if (knownMetadataDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialMetadata.equals(nonSequentialMetadata));
    }
 else {
      assertEquals(f.getName(),sequentialMetadata,nonSequentialMetadata);
    }
  }
  boolean ge15=(pdfs >= 15);
  assertTrue("Number of pdf files tested >= 15 in non-sequential parser test",ge15);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPdfParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF.pdf");
  String content=getText(stream,parser,metadata);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(Metadata.AUTHOR));
  assertEquals("Firefox",metadata.get(TikaCoreProperties.CREATOR_TOOL));
  assertEquals("Apache Tika - Apache Tika",metadata.get(TikaCoreProperties.TITLE));
  assertContains("Apache Tika",content);
  assertContains("Tika - Content Analysis Toolkit",content);
  assertContains("incubator",content);
  assertContains("Apache Software Foundation",content);
  assertTrue("should have word boundary after headline",!content.contains("ToolkitApache"));
  assertTrue("should have word boundary between paragraphs",!content.contains("libraries.Apache"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.ArParserTest </h4><pre class="type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the ParseContext parser is correctly fired for all the
 * embedded entries.
 */
@Test public void testEmbedded() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=ArParserTest.class.getResourceAsStream("/test-documents/testARofText.ar")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(1,tracker.filenames.size());
  assertEquals(1,tracker.mediatypes.size());
  assertEquals(1,tracker.modifiedAts.size());
  assertEquals("testTXT.txt",tracker.filenames.get(0));
  String modifiedAt=tracker.modifiedAts.get(0);
  assertTrue("Modified at " + modifiedAt,modifiedAt.startsWith("201"));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String crt : tracker.createdAts) {
    assertNull(crt);
  }
  tracker.reset();
  try (InputStream stream=ArParserTest.class.getResourceAsStream("/test-documents/testARofSND.ar")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(1,tracker.filenames.size());
  assertEquals(1,tracker.mediatypes.size());
  assertEquals(1,tracker.modifiedAts.size());
  assertEquals("testAU.au",tracker.filenames.get(0));
  modifiedAt=tracker.modifiedAts.get(0);
  assertTrue("Modified at " + modifiedAt,modifiedAt.startsWith("201"));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String crt : tracker.createdAts) {
    assertNull(crt);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.RarParserTest </h4><pre class="type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the ParseContext parser is correctly
 * fired for all the embedded entries.
 */
@Test public void testEmbedded() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=RarParserTest.class.getResourceAsStream("/test-documents/test-documents.rar")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(9,tracker.filenames.size());
  assertEquals(9,tracker.mediatypes.size());
  assertEquals(9,tracker.modifiedAts.size());
  assertEquals("test-documents/testEXCEL.xls",tracker.filenames.get(0));
  assertEquals("test-documents/testHTML.html",tracker.filenames.get(1));
  assertEquals("test-documents/testOpenOffice2.odt",tracker.filenames.get(2));
  assertEquals("test-documents/testPDF.pdf",tracker.filenames.get(3));
  assertEquals("test-documents/testPPT.ppt",tracker.filenames.get(4));
  assertEquals("test-documents/testRTF.rtf",tracker.filenames.get(5));
  assertEquals("test-documents/testTXT.txt",tracker.filenames.get(6));
  assertEquals("test-documents/testWORD.doc",tracker.filenames.get(7));
  assertEquals("test-documents/testXML.xml",tracker.filenames.get(8));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String crt : tracker.createdAts) {
    assertNull(crt);
  }
  for (  String mod : tracker.modifiedAts) {
    assertNotNull(mod);
    assertTrue("Modified at " + mod,mod.startsWith("20"));
  }
  String content=handler.toString();
  assertContains("test-documents/testHTML.html",content);
  assertContains("test-documents/testEXCEL.xls",content);
  assertContains("test-documents/testOpenOffice2.odt",content);
  assertContains("test-documents/testPDF.pdf",content);
  assertContains("test-documents/testPPT.ppt",content);
  assertContains("test-documents/testRTF.rtf",content);
  assertContains("test-documents/testTXT.txt",content);
  assertContains("test-documents/testWORD.doc",content);
  assertContains("test-documents/testXML.xml",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.Seven7ParserTest </h4><pre class="type-14 type-12 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPasswordProtected() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  boolean ex=false;
  try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test7Z_protected_passTika.7z")){
    parser.parse(stream,handler,metadata,recursingContext);
    fail("Shouldn't be able to read a password protected 7z without the password");
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  assertTrue("test no password",ex);
  ex=false;
  recursingContext.set(PasswordProvider.class,new PasswordProvider(){
    @Override public String getPassword(    Metadata metadata){
      return "wrong";
    }
  }
);
  handler=new BodyContentHandler();
  try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test7Z_protected_passTika.7z")){
    parser.parse(stream,handler,metadata,recursingContext);
    fail("Shouldn't be able to read a password protected 7z with wrong password");
  }
 catch (  TikaException e) {
    ex=true;
  }
  assertTrue("TikaException for bad password",ex);
  assertEquals("",handler.toString());
  ex=false;
  if (isStrongCryptoAvailable()) {
    recursingContext.set(PasswordProvider.class,new PasswordProvider(){
      @Override public String getPassword(      Metadata metadata){
        return "Tika";
      }
    }
);
    handler=new BodyContentHandler();
    try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test7Z_protected_passTika.7z")){
      parser.parse(stream,handler,metadata,recursingContext);
    }
     assertEquals(TYPE_7ZIP.toString(),metadata.get(Metadata.CONTENT_TYPE));
    String content=handler.toString();
    assertContains("text.txt",content);
    assertContains("TEST DATA FOR TIKA.",content);
    assertContains("This is text inside an encrypted 7zip (7z) file.",content);
    assertContains("It should be processed by Tika just fine!",content);
    assertContains("TIKA-1521",content);
  }
 else {
    boolean ioe=false;
    recursingContext.set(PasswordProvider.class,new PasswordProvider(){
      @Override public String getPassword(      Metadata metadata){
        return "Tika";
      }
    }
);
    handler=new BodyContentHandler();
    try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test7Z_protected_passTika.7z")){
      parser.parse(stream,handler,metadata,recursingContext);
    }
 catch (    TikaException e) {
      ioe=true;
    }
    assertTrue("IOException because JCE was not installed",ioe);
  }
}

</code></pre>

<br>
<pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test7ZParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  assertTrue("No 7zip parser found",parser.getSupportedTypes(recursingContext).contains(TYPE_7ZIP));
  try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test-documents.7z")){
    parser.parse(stream,handler,metadata,recursingContext);
  }
   assertEquals(TYPE_7ZIP.toString(),metadata.get(Metadata.CONTENT_TYPE));
  String content=handler.toString();
  assertContains("test-documents/testEXCEL.xls",content);
  assertContains("Sample Excel Worksheet",content);
  assertContains("test-documents/testHTML.html",content);
  assertContains("Test Indexation Html",content);
  assertContains("test-documents/testOpenOffice2.odt",content);
  assertContains("This is a sample Open Office document",content);
  assertContains("test-documents/testPDF.pdf",content);
  assertContains("Apache Tika",content);
  assertContains("test-documents/testPPT.ppt",content);
  assertContains("Sample Powerpoint Slide",content);
  assertContains("test-documents/testRTF.rtf",content);
  assertContains("indexation Word",content);
  assertContains("test-documents/testTXT.txt",content);
  assertContains("Test d'indexation de Txt",content);
  assertContains("test-documents/testWORD.doc",content);
  assertContains("This is a sample Microsoft Word Document",content);
  assertContains("test-documents/testXML.xml",content);
  assertContains("Rida Benjelloun",content);
}

</code></pre>

<br>
<pre class="type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the ParseContext parser is correctly
 * fired for all the embedded entries.
 */
@Test public void testEmbedded() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=Seven7ParserTest.class.getResourceAsStream("/test-documents/test-documents.7z")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(9,tracker.filenames.size());
  assertEquals(9,tracker.mediatypes.size());
  assertEquals(9,tracker.modifiedAts.size());
  assertEquals("test-documents/testEXCEL.xls",tracker.filenames.get(0));
  assertEquals("test-documents/testHTML.html",tracker.filenames.get(1));
  assertEquals("test-documents/testOpenOffice2.odt",tracker.filenames.get(2));
  assertEquals("test-documents/testPDF.pdf",tracker.filenames.get(3));
  assertEquals("test-documents/testPPT.ppt",tracker.filenames.get(4));
  assertEquals("test-documents/testRTF.rtf",tracker.filenames.get(5));
  assertEquals("test-documents/testTXT.txt",tracker.filenames.get(6));
  assertEquals("test-documents/testWORD.doc",tracker.filenames.get(7));
  assertEquals("test-documents/testXML.xml",tracker.filenames.get(8));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String mod : tracker.modifiedAts) {
    assertNotNull(mod);
    assertTrue("Modified at " + mod,mod.startsWith("20"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.TarParserTest </h4><pre class="type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the ParseContext parser is correctly
 * fired for all the embedded entries.
 */
@Test public void testEmbedded() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=ZipParserTest.class.getResourceAsStream("/test-documents/test-documents.tar")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(9,tracker.filenames.size());
  assertEquals(9,tracker.mediatypes.size());
  assertEquals(9,tracker.modifiedAts.size());
  assertEquals("test-documents/testEXCEL.xls",tracker.filenames.get(0));
  assertEquals("test-documents/testHTML.html",tracker.filenames.get(1));
  assertEquals("test-documents/testOpenOffice2.odt",tracker.filenames.get(2));
  assertEquals("test-documents/testPDF.pdf",tracker.filenames.get(3));
  assertEquals("test-documents/testPPT.ppt",tracker.filenames.get(4));
  assertEquals("test-documents/testRTF.rtf",tracker.filenames.get(5));
  assertEquals("test-documents/testTXT.txt",tracker.filenames.get(6));
  assertEquals("test-documents/testWORD.doc",tracker.filenames.get(7));
  assertEquals("test-documents/testXML.xml",tracker.filenames.get(8));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String crt : tracker.createdAts) {
    assertNull(crt);
  }
  for (  String mod : tracker.modifiedAts) {
    assertNotNull(mod);
    assertTrue("Modified at " + mod,mod.startsWith("20"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pkg.ZipParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPlaceholders() throws Exception {
  String xml=getXML("testEmbedded.zip").xml;
  assertContains("<div class=\"embedded\" id=\"test1.txt\" />",xml);
  assertContains("<div class=\"embedded\" id=\"test2.txt\" />",xml);
  Parser parser=new AutoDetectParser();
  ParseContext context=new ParseContext();
  context.set(Parser.class,parser);
  GatherRelIDsDocumentExtractor relIDs=new GatherRelIDsDocumentExtractor();
  context.set(EmbeddedDocumentExtractor.class,relIDs);
  try (InputStream input=getResourceAsStream("/test-documents/testEmbedded.zip")){
    parser.parse(input,new BodyContentHandler(),new Metadata(),context);
  }
   assertTrue(relIDs.allRelIDs.contains("test1.txt"));
  assertTrue(relIDs.allRelIDs.contains("test2.txt"));
}

</code></pre>

<br>
<pre class="type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the ParseContext parser is correctly
 * fired for all the embedded entries.
 */
@Test public void testEmbedded() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=ZipParserTest.class.getResourceAsStream("/test-documents/test-documents.zip")){
    parser.parse(stream,handler,metadata,trackingContext);
  }
   assertEquals(9,tracker.filenames.size());
  assertEquals(9,tracker.mediatypes.size());
  assertEquals(9,tracker.modifiedAts.size());
  assertEquals("testEXCEL.xls",tracker.filenames.get(0));
  assertEquals("testHTML.html",tracker.filenames.get(1));
  assertEquals("testOpenOffice2.odt",tracker.filenames.get(2));
  assertEquals("testPDF.pdf",tracker.filenames.get(3));
  assertEquals("testPPT.ppt",tracker.filenames.get(4));
  assertEquals("testRTF.rtf",tracker.filenames.get(5));
  assertEquals("testTXT.txt",tracker.filenames.get(6));
  assertEquals("testWORD.doc",tracker.filenames.get(7));
  assertEquals("testXML.xml",tracker.filenames.get(8));
  for (  String type : tracker.mediatypes) {
    assertNull(type);
  }
  for (  String crt : tracker.createdAts) {
    assertNull(crt);
  }
  for (  String mod : tracker.modifiedAts) {
    assertNotNull(mod);
    assertTrue("Modified at " + mod,mod.startsWith("20"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.rtf.RTFParserTest </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetaDataCounts() throws Exception {
  XMLResult xml=getXML("test_embedded_package.rtf");
  assertEquals("1",xml.metadata.get(Office.PAGE_COUNT));
  assertEquals("7",xml.metadata.get(Office.WORD_COUNT));
  assertEquals("36",xml.metadata.get(Office.CHARACTER_COUNT));
  assertTrue(xml.metadata.get(Office.CREATION_DATE).startsWith("2012-09-02T"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegularImages() throws Exception {
  Parser base=new AutoDetectParser();
  ParseContext ctx=new ParseContext();
  RecursiveParserWrapper parser=new RecursiveParserWrapper(base,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  ctx.set(org.apache.tika.parser.Parser.class,parser);
  ContentHandler handler=new BodyContentHandler();
  Metadata rootMetadata=new Metadata();
  rootMetadata.add(Metadata.RESOURCE_NAME_KEY,"testRTFRegularImages.rtf");
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testRTFRegularImages.rtf"))){
    parser.parse(tis,handler,rootMetadata,ctx);
  }
   List<Metadata> metadatas=parser.getMetadata();
  Metadata meta_jpg_exif=metadatas.get(1);
  Metadata meta_jpg=metadatas.get(3);
  assertTrue(meta_jpg_exif != null);
  assertTrue(meta_jpg != null);
  assertTrue(Arrays.asList(meta_jpg_exif.getValues("dc:subject")).contains("serbor"));
  assertTrue(meta_jpg.get("Comments").contains("Licensed to the Apache"));
  assertFalse(Arrays.asList(meta_jpg.getValues("dc:subject")).contains("serbor"));
  assertEquals("false",meta_jpg.get(RTFMetadata.THUMBNAIL));
  assertEquals("false",meta_jpg_exif.get(RTFMetadata.THUMBNAIL));
  assertEquals(46,meta_jpg.names().length);
  assertEquals(110,meta_jpg_exif.names().length);
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWordPadCzechCharactersExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFWordPadCzechCharacters.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u010Cl\u00E1nek t\u00FDdne"));
  assertTrue(s1.contains("starov\u011Bk\u00E9 \u017Eidovsk\u00E9 n\u00E1bo\u017Eensk\u00E9 texty"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWord2010CzechCharactersExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFWord2010CzechCharacters.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u010Cl\u00E1nek t\u00FDdne"));
  assertTrue(s1.contains("starov\u011Bk\u00E9 \u017Eidovsk\u00E9 n\u00E1bo\u017Eensk\u00E9 texty"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUmlautSpacesExtraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFUmlautSpaces.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u00DCbersicht"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMaxLength() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFJapanese.rtf");
  Metadata metadata=new Metadata();
  InputStream stream=TikaInputStream.get(file,metadata);
  Tika localTika=new Tika();
  String content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() > 500);
  localTika.setMaxStringLength(200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() <= 200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata,100);
  assertTrue(content.length() <= 100);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMS932Extraction() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTF-ms932.rtf");
  String s1=tika.parseToString(file);
  assertTrue(s1.contains("\u3053\u3093\u306b\u3061\u306f"));
  Result r=getResult("testRTF-ms932.rtf");
  assertEquals("\u30bf\u30a4\u30c8\u30eb",r.metadata.get(TikaCoreProperties.TITLE));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testUnicodeUCNControlWordCharacterDoublingExtraction() throws Exception {
  String content=getText("testRTFUnicodeUCNControlWordCharacterDoubling.rtf");
  assertContains("\u5E74",content);
  assertContains("\u5ff5",content);
  assertContains("0 ",content);
  assertContains("abc",content);
  assertFalse("Doubled character \u5E74",content.contains("\u5E74\u5E74"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.strings.Latin1StringsParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testParse() throws Exception {
  String testStr="These are Latin1 accented scripts: \u00C2 \u00C3 \u00C9 \u00DC \u00E2 \u00E3 \u00E9 \u00FC";
  String smallStr="ab";
  byte[] iso8859Bytes=testStr.getBytes(ISO_8859_1);
  byte[] utf8Bytes=testStr.getBytes(UTF_8);
  byte[] utf16Bytes=testStr.getBytes(UTF_16);
  byte[] zeros=new byte[10];
  byte[] smallString=smallStr.getBytes(ISO_8859_1);
  byte[] trashBytes={0x00,0x01,0x02,0x03,0x1E,0x1F,(byte)0xFF};
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  baos.write(iso8859Bytes);
  baos.write(zeros);
  baos.write(utf8Bytes);
  baos.write(trashBytes);
  baos.write(utf16Bytes);
  baos.write(zeros);
  baos.write(smallString);
  Parser parser=new Latin1StringsParser();
  ContentHandler handler=new BodyContentHandler();
  try (InputStream stream=new ByteArrayInputStream(baos.toByteArray())){
    parser.parse(stream,handler,new Metadata(),new ParseContext());
  }
   String result=handler.toString();
  String expected=testStr + "\n" + testStr+ "\n"+ testStr+ "\n";
  assertTrue(result.equals(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.strings.StringsParserTest </h4><pre class="type-5 type-16 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParse() throws Exception {
  assumeTrue(canRun());
  String resource="/test-documents/testOCTET_header.dbase3";
  String[] content={"CLASSNO","TITLE","ITEMNO","LISTNO","LISTDATE"};
  String[] met_attributes={"min-len","encoding","strings:file_output"};
  StringsConfig stringsConfig=new StringsConfig();
  FileConfig fileConfig=new FileConfig();
  Parser parser=new StringsParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  context.set(StringsConfig.class,stringsConfig);
  context.set(FileConfig.class,fileConfig);
  try (InputStream stream=StringsParserTest.class.getResourceAsStream(resource)){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  for (  String word : content) {
    assertTrue(handler.toString().contains(word));
  }
  Arrays.equals(met_attributes,metadata.names());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.txt.CharsetDetectorTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmptyOrNullDeclaredCharset() throws IOException {
  try (InputStream in=CharsetDetectorTest.class.getResourceAsStream("/test-documents/resume.html")){
    CharsetDetector detector=new CharsetDetector();
    Reader reader=detector.getReader(in,null);
    assertTrue(reader.ready());
    reader=detector.getReader(in,"");
    assertTrue(reader.ready());
  }
 }

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTagDropper() throws IOException {
  try (InputStream in=CharsetDetectorTest.class.getResourceAsStream("/test-documents/resume.html")){
    CharsetDetector detector=new CharsetDetector();
    detector.enableInputFilter(true);
    detector.setText(in);
    CharsetMatch[] matches=detector.detectAll();
    CharsetMatch mm=null;
    for (    CharsetMatch m : matches) {
      if (mm == null || mm.getConfidence() < m.getConfidence()) {
        mm=m;
      }
    }
    assertTrue(mm != null);
    assertEquals("UTF-8",mm.getName());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.xml.DcXMLParserTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoSpaces() throws Exception {
  String text=getXML("testXML2.xml").xml;
  assertFalse(text.contains("testSubject"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXMLParserAsciiChars() throws Exception {
  try (InputStream input=DcXMLParserTest.class.getResourceAsStream("/test-documents/testXML.xml")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new DcXMLParser().parse(input,handler,metadata);
    assertEquals("application/xml",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("Tika test document",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Rida Benjelloun",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals(true,metadata.isMultiValued(TikaCoreProperties.KEYWORDS));
    assertEquals(5,metadata.getValues(TikaCoreProperties.KEYWORDS).length);
    assertEquals("Java",metadata.getValues(TikaCoreProperties.KEYWORDS)[0]);
    assertEquals("XML",metadata.getValues(TikaCoreProperties.KEYWORDS)[1]);
    assertEquals("XSLT",metadata.getValues(TikaCoreProperties.KEYWORDS)[2]);
    assertEquals("JDOM",metadata.getValues(TikaCoreProperties.KEYWORDS)[3]);
    assertEquals("Indexation",metadata.getValues(TikaCoreProperties.KEYWORDS)[4]);
    assertEquals(true,metadata.isMultiValued(Metadata.SUBJECT));
    assertEquals(5,metadata.getValues(Metadata.SUBJECT).length);
    assertEquals("Java",metadata.getValues(Metadata.SUBJECT)[0]);
    assertEquals("XML",metadata.getValues(Metadata.SUBJECT)[1]);
    assertEquals("XSLT",metadata.getValues(Metadata.SUBJECT)[2]);
    assertEquals("JDOM",metadata.getValues(Metadata.SUBJECT)[3]);
    assertEquals("Indexation",metadata.getValues(Metadata.SUBJECT)[4]);
    assertEquals("Framework d\'indexation des documents XML, HTML, PDF etc..",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("http://www.apache.org",metadata.get(TikaCoreProperties.IDENTIFIER));
    assertEquals("test",metadata.get(TikaCoreProperties.TYPE));
    assertEquals("application/msword",metadata.get(TikaCoreProperties.FORMAT));
    assertEquals("Fr",metadata.get(TikaCoreProperties.LANGUAGE));
    assertTrue(metadata.get(TikaCoreProperties.RIGHTS).contains("testing chars"));
    String content=handler.toString();
    assertContains("Tika test document",content);
    assertEquals("2000-12-01T00:00:00.000Z",metadata.get(TikaCoreProperties.CREATED));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.BasicContentHandlerFactoryTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBody() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.BODY;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertNotContains("title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  assertWriteLimitReached(p,(BodyContentHandler)handler);
  extracted=handler.toString();
  assertNotContains("This ",extracted);
  assertContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  assertNotContains("title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.TEXT;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertNotContains("<body",extracted);
  assertNotContains("<html",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,new Metadata(),null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(handler.toString().length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHTML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIgnore() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  ContentHandler handler=new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1).getNewContentHandler();
  assertTrue(handler instanceof DefaultHandler);
  p.parse(null,handler,null,null);
  assertContains("org.xml.sax.helpers.DefaultHandler",handler.toString());
  p=new MockParser(100);
  handler=new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,5).getNewContentHandler();
  assertTrue(handler instanceof DefaultHandler);
  p.parse(null,handler,null,null);
  assertContains("org.xml.sax.helpers.DefaultHandler",handler.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.XHTMLContentHandlerTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAttributesOnHtml() throws Exception {
  ToHTMLContentHandler toHTMLContentHandler=new ToHTMLContentHandler();
  XHTMLContentHandler xhtmlContentHandler=new XHTMLContentHandler(toHTMLContentHandler,new Metadata());
  AttributesImpl attributes=new AttributesImpl();
  attributes.addAttribute(XHTMLContentHandler.XHTML,"itemscope","itemscope","","");
  attributes.addAttribute(XHTMLContentHandler.XHTML,"itemtype","itemtype","","http://schema.org/Event");
  xhtmlContentHandler.startDocument();
  xhtmlContentHandler.startElement(XHTMLContentHandler.XHTML,"html","html",attributes);
  xhtmlContentHandler.endElement("html");
  xhtmlContentHandler.endDocument();
  assertTrue(toHTMLContentHandler.toString().contains("itemscope"));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAttributesOnBody() throws Exception {
  ToHTMLContentHandler toHTMLContentHandler=new ToHTMLContentHandler();
  XHTMLContentHandler xhtmlContentHandler=new XHTMLContentHandler(toHTMLContentHandler,new Metadata());
  AttributesImpl attributes=new AttributesImpl();
  attributes.addAttribute(XHTMLContentHandler.XHTML,"itemscope","itemscope","","");
  attributes.addAttribute(XHTMLContentHandler.XHTML,"itemtype","itemtype","","http://schema.org/Event");
  xhtmlContentHandler.startDocument();
  xhtmlContentHandler.startElement(XHTMLContentHandler.XHTML,"body","body",attributes);
  xhtmlContentHandler.endElement("body");
  xhtmlContentHandler.endDocument();
  assertTrue(toHTMLContentHandler.toString().contains("itemscope"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.xpath.XPathParserTest </h4><pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText(){
  Matcher matcher=parser.parse("/text()");
  assertTrue(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedAttribute(){
  Matcher matcher=parser.parse("/@name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertTrue(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefixedElement(){
  Matcher matcher=parser.parse("/prefix:name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(null,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"enam"));
  matcher=matcher.descend(NS,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnyAttribute(){
  Matcher matcher=parser.parse("/@*");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertTrue(matcher.matchesAttribute(null,"name"));
  assertTrue(matcher.matchesAttribute(NS,"name"));
  assertTrue(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedElement(){
  Matcher matcher=parser.parse("/name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
  assertEquals(Matcher.FAIL,matcher.descend(null,"enam"));
  matcher=matcher.descend(null,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnyElement(){
  Matcher matcher=parser.parse("/*");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  matcher=matcher.descend(NS,"name");
  assertFalse(matcher.matchesText());
  assertTrue(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertFalse(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrefixedAttribute(){
  Matcher matcher=parser.parse("/@prefix:name");
  assertFalse(matcher.matchesText());
  assertFalse(matcher.matchesElement());
  assertFalse(matcher.matchesAttribute(null,"name"));
  assertTrue(matcher.matchesAttribute(NS,"name"));
  assertFalse(matcher.matchesAttribute(NS,"eman"));
  assertEquals(Matcher.FAIL,matcher.descend(NS,"name"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.RecursiveMetadataResourceTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerTypeInMultipartXML() throws Exception {
  Attachment attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  WebClient webClient=WebClient.create(endPoint + META_PATH + FORM_PATH);
  Response response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ UNPARSEABLE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ XML_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ TEXT_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ IGNORE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").query("handler","ignore").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerType() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + SLASH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + UNPARSEABLE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + XML_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + TEXT_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  response=WebClient.create(endPoint + META_PATH + IGNORE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaDetectorsTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + DETECTORS_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Object> json=(Map<String,Object>)JSON.parse(jsonStr);
  assertTrue(json.containsKey("name"));
  assertTrue(json.containsKey("composite"));
  assertTrue(json.containsKey("children"));
  assertEquals("org.apache.tika.detect.DefaultDetector",json.get("name"));
  assertEquals(Boolean.TRUE,json.get("composite"));
  Object[] children=(Object[])json.get("children");
  assertTrue(children.length >= 4);
  boolean hasOgg=false, hasPOIFS=false, hasZIP=false, hasMime=false;
  for (  Object o : children) {
    Map<String,Object> d=(Map<String,Object>)o;
    assertTrue(d.containsKey("name"));
    assertTrue(d.containsKey("composite"));
    assertEquals(Boolean.FALSE,d.get("composite"));
    assertEquals(false,d.containsKey("children"));
    String name=(String)d.get("name");
    if (OggDetector.class.getName().equals(name)) {
      hasOgg=true;
    }
    if (POIFSContainerDetector.class.getName().equals(name)) {
      hasPOIFS=true;
    }
    if (ZipContainerDetector.class.getName().equals(name)) {
      hasZIP=true;
    }
    if (MimeTypes.class.getName().equals(name)) {
      hasMime=true;
    }
  }
  assertTrue(hasOgg);
  assertTrue(hasPOIFS);
  assertTrue(hasZIP);
  assertTrue(hasMime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaMimeTypesTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + MIMETYPES_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
  assertEquals(true,json.containsKey("text/plain"));
  assertEquals(true,json.containsKey("application/xml"));
  assertEquals(true,json.containsKey("video/x-ogm"));
  assertEquals(true,json.containsKey("image/x-ms-bmp"));
  Map<String,Object> bmp=json.get("image/x-ms-bmp");
  assertEquals(true,bmp.containsKey("alias"));
  Object[] aliases=(Object[])bmp.get("alias");
  assertEquals(1,aliases.length);
  assertEquals("image/bmp",aliases[0]);
  String whichParser=bmp.get("parser").toString();
  assertTrue("Which parser",whichParser.equals("org.apache.tika.parser.ocr.TesseractOCRParser") || whichParser.equals("org.apache.tika.parser.image.ImageParser"));
  Map<String,Object> ogm=json.get("video/x-ogm");
  assertEquals("video/ogg",ogm.get("supertype"));
  assertEquals("org.gagravarr.tika.OggParser",ogm.get("parser"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaParsersTest </h4><pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  for (  boolean details : new boolean[]{false,true}) {
    Response response=WebClient.create(endPoint + getPath(details)).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
    String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
    Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
    assertEquals(true,json.containsKey("name"));
    assertEquals(true,json.containsKey("composite"));
    assertEquals(true,json.containsKey("children"));
    assertEquals("org.apache.tika.parser.DefaultParser",json.get("name"));
    assertEquals(Boolean.TRUE,json.get("composite"));
    Object[] children=(Object[])(Object)json.get("children");
    assertTrue(children.length >= 20);
    boolean hasOpus=false, hasOOXML=false, hasPDF=false, hasZip=false;
    int nonComposite=0;
    int composite=0;
    for (    Object o : children) {
      Map<String,Object> d=(Map<String,Object>)o;
      assertEquals(true,d.containsKey("name"));
      assertEquals(true,d.containsKey("composite"));
      if (d.get("composite") == Boolean.FALSE)       nonComposite++;
 else       composite++;
      if (d.get("composite") == Boolean.FALSE)       assertEquals(details,d.containsKey("supportedTypes"));
      String name=(String)d.get("name");
      if (OpusParser.class.getName().equals(name)) {
        hasOpus=true;
      }
      if (OOXMLParser.class.getName().equals(name)) {
        hasOOXML=true;
      }
      if (PDFParser.class.getName().equals(name)) {
        hasPDF=true;
      }
      if (PackageParser.class.getName().equals(name)) {
        hasZip=true;
      }
    }
    assertEquals(true,hasOpus);
    assertEquals(true,hasOOXML);
    assertEquals(true,hasPDF);
    assertEquals(true,hasZip);
    assertTrue(nonComposite > 20);
    assertTrue(composite == 0 || composite == 1);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaResourceTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWord() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testWMFInRTF() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/rtf").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("testRTF_npeFromWMFInTikaServer.rtf"));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Example text"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordHTML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/html").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordMultipartXML() throws Exception {
  ClassLoader.getSystemResourceAsStream(TEST_DOC);
  Attachment attachmentPart=new Attachment("myworddoc","application/msword",ClassLoader.getSystemResourceAsStream(TEST_DOC));
  WebClient webClient=WebClient.create(endPoint + TIKA_PATH + "/form");
  Response response=webClient.type("multipart/form-data").accept("text/xml").post(attachmentPart);
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmbedded() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  response=WebClient.create(endPoint + TIKA_PATH).accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"59f626e09a8c16ab6dbc2800c685f772\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordXML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testApplicationWadl() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH + "?_wadl").accept("text/plain").get();
  String resp=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(resp.startsWith("<application"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.UnpackerResourceTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAV() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertFalse(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).header(CONTENT_TYPE,APPLICATION_XML).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("test.doc"));
  String responseMsg=readArchiveText((InputStream)response.getEntity());
  assertNotNull(responseMsg);
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAVText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertTrue(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.utils.CharsetUtilsTest </h4><pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInvalidCharset(){
  assertFalse(CharsetUtils.isSupported(" utf-8"));
  assertFalse(CharsetUtils.isSupported("my charset name"));
  assertFalse(CharsetUtils.isSupported("charset1; charset2"));
  assertFalse(CharsetUtils.isSupported(null));
  assertFalse(CharsetUtils.isSupported(""));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidCharset(){
  assertTrue(CharsetUtils.isSupported("UTF-8"));
  assertFalse(CharsetUtils.isSupported("bogus"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.utils.RegexUtilsTest </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test {@link RegexUtils#extractLinks(String)} for http.
 */
@Test public void testExtractLinksHttp(){
  List<String> links=RegexUtils.extractLinks("Test with http://www.nutch.org/index.html is it found? " + "What about www.google.com at http://www.google.de " + "A longer URL could be http://www.sybit.com/solutions/portals.html");
  assertTrue("Url not found!",links.size() == 3);
  assertEquals("Wrong URL","http://www.nutch.org/index.html",links.get(0));
  assertEquals("Wrong URL","http://www.google.de",links.get(1));
  assertEquals("Wrong URL","http://www.sybit.com/solutions/portals.html",links.get(2));
}

</code></pre>

<br>
<pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test {@link RegexUtils#extractLinks(String)} for ftp.
 */
@Test public void testExtractLinksFtp(){
  List<String> links=RegexUtils.extractLinks("Test with ftp://www.nutch.org is it found? " + "What about www.google.com at ftp://www.google.de");
  assertTrue("Url not found!",links.size() == 2);
  assertEquals("Wrong URL","ftp://www.nutch.org",links.get(0));
  assertEquals("Wrong URL","ftp://www.google.de",links.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.utils.ServiceLoaderUtilsTest </h4><pre class="type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrdering() throws Exception {
  DefaultParser defaultParser=new DefaultParser();
  int vorbisIndex=-1;
  int fictIndex=-1;
  int dcxmlIndex=-1;
  int i=0;
  for (  Parser p : defaultParser.getAllComponentParsers()) {
    if ("class org.gagravarr.tika.VorbisParser".equals(p.getClass().toString())) {
      vorbisIndex=i;
    }
    if ("class org.apache.tika.parser.xml.FictionBookParser".equals(p.getClass().toString())) {
      fictIndex=i;
    }
    if ("class org.apache.tika.parser.xml.DcXMLParser".equals(p.getClass().toString())) {
      dcxmlIndex=i;
    }
    i++;
  }
  assertNotEquals(vorbisIndex,fictIndex);
  assertNotEquals(fictIndex,dcxmlIndex);
  assertTrue(vorbisIndex > fictIndex);
  assertTrue(fictIndex > dcxmlIndex);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.xmp.TikaToXMPTest </h4><pre class="type-9 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getConverter_ConverterAvailable_class() throws TikaException {
  ITikaToXMPConverter converter=TikaToXMP.getConverter(OOXML_MIMETYPE);
  assertNotNull(converter);
  assertTrue(converter instanceof MSOfficeXMLConverter);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void convert_wrongGenericMetadata_notConverted() throws XMPException, TikaException {
  tikaMetadata.set("unknown:key","unknownPrefixValue");
  tikaMetadata.set("wrongKey","wrongKeyValue");
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPIterator iter=xmp.iterator();
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void isConverterAvailable_nullInput_false(){
  assertFalse(TikaToXMP.isConverterAvailable(null));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void isConverterAvailable_noAvailableMime_false(){
  assertFalse(TikaToXMP.isConverterAvailable(GENERIC_MIMETYPE));
}

</code></pre>

<br>
<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void isConverterAvailable_availableMime_true(){
  assertTrue(TikaToXMP.isConverterAvailable(OOXML_MIMETYPE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.xmp.XMPMetadataTest </h4><pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isMultiValued_multiProp_true() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertTrue(xmpMeta.isMultiValued(TikaCoreProperties.KEYWORDS));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void isMultiValued_simpleProp_false() throws TikaException {
  xmpMeta.process(tikaMetadata);
  assertFalse(xmpMeta.isMultiValued(TikaCoreProperties.FORMAT));
}

</code></pre>

<br>
<pre class="type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void getDate_DateProperty_valueReturned() throws TikaException, XMPException {
  xmpMeta.process(tikaMetadata);
  Date date=XMPUtils.convertToDate("2001-01-01T01:01").getCalendar().getTime();
  assertTrue(date.equals(xmpMeta.getDate(TikaCoreProperties.MODIFIED)));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
