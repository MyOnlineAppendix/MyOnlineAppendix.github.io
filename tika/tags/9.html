<h3><span class=" glyphicon glyphicon-tag"/>&nbspAPIUtilityVerifier</h3><kbd>Verifies values of objects/variables related to API calls (Java or TPL) </kbd><br><br><br><h4 style="margin:0px">Class: org.apache.tika.batch.RecursiveParserWrapperFSConsumerTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedThenNPE() throws Exception {
  final String path="/test-documents/embedded_then_npe.xml";
  final Metadata metadata=new Metadata();
  metadata.add(Metadata.RESOURCE_NAME_KEY,"embedded_then_npe.xml");
  ArrayBlockingQueue<FileResource> queue=new ArrayBlockingQueue<FileResource>(2);
  queue.add(new FileResource(){
    @Override public String getResourceId(){
      return "testFile";
    }
    @Override public Metadata getMetadata(){
      return metadata;
    }
    @Override public InputStream openInputStream() throws IOException {
      return this.getClass().getResourceAsStream(path);
    }
  }
);
  queue.add(new PoisonFileResource());
  MockOSFactory mockOSFactory=new MockOSFactory();
  RecursiveParserWrapperFSConsumer consumer=new RecursiveParserWrapperFSConsumer(queue,new AutoDetectParserFactory(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),mockOSFactory,new TikaConfig());
  IFileProcessorFutureResult result=consumer.call();
  mockOSFactory.getStreams().get(0).flush();
  byte[] bytes=mockOSFactory.getStreams().get(0).toByteArray();
  List<Metadata> results=JsonMetadataList.fromJson(new InputStreamReader(new ByteArrayInputStream(bytes),UTF_8));
  assertEquals(2,results.size());
  assertContains("another null pointer",results.get(0).get(TikaCoreProperties.TIKA_META_EXCEPTION_PREFIX + "runtime"));
  assertEquals("Nikolai Lobachevsky",results.get(0).get("author"));
  assertEquals("embeddedAuthor",results.get(1).get("author"));
  assertContains("some_embedded_content",results.get(1).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedWithNPE() throws Exception {
  final String path="/test-documents/embedded_with_npe.xml";
  final Metadata metadata=new Metadata();
  metadata.add(Metadata.RESOURCE_NAME_KEY,"embedded_with_npe.xml");
  ArrayBlockingQueue<FileResource> queue=new ArrayBlockingQueue<FileResource>(2);
  queue.add(new FileResource(){
    @Override public String getResourceId(){
      return "testFile";
    }
    @Override public Metadata getMetadata(){
      return metadata;
    }
    @Override public InputStream openInputStream() throws IOException {
      return this.getClass().getResourceAsStream(path);
    }
  }
);
  queue.add(new PoisonFileResource());
  MockOSFactory mockOSFactory=new MockOSFactory();
  RecursiveParserWrapperFSConsumer consumer=new RecursiveParserWrapperFSConsumer(queue,new AutoDetectParserFactory(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),mockOSFactory,new TikaConfig());
  IFileProcessorFutureResult result=consumer.call();
  mockOSFactory.getStreams().get(0).flush();
  byte[] bytes=mockOSFactory.getStreams().get(0).toByteArray();
  List<Metadata> results=JsonMetadataList.fromJson(new InputStreamReader(new ByteArrayInputStream(bytes),UTF_8));
  assertEquals(4,results.size());
  assertContains("another null pointer",results.get(2).get(RecursiveParserWrapper.EMBEDDED_EXCEPTION));
  assertEquals("Nikolai Lobachevsky",results.get(0).get("author"));
  for (int i=1; i < 4; i++) {
    assertEquals("embeddedAuthor" + i,results.get(i).get("author"));
    assertContains("some_embedded_content" + i,results.get(i).get(RecursiveParserWrapper.TIKA_CONTENT));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchDriverTest </h4><pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void noRestartTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("no_restart",outputDir,null);
  String[] mod=Arrays.copyOf(args,args.length + 2);
  mod[args.length]="-numConsumers";
  mod[args.length + 1]="1";
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",mod);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(2,countChildren(outputDir));
  Path test2=outputDir.resolve("test2_norestart.xml.xml");
  assertTrue("test2_norestart.xml",Files.exists(test2));
  Path test3=outputDir.resolve("test3_ok.xml.xml");
  assertFalse("test3_ok.xml",Files.exists(test3));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=30000) public void testNoRestartIfProcessFails() throws Exception {
  Path outputDir=getNewOutputDir("nostart-norestart-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  String[] commandLine=getDefaultCommandLineArgsArr("basic",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-broken.xml",commandLine);
  driver.execute();
  assertEquals(0,countChildren(outputDir));
  assertEquals(0,driver.getNumRestarts());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void restartOnOOMTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("oom",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(1,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=30000) public void testNoRestartIfProcessFailsTake2() throws Exception {
  Path outputDir=getNewOutputDir("nostart-norestart-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-somethingOrOther","I don't Know");
  String[] commandLine=getDefaultCommandLineArgsArr("basic",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(0,countChildren(outputDir));
  assertEquals(0,driver.getNumRestarts());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithStarvedCrawler() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","2");
  args.put("-maxQueueSize","2");
  String[] commandLine=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(3,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void maxRestarts() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=new HashMap<>();
  args.put("-numConsumers","1");
  args.put("-maxQueueSize","10");
  args.put("-maxRestarts","2");
  String[] commandLine=getDefaultCommandLineArgsArr("max_restarts",outputDir,args);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",commandLine);
  driver.execute();
  assertEquals(2,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(3,countChildren(outputDir));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void restartOnFullHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("heavy_heavy_hangs",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertTrue(driver.getNumRestarts() > 0);
  assertFalse(driver.getUserInterrupted());
  assertContains("first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void oneHeavyHangTest() throws Exception {
  Path outputDir=getNewOutputDir("daemon-");
  assertTrue(Files.isDirectory(outputDir));
  assertEquals(0,countChildren(outputDir));
  String[] args=getDefaultCommandLineArgsArr("one_heavy_hang",outputDir,null);
  BatchProcessDriverCLI driver=getNewDriver("/tika-batch-config-test.xml",args);
  driver.execute();
  assertEquals(0,driver.getNumRestarts());
  assertFalse(driver.getUserInterrupted());
  assertEquals(5,countChildren(outputDir));
  assertContains("first test file",readFileToString(outputDir.resolve("test2_ok.xml.xml"),UTF_8));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.BatchProcessTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHierarchicalWFileList() throws Exception {
  Path outputDir=getNewOutputDir("hierarchical_file_list");
  Map<String,String> args=getDefaultArgs("hierarchical",outputDir);
  args.put("numConsumers","1");
  args.put("fileList",Paths.get(this.getClass().getResource("/testFileList.txt").toURI()).toString());
  args.put("recursiveParserWrapper","true");
  args.put("basicHandlerType","text");
  args.put("outputSuffix","json");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  ex.execute();
  Path test1=outputDir.resolve("test1.xml.json");
  Path test2=outputDir.resolve("sub1a/test2.xml.json");
  Path test3=outputDir.resolve("sub1a/sub2a/test3.xml.json");
  assertTrue("test1 exists",Files.exists(test1));
  assertTrue("test1 length > 10",Files.size(test1) > 10);
  assertTrue(Files.exists(test3) && Files.size(test3) > 10);
  Path test2Dir=outputDir.resolve("sub1a");
  assertEquals(1,countChildren(test2Dir));
  assertFalse(Files.exists(test2));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithStarvedCrawler() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsStarvedCrawler-");
  Map<String,String> args=getDefaultArgs("heavy_heavy_hangs",outputDir);
  args.put("numConsumers","2");
  args.put("maxQueueSize","2");
  args.put("timeoutThresholdMillis","100000000");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(2,countChildren(outputDir));
  for (int i=0; i < 2; i++) {
    Path hvyHang=outputDir.resolve("test" + i + "_heavy_hang.xml.xml");
    assertTrue(Files.exists(hvyHang));
    assertEquals(0,Files.size(hvyHang));
  }
  assertContains(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
  assertContains("Crawler timed out",streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test(timeout=15000) public void noRestart() throws Exception {
  Path outputDir=getNewOutputDir("no_restart");
  Map<String,String> args=getDefaultArgs("no_restart",outputDir);
  args.put("numConsumers","1");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  Path test2=outputDir.resolve("test2_norestart.xml.xml");
  assertTrue("test2_norestart.xml",Files.exists(test2));
  Path test3=outputDir.resolve("test3_ok.xml.xml");
  assertFalse("test3_ok.xml",Files.exists(test3));
  assertContains("exitStatus=" + BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,streamStrings.getOutString());
  assertContains("causeForTermination='MAIN_LOOP_EXCEPTION_NO_RESTART'",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testConsumersManagerInitHang() throws Exception {
  Path outputDir=getNewOutputDir("init_hang");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("hangOnInit","true");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  StreamStrings streamStrings=ex.execute();
  assertEquals(BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,ex.getExitValue());
  assertContains("causeForTermination='CONSUMERS_MANAGER_DIDNT_INIT_IN_TIME_NO_RESTART'",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=60000) public void testTimeOutAfterBeingAskedToShutdown() throws Exception {
  Path outputDir=getNewOutputDir("timeout_after_early_termination");
  Map<String,String> args=getDefaultArgs("timeout_after_early_termination",outputDir);
  args.put("numConsumers","1");
  args.put("maxAliveTimeSeconds","5");
  args.put("timeoutThresholdMillis","10000");
  args.put("pauseOnEarlyTerminationMillis","20000");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  List<Path> paths=listPaths(outputDir);
  assertEquals(1,paths.size());
  assertEquals(0,Files.size(paths.get(0)));
  assertContains("exitStatus=" + BatchProcessDriverCLI.PROCESS_RESTART_EXIT_CODE,streamStrings.getOutString());
  assertContains("causeForTermination='BATCH_PROCESS_ALIVE_TOO_LONG'",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=15000) public void oneHeavyHangTest() throws Exception {
  Path outputDir=getNewOutputDir("one_heavy_hang-");
  Map<String,String> args=getDefaultArgs("one_heavy_hang",outputDir);
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(5,countChildren(outputDir));
  Path hvyHang=outputDir.resolve("test0_heavy_hang.xml.xml");
  assertTrue(Files.exists(hvyHang));
  assertEquals(0,Files.size(hvyHang));
  assertNotContained(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testHandlingOfIllegalXMLCharsInException() throws Exception {
  Path outputDir=getNewOutputDir("illegal_xml_chars_in_exception");
  Map<String,String> args=getDefaultArgs("illegal_xml_chars_in_exception",outputDir);
  args.put("numConsumers","1");
  args.put("recursiveParserWrapper","true");
  args.put("basicHandlerType","text");
  args.put("outputSuffix","json");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml","/log4j-on.properties");
  StreamStrings ss=ex.execute();
  assertFalse(ss.getOutString().contains("error writing xml stream for"));
  assertContains("parse_ex resourceId=\"test0_bad_chars.xml\"",ss.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testConsumersManagerShutdownHang() throws Exception {
  Path outputDir=getNewOutputDir("shutdown_hang");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("hangOnShutdown","true");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args,"/tika-batch-config-MockConsumersBuilder.xml");
  StreamStrings streamStrings=ex.execute();
  assertEquals(BatchProcessDriverCLI.PROCESS_NO_RESTART_EXIT_CODE,ex.getExitValue());
  assertContains("ConsumersManager did not shutdown within",streamStrings.getOutString());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void allHeavyHangsTestWithCrazyNumberConsumersTest() throws Exception {
  Path outputDir=getNewOutputDir("allHeavyHangsCrazyNumberConsumers-");
  Map<String,String> args=getDefaultArgs("heavy_heavy_hangs",outputDir);
  args.put("numConsumers","100");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(7,countChildren(outputDir));
  for (int i=0; i < 6; i++) {
    Path hvyHang=outputDir.resolve("test" + i + "_heavy_hang.xml.xml");
    assertTrue(Files.exists(hvyHang));
    assertEquals(0,Files.size(hvyHang));
  }
  assertContains("This is tika-batch's first test file",readFileToString(outputDir.resolve("test6_ok.xml.xml"),UTF_8));
  assertNotContained(BatchProcess.BATCH_CONSTANTS.BATCH_PROCESS_FATAL_MUST_RESTART.toString(),streamStrings.getErrString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=10000) public void testRedirectionOfStreams() throws Exception {
  Path outputDir=getNewOutputDir("noisy_parsers");
  Map<String,String> args=getDefaultArgs("noisy_parsers",outputDir);
  args.put("numConsumers","1");
  args.put("maxAliveTimeSeconds","20");
  BatchProcessTestExecutor ex=new BatchProcessTestExecutor(args);
  StreamStrings streamStrings=ex.execute();
  assertEquals(1,countChildren(outputDir));
  assertContains("System.out",streamStrings.getOutString());
  assertContains("System.err",streamStrings.getOutString());
  assertEquals(0,streamStrings.getErrString().length());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.FSFileResourceTest </h4><pre class="type-9 type-12 type-4 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativization() throws Exception {
  Path root=Paths.get("root/abc/def").toAbsolutePath();
  Path allegedChild=Paths.get(root.getParent().getParent().toAbsolutePath().toString());
  try {
    FSFileResource r=new FSFileResource(root,allegedChild);
    fail("should have had assertion error: alleged child not actually child of root");
  }
 catch (  AssertionError e) {
  }
  root=Paths.get("root/abc/def");
  Path child=Paths.get(root.toString(),"ghi/jkl/lmnop.doc");
  FSFileResource r=new FSFileResource(root,child);
  String id=r.getResourceId();
  assertTrue(id.startsWith("ghi"));
  assertTrue(id.endsWith("lmnop.doc"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.batch.fs.HandlerBuilderTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testHTML() throws Exception {
  Path outputDir=getNewOutputDir("handler-html-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","html");
  args.put("outputSuffix","html");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.html");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertFalse(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXMLWithWriteLimit() throws Exception {
  Path outputDir=getNewOutputDir("handler-xml-write-limit-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("writeLimit","5");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.xml");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.equals(""));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRecursiveParserWrapper() throws Exception {
  Path outputDir=getNewOutputDir("handler-recursive-parser");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","txt");
  args.put("outputSuffix","json");
  args.put("recursiveParserWrapper","true");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.json");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("\"author\":\"Nikolai Lobachevsky\""));
  assertTrue(resultString.contains("tika-batch\\u0027s first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testText() throws Exception {
  Path outputDir=getNewOutputDir("handler-txt-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","txt");
  args.put("outputSuffix","txt");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.txt");
  String resultString=readFileToString(outputFile,UTF_8);
  assertFalse(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertFalse(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXML() throws Exception {
  Path outputDir=getNewOutputDir("handler-xml-");
  Map<String,String> args=getDefaultArgs("basic",outputDir);
  args.put("basicHandlerType","xml");
  args.put("outputSuffix","xml");
  BatchProcess runner=getNewBatchRunner("/tika-batch-config-test.xml",args);
  ParallelFileProcessingResult result=run(runner);
  Path outputFile=outputDir.resolve("test0.xml.xml");
  String resultString=readFileToString(outputFile,UTF_8);
  assertTrue(resultString.contains("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  assertTrue(resultString.contains("<?xml version=\"1.0\" encoding=\"UTF-8\"?>"));
  assertTrue(resultString.contains("This is tika-batch's first test file"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.bundle.BundleIT </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForkParser() throws Exception {
  ForkParser parser=new ForkParser(Activator.class.getClassLoader(),defaultParser);
  String data="<!DOCTYPE html>\n<html><body><p>test <span>content</span></p></body></html>";
  InputStream stream=new ByteArrayInputStream(data.getBytes(UTF_8));
  Writer writer=new StringWriter();
  ContentHandler contentHandler=new BodyContentHandler(writer);
  Metadata metadata=new Metadata();
  MediaType type=contentTypeDetector.detect(stream,metadata);
  assertEquals(type.toString(),"text/html");
  metadata.add(Metadata.CONTENT_TYPE,type.toString());
  ParseContext parseCtx=new ParseContext();
  parser.parse(stream,contentHandler,metadata,parseCtx);
  writer.flush();
  String content=writer.toString();
  assertTrue(content.length() > 0);
  assertEquals("test content",content.trim());
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testManifestNoJUnit() throws Exception {
  File TARGET=new File("target");
  File base=new File(TARGET,"test-bundles");
  File tikaBundle=new File(base,"tika-bundle.jar");
  JarInputStream jarIs=new JarInputStream(new FileInputStream(tikaBundle));
  Manifest mf=jarIs.getManifest();
  Attributes main=mf.getMainAttributes();
  String importPackage=main.getValue("Import-Package");
  boolean containsJunit=importPackage.contains("junit");
  assertFalse("The bundle should not import junit",containsJunit);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testTikaBundle() throws Exception {
  Tika tika=new Tika();
  ContentHandler handler=new BodyContentHandler();
  Parser parser=tika.getParser();
  ParseContext context=new ParseContext();
  context.set(Parser.class,parser);
  try (InputStream stream=new FileInputStream("src/test/resources/test-documents.zip")){
    parser.parse(stream,handler,new Metadata(),context);
  }
   String content=handler.toString();
  assertTrue(content.contains("testEXCEL.xls"));
  assertTrue(content.contains("Sample Excel Worksheet"));
  assertTrue(content.contains("testHTML.html"));
  assertTrue(content.contains("Test Indexation Html"));
  assertTrue(content.contains("testOpenOffice2.odt"));
  assertTrue(content.contains("This is a sample Open Office document"));
  assertTrue(content.contains("testPDF.pdf"));
  assertTrue(content.contains("Apache Tika"));
  assertTrue(content.contains("testPPT.ppt"));
  assertTrue(content.contains("Sample Powerpoint Slide"));
  assertTrue(content.contains("testRTF.rtf"));
  assertTrue(content.contains("indexation Word"));
  assertTrue(content.contains("testTXT.txt"));
  assertTrue(content.contains("Test d'indexation de Txt"));
  assertTrue(content.contains("testWORD.doc"));
  assertTrue(content.contains("This is a sample Microsoft Word Document"));
  assertTrue(content.contains("testXML.xml"));
  assertTrue(content.contains("Rida Benjelloun"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLIBatchCommandLineTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConfig() throws Exception {
  String outputRoot="outputRoot";
  String configPath="c:/somewhere/someConfig.xml";
  String[] params={"--inputDir",testInputPathForCommandLine,"--outputDir",outputRoot,"--config=" + configPath};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  Map<String,String> attrs=mapify(commandLine);
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
  assertEquals(outputRoot,attrs.get("-outputDir"));
  assertEquals(configPath,attrs.get("-c"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJVMOpts() throws Exception {
  String[] params={"-JXmx1g","-JDlog4j.configuration=batch_process_log4j.xml","-inputDir",testInputPathForCommandLine,"-outputDir","testout-output"};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  StringBuilder sb=new StringBuilder();
  for (  String s : commandLine) {
    sb.append(s).append(" ");
  }
  String s=sb.toString();
  int classInd=s.indexOf("org.apache.tika.batch.fs.FSBatchProcessCLI");
  int xmx=s.indexOf("-Xmx1g");
  int inputDir=s.indexOf("-inputDir");
  int log=s.indexOf("-Dlog4j.configuration");
  assertTrue(classInd > -1);
  assertTrue(xmx > -1);
  assertTrue(inputDir > -1);
  assertTrue(log > -1);
  assertTrue(xmx < classInd);
  assertTrue(log < classInd);
  assertTrue(inputDir > classInd);
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicMappingOfArgs() throws Exception {
  String[] params={"-JXmx1g","-JDlog4j.configuration=batch_process_log4j.xml","-bc","batch-config.xml","-J","-h","-inputDir",testInputPathForCommandLine};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  Map<String,String> attrs=mapify(commandLine);
  assertEquals("true",attrs.get("-recursiveParserWrapper"));
  assertEquals("html",attrs.get("-basicHandlerType"));
  assertEquals("json",attrs.get("-outputSuffix"));
  assertEquals("batch-config.xml",attrs.get("-bc"));
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoDirsVarious() throws Exception {
  String outputRoot="outputRoot";
  String[] params={"-i",testInputPathForCommandLine,"-o",outputRoot};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  Map<String,String> attrs=mapify(commandLine);
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
  assertEquals(outputRoot,attrs.get("-outputDir"));
  params=new String[]{"--inputDir",testInputPathForCommandLine,"--outputDir",outputRoot};
  commandLine=BatchCommandLineBuilder.build(params);
  attrs=mapify(commandLine);
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
  assertEquals(outputRoot,attrs.get("-outputDir"));
  params=new String[]{"-inputDir",testInputPathForCommandLine,"-outputDir",outputRoot};
  commandLine=BatchCommandLineBuilder.build(params);
  attrs=mapify(commandLine);
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
  assertEquals(outputRoot,attrs.get("-outputDir"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoDirsNoFlags() throws Exception {
  String outputRoot="outputRoot";
  String[] params={testInputPathForCommandLine,outputRoot};
  String[] commandLine=BatchCommandLineBuilder.build(params);
  Map<String,String> attrs=mapify(commandLine);
  assertEquals(testInputPathForCommandLine,attrs.get("-inputDir"));
  assertEquals(outputRoot,attrs.get("-outputDir"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLIBatchIntegrationTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJsonRecursiveBatchIntegration() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","10","-J","-t"};
  TikaCLI.main(params);
  Path jsonFile=tempOutputDir.resolve("test_recursive_embedded.docx.json");
  try (Reader reader=Files.newBufferedReader(jsonFile,UTF_8)){
    List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
    assertEquals(12,metadataList.size());
    assertTrue(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).contains("human events"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDigester() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","10","-J","-t","-digest","sha512"};
  TikaCLI.main(params);
  Path jsonFile=tempOutputDir.resolve("test_recursive_embedded.docx.json");
  try (Reader reader=Files.newBufferedReader(jsonFile,UTF_8)){
    List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
    assertEquals(12,metadataList.size());
    assertNotNull(metadataList.get(0).get("X-TIKA:digest:SHA512"));
    assertTrue(metadataList.get(0).get("X-TIKA:digest:SHA512").startsWith("ee46d973ee1852c01858"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testProcessLogFileConfig() throws Exception {
  String[] params={"-i",testInputDirForCommandLine,"-o",tempOutputDirForCommandLine,"-numConsumers","2","-JDlog4j.configuration=log4j_batch_process_test.properties"};
  TikaCLI.main(params);
  assertFileExists(tempOutputDir.resolve("bad_xml.xml.xml"));
  assertFileExists(tempOutputDir.resolve("coffee.xls.xml"));
  String sysOutString=new String(outBuffer.toByteArray(),UTF_8);
  assertTrue(sysOutString.contains("MY_CUSTOM_LOG_CONFIG"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.cli.TikaCLITest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserDefault() throws Exception {
  String[] params=new String[]{"-J","-r",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\"X-TIKA:content\": \"\\u003chtml xmlns\\u003d\\\"http://www.w3.org/1999/xhtml"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testZipWithSubdirs() throws Exception {
  String[] params={"-z","--extract-dir=target",resourcePrefix + "testWithSubdirs.zip"};
  new File("subdir/foo.txt").delete();
  new File("subdir").delete();
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("Extracting 'subdir/foo.txt'"));
  new File("target/subdir/foo.txt").delete();
  new File("target/subdir").delete();
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testConfig() throws Exception {
  String[] params=new String[]{"--config=" + testDataFile.toString() + "/tika-config1.xml",resourcePrefix + "bad_xml.xml"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("apple"));
  assertTrue(content.contains("org.apache.tika.parser.html.HtmlParser"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserMetadataOnly() throws Exception {
  String[] params=new String[]{"-m","-J","-r",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("[\n" + "  {\n" + "    \"Application-Name\": \"Microsoft Office Word\",\n"+ "    \"Application-Version\": \"15.0000\",\n"+ "    \"Character Count\": \"28\",\n"+ "    \"Character-Count-With-Spaces\": \"31\","));
  assertTrue(content.contains("\"X-TIKA:embedded_resource_path\": \"/embed1.zip\""));
  assertFalse(content.contains("X-TIKA:content"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJsonRecursiveMetadataParserText() throws Exception {
  String[] params=new String[]{"-J","-r","-t",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\\n\\nembed_4\\n"));
  assertTrue(content.contains("\\n\\nembed_0"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Basic tests for -json option
 * @throws Exception
 */
@Test public void testJsonMetadataOutput() throws Exception {
  String[] params={"--json","--digest=MD2",resourcePrefix + "testJsonMultipleInts.html"};
  TikaCLI.main(params);
  String json=outContent.toString(UTF_8.name());
  assertTrue(json.contains("\"fb:admins\":\"1,2,3,4\","));
  int enc=json.indexOf("\"Content-Encoding\"");
  int fb=json.indexOf("fb:admins");
  int title=json.indexOf("\"title\"");
  assertTrue(enc > -1 && fb > -1 && enc < fb);
  assertTrue(fb > -1 && title > -1 && fb < title);
  assertTrue(json.contains("\"X-TIKA:digest:MD2\":"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test for -json with prettyprint option
 * @throws Exception
 */
@Test public void testJsonMetadataPrettyPrintOutput() throws Exception {
  String[] params={"--json","-r",resourcePrefix + "testJsonMultipleInts.html"};
  TikaCLI.main(params);
  String json=outContent.toString(UTF_8.name());
  assertTrue(json.contains("  \"X-Parsed-By\": [\n" + "    \"org.apache.tika.parser.DefaultParser\",\n" + "    \"org.apache.tika.parser.html.HtmlParser\"\n"+ "  ],\n"));
  int enc=json.indexOf("\"Content-Encoding\"");
  int fb=json.indexOf("fb:admins");
  int title=json.indexOf("\"title\"");
  assertTrue(enc > -1 && fb > -1 && enc < fb);
  assertTrue(fb > -1 && title > -1 && fb < title);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDigestInJson() throws Exception {
  String[] params=new String[]{"-J","-r","-t","--digest=MD5",resourcePrefix + "test_recursive_embedded.docx"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("\"X-TIKA:digest:MD5\": \"59f626e09a8c16ab6dbc2800c685f772\","));
  assertTrue(content.contains("\"X-TIKA:digest:MD5\": \"f9627095ef86c482e61d99f0cc1cf87d\""));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testMultiValuedMetadata() throws Exception {
  String[] params={"-m",resourcePrefix + "testMultipleSheets.numbers"};
  TikaCLI.main(params);
  String content=outContent.toString(UTF_8.name());
  assertTrue(content.contains("sheetNames: Checking"));
  assertTrue(content.contains("sheetNames: Secon sheet"));
  assertTrue(content.contains("sheetNames: Logical Sheet 3"));
  assertTrue(content.contains("sheetNames: Sheet 4"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.config.TikaConfigTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1145 If the TikaConfig has a ClassLoader set on it,
 * that should be used when loading the mimetypes and when
 * discovering services
 */
@Test public void ensureClassLoaderUsedEverywhere() throws Exception {
  ResourceLoggingClassLoader customLoader=new ResourceLoggingClassLoader(getClass().getClassLoader());
  TikaConfig config;
  config=new TikaConfig();
  config.getMediaTypeRegistry();
  config.getParser();
  assertEquals(0,customLoader.getLoadedResources().size());
  config=new TikaConfig(customLoader);
  config.getMediaTypeRegistry();
  config.getParser();
  Map<String,List<URL>> resources=customLoader.getLoadedResources();
  int resourcesCount=resources.size();
  assertTrue("Not enough things used the classloader, found only " + resourcesCount,resourcesCount > 3);
  assertNotNull(resources.get("META-INF/services/org.apache.tika.parser.Parser"));
  assertNotNull(resources.get("META-INF/services/org.apache.tika.detect.Detector"));
  assertNotNull(resources.get("org/apache/tika/mime/tika-mimetypes.xml"));
  assertNotNull(resources.get("org/apache/tika/mime/custom-mimetypes.xml"));
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1445 It should be possible to exclude DefaultParser from
 * certain types, so another parser explicitly listed will take them
 */
@Test public void defaultParserWithExcludes() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1445-default-except.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(3,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(DefaultParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
    p=parsers.get(2);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(ErrorParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("fail/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<pre class="type-9 type-12 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-1653 If one parser has child parsers, those child parsers shouldn't
 * show up at the top level as well
 */
@Test public void parserWithChildParsers() throws Exception {
  try {
    TikaConfig config=getConfig("TIKA-1653-norepeat.xml");
    CompositeParser cp=(CompositeParser)config.getParser();
    List<Parser> parsers=cp.getAllComponentParsers();
    Parser p;
    assertEquals(2,parsers.size());
    p=parsers.get(0);
    assertTrue(p.toString(),p instanceof CompositeParser);
    assertEquals(2,((CompositeParser)p).getAllComponentParsers().size());
    p=parsers.get(1);
    assertTrue(p.toString(),p instanceof ParserDecorator);
    assertEquals(EmptyParser.class,((ParserDecorator)p).getWrappedParser().getClass());
    assertEquals("hello/world",p.getSupportedTypes(null).iterator().next().toString());
  }
 catch (  TikaException e) {
    fail("Unexpected TikaException: " + e);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.detect.MagicDetectorTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDetectStreamReadProblems() throws Exception {
  byte[] data="abcdefghijklmnopqrstuvwxyz0123456789".getBytes(US_ASCII);
  MediaType testMT=new MediaType("application","test");
  Detector detector=new MagicDetector(testMT,data,null,false,0,0);
  InputStream stream=new RestrictiveInputStream(data);
  assertEquals(testMT,detector.detect(stream,new Metadata()));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDetectNull() throws Exception {
  MediaType html=new MediaType("text","html");
  Detector detector=new MagicDetector(html,"<html".getBytes(US_ASCII));
  assertEquals(MediaType.OCTET_STREAM,detector.detect(null,new Metadata()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.example.TestParsingExample </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRecursiveParserWrapperExample() throws IOException, SAXException, TikaException {
  List<Metadata> metadataList=parsingExample.recursiveParserWrapperExample();
  assertEquals("Number of embedded documents + 1 for the container document",12,metadataList.size());
  Metadata m=metadataList.get(6);
  assertEquals("/embed1.zip/embed2.zip/embed3.zip/embed3.txt",m.get("X-TIKA:embedded_resource_path"));
  assertContains("When in the Course",m.get("X-TIKA:content"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.filetypedetector.TikaFileTypeDetectorTest </h4><pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void testDirectAccess() throws Exception {
  String contentType=new TikaFileTypeDetector().probeContentType(testDirectory.resolve(TEST_HTML));
  assertNotNull(contentType);
  assertEquals("text/html",contentType);
}

</code></pre>

<br>
<pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void testFilesProbeContentTypePathExtension() throws Exception {
  String contentType=Files.probeContentType(testDirectory.resolve(TEST_HTML));
  assertNotNull(contentType);
  assertEquals("text/html",contentType);
}

</code></pre>

<br>
<pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void testFilesProbeContentTypePathUnrecognised() throws Exception {
  String contentType=Files.probeContentType(testDirectory.resolve(TEST_UNRECOGNISED_EXTENSION));
  assertNotNull(contentType);
  assertEquals("text/html",contentType);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public final void testMetaInfServicesLoad() throws Exception {
  ServiceLoader<FileTypeDetector> serviceLoader=ServiceLoader.load(FileTypeDetector.class);
  Iterator<FileTypeDetector> iterator=serviceLoader.iterator();
  assertTrue(iterator.hasNext());
  while (iterator.hasNext()) {
    FileTypeDetector fileTypeDetector=iterator.next();
    assertNotNull(fileTypeDetector);
    assertTrue(fileTypeDetector instanceof TikaFileTypeDetector);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.fork.ForkParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPoolSizeReached() throws Exception {
  final ForkParser parser=new ForkParser(ForkParserTest.class.getClassLoader(),new ForkTestParser());
  try {
    final Semaphore barrier=new Semaphore(0);
    Thread[] threads=new Thread[parser.getPoolSize()];
    PipedOutputStream[] pipes=new PipedOutputStream[threads.length];
    final ParseContext context=new ParseContext();
    for (int i=0; i < threads.length; i++) {
      final PipedInputStream input=new PipedInputStream(){
        @Override public synchronized int read() throws IOException {
          barrier.release();
          return super.read();
        }
      }
;
      pipes[i]=new PipedOutputStream(input);
      threads[i]=new Thread(){
        public void run(){
          try {
            ContentHandler o=new DefaultHandler();
            parser.parse(input,o,new Metadata(),context);
          }
 catch (          Exception e) {
            e.printStackTrace();
          }
        }
      }
;
      threads[i].start();
    }
    barrier.acquire(parser.getPoolSize());
    final ContentHandler o=new BodyContentHandler();
    Thread blocked=new Thread(){
      public void run(){
        try {
          barrier.release();
          InputStream stream=new ByteArrayInputStream(new byte[0]);
          parser.parse(stream,o,new Metadata(),context);
        }
 catch (        Exception e) {
          e.printStackTrace();
        }
      }
    }
;
    blocked.start();
    barrier.acquire();
    Thread.sleep(1000);
    assertEquals("",o.toString());
    for (int i=0; i < threads.length; i++) {
      pipes[i].close();
      threads[i].join();
    }
    blocked.join();
    assertEquals("Hello, World!",o.toString().trim());
  }
  finally {
    parser.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TailStreamTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the content of the tail buffer if it is only partly filled.
 */
@Test public void testTailBufferPartlyRead() throws IOException {
  final int count=64;
  TailStream stream=new TailStream(generateStream(0,count),2 * count);
  byte[] data=readStream(stream);
  assertTrue("Wrong content",Arrays.equals(data,stream.getTail()));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether skip() also fills the tail buffer.
 */
@Test public void testSkip() throws IOException {
  final int tailSize=128;
  final int count=1024;
  final int skipCount=512;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  assertEquals("Wrong skip result",skipCount,stream.skip(skipCount));
  assertEquals("Wrong buffer",generateText(skipCount - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests skip() if read reaches the end of the stream and returns -1.
 */
@Test public void testSkipReadEnd() throws IOException {
  final int count=128;
  TailStream stream=new TailStream(generateStream(0,count),2 * count);
  readStream(stream);
  assertEquals("Wrong result",-1,stream.skip(1));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether a reset() operation without a mark is simply ignored.
 */
@Test public void testResetWithoutMark() throws IOException {
  final int tailSize=75;
  final int count=128;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  stream.reset();
  byte[] buf=new byte[count];
  stream.read(buf);
  assertEquals("Wrong buffer",generateText(count - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests a skip operation at the end of the stream.
 */
@Test public void testSkipEOS() throws IOException {
  final int count=128;
  TailStream stream=new TailStream(generateStream(0,count),2 * count);
  assertEquals("Wrong skip result",count,stream.skip(2 * count));
  assertEquals("Wrong buffer",generateText(0,count),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the content of the tail buffer if larger chunks are read.
 */
@Test public void testTailChunkReads() throws IOException {
  final int count=16384;
  final int tailSize=61;
  final int bufSize=100;
  TailStream stream=new TailStream(generateStream(0,count),tailSize);
  byte[] buf=new byte[bufSize];
  int read=stream.read(buf,10,8);
  assertEquals("Wrong number of bytes read",8,read);
  while (read != -1) {
    read=stream.read(buf);
  }
  assertEquals("Wrong buffer",generateText(count - tailSize,tailSize),new String(stream.getTail(),UTF_8));
  stream.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.io.TikaInputStreamTest </h4><pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStreamBased() throws IOException {
  InputStream input=IOUtils.toInputStream("Hello, World!",UTF_8.name());
  InputStream stream=TikaInputStream.get(input);
  Path file=TikaInputStream.get(stream).getPath();
  assertTrue(file != null && Files.isRegularFile(file));
  assertEquals("The contents of the file returned by the getFile method" + " should equal the contents of the TikaInputStream","Hello, World!",readFile(file));
  assertEquals("The contents of the TikaInputStream should not get modified" + " by reading the file first","Hello, World!",readStream(stream));
  stream.close();
  assertFalse("The close() method must remove the temporary file created" + " by a TikaInputStream",Files.exists(file));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFileBased() throws IOException {
  Path path=createTempFile("Hello, World!");
  InputStream stream=TikaInputStream.get(path);
  assertEquals("The file returned by the getFile() method should" + " be the file used to instantiate a TikaInputStream",path,TikaInputStream.get(stream).getPath());
  assertEquals("The contents of the TikaInputStream should equal the" + " contents of the underlying file","Hello, World!",readStream(stream));
  stream.close();
  assertTrue("The close() method must not remove the file used to" + " instantiate a TikaInputStream",Files.exists(path));
  Files.delete(path);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.language.LanguageProfilerBuilderTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateProfile() throws TikaException, IOException, URISyntaxException {
  try (InputStream is=LanguageProfilerBuilderTest.class.getResourceAsStream(corpusName)){
    ngramProfile=LanguageProfilerBuilder.create(profileName,is,UTF_8.name());
  }
   File f=new File(profileName + "." + FILE_EXTENSION);
  FileOutputStream fos=new FileOutputStream(f);
  ngramProfile.save(fos);
  fos.close();
  assertEquals(maxlen,ngramProfile.getSorted().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.serialization.JsonMetadataListTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListBasic() throws Exception {
  Metadata m1=new Metadata();
  m1.add("k1","v1");
  m1.add("k1","v2");
  m1.add("k1","v3");
  m1.add("k1","v4");
  m1.add("k1","v4");
  m1.add("k2","v1");
  Metadata m2=new Metadata();
  m2.add("k3","v1");
  m2.add("k3","v2");
  m2.add("k3","v3");
  m2.add("k3","v4");
  m2.add("k3","v4");
  m2.add("k4","v1");
  List<Metadata> metadataList=new LinkedList<Metadata>();
  metadataList.add(m1);
  metadataList.add(m2);
  StringWriter writer=new StringWriter();
  JsonMetadataList.toJson(metadataList,writer);
  List<Metadata> deserialized=JsonMetadataList.fromJson(new StringReader(writer.toString()));
  assertEquals(metadataList,deserialized);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.metadata.serialization.JsonMetadataTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLargeNumberOfKeys() throws Exception {
  Metadata m=new Metadata();
  for (int i=0; i < 100000; i++) {
    m.set(Integer.toString(i),"val_" + i);
  }
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(m,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(m,deserialized);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicSerializationAndDeserialization() throws Exception {
  Metadata metadata=new Metadata();
  metadata.add("k1","v1");
  metadata.add("k1","v2");
  metadata.add("k3","v3");
  metadata.add("k3","v3");
  metadata.add("k4","500,000");
  metadata.add("alma_mater","\u666E\u6797\u65AF\u987F\u5927\u5B66");
  metadata.add("url","/myApp/myAction.html?method=router&cmd=1");
  metadata.add("html","<html><body>&amp;&nbsp;</body></html>");
  metadata.add("json_escapes","the: \"quick\" brown, fox");
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(metadata,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(7,deserialized.names().length);
  assertEquals(metadata,deserialized);
  assertEquals(6,deserialized.get("alma_mater").length());
  writer=new StringWriter();
  JsonMetadata.setPrettyPrinting(true);
  JsonMetadata.toJson(metadata,writer);
  assertTrue(writer.toString().contains("  \"json_escapes\": \"the: \\\"quick\\\" brown, fox\",\n" + "  \"k1\": [\n" + "    \"v1\",\n"+ "    \"v2\"\n"+ "  ],\n"+ "  \"k3\": [\n"+ "    \"v3\",\n"+ "    \"v3\"\n"+ "  ],\n"+ "  \"k4\": \"500,000\",\n"+ "  \"url\": \"/myApp/myAction.html?method\\u003drouter\\u0026cmd\\u003d1\"\n"+ "}"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLargeValues() throws Exception {
  StringBuilder sb=new StringBuilder();
  for (int i=0; i < 1000000; i++) {
    sb.append("v");
  }
  Metadata m=new Metadata();
  m.add("large_value1",sb.toString());
  m.add("large_value2",sb.toString());
  StringWriter writer=new StringWriter();
  JsonMetadata.toJson(m,writer);
  Metadata deserialized=JsonMetadata.fromJson(new StringReader(writer.toString()));
  assertEquals(m,deserialized);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MediaTypeTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseWithParams(){
  String mimeStringWithParams="text/html;charset=UTF-8;foo=bar;foo2=bar2";
  MediaType type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(3,type.getParameters().keySet().size());
  boolean gotCharset=false, gotFoo=false, gotFoo2=false;
  for (  String param : type.getParameters().keySet()) {
    if (param.equals("charset")) {
      gotCharset=true;
    }
 else     if (param.equals("foo")) {
      gotFoo=true;
    }
 else     if (param.equals("foo2")) {
      gotFoo2=true;
    }
  }
  assertTrue(gotCharset && gotFoo && gotFoo2);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Per http://tools.ietf.org/html/rfc2045#section-5.1, charset can be in quotes
 */
@Test public void testParseWithParamsAndQuotedCharset(){
  String mimeStringWithParams="text/html;charset=\"UTF-8\"";
  MediaType type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertEquals(singletonMap("charset","UTF-8"),type.getParameters());
  mimeStringWithParams="text/html;charset=\'UTF-8\';test=\"true\";unquoted=here";
  type=MediaType.parse(mimeStringWithParams);
  assertNotNull(type);
  assertEquals(3,type.getParameters().size());
  assertEquals("UTF-8",type.getParameters().get("charset"));
  assertEquals("true",type.getParameters().get("test"));
  assertEquals("here",type.getParameters().get("unquoted"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseNoParamsWithSemi(){
  String mimeStringNoParamsWithSemi="text/html;";
  MediaType type=MediaType.parse(mimeStringNoParamsWithSemi);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(0,type.getParameters().keySet().size());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * @since TIKA-121
 */
@Test public void testParseNoParams(){
  String mimeStringNoParams="text/html";
  MediaType type=MediaType.parse(mimeStringNoParams);
  assertNotNull(type);
  assertNotNull(type.getParameters());
  assertNotNull(type.getParameters().keySet());
  assertEquals(0,type.getParameters().keySet().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeDetectionTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both
 * have the same priority, we use the name to pick the
 * right one based on the glob, or the first one we
 * come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType,mimeTypes.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.MimeTypesReaderTest </h4><pre class="type-9 type-12 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * TIKA-746 Ensures that the custom mimetype maps were also 
 * loaded and used
 */
@Test public void testCustomMimeTypes(){
  String helloWorld="hello/world";
  String helloWorldFile="hello/world-file";
  String helloXWorld="hello/x-world-hello";
  try {
    assertNotNull(this.mimeTypes.forName(helloWorld));
    assertNotNull(this.mimeTypes.forName(helloWorldFile));
    assertNotNull(this.mimeTypes.forName(helloXWorld));
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  try {
    MimeType hw=this.mimeTypes.forName(helloWorld);
    MimeType hwf=this.mimeTypes.forName(helloWorldFile);
    MimeType hxw=this.mimeTypes.forName(helloXWorld);
    assertEquals("",hw.getDescription());
    assertEquals("",hw.getExtension());
    assertEquals(0,hw.getExtensions().size());
    assertEquals(0,hw.getMagics().size());
    assertEquals("A \"Hello World\" file",hwf.getDescription());
    assertEquals(".hello.world",hwf.getExtension());
    assertEquals(1,hwf.getMagics().size());
    assertEquals("",hxw.getDescription());
    assertEquals(".x-hello-world",hxw.getExtension());
    assertEquals(1,hxw.getMagics().size());
    Metadata m=new Metadata();
    m.add(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
    assertEquals(hwf.toString(),this.mimeTypes.detect(null,m).toString());
    m=new Metadata();
    m.add(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
    assertEquals(hxw.toString(),this.mimeTypes.detect(null,m).toString());
    m=new Metadata();
    ByteArrayInputStream s=new ByteArrayInputStream("Hello, World!".getBytes(US_ASCII));
    assertEquals(hxw.toString(),this.mimeTypes.detect(s,m).toString());
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReadParameterHierarchy() throws Exception {
  MimeType mimeBTree4=this.mimeTypes.forName("application/x-berkeley-db;format=btree;version=4");
  MediaType mtBTree4=mimeBTree4.getType();
  assertEquals("application/x-berkeley-db; format=btree; version=4",mimeBTree4.toString());
  assertEquals("application/x-berkeley-db; format=btree; version=4",mtBTree4.toString());
  MediaType mtBTree=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree4);
  assertEquals("application/x-berkeley-db; format=btree",mtBTree.toString());
  Set<MediaType> mtBTreeChildren=this.mimeTypes.getMediaTypeRegistry().getChildTypes(mtBTree);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.size() >= 3);
  assertTrue(mtBTreeChildren.toString(),mtBTreeChildren.contains(mtBTree4));
  MediaType mtBD=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtBTree);
  assertEquals("application/x-berkeley-db",mtBD.toString());
  MediaType mtAlt=MediaType.application("x-berkeley-db; format=unknown; version=42");
  MediaType mtAltP=this.mimeTypes.getMediaTypeRegistry().getSupertype(mtAlt);
  assertEquals("application/x-berkeley-db",mtAltP.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRegisteredMimesWithParameters() throws Exception {
  String name="application/xml; charset=UTF-8";
  MediaType mt=MediaType.parse(name);
  assertEquals(name,mt.toString());
  MimeType mimeType=this.mimeTypes.getRegisteredMimeType(name);
  assertEquals("application/xml",mimeType.toString());
  assertEquals(".xml",mimeType.getExtension());
  name="application/dita+xml; format=map";
  mt=MediaType.parse(name);
  assertEquals(name,mt.toString());
  mimeType=this.mimeTypes.getRegisteredMimeType(name);
  assertEquals(name,mimeType.toString());
  assertEquals(".ditamap",mimeType.getExtension());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both have the same
 * priority, we use the name to pick the right one based on the glob, or the
 * first one we come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType,proDetector.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.mime.ProbabilisticMimeDetectionTestWithTika </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that when two magic matches both apply, and both have the same
 * priority, we use the name to pick the right one based on the glob, or the
 * first one we come across if not. See TIKA-1292 for more details.
 */
@Test public void testMimeMagicClashSamePriority() throws IOException {
  byte[] helloWorld="Hello, World!".getBytes(UTF_8);
  MediaType helloType=MediaType.parse("hello/world-file");
  MediaType helloXType=MediaType.parse("hello/x-world-hello");
  Metadata metadata;
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.hello.world");
  assertEquals(helloType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test.x-hello-world");
  assertEquals(helloXType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"testingTESTINGtesting");
  assertEquals(helloXType.toString(),tika.detect(new ByteArrayInputStream(helloWorld),metadata));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.AutoDetectParserTest </h4><pre class="type-9 type-7 type-14 type-12 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to ensure that the Ogg Audio parsers (Vorbis, Opus, Flac etc)
 * have been correctly included, and are available
 */
@SuppressWarnings("deprecation") @Test public void testOggFlacAudio() throws Exception {
  String[] testFiles=new String[]{"testVORBIS.ogg","testFLAC.flac","testFLAC.oga","testOPUS.opus"};
  MediaType[] mediaTypes=new MediaType[]{MediaType.parse(OGG_VORBIS),MediaType.parse(FLAC_NATIVE),MediaType.parse(OGG_FLAC),MediaType.parse(OGG_OPUS)};
  VorbisParser vParser=new VorbisParser();
  assertNotNull("Parser not found for " + mediaTypes[0],vParser.getSupportedTypes(new ParseContext()));
  FlacParser fParser=new FlacParser();
  assertNotNull("Parser not found for " + mediaTypes[1],fParser.getSupportedTypes(new ParseContext()));
  assertNotNull("Parser not found for " + mediaTypes[2],fParser.getSupportedTypes(new ParseContext()));
  OpusParser oParser=new OpusParser();
  assertNotNull("Parser not found for " + mediaTypes[3],oParser.getSupportedTypes(new ParseContext()));
  CompositeParser parser=(CompositeParser)tika.getParser();
  for (  MediaType mt : mediaTypes) {
    assertNotNull("Parser not found for " + mt,parser.getParsers().get(mt));
  }
  for (int i=0; i < testFiles.length; i++) {
    String file=testFiles[i];
    try (InputStream input=AutoDetectParserTest.class.getResourceAsStream("/test-documents/" + file)){
      if (input == null) {
        fail("Could not find test file " + file);
      }
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      new AutoDetectParser(tika).parse(input,handler,metadata);
      assertEquals("Incorrect content type for " + file,mediaTypes[i].toString(),metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Test Artist",metadata.get(Metadata.AUTHOR));
      assertEquals("Test Title",metadata.get(Metadata.TITLE));
      assertEquals("Test Artist",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Test Title",metadata.get(TikaCoreProperties.TITLE));
      if (!file.endsWith(".opus")) {
        assertEquals("Test Album",metadata.get(XMPDM.ALBUM));
      }
      assertEquals("Test Artist",metadata.get(XMPDM.ARTIST));
      assertEquals("Stereo",metadata.get(XMPDM.AUDIO_CHANNEL_TYPE));
      assertEquals("44100",metadata.get(XMPDM.AUDIO_SAMPLE_RATE));
      String content=handler.toString();
      assertTrue(content.contains("Test Title"));
      assertTrue(content.contains("Test Artist"));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.CompositeParserTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("serial") public void testFindDuplicateParsers(){
  Parser a=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.TEXT_PLAIN);
    }
  }
;
  Parser b=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.TEXT_PLAIN);
    }
  }
;
  Parser c=new EmptyParser(){
    public Set<MediaType> getSupportedTypes(    ParseContext context){
      return Collections.singleton(MediaType.OCTET_STREAM);
    }
  }
;
  CompositeParser composite=new CompositeParser(MediaTypeRegistry.getDefaultRegistry(),a,b,c);
  Map<MediaType,List<Parser>> duplicates=composite.findDuplicateParsers(new ParseContext());
  assertEquals(1,duplicates.size());
  List<Parser> parsers=duplicates.get(MediaType.TEXT_PLAIN);
  assertNotNull(parsers);
  assertEquals(2,parsers.size());
  assertEquals(a,parsers.get(0));
  assertEquals(b,parsers.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ParserDecoratorTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Testing one proposed implementation for TIKA-1509
 */
@Test public void withFallback() throws Exception {
  Set<MediaType> onlyOct=Collections.singleton(MediaType.OCTET_STREAM);
  Set<MediaType> octAndText=new HashSet<MediaType>(Arrays.asList(MediaType.OCTET_STREAM,MediaType.TEXT_PLAIN));
  ParseContext context=new ParseContext();
  BodyContentHandler handler;
  Metadata metadata;
  ErrorParser pFail=new ErrorParser();
  DummyParser pWork=new DummyParser(onlyOct,new HashMap<String,String>(),"Fell back!");
  EmptyParser pNothing=new EmptyParser();
  @SuppressWarnings("deprecation") Parser p=ParserDecorator.withFallbacks(Arrays.asList(pFail,pWork),octAndText);
  Set<MediaType> types=p.getSupportedTypes(context);
  assertEquals(2,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
  metadata=new Metadata();
  handler=new BodyContentHandler();
  p.parse(new ByteArrayInputStream(new byte[]{0,1,2,3,4}),handler,metadata,context);
  assertEquals("Fell back!",handler.toString());
  p=ParserDecorator.withFallbacks(Arrays.asList(pNothing,pWork),octAndText);
  metadata=new Metadata();
  handler=new BodyContentHandler();
  p.parse(new ByteArrayInputStream(new byte[]{0,1,2,3,4}),handler,metadata,context);
  assertEquals("",handler.toString());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void withAndWithoutTypes(){
  Set<MediaType> onlyTxt=Collections.singleton(MediaType.TEXT_PLAIN);
  Set<MediaType> onlyOct=Collections.singleton(MediaType.OCTET_STREAM);
  Set<MediaType> both=new HashSet<MediaType>();
  both.addAll(onlyOct);
  both.addAll(onlyTxt);
  Parser p;
  Set<MediaType> types;
  ParseContext context=new ParseContext();
  p=ParserDecorator.withTypes(EmptyParser.INSTANCE,onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  p=ParserDecorator.withTypes(new DummyParser(onlyOct,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.TEXT_PLAIN));
  p=ParserDecorator.withoutTypes(EmptyParser.INSTANCE,onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(0,types.size());
  p=ParserDecorator.withoutTypes(new DummyParser(onlyOct,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
  p=ParserDecorator.withoutTypes(new DummyParser(both,new HashMap<String,String>(),""),onlyTxt);
  types=p.getSupportedTypes(context);
  assertEquals(1,types.size());
  assertEquals(types.toString(),true,types.contains(MediaType.OCTET_STREAM));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.ParsingReaderTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testXML() throws Exception {
  String data="<p>test <span>content</span></p>";
  InputStream stream=new ByteArrayInputStream(data.getBytes(UTF_8));
  Reader reader=new ParsingReader(stream,"test.xml");
  assertEquals(' ',(char)reader.read());
  assertEquals('t',(char)reader.read());
  assertEquals('e',(char)reader.read());
  assertEquals('s',(char)reader.read());
  assertEquals('t',(char)reader.read());
  assertEquals(' ',(char)reader.read());
  assertEquals(' ',(char)reader.read());
  assertEquals('c',(char)reader.read());
  assertEquals('o',(char)reader.read());
  assertEquals('n',(char)reader.read());
  assertEquals('t',(char)reader.read());
  assertEquals('e',(char)reader.read());
  assertEquals('n',(char)reader.read());
  assertEquals('t',(char)reader.read());
  assertEquals('\n',(char)reader.read());
  assertEquals(-1,reader.read());
  reader.close();
  assertEquals(-1,stream.read());
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPlainText() throws Exception {
  String data="test content";
  InputStream stream=new ByteArrayInputStream(data.getBytes(UTF_8));
  Reader reader=new ParsingReader(stream,"test.txt");
  assertEquals('t',reader.read());
  assertEquals('e',reader.read());
  assertEquals('s',reader.read());
  assertEquals('t',reader.read());
  assertEquals(' ',reader.read());
  assertEquals('c',reader.read());
  assertEquals('o',reader.read());
  assertEquals('n',reader.read());
  assertEquals('t',reader.read());
  assertEquals('e',reader.read());
  assertEquals('n',reader.read());
  assertEquals('t',reader.read());
  assertEquals('\n',reader.read());
  assertEquals(-1,reader.read());
  reader.close();
  assertEquals(-1,stream.read());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.RecursiveParserWrapperTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicText() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p ") < 0);
  assertTrue(content.indexOf("embed_0") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPrimaryExcWEmbedded() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"embedded_then_npe.xml");
  ParseContext context=new ParseContext();
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),true);
  String path="/test-documents/mock/embedded_then_npe.xml";
  InputStream stream=null;
  boolean npe=false;
  try {
    stream=RecursiveParserWrapperTest.class.getResourceAsStream(path);
    wrapper.parse(stream,new DefaultHandler(),metadata,context);
  }
 catch (  TikaException e) {
    if (e.getCause().getClass().equals(NullPointerException.class)) {
      npe=true;
    }
  }
 finally {
    IOUtils.closeQuietly(stream);
  }
  assertTrue("npe",npe);
  List<Metadata> metadataList=wrapper.getMetadata();
  assertEquals(2,metadataList.size());
  Metadata outerMetadata=metadataList.get(0);
  Metadata embeddedMetadata=metadataList.get(1);
  assertContains("main_content",outerMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embedded_then_npe.xml",outerMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("Nikolai Lobachevsky",outerMetadata.get("author"));
  assertContains("some_embedded_content",embeddedMetadata.get(RecursiveParserWrapper.TIKA_CONTENT));
  assertEquals("embed1.xml",embeddedMetadata.get(TikaMetadataKeys.RESOURCE_NAME_KEY));
  assertEquals("embeddedAuthor",embeddedMetadata.get("author"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicXML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDigesters() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),true,new CommonsDigester(100000,CommonsDigester.DigestAlgorithm.MD5));
  int i=0;
  Metadata m0=list.get(0);
  Metadata m6=list.get(6);
  String md5Key="X-TIKA:digest:MD5";
  assertEquals("59f626e09a8c16ab6dbc2800c685f772",list.get(0).get(md5Key));
  assertEquals("ccdf3882e7e4c2454e28884db9b0a54d",list.get(6).get(md5Key));
  assertEquals("a869bf6432ebd14e19fc79416274e0c9",list.get(7).get(md5Key));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testIgnoreContent() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertNull(content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testBasicHTML() throws Exception {
  List<Metadata> list=getMetadata(new Metadata(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.HTML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\"></p>") > -1);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMaxEmbedded() throws Exception {
  int maxEmbedded=4;
  int totalNoLimit=12;
  ParseContext context=new ParseContext();
  Metadata metadata=new Metadata();
  String limitReached=null;
  Parser wrapped=new AutoDetectParser();
  RecursiveParserWrapper wrapper=new RecursiveParserWrapper(wrapped,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  InputStream stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  List<Metadata> list=wrapper.getMetadata();
  assertEquals(totalNoLimit,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertNull(limitReached);
  wrapper.reset();
  stream.close();
  metadata=new Metadata();
  stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.setMaxEmbeddedResources(maxEmbedded);
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  list=wrapper.getMetadata();
  assertEquals(maxEmbedded + 1,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertEquals("true",limitReached);
  wrapper.reset();
  stream.close();
  metadata=new Metadata();
  stream=RecursiveParserWrapperTest.class.getResourceAsStream("/test-documents/test_recursive_embedded.docx");
  wrapper.setMaxEmbeddedResources(-2);
  wrapper.parse(stream,new DefaultHandler(),metadata,context);
  assertEquals(totalNoLimit,list.size());
  limitReached=list.get(0).get(RecursiveParserWrapper.EMBEDDED_RESOURCE_LIMIT_REACHED);
  assertNull(limitReached);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedResourcePath() throws Exception {
  Set<String> targets=new HashSet<String>();
  targets.add("/embed1.zip");
  targets.add("/embed1.zip/embed2.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed4.zip/embed4.txt");
  targets.add("/embed1.zip/embed2.zip/embed3.zip/embed3.txt");
  targets.add("/embed1.zip/embed2.zip/embed2a.txt");
  targets.add("/embed1.zip/embed2.zip/embed2b.txt");
  targets.add("/embed1.zip/embed1b.txt");
  targets.add("/embed1.zip/embed1a.txt");
  targets.add("/image1.emf");
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.XML,-1));
  Metadata container=list.get(0);
  String content=container.get(RecursiveParserWrapper.TIKA_CONTENT);
  assertTrue(content.indexOf("<p class=\"header\" />") > -1);
  Set<String> seen=new HashSet<String>();
  for (  Metadata m : list) {
    String path=m.get(RecursiveParserWrapper.EMBEDDED_RESOURCE_PATH);
    if (path != null) {
      seen.add(path);
    }
  }
  assertEquals(targets,seen);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedNPE() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded_npe.docx");
  List<Metadata> list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1));
  assertEquals(13,list.size());
  Metadata mockNPEMetadata=list.get(10);
  assertContains("java.lang.NullPointerException",mockNPEMetadata.get(RecursiveParserWrapper.EMBEDDED_EXCEPTION));
  metadata=new Metadata();
  metadata.set(Metadata.RESOURCE_NAME_KEY,"test_recursive_embedded_npe.docx");
  list=getMetadata(metadata,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.TEXT,-1),false,null);
  assertEquals(12,list.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.asm.ClassParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClassParsing() throws Exception {
  String path="/test-documents/AutoDetectParser.class";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(ClassParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("AutoDetectParser",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("AutoDetectParser.class",metadata.get(Metadata.RESOURCE_NAME_KEY));
  assertTrue(content.contains("package org.apache.tika.parser;"));
  assertTrue(content.contains("class AutoDetectParser extends CompositeParser"));
  assertTrue(content.contains("private org.apache.tika.mime.MimeTypes types"));
  assertTrue(content.contains("public void parse(" + "java.io.InputStream, org.xml.sax.ContentHandler," + " org.apache.tika.metadata.Metadata) throws"+ " java.io.IOException, org.xml.sax.SAXException,"+ " org.apache.tika.exception.TikaException;"));
  assertTrue(content.contains("private byte[] getPrefix(java.io.InputStream, int)" + " throws java.io.IOException;"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.audio.AudioParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAU() throws Exception {
  String path="/test-documents/testAU.au";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/basic",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAIFF() throws Exception {
  String path="/test-documents/testAIFF.aif";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/x-aiff",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWAV() throws Exception {
  String path="/test-documents/testWAV.wav";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(AudioParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("audio/x-wav",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("44100.0",metadata.get("samplerate"));
  assertEquals("2",metadata.get("channels"));
  assertEquals("16",metadata.get("bits"));
  assertEquals("PCM_SIGNED",metadata.get("encoding"));
  assertEquals("",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.chm.TestChmBlockInfo </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testGetChmBlockInfo(){
  for (  DirectoryListingEntry directoryListingEntry : chmDirListCont.getDirectoryListingEntryList()) {
    chmBlockInfo=ChmBlockInfo.getChmBlockInfoInstance(directoryListingEntry,(int)clrt.getBlockLen(),chmLzxcControlData);
    assertTrue(!ChmCommons.isEmpty(directoryListingEntry.getName()) && chmBlockInfo.toString() != null);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.code.SourceCodeParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testTextRender() throws Exception {
  String textContent=getText(getResourceAsStream("/test-documents/testJAVA.java"),sourceCodeParser,createMetadata("text/x-java-source"));
  assertTrue(textContent.length() > 0);
  assertTrue(textContent.indexOf("html") < 0);
  textContent=getText(new ByteArrayInputStream("public class HelloWorld {}".getBytes(UTF_8)),sourceCodeParser,createMetadata("text/x-java-source"));
  assertTrue(textContent.length() > 0);
  assertTrue(textContent.indexOf("html") < 0);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testHTMLRenderWithReturnLine() throws Exception {
  String htmlContent=getXML(getResourceAsStream("/test-documents/testJAVA.java"),sourceCodeParser,createMetadata("text/x-java-source")).xml;
  assertTrue(htmlContent.indexOf("<html:html lang=\"en\" xml:lang=\"en\"") == 0);
  assertTrue(htmlContent.indexOf("<html:span class=\"java_keyword\">public</span><html:span class=\"java_plain\">") > 0);
  assertTrue(htmlContent.indexOf("<html:span class=\"java_keyword\">static</span>") > 0);
  assertTrue(htmlContent.indexOf("<html:br clear=\"none\" />") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.executable.ExecutableParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWin32Parser() throws Exception {
  try (InputStream input=ExecutableParserTest.class.getResourceAsStream("/test-documents/testWindows-x86-32.exe")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new ExecutableParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-msdownload",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2012-05-13T13:40:11Z",metadata.get(Metadata.CREATION_DATE));
    assertEquals(ExecutableParser.MACHINE_x86_32,metadata.get(ExecutableParser.MACHINE_TYPE));
    assertEquals("Little",metadata.get(ExecutableParser.ENDIAN));
    assertEquals("32",metadata.get(ExecutableParser.ARCHITECTURE_BITS));
    assertEquals("Windows",metadata.get(ExecutableParser.PLATFORM));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testElfParser_x86_32() throws Exception {
  try (InputStream input=ExecutableParserTest.class.getResourceAsStream("/test-documents/testLinux-x86-32")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new ExecutableParser().parse(input,handler,metadata,new ParseContext());
    assertEquals("application/x-executable",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(ExecutableParser.MACHINE_x86_32,metadata.get(ExecutableParser.MACHINE_TYPE));
    assertEquals("Little",metadata.get(ExecutableParser.ENDIAN));
    assertEquals("32",metadata.get(ExecutableParser.ARCHITECTURE_BITS));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.feed.FeedParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRSSParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/rsstest.rss")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample RSS File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("TestChannel",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAtomParser() throws Exception {
  try (InputStream input=FeedParserTest.class.getResourceAsStream("/test-documents/testATOM.atom")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    new FeedParser().parse(input,handler,metadata,context);
    String content=handler.toString();
    assertFalse(content == null);
    assertEquals("Sample Atom File for Junit test",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Test Atom Feed",metadata.get(TikaCoreProperties.TITLE));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.font.FontParsersTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTTFParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (TikaInputStream stream=TikaInputStream.get(FontParsersTest.class.getResource("/test-documents/testTrueType3.ttf"))){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("application/x-font-ttf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Open Sans Bold",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("2010-12-30T11:04:00Z",metadata.get(Metadata.CREATION_DATE));
  assertEquals("2010-12-30T11:04:00Z",metadata.get(TikaCoreProperties.CREATED));
  assertEquals("2011-05-05T12:37:53Z",metadata.get(TikaCoreProperties.MODIFIED));
  assertEquals("Open Sans Bold",metadata.get(MET_FONT_NAME));
  assertEquals("Open Sans",metadata.get(MET_FONT_FAMILY_NAME));
  assertEquals("Bold",metadata.get(MET_FONT_SUB_FAMILY_NAME));
  assertEquals("OpenSans-Bold",metadata.get(MET_PS_NAME));
  assertEquals("Digitized",metadata.get("Copyright").substring(0,9));
  assertEquals("Open Sans",metadata.get("Trademark").substring(0,9));
  assertEquals(null,metadata.get(MET_FONT_FULL_NAME));
  assertEquals(null,metadata.get(MET_FONT_WEIGHT));
  assertEquals(null,metadata.get(MET_FONT_VERSION));
  String content=handler.toString();
  assertEquals("",content);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.geoinfo.GeographicInformationParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testISO19139() throws Exception {
  String path="/test-documents/sampleFile.iso19139";
  Metadata metadata=new Metadata();
  Parser parser=new org.apache.tika.parser.geoinfo.GeographicInformationParser();
  ContentHandler contentHandler=new BodyContentHandler();
  ParseContext parseContext=new ParseContext();
  InputStream inputStream=GeographicInformationParser.class.getResourceAsStream(path);
  parser.parse(inputStream,contentHandler,metadata,parseContext);
  assertEquals("text/iso19139+xml",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("UTF-8",metadata.get("CharacterSet"));
  assertEquals("https",metadata.get("TransferOptionsOnlineProtocol "));
  assertEquals("browser",metadata.get("TransferOptionsOnlineProfile "));
  assertEquals("Barrow Atqasuk ARCSS Plant",metadata.get("TransferOptionsOnlineName "));
  String content=contentHandler.toString();
  assertTrue(content.contains("Barrow Atqasuk ARCSS Plant"));
  assertTrue(content.contains("GeographicElementWestBoundLatitude	-157.24"));
  assertTrue(content.contains("GeographicElementEastBoundLatitude	-156.4"));
  assertTrue(content.contains("GeographicElementNorthBoundLatitude	71.18"));
  assertTrue(content.contains("GeographicElementSouthBoundLatitude	70.27"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.grib.GribParserTest </h4><pre class="type-9 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseGlobalMetadata() throws Exception {
  Parser parser=new GribParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  try (InputStream stream=GribParser.class.getResourceAsStream("/test-documents/gdas1.forecmwf.2014062612.grib2")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertNotNull(metadata);
  String content=handler.toString();
  assertTrue(content.contains("dimensions:"));
  assertTrue(content.contains("variables:"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.html.HtmlParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for HTML content like
 * "&gt;div&lt;foo&gt;br&lt;bar&gt;/div&gt;" that should result
 * in three whitespace-separated tokens "foo", "bar" and "baz" instead
 * of a single token "foobarbaz".
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-343">TIKA-343</a>
 */
@Test public void testLineBreak() throws Exception {
  String test="<html><body><div>foo<br>bar</div>baz</body></html>";
  String text=new Tika().parseToString(new ByteArrayInputStream(test.getBytes(US_ASCII)));
  String[] parts=text.trim().split("\\s+");
  assertEquals(3,parts.length);
  assertEquals("foo",parts[0]);
  assertEquals("bar",parts[1]);
  assertEquals("baz",parts[2]);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-17 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Ignore("The file 'testXHTML_utf8.html' is not available fo testing") public void XtestParseUTF8() throws IOException, SAXException, TikaException {
  String path="/test-documents/testXHTML_utf8.html";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(HtmlParserTest.class.getResourceAsStream(path),metadata);
  assertTrue("Did not contain expected text:" + "Title : Tilte with UTF-8 chars ",content.contains("Title : Tilte with UTF-8 chars "));
  assertTrue("Did not contain expected text:" + "Content with UTF-8 chars",content.contains("Content with UTF-8 chars"));
  assertTrue("Did not contain expected text:" + "",content.contains(""));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for TIKA-210
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-210">TIKA-210</a>
 */
@Test public void testCharactersDirectlyUnderBodyElement() throws Exception {
  String test="<html><body>test</body></html>";
  String content=new Tika().parseToString(new ByteArrayInputStream(test.getBytes(UTF_8)));
  assertEquals("test",content);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testIFrameSrcExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><iframe src =\"framed.html\" width=\"100%\" height=\"300\">"+ "<p>Your browser doesn't support iframes!</p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<iframe .* src=\"http://domain.com/framed.html\".*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-481. Verify href in <link> is resolved.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-481">TIKA-481</a>
 */
@Test public void testLinkHrefResolution() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "<link rel=\"next\" href=\"next.html\" />"+ "</head><body></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<head>.*<link rel=\"next\" href=\"http://domain.com/next.html\"/>.*</head>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-480: fix NPE when using BodyContentHandler or HtmlTransformer
 * as delegate for BoilerpipeContentHandler
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-480">TIKA-480</a>
 */
@Test public void testBoilerplateDelegation() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),makeHtmlTransformer(sw),metadata,new ParseContext());
  String content=sw.toString();
  assertTrue(Pattern.matches("(?s).*<html xmlns=\"http://www.w3.org/1999/xhtml\">.*</html>.*$",content));
  assertTrue(Pattern.matches("(?s).*<head>.*</head>.*$",content));
  assertTrue(Pattern.matches("(?s).*<title>Title</title>.*$",content));
  assertTrue(Pattern.matches("(?s).*<body>.*</body>.*$",content));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-478. Don't emit <head> sub-elements inside of <body>.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-478">TIKA-478</a>
 */
@Test public void testElementOrdering() throws Exception {
  final String test="<html><head><title>Title</title>" + "<meta http-equiv=\"content-type\" content=\"text/html\">" + "<link rel=\"next\" href=\"next.html\" />"+ "</head><body><p>Simple Content</p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<title>Title</title>.*</head>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*<meta. *</body>.*$",result));
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<meta .*</head>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*<link .*</body>.*$",result));
  assertTrue(Pattern.matches("(?s)<html.*<head>.*<link .*</head>.*$",result));
  assertTrue(Pattern.matches("(?s).*</body>.*</html>$",result));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testNoisyMetaCharsetHeaders() throws Exception {
  Tika tika=new Tika();
  String hit="\u0623\u0639\u0631\u0628";
  for (int i=1; i <= 4; i++) {
    String fileName="/test-documents/testHTMLNoisyMetaEncoding_" + i + ".html";
    String content=tika.parseToString(HtmlParserTest.class.getResourceAsStream(fileName));
    assertTrue("testing: " + fileName,content.contains(hit));
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseAscii() throws Exception {
  String path="/test-documents/testHTML.html";
  final StringWriter href=new StringWriter();
  final StringWriter name=new StringWriter();
  ContentHandler body=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=HtmlParserTest.class.getResourceAsStream(path)){
    ContentHandler link=new DefaultHandler(){
      @Override public void startElement(      String u,      String l,      String n,      Attributes a) throws SAXException {
        if ("a".equals(l)) {
          if (a.getValue("href") != null) {
            href.append(a.getValue("href"));
          }
 else           if (a.getValue("name") != null) {
            name.append(a.getValue("name"));
          }
        }
      }
    }
;
    new HtmlParser().parse(stream,new TeeContentHandler(body,link),metadata,new ParseContext());
  }
   assertEquals("Title : Test Indexation Html",metadata.get(TikaCoreProperties.TITLE));
  assertEquals("Tika Developers",metadata.get("Author"));
  assertEquals("5",metadata.get("refresh"));
  assertEquals("51.2312",metadata.get(Geographic.LATITUDE));
  assertEquals("-5.1987",metadata.get(Geographic.LONGITUDE));
  assertEquals("http://www.apache.org/",href.toString());
  assertEquals("test-anchor",name.toString());
  String content=body.toString();
  assertTrue("Did not contain expected text:" + "Test Indexation Html",content.contains("Test Indexation Html"));
  assertTrue("Did not contain expected text:" + "Indexation du fichier",content.contains("Indexation du fichier"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testObjectExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><p><object data=\"object.data\" type=\"text/html\">"+ "<param name=\"name\" value=\"value\" />"+ "</object></p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue("<object> tag not correctly found in:\n" + result,Pattern.matches("(?s).*<object data=\"http://domain.com/object.data\".*<param .* name=\"name\" value=\"value\"/>.*</object>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testImgUrlExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><img src=\"image.jpg\" /></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*src=\"http://domain.com/image.jpg\".*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-268
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-268">TIKA-268</a>
 */
@Test public void testWhitespaceBetweenTableCells() throws Exception {
  String test="<html><body><table><tr><td>a</td><td>b</td></table></body></html>";
  String content=new Tika().parseToString(new ByteArrayInputStream(test.getBytes(UTF_8)));
  assertContains("a",content);
  assertContains("b",content);
  assertFalse(content.contains("ab"));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for change related to TIKA-463. Verify proper handling of <meta> tags.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testMetaTagHandling() throws Exception {
  final String test="<html><body><h1>header</h1><p>some text</p></body></html>";
  Metadata metadata=new Metadata();
  metadata.add("Content-Type","text/html; charset=utf-8");
  metadata.add("Language",null);
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),metadata,new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<meta name=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<meta name=\"Language\".*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-869
 * IdentityHtmlMapper needs to lower-case tag names.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-869">TIKA-869</a>
 */
@Test public void testIdentityMapper() throws Exception {
  final String html="<html><head><title>Title</title></head>" + "<body></body></html>";
  Metadata metadata=new Metadata();
  ParseContext parseContext=new ParseContext();
  parseContext.set(HtmlMapper.class,IdentityHtmlMapper.INSTANCE);
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(html.getBytes(UTF_8)),makeHtmlTransformer(sw),metadata,parseContext);
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<body/>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testFrameSrcExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><frameset><frame src=\"frame.html\" /></frameset></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"http://domain.com/frame.html\"/>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-463. Don't skip elements that have URLs.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-463">TIKA-463</a>
 */
@Test public void testAreaExtraction() throws Exception {
  final String test="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><p><map name=\"map\" id=\"map\">"+ "<area shape=\"rect\" href=\"map.html\" alt=\"\" />"+ "</map></p></body></html>";
  StringWriter sw=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test.getBytes(UTF_8)),makeHtmlTransformer(sw),new Metadata(),new ParseContext());
  String result=sw.toString();
  assertTrue(Pattern.matches("(?s).*<map .*<area .* href=\"http://domain.com/map.html\".*</map>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-457. Better handling for broken HTML that has <frameset> inside of <body>.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-457">TIKA-457</a>
 */
@Test public void testBrokenFrameset() throws Exception {
  final String test1="<html><head><title>Title</title>" + "<base href=\"http://domain.com\" />" + "</head><body><frameset><frame src=\"frame.html\" /></frameset></body></html>";
  StringWriter sw1=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test1.getBytes(UTF_8)),makeHtmlTransformer(sw1),new Metadata(),new ParseContext());
  String result=sw1.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"http://domain.com/frame.html\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*$",result));
  final String test2="<html><head><title> my title </title></head><body>" + "<frameset rows=\"20,*\"><frame src=\"top.html\"></frame>" + "<frameset cols=\"20,*\"><frame src=\"left.html\"></frame>"+ "<frame src=\"invalid.html\"/></frame>"+ "<frame src=\"right.html\"></frame>"+ "</frameset></frameset></body></html>";
  StringWriter sw2=new StringWriter();
  new HtmlParser().parse(new ByteArrayInputStream(test2.getBytes(UTF_8)),makeHtmlTransformer(sw2),new Metadata(),new ParseContext());
  result=sw2.toString();
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"top.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"left.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"invalid.html\"/>.*$",result));
  assertTrue(Pattern.matches("(?s).*<frame .* src=\"right.html\"/>.*$",result));
  assertFalse(Pattern.matches("(?s).*<body>.*$",result));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for TIKA-564. Support returning markup from BoilerpipeContentHandler.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-564">TIKA-564</a>
 */
@Test public void testBoilerplateWithMarkup() throws Exception {
  String path="/test-documents/boilerplate.html";
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  ContentHandler ch=makeHtmlTransformer(sw);
  BoilerpipeContentHandler bpch=new BoilerpipeContentHandler(ch);
  bpch.setIncludeMarkup(true);
  new HtmlParser().parse(HtmlParserTest.class.getResourceAsStream(path),bpch,metadata,new ParseContext());
  String content=sw.toString();
  assertTrue("Has empty table elements",content.contains("<body><table><tr><td><table><tr><td>"));
  assertTrue("Has empty a element",content.contains("<a shape=\"rect\" href=\"Main.php\"/>"));
  assertTrue("Has real content",content.contains("<p>This is the real meat"));
  assertTrue("Ends with appropriate HTML",content.endsWith("</p></body></html>"));
  assertFalse(content.contains("boilerplate"));
  assertFalse(content.contains("footer"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.iwork.IWorkParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testKeynoteTextBoxes() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testTextBoxes.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  String content=handler.toString();
  assertTrue(content.replaceAll("\\s+"," ").contains("text1 text2 text3"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * We don't currently support password protected Pages files, as
 * we don't know how the encryption works (it's not regular Zip
 * Encryption). See TIKA-903 for details
 */
@Test public void testParsePagesPasswordProtected() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testPagesPwdProtected.pages");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  String content=handler.toString();
  assertEquals("",content);
  assertEquals("application/x-tika-iworks-protected",metadata.get(Metadata.CONTENT_TYPE));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testKeynoteBulletPoints() throws Exception {
  InputStream input=IWorkParserTest.class.getResourceAsStream("/test-documents/testBulletPoints.key");
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  iWorkParser.parse(input,handler,metadata,parseContext);
  String content=handler.toString();
  assertTrue(content.replaceAll("\\s+"," ").contains("bullet point 1 bullet point 2 bullet point 3"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.jdbc.SQLite3ParserTest </h4><pre class="type-9 type-4 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testBasic() throws Exception {
  Parser p=new AutoDetectParser();
  InputStream[] streams=new InputStream[3];
  streams[0]=getResourceAsStream(TEST_FILE1);
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  IOUtils.copy(getResourceAsStream(TEST_FILE1),bos);
  streams[1]=new ByteArrayInputStream(bos.toByteArray());
  streams[2]=TikaInputStream.get(getResourceAsFile(TEST_FILE1));
  int tests=0;
  for (  InputStream stream : streams) {
    Metadata metadata=new Metadata();
    metadata.set(Metadata.RESOURCE_NAME_KEY,TEST_FILE_NAME);
    XMLResult result=getXML(stream,p,metadata);
    String x=result.xml;
    assertContains("<table name=\"my_table1\"><thead><tr>\t<th>INT_COL</th>",x);
    assertContains("<td></td>",x);
    assertContains("<td>true</td>\t<td>2015-01-02</td>",x);
    assertContains("2015-01-04",x);
    assertContains("2015-01-03 15:17:03",x);
    assertContains("alt=\"image1.png\"",x);
    assertContains("alt=\"A description...\"",x);
    assertContains("<table name=\"my_table2\"><thead><tr>\t<th>INT_COL2</th>",x);
    Metadata post=result.metadata;
    String[] tableNames=post.getValues(Database.TABLE_NAME);
    assertEquals(2,tableNames.length);
    assertEquals("my_table1",tableNames[0]);
    assertEquals("my_table2",tableNames[1]);
    tests++;
  }
  assertEquals(3,tests);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.jpeg.JpegParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJPEGTitleAndDescriptionXnviewmp() throws Exception {
  Metadata metadata=new Metadata();
  metadata.set(Metadata.CONTENT_TYPE,"image/jpeg");
  InputStream stream=getClass().getResourceAsStream("/test-documents/testJPEG_commented_xnviewmp026.jpg");
  parser.parse(stream,new DefaultHandler(),metadata,new ParseContext());
  assertEquals("Bird site in north eastern Sk\u00E5ne, Sweden.\n(new line)",metadata.get(TikaCoreProperties.DESCRIPTION));
  String[] subject=metadata.getValues(TikaCoreProperties.KEYWORDS);
  List<String> keywords=Arrays.asList(subject);
  assertTrue("'coast'" + " not in " + keywords,keywords.contains("coast"));
  assertTrue("'nature reserve'" + " not in " + keywords,keywords.contains("nature reserve"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mail.RFC822ParserTest </h4><pre class="type-9 type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipart(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822-multipart");
  ContentHandler handler=mock(XHTMLContentHandler.class);
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    verify(handler).startDocument();
    int bodyExpectedTimes=4, multipackExpectedTimes=5;
    if (!TesseractOCRParserTest.canRun()) {
      verify(handler,times(bodyExpectedTimes)).startElement(eq(XHTMLContentHandler.XHTML),eq("div"),eq("div"),any(Attributes.class));
      verify(handler,times(bodyExpectedTimes)).endElement(XHTMLContentHandler.XHTML,"div","div");
    }
    verify(handler,times(multipackExpectedTimes)).startElement(eq(XHTMLContentHandler.XHTML),eq("p"),eq("p"),any(Attributes.class));
    verify(handler,times(multipackExpectedTimes)).endElement(XHTMLContentHandler.XHTML,"p","p");
    verify(handler).endDocument();
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
  parser=new RFC822Parser();
  metadata=new Metadata();
  stream=getStream("test-documents/testRFC822-multipart");
  handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    String bodyText=handler.toString();
    assertTrue(bodyText.contains("body 1"));
    assertTrue(bodyText.contains("body 2"));
    assertFalse(bodyText.contains("R0lGODlhNgE8AMQAA"));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-12 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for TIKA-640, increase header max beyond 10k bytes
 */
@Test public void testLongHeader() throws Exception {
  StringBuilder inputBuilder=new StringBuilder();
  for (int i=0; i < 2000; ++i) {
    inputBuilder.append("really really really really really really long name ");
  }
  String name=inputBuilder.toString();
  byte[] data=("From: " + name + "\r\n\r\n").getBytes(US_ASCII);
  Parser parser=new RFC822Parser();
  ContentHandler handler=new DefaultHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try {
    parser.parse(new ByteArrayInputStream(data),handler,metadata,context);
    fail();
  }
 catch (  TikaException expected) {
  }
  MimeConfig config=new MimeConfig();
  config.setMaxHeaderLen(-1);
  config.setMaxLineLen(-1);
  context.set(MimeConfig.class,config);
  parser.parse(new ByteArrayInputStream(data),handler,metadata,context);
  assertEquals(name.trim(),metadata.get(TikaCoreProperties.CREATOR));
}

</code></pre>

<br>
<pre class="type-9 type-12 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQuotedPrintable(){
  Parser parser=new RFC822Parser();
  Metadata metadata=new Metadata();
  InputStream stream=getStream("test-documents/testRFC822_quoted");
  ContentHandler handler=new BodyContentHandler();
  try {
    parser.parse(stream,handler,metadata,new ParseContext());
    String bodyText=handler.toString();
    assertTrue(bodyText.contains("D\u00FCsseldorf has non-ascii."));
    assertTrue(bodyText.contains("Lines can be split like this."));
    assertTrue(bodyText.contains("Spaces at the end of a line \r\nmust be encoded.\r\n"));
    assertFalse(bodyText.contains("="));
  }
 catch (  Exception e) {
    fail("Exception thrown: " + e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mbox.MboxParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimple() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=getStream("/test-documents/simple.mbox")){
    mboxParser.parse(stream,handler,metadata,recursingContext);
  }
   String content=handler.toString();
  assertContains("Test content 1",content);
  assertContains("Test content 2",content);
  assertEquals("application/mbox",metadata.get(Metadata.CONTENT_TYPE));
  Map<Integer,Metadata> mailsMetadata=mboxParser.getTrackingMetadata();
  assertEquals("Nb. Of mails",2,mailsMetadata.size());
  Metadata mail1=mailsMetadata.get(0);
  assertEquals("message/rfc822",mail1.get(Metadata.CONTENT_TYPE));
  assertEquals("envelope-sender-mailbox-name Mon Jun 01 10:00:00 2009",mail1.get("MboxParser-from"));
  Metadata mail2=mailsMetadata.get(1);
  assertEquals("message/rfc822",mail2.get(Metadata.CONTENT_TYPE));
  assertEquals("envelope-sender-mailbox-name Mon Jun 01 11:00:00 2010",mail2.get("MboxParser-from"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mbox.OutlookPSTParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-10 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParse() throws Exception {
  Parser pstParser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  ContentHandler handler=new ToHTMLContentHandler();
  ParseContext context=new ParseContext();
  EmbeddedTrackingExtrator trackingExtrator=new EmbeddedTrackingExtrator(context);
  context.set(EmbeddedDocumentExtractor.class,trackingExtrator);
  context.set(Parser.class,new AutoDetectParser());
  pstParser.parse(getResourceAsStream("/test-documents/testPST.pst"),handler,metadata,context);
  String output=handler.toString();
  assertFalse(output.isEmpty());
  assertTrue(output.contains("<meta name=\"Content-Length\" content=\"271360\">"));
  assertTrue(output.contains("<meta name=\"Content-Type\" content=\"application/vnd.ms-outlook-pst\">"));
  assertTrue(output.contains("<body><div class=\"email-folder\"><h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;530D9CAC.5080901@gmail.com&gt;\"><h1>Re: Feature Generators</h1>"));
  assertTrue(output.contains("<div class=\"embedded\" id=\"&lt;1393363252.28814.YahooMailNeo@web140906.mail.bf1.yahoo.com&gt;\"><h1>Re: init tokenizer fails: \"Bad type in putfield/putstatic\"</h1>"));
  assertTrue(output.contains("Gary Murphy commented on TIKA-1250:"));
  assertTrue(output.contains("<div class=\"email-folder\"><h1>Racine (pour la recherche)</h1>"));
  List<Metadata> metaList=trackingExtrator.trackingMetadata;
  assertEquals(6,metaList.size());
  Metadata firstMail=metaList.get(0);
  assertEquals("Jrn Kottmann",firstMail.get(TikaCoreProperties.CREATOR));
  assertEquals("Re: Feature Generators",firstMail.get(TikaCoreProperties.TITLE));
  assertEquals("kottmann@gmail.com",firstMail.get("senderEmailAddress"));
  assertEquals("users@opennlp.apache.org",firstMail.get("displayTo"));
  assertEquals("",firstMail.get("displayCC"));
  assertEquals("",firstMail.get("displayBCC"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ExcelParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * We don't currently support the .xlsb file format 
 * (an OOXML container with binary blobs), but we 
 * shouldn't break on these files either (TIKA-826)  
 */
@Test public void testExcelXLSB() throws Exception {
  Detector detector=new DefaultDetector();
  AutoDetectParser parser=new AutoDetectParser();
  Metadata m=new Metadata();
  m.add(Metadata.RESOURCE_NAME_KEY,"excel.xlsb");
  MediaType type;
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL.xlsb")){
    type=detector.detect(input,m);
    assertEquals("application/vnd.ms-excel.sheet.binary.macroenabled.12",type.toString());
  }
   assertEquals(false,(new OfficeParser()).getSupportedTypes(new ParseContext()).contains(type));
  assertEquals(false,(new OOXMLParser()).getSupportedTypes(new ParseContext()).contains(type));
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL.xlsb")){
    ContentHandler handler=new BodyContentHandler(-1);
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    parser.parse(input,handler,m,context);
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExcelParserFormatting() throws Exception {
  try (InputStream input=ExcelParserTest.class.getResourceAsStream("/test-documents/testEXCEL-formats.xls")){
    Metadata metadata=new Metadata();
    ParseContext context=new ParseContext();
    context.set(Locale.class,Locale.US);
    ContentHandler handler=new BodyContentHandler();
    new OfficeParser().parse(input,handler,metadata,context);
    assertEquals("application/vnd.ms-excel",metadata.get(Metadata.CONTENT_TYPE));
    String content=handler.toString();
    assertContains("1,599.99",content);
    assertContains("-1,599.99",content);
    assertContains("$1,599.99",content);
    assertContains("($1,599.99)",content);
    assertTrue(content.contains("1.98E08") || content.contains("1.98E+08"));
    assertTrue(content.contains("-1.98E08") || content.contains("-1.98E+08"));
    assertContains("2.50%",content);
    if (System.getProperty("java.version").startsWith("1.5")) {
      assertContains("2%",content);
    }
 else {
      assertContains("3%",content);
    }
    assertContains("6:15",content);
    assertContains("18:15",content);
    assertContains("17-May-07",content);
    assertContains("10/3/09",content);
    assertContains("1/19/08 4:35",content);
    assertContains("2 1/2",content);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OfficeParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void parseOfficeWord() throws Exception {
  Metadata metadata=new Metadata();
  Parser parser=new OfficeParser();
  String xml=getXML(getTestDocument("test.doc"),parser,metadata).xml;
  assertTrue(xml.contains("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OldExcelParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDetection() throws Exception {
  Detector detector=new DefaultDetector();
  try (TikaInputStream stream=getTestFile(file)){
    assertEquals(MediaType.application("vnd.ms-excel.sheet.4"),detector.detect(stream,new Metadata()));
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.OutlookParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutlookForwarded() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"yes");
  handler.setResult(new StreamResult(sw));
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/testMSG_forwarded.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   String content=sw.toString();
  assertEquals(2,content.split("<body>").length);
  assertEquals(2,content.split("<\\/body>").length);
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutlookHTMLVersion() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"yes");
  handler.setResult(new StreamResult(sw));
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/testMSG_chinese.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   String content=sw.toString();
  assertContains("<dd>tests.chang@fengttt.com</dd>",content);
  assertContains("<p>Alfresco MSG format testing",content);
  assertContains("<li>1",content);
  assertContains("<li>2",content);
  assertEquals(2,content.split("<body>").length);
  assertEquals(2,content.split("<\\/body>").length);
  assertContains("\u5F35\u6BD3\u502B",metadata.get(TikaCoreProperties.CREATOR));
  assertContains("\u9673\u60E0\u73CD",content);
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOutlookHTMLfromRTF() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"yes");
  handler.setResult(new StreamResult(sw));
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/test-outlook2003.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   String content=sw.toString().replaceAll("<p>\\s+","<p>");
  assertContains("<dd>New Outlook User</dd>",content);
  assertContains("designed <i>to help you",content);
  assertContains("<p><a href=\"http://r.office.microsoft.com/r/rlidOutlookWelcomeMail10?clid=1033\">Cached Exchange Mode</a>",content);
  assertContains("sign up for a free subscription",content);
  assertContains("Office Newsletter",content);
  assertContains("newsletter will be sent to you",content);
  assertContains("http://r.office.microsoft.com/r/rlidNewsletterSignUp?clid=1033",content);
  assertEquals(2,content.split("<body>").length);
  assertEquals(2,content.split("<\\/body>").length);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for TIKA-197
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-197">TIKA-197</a>
 */
@Test public void testMultipleCopies() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=OutlookParserTest.class.getResourceAsStream("/test-documents/testMSG.msg")){
    parser.parse(stream,handler,metadata,new ParseContext());
  }
   assertEquals("application/vnd.ms-outlook",metadata.get(Metadata.CONTENT_TYPE));
  String content=handler.toString();
  Pattern pattern=Pattern.compile("From");
  Matcher matcher=pattern.matcher(content);
  assertTrue(matcher.find());
  assertFalse(matcher.find());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.POIContainerExtractionTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPowerpointImages() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("pictures.ppt",extractor,false);
  assertTrue(handler.mediaTypes.contains(new MediaType("image","jpeg")));
  assertTrue(handler.mediaTypes.contains(new MediaType("image","png")));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Office files with embedded images, but no other
 * office files in them
 */
@Test public void testEmbeddedImages() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("testEXCEL_1img.xls",extractor,false);
  assertEquals(1,handler.filenames.size());
  assertEquals(1,handler.mediaTypes.size());
  assertEquals(null,handler.filenames.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  handler=process("testWORD_1img.doc",extractor,false);
  assertEquals(1,handler.filenames.size());
  assertEquals(1,handler.mediaTypes.size());
  assertEquals("image1.png",handler.filenames.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  handler=process("testWORD_3imgs.doc",extractor,false);
  assertEquals(3,handler.filenames.size());
  assertEquals(3,handler.mediaTypes.size());
  assertEquals("image1.png",handler.filenames.get(0));
  assertEquals("image2.jpg",handler.filenames.get(1));
  assertEquals("image3.png",handler.filenames.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Office files which have other office files
 * embedded into them. The embedded office files
 * will sometimes have images in them.
 * <p/>
 * eg xls
 * -> word
 * -> image
 * -> image
 * -> powerpoint
 * -> excel
 * -> image
 */
@Test public void testEmbeddedOfficeFiles() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("testEXCEL_embeded.xls",extractor,false);
  assertEquals(5,handler.filenames.size());
  assertEquals(5,handler.mediaTypes.size());
  assertEquals(null,handler.filenames.get(0));
  assertEquals(null,handler.filenames.get(1));
  assertEquals(null,handler.filenames.get(2));
  assertEquals("MBD0003271D.ppt",handler.filenames.get(3));
  assertEquals("MBD00032A24.doc",handler.filenames.get(4));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
  assertEquals(TYPE_PPT,handler.mediaTypes.get(3));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(4));
  handler=process("testEXCEL_embeded.xls",extractor,true);
  assertEquals(17,handler.filenames.size());
  assertEquals(17,handler.mediaTypes.size());
  assertEquals(null,handler.filenames.get(0));
  assertEquals(null,handler.filenames.get(1));
  assertEquals(null,handler.filenames.get(2));
  assertEquals("MBD0003271D.ppt",handler.filenames.get(3));
  assertEquals("1",handler.filenames.get(4));
  assertEquals(null,handler.filenames.get(5));
  assertEquals("2",handler.filenames.get(6));
  assertEquals("image1.png",handler.filenames.get(7));
  assertEquals("image2.jpg",handler.filenames.get(8));
  assertEquals("image3.png",handler.filenames.get(9));
  assertEquals("image1.png",handler.filenames.get(16));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
  assertEquals(TYPE_PPT,handler.mediaTypes.get(3));
  assertEquals(TYPE_XLS,handler.mediaTypes.get(4));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(5));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(6));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(7));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(8));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(9));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(15));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(16));
  handler=process("testWORD_embeded.doc",extractor,false);
  assertEquals(9,handler.filenames.size());
  assertEquals(9,handler.mediaTypes.size());
  assertEquals("image1.emf",handler.filenames.get(0));
  assertEquals("image4.png",handler.filenames.get(1));
  assertEquals("image5.jpg",handler.filenames.get(2));
  assertEquals("image6.png",handler.filenames.get(3));
  assertEquals("image2.emf",handler.filenames.get(4));
  assertEquals("image3.emf",handler.filenames.get(5));
  assertEquals(null,handler.filenames.get(6));
  assertEquals("_1345471035.ppt",handler.filenames.get(7));
  assertEquals("_1345470949.xls",handler.filenames.get(8));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(1));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(4));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(5));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(6));
  assertEquals(TYPE_PPT,handler.mediaTypes.get(7));
  assertEquals(TYPE_XLS,handler.mediaTypes.get(8));
  handler=process("testWORD_embeded.doc",extractor,true);
  assertEquals(16,handler.filenames.size());
  assertEquals(16,handler.mediaTypes.size());
  assertEquals("image1.emf",handler.filenames.get(0));
  assertEquals("image4.png",handler.filenames.get(1));
  assertEquals("image5.jpg",handler.filenames.get(2));
  assertEquals("image6.png",handler.filenames.get(3));
  assertEquals("image2.emf",handler.filenames.get(4));
  assertEquals("image3.emf",handler.filenames.get(5));
  assertEquals(null,handler.filenames.get(6));
  assertEquals("image2.png",handler.filenames.get(7));
  assertEquals("image3.jpeg",handler.filenames.get(8));
  assertEquals("image4.png",handler.filenames.get(9));
  for (int i=11; i < 14; i++) {
    assertNull(handler.filenames.get(i));
  }
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(1));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(4));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(5));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(6));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(7));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(8));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(9));
  assertEquals(TYPE_PPT,handler.mediaTypes.get(10));
  assertEquals(TYPE_XLS,handler.mediaTypes.get(14));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(15));
  handler=process("testPPT_embeded.ppt",extractor,false);
  assertEquals(7,handler.filenames.size());
  assertEquals(7,handler.mediaTypes.size());
  assertEquals("1",handler.filenames.get(0));
  assertEquals("2",handler.filenames.get(1));
  assertEquals(null,handler.filenames.get(2));
  assertEquals(null,handler.filenames.get(3));
  assertEquals(null,handler.filenames.get(4));
  assertEquals(null,handler.filenames.get(5));
  assertEquals(null,handler.filenames.get(6));
  assertEquals(TYPE_XLS,handler.mediaTypes.get(0));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(1));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(2));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(3));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(4));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(5));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(6));
  handler=process("testPPT_embeded.ppt",extractor,true);
  assertEquals(11,handler.filenames.size());
  assertEquals(11,handler.mediaTypes.size());
  assertEquals("1",handler.filenames.get(0));
  assertEquals(null,handler.filenames.get(1));
  assertEquals("2",handler.filenames.get(2));
  assertEquals("image1.png",handler.filenames.get(3));
  assertEquals("image2.jpg",handler.filenames.get(4));
  assertEquals("image3.png",handler.filenames.get(5));
  assertEquals(null,handler.filenames.get(6));
  assertEquals(null,handler.filenames.get(7));
  assertEquals(null,handler.filenames.get(8));
  assertEquals(null,handler.filenames.get(9));
  assertEquals(null,handler.filenames.get(10));
  assertEquals(TYPE_XLS,handler.mediaTypes.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(1));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(4));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(5));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(6));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(7));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(8));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(9));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(10));
  handler=process("testWORD_embedded_pdf.doc",extractor,true);
  assertEquals(2,handler.filenames.size());
  assertEquals(2,handler.mediaTypes.size());
  assertEquals("image1.emf",handler.filenames.get(0));
  assertEquals("_1402837031.pdf",handler.filenames.get(1));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals(TYPE_PDF,handler.mediaTypes.get(1));
  handler=process("testMSG_att_doc.msg",extractor,true);
  assertEquals(2,handler.filenames.size());
  assertEquals(2,handler.mediaTypes.size());
  assertEquals("test-unicode.doc",handler.filenames.get(0));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(0));
  assertEquals("pj1.txt",handler.filenames.get(1));
  assertEquals(TYPE_TXT,handler.mediaTypes.get(1));
  handler=process("testMSG_att_msg.msg",extractor,true);
  assertEquals(2,handler.filenames.size());
  assertEquals(2,handler.mediaTypes.size());
  assertEquals("__substg1.0_3701000D.msg",handler.filenames.get(0));
  assertEquals(TYPE_MSG,handler.mediaTypes.get(0));
  assertEquals("smbprn.00009008.KdcPjl.pdf",handler.filenames.get(1));
  assertEquals(TYPE_PDF,handler.mediaTypes.get(1));
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedOfficeFilesXML() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler;
  handler=process("EmbeddedDocument.docx",extractor,false);
  assertTrue(handler.filenames.contains("Microsoft_Office_Excel_97-2003_Worksheet1.bin"));
  assertEquals(2,handler.filenames.size());
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * For office files which don't have anything embedded in them
 */
@Test public void testWithoutEmbedded() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  String[] files=new String[]{"testEXCEL.xls","testWORD.doc","testPPT.ppt","testVISIO.vsd","test-outlook.msg"};
  for (  String file : files) {
    TrackingHandler handler=process(file,extractor,false);
    assertEquals(0,handler.filenames.size());
    assertEquals(0,handler.mediaTypes.size());
    handler=process(file,extractor,true);
    assertEquals(0,handler.filenames.size());
    assertEquals(0,handler.mediaTypes.size());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.PowerPointParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * TIKA-712 Master Slide Text from PPT and PPTX files
 * should be extracted too
 */
@Test public void testMasterText() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=PowerPointParserTest.class.getResourceAsStream("/test-documents/testPPT_masterText.ppt")){
    new OfficeParser().parse(stream,handler,metadata,new ParseContext());
  }
   String content=handler.toString();
  assertContains("Text that I added to the master slide",content);
  assertEquals(-1,content.indexOf("Click to edit Master"));
  assertEquals(-1,content.indexOf("*"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMasterText2() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=PowerPointParserTest.class.getResourceAsStream("/test-documents/testPPT_masterText2.ppt")){
    new OfficeParser().parse(stream,handler,metadata,new ParseContext());
  }
   String content=handler.toString();
  assertContains("Text that I added to the master slide",content);
  assertEquals(-1,content.indexOf("Click to edit Master"));
  assertEquals(-1,content.indexOf("*"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMasterFooter() throws Exception {
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  try (InputStream stream=PowerPointParserTest.class.getResourceAsStream("/test-documents/testPPT_masterFooter.ppt")){
    new OfficeParser().parse(stream,handler,metadata,new ParseContext());
  }
   String content=handler.toString();
  assertContains("Master footer is here",content);
  assertEquals(-1,content.indexOf("Click to edit Master"));
  assertEquals(-1,content.indexOf("*"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.TNEFParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasics() throws Exception {
  Detector detector=new DefaultDetector();
  try (TikaInputStream stream=getTestFile(file)){
    assertEquals(MediaType.application("vnd.ms-tnef"),detector.detect(stream,new Metadata()));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check the Rtf and Attachments are returned
 * as expected
 */
@Test public void testBodyAndAttachments() throws Exception {
  ContainerExtractor extractor=new ParserContainerExtractor();
  TrackingHandler handler=process(file,extractor,true);
  assertEquals(6,handler.filenames.size());
  assertEquals(6,handler.mediaTypes.size());
  assertEquals("message.rtf",handler.filenames.get(0));
  assertEquals(MediaType.application("rtf"),handler.mediaTypes.get(0));
  assertEquals("quick.doc",handler.filenames.get(1));
  assertEquals(MediaType.application("msword"),handler.mediaTypes.get(1));
  assertEquals("quick.html",handler.filenames.get(2));
  assertEquals(MediaType.text("html"),handler.mediaTypes.get(2));
  assertEquals("quick.pdf",handler.filenames.get(3));
  assertEquals(MediaType.application("pdf"),handler.mediaTypes.get(3));
  assertEquals("quick.txt",handler.filenames.get(4));
  assertEquals(MediaType.text("plain"),handler.mediaTypes.get(4));
  assertEquals("quick.xml",handler.filenames.get(5));
  assertEquals(MediaType.application("xml"),handler.mediaTypes.get(5));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.WordParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedNames() throws Exception {
  String result=getXML("testWORD_embedded_pdf.doc").xml;
  int i=result.indexOf("Here is the pdf file:");
  assertTrue(i != -1);
  int j=result.indexOf("<div class=\"embedded\" id=\"_1402837031\" />");
  assertTrue(j != -1);
  int k=result.indexOf("Bye Bye");
  assertTrue(k != -1);
  assertTrue(i < j);
  assertTrue(j < k);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ooxml.OOXMLContainerExtractionTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Office files which have other office files
 * embedded into them. The embedded office files
 * will sometimes have images in them.
 * <p/>
 * eg xls
 * -> word
 * -> image
 * -> image
 * -> powerpoint
 * -> excel
 * -> image
 */
@Test public void testEmbeddedOfficeFiles() throws Exception {
  TrackingHandler handler;
  handler=process("testEXCEL_embeded.xlsx",extractor,false);
  assertEquals(7,handler.filenames.size());
  assertEquals(7,handler.mediaTypes.size());
  assertEquals("Microsoft_Office_PowerPoint_Presentation1.pptx",handler.filenames.get(0));
  assertEquals("Microsoft_Office_Word_97_-_2003_Document1.doc",handler.filenames.get(1));
  assertEquals("Microsoft_Office_Word_Document2.docx",handler.filenames.get(2));
  assertEquals("image1.png",handler.filenames.get(3));
  assertEquals("image2.emf",handler.filenames.get(4));
  assertEquals("image3.emf",handler.filenames.get(5));
  assertEquals("image4.emf",handler.filenames.get(6));
  assertEquals(TYPE_PPTX,handler.mediaTypes.get(0));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(1));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(4));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(5));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(6));
  handler=process("testEXCEL_embeded.xlsx",extractor,true);
  assertEquals(23 + 1,handler.filenames.size());
  assertEquals(23 + 1,handler.mediaTypes.size());
  assertEquals(TYPE_PPTX,handler.mediaTypes.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(1));
  assertEquals(TYPE_GIF,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_XLSX,handler.mediaTypes.get(4));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(5));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(6));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(7));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(8));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(9));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(10));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(11));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(12));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(13));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(14));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(15));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(16));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(17));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(18));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(19));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(20));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(21));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(22));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(23));
  handler=process("testWORD_embeded.docx",extractor,false);
  assertEquals(9,handler.filenames.size());
  assertEquals(9,handler.mediaTypes.size());
  assertEquals("Microsoft_Office_PowerPoint_Presentation2.pptx",handler.filenames.get(0));
  assertEquals("image6.emf",handler.filenames.get(1));
  assertEquals("Microsoft_Office_Word_97_-_2003_Document1.doc",handler.filenames.get(2));
  assertEquals("image1.png",handler.filenames.get(3));
  assertEquals("image2.jpeg",handler.filenames.get(4));
  assertEquals("image3.png",handler.filenames.get(5));
  assertEquals("image4.emf",handler.filenames.get(6));
  assertEquals("Microsoft_Office_Excel_Worksheet1.xlsx",handler.filenames.get(7));
  assertEquals("image5.emf",handler.filenames.get(8));
  assertEquals(TYPE_PPTX,handler.mediaTypes.get(0));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(1));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(4));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(5));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(6));
  assertEquals(TYPE_XLSX,handler.mediaTypes.get(7));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(8));
  handler=process("testWORD_embeded.docx",extractor,true);
  assertEquals(14 + 1,handler.filenames.size());
  assertEquals(14 + 1,handler.mediaTypes.size());
  assertEquals(TYPE_PPTX,handler.mediaTypes.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(1));
  assertEquals(TYPE_GIF,handler.mediaTypes.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(3));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(4));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(5));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(6));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(7));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(8));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(9));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(10));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(11));
  assertEquals(TYPE_XLSX,handler.mediaTypes.get(12));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(13));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(14));
  handler=process("testPPT_embeded.pptx",extractor,false);
  assertEquals(9 + 1,handler.filenames.size());
  assertEquals(9 + 1,handler.mediaTypes.size());
  assertEquals("image4.png",handler.filenames.get(0));
  assertEquals("image5.gif",handler.filenames.get(1));
  assertEquals("image6.png",handler.filenames.get(2));
  assertEquals("Microsoft_Office_Excel_Worksheet1.xlsx",handler.filenames.get(3));
  assertEquals("Microsoft_Office_Word_Document2.docx",handler.filenames.get(4));
  assertEquals("Microsoft_Office_Word_97_-_2003_Document1.doc",handler.filenames.get(5));
  assertEquals("image1.emf",handler.filenames.get(6));
  assertEquals("image2.emf",handler.filenames.get(7));
  assertEquals("image3.emf",handler.filenames.get(8));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  assertEquals(TYPE_GIF,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
  assertEquals(TYPE_XLSX,handler.mediaTypes.get(3));
  assertEquals(TYPE_DOCX,handler.mediaTypes.get(4));
  assertEquals(TYPE_DOC,handler.mediaTypes.get(5));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(6));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(7));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(8));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Office files with embedded images, but no other
 * office files in them
 */
@Test public void testEmbeddedImages() throws Exception {
  TrackingHandler handler;
  handler=process("testEXCEL_1img.xlsx",extractor,false);
  assertEquals(1,handler.filenames.size());
  assertEquals(1,handler.mediaTypes.size());
  assertEquals("image1.png",handler.filenames.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  handler=process("testPPT_2imgs.pptx",extractor,false);
  assertEquals(3 + 1,handler.filenames.size());
  assertEquals(3 + 1,handler.mediaTypes.size());
  assertEquals("image1.png",handler.filenames.get(0));
  assertEquals("image2.gif",handler.filenames.get(1));
  assertEquals("image3.png",handler.filenames.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  assertEquals(TYPE_GIF,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
  handler=process("testWORD_1img.docx",extractor,false);
  assertEquals(1,handler.filenames.size());
  assertEquals(1,handler.mediaTypes.size());
  assertEquals("image1.png",handler.filenames.get(0));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  handler=process("testWORD_3imgs.docx",extractor,false);
  assertEquals(3,handler.filenames.size());
  assertEquals(3,handler.mediaTypes.size());
  assertEquals("image2.png",handler.filenames.get(0));
  assertEquals("image3.jpeg",handler.filenames.get(1));
  assertEquals("image4.png",handler.filenames.get(2));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(0));
  assertEquals(TYPE_JPG,handler.mediaTypes.get(1));
  assertEquals(TYPE_PNG,handler.mediaTypes.get(2));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedOutlook() throws Exception {
  TrackingHandler handler=process("EmbeddedOutlook.docx",extractor,false);
  assertEquals(2,handler.filenames.size());
  assertEquals(2,handler.mediaTypes.size());
  assertEquals("image1.emf",handler.filenames.get(0));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertEquals("licensedTestMsgwAtt.msg",handler.filenames.get(1));
  assertEquals(TYPE_MSG,handler.mediaTypes.get(1));
}

</code></pre>

<br>
<pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedPDF() throws Exception {
  TrackingHandler handler=process("EmbeddedPDF.docx",extractor,false);
  assertEquals(2,handler.filenames.size());
  assertEquals(2,handler.mediaTypes.size());
  assertEquals("image1.emf",handler.filenames.get(0));
  assertEquals(TYPE_EMF,handler.mediaTypes.get(0));
  assertNull(handler.filenames.get(1));
  assertEquals(TYPE_PDF,handler.mediaTypes.get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.microsoft.ooxml.OOXMLParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testWordMissingOOXMLBeans() throws Exception {
  String[] fileNames=new String[]{"testWORD_missing_ooxml_bean1.docx"};
  PrintStream origErr=System.err;
  for (  String fileName : fileNames) {
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    InputStream input=getTestDocument(fileName);
    ByteArrayOutputStream errContent=new ByteArrayOutputStream();
    System.setErr(new PrintStream(errContent,true,UTF_8.name()));
    parser.parse(input,handler,metadata,context);
    System.setErr(origErr);
    String err=errContent.toString(UTF_8.name());
    assertTrue(err.length() == 0);
    input.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testPPTXThumbnail() throws Exception {
  String xml=getXML("testPPTX_Thumbnail.pptx").xml;
  int a=xml.indexOf("<body><div class=\"slide-content\"><p>This file contains an embedded thumbnail");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.jpeg\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExcelFormats() throws Exception {
  Metadata metadata=new Metadata();
  ContentHandler handler=new BodyContentHandler();
  ParseContext context=new ParseContext();
  context.set(Locale.class,Locale.US);
  try (InputStream input=getTestDocument("testEXCEL-formats.xlsx")){
    parser.parse(input,handler,metadata,context);
    assertEquals("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",metadata.get(Metadata.CONTENT_TYPE));
    String content=handler.toString();
    assertContains("1,599.99",content);
    assertContains("-1,599.99",content);
    assertContains("$1,599.99",content);
    assertContains("$1,599.99)",content);
    assertTrue(content.contains("1.98E08") || content.contains("1.98E+08"));
    assertTrue(content.contains("-1.98E08") || content.contains("-1.98E+08"));
    assertContains("2.50%",content);
    if (System.getProperty("java.version").startsWith("1.5")) {
      assertContains("2%",content);
    }
 else {
      assertContains("3%",content);
    }
    assertContains("6:15",content);
    assertContains("18:15",content);
    assertContains("17-May-07",content);
    assertContains("$1,599.99",content);
    assertContains("($1,599.99)",content);
    assertContains("2 1/2",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedPDF() throws Exception {
  Metadata metadata=new Metadata();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"no");
  handler.setResult(new StreamResult(sw));
  try (InputStream input=OOXMLParserTest.class.getResourceAsStream("/test-documents/testWORD_embedded_pdf.docx")){
    new OOXMLParser().parse(input,handler,metadata,new ParseContext());
  }
   String xml=sw.toString();
  int i=xml.indexOf("Here is the pdf file:");
  int j=xml.indexOf("<div class=\"embedded\" id=\"rId5\"/>");
  int k=xml.indexOf("Bye Bye");
  int l=xml.indexOf("<div class=\"embedded\" id=\"rId6\"/>");
  int m=xml.indexOf("Bye for real.");
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(k != -1);
  assertTrue(l != -1);
  assertTrue(m != -1);
  assertTrue(i < j);
  assertTrue(j < k);
  assertTrue(k < l);
  assertTrue(l < m);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testXLSXThumbnail() throws Exception {
  String xml=getXML("testXLSX_Thumbnail.xlsx").xml;
  int a=xml.indexOf("This file contains an embedded thumbnail by default");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.wmf\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testDOCXThumbnail() throws Exception {
  String xml=getXML("testDOCX_Thumbnail.docx").xml;
  int a=xml.indexOf("This file contains a thumbnail");
  int b=xml.indexOf("<div class=\"embedded\" id=\"/docProps/thumbnail.emf\" />");
  assertTrue(a != -1);
  assertTrue(b != -1);
  assertTrue(a < b);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that we can extract image from docx header
 */
@Test public void testWordPicturesInHeader() throws Exception {
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  StringWriter sw=new StringWriter();
  SAXTransformerFactory factory=(SAXTransformerFactory)SAXTransformerFactory.newInstance();
  TransformerHandler handler=factory.newTransformerHandler();
  handler.getTransformer().setOutputProperty(OutputKeys.METHOD,"xml");
  handler.getTransformer().setOutputProperty(OutputKeys.INDENT,"yes");
  handler.setResult(new StreamResult(sw));
  try (InputStream input=getTestDocument("headerPic.docx")){
    parser.parse(input,handler,metadata,context);
    String xml=sw.toString();
    assertEquals("application/vnd.openxmlformats-officedocument.wordprocessingml.document",metadata.get(Metadata.CONTENT_TYPE));
    assertTrue(xml.contains("<img"));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-7 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * We have a number of different powerpoint files,
 * such as presentation, macro-enabled etc
 */
@Test public void testPowerPoint() throws Exception {
  String[] extensions=new String[]{"pptx","pptm","ppsm","ppsx","potm"};
  String[] mimeTypes=new String[]{"application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.template.macroenabled.12"};
  for (int i=0; i < extensions.length; i++) {
    String extension=extensions[i];
    String filename="testPPT." + extension;
    Parser parser=new AutoDetectParser();
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    ParseContext context=new ParseContext();
    try (InputStream input=getTestDocument(filename)){
      parser.parse(input,handler,metadata,context);
      assertEquals("Mime-type checking for " + filename,mimeTypes[i],metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("Attachment Test",metadata.get(TikaCoreProperties.TITLE));
      assertEquals("Rajiv",metadata.get(TikaCoreProperties.CREATOR));
      assertEquals("Rajiv",metadata.get(Metadata.AUTHOR));
      String content=handler.toString();
      if (extension.equals("thmx")) {
        assertEquals("",content);
      }
 else {
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Attachment Test"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("This is a test file data with the same content"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("content parsing"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Different words to test against"));
        assertTrue("Text missing for " + filename + "\n"+ content,content.contains("Mystery"));
      }
    }
   }
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testEmbeddedZipInPPTX() throws Exception {
  String xml=getXML("test_embedded_zip.pptx").xml;
  int h=xml.indexOf("<div class=\"embedded\" id=\"slide1_rId3\" />");
  int i=xml.indexOf("Send me a note");
  int j=xml.indexOf("<div class=\"embedded\" id=\"slide2_rId4\" />");
  int k=xml.indexOf("<p>No title</p>");
  assertTrue(h != -1);
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(k != -1);
  assertTrue(h < i);
  assertTrue(i < j);
  assertTrue(j < k);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.mp3.MpegStreamTest </h4><pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
/** 
 * Tests a search for another frame which is interrupted because the stream
 * ends.
 */
@Test public void testSeachNextFrameEOS() throws IOException {
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  bos.write(0xFF);
  bos.write(0xFF);
  bos.write(0xF3);
  bos.write(0x96);
  ByteArrayInputStream in=new ByteArrayInputStream(bos.toByteArray());
  stream=new MpegStream(in);
  assertNull("Got a frame",stream.nextFrame());
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tries to skip a frame if no current header is available.
 */
@Test public void testSkipNoCurrentHeader() throws IOException {
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  bos.write("This is a test".getBytes(UTF_8));
  ByteArrayInputStream in=new ByteArrayInputStream(bos.toByteArray());
  stream=new MpegStream(in);
  assertFalse("Wrong result",stream.skipFrame());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.odf.ODFParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Similar to {@link #testXMLParser()}, but using a different
 * OO2 file with different metadata in it
 */
@Test public void testOO2Metadata() throws Exception {
  try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testOpenOffice2.odf")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OpenDocumentParser().parse(input,handler,metadata);
    assertEquals("application/vnd.oasis.opendocument.formula",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals(null,metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2006-01-27T11:55:22",metadata.get(Metadata.CREATION_DATE));
    assertEquals("The quick brown fox jumps over the lazy dog",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Gym class featuring a brown fox and lazy dog",metadata.get(Metadata.SUBJECT));
    assertEquals("PT0S",metadata.get(Metadata.EDIT_TIME));
    assertEquals("1",metadata.get("editing-cycles"));
    assertEquals("OpenOffice.org/2.2$Win32 OpenOffice.org_project/680m14$Build-9134",metadata.get("generator"));
    assertEquals("Pangram, fox, dog",metadata.get(Metadata.KEYWORDS));
    assertEquals("Text 1",metadata.get("custom:Info 1"));
    assertEquals("2",metadata.get("custom:Info 2"));
    assertEquals("false",metadata.get("custom:Info 3"));
    assertEquals("true",metadata.get("custom:Info 4"));
    assertEquals(null,metadata.get(Metadata.PAGE_COUNT));
    assertEquals(null,metadata.get(Metadata.PARAGRAPH_COUNT));
    assertEquals(null,metadata.get(Metadata.WORD_COUNT));
    assertEquals(null,metadata.get(Metadata.CHARACTER_COUNT));
    assertEquals(null,metadata.get(Metadata.TABLE_COUNT));
    assertEquals(null,metadata.get(Metadata.OBJECT_COUNT));
    assertEquals(null,metadata.get(Metadata.IMAGE_COUNT));
    assertEquals(null,metadata.get("nbTab"));
    assertEquals(null,metadata.get("nbObject"));
    assertEquals(null,metadata.get("nbImg"));
    assertEquals(null,metadata.get("nbPage"));
    assertEquals(null,metadata.get("nbPara"));
    assertEquals(null,metadata.get("nbWord"));
    assertEquals(null,metadata.get("nbCharacter"));
    String content=handler.toString();
    assertEquals("",content);
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Similar to {@link #testXMLParser()}, but using an OO3 file
 */
@Test public void testOO3Metadata() throws Exception {
  try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testODFwithOOo3.odt")){
    Metadata metadata=new Metadata();
    ContentHandler handler=new BodyContentHandler();
    new OpenDocumentParser().parse(input,handler,metadata);
    assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
    assertEquals("2009-10-05T21:22:38",metadata.get(TikaCoreProperties.MODIFIED));
    assertEquals("2009-10-05T19:04:01",metadata.get(TikaCoreProperties.CREATED));
    assertEquals("2009-10-05T19:04:01",metadata.get(Metadata.CREATION_DATE));
    assertEquals("Apache Tika",metadata.get(TikaCoreProperties.TITLE));
    assertEquals("Test document",metadata.get(OfficeOpenXMLCore.SUBJECT));
    assertEquals("Test document",metadata.get(Metadata.SUBJECT));
    assertEquals("A rather complex document",metadata.get(TikaCoreProperties.DESCRIPTION));
    assertEquals("Bart Hanssens",metadata.get(TikaCoreProperties.CREATOR));
    assertEquals("Bart Hanssens",metadata.get("initial-creator"));
    assertEquals("2",metadata.get("editing-cycles"));
    assertEquals("PT02H03M24S",metadata.get(Metadata.EDIT_TIME));
    assertEquals("OpenOffice.org/3.1$Unix OpenOffice.org_project/310m19$Build-9420",metadata.get("generator"));
    assertEquals("Apache, Lucene, Tika",metadata.get(Metadata.KEYWORDS));
    assertEquals("Bart Hanssens",metadata.get("custom:Editor"));
    assertEquals(null,metadata.get("custom:Info 2"));
    assertEquals(null,metadata.get("custom:Info 3"));
    assertEquals(null,metadata.get("custom:Info 4"));
    assertEquals("2",metadata.get(Office.PAGE_COUNT));
    assertEquals("13",metadata.get(Office.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Office.WORD_COUNT));
    assertEquals("351",metadata.get(Office.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Office.TABLE_COUNT));
    assertEquals("2",metadata.get(Office.OBJECT_COUNT));
    assertEquals("0",metadata.get(Office.IMAGE_COUNT));
    assertEquals("2",metadata.get(Metadata.PAGE_COUNT));
    assertEquals("13",metadata.get(Metadata.PARAGRAPH_COUNT));
    assertEquals("54",metadata.get(Metadata.WORD_COUNT));
    assertEquals("351",metadata.get(Metadata.CHARACTER_COUNT));
    assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
    assertEquals("2",metadata.get(Metadata.OBJECT_COUNT));
    assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
    assertEquals("0",metadata.get("nbTab"));
    assertEquals("2",metadata.get("nbObject"));
    assertEquals("0",metadata.get("nbImg"));
    assertEquals("2",metadata.get("nbPage"));
    assertEquals("13",metadata.get("nbPara"));
    assertEquals("54",metadata.get("nbWord"));
    assertEquals("351",metadata.get("nbCharacter"));
    String content=handler.toString();
    assertTrue(content.contains("Apache Tika Tika is part of the Lucene project."));
  }
 }

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOO2() throws Exception {
  for (  Parser parser : getParsers()) {
    try (InputStream input=ODFParserTest.class.getResourceAsStream("/test-documents/testOpenOffice2.odt")){
      Metadata metadata=new Metadata();
      ContentHandler handler=new BodyContentHandler();
      parser.parse(input,handler,metadata,new ParseContext());
      assertEquals("application/vnd.oasis.opendocument.text",metadata.get(Metadata.CONTENT_TYPE));
      assertEquals("en-US",metadata.get(Metadata.LANGUAGE));
      assertEquals("PT1M7S",metadata.get(Metadata.EDIT_TIME));
      assertEquals("NeoOffice/2.2$Unix OpenOffice.org_project/680m18$Build-9161",metadata.get("generator"));
      assertEquals("2007-09-14T11:07:10",metadata.get(TikaCoreProperties.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.MODIFIED));
      assertEquals("2007-09-14T11:07:10",metadata.get(Metadata.DATE));
      assertEquals("2007-09-14T11:06:08",metadata.get(TikaCoreProperties.CREATED));
      assertEquals("2007-09-14T11:06:08",metadata.get(Metadata.CREATION_DATE));
      assertEquals("1",metadata.get(Office.PAGE_COUNT));
      assertEquals("1",metadata.get(Office.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Office.WORD_COUNT));
      assertEquals("78",metadata.get(Office.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Office.TABLE_COUNT));
      assertEquals("0",metadata.get(Office.OBJECT_COUNT));
      assertEquals("0",metadata.get(Office.IMAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PAGE_COUNT));
      assertEquals("1",metadata.get(Metadata.PARAGRAPH_COUNT));
      assertEquals("14",metadata.get(Metadata.WORD_COUNT));
      assertEquals("78",metadata.get(Metadata.CHARACTER_COUNT));
      assertEquals("0",metadata.get(Metadata.TABLE_COUNT));
      assertEquals("0",metadata.get(Metadata.OBJECT_COUNT));
      assertEquals("0",metadata.get(Metadata.IMAGE_COUNT));
      assertEquals("0",metadata.get("nbTab"));
      assertEquals("0",metadata.get("nbObject"));
      assertEquals("0",metadata.get("nbImg"));
      assertEquals("1",metadata.get("nbPage"));
      assertEquals("1",metadata.get("nbPara"));
      assertEquals("14",metadata.get("nbWord"));
      assertEquals("78",metadata.get("nbCharacter"));
      assertEquals(null,metadata.get("custom:Info 1"));
      assertEquals(null,metadata.get("custom:Info 2"));
      assertEquals(null,metadata.get("custom:Info 3"));
      assertEquals(null,metadata.get("custom:Info 4"));
      String content=handler.toString();
      assertTrue(content.contains("This is a sample Open Office document," + " written in NeoOffice 2.2.1 for the Mac."));
    }
   }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.pdf.PDFParserTest </h4><pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedPDFEmbeddingAnotherDocument() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  String content="";
  InputStream stream=null;
  try {
    context.set(org.apache.tika.parser.Parser.class,parser);
    stream=getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx");
    parser.parse(stream,handler,metadata,context);
    content=handler.toString();
  }
  finally {
    stream.close();
  }
  int outerHaystack=content.indexOf("Outer_haystack");
  int pdfHaystack=content.indexOf("pdf_haystack");
  int needle=content.indexOf("Needle");
  assertTrue(outerHaystack > -1);
  assertTrue(pdfHaystack > -1);
  assertTrue(needle > -1);
  assertTrue(needle > pdfHaystack && pdfHaystack > outerHaystack);
  TrackingHandler tracker=new TrackingHandler();
  TikaInputStream tis;
  ContainerExtractor ex=new ParserContainerExtractor();
  try {
    tis=TikaInputStream.get(getResourceAsStream("/test-documents/testPDFEmbeddingAndEmbedded.docx"));
    ex.extract(tis,ex,tracker);
  }
  finally {
    stream.close();
  }
  assertEquals(true,ex.isSupported(tis));
  assertEquals(3,tracker.filenames.size());
  assertEquals(3,tracker.mediaTypes.size());
  assertEquals("image1.emf",tracker.filenames.get(0));
  assertNull(tracker.filenames.get(1));
  assertEquals("Test.docx",tracker.filenames.get(2));
  assertEquals(TYPE_EMF,tracker.mediaTypes.get(0));
  assertEquals(TYPE_PDF,tracker.mediaTypes.get(1));
  assertEquals(TYPE_DOCX,tracker.mediaTypes.get(2));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * PDFs can be "protected" with the default password. This means
 * they're encrypted (potentially both text and metadata),
 * but we can decrypt them easily.
 */
@Test public void testProtectedPDF() throws Exception {
  Parser parser=new AutoDetectParser();
  ContentHandler handler=new BodyContentHandler();
  Metadata metadata=new Metadata();
  ParseContext context=new ParseContext();
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("The Bank of England",metadata.get(Metadata.AUTHOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  String content=handler.toString();
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "";
    }
  }
);
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
   assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("The Bank of England",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(OfficeOpenXMLCore.SUBJECT));
  assertEquals("Speeches by Andrew G Haldane",metadata.get(Metadata.SUBJECT));
  assertEquals("Rethinking the Financial Network, Speech by Andrew G Haldane, Executive Director, Financial Stability delivered at the Financial Student Association, Amsterdam on 28 April 2009",metadata.get(TikaCoreProperties.TITLE));
  assertContains("RETHINKING THE FINANCIAL NETWORK",content);
  assertContains("On 16 November 2002",content);
  assertContains("In many important respects",content);
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  boolean ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
  handler=new BodyContentHandler();
  metadata=new Metadata();
  context=new ParseContext();
  context.set(PasswordProvider.class,new PasswordProvider(){
    public String getPassword(    Metadata metadata){
      return "WRONG!!!!";
    }
  }
);
  PDFParserConfig config=new PDFParserConfig();
  config.setUseNonSequentialParser(true);
  context.set(PDFParserConfig.class,config);
  ;
  ex=false;
  try (InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_protected.pdf")){
    parser.parse(stream,handler,metadata,context);
  }
 catch (  EncryptedDocumentException e) {
    ex=true;
  }
  content=handler.toString();
  assertTrue("encryption exception",ex);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("pdf:encrypted"));
  assertEquals("very little metadata should be parsed",3,metadata.names().length);
  assertEquals(0,content.length());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDisableAutoSpace() throws Exception {
  PDFParser parser=new PDFParser();
  parser.getPDFParserConfig().setEnableAutoSpace(false);
  InputStream stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  String content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some formatted text",content);
  parser.getPDFParserConfig().setEnableAutoSpace(true);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertEquals(-1,content.indexOf("Here is some formatted text"));
  Parser autoParser=new AutoDetectParser();
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  context.set(PDFParserConfig.class,config);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,autoParser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertEquals(-1,content.indexOf("Here is some formatted text"));
  config.setEnableAutoSpace(false);
  stream=getResourceAsStream("/test-documents/testExtraSpaces.pdf");
  content=getText(stream,parser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some formatted text",content);
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVersions() throws Exception {
  Map<String,String> dcFormat=new HashMap<String,String>();
  dcFormat.put("4.x","application/pdf; version=1.3");
  dcFormat.put("5.x","application/pdf; version=1.4");
  dcFormat.put("6.x","application/pdf; version=1.5");
  dcFormat.put("7.x","application/pdf; version=1.6");
  dcFormat.put("8.x","application/pdf; version=1.7");
  dcFormat.put("9.x","application/pdf; version=1.7");
  dcFormat.put("10.x","application/pdf; version=1.7");
  dcFormat.put("11.x.PDFA-1b","application/pdf; version=1.7");
  Map<String,String> pdfVersions=new HashMap<String,String>();
  pdfVersions.put("4.x","1.3");
  pdfVersions.put("5.x","1.4");
  pdfVersions.put("6.x","1.5");
  pdfVersions.put("7.x","1.6");
  pdfVersions.put("8.x","1.7");
  pdfVersions.put("9.x","1.7");
  pdfVersions.put("10.x","1.7");
  pdfVersions.put("11.x.PDFA-1b","1.7");
  Map<String,String> pdfExtensionVersions=new HashMap<String,String>();
  pdfExtensionVersions.put("9.x","1.7 Adobe Extension Level 3");
  pdfExtensionVersions.put("10.x","1.7 Adobe Extension Level 8");
  pdfExtensionVersions.put("11.x.PDFA-1b","1.7 Adobe Extension Level 8");
  Parser p=new AutoDetectParser();
  for (  Map.Entry<String,String> e : dcFormat.entrySet()) {
    String fName="testPDF_Version." + e.getKey() + ".pdf";
    InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
    Metadata m=new Metadata();
    ContentHandler h=new BodyContentHandler();
    ParseContext c=new ParseContext();
    p.parse(is,h,m,c);
    is.close();
    boolean foundDC=false;
    String[] vals=m.getValues("dc:format");
    for (    String v : vals) {
      if (v.equals(e.getValue())) {
        foundDC=true;
      }
    }
    assertTrue("dc:format ::" + e.getValue(),foundDC);
    String extensionVersionTruth=pdfExtensionVersions.get(e.getKey());
    if (extensionVersionTruth != null) {
      assertEquals("pdf:PDFExtensionVersion :: " + extensionVersionTruth,extensionVersionTruth,m.get("pdf:PDFExtensionVersion"));
    }
    assertEquals("pdf:PDFVersion",pdfVersions.get(e.getKey()),m.get("pdf:PDFVersion"));
  }
  String fName="testPDF_Version.11.x.PDFA-1b.pdf";
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/" + fName);
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  Set<String> versions=new HashSet<String>();
  for (  String fmt : m.getValues("dc:format")) {
    versions.add(fmt);
  }
  for (  String hit : new String[]{"application/pdf; version=1.7","application/pdf; version=\"A-1b\"","application/pdf; version=\"1.7 Adobe Extension Level 8\""}) {
    assertTrue(hit,versions.contains(hit));
  }
  assertEquals("pdfaid:conformance",m.get("pdfaid:conformance"),"B");
  assertEquals("pdfaid:part",m.get("pdfaid:part"),"1");
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbeddedFileNameExtraction() throws Exception {
  InputStream is=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF_multiFormatEmbFiles.pdf");
  RecursiveParserWrapper p=new RecursiveParserWrapper(new AutoDetectParser(),new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  Metadata m=new Metadata();
  ParseContext c=new ParseContext();
  c.set(org.apache.tika.parser.Parser.class,p);
  ContentHandler h=new BodyContentHandler();
  p.parse(is,h,m,c);
  is.close();
  List<Metadata> metadatas=p.getMetadata();
  assertEquals("metadata size",5,metadatas.size());
  Metadata firstAttachment=metadatas.get(1);
  assertEquals("attachment file name","Test.txt",firstAttachment.get(Metadata.RESOURCE_NAME_KEY));
}

</code></pre>

<br>
<pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBookmarks() throws Exception {
  String xml=getXML("testPDF_bookmarks.pdf").xml;
  int i=xml.indexOf("Denmark bookmark is here");
  int j=xml.indexOf("</body>");
  assertTrue(i != -1);
  assertTrue(j != -1);
  assertTrue(i < j);
}

</code></pre>

<br>
<pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * tests for equality between traditional sequential parser
 * and newer nonsequential parser.
 * <p/>
 * TODO: more testing
 */
@Test public void testSequentialParser() throws Exception {
  Parser sequentialParser=new AutoDetectParser();
  Parser nonSequentialParser=new AutoDetectParser();
  ParseContext seqContext=new ParseContext();
  PDFParserConfig seqConfig=new PDFParserConfig();
  seqConfig.setUseNonSequentialParser(false);
  seqContext.set(PDFParserConfig.class,seqConfig);
  ParseContext nonSeqContext=new ParseContext();
  PDFParserConfig nonSeqConfig=new PDFParserConfig();
  nonSeqConfig.setUseNonSequentialParser(true);
  nonSeqContext.set(PDFParserConfig.class,nonSeqConfig);
  File testDocs=new File(this.getClass().getResource("/test-documents").toURI());
  int pdfs=0;
  Set<String> knownMetadataDiffs=new HashSet<String>();
  Set<String> knownContentDiffs=new HashSet<String>();
  for (  File f : testDocs.listFiles()) {
    if (!f.getName().toLowerCase(Locale.ROOT).endsWith(".pdf")) {
      continue;
    }
    String sequentialContent=null;
    Metadata sequentialMetadata=new Metadata();
    try {
      sequentialContent=getText(new FileInputStream(f),sequentialParser,seqContext,sequentialMetadata);
    }
 catch (    EncryptedDocumentException e) {
      continue;
    }
catch (    Exception e) {
      throw new TikaException("Sequential Parser failed on test file " + f,e);
    }
    pdfs++;
    String nonSequentialContent=null;
    Metadata nonSequentialMetadata=new Metadata();
    try {
      nonSequentialContent=getText(new FileInputStream(f),nonSequentialParser,nonSeqContext,nonSequentialMetadata);
    }
 catch (    Exception e) {
      throw new TikaException("Non-Sequential Parser failed on test file " + f,e);
    }
    if (knownContentDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialContent.equals(nonSequentialContent));
    }
 else {
      assertEquals(f.getName(),sequentialContent,nonSequentialContent);
    }
    if (knownMetadataDiffs.contains(f.getName())) {
      assertFalse(f.getName(),sequentialMetadata.equals(nonSequentialMetadata));
    }
 else {
      assertEquals(f.getName(),sequentialMetadata,nonSequentialMetadata);
    }
  }
  boolean ge15=(pdfs >= 15);
  assertTrue("Number of pdf files tested >= 15 in non-sequential parser test",ge15);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPdfParsing() throws Exception {
  Parser parser=new AutoDetectParser();
  Metadata metadata=new Metadata();
  InputStream stream=PDFParserTest.class.getResourceAsStream("/test-documents/testPDF.pdf");
  String content=getText(stream,parser,metadata);
  assertEquals("application/pdf",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(TikaCoreProperties.CREATOR));
  assertEquals("Bertrand Delacr\u00e9taz",metadata.get(Metadata.AUTHOR));
  assertEquals("Firefox",metadata.get(TikaCoreProperties.CREATOR_TOOL));
  assertEquals("Apache Tika - Apache Tika",metadata.get(TikaCoreProperties.TITLE));
  assertContains("Apache Tika",content);
  assertContains("Tika - Content Analysis Toolkit",content);
  assertContains("incubator",content);
  assertContains("Apache Software Foundation",content);
  assertTrue("should have word boundary after headline",!content.contains("ToolkitApache"));
  assertTrue("should have word boundary between paragraphs",!content.contains("libraries.Apache"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAnnotations() throws Exception {
  Parser parser=new AutoDetectParser();
  InputStream stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  String content=getText(stream,parser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertContains("Here is a comment",content);
  PDFParser pdfParser=new PDFParser();
  pdfParser.getPDFParserConfig().setExtractAnnotationText(false);
  stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  content=getText(stream,pdfParser);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertEquals(-1,content.indexOf("Here is a comment"));
  ParseContext context=new ParseContext();
  PDFParserConfig config=new PDFParserConfig();
  config.setExtractAnnotationText(false);
  context.set(PDFParserConfig.class,config);
  stream=getResourceAsStream("/test-documents/testAnnotations.pdf");
  content=getText(stream,parser,context);
  content=content.replaceAll("[\\s\u00a0]+"," ");
  assertContains("Here is some text",content);
  assertEquals(-1,content.indexOf("Here is a comment"));
  String xml=getXML("testAnnotations.pdf").xml;
  assertEquals(substringCount("<p>",xml),substringCount("</p>",xml));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.rtf.RTFParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUmlautSpacesExtraction2() throws Exception {
  String content=getText("testRTFUmlautSpaces2.rtf");
  content=content.replaceAll("\\s+","");
  assertEquals("\u00DCbersicht",content);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegularImages() throws Exception {
  Parser base=new AutoDetectParser();
  ParseContext ctx=new ParseContext();
  RecursiveParserWrapper parser=new RecursiveParserWrapper(base,new BasicContentHandlerFactory(BasicContentHandlerFactory.HANDLER_TYPE.IGNORE,-1));
  ctx.set(org.apache.tika.parser.Parser.class,parser);
  ContentHandler handler=new BodyContentHandler();
  Metadata rootMetadata=new Metadata();
  rootMetadata.add(Metadata.RESOURCE_NAME_KEY,"testRTFRegularImages.rtf");
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testRTFRegularImages.rtf"))){
    parser.parse(tis,handler,rootMetadata,ctx);
  }
   List<Metadata> metadatas=parser.getMetadata();
  Metadata meta_jpg_exif=metadatas.get(1);
  Metadata meta_jpg=metadatas.get(3);
  assertTrue(meta_jpg_exif != null);
  assertTrue(meta_jpg != null);
  assertTrue(Arrays.asList(meta_jpg_exif.getValues("dc:subject")).contains("serbor"));
  assertTrue(meta_jpg.get("Comments").contains("Licensed to the Apache"));
  assertFalse(Arrays.asList(meta_jpg.getValues("dc:subject")).contains("serbor"));
  assertEquals("false",meta_jpg.get(RTFMetadata.THUMBNAIL));
  assertEquals("false",meta_jpg_exif.get(RTFMetadata.THUMBNAIL));
  assertEquals(46,meta_jpg.names().length);
  assertEquals(110,meta_jpg_exif.names().length);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-14 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmbeddedMonster() throws Exception {
  Set<MediaType> skipTypes=new HashSet<MediaType>();
  skipTypes.add(MediaType.parse("application/x-emf"));
  skipTypes.add(MediaType.parse("application/x-msmetafile"));
  List<String> trueNames=new ArrayList<String>();
  trueNames.add("file_0.doc");
  trueNames.add("Hw.txt");
  trueNames.add("file_1.xlsx");
  trueNames.add("test-zip-of-zip_\u666E\u6797\u65AF\u987F.zip");
  trueNames.add("html-within-zip.zip");
  trueNames.add("text.html");
  trueNames.add("testHTML_utf8_\u666E\u6797\u65AF\u987F.html");
  trueNames.add("testJPEG_\u666E\u6797\u65AF\u987F.jpg");
  trueNames.add("file_2.xls");
  trueNames.add("testMSG_\u666E\u6797\u65AF\u987F.msg");
  trueNames.add("file_3.pdf");
  trueNames.add("file_4.ppt");
  trueNames.add("file_5.pptx");
  trueNames.add("thumbnail.jpeg");
  trueNames.add("file_6.doc");
  trueNames.add("file_7.doc");
  trueNames.add("file_8.docx");
  trueNames.add("testJPEG_\u666E\u6797\u65AF\u987F.jpg");
  List<String> trueTypes=new ArrayList<String>();
  trueTypes.add("application/msword");
  trueTypes.add("text/plain");
  trueTypes.add("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");
  trueTypes.add("application/zip");
  trueTypes.add("application/zip");
  trueTypes.add("text/html");
  trueTypes.add("text/html");
  trueTypes.add("image/jpeg");
  trueTypes.add("application/vnd.ms-excel");
  trueTypes.add("application/vnd.ms-outlook");
  trueTypes.add("application/pdf");
  trueTypes.add("application/vnd.ms-powerpoint");
  trueTypes.add("application/vnd.openxmlformats-officedocument.presentationml.presentation");
  trueTypes.add("image/jpeg");
  trueTypes.add("application/msword");
  trueTypes.add("application/msword");
  trueTypes.add("application/vnd.openxmlformats-officedocument.wordprocessingml.document");
  trueTypes.add("image/jpeg");
  TrackingHandler tracker=new TrackingHandler(skipTypes);
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testRTFEmbeddedFiles.rtf"))){
    ContainerExtractor ex=new ParserContainerExtractor();
    assertEquals(true,ex.isSupported(tis));
    ex.extract(tis,ex,tracker);
  }
   assertEquals(trueNames.size(),tracker.filenames.size());
  assertEquals(trueTypes.size(),tracker.mediaTypes.size());
  for (int i=0; i < tracker.filenames.size(); i++) {
    String expectedName=trueNames.get(i);
    if (expectedName == null) {
      assertNull(tracker.filenames.get(i));
    }
 else {
      assertNotNull(tracker.filenames.get(i));
      assertEquals("filename equals ",expectedName,FilenameUtils.getName(tracker.filenames.get(i)));
    }
    assertEquals(trueTypes.get(i),tracker.mediaTypes.get(i).toString());
  }
  tracker=new TrackingHandler();
  try (TikaInputStream tis=TikaInputStream.get(getResourceAsStream("/test-documents/testRTFEmbeddedFiles.rtf"))){
    ContainerExtractor ex=new ParserContainerExtractor();
    assertEquals(true,ex.isSupported(tis));
    ex.extract(tis,ex,tracker);
  }
   assertEquals(47,tracker.filenames.size());
  assertEquals("thumbnail_26.emf",tracker.filenames.get(45));
  assertEquals("thumbnail_27.wmf",tracker.filenames.get(46));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testMaxLength() throws Exception {
  File file=getResourceAsFile("/test-documents/testRTFJapanese.rtf");
  Metadata metadata=new Metadata();
  InputStream stream=TikaInputStream.get(file,metadata);
  Tika localTika=new Tika();
  String content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() > 500);
  localTika.setMaxStringLength(200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata);
  assertTrue(content.length() <= 200);
  stream=TikaInputStream.get(file,metadata);
  content=localTika.parseToString(stream,metadata,100);
  assertTrue(content.length() <= 100);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.strings.Latin1StringsParserTest </h4><pre class="type-9 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testParse() throws Exception {
  String testStr="These are Latin1 accented scripts: \u00C2 \u00C3 \u00C9 \u00DC \u00E2 \u00E3 \u00E9 \u00FC";
  String smallStr="ab";
  byte[] iso8859Bytes=testStr.getBytes(ISO_8859_1);
  byte[] utf8Bytes=testStr.getBytes(UTF_8);
  byte[] utf16Bytes=testStr.getBytes(UTF_16);
  byte[] zeros=new byte[10];
  byte[] smallString=smallStr.getBytes(ISO_8859_1);
  byte[] trashBytes={0x00,0x01,0x02,0x03,0x1E,0x1F,(byte)0xFF};
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  baos.write(iso8859Bytes);
  baos.write(zeros);
  baos.write(utf8Bytes);
  baos.write(trashBytes);
  baos.write(utf16Bytes);
  baos.write(zeros);
  baos.write(smallString);
  Parser parser=new Latin1StringsParser();
  ContentHandler handler=new BodyContentHandler();
  try (InputStream stream=new ByteArrayInputStream(baos.toByteArray())){
    parser.parse(stream,handler,new Metadata(),new ParseContext());
  }
   String result=handler.toString();
  String expected=testStr + "\n" + testStr+ "\n"+ testStr+ "\n";
  assertTrue(result.equals(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.video.FLVParserTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFLV() throws Exception {
  String path="/test-documents/testFLV.flv";
  Metadata metadata=new Metadata();
  String content=new Tika().parseToString(FLVParserTest.class.getResourceAsStream(path),metadata);
  assertEquals("",content);
  assertEquals("video/x-flv",metadata.get(Metadata.CONTENT_TYPE));
  assertEquals("true",metadata.get("hasVideo"));
  assertEquals("false",metadata.get("stereo"));
  assertEquals("true",metadata.get("hasAudio"));
  assertEquals("120.0",metadata.get("height"));
  assertEquals("16.0",metadata.get("audiosamplesize"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.parser.xml.FictionBookParserTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmbedded() throws Exception {
  try (InputStream input=FictionBookParserTest.class.getResourceAsStream("/test-documents/test.fb2")){
    ContainerExtractor extractor=new ParserContainerExtractor();
    TikaInputStream stream=TikaInputStream.get(input);
    assertEquals(true,extractor.isSupported(stream));
    TrackingHandler handler=new TrackingHandler();
    extractor.extract(stream,null,handler);
    assertEquals(2,handler.filenames.size());
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.BasicContentHandlerFactoryTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBody() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.BODY;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertNotContains("title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof BodyContentHandler);
  assertWriteLimitReached(p,(BodyContentHandler)handler);
  extracted=handler.toString();
  assertNotContains("This ",extracted);
  assertContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof BodyContentHandler);
  p.parse(null,handler,null,null);
  assertNotContains("title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.TEXT;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertNotContains("<body",extracted);
  assertNotContains("<html",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToTextContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  assertNotContains("<body",os.toByteArray());
  assertNotContains("<html",os.toByteArray());
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,new Metadata(),null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(handler.toString().length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToXMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHTML() throws Exception {
  Parser p=new MockParser(OVER_DEFAULT);
  BasicContentHandlerFactory.HANDLER_TYPE type=BasicContentHandlerFactory.HANDLER_TYPE.HTML;
  ContentHandler handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler();
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  String extracted=handler.toString();
  assertContains("<head><title>This is the title",extracted);
  assertContains("aaaaaaaaaa",extracted);
  assertTrue(extracted.length() > 110000);
  p=new MockParser(10);
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler();
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  extracted=handler.toString();
  assertContains("This ",extracted);
  assertNotContains("aaaa",extracted);
  p=new MockParser(OVER_DEFAULT);
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,-1).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof ToHTMLContentHandler);
  p.parse(null,handler,null,null);
  assertContains("This is the title",os.toByteArray());
  assertContains("aaaaaaaaaa",os.toByteArray());
  assertContains("<body",os.toByteArray());
  assertContains("<html",os.toByteArray());
  assertTrue(os.toByteArray().length > 110000);
  p=new MockParser(10);
  os=new ByteArrayOutputStream();
  handler=new BasicContentHandlerFactory(type,5).getNewContentHandler(os,ENCODING);
  assertTrue(handler instanceof WriteOutContentHandler);
  assertWriteLimitReached(p,(WriteOutContentHandler)handler);
  assertEquals(0,os.toByteArray().length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.sax.XHTMLContentHandlerTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that content in option elements are properly separated in text
 * output.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-394">TIKA-394</a>
 */
@Test public void testWhitespaceWithOptions() throws Exception {
  xhtml.startDocument();
  xhtml.startElement("form");
  xhtml.startElement("select");
  xhtml.element("option","opt1");
  xhtml.element("option","opt2");
  xhtml.endElement("select");
  xhtml.endElement("form");
  xhtml.endDocument();
  String[] words=output.toString().split("\\s+");
  assertEquals(2,words.length);
  assertEquals("opt1",words[0]);
  assertEquals("opt2",words[1]);
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test that content in block elements are properly separated in text
 * output.
 * @see <a href="https://issues.apache.org/jira/browse/TIKA-188">TIKA-188</a>
 */
@Test public void testExtraWhitespace() throws SAXException {
  xhtml.startDocument();
  xhtml.element("p","foo");
  xhtml.startElement("p");
  xhtml.characters("b");
  xhtml.element("b","a");
  xhtml.characters("r");
  xhtml.endElement("p");
  xhtml.startElement("table");
  xhtml.startElement("tr");
  xhtml.element("th","x");
  xhtml.element("th","y");
  xhtml.endElement("tr");
  xhtml.startElement("tr");
  xhtml.element("td","a");
  xhtml.element("td","b");
  xhtml.endElement("tr");
  xhtml.endElement("table");
  xhtml.endDocument();
  String[] words=output.toString().split("\\s+");
  assertEquals(6,words.length);
  assertEquals("foo",words[0]);
  assertEquals("bar",words[1]);
  assertEquals("x",words[2]);
  assertEquals("y",words[3]);
  assertEquals("a",words[4]);
  assertEquals("b",words[5]);
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWhitespaceWithMenus() throws Exception {
  xhtml.startDocument();
  xhtml.startElement("menu");
  xhtml.element("li","one");
  xhtml.element("li","two");
  xhtml.endElement("menu");
  xhtml.endDocument();
  String[] words=getRealWords(output.toString());
  assertEquals(2,words.length);
  assertEquals("one",words[0]);
  assertEquals("two",words[1]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.DetectorResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectCsvNoExt() throws Exception {
  String url=endPoint + DETECT_STREAM_PATH;
  Response response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + CDEC_CSV_NO_EXT).put(ClassLoader.getSystemResourceAsStream(CDEC_CSV_NO_EXT));
  assertNotNull(response);
  String readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/plain",readMime);
  response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + CDEC_CSV_NO_EXT + ".csv").put(ClassLoader.getSystemResourceAsStream(CDEC_CSV_NO_EXT));
  assertNotNull(response);
  readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/csv",readMime);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectCsvWithExt() throws Exception {
  String url=endPoint + DETECT_STREAM_PATH;
  Response response=WebClient.create(endPoint + DETECT_STREAM_PATH).type("text/csv").accept("*/*").header("Content-Disposition","attachment; filename=" + FOO_CSV).put(ClassLoader.getSystemResourceAsStream(FOO_CSV));
  assertNotNull(response);
  String readMime=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("text/csv",readMime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.LanguageResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectFrenchString() throws Exception {
  String url=endPoint + LANG_STRING_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(FRENCH_STRING);
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("fr",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectEnglishFile() throws Exception {
  String url=endPoint + LANG_STREAM_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("english.txt"));
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("en",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectFrenchFile() throws Exception {
  String url=endPoint + LANG_STREAM_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ClassLoader.getSystemResourceAsStream("french.txt"));
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("fr",readLang);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetectEnglishString() throws Exception {
  String url=endPoint + LANG_STRING_PATH;
  Response response=WebClient.create(url).type("text/plain").accept("text/plain").put(ENGLISH_STRING);
  assertNotNull(response);
  String readLang=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("en",readLang);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.MetadataResourceTest </h4><pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_XMP_Partial_Found() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/dc:creator").type("application/msword").accept("application/rdf+xml").put(copy(stream,12000));
  Assert.assertEquals(Response.Status.OK.getStatusCode(),response.getStatus());
  String s=IOUtils.readStringFromStream((InputStream)response.getEntity());
  assertContains("<rdf:li>Maxim Valyanskiy</rdf:li>",s);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJSON() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).type("application/msword").accept("application/json").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  Metadata metadata=JsonMetadata.fromJson(reader);
  assertNotNull(metadata.get("Author"));
  assertEquals("Maxim Valyanskiy",metadata.get("Author"));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_TEXT_Partial_BAD_REQUEST() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,8000));
  Assert.assertEquals(Response.Status.BAD_REQUEST.getStatusCode(),response.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_JSON_Partial_Found() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/Author").type("application/msword").accept(MediaType.APPLICATION_JSON).put(copy(stream,12000));
  Assert.assertEquals(Response.Status.OK.getStatusCode(),response.getStatus());
  Metadata metadata=JsonMetadata.fromJson(new InputStreamReader((InputStream)response.getEntity(),UTF_8));
  assertEquals("Maxim Valyanskiy",metadata.get("Author"));
  assertEquals(1,metadata.names().length);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetField_Author_TEXT_Partial_Found() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + META_PATH + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,12000));
  Assert.assertEquals(Response.Status.OK.getStatusCode(),response.getStatus());
  String s=IOUtils.readStringFromStream((InputStream)response.getEntity());
  assertEquals("Maxim Valyanskiy",s);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.RecursiveMetadataResourceTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleWord() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertEquals("Microsoft Office Word",metadataList.get(0).get("Application-Name"));
  assertContains("plundered our seas",metadataList.get(6).get("X-TIKA:content"));
  assertEquals("a38e6c7b38541af87148dee9634cb811",metadataList.get(10).get("X-TIKA:digest:MD5"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerTypeInMultipartXML() throws Exception {
  Attachment attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  WebClient webClient=WebClient.create(endPoint + META_PATH + FORM_PATH);
  Response response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ UNPARSEABLE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ XML_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ TEXT_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  attachmentPart=new Attachment("myworddocx","application/vnd.openxmlformats-officedocument.wordprocessingml.document",ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  webClient=WebClient.create(endPoint + META_PATH + FORM_PATH+ IGNORE_PATH);
  response=webClient.type("multipart/form-data").accept("application/json").query("handler","ignore").post(attachmentPart);
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHandlerType() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  String content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + SLASH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + UNPARSEABLE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + XML_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("<html xmlns=\"http://www.w3.org/1999/xhtml\">"));
  response=WebClient.create(endPoint + META_PATH + TEXT_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  content=metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT).trim();
  assertTrue(content.startsWith("embed_3"));
  response=WebClient.create(endPoint + META_PATH + IGNORE_PATH).accept("application/json").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  metadataList=JsonMetadataList.fromJson(reader);
  assertEquals(12,metadataList.size());
  assertNull(metadataList.get(6).get(RecursiveParserWrapper.TIKA_CONTENT));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPasswordProtected() throws Exception {
  Response response=WebClient.create(endPoint + META_PATH).type("application/vnd.ms-excel").accept("application/json").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_PASSWORD_PROTECTED));
  assertEquals(500,response.getStatus());
  response=WebClient.create(endPoint + META_PATH).type("application/vnd.ms-excel").accept("application/json").header("Password","password").put(ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_PASSWORD_PROTECTED));
  assertEquals(200,response.getStatus());
  Reader reader=new InputStreamReader((InputStream)response.getEntity(),UTF_8);
  List<Metadata> metadataList=JsonMetadataList.fromJson(reader);
  assertNotNull(metadataList.get(0).get("Author"));
  assertEquals("pavel",metadataList.get(0).get("Author"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.StackTraceOffTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncrypted() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").header("Content-Disposition","attachment; filename=" + TEST_PASSWORD_PROTECTED).put(ClassLoader.getSystemResourceAsStream(TEST_PASSWORD_PROTECTED));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullPointerOnTika() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test415() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).type("blechdeblah/deblechdeblah").accept("*/*").header("Content-Disposition","attachment; filename=null_pointer.evil").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("bad type: " + path,415,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMeta() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + "/meta" + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,8000));
  Assert.assertEquals(Response.Status.BAD_REQUEST.getStatusCode(),response.getStatus());
  String msg=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("Failed to get metadata field Author",msg);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.StackTraceTest </h4><pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMeta() throws Exception {
  InputStream stream=ClassLoader.getSystemResourceAsStream(TikaResourceTest.TEST_DOC);
  Response response=WebClient.create(endPoint + "/meta" + "/Author").type("application/msword").accept(MediaType.TEXT_PLAIN).put(copy(stream,8000));
  Assert.assertEquals(Response.Status.BAD_REQUEST.getStatusCode(),response.getStatus());
  String msg=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals("Failed to get metadata field Author",msg);
}

</code></pre>

<br>
<pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncrypted() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").header("Content-Disposition","attachment; filename=" + TEST_PASSWORD_PROTECTED).put(ClassLoader.getSystemResourceAsStream(TEST_PASSWORD_PROTECTED));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertContains("org.apache.tika.exception.EncryptedDocumentException",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test415() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).type("blechdeblah/deblechdeblah").accept("*/*").header("Content-Disposition","attachment; filename=null_pointer.evil").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("bad type: " + path,415,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertEquals("should be empty: " + path,"",msg);
  }
}

</code></pre>

<br>
<pre class="type-9 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullPointerOnTika() throws Exception {
  for (  String path : PATHS) {
    Response response=WebClient.create(endPoint + path).accept("*/*").put(ClassLoader.getSystemResourceAsStream(TEST_NULL));
    assertNotNull("null response: " + path,response);
    assertEquals("unprocessable: " + path,UNPROCESSEABLE,response.getStatus());
    String msg=getStringFromInputStream((InputStream)response.getEntity());
    assertContains("Caused by: java.lang.NullPointerException: null pointer message",msg);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaDetectorsTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + DETECTORS_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Object> json=(Map<String,Object>)JSON.parse(jsonStr);
  assertTrue(json.containsKey("name"));
  assertTrue(json.containsKey("composite"));
  assertTrue(json.containsKey("children"));
  assertEquals("org.apache.tika.detect.DefaultDetector",json.get("name"));
  assertEquals(Boolean.TRUE,json.get("composite"));
  Object[] children=(Object[])json.get("children");
  assertTrue(children.length >= 4);
  boolean hasOgg=false, hasPOIFS=false, hasZIP=false, hasMime=false;
  for (  Object o : children) {
    Map<String,Object> d=(Map<String,Object>)o;
    assertTrue(d.containsKey("name"));
    assertTrue(d.containsKey("composite"));
    assertEquals(Boolean.FALSE,d.get("composite"));
    assertEquals(false,d.containsKey("children"));
    String name=(String)d.get("name");
    if (OggDetector.class.getName().equals(name)) {
      hasOgg=true;
    }
    if (POIFSContainerDetector.class.getName().equals(name)) {
      hasPOIFS=true;
    }
    if (ZipContainerDetector.class.getName().equals(name)) {
      hasZIP=true;
    }
    if (MimeTypes.class.getName().equals(name)) {
      hasMime=true;
    }
  }
  assertTrue(hasOgg);
  assertTrue(hasPOIFS);
  assertTrue(hasZIP);
  assertTrue(hasMime);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaMimeTypesTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  Response response=WebClient.create(endPoint + MIMETYPES_PATH).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
  String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
  Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
  assertEquals(true,json.containsKey("text/plain"));
  assertEquals(true,json.containsKey("application/xml"));
  assertEquals(true,json.containsKey("video/x-ogm"));
  assertEquals(true,json.containsKey("image/x-ms-bmp"));
  Map<String,Object> bmp=json.get("image/x-ms-bmp");
  assertEquals(true,bmp.containsKey("alias"));
  Object[] aliases=(Object[])bmp.get("alias");
  assertEquals(1,aliases.length);
  assertEquals("image/bmp",aliases[0]);
  String whichParser=bmp.get("parser").toString();
  assertTrue("Which parser",whichParser.equals("org.apache.tika.parser.ocr.TesseractOCRParser") || whichParser.equals("org.apache.tika.parser.image.ImageParser"));
  Map<String,Object> ogm=json.get("video/x-ogm");
  assertEquals("video/ogg",ogm.get("supertype"));
  assertEquals("org.gagravarr.tika.OggParser",ogm.get("parser"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaParsersTest </h4><pre class="type-9 type-14 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("unchecked") public void testGetJSON() throws Exception {
  for (  boolean details : new boolean[]{false,true}) {
    Response response=WebClient.create(endPoint + getPath(details)).type(javax.ws.rs.core.MediaType.APPLICATION_JSON).accept(javax.ws.rs.core.MediaType.APPLICATION_JSON).get();
    String jsonStr=getStringFromInputStream((InputStream)response.getEntity());
    Map<String,Map<String,Object>> json=(Map<String,Map<String,Object>>)JSON.parse(jsonStr);
    assertEquals(true,json.containsKey("name"));
    assertEquals(true,json.containsKey("composite"));
    assertEquals(true,json.containsKey("children"));
    assertEquals("org.apache.tika.parser.DefaultParser",json.get("name"));
    assertEquals(Boolean.TRUE,json.get("composite"));
    Object[] children=(Object[])(Object)json.get("children");
    assertTrue(children.length >= 20);
    boolean hasOpus=false, hasOOXML=false, hasPDF=false, hasZip=false;
    int nonComposite=0;
    int composite=0;
    for (    Object o : children) {
      Map<String,Object> d=(Map<String,Object>)o;
      assertEquals(true,d.containsKey("name"));
      assertEquals(true,d.containsKey("composite"));
      if (d.get("composite") == Boolean.FALSE)       nonComposite++;
 else       composite++;
      if (d.get("composite") == Boolean.FALSE)       assertEquals(details,d.containsKey("supportedTypes"));
      String name=(String)d.get("name");
      if (OpusParser.class.getName().equals(name)) {
        hasOpus=true;
      }
      if (OOXMLParser.class.getName().equals(name)) {
        hasOOXML=true;
      }
      if (PDFParser.class.getName().equals(name)) {
        hasPDF=true;
      }
      if (PackageParser.class.getName().equals(name)) {
        hasZip=true;
      }
    }
    assertEquals(true,hasOpus);
    assertEquals(true,hasOOXML);
    assertEquals(true,hasPDF);
    assertEquals(true,hasZip);
    assertTrue(nonComposite > 20);
    assertTrue(composite == 0 || composite == 1);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TikaResourceTest </h4><pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWord() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordHTML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/html").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordMultipartXML() throws Exception {
  ClassLoader.getSystemResourceAsStream(TEST_DOC);
  Attachment attachmentPart=new Attachment("myworddoc","application/msword",ClassLoader.getSystemResourceAsStream(TEST_DOC));
  WebClient webClient=WebClient.create(endPoint + TIKA_PATH + "/form");
  Response response=webClient.type("multipart/form-data").accept("text/xml").post(attachmentPart);
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"f8be45c34e8919eedba48cc8d207fbf0\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testEmbedded() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).accept("text/plain").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  response=WebClient.create(endPoint + TIKA_PATH).accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_RECURSIVE_DOC));
  responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("Course of human events"));
  assertContains("<meta name=\"X-TIKA:digest:MD5\" content=\"59f626e09a8c16ab6dbc2800c685f772\"/>",responseMsg);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleWordXML() throws Exception {
  Response response=WebClient.create(endPoint + TIKA_PATH).type("application/msword").accept("text/xml").put(ClassLoader.getSystemResourceAsStream(TEST_DOC));
  String responseMsg=getStringFromInputStream((InputStream)response.getEntity());
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.TranslateResourceTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTranslateAutoLang() throws Exception {
  String url=endPoint + TRANSLATE_ALL_PATH + LINGO_PATH+ DEST;
  Response response=WebClient.create(url).type("text/plain").accept("*/*").put(TRANSLATE_TXT);
  assertNotNull(response);
  String translated=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals(TRANSLATE_TXT,translated);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTranslateFull() throws Exception {
  String url=endPoint + TRANSLATE_ALL_PATH + LINGO_PATH+ SRCDEST;
  Response response=WebClient.create(url).type("text/plain").accept("*/*").put(TRANSLATE_TXT);
  assertNotNull(response);
  String translated=getStringFromInputStream((InputStream)response.getEntity());
  assertEquals(TRANSLATE_TXT,translated);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.server.UnpackerResourceTest </h4><pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAV() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertFalse(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImageDOCX() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOCX_IMAGE));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(DOCX_IMAGE1_MD5,data.get(DOCX_IMAGE1_NAME));
  assertEquals(DOCX_IMAGE2_MD5,data.get(DOCX_IMAGE2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTarDocPicture() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/x-tar").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readArchiveFromStream(new TarArchiveInputStream((InputStream)response.getEntity()));
  assertEquals(JPG_MD5,data.get(JPG_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).header(CONTENT_TYPE,APPLICATION_XML).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("test.doc"));
  String responseMsg=readArchiveText((InputStream)response.getEntity());
  assertNotNull(responseMsg);
  assertTrue(responseMsg.contains("test"));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDocPictureNoOle() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream("2pic.doc"));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(JPG2_MD5,data.get(JPG2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDocWAVText() throws Exception {
  Response response=WebClient.create(endPoint + ALL_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(WAV1_MD5,data.get(WAV1_NAME));
  assertEquals(WAV2_MD5,data.get(WAV2_NAME));
  assertTrue(data.containsKey(UnpackerResource.TEXT_FILENAME));
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExeDOCX() throws Exception {
  String TEST_DOCX_EXE="2exe.docx";
  Response response=WebClient.create(endPoint + UNPACKER_PATH).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOCX_EXE));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(DOCX_EXE1_MD5,data.get(DOCX_EXE1_NAME));
  assertEquals(DOCX_EXE2_MD5,data.get(DOCX_EXE2_NAME));
}

</code></pre>

<br>
<pre class="type-9 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test415() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type("xxx/xxx").accept("*/*").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  assertEquals(415,response.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDocPicture() throws Exception {
  Response response=WebClient.create(endPoint + UNPACKER_PATH).type(APPLICATION_MSWORD).accept("application/zip").put(ClassLoader.getSystemResourceAsStream(TEST_DOC_WAV));
  Map<String,String> data=readZipArchive((InputStream)response.getEntity());
  assertEquals(JPG_MD5,data.get(JPG_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.utils.ConcurrentUtilsTest </h4><pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void testExecuteThread() throws Exception {
  ParseContext context=new ParseContext();
  Future result=ConcurrentUtils.execute(context,new Runnable(){
    @Override public void run(){
    }
  }
);
  assertNull(result.get());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testExecuteExecutor() throws Exception {
  TikaConfig config=TikaConfig.getDefaultConfig();
  ParseContext context=new ParseContext();
  context.set(ExecutorService.class,config.getExecutorService());
  Future result=ConcurrentUtils.execute(context,new Runnable(){
    @Override public void run(){
    }
  }
);
  assertNull(result.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tika.xmp.TikaToXMPTest </h4><pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void convert_OOXMLMetadataWithoutMimetype_onlyGeneralMetadataconverted() throws XMPException, TikaException {
  setupOOXMLMetadata(tikaMetadata);
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPProperty prop=xmp.getProperty(XMPConst.NS_DC,"language");
  assertNotNull(prop);
  assertEquals("language",prop.getValue());
  prop=xmp.getLocalizedText(XMPConst.NS_DC,"title",null,XMPConst.X_DEFAULT);
  assertNotNull(prop);
  assertEquals("title",prop.getValue());
  XMPMetaFactory.getSchemaRegistry().registerNamespace(OfficeOpenXMLCore.NAMESPACE_URI,OfficeOpenXMLCore.PREFIX);
  prop=xmp.getProperty(OfficeOpenXMLCore.NAMESPACE_URI,"lastModifiedBy");
  assertNull(prop);
}

</code></pre>

<br>
<pre class="type-9 type-5 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getConverter_ConverterAvailable_class() throws TikaException {
  ITikaToXMPConverter converter=TikaToXMP.getConverter(OOXML_MIMETYPE);
  assertNotNull(converter);
  assertTrue(converter instanceof MSOfficeXMLConverter);
}

</code></pre>

<br>
<pre class="type-9 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void convert_wrongGenericMetadata_notConverted() throws XMPException, TikaException {
  tikaMetadata.set("unknown:key","unknownPrefixValue");
  tikaMetadata.set("wrongKey","wrongKeyValue");
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPIterator iter=xmp.iterator();
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-4 type-2 type-8 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void convert_genericMetadataAllQualified_allConverted() throws XMPException, TikaException {
  tikaMetadata.set(TikaCoreProperties.FORMAT,GENERIC_MIMETYPE);
  tikaMetadata.set(TikaCoreProperties.TITLE,"title");
  tikaMetadata.set(TikaCoreProperties.KEYWORDS,new String[]{"keyword1","keyword2"});
  XMPMeta xmp=TikaToXMP.convert(tikaMetadata,null);
  XMPProperty prop=xmp.getProperty(XMPConst.NS_DC,"format");
  assertNotNull(prop);
  assertEquals(GENERIC_MIMETYPE,prop.getValue());
  prop=xmp.getLocalizedText(XMPConst.NS_DC,"title",null,XMPConst.X_DEFAULT);
  assertNotNull(prop);
  assertEquals("title",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",1);
  assertNotNull(prop);
  assertEquals("keyword1",prop.getValue());
  prop=xmp.getArrayItem(XMPConst.NS_DC,"subject",2);
  assertNotNull(prop);
  assertEquals("keyword2",prop.getValue());
}

</code></pre>

<br>
<pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
"></span><br>
@Test public void getConverter_noConverterAvailable_null() throws TikaException {
  ITikaToXMPConverter converter=TikaToXMP.getConverter(GENERIC_MIMETYPE);
  assertNull(converter);
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
