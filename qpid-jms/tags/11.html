<h3><span class=" glyphicon glyphicon-tag"/>&nbspUtilityVerifier</h3><kbd>Verifies (un)successful execution of the test case by reporting explicitly a failure</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.qpid.jms.JmsConnectionFactoryTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateConnectionBadProviderURI() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory(new URI("bad://127.0.0.1:5763"));
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=5000) public void testCreateConnectionWithPortOutOfRange() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("amqp://127.0.0.1:567564562");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
    LOG.debug("Caught Ex -> ",jmse);
  }
  factory=new JmsConnectionFactory("amqp://127.0.0.1:5675645622");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
    LOG.debug("Caught Ex -> ",jmse);
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateConnectionBadProviderString() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("bad://127.0.0.1:5763");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentConnectionFactories() throws Exception {
  JmsConnectionFactory cf1=new JmsConnectionFactory("amqp://localhost:1234");
  JmsConnectionFactory cf2=new JmsConnectionFactory("amqp://localhost:5678");
  byte[] bytes1=serialize(cf1);
  byte[] bytes2=serialize(cf2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetPropertiesWithBadUriOptionCausesFail() throws Exception {
  JmsConnectionFactory cf=new JmsConnectionFactory();
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI","amqp://localhost:1234?jms.badOption=true");
  try {
    cf.setProperties(props);
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String clientID=getTestName();
  String queuePrefix="q:";
  String jmsOptionPrefix="jms.";
  String baseUri="amqp://localhost:1234";
  String uri=baseUri + "?" + jmsOptionPrefix+ CLIENT_ID_PROP+ "="+ clientID;
  JmsConnectionFactory cf=new JmsConnectionFactory();
  assertNotEquals("value should not match yet",clientID,cf.getClientID());
  assertNotEquals("value should not match yet",queuePrefix,cf.getQueuePrefix());
  assertNotEquals("value should not match yet",baseUri,cf.getRemoteURI());
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI",uri);
  props.put("queuePrefix",queuePrefix);
  Map<String,String> unusedProps=cf.setProperties(props);
  assertEquals("uri property query option not applied as expected",clientID,cf.getClientID());
  assertEquals("direct property not applied as expected",queuePrefix,cf.getQueuePrefix());
  assertEquals("URI was filtered to remove options that were applied",baseUri,cf.getRemoteURI());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String uri="amqp://localhost:1234";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsConnectionFactory cf=new JmsConnectionFactory();
  assertNotEquals("value should not match yet",uri,cf.getRemoteURI());
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI",uri);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=cf.setProperties(props);
  assertEquals("uri property option not applied as expected",uri,cf.getRemoteURI());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsConnectionTest </h4><pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testDeleteOfTempTopicOnClosedConnection() throws JMSException, IOException {
  connection=new JmsConnection("ID:TEST:1",provider,clientIdGenerator);
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryTopic tempTopic=session.createTemporaryTopic();
  assertNotNull(tempTopic);
  connection.close();
  try {
    tempTopic.delete();
    fail("Should have thrown an IllegalStateException");
  }
 catch (  IllegalStateException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testCreateWithDuplicateClientIdFails() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory(getBrokerAmqpConnectionURI());
  JmsConnection connection1=(JmsConnection)factory.createConnection();
  connection1.setClientID("Test");
  assertNotNull(connection1);
  connection1.start();
  JmsConnection connection2=(JmsConnection)factory.createConnection();
  try {
    connection2.setClientID("Test");
    fail("should have thrown a JMSException");
  }
 catch (  InvalidClientIDException ex) {
    LOG.info("Remote threw ex: {}",ex);
  }
catch (  Exception unexpected) {
    fail("Wrong exception type thrown: " + unexpected);
  }
  connection1.close();
  connection2.close();
}

</code></pre>

<br>
<pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testDeleteOfTempQueueOnClosedConnection() throws JMSException, IOException {
  connection=new JmsConnection("ID:TEST:1",provider,clientIdGenerator);
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryQueue tempQueue=session.createTemporaryQueue();
  assertNotNull(tempQueue);
  connection.close();
  try {
    tempQueue.delete();
    fail("Should have thrown an IllegalStateException");
  }
 catch (  IllegalStateException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=30000) public void testCreateNonTXSessionWithTXAckMode() throws JMSException, IOException {
  connection=new JmsConnection("ID:TEST:1",provider,clientIdGenerator);
  connection.start();
  try {
    connection.createSession(false,Session.SESSION_TRANSACTED);
    fail("Should not allow non-TX session with mode SESSION_TRANSACTED");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=30000) public void testBrokerStopWontHangConnectionClose() throws Exception {
  connection=createAmqpConnection();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  Queue queue=session.createQueue(getDestinationName());
  connection.start();
  MessageProducer producer=session.createProducer(queue);
  producer.setDeliveryMode(DeliveryMode.PERSISTENT);
  Message m=session.createTextMessage("Sample text");
  producer.send(m);
  stopPrimaryBroker();
  try {
    connection.close();
  }
 catch (  Exception ex) {
    LOG.error("Should not thrown on disconnected connection close(): {}",ex);
    fail("Should not have thrown an exception.");
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=30000) public void testCreateNonTXSessionWithUnknownAckMode() throws JMSException, IOException {
  connection=new JmsConnection("ID:TEST:1",provider,clientIdGenerator);
  connection.start();
  try {
    connection.createSession(false,99);
    fail("Should not allow unkown Ack modes.");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsMessageIntegrityTest </h4><pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBytesMessage() throws Exception {
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  Destination destination=session.createQueue(name.getMethodName());
  MessageConsumer consumer=session.createConsumer(destination);
  MessageProducer producer=session.createProducer(destination);
{
    BytesMessage message=session.createBytesMessage();
    message.writeBoolean(true);
    producer.send(message);
  }
{
    BytesMessage message=(BytesMessage)consumer.receive(3000);
    assertNotNull(message);
    assertTrue(message.readBoolean());
    try {
      message.readByte();
      fail("Expected exception not thrown.");
    }
 catch (    MessageEOFException e) {
    }
  }
  assertNull(consumer.receiveNoWait());
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStreamMessage() throws Exception {
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  Destination destination=session.createQueue(name.getMethodName());
  MessageConsumer consumer=session.createConsumer(destination);
  MessageProducer producer=session.createProducer(destination);
{
    StreamMessage message=session.createStreamMessage();
    message.writeString("This is a test to see how it works.");
    producer.send(message);
  }
{
    StreamMessage message=(StreamMessage)consumer.receive(3000);
    assertNotNull(message);
    try {
      message.readByte();
      fail("Should have received NumberFormatException");
    }
 catch (    NumberFormatException e) {
    }
    assertEquals("This is a test to see how it works.",message.readString());
    try {
      message.readByte();
      fail("Should have received MessageEOFException");
    }
 catch (    MessageEOFException e) {
    }
  }
  assertNull(consumer.receiveNoWait());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsQueueTest </h4><pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentDestinations() throws Exception {
  JmsQueue queue1=new JmsQueue("myQueue1");
  JmsQueue queue2=new JmsQueue("myQueue2");
  assertNotEquals("Destinations were not expected to be equal",queue1,queue2);
  byte[] bytes1=serialize(queue1);
  byte[] bytes2=serialize(queue2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String name="myQueue";
  JmsQueue queue=new JmsQueue();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  Map<String,String> unusedProps=queue.setProperties(props);
  assertEquals("Unexpected value for name",name,queue.getQueueName());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String name="myQueue";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsQueue queue=new JmsQueue();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=queue.setProperties(props);
  assertEquals("Unexpected value for name",name,queue.getQueueName());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsTemporaryQueueTest </h4><pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String name="myQueue";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsQueue queue=new JmsQueue();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=queue.setProperties(props);
  assertEquals("Unexpected value for name",name,queue.getQueueName());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentDestinations() throws Exception {
  JmsTemporaryQueue queue1=new JmsTemporaryQueue("myQueue1");
  JmsTemporaryQueue queue2=new JmsTemporaryQueue("myQueue2");
  assertNotEquals("Destinations were not expected to be equal",queue1,queue2);
  byte[] bytes1=serialize(queue1);
  byte[] bytes2=serialize(queue2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String name="myQueue";
  JmsTemporaryQueue queue=new JmsTemporaryQueue();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  Map<String,String> unusedProps=queue.setProperties(props);
  assertEquals("Unexpected value for name",name,queue.getQueueName());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsTemporaryTopicTest </h4><pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String name="myTopic";
  JmsTemporaryTopic topic=new JmsTemporaryTopic();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  Map<String,String> unusedProps=topic.setProperties(props);
  assertEquals("Unexpected value for name",name,topic.getTopicName());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String name="myTopic";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsTopic topic=new JmsTopic();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=topic.setProperties(props);
  assertEquals("Unexpected value for name",name,topic.getTopicName());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentDestinations() throws Exception {
  JmsTemporaryTopic topic1=new JmsTemporaryTopic("myTopic1");
  JmsTemporaryTopic topic2=new JmsTemporaryTopic("myTopic2");
  assertNotEquals("Destinations were not expected to be equal",topic1,topic2);
  byte[] bytes1=serialize(topic1);
  byte[] bytes2=serialize(topic2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.JmsTopicTest </h4><pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String name="myTopic";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsTopic topic=new JmsTopic();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=topic.setProperties(props);
  assertEquals("Unexpected value for name",name,topic.getTopicName());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String name="myTopic";
  JmsTopic topic=new JmsTopic();
  Map<String,String> props=new HashMap<String,String>();
  props.put(NAME_PROP,name);
  Map<String,String> unusedProps=topic.setProperties(props);
  assertEquals("Unexpected value for name",name,topic.getTopicName());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentDestinations() throws Exception {
  JmsTopic topic1=new JmsTopic("myTopic1");
  JmsTopic topic2=new JmsTopic("myTopic2");
  assertNotEquals("Destinations were not expected to be equal",topic1,topic2);
  byte[] bytes1=serialize(topic1);
  byte[] bytes2=serialize(topic2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.consumer.JmsDurableSubscriberTest </h4><pre class="type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testDurableSubscriptionUnsubscribeInUseThrowsAndRecovers() throws Exception {
  connection=createAmqpConnection();
  connection.setClientID("DURABLE-AMQP");
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  assertNotNull(session);
  Topic topic=session.createTopic(name.getMethodName());
  MessageConsumer consumer=session.createDurableSubscriber(topic,getSubscriptionName());
  assertNotNull(consumer);
  BrokerViewMBean broker=getProxyToBroker();
  assertEquals(1,broker.getDurableTopicSubscribers().length);
  assertEquals(0,broker.getInactiveDurableTopicSubscribers().length);
  try {
    session.unsubscribe(getSubscriptionName());
    fail("Should have thrown a JMSException");
  }
 catch (  JMSException ex) {
  }
  assertEquals(1,broker.getDurableTopicSubscribers().length);
  assertEquals(0,broker.getInactiveDurableTopicSubscribers().length);
  consumer.close();
  assertEquals(0,broker.getDurableTopicSubscribers().length);
  assertEquals(1,broker.getInactiveDurableTopicSubscribers().length);
  session.unsubscribe(getSubscriptionName());
  assertEquals(0,broker.getDurableTopicSubscribers().length);
  assertEquals(0,broker.getInactiveDurableTopicSubscribers().length);
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testDurableSubscriptionUnsubscribeNoExistingSubThrowsJMSEx() throws Exception {
  connection=createAmqpConnection();
  connection.setClientID("DURABLE-AMQP");
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  assertNotNull(session);
  BrokerViewMBean broker=getProxyToBroker();
  assertEquals(0,broker.getDurableTopicSubscribers().length);
  assertEquals(0,broker.getInactiveDurableTopicSubscribers().length);
  try {
    session.unsubscribe(getSubscriptionName());
    fail("Should have thrown an InvalidDestinationException");
  }
 catch (  InvalidDestinationException ide) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.destinations.JmsTemporaryQueueTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantSendToTemporaryQueueFromClosedConnection() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryQueue tempQueue=session.createTemporaryQueue();
  Connection connection2=createAmqpConnection();
  try {
    Session session2=connection2.createSession(false,Session.AUTO_ACKNOWLEDGE);
    Message msg=session2.createMessage();
    MessageProducer producer=session2.createProducer(tempQueue);
    connection.close();
    try {
      producer.send(msg);
      fail("should not be able to send to temporary queue from closed connection");
    }
 catch (    IllegalStateException ide) {
    }
  }
  finally {
    connection2.close();
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantDeleteTemporaryQueueWithConsumers() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryQueue tempQueue=session.createTemporaryQueue();
  MessageConsumer consumer=session.createConsumer(tempQueue);
  try {
    tempQueue.delete();
    fail("should not be able to delete temporary queue with active consumers");
  }
 catch (  IllegalStateException ide) {
  }
  consumer.close();
  tempQueue.delete();
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantConsumeFromTemporaryQueueCreatedOnAnotherConnection() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryQueue tempQueue=session.createTemporaryQueue();
  session.createConsumer(tempQueue);
  Connection connection2=createAmqpConnection();
  try {
    Session session2=connection2.createSession(false,Session.AUTO_ACKNOWLEDGE);
    try {
      session2.createConsumer(tempQueue);
      fail("should not be able to consumer from temporary queue from another connection");
    }
 catch (    InvalidDestinationException ide) {
    }
  }
  finally {
    connection2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.destinations.JmsTemporaryTopicTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantSendToTemporaryTopicFromClosedConnection() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryTopic tempTopic=session.createTemporaryTopic();
  Connection connection2=createAmqpConnection();
  try {
    Session session2=connection2.createSession(false,Session.AUTO_ACKNOWLEDGE);
    Message msg=session2.createMessage();
    MessageProducer producer=session2.createProducer(tempTopic);
    connection.close();
    try {
      producer.send(msg);
      fail("should not be able to send to temporary topic from closed connection");
    }
 catch (    IllegalStateException ide) {
    }
  }
  finally {
    connection2.close();
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantConsumeFromTemporaryTopicCreatedOnAnotherConnection() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryTopic tempTopic=session.createTemporaryTopic();
  session.createConsumer(tempTopic);
  Connection connection2=createAmqpConnection();
  try {
    Session session2=connection2.createSession(false,Session.AUTO_ACKNOWLEDGE);
    try {
      session2.createConsumer(tempTopic);
      fail("should not be able to consumer from temporary topic from another connection");
    }
 catch (    InvalidDestinationException ide) {
    }
  }
  finally {
    connection2.close();
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testCantDeleteTemporaryTopicWithConsumers() throws Exception {
  connection=createAmqpConnection();
  connection.start();
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  TemporaryTopic tempTopic=session.createTemporaryTopic();
  MessageConsumer consumer=session.createConsumer(tempTopic);
  try {
    tempTopic.delete();
    fail("should not be able to delete temporary topic with active consumers");
  }
 catch (  IllegalStateException ide) {
  }
  consumer.close();
  tempTopic.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.discovery.JmsAmqpDiscoveryTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=10000) public void testFailureToDiscoverLeadsToConnectionFailure() throws Exception {
  stopPrimaryBroker();
  try {
    createFailingConnection();
    fail("Should have failed to connect");
  }
 catch (  JMSException jmse) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.discovery.JmsDiscoveryProviderTest </h4><pre class="type-6 type-11 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testStartFailsWithNoListener() throws Exception {
  URI discoveryUri=new URI("discovery:multicast://default");
  Provider provider=DiscoveryProviderFactory.create(discoveryUri);
  assertNotNull(provider);
  try {
    provider.start();
    fail("Should have thrown IllegalStateException");
  }
 catch (  IllegalStateException expected) {
  }
catch (  Exception unexpected) {
    fail("Should have thrown IllegalStateException");
  }
  provider.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.failover.JmsFailoverTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testStartupReconnectAttemptsMultipleHosts() throws Exception {
  URI brokerURI=new URI("failover://(amqp://localhost:5678,amqp://localhost:5677)" + "?failover.startupMaxReconnectAttempts=6" + "&failover.useReconnectBackOff=false");
  JmsConnectionFactory factory=new JmsConnectionFactory(brokerURI);
  Connection connection=factory.createConnection();
  try {
    connection.start();
    fail("Should have thrown an exception of type JMSException");
  }
 catch (  JMSException jmsEx) {
  }
catch (  Exception unexpected) {
    fail("Should have thrown a JMSException but threw: " + unexpected.getClass().getSimpleName());
  }
 finally {
    connection.close();
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testStartupReconnectAttempts() throws Exception {
  URI brokerURI=new URI("failover://(amqp://localhost:5677)" + "?failover.startupMaxReconnectAttempts=5" + "&failover.useReconnectBackOff=false");
  JmsConnectionFactory factory=new JmsConnectionFactory(brokerURI);
  Connection connection=factory.createConnection();
  try {
    connection.start();
    fail("Should have thrown an exception of type JMSException");
  }
 catch (  JMSException jmsEx) {
  }
catch (  Exception unexpected) {
    fail("Should have thrown a JMSException but threw: " + unexpected.getClass().getSimpleName());
  }
 finally {
    connection.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.failover.JmsTxConsumerFailoverTest </h4><pre class="type-13 type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxConsumerReceiveWorksAfterFailoverButCommitFails() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=10;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageConsumer consumer=session.createConsumer(queue);
  sendMessages(connection,queue,MSG_COUNT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT / 2; ++i) {
    Message received=consumer.receive(3000);
    assertNotNull("Mesage was not expected but not received",received);
    LOG.info("consumer received message #{} - {}",i + 1,received.getJMSMessageID());
  }
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT / 2; ++i) {
    Message received=consumer.receive(3000);
    assertNotNull("Mesage was not expected but not received",received);
    LOG.info("consumer received message #{} - {}",i + 1,received.getJMSMessageID());
  }
  try {
    session.commit();
    fail("Session commit should have failed with TX rolled back.");
  }
 catch (  TransactionRolledBackException rb) {
    LOG.info("Transacted commit failed after failover: {}",rb.getMessage());
  }
  assertEquals(MSG_COUNT,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-13 type-11 type-4 type-5 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxConsumerReceiveAfterFailoverCommits() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageConsumer consumer=session.createConsumer(queue);
  sendMessages(connection,queue,MSG_COUNT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  assertTrue("Should have a new connection.",Wait.waitFor(new Wait.Condition(){
    @Override public boolean isSatisified() throws Exception {
      return brokerService.getAdminView().getCurrentConnectionsCount() == 1;
    }
  }
,TimeUnit.SECONDS.toMillis(30),TimeUnit.MILLISECONDS.toMillis(100)));
  assertTrue("Should have a recovered consumer.",Wait.waitFor(new Wait.Condition(){
    @Override public boolean isSatisified() throws Exception {
      return brokerService.getAdminView().getQueueSubscribers().length == 1;
    }
  }
,TimeUnit.SECONDS.toMillis(30),TimeUnit.MILLISECONDS.toMillis(50)));
  for (int i=0; i < MSG_COUNT; ++i) {
    Message received=consumer.receive(3000);
    assertNotNull("Mesage was not expected but not received",received);
  }
  try {
    session.commit();
    LOG.info("Transacted commit ok after failover.");
  }
 catch (  TransactionRolledBackException rb) {
    fail("Session commit should not have failed with TX rolled back.");
  }
  assertEquals(0,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-13 type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxConsumerReceiveThenFailoverCommitFails() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageConsumer consumer=session.createConsumer(queue);
  sendMessages(connection,queue,MSG_COUNT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT; ++i) {
    Message received=consumer.receive(3000);
    assertNotNull("Mesage was not expected but not received",received);
  }
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  try {
    LOG.info("Session commit firing after connection failed.");
    session.commit();
    fail("Session commit should have failed with TX rolled back.");
  }
 catch (  TransactionRolledBackException rb) {
    LOG.info("Transacted commit failed after failover: {}",rb.getMessage());
  }
  assertEquals(MSG_COUNT,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-13 type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxConsumerRollbackAfterFailoverGetsNoErrors() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageConsumer consumer=session.createConsumer(queue);
  sendMessages(connection,queue,MSG_COUNT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT; ++i) {
    Message received=consumer.receive(3000);
    assertNotNull("Mesage was not expected but not received",received);
  }
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(MSG_COUNT,proxy.getQueueSize());
  try {
    LOG.info("Transacted being rolled back after failover");
    session.rollback();
    LOG.info("Transacted rollback after failover");
  }
 catch (  JMSException ex) {
    LOG.info("Caught unexpected error: {}",ex.getMessage());
    fail("Session rollback should not have failed.");
  }
  assertEquals(MSG_COUNT,proxy.getQueueSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.failover.JmsTxProducerFailoverTest </h4><pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxProducerRollbackAfterFailoverGetsNoErrors() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  JmsConnection jmsConnection=(JmsConnection)connection;
  jmsConnection.setForceSyncSend(true);
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageProducer producer=session.createProducer(queue);
  producer.setDeliveryMode(DeliveryMode.PERSISTENT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT; ++i) {
    LOG.debug("Producer sening message #{}",i + 1);
    producer.send(session.createTextMessage("Message: " + i));
  }
  assertEquals(0,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  try {
    session.rollback();
    LOG.info("Transacted rollback after failover ok");
  }
 catch (  JMSException ex) {
    fail("Session rollback should not have failed: " + ex.getMessage());
  }
  assertEquals(0,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxProducerSendAfterFailoverCommits() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageProducer producer=session.createProducer(queue);
  producer.setDeliveryMode(DeliveryMode.PERSISTENT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  assertTrue("Should have a new connection.",Wait.waitFor(new Wait.Condition(){
    @Override public boolean isSatisified() throws Exception {
      return brokerService.getAdminView().getCurrentConnectionsCount() == 1;
    }
  }
,TimeUnit.SECONDS.toMillis(30),TimeUnit.MILLISECONDS.toMillis(100)));
  assertTrue("Should have a recovered producer.",Wait.waitFor(new Wait.Condition(){
    @Override public boolean isSatisified() throws Exception {
      return brokerService.getAdminView().getQueueProducers().length == 1;
    }
  }
,TimeUnit.SECONDS.toMillis(30),TimeUnit.MILLISECONDS.toMillis(50)));
  for (int i=0; i < MSG_COUNT; ++i) {
    LOG.debug("Producer sening message #{}",i + 1);
    producer.send(session.createTextMessage("Message: " + i));
  }
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  try {
    session.commit();
    LOG.info("Transacted commit ok after failover.");
  }
 catch (  TransactionRolledBackException rb) {
    fail("Session commit should not have failed with TX rolled back.");
  }
  assertEquals(MSG_COUNT,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxProducerSendsThenFailoverCommitFails() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=5;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageProducer producer=session.createProducer(queue);
  producer.setDeliveryMode(DeliveryMode.PERSISTENT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT; ++i) {
    LOG.debug("Producer sening message #{}",i + 1);
    producer.send(session.createTextMessage("Message: " + i));
  }
  assertEquals(0,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  try {
    session.commit();
    fail("Session commit should have failed with TX rolled back.");
  }
 catch (  TransactionRolledBackException rb) {
    LOG.info("Transacted commit failed after failover: {}",rb.getMessage());
  }
  assertEquals(0,proxy.getQueueSize());
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60000) public void testTxProducerSendWorksButCommitFails() throws Exception {
  URI brokerURI=new URI(getAmqpFailoverURI());
  connection=createAmqpConnection(brokerURI);
  connection.start();
  final int MSG_COUNT=10;
  final Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(name.getMethodName());
  final MessageProducer producer=session.createProducer(queue);
  producer.setDeliveryMode(DeliveryMode.PERSISTENT);
  QueueViewMBean proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  for (int i=0; i < MSG_COUNT / 2; ++i) {
    LOG.debug("Producer sening message #{}",i + 1);
    producer.send(session.createTextMessage("Message: " + i));
  }
  assertEquals(0,proxy.getQueueSize());
  stopPrimaryBroker();
  restartPrimaryBroker();
  proxy=getProxyToQueue(name.getMethodName());
  assertEquals(0,proxy.getQueueSize());
  for (int i=MSG_COUNT / 2; i < MSG_COUNT; ++i) {
    LOG.debug("Producer sening message #{}",i + 1);
    producer.send(session.createTextMessage("Message: " + i));
  }
  try {
    session.commit();
    fail("Session commit should have failed with TX rolled back.");
  }
 catch (  TransactionRolledBackException rb) {
    LOG.info("Transacted commit failed after failover: {}",rb.getMessage());
  }
  assertEquals(0,proxy.getQueueSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.ConnectionFactoryIntegrationTest </h4><pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testSetMessageIDFormatOptionAlteredCase() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    try {
      String uri="amqp://127.0.0.1:" + testPeer.getServerPort() + "?jms.messageIDType=uuid";
      JmsConnectionFactory factory=new JmsConnectionFactory(uri);
      assertEquals(JmsMessageIDBuilder.BUILTIN.UUID.name(),factory.getMessageIDType());
    }
 catch (    Exception ex) {
      fail("Should have succeeded in creating factory");
    }
    try {
      String uri="amqp://127.0.0.1:" + testPeer.getServerPort() + "?jms.messageIDType=Uuid";
      JmsConnectionFactory factory=new JmsConnectionFactory(uri);
      assertEquals(JmsMessageIDBuilder.BUILTIN.UUID.name(),factory.getMessageIDType());
    }
 catch (    Exception ex) {
      fail("Should have succeeded in creating factory");
    }
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateAmqpConnectionWithUserInfoThrowsJMSEx() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    String uri="amqp://user:pass@127.0.0.1:" + testPeer.getServerPort();
    try {
      new JmsConnectionFactory(uri);
      fail("Should not be able to create a factory with user info value set.");
    }
 catch (    Exception ex) {
      LOG.debug("Caught expected exception on invalid message ID format: {}",ex);
    }
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testSetInvalidMessageIDFormatOption() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    String uri="amqp://127.0.0.1:" + testPeer.getServerPort() + "?jms.messageIDType=UNKNOWN";
    try {
      new JmsConnectionFactory(uri);
      fail("Should not be able to create a factory with invalid id type option value.");
    }
 catch (    Exception ex) {
      LOG.debug("Caught expected exception on invalid message ID format: {}",ex);
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.ConnectionIntegrationTest </h4><pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testRemotelyCloseConnectionDuringSessionCreation() throws Exception {
  final String BREAD_CRUMB="ErrorMessageBreadCrumb";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin(notNullValue(),false);
    testPeer.remotelyCloseConnection(true,AmqpError.NOT_ALLOWED,BREAD_CRUMB);
    try {
      connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
      fail("Expected exception to be thrown");
    }
 catch (    JMSException jmse) {
      assertNotNull("Expected exception to have a message",jmse.getMessage());
      assertTrue("Expected breadcrumb to be present in message",jmse.getMessage().contains(BREAD_CRUMB));
    }
    testPeer.waitForAllHandlersToComplete(3000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testRemotelyDropConnectionDuringSessionCreation() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin(notNullValue(),false);
    testPeer.dropAfterLastHandler();
    try {
      connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
      fail("Expected exception to be thrown");
    }
 catch (    JMSException jmse) {
    }
    testPeer.waitForAllHandlersToComplete(3000);
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testRemotelyEndConnectionWithSessionWithConsumer() throws Exception {
  final String BREAD_CRUMB="ErrorMessage";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    final Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    testPeer.expectReceiverAttach();
    testPeer.expectLinkFlow();
    testPeer.remotelyCloseConnection(true,AmqpError.RESOURCE_LIMIT_EXCEEDED,BREAD_CRUMB);
    Queue queue=session.createQueue("myQueue");
    MessageConsumer consumer=session.createConsumer(queue);
    testPeer.waitForAllHandlersToComplete(1000);
    assertTrue("connection never closed.",Wait.waitFor(new Wait.Condition(){
      @Override public boolean isSatisified() throws Exception {
        return !((JmsConnection)connection).isConnected();
      }
    }
,10000,10));
    try {
      connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
      fail("Expected ISE to be thrown due to being closed");
    }
 catch (    IllegalStateException jmsise) {
      String message=jmsise.getCause().getMessage();
      assertTrue(message.contains(AmqpError.RESOURCE_LIMIT_EXCEEDED.toString()));
      assertTrue(message.contains(BREAD_CRUMB));
    }
    try {
      session.getAcknowledgeMode();
      fail("Expected ISE to be thrown due to being closed");
    }
 catch (    IllegalStateException jmsise) {
      String message=jmsise.getCause().getMessage();
      assertTrue(message.contains(AmqpError.RESOURCE_LIMIT_EXCEEDED.toString()));
      assertTrue(message.contains(BREAD_CRUMB));
    }
    try {
      consumer.getMessageListener();
      fail("Expected ISE to be thrown due to being closed");
    }
 catch (    IllegalStateException jmsise) {
      String message=jmsise.getCause().getMessage();
      assertTrue(message.contains(AmqpError.RESOURCE_LIMIT_EXCEEDED.toString()));
      assertTrue(message.contains(BREAD_CRUMB));
    }
    consumer.close();
    session.close();
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateTransactedSessionFailsWhenNoDetachResponseSent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    ((JmsConnection)connection).setRequestTimeout(500);
    testPeer.expectBegin();
    CoordinatorMatcher txCoordinatorMatcher=new CoordinatorMatcher();
    txCoordinatorMatcher.withCapabilities(arrayContaining(TxnCapability.LOCAL_TXN));
    testPeer.expectSenderAttach(notNullValue(),txCoordinatorMatcher,true,true,false,0,null,null);
    testPeer.expectDetach(true,false,false);
    try {
      connection.createSession(true,Session.SESSION_TRANSACTED);
      fail("Session create should have failed.");
    }
 catch (    JMSException ex) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.ConsumerIntegrationTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=60000) public void testSyncReceiveFailsWhenListenerSet() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    Queue destination=session.createQueue(getTestName());
    testPeer.expectReceiverAttach();
    testPeer.expectLinkFlow();
    MessageConsumer consumer=session.createConsumer(destination);
    consumer.setMessageListener(new MessageListener(){
      @Override public void onMessage(      Message m){
        LOG.warn("Async consumer got unexpected Message: {}",m);
      }
    }
);
    try {
      consumer.receive();
      fail("Should have thrown an exception.");
    }
 catch (    JMSException ex) {
    }
    try {
      consumer.receive(1000);
      fail("Should have thrown an exception.");
    }
 catch (    JMSException ex) {
    }
    try {
      consumer.receiveNoWait();
      fail("Should have thrown an exception.");
    }
 catch (    JMSException ex) {
    }
    testPeer.waitForAllHandlersToComplete(2000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCannotUseMessageListener() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    ((JmsConnection)connection).getPrefetchPolicy().setAll(0);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    Queue destination=session.createQueue(getTestName());
    testPeer.expectReceiverAttach();
    MessageConsumer consumer=session.createConsumer(destination);
    MessageListener listener=new MessageListener(){
      @Override public void onMessage(      Message message){
      }
    }
;
    try {
      consumer.setMessageListener(listener);
      fail("Should not allow listener to be set when prefetch is zero.");
    }
 catch (    JMSException ex) {
    }
    testPeer.waitForAllHandlersToComplete(2000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConsumerReceiveNoWaitThrowsIfConnectionLost() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.CLIENT_ACKNOWLEDGE);
    Queue queue=session.createQueue("queue");
    connection.start();
    testPeer.expectReceiverAttach();
    testPeer.expectLinkFlow(false,notNullValue(UnsignedInteger.class));
    testPeer.expectLinkFlow(true,notNullValue(UnsignedInteger.class));
    testPeer.dropAfterLastHandler();
    final MessageConsumer consumer=session.createConsumer(queue);
    try {
      consumer.receiveNoWait();
      fail("An exception should have been thrown");
    }
 catch (    JMSException jmse) {
    }
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.FailedConnectionsIntegrationTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectSecurityViolation() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    testPeer.rejectConnect(AmqpError.UNAUTHORIZED_ACCESS,"Anonymous connections not allowed",null);
    try {
      establishAnonymousConnecton(testPeer,true);
      fail("Should have thrown JMSSecurityException");
    }
 catch (    JMSException jmsEx) {
    }
catch (    Exception ex) {
      fail("Should have thrown JMSSecurityException: " + ex);
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectWithInvalidClientIdThrowsICIDEWhenInvalidContainerHintPresent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    final String remoteURI="amqp://localhost:" + testPeer.getServerPort();
    Map<Symbol,Object> errorInfo=new HashMap<Symbol,Object>();
    errorInfo.put(AmqpSupport.INVALID_FIELD,AmqpSupport.CONTAINER_ID);
    testPeer.rejectConnect(AmqpError.INVALID_FIELD,"Client ID already in use",errorInfo);
    try {
      ConnectionFactory factory=new JmsConnectionFactory(remoteURI);
      Connection connection=factory.createConnection();
      connection.setClientID("in-use-client-id");
      fail("Should have thrown InvalidClientIDException");
    }
 catch (    InvalidClientIDException e) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testConnectWithRedirect() throws Exception {
  Map<Symbol,Object> redirectInfo=new HashMap<Symbol,Object>();
  redirectInfo.put(OPEN_HOSTNAME,"vhost");
  redirectInfo.put(NETWORK_HOST,"127.0.0.1");
  redirectInfo.put(PORT,5672);
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    testPeer.rejectConnect(ConnectionError.REDIRECT,"Server is full, go away",redirectInfo);
    try {
      establishAnonymousConnecton(testPeer,true);
      fail("Should have thrown JMSException");
    }
 catch (    JMSException jmsex) {
      assertTrue(jmsex.getCause() instanceof ProviderRedirectedException);
      ProviderRedirectedException redirectEx=(ProviderRedirectedException)jmsex.getCause();
      assertEquals("vhost",redirectEx.getHostname());
      assertEquals("127.0.0.1",redirectEx.getNetworkHost());
      assertEquals(5672,redirectEx.getPort());
    }
catch (    Exception ex) {
      fail("Should have thrown JMSException: " + ex);
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectWithInvalidClientIdThrowsJMSEWhenInvalidContainerHintNotPresent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    testPeer.rejectConnect(AmqpError.INVALID_FIELD,"Client ID already in use",null);
    try {
      establishAnonymousConnecton(testPeer,true);
      fail("Should have thrown JMSException");
    }
 catch (    JMSException jmsEx) {
    }
catch (    Exception ex) {
      fail("Should have thrown JMSException: " + ex);
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.ProducerIntegrationTest </h4><pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testRemotelyCloseConnectionDuringSyncSend() throws Exception {
  final String BREAD_CRUMB="ErrorMessageBreadCrumb";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    testPeer.expectSenderAttach();
    String text="myMessage";
    MessageHeaderSectionMatcher headersMatcher=new MessageHeaderSectionMatcher(true).withDurable(equalTo(true));
    MessageAnnotationsSectionMatcher msgAnnotationsMatcher=new MessageAnnotationsSectionMatcher(true);
    MessagePropertiesSectionMatcher propsMatcher=new MessagePropertiesSectionMatcher(true);
    TransferPayloadCompositeMatcher messageMatcher=new TransferPayloadCompositeMatcher();
    messageMatcher.setHeadersMatcher(headersMatcher);
    messageMatcher.setMessageAnnotationsMatcher(msgAnnotationsMatcher);
    messageMatcher.setPropertiesMatcher(propsMatcher);
    messageMatcher.setMessageContentMatcher(new EncodedAmqpValueMatcher(text));
    testPeer.expectTransfer(messageMatcher,nullValue(),false,false,null,false);
    testPeer.remotelyCloseConnection(true,AmqpError.RESOURCE_LIMIT_EXCEEDED,BREAD_CRUMB);
    Queue queue=session.createQueue("myQueue");
    final MessageProducer producer=session.createProducer(queue);
    Message message=session.createTextMessage(text);
    try {
      producer.send(message);
      fail("Expected exception to be thrown");
    }
 catch (    JMSException jmse) {
      assertNotNull("Expected exception to have a message",jmse.getMessage());
      assertTrue("Expected breadcrumb to be present in message",jmse.getMessage().contains(BREAD_CRUMB));
    }
    testPeer.waitForAllHandlersToComplete(3000);
  }
 }

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testRemotelyCloseProducerDuringSyncSend() throws Exception {
  final String BREAD_CRUMB="ErrorMessageBreadCrumb";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    testPeer.expectSenderAttach();
    String text="myMessage";
    MessageHeaderSectionMatcher headersMatcher=new MessageHeaderSectionMatcher(true).withDurable(equalTo(true));
    MessageAnnotationsSectionMatcher msgAnnotationsMatcher=new MessageAnnotationsSectionMatcher(true);
    MessagePropertiesSectionMatcher propsMatcher=new MessagePropertiesSectionMatcher(true);
    TransferPayloadCompositeMatcher messageMatcher=new TransferPayloadCompositeMatcher();
    messageMatcher.setHeadersMatcher(headersMatcher);
    messageMatcher.setMessageAnnotationsMatcher(msgAnnotationsMatcher);
    messageMatcher.setPropertiesMatcher(propsMatcher);
    messageMatcher.setMessageContentMatcher(new EncodedAmqpValueMatcher(text));
    testPeer.expectTransfer(messageMatcher,nullValue(),false,false,null,false);
    testPeer.remotelyDetachLastOpenedLinkOnLastOpenedSession(true,true,AmqpError.RESOURCE_LIMIT_EXCEEDED,BREAD_CRUMB);
    Queue queue=session.createQueue("myQueue");
    final MessageProducer producer=session.createProducer(queue);
    Message message=session.createTextMessage(text);
    try {
      producer.send(message);
      fail("Expected exception to be thrown");
    }
 catch (    JMSException jmse) {
      assertNotNull("Expected exception to have a message",jmse.getMessage());
      assertTrue("Expected breadcrumb to be present in message",jmse.getMessage().contains(BREAD_CRUMB));
    }
    testPeer.waitForAllHandlersToComplete(3000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.QueueBrowserIntegrationTest </h4><pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testQueueBrowserNextElementWithNoMessage() throws IOException, Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    Queue queue=session.createQueue("myQueue");
    testPeer.expectQueueBrowserAttach();
    testPeer.expectLinkFlow(false,false,equalTo(UnsignedInteger.valueOf(JmsPrefetchPolicy.DEFAULT_QUEUE_BROWSER_PREFETCH)));
    testPeer.expectLinkFlow(true,true,equalTo(UnsignedInteger.valueOf(JmsPrefetchPolicy.DEFAULT_QUEUE_BROWSER_PREFETCH)));
    testPeer.expectLinkFlow(false,false,equalTo(UnsignedInteger.valueOf(JmsPrefetchPolicy.DEFAULT_QUEUE_BROWSER_PREFETCH)));
    testPeer.expectDetach(true,true,true);
    QueueBrowser browser=session.createBrowser(queue);
    Enumeration<?> queueView=browser.getEnumeration();
    assertNotNull(queueView);
    try {
      queueView.nextElement();
      fail("Should have thrown an exception due to there being no more elements");
    }
 catch (    NoSuchElementException nsee) {
    }
    browser.close();
    testPeer.waitForAllHandlersToComplete(3000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.SessionIntegrationTest </h4><pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testDurableSubscriptionUnsubscribeInUseThrowsJMSEx() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic dest=session.createTopic(topicName);
    String subscriptionName="mySubscription";
    testPeer.expectDurableSubscriberAttach(topicName,subscriptionName);
    testPeer.expectLinkFlow();
    TopicSubscriber subscriber=session.createDurableSubscriber(dest,subscriptionName);
    assertNotNull("TopicSubscriber object was null",subscriber);
    try {
      session.unsubscribe(subscriptionName);
      fail("Should have thrown a JMSException");
    }
 catch (    JMSException ex) {
    }
    testPeer.expectDetach(false,true,false);
    subscriber.close();
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testProducerNotAuthorized() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic destination=session.createTopic(topicName);
    testPeer.expectSenderAttach(notNullValue(),notNullValue(),true,false,true,0L,AmqpError.UNAUTHORIZED_ACCESS,"Destination is not readable");
    testPeer.expectDetach(true,true,true);
    try {
      session.createProducer(destination);
      fail("Should have thrown a security exception");
    }
 catch (    JMSSecurityException jmsse) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateProducerFailsWhenLinkRefusedNoDetachSent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    ((JmsConnection)connection).setRequestTimeout(500);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic dest=session.createTopic(topicName);
    TargetMatcher targetMatcher=new TargetMatcher();
    targetMatcher.withAddress(equalTo(topicName));
    targetMatcher.withDynamic(equalTo(false));
    targetMatcher.withDurable(equalTo(TerminusDurability.NONE));
    testPeer.expectSenderAttach(notNullValue(),targetMatcher,true,true,false,0,null,null);
    testPeer.expectDetach(true,false,false);
    try {
      session.createProducer(dest);
      fail("Producer creation should have failed when link was refused");
    }
 catch (    JMSException ex) {
      LOG.info("Caught expected exception on create: {}",ex.getMessage());
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConsumerNotAuthorized() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic destination=session.createTopic(topicName);
    testPeer.expectReceiverAttach(notNullValue(),notNullValue(),false,true,false,false,AmqpError.UNAUTHORIZED_ACCESS,"Destination is not readable");
    testPeer.expectDetach(true,true,true);
    try {
      session.createConsumer(destination);
      fail("Should have thrown a security exception");
    }
 catch (    JMSSecurityException jmsse) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateConsumerFailsWhenLinkRefusalResponseNotSent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    ((JmsConnection)connection).setRequestTimeout(500);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic dest=session.createTopic(topicName);
    SourceMatcher targetMatcher=new SourceMatcher();
    targetMatcher.withAddress(equalTo(topicName));
    targetMatcher.withDynamic(equalTo(false));
    targetMatcher.withDurable(equalTo(TerminusDurability.NONE));
    testPeer.expectReceiverAttach(notNullValue(),targetMatcher,false,true,true,false,null,null);
    testPeer.expectDetach(true,false,false);
    try {
      session.createConsumer(dest);
      fail("Consumer creation should have failed when link was refused");
    }
 catch (    JMSException ex) {
      LOG.info("Caught expected error on consumer create: {}",ex.getMessage());
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testRemotelyEndSessionWithConsumer() throws Exception {
  final String BREAD_CRUMB="ErrorMessage";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    testPeer.expectReceiverAttach();
    testPeer.expectLinkFlow();
    testPeer.remotelyEndLastOpenedSession(true,0,AmqpError.RESOURCE_DELETED,BREAD_CRUMB);
    Queue queue=session.createQueue("myQueue");
    final MessageConsumer consumer=session.createConsumer(queue);
    testPeer.waitForAllHandlersToComplete(1000);
    assertTrue("consumer never closed.",Wait.waitFor(new Wait.Condition(){
      @Override public boolean isSatisified() throws Exception {
        try {
          consumer.getMessageListener();
        }
 catch (        IllegalStateException jmsise) {
          if (jmsise.getCause() != null) {
            String message=jmsise.getCause().getMessage();
            return message.contains(AmqpError.RESOURCE_DELETED.toString()) && message.contains(BREAD_CRUMB);
          }
 else {
            return false;
          }
        }
        return false;
      }
    }
,15000,10));
    try {
      session.getAcknowledgeMode();
      fail("Expected ISE to be thrown due to being closed");
    }
 catch (    IllegalStateException jmsise) {
      String message=jmsise.getCause().getMessage();
      assertTrue(message.contains(AmqpError.RESOURCE_DELETED.toString()));
      assertTrue(message.contains(BREAD_CRUMB));
    }
    consumer.close();
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateDurableTopicSubscriberFailsIfConnectionDoesntHaveExplicitClientID() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer,false,null,null,null,false);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic dest=session.createTopic(topicName);
    String subscriptionName="mySubscription";
    try {
      session.createDurableSubscriber(dest,subscriptionName);
      fail("expected exception to be thrown due to lack of explicit clientID");
    }
 catch (    IllegalStateException ise) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testInvalidSelector() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String topicName="myTopic";
    Topic destination=session.createTopic(topicName);
    try {
      session.createConsumer(destination,"3+5");
      fail("Should have thrown a invalid selector exception");
    }
 catch (    InvalidSelectorException jmsse) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testCreateBrowserFailsWhenLinkRefusalResponseNotSent() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    ((JmsConnection)connection).setRequestTimeout(500);
    connection.start();
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    String queueName="myQueue";
    Queue dest=session.createQueue(queueName);
    testPeer.expectReceiverAttach(notNullValue(),notNullValue(),true,true,true,false,null,null);
    testPeer.expectDetach(true,false,false);
    try {
      QueueBrowser browser=session.createBrowser(dest);
      browser.getEnumeration();
      fail("Consumer creation should have failed when link was refused");
    }
 catch (    JMSException ex) {
      LOG.info("Caught expected error on browser create: {}",ex.getMessage());
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) @Repeat(repetitions=1) public void testRemotelyEndSessionWithProducer() throws Exception {
  final String BREAD_CRUMB="ErrorMessage";
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    testPeer.expectBegin();
    Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
    testPeer.expectSenderAttach();
    testPeer.remotelyEndLastOpenedSession(true,0,AmqpError.RESOURCE_DELETED,BREAD_CRUMB);
    Queue queue=session.createQueue("myQueue");
    final MessageProducer producer=session.createProducer(queue);
    testPeer.waitForAllHandlersToComplete(1000);
    assertTrue("producer never closed.",Wait.waitFor(new Wait.Condition(){
      @Override public boolean isSatisified() throws Exception {
        try {
          producer.getDestination();
        }
 catch (        IllegalStateException jmsise) {
          if (jmsise.getCause() != null) {
            String message=jmsise.getCause().getMessage();
            return message.contains(AmqpError.RESOURCE_DELETED.toString()) && message.contains(BREAD_CRUMB);
          }
 else {
            return false;
          }
        }
        return false;
      }
    }
,15000,10));
    try {
      session.getAcknowledgeMode();
      fail("Expected ISE to be thrown due to being closed");
    }
 catch (    IllegalStateException jmsise) {
      String message=jmsise.getCause().getMessage();
      assertTrue(message.contains(AmqpError.RESOURCE_DELETED.toString()));
      assertTrue(message.contains(BREAD_CRUMB));
    }
    producer.close();
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.integration.TransactionsIntegrationTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testProducedMessagesAfterCommitOfSentMessagesFails() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    Queue queue=session.createQueue("myQueue");
    testPeer.expectSenderAttach();
    MessageProducer producer=session.createProducer(queue);
    TransferPayloadCompositeMatcher messageMatcher=new TransferPayloadCompositeMatcher();
    messageMatcher.setHeadersMatcher(new MessageHeaderSectionMatcher(true));
    messageMatcher.setMessageAnnotationsMatcher(new MessageAnnotationsSectionMatcher(true));
    TransactionalStateMatcher stateMatcher=new TransactionalStateMatcher();
    stateMatcher.withTxnId(equalTo(txnId));
    stateMatcher.withOutcome(nullValue());
    TransactionalState txState=new TransactionalState();
    txState.setTxnId(txnId);
    txState.setOutcome(new Accepted());
    testPeer.expectTransfer(messageMatcher,stateMatcher,false,txState,true);
    producer.send(session.createMessage());
    Rejected commitFailure=new Rejected(new Error(Symbol.valueOf("failed"),"Unknown error"));
    testPeer.expectDischarge(txnId,false,commitFailure);
    txnId=new Binary(new byte[]{(byte)1,(byte)2,(byte)3,(byte)4});
    testPeer.expectDeclare(txnId);
    try {
      session.commit();
      fail("Commit operation should have failed.");
    }
 catch (    TransactionRolledBackException jmsTxRb) {
    }
    stateMatcher=new TransactionalStateMatcher();
    stateMatcher.withTxnId(equalTo(txnId));
    stateMatcher.withOutcome(nullValue());
    txState=new TransactionalState();
    txState.setTxnId(txnId);
    txState.setOutcome(new Accepted());
    testPeer.expectTransfer(messageMatcher,stateMatcher,false,txState,true);
    producer.send(session.createMessage());
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testTransactionCommitFailWithEmptyRejectedDisposition() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    Queue queue=session.createQueue("myQueue");
    testPeer.expectSenderAttach();
    MessageProducer producer=session.createProducer(queue);
    TransferPayloadCompositeMatcher messageMatcher=new TransferPayloadCompositeMatcher();
    messageMatcher.setHeadersMatcher(new MessageHeaderSectionMatcher(true));
    messageMatcher.setMessageAnnotationsMatcher(new MessageAnnotationsSectionMatcher(true));
    TransactionalStateMatcher stateMatcher=new TransactionalStateMatcher();
    stateMatcher.withTxnId(equalTo(txnId));
    stateMatcher.withOutcome(nullValue());
    TransactionalState txState=new TransactionalState();
    txState.setTxnId(txnId);
    txState.setOutcome(new Accepted());
    testPeer.expectTransfer(messageMatcher,stateMatcher,false,txState,true);
    producer.send(session.createMessage());
    testPeer.expectDischarge(txnId,false,new Rejected());
    txnId=new Binary(new byte[]{(byte)1,(byte)2,(byte)3,(byte)4});
    testPeer.expectDeclare(txnId);
    try {
      session.commit();
      fail("Commit operation should have failed.");
    }
 catch (    TransactionRolledBackException jmsTxRb) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testJMSErrorCoordinatorClosedOnRollback() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    testPeer.remotelyCloseLastCoordinatorLinkOnDischarge(txnId,true);
    testPeer.expectCoordinatorAttach();
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    try {
      session.rollback();
      fail("Transaction should have rolled back");
    }
 catch (    JMSException ex) {
      LOG.info("Caught expected JMSException");
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testRollbackErrorCoordinatorClosedOnCommit() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    testPeer.remotelyCloseLastCoordinatorLinkOnDischarge(txnId,false);
    testPeer.expectCoordinatorAttach();
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    try {
      session.commit();
      fail("Transaction should have rolled back");
    }
 catch (    TransactionRolledBackException ex) {
      LOG.info("Caught expected TransactionRolledBackException");
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testSendAfterCoordinatorLinkClosedDuringTX() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    Queue queue=session.createQueue("myQueue");
    testPeer.expectSenderAttach();
    testPeer.remotelyCloseLastCoordinatorLink();
    MessageProducer producer=session.createProducer(queue);
    testPeer.waitForAllHandlersToComplete(2000);
    producer.send(session.createMessage());
    txnId=new Binary(new byte[]{(byte)1,(byte)2,(byte)3,(byte)4});
    testPeer.expectCoordinatorAttach();
    testPeer.expectDeclare(txnId);
    try {
      session.commit();
      fail("Commit operation should have failed.");
    }
 catch (    TransactionRolledBackException jmsTxRb) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testProducedMessagesAfterRollbackSentMessagesFails() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    Queue queue=session.createQueue("myQueue");
    testPeer.expectSenderAttach();
    MessageProducer producer=session.createProducer(queue);
    TransferPayloadCompositeMatcher messageMatcher=new TransferPayloadCompositeMatcher();
    messageMatcher.setHeadersMatcher(new MessageHeaderSectionMatcher(true));
    messageMatcher.setMessageAnnotationsMatcher(new MessageAnnotationsSectionMatcher(true));
    TransactionalStateMatcher stateMatcher=new TransactionalStateMatcher();
    stateMatcher.withTxnId(equalTo(txnId));
    stateMatcher.withOutcome(nullValue());
    TransactionalState txState=new TransactionalState();
    txState.setTxnId(txnId);
    txState.setOutcome(new Accepted());
    testPeer.expectTransfer(messageMatcher,stateMatcher,false,txState,true);
    producer.send(session.createMessage());
    Rejected commitFailure=new Rejected(new Error(Symbol.valueOf("failed"),"Unknown error"));
    testPeer.expectDischarge(txnId,true,commitFailure);
    txnId=new Binary(new byte[]{(byte)1,(byte)2,(byte)3,(byte)4});
    testPeer.expectDeclare(txnId);
    try {
      session.rollback();
      fail("Rollback operation should have failed.");
    }
 catch (    JMSException jmsex) {
    }
    stateMatcher=new TransactionalStateMatcher();
    stateMatcher.withTxnId(equalTo(txnId));
    stateMatcher.withOutcome(nullValue());
    txState=new TransactionalState();
    txState.setTxnId(txnId);
    txState.setOutcome(new Accepted());
    testPeer.expectTransfer(messageMatcher,stateMatcher,false,txState,true);
    producer.send(session.createMessage());
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<pre class="type-11 type-4 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=20000) public void testReceiveAfterCoordinatorLinkClosedDuringTX() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    Connection connection=testFixture.establishConnecton(testPeer);
    connection.start();
    testPeer.expectBegin();
    testPeer.expectCoordinatorAttach();
    Binary txnId=new Binary(new byte[]{(byte)5,(byte)6,(byte)7,(byte)8});
    testPeer.expectDeclare(txnId);
    Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
    Queue queue=session.createQueue("myQueue");
    DescribedType amqpValueNullContent=new AmqpValueDescribedType(null);
    testPeer.expectReceiverAttach();
    testPeer.expectLinkFlowRespondWithTransfer(null,null,null,null,amqpValueNullContent);
    testPeer.remotelyCloseLastCoordinatorLink();
    MessageConsumer consumer=session.createConsumer(queue);
    testPeer.waitForAllHandlersToComplete(2000);
    Message received=consumer.receive();
    assertNotNull(received);
    txnId=new Binary(new byte[]{(byte)1,(byte)2,(byte)3,(byte)4});
    testPeer.expectCoordinatorAttach();
    testPeer.expectDeclare(txnId);
    try {
      session.commit();
      fail("Commit operation should have failed.");
    }
 catch (    TransactionRolledBackException jmsTxRb) {
    }
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.jndi.JmsInitialContextFactoryTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testDefaultConnectionFactoriesNotPresentWhenOneIsExplicitlyDefined() throws Exception {
  Hashtable<Object,Object> env=new Hashtable<Object,Object>();
  env.put(JmsInitialContextFactory.CONNECTION_FACTORY_KEY_PREFIX + "myNewFactory","amqp://example.com:1234");
  Context ctx=createInitialContext(env);
  for (  String factoryName : JmsInitialContextFactory.DEFAULT_CONNECTION_FACTORY_NAMES) {
    try {
      ctx.lookup(factoryName);
      fail("should have thrown exception due to name not being found");
    }
 catch (    NameNotFoundException nnfe) {
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionFactoryBindingWithInvalidFactorySpecificProperty() throws Exception {
  String factoryName="myNewFactory";
  String uri="amqp://example.com:1234";
  String propertyPrefix=JmsInitialContextFactory.CONNECTION_FACTORY_PROPERTY_KEY_PREFIX;
  Hashtable<Object,Object> env=new Hashtable<Object,Object>();
  env.put(JmsInitialContextFactory.CONNECTION_FACTORY_KEY_PREFIX + factoryName,uri);
  env.put(propertyPrefix + factoryName + "."+ "invalidProperty","value");
  try {
    createInitialContext(env);
    fail("Should have thrown exception");
  }
 catch (  NamingException ne) {
    assertTrue("Should have had a cause",ne.getCause() != null);
  }
}

</code></pre>

<br>
<pre class="type-11 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContextFromProviderUrlNotFoundThrowsNamingException() throws Exception {
  Hashtable<Object,Object> env=new Hashtable<Object,Object>();
  env.put(Context.PROVIDER_URL,"/does/not/exist/1234");
  try {
    createInitialContext(env);
    fail("Should have thrown exception");
  }
 catch (  NamingException ne) {
    assertTrue("Should have had a cause",ne.getCause() != null);
  }
}

</code></pre>

<br>
<pre class="type-11 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionFactoryBindingWithInvalidDefaultProperty() throws Exception {
  String factoryName="myNewFactory";
  String uri="amqp://example.com:1234";
  String defaultPrefix=JmsInitialContextFactory.CONNECTION_FACTORY_DEFAULT_KEY_PREFIX;
  Hashtable<Object,Object> env=new Hashtable<Object,Object>();
  env.put(JmsInitialContextFactory.CONNECTION_FACTORY_KEY_PREFIX + factoryName,uri);
  env.put(defaultPrefix + "invalidDefaultProperty","value");
  try {
    createInitialContext(env);
    fail("Should have thrown exception");
  }
 catch (  NamingException ne) {
    assertTrue("Should have had a cause",ne.getCause() != null);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsBytesMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteOnlyBody() throws JMSException {
  JmsBytesMessage message=factory.createBytesMessage();
  message.clearBody();
  try {
    message.writeBoolean(true);
    message.writeByte((byte)1);
    message.writeByte((byte)1);
    message.writeBytes(new byte[1]);
    message.writeBytes(new byte[3],0,2);
    message.writeChar('a');
    message.writeDouble(1.5);
    message.writeFloat((float)1.5);
    message.writeInt(1);
    message.writeLong(1);
    message.writeObject("stringobj");
    message.writeShort((short)1);
    message.writeShort((short)1);
    message.writeUTF("utfstring");
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("Should be writeable");
  }
  try {
    message.readBoolean();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException mnwe) {
  }
  try {
    message.readByte();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readUnsignedByte();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readBytes(new byte[1]);
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readBytes(new byte[2],2);
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readChar();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readDouble();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readFloat();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readInt();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readLong();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readUTF();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readShort();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readUnsignedShort();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
  try {
    message.readUTF();
    fail("Should have thrown exception");
  }
 catch (  MessageNotReadableException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadOnlyBody() throws JMSException {
  JmsBytesMessage message=factory.createBytesMessage();
  try {
    message.writeBoolean(true);
    message.writeByte((byte)1);
    message.writeByte((byte)1);
    message.writeBytes(new byte[1]);
    message.writeBytes(new byte[3],0,2);
    message.writeChar('a');
    message.writeDouble(1.5);
    message.writeFloat((float)1.5);
    message.writeInt(1);
    message.writeLong(1);
    message.writeObject("stringobj");
    message.writeShort((short)1);
    message.writeShort((short)1);
    message.writeUTF("utfstring");
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("Should be writeable");
  }
  message.reset();
  try {
    message.readBoolean();
    message.readByte();
    message.readUnsignedByte();
    message.readBytes(new byte[1]);
    message.readBytes(new byte[2],2);
    message.readChar();
    message.readDouble();
    message.readFloat();
    message.readInt();
    message.readLong();
    message.readUTF();
    message.readShort();
    message.readUnsignedShort();
    message.readUTF();
  }
 catch (  MessageNotReadableException mnwe) {
    fail("Should be readable");
  }
  try {
    message.writeBoolean(true);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeByte((byte)1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeBytes(new byte[1]);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeBytes(new byte[3],0,2);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeChar('a');
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeDouble(1.5);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeFloat((float)1.5);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeInt(1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeLong(1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeObject("stringobj");
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeShort((short)1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
  try {
    message.writeUTF("utfstring");
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteObject() throws JMSException {
  JmsBytesMessage msg=factory.createBytesMessage();
  try {
    msg.writeObject("fred");
    msg.writeObject(Boolean.TRUE);
    msg.writeObject(Character.valueOf('q'));
    msg.writeObject(Byte.valueOf((byte)1));
    msg.writeObject(Short.valueOf((short)3));
    msg.writeObject(Integer.valueOf(3));
    msg.writeObject(Long.valueOf(300L));
    msg.writeObject(new Float(3.3f));
    msg.writeObject(new Double(3.3));
    msg.writeObject(new byte[3]);
  }
 catch (  MessageFormatException mfe) {
    fail("objectified primitives should be allowed");
  }
  try {
    msg.writeObject(new Object());
    fail("only objectified primitives are allowed");
  }
 catch (  MessageFormatException mfe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReset() throws JMSException {
  JmsBytesMessage message=factory.createBytesMessage();
  try {
    message.writeDouble(24.5);
    message.writeLong(311);
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("should be writeable");
  }
  message.reset();
  try {
    assertTrue(message.isReadOnlyBody());
    assertEquals(message.readDouble(),24.5,0);
    assertEquals(message.readLong(),311);
  }
 catch (  MessageNotReadableException mnre) {
    fail("should be readable");
  }
  try {
    message.writeInt(33);
    fail("should throw exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that attempting to call {@link BytesMessage#getBodyLength()} on a received message after calling{@link BytesMessage#clearBody()} causes {@link MessageNotReadableException} to be thrown due to being write-only.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testGetBodyLengthOnClearedReceivedMessageThrowsMessageNotReadableException() throws Exception {
  byte[] content="myBytesData".getBytes();
  JmsTestBytesMessageFacade facade=new JmsTestBytesMessageFacade(content);
  JmsBytesMessage bytesMessage=new JmsBytesMessage(facade);
  bytesMessage.onDispatch();
  assertEquals("Unexpected message length",content.length,bytesMessage.getBodyLength());
  bytesMessage.clearBody();
  try {
    bytesMessage.getBodyLength();
    fail("expected exception to be thrown");
  }
 catch (  MessageNotReadableException mnre) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsDefaultUnresolvedDestinationTransformerTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testTransformDestinationDestinationWithNoNameThrowsJMSEx() throws JMSException {
  Destination destination=Mockito.mock(Destination.class);
  try {
    transformer.transform(destination);
    fail("Should throw a JMSException here");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testTransformDestinationDestinationWithoutTypeThrowsJMSEx() throws JMSException {
  ForeignTopicAndQueue destination=new ForeignTopicAndQueue("destination");
  destination.setTopic(false);
  destination.setQueue(false);
  try {
    transformer.transform(destination);
    fail("Should throw a JMSException here");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsMapMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test that we are not able to write to a received message without calling{@link JmsMapMessage#clearBody()}
 * @throws Exception if an error occurs during the test.
 */
@Test public void testReceivedMessageIsReadOnlyAndThrowsMNWE() throws Exception {
  JmsMapMessageFacade facade=new JmsTestMapMessageFacade();
  String myKey1="key1";
  facade.put(myKey1,"value1");
  JmsMapMessage mapMessage=new JmsMapMessage(facade);
  mapMessage.onDispatch();
  try {
    mapMessage.setObject("name","value");
    fail("expected exception to be thrown");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test that we enforce the requirement that map message key names not be null or the empty
 * string.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetObjectWithNullOrEmptyKeyNameThrowsIAE() throws Exception {
  JmsMapMessage mapMessage=factory.createMapMessage();
  try {
    mapMessage.setObject(null,"value");
    fail("Expected exception not thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    mapMessage.setObject("","value");
    fail("Expected exception not thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsMessagePropertyIntercepterTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSReplyToConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_REPLYTO,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSXGroupSeqConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMSX_GROUPSEQ,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertyWithNonInterceptedNameCallsIntoFacade() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  JmsMessagePropertyIntercepter.setProperty(message,"SomeRandomPropertyName","Something");
  Mockito.doThrow(new JMSException("Expected")).when(facade).setProperty(Mockito.anyString(),Mockito.anyString());
  try {
    JmsMessagePropertyIntercepter.setProperty(message,"SomeRandomPropertyName","Something");
    fail("Should have thrown");
  }
 catch (  JMSException ex) {
    assertEquals("Expected",ex.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSXGroupIDConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMSX_GROUPID,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetJMSXUserIdWhenNotSetHandlesMessagePropertyException() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  Mockito.when(facade.getProperty("JMSXUserID")).thenThrow(new IllegalArgumentException());
  try {
    JmsMessagePropertyIntercepter.getProperty(message,JMSX_USERID);
    fail("Should have thrown a JMSException");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSDeliveryModeConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_DELIVERY_MODE,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_DELIVERY_MODE,"SOMETHING");
    fail("Should have thrown an exception for this call");
  }
 catch (  NumberFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMS_AMQP_ACK_TYPEConversionChecks() throws JMSException {
  JmsSession session=Mockito.mock(JmsSession.class);
  JmsAcknowledgeCallback callback=new JmsAcknowledgeCallback(session);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getAcknowledgeCallback()).thenReturn(callback);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_ACK_TYPE,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSMessageIDConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_MESSAGEID,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSRedeliveredConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_REDELIVERED,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSCorrelationIDConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_CORRELATIONID,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSPriorityConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_PRIORITY,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSTimestampConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_TIMESTAMP,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSDestinationConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_DESTINATION,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSTypeConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_TYPE,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSXDeliverCountConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMSX_DELIVERY_COUNT,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSXUserIdConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMSX_USERID,true);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMS_AMQP_ACK_TYPEFailsIfNoAcknowledgeCallback() throws JMSException {
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_ACK_TYPE,RELEASED);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJMSExpirationConversionChecks() throws JMSException {
  JmsMessageFacade facade=Mockito.mock(JmsMessageFacade.class);
  JmsMessage message=Mockito.mock(JmsMapMessage.class);
  Mockito.when(message.getFacade()).thenReturn(facade);
  try {
    JmsMessagePropertyIntercepter.setProperty(message,JMS_EXPIRATION,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameIN() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("IN","value");
    fail("expected rejection of identifier named IN");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetObjectProperty() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String name="property";
  try {
    msg.setObjectProperty(name,"string");
    msg.setObjectProperty(name,Byte.valueOf("1"));
    msg.setObjectProperty(name,Short.valueOf("1"));
    msg.setObjectProperty(name,Integer.valueOf("1"));
    msg.setObjectProperty(name,Long.valueOf("1"));
    msg.setObjectProperty(name,Float.valueOf("1.1f"));
    msg.setObjectProperty(name,Double.valueOf("1.1"));
    msg.setObjectProperty(name,Boolean.TRUE);
    msg.setObjectProperty(name,null);
  }
 catch (  MessageFormatException e) {
    fail("should accept object primitives and String");
  }
  try {
    msg.setObjectProperty(name,new byte[5]);
    fail("should accept only object primitives and String");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.setObjectProperty(name,new Object());
    fail("should accept only object primitives and String");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) must begin with a letter for which{@link Character#isJavaLetter(char)} is true, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * beginning with a non-letter character.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNonLetterAsFirstCharacterThrowsIAE() throws Exception {
  String propertyName="1name";
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty(propertyName,"value");
    fail("expected rejection of identifier starting with non-letter character");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBooleanPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setBooleanProperty(propertyName,true);
  assertEquals(((Boolean)msg.getObjectProperty(propertyName)).booleanValue(),true);
  assertTrue(msg.getBooleanProperty(propertyName));
  assertEquals(msg.getStringProperty(propertyName),"true");
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getLongProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testObjectPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  Object obj=new Object();
  msg.getFacade().setProperty(propertyName,obj);
  try {
    msg.getObjectProperty(null);
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException e) {
  }
  try {
    msg.getStringProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getLongProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameIS() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("IS","value");
    fail("expected rejection of identifier named IS");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameLIKE() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("LIKE","value");
    fail("expected rejection of identifier named LIKE");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadOnlyProperties() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setReadOnlyProperties(true);
  try {
    msg.setObjectProperty(propertyName,new Object());
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setStringProperty(propertyName,"test");
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setBooleanProperty(propertyName,true);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setByteProperty(propertyName,(byte)1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setShortProperty(propertyName,(short)1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setIntProperty(propertyName,1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setLongProperty(propertyName,1);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setFloatProperty(propertyName,(float)1.5);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  try {
    msg.setDoubleProperty(propertyName,1.5);
    fail("Should have thrown exception");
  }
 catch (  MessageNotWriteableException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetEmptyPropertyName() throws JMSException {
  JmsMessage msg=factory.createMessage();
  try {
    msg.setStringProperty("","Cheese");
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException e) {
    LOG.info("Worked, caught: " + e);
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NULL, TRUE, or
 * FALSE, as described in {@link javax.jms.Message}. Verify an IAE is thrown
 * if setting a property with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameNULL() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("NULL","value");
    fail("expected rejection of identifier named NULL");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearPropertiesClearsReadOnly() throws Exception {
  JmsMessage msg=factory.createMessage();
  msg.onDispatch();
  try {
    msg.setObjectProperty("test","value");
    fail("should throw exception");
  }
 catch (  MessageNotWriteableException e) {
  }
  assertTrue(msg.isReadOnlyProperties());
  msg.clearProperties();
  msg.setObjectProperty("test","value");
  assertFalse(msg.isReadOnlyProperties());
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFloatPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setFloatProperty(propertyName,(float)1.5);
  assertEquals(((Float)msg.getObjectProperty(propertyName)).floatValue(),1.5,0);
  assertEquals(msg.getFloatProperty(propertyName),1.5,0);
  assertEquals(msg.getDoubleProperty(propertyName),1.5,0);
  assertEquals(msg.getStringProperty(propertyName),"1.5");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getLongProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameESCAPE() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("ESCAPE","value");
    fail("expected rejection of identifier named ESCAPE");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIntPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setIntProperty(propertyName,1);
  assertEquals(((Integer)msg.getObjectProperty(propertyName)).intValue(),1);
  assertEquals(msg.getIntProperty(propertyName),1);
  assertEquals(msg.getLongProperty(propertyName),1);
  assertEquals(msg.getStringProperty(propertyName),"1");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameBETWEEN() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("BETWEEN","value");
    fail("expected rejection of identifier named BETWEEN");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NULL, TRUE, or
 * FALSE, as described in {@link javax.jms.Message}. Verify an IAE is thrown
 * if setting a property with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameFALSE() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("FALSE","value");
    fail("expected rejection of identifier named FALSE");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameOR() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("OR","value");
    fail("expected rejection of identifier named OR");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setLongProperty(propertyName,1);
  assertEquals(((Long)msg.getObjectProperty(propertyName)).longValue(),1);
  assertEquals(msg.getLongProperty(propertyName),1);
  assertEquals(msg.getStringProperty(propertyName),"1");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameAND() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("AND","value");
    fail("expected rejection of identifier named AND");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NULL, TRUE, or
 * FALSE, as described in {@link javax.jms.Message}. Verify an IAE is thrown
 * if setting a property with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameTRUE() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("TRUE","value");
    fail("expected rejection of identifier named TRUE");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetNullPropertyName() throws JMSException {
  JmsMessage msg=factory.createMessage();
  try {
    msg.setStringProperty(null,"Cheese");
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException e) {
    LOG.info("Worked, caught: " + e);
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setDoubleProperty(propertyName,1.5);
  assertEquals(((Double)msg.getObjectProperty(propertyName)).doubleValue(),1.5,0);
  assertEquals(msg.getDoubleProperty(propertyName),1.5,0);
  assertEquals(msg.getStringProperty(propertyName),"1.5");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getLongProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  String stringValue="true";
  msg.setStringProperty(propertyName,stringValue);
  assertEquals(msg.getStringProperty(propertyName),stringValue);
  assertEquals(msg.getObjectProperty(propertyName),stringValue);
  assertEquals(msg.getBooleanProperty(propertyName),true);
  stringValue="1";
  msg.setStringProperty(propertyName,stringValue);
  assertEquals(msg.getByteProperty(propertyName),1);
  assertEquals(msg.getShortProperty(propertyName),1);
  assertEquals(msg.getIntProperty(propertyName),1);
  assertEquals(msg.getLongProperty(propertyName),1);
  stringValue="1.5";
  msg.setStringProperty(propertyName,stringValue);
  assertEquals(msg.getFloatProperty(propertyName),1.5,0);
  assertEquals(msg.getDoubleProperty(propertyName),1.5,0);
  stringValue="bad";
  msg.setStringProperty(propertyName,stringValue);
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  try {
    msg.getShortProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  try {
    msg.getIntProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  try {
    msg.getLongProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  NumberFormatException e) {
  }
  assertFalse(msg.getBooleanProperty(propertyName));
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Property 'identifiers' (i.e. names) are not allowed to be NOT, AND, OR,
 * BETWEEN, LIKE, IN, IS, or ESCAPE, as described in{@link javax.jms.Message}. Verify an IAE is thrown if setting a property
 * with these values.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetPropertyWithNameNOT() throws Exception {
  JmsMessage testMessage=factory.createMessage();
  try {
    testMessage.setObjectProperty("NOT","value");
    fail("expected rejection of identifier named NOT");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBytePropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setByteProperty(propertyName,(byte)1);
  assertEquals(((Byte)msg.getObjectProperty(propertyName)).byteValue(),1);
  assertEquals(msg.getByteProperty(propertyName),1);
  assertEquals(msg.getShortProperty(propertyName),1);
  assertEquals(msg.getIntProperty(propertyName),1);
  assertEquals(msg.getLongProperty(propertyName),1);
  assertEquals(msg.getStringProperty(propertyName),"1");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShortPropertyConversion() throws JMSException {
  JmsMessage msg=factory.createMessage();
  String propertyName="property";
  msg.setShortProperty(propertyName,(short)1);
  assertEquals(((Short)msg.getObjectProperty(propertyName)).shortValue(),1);
  assertEquals(msg.getShortProperty(propertyName),1);
  assertEquals(msg.getIntProperty(propertyName),1);
  assertEquals(msg.getLongProperty(propertyName),1);
  assertEquals(msg.getStringProperty(propertyName),"1");
  try {
    msg.getBooleanProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getByteProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getFloatProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
  try {
    msg.getDoubleProperty(propertyName);
    fail("Should have thrown exception");
  }
 catch (  MessageFormatException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * When a property is not set, the behaviour of JMS specifies that it is equivalent to a null value,
 * and the primitive property accessors should behave in the same fashion as <primitive>.valueOf(String).
 * Test that this is the case.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testGetMissingPrimitivePropertyResultsInExpectedBehaviour() throws Exception {
  String propertyName="does_not_exist";
  JmsMessage testMessage=factory.createMessage();
  assertFalse(testMessage.getBooleanProperty(propertyName));
  assertGetMissingPropertyThrowsNumberFormatException(testMessage,propertyName,Byte.class);
  assertGetMissingPropertyThrowsNumberFormatException(testMessage,propertyName,Short.class);
  assertGetMissingPropertyThrowsNumberFormatException(testMessage,propertyName,Integer.class);
  assertGetMissingPropertyThrowsNumberFormatException(testMessage,propertyName,Long.class);
  try {
    testMessage.getFloatProperty(propertyName);
    fail("expected NPE from Float.valueOf(null) was not thrown");
  }
 catch (  NullPointerException npe) {
  }
  try {
    testMessage.getDoubleProperty(propertyName);
    fail("expected NPE from Double.valueOf(null) was not thrown");
  }
 catch (  NullPointerException npe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsMessageTransformationTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testPlainDestinationThrowsJMSEx() throws JMSException {
  ForeignDestination destination=new ForeignDestination(DESTINATION_NAME);
  try {
    JmsMessageTransformation.transformDestination(createMockJmsConnection(),destination);
    fail("Should have thrown an JMSException");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCompositeTopicAndQueueDestinationNoNameThrowsJMSEx() throws JMSException {
  ForeignTopicAndQueue destination=new ForeignTopicAndQueue(DESTINATION_NAME);
  destination.setReturnQueueName(false);
  destination.setReturnTopicName(false);
  try {
    JmsMessageTransformation.transformDestination(createMockJmsConnection(),destination);
    fail("Should have thrown an JMSException");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCompositeTopicAndQueueDestinationThrowsJMSEx() throws JMSException {
  ForeignDestination destination=new ForeignTopicAndQueue(DESTINATION_NAME);
  try {
    JmsMessageTransformation.transformDestination(createMockJmsConnection(),destination);
    fail("Should have thrown an JMSException");
  }
 catch (  JMSException ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsObjectMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test that attempting to write bytes to a received message (without calling {@link ObjectMessage#clearBody()} first)
 * causes a {@link MessageNotWriteableException} to be thrown due to being read-only.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testReceivedObjectMessageThrowsMessageNotWriteableExceptionOnSetObject() throws Exception {
  String content="myStringContent";
  JmsObjectMessageFacade facade=new JmsTestObjectMessageFacade();
  facade.setObject(content);
  JmsObjectMessage objectMessage=new JmsObjectMessage(facade);
  objectMessage.onDispatch();
  try {
    objectMessage.setObject("newObject");
    fail("Expected exception to be thrown");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test that setting an object on a new message which contains non-serializable content results
 * in an {@link MessageFormatException} being thrown due to failure to encode the object.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSetObjectWithNonSerializableThrowsJMSMFE() throws Exception {
  Map<String,Object> origMap=new HashMap<String,Object>();
  origMap.put("key1","value1");
  origMap.put("notSerializable",new NotSerializable());
  JmsObjectMessage objectMessage=factory.createObjectMessage();
  try {
    objectMessage.setObject((Serializable)origMap);
    fail("Expected exception to be thrown");
  }
 catch (  MessageFormatException mfe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearBody() throws JMSException {
  JmsObjectMessage objectMessage=factory.createObjectMessage();
  try {
    objectMessage.setObject("String");
    objectMessage.clearBody();
    assertFalse(objectMessage.isReadOnlyBody());
    assertNull(objectMessage.getObject());
    objectMessage.setObject("String");
    objectMessage.getObject();
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("should be writeable");
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteOnlyBody() throws JMSException {
  JmsObjectMessage msg=factory.createObjectMessage();
  msg.setReadOnlyBody(false);
  try {
    msg.setObject("test");
    msg.getObject();
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
  msg.setReadOnlyBody(true);
  try {
    msg.getObject();
    msg.setObject("test");
    fail("should throw exception");
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadOnlyBody() throws JMSException {
  JmsObjectMessage msg=factory.createObjectMessage();
  msg.setObject("test");
  msg.setReadOnlyBody(true);
  try {
    msg.getObject();
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
  try {
    msg.setObject("test");
    fail("should throw exception");
  }
 catch (  MessageNotWriteableException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsStreamMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteObjectWithIllegalTypeThrowsMFE() throws Exception {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  try {
    streamMessage.writeObject(BigInteger.ONE);
    fail("Expected exception to be thrown");
  }
 catch (  MessageFormatException mfe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadObjectGetsInvalidObjectThrowsMFE() throws Exception {
  JmsStreamMessageFacade facade=new JmsTestStreamMessageFacade();
  JmsStreamMessage streamMessage=new JmsStreamMessage(facade);
  facade.put(new URI("test://test"));
  streamMessage.reset();
  try {
    streamMessage.readObject();
    fail("Should have thrown an exception");
  }
 catch (  MessageFormatException mfe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testNewMessageIsWriteOnlyThrowsMNRE() throws Exception {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  try {
    streamMessage.readBoolean();
    fail("Expected exception to be thrown as message is not readable");
  }
 catch (  MessageNotReadableException mnre) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResetAppliesCorrectState() throws JMSException {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  try {
    streamMessage.writeDouble(24.5);
    streamMessage.writeLong(311);
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("should be writeable");
  }
  streamMessage.reset();
  try {
    assertTrue(streamMessage.isReadOnlyBody());
    assertEquals(streamMessage.readDouble(),24.5,0);
    assertEquals(streamMessage.readLong(),311);
  }
 catch (  MessageNotReadableException mnre) {
    fail("should be readable");
  }
  try {
    streamMessage.writeInt(33);
    fail("should throw exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadWithEmptyStreamThrowsMEOFE() throws Exception {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  streamMessage.reset();
  try {
    streamMessage.readBoolean();
    fail("Expected exception to be thrown as message has no content");
  }
 catch (  MessageEOFException meofe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * {@link StreamMessage#readBytes(byte[])} indicates:
 * "Once the first readBytes call on a byte[] field value has been made, the full value of
 * the field must be read before it is valid to read the next field. An attempt to read the
 * next field before that has been done will throw a MessageFormatException."{@link StreamMessage#readObject()} indicates: "An attempt to call readObject to read a
 * byte field value into a new byte[] object before the full value of the byte field has
 * been read will throw a MessageFormatException."
 * Test that these restrictions are met, and don't interfere with completing the readBytes
 * usage.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testReadObjectAfterPartialReadBytesThrowsMFE() throws Exception {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  byte[] bytes=new byte[]{(byte)11,(byte)44,(byte)99};
  streamMessage.writeBytes(bytes);
  streamMessage.reset();
  int partialLength=2;
  byte[] retrievedByteArray=new byte[partialLength];
  int readBytesLength=streamMessage.readBytes(retrievedByteArray);
  assertEquals(partialLength,readBytesLength);
  assertArrayEquals("Expected array subset to equal retrieved bytes",Arrays.copyOf(bytes,partialLength),retrievedByteArray);
  try {
    streamMessage.readObject();
    fail("expected exception to be thrown");
  }
 catch (  MessageFormatException mfe) {
  }
  readBytesLength=streamMessage.readBytes(retrievedByteArray);
  assertEquals(bytes.length - partialLength,readBytesLength);
  assertArrayEquals("Expected array subset to equal retrieved bytes",Arrays.copyOfRange(bytes,partialLength,bytes.length),Arrays.copyOfRange(retrievedByteArray,0,readBytesLength));
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearBodyAppliesCorrectState() throws JMSException {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  try {
    streamMessage.writeObject(new Long(2));
    streamMessage.clearBody();
    assertFalse(streamMessage.isReadOnlyBody());
    streamMessage.writeObject(new Long(2));
    streamMessage.readObject();
    fail("should throw exception");
  }
 catch (  MessageNotReadableException mnwe) {
  }
catch (  MessageNotWriteableException mnwe) {
    fail("should be writeable");
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearBodyOnNewMessageRemovesExistingValues() throws Exception {
  JmsStreamMessage streamMessage=factory.createStreamMessage();
  streamMessage.writeBoolean(true);
  streamMessage.clearBody();
  streamMessage.writeBoolean(false);
  streamMessage.reset();
  assertFalse("expected value added after the clear",streamMessage.readBoolean());
  try {
    streamMessage.readBoolean();
    fail("Expected exception to be thrown");
  }
 catch (  MessageEOFException meofe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.message.JmsTextMessageTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReadOnlyBody() throws JMSException {
  JmsTextMessage textMessage=factory.createTextMessage();
  textMessage.setText("test");
  textMessage.setReadOnlyBody(true);
  try {
    textMessage.getText();
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
  try {
    textMessage.setText("test");
    fail("should throw exception");
  }
 catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testWriteOnlyBody() throws JMSException {
  JmsTextMessage textMessage=factory.createTextMessage();
  textMessage.setReadOnlyBody(false);
  try {
    textMessage.setText("test");
    textMessage.getText();
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
  textMessage.setReadOnlyBody(true);
  try {
    textMessage.getText();
    textMessage.setText("test");
    fail("should throw exception");
  }
 catch (  MessageNotReadableException e) {
    fail("should be readable");
  }
catch (  MessageNotWriteableException mnwe) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearBody() throws JMSException, IOException {
  JmsTextMessage textMessage=factory.createTextMessage();
  textMessage.setText("string");
  textMessage.clearBody();
  assertFalse(textMessage.isReadOnlyBody());
  assertNull(textMessage.getText());
  try {
    textMessage.setText("String");
    textMessage.getText();
  }
 catch (  MessageNotWriteableException mnwe) {
    fail("should be writeable");
  }
catch (  MessageNotReadableException mnre) {
    fail("should be readable");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.producer.JmsAnonymousProducerTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=30000) public void testAnonymousProducerNotAuthorized() throws Exception {
  connection=createAmqpConnection("guest","password");
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  Queue queue=session.createQueue("USERS.txQueue");
  MessageProducer producer=session.createProducer(null);
  try {
    producer.send(queue,session.createTextMessage());
    fail("Should not be able to produce here.");
  }
 catch (  JMSSecurityException jmsSE) {
    LOG.info("Caught expected exception");
  }
catch (  JMSException jms) {
    LOG.info("Caught expected exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.producer.JmsMessageProducerTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=10000) public void testAnonymousDestinationProducerThrowsIDEWhenNullDestinationIsProvided() throws Exception {
  MessageProducer producer=session.createProducer(null);
  Message message=Mockito.mock(Message.class);
  try {
    producer.send(null,message);
    fail("Expected exception not thrown");
  }
 catch (  InvalidDestinationException ide) {
  }
  try {
    producer.send(null,message,Message.DEFAULT_DELIVERY_MODE,Message.DEFAULT_PRIORITY,Message.DEFAULT_TIME_TO_LIVE);
    fail("Expected exception not thrown");
  }
 catch (  InvalidDestinationException ide) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=10000) public void testExplicitProducerThrowsUOEWhenExplictDestinationIsProvided() throws Exception {
  JmsDestination dest=new JmsQueue("explicitDestination");
  MessageProducer producer=session.createProducer(new JmsQueue());
  Message message=Mockito.mock(Message.class);
  try {
    producer.send(dest,message);
    fail("Expected exception not thrown");
  }
 catch (  UnsupportedOperationException uoe) {
  }
  try {
    producer.send(dest,message,Message.DEFAULT_DELIVERY_MODE,Message.DEFAULT_PRIORITY,Message.DEFAULT_TIME_TO_LIVE);
    fail("Expected exception not thrown");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=10000) public void testAnonymousProducerThrowsUOEWhenExplictDestinationNotProvided() throws Exception {
  MessageProducer producer=session.createProducer(null);
  Message message=Mockito.mock(Message.class);
  try {
    producer.send(message);
    fail("Expected exception not thrown");
  }
 catch (  UnsupportedOperationException uoe) {
  }
  try {
    producer.send(message,Message.DEFAULT_DELIVERY_MODE,Message.DEFAULT_PRIORITY,Message.DEFAULT_TIME_TO_LIVE);
    fail("Expected exception not thrown");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=30000) public void testProducerNotAuthorized() throws Exception {
  connection=createAmqpConnection("guest","password");
  Session session=connection.createSession(false,Session.AUTO_ACKNOWLEDGE);
  Queue queue=session.createQueue("USERS.txQueue");
  try {
    session.createProducer(queue);
    fail("Should not be able to produce here.");
  }
 catch (  JMSSecurityException jmsSE) {
    LOG.info("Caught expected exception");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.producer.JmsProducerFlowControlFailIfNoSpaceTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testHandleSendFailIfNoSpaceSync() throws Exception {
  connection=createAmqpConnection();
  JmsConnection jmsConnection=(JmsConnection)connection;
  jmsConnection.setForceSyncSend(true);
  connection.setExceptionListener(new TestExceptionListener());
  connection.start();
  Session session=connection.createSession(true,Session.AUTO_ACKNOWLEDGE);
  Queue queue=session.createQueue(getDestinationName());
  MessageProducer producer=session.createProducer(queue);
  producer.send(session.createTextMessage("Message:1"));
  try {
    producer.send(session.createTextMessage("Message:2"));
    fail("Should have failed to send message two");
  }
 catch (  JMSException ex) {
    LOG.debug("Caught expected exception");
  }
  connection.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.AmqpProviderTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectThrowsWhenNoPeer() throws Exception {
  provider=new AmqpProvider(peerURI);
  testPeer.close();
  try {
    provider.connect();
    fail("Should have failed to connect.");
  }
 catch (  Exception ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testClosedProviderThrowsIOException() throws IOException {
  provider=new AmqpProvider(peerURI);
  provider.connect();
  provider.close();
  try {
    provider.start();
    fail("Should have thrown an IOException when closed.");
  }
 catch (  IOException ex) {
  }
  try {
    provider.connect();
    fail("Should have thrown an IOException when closed.");
  }
 catch (  IOException ex) {
  }
  ProviderFuture request=new ProviderFuture();
  try {
    provider.unsubscribe("subscription-name",request);
    fail("Should have thrown an IOException when closed.");
  }
 catch (  IOException ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectWithUnknownProtocol() throws Exception {
  provider=new AmqpProvider(peerURI);
  provider.setTransportType("ftp");
  try {
    provider.connect();
    fail("Should have failed to connect.");
  }
 catch (  Exception ex) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testStartThrowsIfNoListenerSet() throws Exception {
  provider=new AmqpProvider(peerURI);
  provider.connect();
  try {
    provider.start();
    fail("Should have thrown an error, no listener registered.");
  }
 catch (  Exception ex) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsBytesMessageFacadeTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetMethodsWithNonAmqpValueNonDataSectionThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpSequence(new ArrayList()));
  AmqpJmsBytesMessageFacade amqpBytesMessageFacade=createReceivedBytesMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpBytesMessageFacade.getInputStream();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    amqpBytesMessageFacade.getBodyLength();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetInputStreamThrowsJMSISEWhenFacadeBeingWrittenTo() throws Exception {
  AmqpJmsBytesMessageFacade amqpBytesMessageFacade=createNewBytesMessageFacade();
  amqpBytesMessageFacade.getOutputStream();
  try {
    amqpBytesMessageFacade.getInputStream();
    fail("expected exception not thrown");
  }
 catch (  javax.jms.IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetMethodsWithAmqpValueContainingNonNullNonBinaryValueThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpValue(true));
  AmqpJmsBytesMessageFacade amqpBytesMessageFacade=createReceivedBytesMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpBytesMessageFacade.getInputStream();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
  try {
    amqpBytesMessageFacade.getBodyLength();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetOutputStreamThrowsJMSISEWhenFacadeBeingReadFrom() throws Exception {
  AmqpJmsBytesMessageFacade amqpBytesMessageFacade=createNewBytesMessageFacade();
  amqpBytesMessageFacade.getInputStream();
  try {
    amqpBytesMessageFacade.getOutputStream();
    fail("expected exception not thrown");
  }
 catch (  javax.jms.IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsMapMessageFacadeTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateWithAmqpValueBodySectionContainingUnexpectedValueThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpValue("not-a-map"));
  try {
    createReceivedMapMessageFacade(createMockAmqpConsumer(),message);
    fail("expected exception to be thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateWithAmqpSequenceBodySectionThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpSequence(null));
  try {
    createReceivedMapMessageFacade(createMockAmqpConsumer(),message);
    fail("expected exception to be thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsMessageFactoryTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateObjectMessageWithBadTypeThrowsJMSException() throws JMSException {
  AmqpJmsMessageFactory factory=new AmqpJmsMessageFactory(createMockAmqpConnection());
  try {
    factory.createObjectMessage(new NotSerializable());
    fail("Should have thrown an exception");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsMessagePropertyIntercepterTest </h4><pre class="type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertyWithNonInterceptedNameCallsIntoFacade() throws JMSException {
  AmqpJmsMessageFacade message=createAmqpMessageFacade();
  AmqpJmsMessagePropertyIntercepter.setProperty(message,"SomeRandomPropertyName","Something");
  Mockito.doThrow(new JMSException("Expected")).when(message).setApplicationProperty(Mockito.anyString(),Mockito.anyString());
  try {
    AmqpJmsMessagePropertyIntercepter.setProperty(message,"SomeRandomPropertyName","Something");
    fail("Should have thrown");
  }
 catch (  JMSException ex) {
    assertEquals("Expected",ex.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJmsAmqpTypedEncodingConversionChecks() throws JMSException {
  AmqpJmsObjectMessageFacade message=createAmqpObjectMessageFacade();
  try {
    AmqpJmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_TYPED_ENCODING,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJmsAmqpReplyToGroupIdConversionChecks() throws JMSException {
  AmqpJmsMessageFacade message=createAmqpMessageFacade();
  try {
    AmqpJmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_REPLY_TO_GROUP_ID,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJmsAmqpTypedEncodingOnNonObjectMessage() throws JMSException {
  AmqpJmsMessageFacade message=createAmqpMessageFacade();
  try {
    AmqpJmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_TYPED_ENCODING,true);
    fail("Should have thrown an exception");
  }
 catch (  MessageFormatException mfe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetJmsAmqpTtlConversionChecks() throws JMSException {
  AmqpJmsMessageFacade message=createAmqpMessageFacade();
  try {
    AmqpJmsMessagePropertyIntercepter.setProperty(message,JMS_AMQP_TTL,new byte[1]);
    fail("Should have thrown an exception for this call");
  }
 catch (  JMSException e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsObjectMessageFacadeTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetObjectUsingReceivedMessageWithNonDataNonAmqvValueBinarySectionThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setContentType(AmqpMessageSupport.SERIALIZED_JAVA_OBJECT_CONTENT_TYPE);
  message.setBody(new AmqpValue("nonBinarySectionContent"));
  AmqpJmsObjectMessageFacade amqpObjectMessageFacade=createReceivedObjectMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpObjectMessageFacade.getObject();
    fail("Expected exception to be thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsStreamMessageFacadeTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateWithUnexpectedBodySectionTypeThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new Data(new Binary(new byte[0])));
  try {
    createReceivedStreamMessageFacade(createMockAmqpConsumer(),message);
    fail("expected exception to be thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearBody() throws Exception {
  AmqpJmsStreamMessageFacade amqpStreamMessageFacade=createNewStreamMessageFacade();
  amqpStreamMessageFacade.put(Boolean.TRUE);
  amqpStreamMessageFacade.put(Boolean.FALSE);
  assertEquals("unexpected value",Boolean.TRUE,amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  amqpStreamMessageFacade.clearBody();
  amqpStreamMessageFacade.put(Character.valueOf('c'));
  assertEquals("unexpected value",Character.valueOf('c'),amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  try {
    amqpStreamMessageFacade.peek();
    fail("expected exception to be thrown");
  }
 catch (  MessageEOFException meofe) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPopFullyReadListThrowsMEOFE() throws Exception {
  Message message=Message.Factory.create();
  List list=new ArrayList();
  list.add(Boolean.FALSE);
  message.setBody(new AmqpSequence(list));
  AmqpJmsStreamMessageFacade amqpStreamMessageFacade=createReceivedStreamMessageFacade(createMockAmqpConsumer(),message);
  assertEquals("Unexpected value retrieved",Boolean.FALSE,amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  try {
    amqpStreamMessageFacade.pop();
    fail("expected exception to be thrown");
  }
 catch (  MessageEOFException meofe) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateWithAmqpValueBodySectionContainingUnexpectedValueThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpValue("not-a-list"));
  try {
    createReceivedStreamMessageFacade(createMockAmqpConsumer(),message);
    fail("expected exception to be thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResetPositionAfterPeekThrowsMEOFE() throws Exception {
  Message message=Message.Factory.create();
  List list=new ArrayList();
  list.add(Boolean.FALSE);
  list.add(Boolean.TRUE);
  message.setBody(new AmqpSequence(list));
  AmqpJmsStreamMessageFacade amqpStreamMessageFacade=createReceivedStreamMessageFacade(createMockAmqpConsumer(),message);
  assertEquals("Unexpected value retrieved",Boolean.FALSE,amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  assertEquals("Unexpected value retrieved",Boolean.TRUE,amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  try {
    amqpStreamMessageFacade.peek();
    fail("expected exception to be thrown");
  }
 catch (  MessageEOFException meofe) {
  }
  amqpStreamMessageFacade.reset();
  assertEquals("Unexpected value retrieved",Boolean.FALSE,amqpStreamMessageFacade.peek());
  amqpStreamMessageFacade.pop();
  assertEquals("Unexpected value retrieved",Boolean.TRUE,amqpStreamMessageFacade.peek());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpJmsTextMessageFacadeTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetTextWithUnknownEncodedDataThrowsJMSException() throws Exception {
  String encodedString="myEncodedString";
  byte[] encodedBytes=encodedString.getBytes(Charset.forName("UTF-16"));
  Message message=Message.Factory.create();
  message.setBody(new Data(new Binary(encodedBytes)));
  AmqpJmsTextMessageFacade amqpTextMessageFacade=createReceivedTextMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpTextMessageFacade.getText();
    fail("expected exception not thrown");
  }
 catch (  JMSException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetTextWithAmqpValueContainingNonNullNonStringValueThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpValue(true));
  AmqpJmsTextMessageFacade amqpTextMessageFacade=createReceivedTextMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpTextMessageFacade.getText();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testGetTextWithNonAmqpValueOrDataSectionThrowsISE() throws Exception {
  Message message=Message.Factory.create();
  message.setBody(new AmqpSequence(new ArrayList()));
  AmqpJmsTextMessageFacade amqpTextMessageFacade=createReceivedTextMessageFacade(createMockAmqpConsumer(),message);
  try {
    amqpTextMessageFacade.getText();
    fail("expected exception not thrown");
  }
 catch (  IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.amqp.message.AmqpMessageIdHelperTest </h4><pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that {@link AmqpMessageIdHelper#toIdObject(String)} throws an{@link IdConversionException} when presented with an encoded binary hex string
 * of uneven length (after the prefix) that thus can't be converted due to each
 * byte using 2 characters
 */
@Test public void testToIdObjectWithStringContainingBinaryHexThrowsICEWithUnevenLengthString(){
  String unevenHead=AmqpMessageIdHelper.AMQP_BINARY_PREFIX + "123";
  try {
    _messageIdHelper.toIdObject(unevenHead);
    fail("expected exception was not thrown");
  }
 catch (  IdConversionException iae) {
    String msg=iae.getCause().getMessage();
    assertTrue("Message was not as expected: " + msg,msg.contains("even length"));
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Test that {@link AmqpMessageIdHelper#toBaseMessageIdString(Object)} throws an IAE if given an unexpected object type.
 */
@Test public void testToBaseMessageIdStringThrowsIAEWithUnexpectedType(){
  try {
    _messageIdHelper.toBaseMessageIdString(new Object());
    fail("expected exception not thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test that {@link AmqpMessageIdHelper#toIdObject(String)} throws an{@link IdConversionException} when presented with an encoded binary hex
 * string (after the prefix) that contains characters other than 0-9
 * and A-F and a-f, and thus can't be converted
 */
@Test public void testToIdObjectWithStringContainingBinaryHexThrowsICEWithNonHexCharacters(){
  char nonHexChar='/';
  String nonHexString=AmqpMessageIdHelper.AMQP_BINARY_PREFIX + nonHexChar + nonHexChar;
  try {
    _messageIdHelper.toIdObject(nonHexString);
    fail("expected exception was not thrown");
  }
 catch (  IdConversionException ice) {
    String msg=ice.getCause().getMessage();
    assertTrue("Message was not as expected: " + msg,msg.contains("non-hex"));
  }
  nonHexChar=':';
  nonHexString=AmqpMessageIdHelper.AMQP_BINARY_PREFIX + nonHexChar + nonHexChar;
  try {
    _messageIdHelper.toIdObject(nonHexString);
    fail("expected exception was not thrown");
  }
 catch (  IdConversionException ice) {
    String msg=ice.getCause().getMessage();
    assertTrue("Message was not as expected: " + msg,msg.contains("non-hex"));
  }
  nonHexChar='G';
  nonHexString=AmqpMessageIdHelper.AMQP_BINARY_PREFIX + nonHexChar + nonHexChar;
  try {
    _messageIdHelper.toIdObject(nonHexString);
    fail("expected exception was not thrown");
  }
 catch (  IdConversionException ice) {
    String msg=ice.getCause().getMessage();
    assertTrue("Message was not as expected: " + msg,msg.contains("non-hex"));
  }
  nonHexChar='g';
  nonHexString=AmqpMessageIdHelper.AMQP_BINARY_PREFIX + nonHexChar + nonHexChar;
  try {
    _messageIdHelper.toIdObject(nonHexString);
    fail("expected exception was not thrown");
  }
 catch (  IdConversionException ice) {
    String msg=ice.getCause().getMessage();
    assertTrue("Message was not as expected: " + msg,msg.contains("non-hex"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.failover.FailoverIntegrationTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testConnectSecurityViolation() throws Exception {
  try (TestAmqpPeer testPeer=new TestAmqpPeer()){
    testPeer.rejectConnect(AmqpError.UNAUTHORIZED_ACCESS,"Anonymous connections not allowed",null);
    final JmsConnection connection=establishAnonymousConnecton(testPeer);
    try {
      connection.start();
      fail("Should have thrown JMSSecurityException");
    }
 catch (    JMSSecurityException ex) {
    }
catch (    Exception ex) {
      fail("Should have thrown JMSSecurityException: " + ex);
    }
    connection.close();
    testPeer.waitForAllHandlersToComplete(1000);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.failover.FailoverProviderOfflineBehaviorTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testTransactionCommitFails() throws Exception {
  connection=(JmsConnection)factory.createConnection();
  connection.addConnectionListener(new ConnectionInterruptionListener());
  connection.start();
  Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(_testName.getMethodName());
  MessageProducer producer=session.createProducer(queue);
  producer.send(session.createMessage());
  mockPeer.shutdown();
  connectionInterrupted.await(9,TimeUnit.SECONDS);
  try {
    session.commit();
    fail("Should not allow a commit while offline.");
  }
 catch (  TransactionRolledBackException ex) {
  }
  connection.close();
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=20000) public void testTransactionRollbackSucceeds() throws Exception {
  connection=(JmsConnection)factory.createConnection();
  connection.addConnectionListener(new ConnectionInterruptionListener());
  connection.start();
  Session session=connection.createSession(true,Session.SESSION_TRANSACTED);
  Queue queue=session.createQueue(_testName.getMethodName());
  MessageProducer producer=session.createProducer(queue);
  producer.send(session.createMessage());
  mockPeer.shutdown();
  connectionInterrupted.await(9,TimeUnit.SECONDS);
  try {
    session.rollback();
  }
 catch (  TransactionRolledBackException ex) {
    fail("Should allow a rollback while offline.");
  }
  connection.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.failover.FailoverProviderTest </h4><pre class="type-11 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testCannotStartWithoutListener() throws Exception {
  provider=new FailoverProvider(uris,Collections.<String,String>emptyMap());
  assertEquals(FailoverUriPool.DEFAULT_RANDOMIZE_ENABLED,provider.isRandomize());
  assertNull(provider.getRemoteURI());
  provider.connect();
  try {
    provider.start();
    fail("Should not allow a start if no listener added yet.");
  }
 catch (  IllegalStateException ex) {
  }
  provider.close();
}

</code></pre>

<br>
<pre class="type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testMaxReconnectAttempts() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("failover:(mock://localhost?mock.failOnConnect=true)" + "?failover.maxReconnectAttempts=5" + "&failover.useReconnectBackOff=false");
  Connection connection=factory.createConnection();
  try {
    connection.start();
    fail("Should have stopped after five retries.");
  }
 catch (  JMSException ex) {
  }
 finally {
    connection.close();
  }
  assertEquals(5,mockPeer.getContextStats().getProvidersCreated());
  assertEquals(5,mockPeer.getContextStats().getConnectionAttempts());
  assertEquals(5,mockPeer.getContextStats().getCloseAttempts());
}

</code></pre>

<br>
<pre class="type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testStartupMaxReconnectAttempts() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("failover:(mock://localhost?mock.failOnConnect=true)" + "?failover.startupMaxReconnectAttempts=5" + "&failover.useReconnectBackOff=false");
  Connection connection=factory.createConnection();
  try {
    connection.start();
    fail("Should have stopped after five retries.");
  }
 catch (  JMSException ex) {
  }
 finally {
    connection.close();
  }
  assertEquals(5,mockPeer.getContextStats().getProvidersCreated());
  assertEquals(5,mockPeer.getContextStats().getConnectionAttempts());
  assertEquals(5,mockPeer.getContextStats().getCloseAttempts());
}

</code></pre>

<br>
<pre class="type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=30000) public void testMaxReconnectAttemptsWithBackOff() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("failover:(mock://localhost?mock.failOnConnect=true)" + "?failover.maxReconnectAttempts=5" + "&failover.maxReconnectDelay=60"+ "&failover.reconnectDelay=10"+ "&failover.useReconnectBackOff=true");
  Connection connection=factory.createConnection();
  try {
    connection.start();
    fail("Should have stopped after five retries.");
  }
 catch (  JMSException ex) {
  }
 finally {
    connection.close();
  }
  assertEquals(5,mockPeer.getContextStats().getProvidersCreated());
  assertEquals(5,mockPeer.getContextStats().getConnectionAttempts());
  assertEquals(5,mockPeer.getContextStats().getCloseAttempts());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.provider.failover.FailoverUriPoolTest </h4><pre class="type-20 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testAddUriToPoolRandomized() throws URISyntaxException {
  URI newUri=new URI("tcp://192.168.2." + (uris.size() + 1) + ":5672");
  FailoverUriPool pool=new FailoverUriPool(uris,null);
  pool.setRandomize(true);
  pool.add(newUri);
  URI found=null;
  for (int i=0; i < uris.size() + 1; ++i) {
    URI next=pool.getNext();
    if (newUri.equals(next)) {
      found=next;
    }
  }
  if (found == null) {
    fail("URI added was not retrieved from the pool");
  }
}

</code></pre>

<br>
<pre class="type-13 type-20 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testRemoveURIFromPool() throws URISyntaxException {
  FailoverUriPool pool=new FailoverUriPool(uris,null);
  pool.setRandomize(false);
  URI removed=uris.get(0);
  pool.remove(removed);
  for (int i=0; i < uris.size() + 1; ++i) {
    if (removed.equals(pool.getNext())) {
      fail("URI was not removed from the pool");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.transports.TransportOptionsTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testTrafficClassValidation(){
  TransportOptions options=createNonDefaultOptions().clone();
  try {
    options.setTrafficClass(-1);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  try {
    options.setTrafficClass(256);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  options.setTrafficClass(0);
  options.setTrafficClass(128);
  options.setTrafficClass(255);
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testReceiveBufferSizeValidation(){
  TransportOptions options=createNonDefaultOptions().clone();
  try {
    options.setReceiveBufferSize(0);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  try {
    options.setReceiveBufferSize(-1);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  options.setReceiveBufferSize(1);
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSendBufferSizeValidation(){
  TransportOptions options=createNonDefaultOptions().clone();
  try {
    options.setSendBufferSize(0);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  try {
    options.setSendBufferSize(-1);
    fail("Should have thrown an IllegalArgumentException");
  }
 catch (  IllegalArgumentException expected) {
  }
  options.setSendBufferSize(1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.transports.TransportSupportTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateSslContextWithKeyAliasWhichRepresentsNonKeyEntry() throws Exception {
  TransportSslOptions options=createJksSslOptions();
  options.setKeyAlias(ALIAS_CA_CERT);
  try {
    TransportSupport.createSslContext(options);
    fail("Expected exception to be thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateSslContextWithKeyAliasWhichDoesntExist() throws Exception {
  TransportSslOptions options=createJksSslOptions();
  options.setKeyAlias(ALIAS_DOES_NOT_EXIST);
  try {
    TransportSupport.createSslContext(options);
    fail("Expected exception to be thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.transports.X509AliasKeyManagerTest </h4><pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testNullAliasCausesIAE(){
  try {
    new X509AliasKeyManager(null,mock(X509ExtendedKeyManager.class));
    fail("Expected an exception to be thrown");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.transports.netty.NettySslTransportTest </h4><pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectToServerClientTrustsAll() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,testListener,createClientOptionsWithoutTrustStore(true));
    try {
      transport.connect();
      LOG.info("Connection established to untrusted test server: {}",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    transport.close();
  }
   logTransportErrors();
  assertTrue(exceptions.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectWithNeedClientAuth() throws Exception {
  TransportSslOptions serverOptions=createServerOptions();
  try (NettyEchoServer server=new NettyEchoServer(serverOptions,true)){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    TransportSslOptions clientOptions=createClientOptions();
    NettySslTransport transport=createTransport(serverLocation,testListener,clientOptions);
    try {
      transport.connect();
      LOG.info("Connection established to test server: {}",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    assertNotNull(server.getSslHandler().engine().getSession().getPeerCertificates());
    transport.close();
  }
   logTransportErrors();
  assertTrue(exceptions.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) @Repeat(repetitions=1) public void testConnectToServerUsingUntrustedKeyFails() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    TransportSslOptions options=TransportSslOptions.INSTANCE.clone();
    options.setTrustStoreLocation(OTHER_CA_TRUSTSTORE);
    options.setTrustStorePassword(PASSWORD);
    Transport transport=createTransport(serverLocation,testListener,options);
    try {
      transport.connect();
      fail("Should not have connected to the server: " + serverLocation);
    }
 catch (    Exception e) {
      LOG.info("Connection failed to untrusted test server: {}",serverLocation);
    }
    assertFalse(transport.isConnected());
    transport.close();
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectToServerWithoutTrustStoreFails() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,testListener,createClientOptionsWithoutTrustStore(false));
    try {
      transport.connect();
      fail("Should not have connected to the server: " + serverLocation);
    }
 catch (    Exception e) {
      LOG.info("Connection failed to untrusted test server: {}",serverLocation);
    }
    assertFalse(transport.isConnected());
    transport.close();
  }
   logTransportErrors();
  assertTrue(exceptions.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.qpid.jms.transports.netty.NettyTcpTransportTest </h4><pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testDetectServerClose() throws Exception {
  Transport transport=null;
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    server.close();
  }
   final Transport connectedTransport=transport;
  assertTrue(Wait.waitFor(new Wait.Condition(){
    @Override public boolean isSatisified() throws Exception {
      return !connectedTransport.isConnected();
    }
  }
));
  assertTrue(data.isEmpty());
  try {
    transport.close();
  }
 catch (  Exception ex) {
    fail("Close of a disconnect transport should not generate errors");
  }
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectAfterListenerSetWorks() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,null,createClientOptions());
    assertNull(transport.getTransportListener());
    transport.setTransportListener(testListener);
    assertNotNull(transport.getTransportListener());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should not have failed to connect to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    transport.close();
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testDataSentIsReceived() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    ByteBuf sendBuffer=transport.allocateSendBuffer(SEND_BYTE_COUNT);
    for (int i=0; i < SEND_BYTE_COUNT; ++i) {
      sendBuffer.writeByte('A');
    }
    transport.send(sendBuffer);
    assertTrue(Wait.waitFor(new Wait.Condition(){
      @Override public boolean isSatisified() throws Exception {
        return !data.isEmpty();
      }
    }
));
    assertEquals(SEND_BYTE_COUNT,data.get(0).readableBytes());
    transport.close();
  }
   assertTrue(!transportClosed);
  assertTrue(exceptions.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testSendToClosedTransportFails() throws Exception {
  Transport transport=null;
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    transport.close();
    ByteBuf sendBuffer=Unpooled.buffer(10);
    try {
      transport.send(sendBuffer);
      fail("Should throw on send of closed transport");
    }
 catch (    IOException ex) {
    }
  }
 }

</code></pre>

<br>
<pre class="type-13 type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testMultipleConnectionsToServer() throws Exception {
  final int CONNECTION_COUNT=10;
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    List<Transport> transports=new ArrayList<Transport>();
    for (int i=0; i < CONNECTION_COUNT; ++i) {
      Transport transport=createTransport(serverLocation,testListener,createClientOptions());
      try {
        transport.connect();
        assertTrue(transport.isConnected());
        LOG.info("Connected to server:{} as expected.",serverLocation);
        transports.add(transport);
      }
 catch (      Exception e) {
        fail("Should have connected to the server: " + serverLocation);
      }
    }
    for (    Transport transport : transports) {
      transport.close();
    }
  }
   assertTrue(!transportClosed);
  assertTrue(exceptions.isEmpty());
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectToServer() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    assertEquals(serverLocation,transport.getRemoteLocation());
    transport.close();
    transport.close();
  }
   assertTrue(!transportClosed);
  assertTrue(exceptions.isEmpty());
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectWithoutListenerFails() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,null,createClientOptions());
    try {
      transport.connect();
      fail("Should have failed to connect to the server: " + serverLocation);
    }
 catch (    Exception e) {
      LOG.info("Failed to connect to: {} as expected.",serverLocation);
    }
    assertFalse(transport.isConnected());
    transport.close();
  }
 }

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testZeroSizedSentNoErrors() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    Transport transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      LOG.info("Connected to server:{} as expected.",serverLocation);
    }
 catch (    Exception e) {
      fail("Should have connected to the server: " + serverLocation);
    }
    assertTrue(transport.isConnected());
    transport.send(Unpooled.buffer(0));
    transport.close();
  }
   assertTrue(!transportClosed);
  assertTrue(exceptions.isEmpty());
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<pre class="type-6 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testConnectWithoutRunningServer() throws Exception {
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    server.close();
    Transport transport=createTransport(serverLocation,testListener,createClientOptions());
    try {
      transport.connect();
      fail("Should have failed to connect to the server: " + serverLocation);
    }
 catch (    Exception e) {
      LOG.info("Failed to connect to: {} as expected.",serverLocation);
    }
    assertFalse(transport.isConnected());
    transport.close();
  }
   assertTrue(!transportClosed);
  assertTrue(exceptions.isEmpty());
  assertTrue(data.isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-11 type-4 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=60 * 1000) public void testMultipleConnectionsSendReceive() throws Exception {
  final int CONNECTION_COUNT=10;
  final int FRAME_SIZE=8;
  ByteBuf sendBuffer=Unpooled.buffer(FRAME_SIZE);
  for (int i=0; i < 8; ++i) {
    sendBuffer.writeByte('A');
  }
  try (NettyEchoServer server=new NettyEchoServer(createServerOptions())){
    server.start();
    int port=server.getServerPort();
    URI serverLocation=new URI("tcp://localhost:" + port);
    List<Transport> transports=new ArrayList<Transport>();
    for (int i=0; i < CONNECTION_COUNT; ++i) {
      Transport transport=createTransport(serverLocation,testListener,createClientOptions());
      try {
        transport.connect();
        transport.send(sendBuffer.copy());
        transports.add(transport);
      }
 catch (      Exception e) {
        fail("Should have connected to the server: " + serverLocation);
      }
    }
    assertTrue(Wait.waitFor(new Wait.Condition(){
      @Override public boolean isSatisified() throws Exception {
        LOG.debug("Checking completion: read {} expecting {}",bytesRead.get(),(FRAME_SIZE * CONNECTION_COUNT));
        return bytesRead.get() == (FRAME_SIZE * CONNECTION_COUNT);
      }
    }
));
    for (    Transport transport : transports) {
      transport.close();
    }
  }
   assertTrue(exceptions.isEmpty());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
