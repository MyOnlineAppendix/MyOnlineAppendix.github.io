<h3 style="margin:0px">Class: org.apache.qpid.jms.JmsConnectionFactoryTest (19 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConnectionGetConfiguredURIApplied() throws Exception {
  URI mock=new URI("mock://localhost");
  JmsConnectionFactory factory=new JmsConnectionFactory(mock);
  JmsConnection connection=(JmsConnection)factory.createConnection();
  assertEquals(mock,connection.getConfiguredURI());
  connection.start();
  assertEquals(mock,connection.getConnectedURI());
}

</code></pre>

<pre class="type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProperties() throws Exception {
  String clientID=getTestName();
  String queuePrefix="q:";
  String jmsOptionPrefix="jms.";
  String clientIDprop="clientID";
  String baseUri="amqp://localhost:1234";
  String uri=baseUri + "?" + jmsOptionPrefix+ clientIDprop+ "="+ clientID;
  JmsConnectionFactory cf=new JmsConnectionFactory();
  cf.setRemoteURI(uri);
  cf.setQueuePrefix(queuePrefix);
  Map<String,String> props=cf.getProperties();
  assertTrue(CLIENT_ID_PROP + " property not found",props.containsKey(CLIENT_ID_PROP));
  assertEquals("clientID uri property query option not applied as expected",clientID,props.get(CLIENT_ID_PROP));
  assertTrue(QUEUE_PREFIX_PROP + " property not found",props.containsKey(QUEUE_PREFIX_PROP));
  assertEquals("queue prefix property not applied as expected",queuePrefix,props.get(QUEUE_PREFIX_PROP));
}

</code></pre>

<pre class="type-4 type-10 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGlobalExceptionListenerIsAppliedToCreatedConnection() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory(new URI("mock://127.0.0.1:5763"));
  ExceptionListener listener=new ExceptionListener(){
    @Override public void onException(    JMSException exception){
    }
  }
;
  factory.setExceptionListener(listener);
  Connection connection=factory.createConnection();
  assertNotNull(connection);
  assertNotNull(connection.getExceptionListener());
  assertSame(listener,connection.getExceptionListener());
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateConnectionBadProviderURI() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory(new URI("bad://127.0.0.1:5763"));
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
  }
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test(timeout=5000) public void testCreateConnectionWithPortOutOfRange() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("amqp://127.0.0.1:567564562");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
    LOG.debug("Caught Ex -> ",jmse);
  }
  factory=new JmsConnectionFactory("amqp://127.0.0.1:5675645622");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
    LOG.debug("Caught Ex -> ",jmse);
  }
}

</code></pre>

<pre class="type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testConnectionFactoryCreate(){
  JmsConnectionFactory factory=new JmsConnectionFactory();
  assertNull(factory.getUsername());
  assertNull(factory.getPassword());
  assertNotNull(factory.getRemoteURI());
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCreateConnectionBadProviderString() throws Exception {
  JmsConnectionFactory factory=new JmsConnectionFactory("bad://127.0.0.1:5763");
  try {
    factory.createConnection();
    fail("Should have thrown exception");
  }
 catch (  JMSException jmse) {
  }
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * The prefetch policy is maintained in a child-object, which we extract the properties from
 * when serializing the factory. Ensure this functions by doing a round trip on a factory
 * configured with some new prefetch configuration via the URI.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSerializeThenDeserializeMaintainsPrefetchPolicy() throws Exception {
  String topicPrefetchValue="17";
  String topicPrefetchKey="prefetchPolicy.topicPrefetch";
  String uri="amqp://localhost:1234?jms." + topicPrefetchKey + "="+ topicPrefetchValue;
  JmsConnectionFactory cf=new JmsConnectionFactory(uri);
  Map<String,String> props=cf.getProperties();
  assertTrue("Props dont contain expected prefetch policy change",props.containsKey(topicPrefetchKey));
  assertEquals("Unexpected value",topicPrefetchValue,props.get(topicPrefetchKey));
  Object roundTripped=roundTripSerialize(cf);
  assertNotNull("Null object returned",roundTripped);
  assertEquals("Unexpected type",JmsConnectionFactory.class,roundTripped.getClass());
  Map<String,String> props2=((JmsConnectionFactory)roundTripped).getProperties();
  assertTrue("Props dont contain expected prefetch policy change",props2.containsKey(topicPrefetchKey));
  assertEquals("Unexpected value",topicPrefetchValue,props2.get(topicPrefetchKey));
  assertEquals("Properties were not equal",props,props2);
}

</code></pre>

<pre class="type-6 type-11 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeTwoDifferentConnectionFactories() throws Exception {
  JmsConnectionFactory cf1=new JmsConnectionFactory("amqp://localhost:1234");
  JmsConnectionFactory cf2=new JmsConnectionFactory("amqp://localhost:5678");
  byte[] bytes1=serialize(cf1);
  byte[] bytes2=serialize(cf2);
  try {
    assertArrayEquals(bytes1,bytes2);
    fail("Expected arrays to differ");
  }
 catch (  AssertionError ae) {
  }
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testBadUriOptionCausesFail() throws Exception {
  new JmsConnectionFactory("amqp://localhost:1234?jms.badOption=true");
}

</code></pre>

<pre class="type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionFactoryCreateUsernameAndPassword(){
  JmsConnectionFactory factory=new JmsConnectionFactory(USER,PASSWORD);
  assertNotNull(factory.getUsername());
  assertNotNull(factory.getPassword());
  assertEquals(USER,factory.getUsername());
  assertEquals(PASSWORD,factory.getPassword());
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testSetPropertiesWithBadUriOptionCausesFail() throws Exception {
  JmsConnectionFactory cf=new JmsConnectionFactory();
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI","amqp://localhost:1234?jms.badOption=true");
  try {
    cf.setProperties(props);
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException iae) {
  }
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * The redelivery policy is maintained in a child-object, which we extract the properties from
 * when serializing the factory. Ensure this functions by doing a round trip on a factory
 * configured with some new redelivery configuration via the URI.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSerializeThenDeserializeMaintainsRedeliveryPolicy() throws Exception {
  String maxRedeliveryValue="5";
  String maxRedeliveryKey="redeliveryPolicy.maxRedeliveries";
  String uri="amqp://localhost:1234?jms." + maxRedeliveryKey + "="+ maxRedeliveryValue;
  JmsConnectionFactory cf=new JmsConnectionFactory(uri);
  Map<String,String> props=cf.getProperties();
  assertTrue("Props dont contain expected redelivery policy change",props.containsKey(maxRedeliveryKey));
  assertEquals("Unexpected value",maxRedeliveryValue,props.get(maxRedeliveryKey));
  Object roundTripped=roundTripSerialize(cf);
  assertNotNull("Null object returned",roundTripped);
  assertEquals("Unexpected type",JmsConnectionFactory.class,roundTripped.getClass());
  Map<String,String> props2=((JmsConnectionFactory)roundTripped).getProperties();
  assertTrue("Props dont contain expected redelivery policy change",props2.containsKey(maxRedeliveryKey));
  assertEquals("Unexpected value",maxRedeliveryValue,props2.get(maxRedeliveryKey));
  assertEquals("Properties were not equal",props,props2);
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetProperties() throws Exception {
  String clientID=getTestName();
  String queuePrefix="q:";
  String jmsOptionPrefix="jms.";
  String baseUri="amqp://localhost:1234";
  String uri=baseUri + "?" + jmsOptionPrefix+ CLIENT_ID_PROP+ "="+ clientID;
  JmsConnectionFactory cf=new JmsConnectionFactory();
  assertNotEquals("value should not match yet",clientID,cf.getClientID());
  assertNotEquals("value should not match yet",queuePrefix,cf.getQueuePrefix());
  assertNotEquals("value should not match yet",baseUri,cf.getRemoteURI());
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI",uri);
  props.put("queuePrefix",queuePrefix);
  Map<String,String> unusedProps=cf.setProperties(props);
  assertEquals("uri property query option not applied as expected",clientID,cf.getClientID());
  assertEquals("direct property not applied as expected",queuePrefix,cf.getQueuePrefix());
  assertEquals("URI was filtered to remove options that were applied",baseUri,cf.getRemoteURI());
  assertTrue("Map should be empty: " + unusedProps,unusedProps.isEmpty());
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<pre class="type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionFactoryOptionsAreAppliedToConnection() throws JMSException {
  JmsConnectionFactory factory=new JmsConnectionFactory(USER,PASSWORD,"mock://localhost");
  factory.setTopicPrefix(TOPIC_PREFIX_PROP);
  factory.setQueuePrefix(QUEUE_PREFIX_PROP);
  factory.setClientID(CLIENT_ID_PROP);
  factory.setForceSyncSend(!factory.isForceSyncSend());
  factory.setForceAsyncSend(!factory.isForceAsyncSend());
  factory.setLocalMessagePriority(!factory.isLocalMessagePriority());
  factory.setForceAsyncAcks(!factory.isForceAsyncAcks());
  factory.setConnectTimeout(TimeUnit.SECONDS.toMillis(30));
  factory.setCloseTimeout(TimeUnit.SECONDS.toMillis(45));
  factory.getPrefetchPolicy().setAll(1);
  JmsConnection connection=(JmsConnection)factory.createConnection();
  assertNotNull(connection);
  assertEquals(USER,connection.getUsername());
  assertEquals(PASSWORD,connection.getPassword());
  assertEquals(CLIENT_ID_PROP,connection.getClientID());
  assertEquals(TOPIC_PREFIX_PROP,connection.getTopicPrefix());
  assertEquals(QUEUE_PREFIX_PROP,connection.getQueuePrefix());
  assertEquals(factory.isForceSyncSend(),connection.isForceSyncSend());
  assertEquals(factory.isForceAsyncSend(),connection.isForceAsyncSend());
  assertEquals(factory.isLocalMessagePriority(),connection.isLocalMessagePriority());
  assertEquals(factory.isForceAsyncAcks(),connection.isForceAsyncAcks());
  assertEquals(TimeUnit.SECONDS.toMillis(30),connection.getConnectTimeout());
  assertEquals(TimeUnit.SECONDS.toMillis(45),connection.getCloseTimeout());
  assertEquals(1,connection.getPrefetchPolicy().getTopicPrefetch());
  assertEquals(1,connection.getPrefetchPolicy().getQueuePrefetch());
  assertEquals(1,connection.getPrefetchPolicy().getQueueBrowserPrefetch());
  assertEquals(1,connection.getPrefetchPolicy().getDurableTopicPrefetch());
}

</code></pre>

<pre class="type-11 type-4 type-5 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPropertiesWithUnusedOptions() throws Exception {
  String uri="amqp://localhost:1234";
  String unusedKey="unusedKey";
  String unusedValue="unusedValue";
  JmsConnectionFactory cf=new JmsConnectionFactory();
  assertNotEquals("value should not match yet",uri,cf.getRemoteURI());
  Map<String,String> props=new HashMap<String,String>();
  props.put("remoteURI",uri);
  props.put(unusedKey,unusedValue);
  Map<String,String> unusedProps=cf.setProperties(props);
  assertEquals("uri property option not applied as expected",uri,cf.getRemoteURI());
  assertEquals("Unexpected size of return map",1,unusedProps.size());
  assertTrue("Expected property not found in map: " + unusedProps,unusedProps.containsKey(unusedKey));
  assertEquals("Unexpected property value",unusedValue,unusedProps.get(unusedKey));
  try {
    unusedProps.put("a","b");
    fail("Map should be unmodifiable");
  }
 catch (  UnsupportedOperationException uoe) {
  }
}

</code></pre>

<pre class="type-6 type-4 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializeThenDeserialize() throws Exception {
  String uri="amqp://localhost:1234";
  JmsConnectionFactory cf=new JmsConnectionFactory(uri);
  Map<String,String> props=cf.getProperties();
  Object roundTripped=roundTripSerialize(cf);
  assertNotNull("Null object returned",roundTripped);
  assertEquals("Unexpected type",JmsConnectionFactory.class,roundTripped.getClass());
  assertEquals("Unexpected uri",uri,((JmsConnectionFactory)roundTripped).getRemoteURI());
  Map<String,String> props2=((JmsConnectionFactory)roundTripped).getProperties();
  assertEquals("Properties were not equal",props,props2);
}

</code></pre>

<pre class="type-6 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSerializeTwoConnectionFactories() throws Exception {
  String uri="amqp://localhost:1234";
  JmsConnectionFactory cf1=new JmsConnectionFactory(uri);
  JmsConnectionFactory cf2=new JmsConnectionFactory(uri);
  byte[] bytes1=serialize(cf1);
  byte[] bytes2=serialize(cf2);
  assertArrayEquals(bytes1,bytes2);
}

</code></pre>

<pre class="type-6 type-4 type-5 type-7 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verify that the 'global' exception listener set on the connection factory
 * is ignored when the factory gets serialized.
 * @throws Exception if an error occurs during the test.
 */
@Test public void testSerializeThenDeserializeIgnoresGlobalExceptionListener() throws Exception {
  String uri="amqp://localhost:1234";
  JmsConnectionFactory cf=new JmsConnectionFactory(uri);
  cf.setExceptionListener(new ExceptionListener(){
    @Override public void onException(    JMSException exception){
    }
  }
);
  Map<String,String> props=cf.getProperties();
  Object roundTripped=roundTripSerialize(cf);
  assertNotNull("Null object returned",roundTripped);
  assertEquals("Unexpected type",JmsConnectionFactory.class,roundTripped.getClass());
  assertEquals("Unexpected uri",uri,((JmsConnectionFactory)roundTripped).getRemoteURI());
  Map<String,String> props2=((JmsConnectionFactory)roundTripped).getProperties();
  assertFalse("Properties map should not contain ExceptionListener",props.containsKey("exceptionListener"));
  assertEquals("Properties were not equal",props,props2);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
