<h3><span class=" glyphicon glyphicon-tag"/>&nbspIgnoredMethod</h3><kbd>Is not executed with the test suite</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.xmlgraphics.io.URIResolverAdapterTestCase </h4><pre class="type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Literally no idea why this doesn't work... Gonna look at the catalog resolver source") public void testCatalogResolver() throws TransformerException, IOException {
  CatalogResolver catalogResolver=new CatalogResolver();
  Source src=catalogResolver.resolve(textFileURI.toASCIIString(),null);
  if (src instanceof SAXSource) {
    testInputStream(new URL(src.getSystemId()).openStream());
  }
}

</code></pre>

<br>
<pre class="type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
@Test @Ignore("Literally no idea why this doesn't work... Gonna look at the catalog resolver source") public void testCatalogResolverInAdapter() throws IOException {
  ResourceResolver resourceResolver=new URIResolverAdapter(new CatalogResolver());
  testInputStream(resourceResolver.getResource(textFileURI));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.xmlgraphics.util.DoubleFormatUtilTestCase </h4><pre class="type-4 type-10 type-1 type-2 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Tests the formatFast method against the reference, with random values.
 * Disabled since the formatFast method is not accurate.
 */
@Test @Ignore("Disabled since the formatFast method is not accurate.") public void fast(){
  long seed=System.currentTimeMillis();
  Random r=new Random();
  r.setSeed(seed);
  double value;
  double highValue;
  double lowValue;
  int nbTest=10000;
  int maxDecimals=12;
  String actual;
  String expected;
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    expected=refFormat(value,decimals,precision);
    actual=formatFast(value,decimals,precision);
    assertEquals(value,decimals,precision,expected,actual);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    expected=refFormat(highValue,decimals,precision);
    actual=formatFast(highValue,decimals,precision);
    System.out.println(expected);
    System.out.println(actual);
    assertEquals(highValue,decimals,precision,expected,actual);
    lowValue=(value - 1) / 1000;
    expected=refFormat(lowValue,decimals,precision);
    actual=formatFast(lowValue,decimals,precision);
    assertEquals(lowValue,decimals,precision,expected,actual);
  }
}

</code></pre>

<br>
<pre class="type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
- Is not executed with the test suite
"></span><br>
/** 
 * Performance comparison of the differents formatXXX methods,
 * to see which one is the fastest in the same conditions.
 */
@Test @Ignore("Disabled since this doesn't test correctness.") public void performanceCompare(){
  long seed=System.currentTimeMillis();
  Random r=new Random();
  r.setSeed(seed);
  double value;
  double highValue;
  double lowValue;
  long start=System.currentTimeMillis();
  int nbTest=1000000;
  int maxDecimals=16;
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    format(value,decimals,precision);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    format(highValue,decimals,precision);
    lowValue=(value - 1) / 1000;
    format(lowValue,decimals,precision);
  }
  long formatDuration=System.currentTimeMillis() - start;
  System.out.println("Format duration: " + formatDuration + "ms to format "+ (3 * nbTest)+ " doubles");
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    formatPrecise(value,decimals,precision);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    formatPrecise(highValue,decimals,precision);
    lowValue=(value - 1) / 1000;
    formatPrecise(lowValue,decimals,precision);
  }
  long preciseFormatDuration=System.currentTimeMillis() - start;
  System.out.println("Format Precise duration: " + preciseFormatDuration + "ms to format "+ (3 * nbTest)+ " doubles");
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    formatFast(value,decimals,precision);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    formatFast(highValue,decimals,precision);
    lowValue=(value - 1) / 1000;
    formatFast(lowValue,decimals,precision);
  }
  long fastFormatDuration=System.currentTimeMillis() - start;
  System.out.println("Fast Format duration: " + fastFormatDuration + "ms to format "+ (3 * nbTest)+ " doubles");
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    refFormat(value,decimals,precision);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    refFormat(highValue,decimals,precision);
    lowValue=(value - 1) / 1000;
    refFormat(lowValue,decimals,precision);
  }
  long bgDuration=System.currentTimeMillis() - start;
  System.out.println("BigDecimal format duration: " + bgDuration + "ms to format "+ (3 * nbTest)+ " doubles");
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    value=1 + r.nextDouble();
    formatDf(value,decimals,precision);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    formatDf(highValue,decimals,precision);
    lowValue=(value - 1) / 1000;
    formatDf(lowValue,decimals,precision);
  }
  long dfDuration=System.currentTimeMillis() - start;
  System.out.println("DecimalFormat duration: " + dfDuration + "ms to format "+ (3 * nbTest)+ " doubles");
  r.setSeed(seed);
  start=System.currentTimeMillis();
  for (int i=nbTest; i > 0; i--) {
    int decimals=r.nextInt(maxDecimals);
    int precision=decimals + 3;
    precision++;
    value=1 + r.nextDouble();
    Double.toString(value);
    highValue=value * DoubleFormatUtil.tenPow(r.nextInt(MAX_POW));
    Double.toString(highValue);
    lowValue=(value - 1) / 1000;
    Double.toString(lowValue);
  }
  long toStringDuration=System.currentTimeMillis() - start;
  System.out.println("toString duration: " + toStringDuration + "ms to format "+ (3 * nbTest)+ " doubles");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
