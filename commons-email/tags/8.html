<h3><span class=" glyphicon glyphicon-tag"/>&nbspExecutionTester</h3><kbd>Executes methods or other tests from the same test unit</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.mail.EmailLiveTest </h4><pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * A sanity check that a simple email also works in reality.
 * @throws Exception the test failed
 */
@Test public void testSimpleEmail() throws Exception {
  final SimpleEmail email=(SimpleEmail)create(SimpleEmail.class);
  email.setSubject("TestSimpleMail");
  email.setMsg("This is a test mail ... :-)");
  EmailUtils.writeMimeMessage(new File("./target/test-emails/simplemail.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test checks the various options of building a HTML email.
 * https://issues.apache.org/jira/browse/EMAIL-65
 * @throws Exception the test failed
 */
@Test public void testHtmlMailMimeLayout() throws Exception {
  String textMsg;
  String htmlMsg;
  String cid;
  final URL url=new URL(EmailConfiguration.TEST_URL);
  final File imageFile=new File("./src/test/resources/images/asf_logo_wide.gif");
  final EmailAttachment attachment=new EmailAttachment();
  final File attachmentFile=new File("./src/test/resources/attachments/logo.pdf");
  attachment.setName("logo.pdf");
  attachment.setDescription("The official Apache logo");
  attachment.setPath(attachmentFile.getAbsolutePath());
  final HtmlEmail htmlEmail1=(HtmlEmail)create(HtmlEmail.class);
  textMsg="Your email client does not support HTML messages";
  htmlMsg="<html><b>This is a HTML message without any image</b><html>";
  htmlEmail1.setSubject("[email] 1.Test: text + html content");
  htmlEmail1.setTextMsg(textMsg);
  htmlEmail1.setHtmlMsg(htmlMsg);
  EmailUtils.writeMimeMessage(new File("./target/test-emails/htmlemail1.eml"),send(htmlEmail1).getMimeMessage());
  final HtmlEmail htmlEmail2=(HtmlEmail)create(HtmlEmail.class);
  textMsg="Your email client does not support HTML messages";
  htmlMsg="<html><b>This is a HTML message with an image attachment</b><html>";
  htmlEmail2.setSubject("[email] 2.Test: text + html content + image as attachment");
  htmlEmail2.setTextMsg(textMsg);
  htmlEmail2.setHtmlMsg(htmlMsg);
  htmlEmail2.attach(url,"Apache Logo","The official Apache logo");
  EmailUtils.writeMimeMessage(new File("./target/test-emails/htmlemail2.eml"),send(htmlEmail2).getMimeMessage());
  final HtmlEmail htmlEmail3=(HtmlEmail)create(HtmlEmail.class);
  textMsg="Your email client does not support HTML messages";
  cid=htmlEmail3.embed(imageFile,"Apache Logo");
  htmlMsg="<html><b>This is a HTML message with an inline image - <img src=\"cid:" + cid + "\"> and NO attachment</b><html>";
  htmlEmail3.setSubject("[email] 3.Test: text + html content + inline image");
  htmlEmail3.setTextMsg(textMsg);
  htmlEmail3.setHtmlMsg(htmlMsg);
  EmailUtils.writeMimeMessage(new File("./target/test-emails/htmlemail3.eml"),send(htmlEmail3).getMimeMessage());
  final HtmlEmail htmlEmail4=(HtmlEmail)create(HtmlEmail.class);
  textMsg="Your email client does not support HTML messages";
  cid=htmlEmail4.embed(imageFile,"Apache Logo");
  htmlMsg="<html><b>This is a HTML message with an inline image - <img src=\"cid:" + cid + "\"> and attachment</b><html>";
  htmlEmail4.setSubject("[email] 4.Test: text + html content + inline image + attachment");
  htmlEmail4.setTextMsg(textMsg);
  htmlEmail4.setHtmlMsg(htmlMsg);
  htmlEmail4.attach(attachment);
  EmailUtils.writeMimeMessage(new File("./target/test-emails/htmlemail4.eml"),send(htmlEmail4).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * This test checks the correct character encoding when sending
 * non-ASCII content using SimpleEmail.
 * https://issues.apache.org/jira/browse/EMAIL-79
 * @throws Exception the test failed
 */
@Test public void testCorrectCharacterEncoding() throws Exception {
  final String subject="[email] 5.Test: Subject with three greek UTF-8 characters : \u03B1\u03B2\u03B3";
  final String textMsg="My test body with with three greek UTF-8 characters : \u03B1\u03B2\u03B3\n";
  final String attachmentName="\u03B1\u03B2\u03B3.txt";
  final MultiPartEmail email=(MultiPartEmail)create(MultiPartEmail.class);
  email.setSubject(subject);
  email.setMsg(textMsg);
  final DataSource attachment=new javax.mail.util.ByteArrayDataSource(textMsg.getBytes("utf-8"),"text/plain");
  email.attach(attachment,attachmentName,"Attachment in Greek");
  EmailUtils.writeMimeMessage(new File("./target/test-emails/correct-encoding.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Testing if we are able to send a partial email with an invalid address.
 * https://issues.apache.org/jira/browse/EMAIL-132
 * @throws Exception the test failed.
 */
@Test public void testPartialSend() throws Exception {
  final SimpleEmail email=(SimpleEmail)create(SimpleEmail.class);
  email.addTo(EmailConfiguration.TEST_TO);
  email.addTo("nobody@is.invalid");
  email.setSubject("TestPartialMail");
  email.setMsg("This is a test mail ... :-)");
  email.setSendPartial(true);
  EmailUtils.writeMimeMessage(new File("./target/test-emails/partialmail.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * A sanity check that a header folding works correctly.
 * @throws Exception the test failed
 */
@Test public void testFoldedHeaderValue() throws Exception {
  final SimpleEmail email=(SimpleEmail)create(SimpleEmail.class);
  email.setSubject("TestFoldedHeaderMail");
  email.setMsg("This is a test mail with a folded header value... :-)");
  email.addHeader("X-TestHeader","This is a very long header value which should be folded into two lines, hopefully");
  EmailUtils.writeMimeMessage(new File("./target/test-emails/foldedheader.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test sending a image HTML mail based on a real world website. We
 * would expect to see the ApacheCon logo at the bottom of the email.
 * Please note that not all major email clients can display the email
 * properly.
 * @throws Exception the test failed
 */
@Test public void testImageHtmlEmailRemote() throws Exception {
  if (EmailConfiguration.MAIL_FORCE_SEND) {
    final URL url=new URL("http://commons.apache.org/email/");
    final String htmlMsg=getFromUrl(url);
    final ImageHtmlEmail email=(ImageHtmlEmail)create(ImageHtmlEmail.class);
    email.setDataSourceResolver(new DataSourceUrlResolver(url,true));
    email.setSubject("[testImageHtmlEmail] 2.Test: complex html content");
    email.setHtmlMsg(htmlMsg);
    EmailUtils.writeMimeMessage(new File("./target/test-emails/testImageHtmlEmailRemote.eml"),send(email).getMimeMessage());
  }
}

</code></pre>

<br>
<pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Testing if we are able to send a few emails in a batch, i.e.
 * using a single authenticated <code>Transport</code> instance.
 * Use a single instance speeds up processing since the
 * authorization is only done once.
 * https://issues.apache.org/jira/browse/EMAIL-72
 * @throws Exception the test failed.
 */
@Test public void testSendingEmailsInBatch() throws Exception {
  final List<SimpleEmail> emails=new ArrayList<SimpleEmail>();
  final Session session=create(SimpleEmail.class).getMailSession();
  final Transport transport=session.getTransport();
  for (int i=0; i < 3; i++) {
    final SimpleEmail personalizedEmail=(SimpleEmail)create(SimpleEmail.class);
    personalizedEmail.setMailSession(session);
    personalizedEmail.setSubject("Personalized Test Mail Nr. " + i);
    personalizedEmail.setMsg("This is a personalized test mail ... :-)");
    personalizedEmail.buildMimeMessage();
    emails.add(personalizedEmail);
  }
  if (EmailConfiguration.MAIL_FORCE_SEND) {
    transport.connect();
    for (    final SimpleEmail personalizedEmail : emails) {
      final MimeMessage mimeMessage=personalizedEmail.getMimeMessage();
      Transport.send(mimeMessage);
      System.out.println("Successfully sent the following email : " + mimeMessage.getMessageID());
    }
    transport.close();
  }
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * A sanity check that a simple email also works in reality.
 * @throws Exception the test failed
 */
@Test public void testMultiPartEmail() throws Exception {
  final MultiPartEmail email=(MultiPartEmail)create(MultiPartEmail.class);
  email.setSubject("TestMultiPartMail");
  email.setMsg("This is a test mail ... :-)");
  email.attach(new File("./src/test/resources/attachments/logo.pdf"));
  EmailUtils.writeMimeMessage(new File("./target/test-emails/multipart.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Test sending a image HTML mail bases on a local HTML page and local image.
 * @throws Exception the test failed
 */
@Test public void testImageHtmlEmailLocal() throws Exception {
  final File htmlFile=new File("./src/test/resources/html/www.apache.org.html");
  final String htmlMsg1=FileUtils.readFileToString(htmlFile);
  final ImageHtmlEmail email=(ImageHtmlEmail)create(ImageHtmlEmail.class);
  email.setDataSourceResolver(new DataSourceUrlResolver(htmlFile.getParentFile().toURI().toURL(),false));
  email.setSubject("[testImageHtmlEmail] 1.Test: simple html content");
  email.setHtmlMsg(htmlMsg1);
  EmailUtils.writeMimeMessage(new File("./target/test-emails/testImageHtmlEmailLocal.eml"),send(email).getMimeMessage());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.EmailTest </h4><pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSendFromNotSet() throws Exception {
  getMailServer();
  email=new MockEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.addTo("me@home.com");
  email.send();
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetToNull() throws Exception {
  email.setTo(null);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddHeaderEmptyName() throws Exception {
  email.addHeader("","me@home.com");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddHeaderEmptyValue() throws Exception {
  email.addHeader("X-Mailer","");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetToEmpty() throws Exception {
  email.setTo(Collections.<InternetAddress>emptyList());
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetHeaderNullName() throws Exception {
  email.setHeaders(Collections.singletonMap((String)null,"me@home.com"));
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSendDestinationNotSet() throws Exception {
  getMailServer();
  email=new MockEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.setFrom("me@home.com");
  email.send();
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalCharsetNameException.class) public void testAddToBadEncoding() throws Exception {
  email.addTo("me@home.com","me@home.com","bad.encoding\uc5ec\n");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetBccNull() throws Exception {
  email.setBcc(null);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetBccEmpty() throws Exception {
  email.setBcc(Collections.<InternetAddress>emptyList());
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetSmtpPortZero(){
  email.setSmtpPort(0);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetSmtpPortMinValue(){
  email.setSmtpPort(Integer.MIN_VALUE);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalCharsetNameException.class) public void testAddReplyToBadEncoding() throws Exception {
  email.addReplyTo("me@home.com","me@home.com","bad.encoding\uc5ec\n");
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSendFromSetInSession() throws Exception {
  getMailServer();
  email=new MockEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.addTo("me@home.com");
  email.getSession().getProperties().setProperty(EmailConstants.MAIL_FROM,"me@home.com");
  email.send();
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalCharsetNameException.class) public void testAddCcBadEncoding() throws Exception {
  email.addCc("me@home.com","me@home.com","bad.encoding\uc5ec\n");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSendNoHostName() throws Exception {
  getMailServer();
  email=new MockEmailConcrete();
  email.send();
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddHeaderNullValue() throws Exception {
  email.addHeader("X-Mailer",null);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetHeaderEmptyValue() throws Exception {
  email.setHeaders(Collections.singletonMap("X-Mailer",""));
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSendBadAuthSet() throws Exception {
  getMailServer();
  email=new MockEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.setFrom(strTestMailFrom);
  email.addTo(strTestMailTo);
  email.setAuthentication(null,null);
  email.send();
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalCharsetNameException.class) public void testAddBccBadEncoding() throws Exception {
  email.addBcc("me@home.com","me@home.com","bad.encoding\uc5ec\n");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetSmptPortNegative(){
  email.setSmtpPort(-1);
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetHeaderEmptyName() throws Exception {
  email.setHeaders(Collections.singletonMap("","me@home.com"));
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetCcEmpty() throws Exception {
  email.setCc(Collections.<InternetAddress>emptyList());
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testAddHeaderNullName() throws Exception {
  email.addHeader(null,"me@home.com");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalArgumentException.class) public void testSetHeaderNullValue() throws Exception {
  email.setHeaders(Collections.singletonMap("X-Mailer",(String)null));
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IllegalCharsetNameException.class) public void testSetFromBadEncoding() throws Exception {
  email.setFrom("me@home.com","me@home.com","bad.encoding\uc5ec\n");
}

</code></pre>

<br>
<pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=EmailException.class) public void testSetCcNull() throws Exception {
  email.setCc(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.HtmlEmailTest </h4><pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * EMAIL-73 - check that providing a plain text content using setMsg()
 * creates a plain content and HTML content using {@code <pre>} tags.
 */
@Test public void testSendWithPlainTextButNoHtmlContent() throws EmailException, IOException {
  this.getMailServer();
  final String strSubject="testSendWithPlainTextButNoHtmlContent";
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  this.email.setMsg("This is a plain text content : <b><&npsb;></html></b>");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testHtmlMailMimeLayout() throws Exception {
  assertCorrectContentType("contentTypeTest.gif","image/gif");
  assertCorrectContentType("contentTypeTest.jpg","image/jpeg");
  assertCorrectContentType("contentTypeTest.png","image/png");
}

</code></pre>

<br>
<pre class="type-15 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is not executed with the test suite
- Executes methods or other tests from the same test unit
"></span><br>
@Test @Ignore public void testSendWithDefaultCharset() throws Exception {
  System.setProperty(EmailConstants.MAIL_MIME_CHARSET,"iso-8859-15");
  this.getMailServer();
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  if (this.strTestUser != null && this.strTestPasswd != null) {
    this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  }
  final String strSubject="Test HTML Send Subject (w default charset)";
  this.email.setSubject(strSubject);
  this.email.setMsg("Test txt msg ä");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,"charset=iso-8859-15",this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  System.clearProperty(EmailConstants.MAIL_MIME_CHARSET);
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSend2() throws Exception {
  this.getMailServer();
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  if (this.strTestUser != null && this.strTestPasswd != null) {
    this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  }
  String strSubject="Test HTML Send #2 Subject (wo charset)";
  this.email.setSubject(strSubject);
  this.email.setMsg("Test txt msg");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  validateSend(this.fakeMailServer,strSubject,this.email.getHtmlMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
  this.getMailServer();
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setFrom(this.strTestMailFrom);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.addTo(this.strTestMailTo);
  if (this.strTestUser != null && this.strTestPasswd != null) {
    this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  }
  strSubject="Test HTML Send #2 Subject (w charset)";
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  this.email.setMsg("Test txt msg");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  validateSend(this.fakeMailServer,strSubject,this.email.getHtmlMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws EmailException when bad addresses and attachments are used
 * @throws IOException if creating a temp file, URL or sending fails
 */
@Test public void testSend() throws EmailException, IOException {
  final EmailAttachment attachment=new EmailAttachment();
  File testFile=null;
  testFile=File.createTempFile("commons-email-testfile",".txt");
  testFile.deleteOnExit();
  this.getMailServer();
  String strSubject="Test HTML Send #1 Subject (w charset)";
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  attachment.setName("Test Attachment");
  attachment.setDescription("Test Attachment Desc");
  attachment.setPath(testFile.getAbsolutePath());
  this.email.attach(attachment);
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  final URL url=new URL(EmailConfiguration.TEST_URL);
  final String cid=this.email.embed(url,"Apache Logo");
  final String strHtmlMsg="<html>The Apache logo - <img src=\"cid:" + cid + "\"><html>";
  this.email.setHtmlMsg(strHtmlMsg);
  this.email.setTextMsg("Your email client does not support HTML emails");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  validateSend(this.fakeMailServer,strSubject,this.email.getHtmlMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
  validateSend(this.fakeMailServer,strSubject,attachment.getName(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
  this.getMailServer();
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  if (this.strTestUser != null && this.strTestPasswd != null) {
    this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  }
  strSubject="Test HTML Send #1 Subject (wo charset)";
  this.email.setSubject(strSubject);
  this.email.setTextMsg("Test message");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.ImageHtmlEmailTest </h4><pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSendHTMLAbsoluteLocalFile() throws Exception {
  Logger.getLogger(ImageHtmlEmail.class.getName()).setLevel(Level.FINEST);
  getMailServer();
  final String strSubject="Test HTML Send default with absolute local path";
  email=new MockImageHtmlEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.setFrom(strTestMailFrom);
  email.addTo(strTestMailTo);
  email.setSubject(strSubject);
  email.setDataSourceResolver(new DataSourceUrlResolver(TEST_IMAGE_DIR.toURI().toURL(),TEST_IS_LENIENT));
  final File file=File.createTempFile("emailtest",".tst");
  FileUtils.writeStringToFile(file,"just some silly data that we won't be able to display anyway");
  email.setHtmlMsg("<html><body><img src=\"" + file.getAbsolutePath() + "\"/></body></html>");
  email.send();
  fakeMailServer.stop();
  validateSend(fakeMailServer,strSubject,email.getHtmlMsg(),email.getFromAddress(),email.getToAddresses(),email.getCcAddresses(),email.getBccAddresses(),true);
}

</code></pre>

<br>
<pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSendHtmlUrl() throws Exception {
  Logger.getLogger(ImageHtmlEmail.class.getName()).setLevel(Level.FINEST);
  getMailServer();
  final String strSubject="Test HTML Send default with URL";
  email=new MockImageHtmlEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.setFrom(strTestMailFrom);
  email.addTo(strTestMailTo);
  email.setSubject(strSubject);
  email.setDataSourceResolver(new DataSourceUrlResolver(TEST_IMAGE_DIR.toURI().toURL(),TEST_IS_LENIENT));
  email.setHtmlMsg("<html><body><img src=\"http://www.apache.org/images/feather.gif\"/></body></html>");
  email.send();
  fakeMailServer.stop();
  validateSend(fakeMailServer,strSubject,email.getHtmlMsg(),email.getFromAddress(),email.getToAddresses(),email.getCcAddresses(),email.getBccAddresses(),true);
}

</code></pre>

<br>
<pre class="type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Invokes logging operations">Logger</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Invokes logging operations
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmail127() throws Exception {
  Logger.getLogger(ImageHtmlEmail.class.getName()).setLevel(Level.FINEST);
  getMailServer();
  final String strSubject="Test HTML Send default with URL";
  email=new MockImageHtmlEmailConcrete();
  email.setHostName(strTestMailServer);
  email.setSmtpPort(getMailServerPort());
  email.setFrom(strTestMailFrom);
  email.addTo(strTestMailTo);
  email.setSubject(strSubject);
  email.setDataSourceResolver(new DataSourceUrlResolver(TEST_IMAGE_DIR.toURI().toURL(),TEST_IS_LENIENT));
  email.setHtmlMsg("<html><body><img title=\"$\" src=\"http://www.apache.org/images/feather.gif\"/></body></html>");
  email.send();
  fakeMailServer.stop();
  validateSend(fakeMailServer,strSubject,email.getHtmlMsg(),email.getFromAddress(),email.getToAddresses(),email.getCcAddresses(),email.getBccAddresses(),true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.MultiPartEmailTest </h4><pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws MalformedURLException when a bad attachment URL is used
 * @throws EmailException when a bad address or attachment is used
 */
@Test public void testAttach2() throws MalformedURLException, EmailException {
  this.email.attach(new URL(this.strTestURL),"Test Attachment","Test Attachment Desc");
  this.email.attach(new URL(this.strTestURL),null,"Test Attachment Desc");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.SendWithAttachmentsTest </h4><pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws EmailException on an email error
 * @throws IOException when sending fails, or a bad URL is used
 */
@Test public void testSendNoAttachments() throws EmailException, IOException {
  this.getMailServer();
  final String strSubject="Test HTML Send #1 Subject (w charset)";
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  final URL url=new URL(EmailConfiguration.TEST_URL);
  final String cid=this.email.embed(url,"Apache Logo");
  final String strHtmlMsg="<html>The Apache logo - <img src=\"cid:" + cid + "\"><html>";
  this.email.setHtmlMsg(strHtmlMsg);
  this.email.setTextMsg("Your email client does not support HTML emails");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  validateSend(this.fakeMailServer,strSubject,this.email.getHtmlMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
}

</code></pre>

<br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws EmailException on an email error
 * @throws IOException when sending fails, or a bad URL is used
 */
@Test public void testSendWAttachments() throws EmailException, IOException {
  final EmailAttachment attachment=new EmailAttachment();
  File testFile=null;
  testFile=File.createTempFile("commons-email-testfile",".txt");
  this.getMailServer();
  final String strSubject="Test HTML Send #1 Subject (w charset)";
  this.email=new MockHtmlEmailConcrete();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  attachment.setName("Test Attachment - a>ä, o>ö, u>ü, au>äu");
  attachment.setDescription("Test Attachment Desc");
  attachment.setPath(testFile.getAbsolutePath());
  this.email.attach(attachment);
  this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  final String strHtmlMsg="<html>Test Message<html>";
  this.email.setHtmlMsg(strHtmlMsg);
  this.email.setTextMsg("Your email client does not support HTML emails");
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getTextMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
  validateSend(this.fakeMailServer,strSubject,this.email.getHtmlMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
  validateSend(this.fakeMailServer,strSubject,MimeUtility.encodeText(attachment.getName()),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.SimpleEmailTest </h4><pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * @throws EmailException when a bad address is set.
 * @throws IOException when sending fails
 * TODO Add code to test the popBeforeSmtp() settings
 */
@Test public void testSend() throws EmailException, IOException {
  this.getMailServer();
  this.email=new MockSimpleEmail();
  this.email.setHostName(this.strTestMailServer);
  this.email.setSmtpPort(this.getMailServerPort());
  this.email.setFrom(this.strTestMailFrom);
  this.email.addTo(this.strTestMailTo);
  if (this.strTestUser != null && this.strTestPasswd != null) {
    this.email.setAuthentication(this.strTestUser,this.strTestPasswd);
  }
  final String strSubject="Test Msg Subject";
  final String strMessage="Test Msg Body";
  this.email.setCharset(EmailConstants.ISO_8859_1);
  this.email.setSubject(strSubject);
  this.email.setMsg(strMessage);
  this.email.send();
  this.fakeMailServer.stop();
  validateSend(this.fakeMailServer,strSubject,this.email.getMsg(),this.email.getFromAddress(),this.email.getToAddresses(),this.email.getCcAddresses(),this.email.getBccAddresses(),true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.mail.resolver.DataSourceCompositeResolverTest </h4><pre class="type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=IOException.class) public void testResolvingFilesNonLenient() throws Exception {
  final DataSourceResolver dataSourceResolver=new DataSourceCompositeResolver(dataSourceResolvers,false);
  dataSourceResolver.resolve("./image/does-not-exist.gif");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
