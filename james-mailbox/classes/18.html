<h3 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.ElasticSearchIntegrationTest (41 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(40)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(40)</kbd></button>&nbsp;<button id="16"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('16')" data-toggle="tooltip" title="Is not executed with the test suite"><kbd id="tag-16"class="label-info"style="display: inline-block;font-size:7pt" >IgnoredMethod&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sortShouldOrderMessages() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsExactly(1L,2L,3L,5L,4L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sizeLessThanShouldReturnUidsOfMessageNotExceedingTheSpecifiedSize() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.sizeLessThan(5000L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,5L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sizeGreaterThanShouldReturnUidsOfMessageExceedingTheSpecifiedSize() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.sizeGreaterThan(10000L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateOnShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateOn("sentDate",new Date(1433224800000L),SearchQuery.DateResolution.Day));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(4L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void youShouldBeAbleToSpecifySeveralCriterionOnASingleQuery() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerExists("Precedence"));
  searchQuery.andCriteria(SearchQuery.modSeqGreaterThan(6L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateBeforeShouldReturnMessagesBeforeAGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateBefore(new Date(1391295600000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressShouldReturnUidHavingRightExpeditorWhenFromIsSpecified() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.address(SearchQuery.AddressType.From,"murari.ksr@gmail.com"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsRecentWhenUsedWithFlagRecent() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.RECENT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void bodyContainsShouldReturnUidOfMessageContainingTheApproximativeText() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.bodyContains("created summary"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,8L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsDraftWhenUsedWithFlagDraft() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.DRAFT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsRecentWhenUsedWithFlagRecent() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.RECENT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerContainsShouldReturnUidsOfMessageHavingThisHeaderWithTheSpecifiedValue() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerContains("Precedence","list"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,6L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void uidShouldreturnExistingUidsOnTheGivenRanges() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  SearchQuery.NumericRange[] numericRanges={new SearchQuery.NumericRange(2L,4L),new SearchQuery.NumericRange(6L,7L)};
  searchQuery.andCriteria(SearchQuery.uid(numericRanges));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,6L,7L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateBeforeShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateBefore("sentDate",new Date(1433109600000L),SearchQuery.DateResolution.Day));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsFlaggedWhenUsedWithFlagFlagged() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.FLAGGED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateAfterShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateAfter("sentDate",new Date(1433408400000L),SearchQuery.DateResolution.Second));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L,2L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressShouldReturnUidHavingRightRecipientWhenToIsSpecified() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.address(SearchQuery.AddressType.To,"root@listes.minet.net"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsSeenWhenUsedWithFlagSeen() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.SEEN));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsSeendWhenUsedWithFlagSeen() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.SEEN));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void flagIsSetShouldReturnUidsOfMessageContainingAGivenUserFlag() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet("Hello"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqGreaterThanShouldReturnUidsOfMessageHavingAGreaterModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqGreaterThan(7L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsAnsweredWhenUsedWithFlagAnswered() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.ANSWERED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqEqualsShouldReturnUidsOfMessageHavingAGivenModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqEquals(2L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void andShouldReturnResultsMatchingBothRequests() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.and(SearchQuery.headerExists("Precedence"),SearchQuery.modSeqGreaterThan(6L)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsFlaggedWhenUsedWithFlagFlagged() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.FLAGGED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsDraftWhenUsedWithFlagDraft() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.DRAFT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L);
}

</code></pre>

<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void flagIsUnSetShouldReturnUidsOfMessageNotContainingAGivenUserFlag() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet("Hello"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void userFlagsShouldBeMatchedExactly() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet("Hello bonjour"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailsContainsShouldIncludeMailHavingAttachmentsMatchingTheRequest() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.mailContains("root mailing list"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,6L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsDeletedWhenUsedWithFlagDeleted() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.DELETED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void allShouldReturnAllUids() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsDeletedWhenUsedWithFlagDeleted() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.DELETED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void revertSortingShouldReturnElementsInAReversedOrder() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsExactly(9L,8L,7L,6L,4L,5L,3L,2L,1L);
}

</code></pre>

<pre class="type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @SuppressWarnings("unchecked") public void setUp() throws Exception {
  initializeMailboxManager();
  session=storeMailboxManager.createSystemSession("benwa",LOGGER);
  storeMailboxManager.createMailbox(new MailboxPath("#private","benwa","INBOX"),session);
  StoreMessageManager<InMemoryId> messageManager=(StoreMessageManager<InMemoryId>)storeMailboxManager.getMailbox(new MailboxPath("#private","benwa","INBOX"),session);
  mailbox=messageManager.getMailboxEntity();
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/spamMail.eml"),new Date(1388617200000L),session,true,new Flags(Flags.Flag.DELETED));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/mail1.eml"),new Date(1391295600000L),session,true,new Flags(Flags.Flag.ANSWERED));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/mail2.eml"),new Date(1393714800000L),session,true,new Flags(Flags.Flag.DRAFT));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/mail3.eml"),new Date(1398981600000L),session,true,new Flags(Flags.Flag.RECENT));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/mail4.eml"),new Date(1396389600000L),session,true,new Flags(Flags.Flag.FLAGGED));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/pgpSignedMail.eml"),new Date(1401660000000L),session,true,new Flags(Flags.Flag.SEEN));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/htmlMail.eml"),new Date(1404252000000L),session,false,new Flags());
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/mail.eml"),new Date(1406930400000L),session,true,new Flags("Hello"));
  messageManager.appendMessage(ClassLoader.getSystemResourceAsStream("documents/frnog.eml"),new Date(1409608800000L),session,true,new Flags("Hello you"));
  embeddedElasticSearch.awaitForElasticSearch();
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateAfterShouldReturnMessagesAfterAGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateAfter(new Date(1404252000000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerExistsShouldReturnUidsOfMessageHavingThisHeader() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerExists("Precedence"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,8L,9L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateOnShouldReturnMessagesOfTheGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateOn(new Date(1393714800000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqLessThanShouldReturnUidsOfMessageHavingAGreaterModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqLessThan(3L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void bodyContainsShouldReturnUidOfMessageContainingTheGivenText() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.bodyContains("MAILET-94"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void notShouldReturnResultsThatDoNotMatchAQuery() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.not(SearchQuery.headerExists("Precedence")));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsAnsweredWhenUsedWithFlagAnswered() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.ANSWERED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
