<h3><span class=" glyphicon glyphicon-tag"/>&nbspConditionMatcher</h3><kbd>Verifies logic rules using matcher-style statements</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.james.mailbox.AbstractMailboxManagerTest </h4><pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToDeleteSubmailbox() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  getMailboxManager().createMailbox(inbox,session);
  MailboxPath inboxSubMailbox=new MailboxPath(inbox,"INBOX.Test");
  getMailboxManager().createMailbox(inboxSubMailbox,session);
  getMailboxManager().deleteMailbox(inboxSubMailbox,session);
  assertThat(getMailboxManager().mailboxExists(inbox,session)).isTrue();
  assertThat(getMailboxManager().mailboxExists(inboxSubMailbox,session)).isFalse();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldNotHaveTestSubmailbox() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  getMailboxManager().createMailbox(inbox,session);
  assertThat(getMailboxManager().mailboxExists(new MailboxPath(inbox,"INBOX.Test"),session)).isFalse();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToCreateTestSubmailbox() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  getMailboxManager().createMailbox(inbox,session);
  MailboxPath inboxSubMailbox=new MailboxPath(inbox,"INBOX.Test");
  getMailboxManager().createMailbox(inboxSubMailbox,session);
  assertThat(getMailboxManager().mailboxExists(inboxSubMailbox,session)).isTrue();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToCreateInbox() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  getMailboxManager().createMailbox(inbox,session);
  assertThat(getMailboxManager().mailboxExists(inbox,session)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user2ShouldBeAbleToCreateNestedFoldersWithoutTheirParents() throws BadCredentialsException, MailboxException {
  session=getMailboxManager().createSystemSession(USER_2,LoggerFactory.getLogger("Test"));
  MailboxPath nestedFolder=new MailboxPath(MailboxConstants.USER_NAMESPACE,USER_2,"INBOX.testfolder");
  getMailboxManager().createMailbox(nestedFolder,session);
  assertThat(getMailboxManager().mailboxExists(nestedFolder,session)).isTrue();
  getMailboxManager().getMailbox(MailboxPath.inbox(session),session).appendMessage(new ByteArrayInputStream("Subject: test\r\n\r\ntestmail".getBytes()),new Date(),session,false,new Flags());
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToDeleteInbox() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  getMailboxManager().createMailbox(inbox,session);
  MailboxPath inboxSubMailbox=new MailboxPath(inbox,"INBOX.Test");
  getMailboxManager().createMailbox(inboxSubMailbox,session);
  getMailboxManager().deleteMailbox(inbox,session);
  assertThat(getMailboxManager().mailboxExists(inbox,session)).isFalse();
  assertThat(getMailboxManager().mailboxExists(inboxSubMailbox,session)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user2ShouldBeAbleToCreateRootlessFolder() throws BadCredentialsException, MailboxException {
  session=getMailboxManager().createSystemSession(USER_2,LoggerFactory.getLogger("Test"));
  MailboxPath trash=new MailboxPath(MailboxConstants.USER_NAMESPACE,USER_2,"Trash");
  getMailboxManager().createMailbox(trash,session);
  assertThat(getMailboxManager().mailboxExists(trash,session)).isTrue();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldNotHaveAnInbox() throws UnsupportedEncodingException, MailboxException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  MailboxPath inbox=MailboxPath.inbox(session);
  assertThat(getMailboxManager().mailboxExists(inbox,session)).isFalse();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void createUser1SystemSessionShouldReturnValidSession() throws UnsupportedEncodingException, MailboxException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  assertThat(session.getUser().getUserName()).isEqualTo(USER_1);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void closingSessionShouldWork() throws BadCredentialsException, MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession(USER_1,LoggerFactory.getLogger("Mock"));
  getMailboxManager().startProcessingRequest(session);
  getMailboxManager().logout(session,false);
  getMailboxManager().endProcessingRequest(session);
  assertThat(session.isOpen()).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void listShouldReturnMailboxes() throws MailboxException, UnsupportedEncodingException {
  setMailboxManager(new MockMailboxManager(getMailboxManager()).getMockMailboxManager());
  session=getMailboxManager().createSystemSession("manager",LoggerFactory.getLogger("testList"));
  getMailboxManager().startProcessingRequest(session);
  assertThat(getMailboxManager().list(session)).hasSize(MockMailboxManager.EXPECTED_MAILBOXES_COUNT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.AbstractSubscriptionManagerTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToSubscribeTwoMailbox() throws SubscriptionException {
  manager.subscribe(session,MAILBOX1);
  manager.subscribe(session,MAILBOX2);
  assertThat(manager.subscriptions(session)).containsExactly(MAILBOX1,MAILBOX2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToSubscribeOneMailbox() throws SubscriptionException {
  manager.subscribe(session,MAILBOX1);
  assertThat(manager.subscriptions(session)).containsExactly(MAILBOX1);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldBeAbleToUnsubscribeOneMailbox() throws SubscriptionException {
  manager.subscribe(session,MAILBOX1);
  manager.subscribe(session,MAILBOX2);
  manager.unsubscribe(session,MAILBOX1);
  assertThat(manager.subscriptions(session)).containsExactly(MAILBOX2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void subscribeShouldBeIdempotent() throws SubscriptionException {
  manager.subscribe(session,MAILBOX1);
  manager.subscribe(session,MAILBOX1);
  assertThat(manager.subscriptions(session)).containsExactly(MAILBOX1);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void unsubscribeShouldBeIdempotent() throws SubscriptionException {
  manager.subscribe(session,MAILBOX1);
  manager.subscribe(session,MAILBOX2);
  manager.unsubscribe(session,MAILBOX1);
  manager.unsubscribe(session,MAILBOX1);
  assertThat(manager.subscriptions(session)).containsExactly(MAILBOX2);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void user1ShouldNotHaveAnySubscriptionByDefault() throws SubscriptionException {
  assertThat(manager.subscriptions(session)).isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.MailboxExceptionTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testMailboxExceptionCause(){
  MailboxException mbe=new MailboxException(EXCEPTION_MESSAGE,EXCEPTION_CAUSE);
  assertThat(mbe).hasMessage(EXCEPTION_MESSAGE).hasCauseExactlyInstanceOf(Exception.class);
  assertThat(mbe.getCause()).hasMessage(CAUSE_MESSAGE);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testMailboxExceptionMessage(){
  MailboxException mbe=new MailboxException(EXCEPTION_MESSAGE);
  assertThat(mbe).hasMessage(EXCEPTION_MESSAGE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.MailboxExpressionTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameWithNoExpressionShouldReturnBase() throws Exception {
  MailboxQuery expression=new MailboxQuery(BASE_PATH,"",'.');
  assertThat(expression.getCombinedName()).isEqualTo(BASE);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameOnBaseEndingWithDelimiterShouldIgnoreDelimiter() throws Exception {
  MailboxQuery expression=new MailboxQuery(new MailboxPath(null,null,BASE + '.'),PART,'.');
  assertThat(expression.getCombinedName()).isEqualTo(BASE + "." + PART);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameShouldIgnoreAllDelimiters() throws Exception {
  MailboxQuery expression=new MailboxQuery(new MailboxPath(null,null,BASE + '.'),'.' + PART,'.');
  assertThat(expression.getCombinedName()).isEqualTo(BASE + "." + PART);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameShouldContainBaseAndPart() throws Exception {
  MailboxQuery expression=new MailboxQuery(BASE_PATH,PART,'.');
  assertThat(expression.getCombinedName()).isEqualTo(BASE + "." + PART);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameOnPartStartingWithDelimiterShouldIgnoreDelimiter() throws Exception {
  MailboxQuery expression=new MailboxQuery(BASE_PATH,"." + PART,'.');
  assertThat(expression.getCombinedName()).isEqualTo(BASE + "." + PART);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void combinedNameOnNullShouldBeEmpty() throws Exception {
  MailboxQuery expression=new MailboxQuery(new MailboxPath(null,null,null),null,'.');
  assertThat(expression.getCombinedName()).isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.cassandra.CassandraTypeProviderTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getDefinedUserTypeShouldNotReturnNullNorFailWhenTypeIsDefined(){
  assertThat(cassandra.getTypesProvider().getDefinedUserType(CassandraTypesProvider.TYPE.MailboxBase)).isNotNull();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void initializeTypesShouldNotFailIfCalledTwice(){
  new CassandraTypesProvider(cassandra.getConf());
  assertThat(cassandra.getTypesProvider().getDefinedUserType(CassandraTypesProvider.TYPE.MailboxBase)).isNotNull();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void initializeTypesShouldCreateTheTypes(){
  deleteMailboxBaseType();
  CassandraTypesProvider cassandraTypesProviderTest=new CassandraTypesProvider(cassandra.getConf());
  assertThat(cassandraTypesProviderTest.getDefinedUserType(CassandraTypesProvider.TYPE.MailboxBase)).isNotNull();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.cassandra.mail.CassandraACLMapperTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modifyACLWhenStoredShouldReturnUpdatedACL() throws MailboxException {
  SimpleMailboxACL.SimpleMailboxACLEntryKey keyBob=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(keyBob,MailboxACL.EditMode.ADD,rights));
  SimpleMailboxACL.SimpleMailboxACLEntryKey keyAlice=new SimpleMailboxACL.SimpleMailboxACLEntryKey("alice",MailboxACL.NameType.user,false);
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(keyAlice,MailboxACL.EditMode.ADD,rights));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(new SimpleMailboxACL().union(keyBob,rights).union(keyAlice,rights));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void retrieveACLWhenNoACLStoredShouldReturnEmptyACL(){
  assertThat(cassandraACLMapper.getACL()).isEqualTo(SimpleMailboxACL.EMPTY);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void replaceForSingleKeyWithNullRightsWhenSingleKeyStoredShouldReturnEmptyACL() throws MailboxException {
  SimpleMailboxACL.SimpleMailboxACLEntryKey key=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.ADD,rights));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.REPLACE,null));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(SimpleMailboxACL.EMPTY);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addACLWhenNoneStoredShouldReturnUpdatedACL() throws Exception {
  SimpleMailboxACL.SimpleMailboxACLEntryKey key=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.ADD,rights));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(new SimpleMailboxACL().union(key,rights));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void retrieveACLWhenInvalidInBaseShouldReturnEmptyACL() throws Exception {
  cassandra.getConf().execute(insertInto(CassandraACLTable.TABLE_NAME).value(CassandraACLTable.ID,mailbox.getMailboxId().asUuid()).value(CassandraACLTable.ACL,"{\"entries\":{\"bob\":invalid}}").value(CassandraACLTable.VERSION,1));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(SimpleMailboxACL.EMPTY);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void removeWhenStoredShouldReturnUpdatedACL() throws MailboxException {
  SimpleMailboxACL.SimpleMailboxACLEntryKey key=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.ADD,rights));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.REMOVE,rights));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(SimpleMailboxACL.EMPTY);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void retrieveACLWhenPresentInBaseShouldReturnCorrespondingACL() throws Exception {
  cassandra.getConf().execute(insertInto(CassandraACLTable.TABLE_NAME).value(CassandraACLTable.ID,mailbox.getMailboxId().asUuid()).value(CassandraACLTable.ACL,"{\"entries\":{\"bob\":64}}").value(CassandraACLTable.VERSION,1));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(SimpleMailboxACL.EMPTY.union(new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false),new SimpleMailboxACL.Rfc4314Rights(SimpleMailboxACL.Rfc4314Rights.r_Read_RIGHT)));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void updateInvalidACLShouldBeBasedOnEmptyACL() throws Exception {
  cassandra.getConf().execute(insertInto(CassandraACLTable.TABLE_NAME).value(CassandraACLTable.ID,mailbox.getMailboxId().asUuid()).value(CassandraACLTable.ACL,"{\"entries\":{\"bob\":invalid}}").value(CassandraACLTable.VERSION,1));
  SimpleMailboxACL.SimpleMailboxACLEntryKey key=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.ADD,rights));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(new SimpleMailboxACL().union(key,rights));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void replaceWhenNotStoredShouldUpdateACLEntry() throws MailboxException {
  SimpleMailboxACL.SimpleMailboxACLEntryKey key=new SimpleMailboxACL.SimpleMailboxACLEntryKey("bob",MailboxACL.NameType.user,false);
  SimpleMailboxACL.Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights(new SimpleMailboxACL.SimpleMailboxACLRight('r'));
  cassandraACLMapper.updateACL(new SimpleMailboxACL.SimpleMailboxACLCommand(key,MailboxACL.EditMode.REPLACE,rights));
  assertThat(cassandraACLMapper.getACL()).isEqualTo(new SimpleMailboxACL().union(key,rights));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.cassandra.mail.utils.SimpleMailboxACLJsonConverterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyACLShouldBeWellDeSerialized() throws Exception {
  assertThat(SimpleMailboxACLJsonConverter.toACL("{\"entries\":{}}")).isEqualTo(SimpleMailboxACL.EMPTY);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void singleUserEntryACLShouldBeWellDeSerialized() throws Exception {
  assertThat(SimpleMailboxACLJsonConverter.toACL("{\"entries\":{\"-user\":2040}}")).isEqualTo(new ACLMapBuilder().addSingleUserEntryToMap().buildAsACL());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void singleGroupEntryACLShouldBeWellDeSerialized() throws Exception {
  assertThat(SimpleMailboxACLJsonConverter.toACL("{\"entries\":{\"-$group\":2032}}")).isEqualTo(new ACLMapBuilder().addSingleGroupEntryToMap().buildAsACL());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void multipleEntriesACLShouldBeWellDeSerialized() throws Exception {
  assertThat(SimpleMailboxACLJsonConverter.toACL("{\"entries\":{\"-user\":2040,\"-$group\":2032}}")).isEqualTo(new ACLMapBuilder().addSingleUserEntryToMap().addSingleGroupEntryToMap().buildAsACL());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.cassandra.quota.CassandraCurrentQuotaManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getCurrentMessageCountShouldReturnZeroByDefault() throws Exception {
  assertThat(currentQuotaManager.getCurrentMessageCount(QUOTA_ROOT)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void increaseShouldWork() throws Exception {
  currentQuotaManager.increase(QUOTA_ROOT,2,2000);
  assertThat(currentQuotaManager.getCurrentStorage(QUOTA_ROOT)).isEqualTo(2000);
  assertThat(currentQuotaManager.getCurrentMessageCount(QUOTA_ROOT)).isEqualTo(2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void decreaseShouldWork() throws Exception {
  currentQuotaManager.increase(QUOTA_ROOT,2,2000);
  currentQuotaManager.decrease(QUOTA_ROOT,1,1000);
  assertThat(currentQuotaManager.getCurrentStorage(QUOTA_ROOT)).isEqualTo(1000);
  assertThat(currentQuotaManager.getCurrentMessageCount(QUOTA_ROOT)).isEqualTo(1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getCurrentStorageShouldReturnZeroByDefault() throws Exception {
  assertThat(currentQuotaManager.getCurrentStorage(QUOTA_ROOT)).isEqualTo(0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.ElasticSearchIndexerTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteAllWithIdStarting() throws Exception {
  String messageId="1:2";
  String content="{\"message\": \"trying out Elasticsearch\"}";
  testee.indexMessage(messageId,content);
  embeddedElasticSearch.awaitForElasticSearch();
  testee.deleteAllWithIdStarting("1:");
  embeddedElasticSearch.awaitForElasticSearch();
  try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchAllQuery()).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(0);
  }
 }

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void indexMessageShouldWork() throws Exception {
  String messageId="1";
  String content="{\"message\": \"trying out Elasticsearch\"}";
  testee.indexMessage(messageId,content);
  embeddedElasticSearch.awaitForElasticSearch();
  try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchQuery("message","trying")).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(1);
  }
 }

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void updateMessage() throws Exception {
  String messageId="1";
  String content="{\"message\": \"trying out Elasticsearch\",\"field\":\"Should be unchanged\"}";
  testee.indexMessage(messageId,content);
  embeddedElasticSearch.awaitForElasticSearch();
  testee.updateMessage(messageId,"{\"message\": \"mastering out Elasticsearch\"}");
  embeddedElasticSearch.awaitForElasticSearch();
  try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchQuery("message","mastering")).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(1);
  }
   try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchQuery("field","unchanged")).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(1);
  }
 }

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteAllWithIdStartingWhenMultipleMessages() throws Exception {
  String messageId="1:2";
  String content="{\"message\": \"trying out Elasticsearch\"}";
  testee.indexMessage(messageId,content);
  embeddedElasticSearch.awaitForElasticSearch();
  String messageId2="1:2";
  String content2="{\"message\": \"trying out Elasticsearch 2\"}";
  testee.indexMessage(messageId2,content2);
  embeddedElasticSearch.awaitForElasticSearch();
  String messageId3="2:3";
  String content3="{\"message\": \"trying out Elasticsearch 3\"}";
  testee.indexMessage(messageId3,content3);
  embeddedElasticSearch.awaitForElasticSearch();
  testee.deleteAllWithIdStarting("1:");
  embeddedElasticSearch.awaitForElasticSearch();
  try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchAllQuery()).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(1);
  }
 }

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deleteMessage() throws Exception {
  String messageId="1:2";
  String content="{\"message\": \"trying out Elasticsearch\"}";
  testee.indexMessage(messageId,content);
  embeddedElasticSearch.awaitForElasticSearch();
  testee.deleteMessage(messageId);
  embeddedElasticSearch.awaitForElasticSearch();
  try (Client client=node.client()){
    SearchResponse searchResponse=client.prepareSearch(ElasticSearchIndexer.MAILBOX_INDEX).setTypes(ElasticSearchIndexer.MESSAGE_TYPE).setQuery(QueryBuilders.matchAllQuery()).get();
    assertThat(searchResponse.getHits().getTotalHits()).isEqualTo(0);
  }
 }

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.ElasticSearchIntegrationTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sortShouldOrderMessages() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsExactly(1L,2L,3L,5L,4L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sizeLessThanShouldReturnUidsOfMessageNotExceedingTheSpecifiedSize() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.sizeLessThan(5000L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,5L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sizeGreaterThanShouldReturnUidsOfMessageExceedingTheSpecifiedSize() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.sizeGreaterThan(10000L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateOnShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateOn("sentDate",new Date(1433224800000L),SearchQuery.DateResolution.Day));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(4L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void youShouldBeAbleToSpecifySeveralCriterionOnASingleQuery() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerExists("Precedence"));
  searchQuery.andCriteria(SearchQuery.modSeqGreaterThan(6L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateBeforeShouldReturnMessagesBeforeAGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateBefore(new Date(1391295600000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressShouldReturnUidHavingRightExpeditorWhenFromIsSpecified() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.address(SearchQuery.AddressType.From,"murari.ksr@gmail.com"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsRecentWhenUsedWithFlagRecent() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.RECENT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void bodyContainsShouldReturnUidOfMessageContainingTheApproximativeText() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.bodyContains("created summary"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,8L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsDraftWhenUsedWithFlagDraft() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.DRAFT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsRecentWhenUsedWithFlagRecent() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.RECENT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerContainsShouldReturnUidsOfMessageHavingThisHeaderWithTheSpecifiedValue() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerContains("Precedence","list"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,6L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void uidShouldreturnExistingUidsOnTheGivenRanges() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  SearchQuery.NumericRange[] numericRanges={new SearchQuery.NumericRange(2L,4L),new SearchQuery.NumericRange(6L,7L)};
  searchQuery.andCriteria(SearchQuery.uid(numericRanges));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,6L,7L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateBeforeShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateBefore("sentDate",new Date(1433109600000L),SearchQuery.DateResolution.Day));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsFlaggedWhenUsedWithFlagFlagged() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.FLAGGED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerDateAfterShouldWork() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerDateAfter("sentDate",new Date(1433408400000L),SearchQuery.DateResolution.Second));
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L,2L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressShouldReturnUidHavingRightRecipientWhenToIsSpecified() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.address(SearchQuery.AddressType.To,"root@listes.minet.net"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsSeenWhenUsedWithFlagSeen() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.SEEN));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsSeendWhenUsedWithFlagSeen() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.SEEN));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void flagIsSetShouldReturnUidsOfMessageContainingAGivenUserFlag() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet("Hello"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqGreaterThanShouldReturnUidsOfMessageHavingAGreaterModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqGreaterThan(7L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsAnsweredWhenUsedWithFlagAnswered() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.ANSWERED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqEqualsShouldReturnUidsOfMessageHavingAGivenModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqEquals(2L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void andShouldReturnResultsMatchingBothRequests() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.and(SearchQuery.headerExists("Precedence"),SearchQuery.modSeqGreaterThan(6L)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(6L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsFlaggedWhenUsedWithFlagFlagged() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.FLAGGED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsDraftWhenUsedWithFlagDraft() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.DRAFT));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void flagIsUnSetShouldReturnUidsOfMessageNotContainingAGivenUserFlag() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet("Hello"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("This test will fail as Memory mailbox has no support for user defined flags. This test will return two message instead of one => mapping issue") @Test public void userFlagsShouldBeMatchedExactly() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet("Hello bonjour"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(8L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailsContainsShouldIncludeMailHavingAttachmentsMatchingTheRequest() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.mailContains("root mailing list"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,6L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsDeletedWhenUsedWithFlagDeleted() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.DELETED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void allShouldReturnAllUids() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsUnSetShouldReturnUidOfMessageNotMarkedAsDeletedWhenUsedWithFlagDeleted() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsUnSet(Flags.Flag.DELETED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L,3L,4L,5L,6L,7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void revertSortingShouldReturnElementsInAReversedOrder() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.all());
  searchQuery.setSorts(Lists.newArrayList(new SearchQuery.Sort(SearchQuery.Sort.SortClause.Arrival,true)));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsExactly(9L,8L,7L,6L,4L,5L,3L,2L,1L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateAfterShouldReturnMessagesAfterAGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateAfter(new Date(1404252000000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerExistsShouldReturnUidsOfMessageHavingThisHeader() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.headerExists("Precedence"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L,4L,5L,6L,8L,9L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void internalDateOnShouldReturnMessagesOfTheGivenDate() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.internalDateOn(new Date(1393714800000L),SearchQuery.DateResolution.Day));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(3L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void modSeqLessThanShouldReturnUidsOfMessageHavingAGreaterModSeq() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.modSeqLessThan(3L));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(1L,2L,3L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void bodyContainsShouldReturnUidOfMessageContainingTheGivenText() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.bodyContains("MAILET-94"));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(5L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void notShouldReturnResultsThatDoNotMatchAQuery() throws Exception {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.not(SearchQuery.headerExists("Precedence")));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(7L);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagIsSetShouldReturnUidOfMessageMarkedAsAnsweredWhenUsedWithFlagAnswered() throws MailboxException {
  SearchQuery searchQuery=new SearchQuery();
  searchQuery.andCriteria(SearchQuery.flagIsSet(Flags.Flag.ANSWERED));
  assertThat(elasticSearchListeningMessageSearchIndex.search(session,mailbox,searchQuery)).containsOnly(2L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.json.HeaderCollectionTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sanitizeDateStringHeaderValueShouldNotChangeAcceptableString(){
  assertThat(HeaderCollection.builder().sanitizeDateStringHeaderValue("Thu, 18 Jun 2015 04:09:35 +0200")).isEqualTo("Thu, 18 Jun 2015 04:09:35 +0200");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nonStandardDatesShouldBeRetreived(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Date","Thu, 4 Jun 2015 06:08:41 +0200 (UTC)")).build();
  assertThat(DATE_TIME_FORMATTER.format(headerCollection.getSentDate().get())).isEqualTo("2015/06/04 06:08:41");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mixingAddressWithDisplayNamesWithOthersShouldBeAllowed(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("To","Christophe Hamerling <chamerling@linagora.com>, gcrosmarie@linagora.com")).build();
  assertThat(headerCollection.getToAddressSet()).containsOnly(new EMailer("Christophe Hamerling","chamerling@linagora.com"),new EMailer("gcrosmarie@linagora.com","gcrosmarie@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressesOfTwoFieldsHavingTheSameNameShouldBeMerged(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("To","btellier@linagora.com")).add(new FieldImpl("To","btellier@linagora.com, benwa@minet.net")).build();
  assertThat(headerCollection.getToAddressSet()).containsOnly(new EMailer("btellier@linagora.com","btellier@linagora.com"),new EMailer("benwa@minet.net","benwa@minet.net"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void subjectsShouldBeWellRetrieved(){
  String subject="A fantastic ElasticSearch module will be available soon for JAMES";
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Subject",subject)).build();
  assertThat(headerCollection.getSubjectSet()).containsOnly("A fantastic ElasticSearch module will be available soon for JAMES");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleValueAddressHeaderShouldBeAddedToTheAddressSet(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("To","btellier@linagora.com")).build();
  assertThat(headerCollection.getToAddressSet()).containsOnly(new EMailer("btellier@linagora.com","btellier@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void displayNamesShouldBeRetreivedOnCc(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Cc","Christophe Hamerling <chamerling@linagora.com>")).build();
  assertThat(headerCollection.getCcAddressSet()).containsOnly(new EMailer("Christophe Hamerling","chamerling@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void addressWithTwoDisplayNamesOnTheSameFieldShouldBeRetreived(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("From","Christophe Hamerling <chamerling@linagora.com>, Graham CROSMARIE <gcrosmarie@linagora.com>")).build();
  assertThat(headerCollection.getFromAddressSet()).containsOnly(new EMailer("Christophe Hamerling","chamerling@linagora.com"),new EMailer("Graham CROSMARIE","gcrosmarie@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void comaSeparatedAddressShouldBeBothAddedToTheAddressSet(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("To","btellier@linagora.com, benwa@minet.net")).build();
  assertThat(headerCollection.getToAddressSet()).containsOnly(new EMailer("btellier@linagora.com","btellier@linagora.com"),new EMailer("benwa@minet.net","benwa@minet.net"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void headerContaingNoAddressShouldBeConsideredBothAsNameAndAddress(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Bcc","Not an address")).build();
  assertThat(headerCollection.getBccAddressSet()).containsOnly(new EMailer("Not an address","Not an address"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void displayNamesShouldBeRetreived(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("To","Christophe Hamerling <chamerling@linagora.com>")).build();
  assertThat(headerCollection.getToAddressSet()).containsOnly(new EMailer("Christophe Hamerling","chamerling@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void dateShouldBeRetreived(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Date","Thu, 4 Jun 2015 06:08:41 +0200")).build();
  assertThat(DATE_TIME_FORMATTER.format(headerCollection.getSentDate().get())).isEqualTo("2015/06/04 06:08:41");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void unclosedAddressSubpartShouldBeWellHandled(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Bcc","Mickey <tricky@mouse.com")).build();
  assertThat(headerCollection.getBccAddressSet()).containsOnly(new EMailer("Mickey","tricky@mouse.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sanitizeDateStringHeaderValueShouldRemoveUTCPart(){
  assertThat(HeaderCollection.builder().sanitizeDateStringHeaderValue("Thu, 18 Jun 2015 04:09:35 +0200  (UTC)  ")).isEqualTo("Thu, 18 Jun 2015 04:09:35 +0200");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void notComaSeparatedAddressSubpartShouldBeWellHandled(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Bcc","Mickey <tricky@mouse.com> Miny<hello@polo.com>")).build();
  assertThat(headerCollection.getBccAddressSet()).containsOnly(new EMailer("Mickey","tricky@mouse.com"),new EMailer("Miny","hello@polo.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void displayNamesShouldBeRetreivedOnBcc(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Bcc","Christophe Hamerling <chamerling@linagora.com>")).build();
  assertThat(headerCollection.getBccAddressSet()).containsOnly(new EMailer("Christophe Hamerling","chamerling@linagora.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sanitizeDateStringHeaderValueShouldNotChangeEmptyString(){
  assertThat(HeaderCollection.builder().sanitizeDateStringHeaderValue("")).isEqualTo("");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void notSeparatedAddressSubpartShouldBeWellHandled1(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Bcc","Mickey <tricky@mouse.com>Miny<hello@polo.com>")).build();
  assertThat(headerCollection.getBccAddressSet()).containsOnly(new EMailer("Mickey","tricky@mouse.com"),new EMailer("Miny","hello@polo.com"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void sanitizeDateStringHeaderValueShouldRemoveCESTPart(){
  assertThat(HeaderCollection.builder().sanitizeDateStringHeaderValue("Thu, 18 Jun 2015 04:09:35 +0200 (CEST)")).isEqualTo("Thu, 18 Jun 2015 04:09:35 +0200");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void dateShouldBeAbsentOnInvalidHeader(){
  HeaderCollection headerCollection=HeaderCollection.builder().add(new FieldImpl("Date","Not a date")).build();
  assertThat(headerCollection.getSentDate().isPresent()).isFalse();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.query.DateResolutionFormaterTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void calculateUpperDateShouldReturnDateUpToTheNextDayUsingDayUnit() throws ParseException {
  assertThat(ISO_OFFSET_DATE_TIME.format(DateResolutionFormater.computeUpperDate(ZonedDateTime.parse(dateString,ISO_OFFSET_DATE_TIME),SearchQuery.DateResolution.Day))).isEqualTo("2014-01-03T00:00:00Z");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void calculateUpperDateShouldReturnDateUpToTheNextMinuteUsingMinuteUnit() throws ParseException {
  assertThat(ISO_OFFSET_DATE_TIME.format(DateResolutionFormater.computeUpperDate(ZonedDateTime.parse(dateString,ISO_OFFSET_DATE_TIME),SearchQuery.DateResolution.Minute))).isEqualTo("2014-01-02T15:16:00Z");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void calculateLowerDateShouldReturnDateUpToThePreviousDayUsingDayUnit() throws ParseException {
  assertThat(ISO_OFFSET_DATE_TIME.format(DateResolutionFormater.computeLowerDate(ZonedDateTime.parse(dateString,ISO_OFFSET_DATE_TIME),SearchQuery.DateResolution.Day))).isEqualTo("2014-01-02T00:00:00Z");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void calculateLowerDateShouldReturnDateUpToThePreviousMinuteUsingMinuteUnit() throws ParseException {
  assertThat(ISO_OFFSET_DATE_TIME.format(DateResolutionFormater.computeLowerDate(ZonedDateTime.parse(dateString,ISO_OFFSET_DATE_TIME),SearchQuery.DateResolution.Minute))).isEqualTo("2014-01-02T15:15:00Z");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.elasticsearch.query.FilteredQueryCollectorTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void aggregationBetweenQueryAndFilterShouldWork() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"match_all\":{}}");
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"term\":{\"field\":\"value\"}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void aggregationBetweenQueryAndFilterShouldWorkOnNor() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must_not\":{\"match_all\":{}}}}");
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must_not\":{\"term\":{\"field\":\"value\"}}}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAggregationShouldWork() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must\":[{\"term\":{\"field\":\"value\"}},{\"term\":{\"field\":\"value\"}}]}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAloneShouldBeWellCollectedOnOr() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"match_all\":{}}");
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyStreamShouldBeCollectedAsEmptyFilteredQueryRepresentationOnNor() throws Exception {
  List<FilteredQueryRepresentation> emptyFilteredQueryRepresentationList=Lists.newArrayList();
  FilteredQueryRepresentation collectionResult=emptyFilteredQueryRepresentationList.stream().collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void aggregationBetweenQueryAndFilterShouldWorkOnOr() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"match_all\":{}}");
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"term\":{\"field\":\"value\"}}");
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyStreamShouldBeCollectedAsEmptyFilteredQueryRepresentation() throws Exception {
  List<FilteredQueryRepresentation> emptyFilteredQueryRepresentationList=Lists.newArrayList();
  FilteredQueryRepresentation collectionResult=emptyFilteredQueryRepresentationList.stream().collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAloneShouldBeWellCollected() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"match_all\":{}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAloneShouldBeWellCollected() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"term\":{\"field\":\"value\"}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAggregationShouldWorkOnOr() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery()),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"should\":[{\"match_all\":{}},{\"match_all\":{}}]}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAloneShouldBeWellCollectedOnNor() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must_not\":{\"term\":{\"field\":\"value\"}}}}");
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyStreamShouldBeCollectedAsEmptyFilteredQueryRepresentationOnOr() throws Exception {
  List<FilteredQueryRepresentation> emptyFilteredQueryRepresentationList=Lists.newArrayList();
  FilteredQueryRepresentation collectionResult=emptyFilteredQueryRepresentationList.stream().collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAloneShouldBeWellCollectedOnNor() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must_not\":{\"match_all\":{}}}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAggregationShouldWorkOnNor() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery()),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must\":{\"bool\":{\"must_not\":{\"match_all\":{}}}},\"must_not\":{\"match_all\":{}}}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void queryAggregationShouldWork() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromQuery(matchAllQuery()),FilteredQueryRepresentation.fromQuery(matchAllQuery())).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.AND));
  assertThat(collectionResult.getFilter()).isEmpty();
  assertThat(collectionResult.getQuery()).isPresent();
  assertThatJson(collectionResult.getQuery().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must\":[{\"match_all\":{}},{\"match_all\":{}}]}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAggregationShouldWorkOnNor() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.NOR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"must\":{\"bool\":{\"must_not\":{\"term\":{\"field\":\"value\"}}}},\"must_not\":{\"term\":{\"field\":\"value\"}}}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAloneShouldBeWellCollectedOnOr() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"term\":{\"field\":\"value\"}}");
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void filterAggregationShouldWorkOnOr() throws Exception {
  FilteredQueryRepresentation collectionResult=Stream.of(FilteredQueryRepresentation.fromFilter(termFilter("field","value")),FilteredQueryRepresentation.fromFilter(termFilter("field","value"))).collect(FilteredQueryCollector.collector(SearchQuery.Conjunction.OR));
  assertThat(collectionResult.getFilter()).isPresent();
  assertThat(collectionResult.getQuery()).isEmpty();
  assertThatJson(collectionResult.getFilter().get().toXContent(jsonBuilder(),QueryBuilder.EMPTY_PARAMS).string()).isEqualTo("{\"bool\":{\"should\":[{\"term\":{\"field\":\"value\"}},{\"term\":{\"field\":\"value\"}}]}}");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.inmemory.InMemoryMailboxManagerTest </h4><pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void searchShouldNotReturnResultsFromOtherUsers() throws Exception {
  getMailboxManager().createMailbox(new MailboxPath("#namespace",USER_2,"Other"),session);
  getMailboxManager().createMailbox(MailboxPath.inbox(session),session);
  List<MailboxMetaData> metaDatas=getMailboxManager().search(new MailboxQuery(new MailboxPath("#private",USER_1,""),"*",'.'),session);
  assertThat(metaDatas).hasSize(1);
  assertThat(metaDatas.get(0).getPath()).isEqualTo(MailboxPath.inbox(session));
}

</code></pre>

<br>
<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void searchShouldNotReturnResultsFromOtherNamespaces() throws Exception {
  getMailboxManager().createMailbox(new MailboxPath("#namespace",USER_1,"Other"),session);
  getMailboxManager().createMailbox(MailboxPath.inbox(session),session);
  List<MailboxMetaData> metaDatas=getMailboxManager().search(new MailboxQuery(new MailboxPath("#private",USER_1,""),"*",'.'),session);
  assertThat(metaDatas).hasSize(1);
  assertThat(metaDatas.get(0).getPath()).isEqualTo(MailboxPath.inbox(session));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.inmemory.InMemoryMailboxMapperTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPatchLikeBasedOnAStringShouldReturnMailboxesStartingWithThisString() throws MailboxException {
  assertThat(mapper.findMailboxWithPathLike(new MailboxPath("#private","user1","IN%"))).containsOnly(user1Inbox,user1SubMailbox1,user1SubMailbox2);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPatchLikeBasedOnInboxShouldReturnItsChildren() throws MailboxException {
  assertThat(mapper.findMailboxWithPathLike(new MailboxPath("#private","user1","INBOX.%"))).containsOnly(user1SubMailbox1,user1SubMailbox2);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPatchLikeOnAllMaillboxesShouldReturnMailboxesBelongingToThisNamespaceAndUser() throws MailboxException {
  assertThat(mapper.findMailboxWithPathLike(new MailboxPath("#private","user1","%"))).containsOnly(user1Inbox,user1SubMailbox1,user1SubMailbox2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.inmemory.quota.InMemoryCurrentQuotaManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getCurrentStorageShouldReturnRecalculateSizeWhenEntryIsNotInitialized() throws Exception {
  when(mockedCurrentQuotaCalculator.recalculateCurrentQuotas(QUOTA_ROOT,null)).thenAnswer(new Answer<CurrentQuotaCalculator.CurrentQuotas>(){
    @Override public CurrentQuotaCalculator.CurrentQuotas answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return new CurrentQuotaCalculator.CurrentQuotas(18,512);
    }
  }
);
  assertThat(testee.getCurrentStorage(QUOTA_ROOT)).isEqualTo(512);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getCurrentMessageCountShouldReturnRecalculateMessageCountWhenEntryIsNotInitialized() throws Exception {
  when(mockedCurrentQuotaCalculator.recalculateCurrentQuotas(QUOTA_ROOT,null)).thenAnswer(new Answer<CurrentQuotaCalculator.CurrentQuotas>(){
    @Override public CurrentQuotaCalculator.CurrentQuotas answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return new CurrentQuotaCalculator.CurrentQuotas(18,512);
    }
  }
);
  assertThat(testee.getCurrentMessageCount(QUOTA_ROOT)).isEqualTo(18);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getCurrentStorageShouldReRetrieveStoredQuotasWhenCalculateOnUnknownQuotaIsTrue() throws Exception {
  when(mockedCurrentQuotaCalculator.recalculateCurrentQuotas(QUOTA_ROOT,null)).thenAnswer(new Answer<CurrentQuotaCalculator.CurrentQuotas>(){
    @Override public CurrentQuotaCalculator.CurrentQuotas answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return new CurrentQuotaCalculator.CurrentQuotas(18,512);
    }
  }
);
  testee.increase(QUOTA_ROOT,10,100);
  assertThat(testee.getCurrentMessageCount(QUOTA_ROOT)).isEqualTo(28);
  assertThat(testee.getCurrentStorage(QUOTA_ROOT)).isEqualTo(612);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.model.MailboxQueryTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldMatchFolderWithRegexSpecialCharacterWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder^$!)(%3",'.').isExpressionMatch("folder^$!)(123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldNotMatchFolderWithAnExpendedName(){
  assertThat(new MailboxQuery(path,"folder",':').isExpressionMatch("folder123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldNotMatchFolderWithAnExpendedNameWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder",'.').isExpressionMatch("folder123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchItsValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder*",'.').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldNotMatchChildFolderWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder%3",'.').isExpressionMatch("folder.123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldNotMatchChildFolderWithDotSeparator(){
  assertThat(new MailboxQuery(path,"",'.').isExpressionMatch(".123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void regexInjectionShouldNotBePossibleUsingEndOfQuote(){
  assertThat(new MailboxQuery(path,"\\Efo.",':').isExpressionMatch("\\Efol")).isFalse();
  assertThat(new MailboxQuery(path,"\\Efo.",':').isExpressionMatch("\\Efo.")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchChildFolder(){
  assertThat(new MailboxQuery(path,"folder*",':').isExpressionMatch("folder:123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldNotMatchItsValue(){
  assertThat(new MailboxQuery(path,"folder%3",':').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAloneMailboxQueryShouldMatchAnyValue(){
  assertThat(new MailboxQuery(path,"*",':').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchChildFolderWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder*",'.').isExpressionMatch("folder.123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldNotMatchChildFolder(){
  assertThat(new MailboxQuery(path,"folder%3",':').isExpressionMatch("folder:123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAloneMailboxQueryShouldNotMatchChildWithDotSeparator(){
  assertThat(new MailboxQuery(path,"%",'.').isExpressionMatch("folder.123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldMatchFolderWithAnExpendedNameWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder%3",'.').isExpressionMatch("folder123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldMatchItsValue(){
  assertThat(new MailboxQuery(path,"",':').isExpressionMatch("")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldMatchItsValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"",'.').isExpressionMatch("")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldMatchFolderWithRegexSpecialCharacter(){
  assertThat(new MailboxQuery(path,"folder^$!)(%3",':').isExpressionMatch("folder^$!)(123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldNotMatchItsValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder%3",'.').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAloneMailboxQueryShouldMatchAnyValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"*",'.').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchFolderWithAnExpendedNameWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder*",'.').isExpressionMatch("folder123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAreNotEscaped(){
  assertThat(new MailboxQuery(path,"folder\\*",':').isExpressionMatch("folder\\123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchItsValue(){
  assertThat(new MailboxQuery(path,"folder*",':').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldNotMatchChildFolder(){
  assertThat(new MailboxQuery(path,"folder",':').isExpressionMatch("folder:123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nullMailboxQueryShouldNotMathAnything(){
  assertThat(new MailboxQuery(path,null,':').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAloneMailboxQueryShouldMatchAnyValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"%",'.').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardQueryShouldMatchFolderWithAnExpendedName(){
  assertThat(new MailboxQuery(path,"folder*",':').isExpressionMatch("folder123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldNotMatchFolderWithAnOtherName(){
  assertThat(new MailboxQuery(path,"",':').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAloneMailboxQueryShouldNotMatchChild(){
  assertThat(new MailboxQuery(path,"%",':').isExpressionMatch("folder:123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAloneMailboxQueryShouldMatchAnyValue(){
  assertThat(new MailboxQuery(path,"%",':').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardWithOtherCharactersQueryShouldMatchFolderWithAnExpendedName(){
  assertThat(new MailboxQuery(path,"folder%3",':').isExpressionMatch("folder123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nullMailboxQueryShouldNotMathAnythingWithDotSeparator(){
  assertThat(new MailboxQuery(path,null,'.').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void regexInjectionShouldNotBePossibleUsingEndOfQuoteWithDotSeparator(){
  assertThat(new MailboxQuery(path,"\\Efo?",'.').isExpressionMatch("\\Efol")).isFalse();
  assertThat(new MailboxQuery(path,"\\Efo?",'.').isExpressionMatch("\\Efo?")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAreNotEscapedWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder\\*",'.').isExpressionMatch("folder\\123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldMatchItsValueWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder",'.').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldNotMatchFolderWithAnOtherNameWithDotSeparator(){
  assertThat(new MailboxQuery(path,"",'.').isExpressionMatch("folder")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldNotMatchChildFolderWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder",'.').isExpressionMatch("folder.123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxQueryShouldNotMatchChildFolder(){
  assertThat(new MailboxQuery(path,"",':').isExpressionMatch(":123")).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAreNotEscapedWithDotSeparator(){
  assertThat(new MailboxQuery(path,"folder\\%",'.').isExpressionMatch("folder\\123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void regexInjectionShouldNotBePossibleUsingBeginOfQuoteWithDotSeparator(){
  assertThat(new MailboxQuery(path,"\\Qfo?",'.').isExpressionMatch("\\Qfol")).isFalse();
  assertThat(new MailboxQuery(path,"\\Qfo?",'.').isExpressionMatch("\\Qfo?")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAloneMailboxQueryShouldMatchChildWithDotSeparator(){
  assertThat(new MailboxQuery(path,"*",'.').isExpressionMatch("folder.123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void freeWildcardAloneMailboxQueryShouldMatchChild(){
  assertThat(new MailboxQuery(path,"*",':').isExpressionMatch("folder:123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void localWildcardAreNotEscaped(){
  assertThat(new MailboxQuery(path,"folder\\%",':').isExpressionMatch("folder\\123")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMailboxQueryShouldMatchItsValue(){
  assertThat(new MailboxQuery(path,"folder",':').isExpressionMatch("folder")).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void regexInjectionShouldNotBePossibleUsingBeginOfQuote(){
  assertThat(new MailboxQuery(path,"\\Qfo.",':').isExpressionMatch("\\Qfol")).isFalse();
  assertThat(new MailboxQuery(path,"\\Qfo.",':').isExpressionMatch("\\Qfo.")).isTrue();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.model.MessageRangeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testTwoSeqUidToRange(){
  List<MessageRange> ranges=MessageRange.toRanges(Arrays.asList(1L,2L));
  assertThat(ranges).containsExactly(MessageRange.range(1,2));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void splitUnboundedRangeShouldReturnTheSameRange(){
  MessageRange from=MessageRange.from(1);
  List<MessageRange> ranges=from.split(2);
  assertThat(ranges).containsExactly(MessageRange.from(1));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void splitASingletonRangeShouldReturnASingleRange(){
  MessageRange one=MessageRange.one(1);
  List<MessageRange> ranges=one.split(2);
  assertThat(ranges).containsExactly(MessageRange.one(1));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void givenASingleNumberToRangeShouldReturnOneRange(){
  List<MessageRange> ranges=MessageRange.toRanges(Arrays.asList(1L));
  assertThat(ranges).containsExactly(MessageRange.one(1));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void splitTenElementsRangeShouldReturn4Ranges(){
  MessageRange range=MessageRange.range(1,10);
  List<MessageRange> ranges=range.split(3);
  assertThat(ranges).containsExactly(MessageRange.range(1,3),MessageRange.range(4,6),MessageRange.range(7,9),MessageRange.one(10));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void givenSomeNumbersToRangeShouldReturnThreeRanges(){
  List<MessageRange> ranges=MessageRange.toRanges(Arrays.asList(1L,2L,3L,5L,6L,9L));
  assertThat(ranges).containsExactly(MessageRange.range(1,3),MessageRange.range(5,6),MessageRange.one(9));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.model.Rfc4314RightsTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void containsShouldReturnFalseWhenNotMatching() throws UnsupportedRightException {
  assertThat(aeik.contains('x')).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializeShouldReturnStringWhenAeiklprstwx() throws UnsupportedRightException {
  assertThat(full.serialize()).isEqualTo("aeiklprstwx");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void unionShouldReturnOriginWhenAppliedWithEmpty() throws UnsupportedRightException {
  assertThat(lprs.union(none)).isEqualTo(lprs);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializeShouldReturnStringWhenLprs() throws UnsupportedRightException {
  assertThat(lprs.serialize()).isEqualTo("lprs");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void unionShouldReturnFullWhenChaining() throws UnsupportedRightException {
  assertThat(aeik.union(lprs).union(twx)).isEqualTo(full);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializeShouldReturnStringWhenTwx() throws UnsupportedRightException {
  assertThat(twx.serialize()).isEqualTo("twx");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void rightsShouldContainsSpecificRightsWhenAEIK(){
  assertThat(aeik).containsOnly(Rfc4314Rights.a_Administer_RIGHT,Rfc4314Rights.e_PerformExpunge_RIGHT,Rfc4314Rights.i_Insert_RIGHT,Rfc4314Rights.k_CreateMailbox_RIGHT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getValueShouldReturnSigmaWhenTwx() throws UnsupportedRightException {
  assertThat(twx.getValue()).isEqualTo(Rfc4314Rights.t_DeleteMessages_MASK | Rfc4314Rights.w_Write_MASK | Rfc4314Rights.x_DeleteMailbox_MASK);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializeShouldReturnEmptyStringWhenEmpty() throws UnsupportedRightException {
  assertThat(none.serialize()).isEmpty();
}

</code></pre>

<br>
<pre class="type-4 type-1 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void unionShouldThrowWhenAppliedWithNull() throws UnsupportedRightException {
  assertThat(lprs.union(null)).isEqualTo(lprs);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void newInstanceShouldHaveNoRightsWhenEmptyString() throws UnsupportedRightException {
  Rfc4314Rights rights=new SimpleMailboxACL.Rfc4314Rights("");
  assertThat(rights).isEmpty();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void rightsShouldContainsSpecificRightsWhenTWX(){
  assertThat(twx).containsOnly(Rfc4314Rights.t_DeleteMessages_RIGHT,Rfc4314Rights.w_Write_RIGHT,Rfc4314Rights.x_DeleteMailbox_RIGHT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void noneRightsShouldContainsNoRights(){
  assertThat(none).isEmpty();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getValueShouldReturnSigmaWhenLprs() throws UnsupportedRightException {
  assertThat(lprs.getValue()).isEqualTo(Rfc4314Rights.l_Lookup_MASK | Rfc4314Rights.p_Post_MASK | Rfc4314Rights.s_WriteSeenFlag_MASK| Rfc4314Rights.r_Read_MASK);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void containsShouldReturnTrueWhenMatching() throws UnsupportedRightException {
  assertThat(aeik.contains('e')).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void fullRightsShouldContainsAllRights(){
  assertThat(full).containsOnly(Rfc4314Rights.a_Administer_RIGHT,Rfc4314Rights.e_PerformExpunge_RIGHT,Rfc4314Rights.i_Insert_RIGHT,Rfc4314Rights.k_CreateMailbox_RIGHT,Rfc4314Rights.l_Lookup_RIGHT,Rfc4314Rights.p_Post_RIGHT,Rfc4314Rights.r_Read_RIGHT,Rfc4314Rights.s_WriteSeenFlag_RIGHT,Rfc4314Rights.t_DeleteMessages_RIGHT,Rfc4314Rights.w_Write_RIGHT,Rfc4314Rights.x_DeleteMailbox_RIGHT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void exceptShouldRemoveAllWhenChaining() throws UnsupportedRightException {
  assertThat(full.except(aeik).except(lprs).except(twx)).isEqualTo(none);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getValueShouldReturnEmptyWhenNone() throws UnsupportedRightException {
  assertThat(new SimpleMailboxACL.Rfc4314Rights("").getValue()).isEqualTo(Rfc4314Rights.EMPTY_MASK);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializeShouldReturnStringWhenAeik() throws UnsupportedRightException {
  assertThat(aeik.serialize()).isEqualTo("aeik");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void exceptShouldReturnOriginWhenExceptingEmpty() throws UnsupportedRightException {
  assertThat(aeik.except(none)).isEqualTo(aeik);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void exceptShouldReturnOriginWhenExceptingNonExistent() throws UnsupportedRightException {
  assertThat(aeik.except(lprs)).isEqualTo(aeik);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getValueShouldReturnSigmaWhenAeik() throws UnsupportedRightException {
  assertThat(aeik.getValue()).isEqualTo(Rfc4314Rights.a_Administer_MASK | Rfc4314Rights.e_PerformExpunge_MASK | Rfc4314Rights.i_Insert_MASK| Rfc4314Rights.k_CreateMailbox_MASK);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void exceptShouldReturnOriginWhenExceptingNull() throws UnsupportedRightException {
  assertThat(aeik.except(null)).isEqualTo(aeik);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void rightsShouldContainsSpecificRightsWhenLPRS(){
  assertThat(lprs).containsOnly(Rfc4314Rights.l_Lookup_RIGHT,Rfc4314Rights.p_Post_RIGHT,Rfc4314Rights.r_Read_RIGHT,Rfc4314Rights.s_WriteSeenFlag_RIGHT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.FlagsUpdateCalculatorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsShouldBeReplacedWhenReplaceIsTrueAndValueIsTrue(){
  FlagsUpdateCalculator flagsUpdateCalculator=new FlagsUpdateCalculator(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.FLAGGED).add("userflag").build(),MessageManager.FlagsUpdateMode.REPLACE);
  assertThat(flagsUpdateCalculator.buildNewFlags(new FlagsBuilder().add(Flags.Flag.RECENT,Flags.Flag.FLAGGED).build())).isEqualTo(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.FLAGGED).add("userflag").build());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsShouldBeRemovedWhenReplaceIsFalseAndValueIsFalse(){
  FlagsUpdateCalculator flagsUpdateCalculator=new FlagsUpdateCalculator(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.FLAGGED).add("userflag").build(),MessageManager.FlagsUpdateMode.REMOVE);
  assertThat(flagsUpdateCalculator.buildNewFlags(new FlagsBuilder().add(Flags.Flag.RECENT,Flags.Flag.FLAGGED).build())).isEqualTo(new Flags(Flags.Flag.RECENT));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsShouldBeAddedWhenReplaceIsFalseAndValueIsTrue(){
  FlagsUpdateCalculator flagsUpdateCalculator=new FlagsUpdateCalculator(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.FLAGGED).add("userflag").build(),MessageManager.FlagsUpdateMode.ADD);
  assertThat(flagsUpdateCalculator.buildNewFlags(new FlagsBuilder().add(Flags.Flag.RECENT,Flags.Flag.FLAGGED).build())).isEqualTo(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.FLAGGED,Flags.Flag.RECENT).add("userflag").build());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.GroupFolderResolverTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isGroupFolderShouldReturnFalseWhenMailboxNamespaceEqualsToOtherUsersNamespace(){
  String otherUsersSpace="other";
  SimpleMailboxSession mailboxSession=new SimpleMailboxSession(1,"username","password",log,localePreferences,sharedSpaces,otherUsersSpace,pathSeparator,SessionType.User);
  GroupFolderResolver testee=new GroupFolderResolver(mailboxSession);
  SimpleMailbox<TestId> mailbox=new SimpleMailbox<TestId>(new MailboxPath("other","user","name"),UID_VALIDITY);
  assertThat(testee.isGroupFolder(mailbox)).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isGroupFolderShouldReturnFalseWhenMailboxNamespaceEqualsToUserNamespace(){
  SimpleMailboxSession mailboxSession=new SimpleMailboxSession(1,"username","password",log,localePreferences,sharedSpaces,null,pathSeparator,SessionType.User);
  GroupFolderResolver testee=new GroupFolderResolver(mailboxSession);
  SimpleMailbox<TestId> mailbox=new SimpleMailbox<TestId>(new MailboxPath(MailboxConstants.USER_NAMESPACE,"user","name"),UID_VALIDITY);
  assertThat(testee.isGroupFolder(mailbox)).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isGroupFolderShouldReturnTrueWhenMailboxNamespaceDoesntEqualToOtherUsersNamespace(){
  String otherUsersSpace="other";
  SimpleMailboxSession mailboxSession=new SimpleMailboxSession(1,"username","password",log,localePreferences,sharedSpaces,otherUsersSpace,pathSeparator,SessionType.User);
  GroupFolderResolver testee=new GroupFolderResolver(mailboxSession);
  SimpleMailbox<TestId> mailbox=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  assertThat(testee.isGroupFolder(mailbox)).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isGroupFolderShouldReturnFalseWhenMailboxNamespaceIsNull(){
  SimpleMailboxSession mailboxSession=new SimpleMailboxSession(1,"username","password",log,localePreferences,sharedSpaces,null,pathSeparator,SessionType.User);
  GroupFolderResolver testee=new GroupFolderResolver(mailboxSession);
  SimpleMailbox<TestId> mailbox=new SimpleMailbox<TestId>(new MailboxPath(null,"user","name"),UID_VALIDITY);
  assertThat(testee.isGroupFolder(mailbox)).isFalse();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.StoreMailboxManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnTrueWithIdenticalMailboxesWithNullUser(){
  MailboxPath path=new MailboxPath("namespace",null,"name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(path,UID_VALIDITY))).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnTrueWithMailboxWithSameNamespaceAndUserWithNullUser(){
  MailboxPath path=new MailboxPath("namespace",null,"name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace",null,"name2"),UID_VALIDITY))).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnTrueWithIdenticalMailboxes(){
  MailboxPath path=new MailboxPath("namespace","user","name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(path,UID_VALIDITY))).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnFalseIfNamespaceAreDifferentWithNullUser(){
  MailboxPath path=new MailboxPath("namespace",null,"name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace2",null,"name"),UID_VALIDITY))).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnTrueWithMailboxWithSameNamespaceAndUser(){
  MailboxPath path=new MailboxPath("namespace","user","name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name2"),UID_VALIDITY))).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnFalseWithDifferentUser(){
  MailboxPath path=new MailboxPath("namespace","user","name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace","user2","name"),UID_VALIDITY))).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnFalseWithOneOfTheUserNull(){
  MailboxPath path=new MailboxPath("namespace",null,"name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY))).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnFalseWithDifferentNamespace(){
  MailboxPath path=new MailboxPath("namespace","user","name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath("namespace2","user","name"),UID_VALIDITY))).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void belongsToNamespaceAndUserShouldReturnTrueWithIdenticalMailboxesWithNullNamespace(){
  MailboxPath path=new MailboxPath(null,"user","name");
  assertThat(storeMailboxManager.belongsToNamespaceAndUser(path,new SimpleMailbox<TestId>(new MailboxPath(null,"user","name"),UID_VALIDITY))).isTrue();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.StoreMessageResultIteratorTest </h4><pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testBatching(){
  MessageRange range=MessageRange.range(1,10);
  int batchSize=3;
  StoreMessageResultIterator<TestId> it=new StoreMessageResultIterator<TestId>(new MessageMapper<TestId>(){
    @Override public void endRequest(){
      throw new UnsupportedOperationException();
    }
    @Override public <T>T execute(    Transaction<T> transaction) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public Iterator<Message<TestId>> findInMailbox(    Mailbox<TestId> mailbox,    MessageRange set,    org.apache.james.mailbox.store.mail.MessageMapper.FetchType type,    int limit) throws MailboxException {
      long start=set.getUidFrom();
      long end=set.getUidTo();
      long calcEnd=start + limit;
      if (calcEnd > end) {
        calcEnd=end + 1;
      }
      List<Message<TestId>> messages=new ArrayList<Message<TestId>>();
      long i=start;
      while (i < calcEnd) {
        long uid=i;
        SimpleMessage<TestId> m=new SimpleMessage<TestId>(null,0,0,new SharedByteArrayInputStream("".getBytes()),new Flags(),new PropertyBuilder(),TestId.of(1L));
        m.setUid(uid);
        messages.add(m);
        i++;
      }
      return messages.iterator();
    }
    @Override public Map<Long,MessageMetaData> expungeMarkedForDeletionInMailbox(    Mailbox<TestId> mailbox,    MessageRange set) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public long countMessagesInMailbox(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public long countUnseenMessagesInMailbox(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public void delete(    Mailbox<TestId> mailbox,    Message<TestId> message) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public Long findFirstUnseenMessageUid(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public List<Long> findRecentMessageUidsInMailbox(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public MessageMetaData add(    Mailbox<TestId> mailbox,    Message<TestId> message) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public Iterator<UpdatedFlags> updateFlags(    Mailbox<TestId> mailbox,    FlagsUpdateCalculator calculator,    MessageRange set) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public MessageMetaData copy(    Mailbox<TestId> mailbox,    Message<TestId> original) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public long getLastUid(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public long getHighestModSeq(    Mailbox<TestId> mailbox) throws MailboxException {
      throw new UnsupportedOperationException();
    }
    @Override public MessageMetaData move(    Mailbox<TestId> mailbox,    Message<TestId> original) throws MailboxException {
      throw new UnsupportedOperationException();
    }
  }
,null,range,batchSize,new FetchGroup(){
    @Override public Set<PartContentDescriptor> getPartContentDescriptors(){
      return null;
    }
    @Override public int content(){
      return FetchGroup.MINIMAL;
    }
  }
);
  assertThat(it).extracting(new Extractor<MessageResult,Long>(){
    @Override public Long extract(    MessageResult input){
      return input.getUid();
    }
  }
).containsExactly(1l,2l,3l,4l,5l,6l,7l,8l,9l,10l);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.extractor.DefaultTextExtractorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/Text.txt");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"text/plain","Text.txt").getTextualContent()).isEqualTo("This is some awesome text text.\n\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textMicrosoftWorldTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/writter.docx");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.openxmlformats-officedocument.wordprocessingml.document","writter.docx").getTextualContent()).isNull();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.AbstractMailboxMapperTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPathLikeWithChildRegexShouldRetrieveChildren() throws MailboxException {
  saveAll();
  MailboxPath regexPath=new MailboxPath(benwaWorkPath.getNamespace(),benwaWorkPath.getUser(),benwaWorkPath.getName() + WILDCARD);
  assertThat(mailboxMapper.findMailboxWithPathLike(regexPath)).containsOnly(benwaWorkMailbox,benwaWorkTodoMailbox,benwaWorkDoneMailbox);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void hasChildrenShouldNotBeAcrossUsersAndNamespace() throws MailboxException {
  saveAll();
  assertThat(mailboxMapper.hasChildren(bobInboxMailbox,'.')).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void hasChildrenWithNullUserShouldReturnTrueWhenChildrenExists() throws MailboxException {
  saveAll();
  assertThat(mailboxMapper.hasChildren(esnDevGroupInboxMailbox,DELIMITER)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPathLikeWithNullUserWithRegexShouldRetrieveCorrespondingMailbox() throws MailboxException {
  saveAll();
  MailboxPath regexPath=new MailboxPath(esnDevGroupInboxPath.getNamespace(),esnDevGroupInboxPath.getUser(),WILDCARD + "X");
  assertThat(mailboxMapper.findMailboxWithPathLike(regexPath)).contains(esnDevGroupInboxMailbox);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void saveWithNullUserShouldPersistTheMailbox() throws MailboxException {
  mailboxMapper.save(esnDevGroupInboxMailbox);
  MailboxAssert.assertThat(mailboxMapper.findMailboxByPath(esnDevGroupInboxPath)).isEqualTo(esnDevGroupInboxMailbox);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPathLikeShouldBeLimitedToUserAndNamespace() throws MailboxException {
  saveAll();
  MailboxPath mailboxPathQuery=new MailboxPath(bobInboxMailbox.getNamespace(),bobInboxMailbox.getUser(),"IN" + WILDCARD);
  assertThat(mailboxMapper.findMailboxWithPathLike(mailboxPathQuery)).containsOnly(bobInboxMailbox);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void saveShouldPersistTheMailbox() throws MailboxException {
  mailboxMapper.save(benwaInboxMailbox);
  MailboxAssert.assertThat(mailboxMapper.findMailboxByPath(benwaInboxPath)).isEqualTo(benwaInboxMailbox);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPathLikeWithRegexShouldRetrieveCorrespondingMailbox() throws MailboxException {
  saveAll();
  MailboxPath regexPath=new MailboxPath(benwaInboxPath.getNamespace(),benwaInboxPath.getUser(),WILDCARD + "X");
  assertThat(mailboxMapper.findMailboxWithPathLike(regexPath)).containsOnly(benwaInboxMailbox);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void hasChildrenWithNullUserShouldReturnFalseWhenNoChildrenExists() throws MailboxException {
  saveAll();
  assertThat(mailboxMapper.hasChildren(esnDevGroupHublinMailbox,DELIMITER)).isFalse();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void findMailboxWithPathLikeWithNullUserWithChildRegexShouldRetrieveChildren() throws MailboxException {
  saveAll();
  MailboxPath regexPath=new MailboxPath(obmTeamGroupInboxPath.getNamespace(),obmTeamGroupInboxPath.getUser(),obmTeamGroupInboxPath.getName() + WILDCARD);
  assertThat(mailboxMapper.findMailboxWithPathLike(regexPath)).contains(obmTeamGroupInboxMailbox,obmTeamGroupOPushMailbox,obmTeamGroupRoundCubeMailbox);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void listShouldRetrieveAllMailbox() throws MailboxException {
  saveAll();
  List<Mailbox<Id>> mailboxes=mailboxMapper.list();
  assertThat(mailboxes).contains(benwaInboxMailbox,benwaWorkMailbox,benwaWorkTodoMailbox,benwaPersoMailbox,benwaWorkDoneMailbox,bobInboxMailbox,esnDevGroupInboxMailbox,esnDevGroupHublinMailbox,esnDevGroupJamesMailbox,obmTeamGroupInboxMailbox,obmTeamGroupOPushMailbox,obmTeamGroupRoundCubeMailbox);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void hasChildrenShouldReturnFalseWhenNoChildrenExists() throws MailboxException {
  saveAll();
  assertThat(mailboxMapper.hasChildren(benwaWorkTodoMailbox,DELIMITER)).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void hasChildrenShouldReturnTrueWhenChildrenExists() throws MailboxException {
  saveAll();
  assertThat(mailboxMapper.hasChildren(benwaInboxMailbox,DELIMITER)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findMailboxWithPathLikeShouldEscapeMailboxName() throws MailboxException {
  saveAll();
  MailboxPath regexPath=new MailboxPath(benwaInboxPath.getNamespace(),benwaInboxPath.getUser(),"INB?X");
  assertThat(mailboxMapper.findMailboxWithPathLike(regexPath)).isEmpty();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.AbstractMessageMapperTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void expungeShouldReturnCorrectMetadataWithRangeFrom() throws MailboxException, IOException {
  saveMessages();
  MetadataMapAssert.assertThat(markThenPerformExpunge(MessageRange.from(message3.getUid()))).hasSize(1).containsMetadataForMessages(message4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxUnSeenCountShouldBeDecrementedAfterAMessageIsMarkedUnSeen() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyShouldIncrementMessageCount() throws MailboxException, IOException {
  saveMessages();
  messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.countMessagesInMailbox(benwaInboxMailbox)).isEqualTo(6);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsReplacementShouldReturnAnUpdatedFlagHighlightingTheReplacement() throws MailboxException {
  saveMessages();
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.FLAGGED),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()))).containsOnly(new UpdatedFlags(message1.getUid(),modSeq + 1,new Flags(),new Flags(Flags.Flag.FLAGGED)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void updateFlagsWithRangeFromShouldAffectMessagesContainedInThisRange() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.from(message3.getUid()))).hasSize(3);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagesCanBeRetrievedInMailboxWithRangeTypeOne() throws MailboxException, IOException {
  saveMessages();
  MessageMapper.FetchType fetchType=MessageMapper.FetchType.Full;
  int limit=10;
  MessageAssert.assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),fetchType,limit).next()).isEqualTo(message1,fetchType);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeFromContainingAHole() throws MailboxException, IOException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message4);
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.from(message3.getUid()),MessageMapper.FetchType.Full,LIMIT);
  assertThat(retrievedMessageIterator).containsOnly(message3,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeRange() throws MailboxException, IOException {
  saveMessages();
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.range(message1.getUid(),message4.getUid()),MessageMapper.FetchType.Full,LIMIT);
  assertThat(retrievedMessageIterator).containsOnly(message1,message2,message3,message4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copiedRecentMessageShouldBeMarkedAsRecent() throws MailboxException {
  message6.setFlags(new Flags(Flags.Flag.RECENT));
  MessageMetaData metaData=messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(metaData.getUid()),MessageMapper.FetchType.Metadata,LIMIT).next().isRecent()).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagesShouldBeSavedWithTheirUserFlags() throws Exception {
  Message<Id> message=new SimpleMessage<Id>(benwaInboxMailbox,message1);
  messageMapper.add(benwaInboxMailbox,message);
  MessageAssert.assertThat(retrieveMessageFromStorage(message)).hasFlags(new Flags(USER_FLAG));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeAll() throws MailboxException, IOException {
  saveMessages();
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message1,message2,message3,message4,message5);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagePropertiesShouldBeStoredWhenDuplicateEntries() throws Exception {
  PropertyBuilder propBuilder=new PropertyBuilder();
  propBuilder.setProperty(StandardNames.MIME_CONTENT_LANGUAGE_SPACE,StandardNames.MIME_CONTENT_LANGUAGE_NAME,"us");
  propBuilder.setProperty(StandardNames.MIME_CONTENT_LANGUAGE_SPACE,StandardNames.MIME_CONTENT_LANGUAGE_NAME,"fr");
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStoredWhenDuplicateEntries \n\nBody\n.\n",BODY_START,propBuilder);
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getProperties()).containsOnlyElementsOf(propBuilder.toProperties());
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copiedMessageShouldBeMarkedAsRecent() throws MailboxException {
  MessageMetaData metaData=messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(metaData.getUid()),MessageMapper.FetchType.Metadata,LIMIT).next().isRecent()).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeFrom() throws MailboxException, IOException {
  saveMessages();
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.from(message3.getUid()),MessageMapper.FetchType.Full,LIMIT);
  assertThat(retrievedMessageIterator).containsOnly(message3,message4,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsRemovalShouldUpdateStoredMessageFlags() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new FlagsBuilder().add(Flags.Flag.FLAGGED,Flags.Flag.SEEN).build(),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REMOVE),MessageRange.one(message1.getUid()));
  MessageAssert.assertThat(retrieveMessageFromStorage(message1)).hasFlags(new Flags(Flags.Flag.FLAGGED));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void expungeMarkedForDeletionInMailboxShouldReturnEmptyResultOnEmptyMailbox() throws MailboxException, IOException {
  assertThat(messageMapper.expungeMarkedForDeletionInMailbox(benwaInboxMailbox,MessageRange.all())).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void userFlagsShouldBeSupported() throws Exception {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(USER_FLAG),FlagsUpdateMode.ADD),MessageRange.one(message1.getUid()));
  MessageAssert.assertThat(retrieveMessageFromStorage(message1)).hasFlags(new Flags(USER_FLAG));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findRecentUidsInMailboxShouldReturnEmptyListWhenNoMessagesMarkedAsRecentArePresentInMailbox() throws MailboxException {
  assertThat(messageMapper.findRecentMessageUidsInMailbox(benwaInboxMailbox)).isEmpty();
}

</code></pre>

<br>
<pre class="type-1 type-7 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void retrievingMessagesWithALimitShouldLimitTheNumberOfMessages() throws MailboxException {
  int limit=2;
  saveMessages();
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,limit)).hasSize(2);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textualLineCountShouldBeWellStored() throws Exception {
  long textualLineCount=48L;
  PropertyBuilder propBuilder=new PropertyBuilder();
  propBuilder.setTextualLineCount(textualLineCount);
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStoredWhenDuplicateEntries \n\nBody\n.\n",BODY_START,propBuilder);
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getTextualLineCount()).isEqualTo(textualLineCount);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyShouldCreateAMessageInDestination() throws MailboxException, IOException {
  saveMessages();
  Message<Id> message7=new SimpleMessage<Id>(benwaInboxMailbox,message6);
  messageMapper.copy(benwaInboxMailbox,message7);
  message7.setModSeq(messageMapper.getHighestModSeq(benwaInboxMailbox));
  MessageAssert.assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message7.getUid()),MessageMapper.FetchType.Full,LIMIT).next()).isEqualTo(message7,MessageMapper.FetchType.Full);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void expungeMarkedForDeletionInMailboxShouldReturnEmptyResultWhenNoMessageInMailboxIsDeleted() throws MailboxException, IOException {
  saveMessages();
  assertThat(messageMapper.expungeMarkedForDeletionInMailbox(benwaInboxMailbox,MessageRange.all())).isEmpty();
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message1,message2,message3,message4,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deletedMessagesShouldBeRemovedFromStorage() throws MailboxException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message1);
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),MessageMapper.FetchType.Metadata,LIMIT)).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeRangeContainingAHole() throws MailboxException, IOException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message3);
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.range(message1.getUid(),message4.getUid()),MessageMapper.FetchType.Full,LIMIT);
  assertThat(retrievedMessageIterator).containsOnly(message1,message2,message4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void messagesCanBeRetrievedInMailboxWithRangeTypeAllContainingHole() throws MailboxException, IOException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message1);
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT);
  assertThat(retrievedMessageIterator).containsOnly(message2,message3,message4,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyShouldIncrementModSeq() throws MailboxException, IOException {
  saveMessages();
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.getHighestModSeq(benwaInboxMailbox)).isGreaterThan(modSeq);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagesRetrievedUsingFetchTypeHeaderShouldHaveHeaderDataLoaded() throws MailboxException, IOException {
  saveMessages();
  MessageMapper.FetchType fetchType=MessageMapper.FetchType.Headers;
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),fetchType,LIMIT);
  MessageAssert.assertThat(retrievedMessageIterator.next()).isEqualTo(message1,fetchType);
  assertThat(retrievedMessageIterator).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsReplacementShouldReplaceStoredMessageFlags() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.FLAGGED),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  MessageAssert.assertThat(retrieveMessageFromStorage(message1)).hasFlags(new Flags(Flags.Flag.FLAGGED));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findFirstUnseenMessageUidShouldReturnNullWhenNoUnseenMessagesCanBeFound() throws MailboxException {
  assertThat(messageMapper.findFirstUnseenMessageUid(benwaInboxMailbox)).isNull();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxShouldNotHaveUnseenMessages() throws MailboxException {
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void insertingAMessageShouldIncrementLastUid() throws MailboxException {
  messageMapper.add(benwaInboxMailbox,message1);
  long uid=messageMapper.getLastUid(benwaInboxMailbox);
  assertThat(uid).isGreaterThan(0);
  messageMapper.add(benwaInboxMailbox,message2);
  assertThat(messageMapper.getLastUid(benwaInboxMailbox)).isGreaterThan(uid);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void deletingUnExistingMessageShouldHaveNoSideEffect() throws MailboxException, IOException {
  saveMessages();
  message6.setUid(messageMapper.getLastUid(benwaInboxMailbox) + 1);
  messageMapper.delete(benwaInboxMailbox,message6);
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message1,message2,message3,message4,message5);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void subTypeShouldBeWellStored() throws Exception {
  String subType="text";
  PropertyBuilder propBuilder=new PropertyBuilder();
  propBuilder.setSubType(subType);
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStoredWhenDuplicateEntries \n\nBody\n.\n",BODY_START,propBuilder);
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getSubType()).isEqualTo(subType);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsAdditionShouldReturnAnUpdatedFlagHighlightingTheAddition() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.FLAGGED),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.ADD),MessageRange.one(message1.getUid()))).containsOnly(new UpdatedFlags(message1.getUid(),modSeq + 1,new Flags(Flags.Flag.FLAGGED),new FlagsBuilder().add(Flags.Flag.SEEN,Flags.Flag.FLAGGED).build()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void expungeShouldModifyUnderlyingStorageWithRangeAll() throws MailboxException, IOException {
  saveMessages();
  markThenPerformExpunge(MessageRange.all());
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message2,message3,message5);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void updateFlagsWithRangeAllRangeShouldAffectAllMessages() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.all())).hasSize(5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxUnSeenCountShouldBeDecrementedAfterAMessageIsMarkedSeen() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid())).hasNext();
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsAdditionShouldUpdateStoredMessageFlags() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.FLAGGED),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.ADD),MessageRange.one(message1.getUid()));
  MessageAssert.assertThat(retrieveMessageFromStorage(message1)).hasFlags(new FlagsBuilder().add(Flags.Flag.SEEN,Flags.Flag.FLAGGED).build());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void expungeShouldReturnCorrectMetadataWithRange() throws MailboxException, IOException {
  saveMessages();
  MetadataMapAssert.assertThat(markThenPerformExpunge(MessageRange.range(message3.getUid(),message5.getUid()))).hasSize(1).containsMetadataForMessages(message4);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMailboxShouldHaveZeroMessageCount() throws MailboxException {
  assertThat(messageMapper.countMessagesInMailbox(benwaInboxMailbox)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getLastUidShouldReturn0OnEmptyMailbox() throws MailboxException {
  assertThat(messageMapper.getLastUid(benwaInboxMailbox)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxCountShouldBeDecrementedAfterAMessageDelete() throws MailboxException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message1);
  assertThat(messageMapper.countMessagesInMailbox(benwaInboxMailbox)).isEqualTo(4);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void expungeShouldReturnCorrectMetadataWithRangeAll() throws MailboxException, IOException {
  saveMessages();
  MetadataMapAssert.assertThat(markThenPerformExpunge(MessageRange.all())).hasSize(2).containsMetadataForMessages(message1,message4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void flagsRemovalShouldReturnAnUpdatedFlagHighlightingTheRemoval() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new FlagsBuilder().add(Flags.Flag.FLAGGED,Flags.Flag.SEEN).build(),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REMOVE),MessageRange.one(message1.getUid()))).containsOnly(new UpdatedFlags(message1.getUid(),modSeq + 1,new FlagsBuilder().add(Flags.Flag.SEEN,Flags.Flag.FLAGGED).build(),new Flags(Flags.Flag.FLAGGED)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getHighestMoseqShouldBeEqualToZeroOnEmptyMailbox() throws MailboxException {
  assertThat(messageMapper.getHighestModSeq(benwaInboxMailbox)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findRecentUidsInMailboxShouldReturnListOfMessagesHoldingFlagsRecent() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.RECENT),FlagsUpdateMode.REPLACE),MessageRange.one(message2.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.RECENT),FlagsUpdateMode.REPLACE),MessageRange.one(message4.getUid()));
  messageMapper.updateFlags(benwaWorkMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.RECENT),FlagsUpdateMode.REPLACE),MessageRange.one(message6.getUid()));
  assertThat(messageMapper.findRecentMessageUidsInMailbox(benwaInboxMailbox)).containsOnly(message2.getUid(),message4.getUid());
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyOfUnSeenMessageShouldIncrementUnSeenMessageCount() throws MailboxException, IOException {
  saveMessages();
  messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(6);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxContainingMessagesShouldHaveTheGoodMessageCount() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.countMessagesInMailbox(benwaInboxMailbox)).isEqualTo(5);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void expungeShouldReturnCorrectMetadataWithRangeOne() throws MailboxException, IOException {
  saveMessages();
  MetadataMapAssert.assertThat(markThenPerformExpunge(MessageRange.one(message1.getUid()))).hasSize(1).containsMetadataForMessages(message1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void noMessageShouldBeRetrievedInEmptyMailbox() throws MailboxException {
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),MessageMapper.FetchType.Metadata,LIMIT)).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxUnSeenCountShouldBeDecrementedAfterAMessageDelete() throws MailboxException {
  saveMessages();
  messageMapper.delete(benwaInboxMailbox,message1);
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(4);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findFirstUnseenMessageUidShouldReturnUid2WhenUid2isSeen() throws MailboxException {
  saveMessages();
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.one(message1.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.one(message3.getUid()));
  messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.one(message5.getUid()));
  assertThat(messageMapper.findFirstUnseenMessageUid(benwaInboxMailbox)).isEqualTo(message2.getUid());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void expungeShouldModifyUnderlyingStorageWithRangeFrom() throws MailboxException, IOException {
  saveMessages();
  markThenPerformExpunge(MessageRange.from(message3.getUid()));
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message1,message2,message3,message5);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void updateFlagsOnRangeShouldAffectMessagesContainedInThisRange() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(Flags.Flag.SEEN),FlagsUpdateMode.REPLACE),MessageRange.range(message1.getUid(),message3.getUid()))).hasSize(3);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void expungeShouldModifyUnderlyingStorageWithRangeOne() throws MailboxException, IOException {
  saveMessages();
  markThenPerformExpunge(MessageRange.one(message1.getUid()));
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message4,message2,message3,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void insertingAMessageShouldIncrementModSeq() throws MailboxException {
  messageMapper.add(benwaInboxMailbox,message1);
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  assertThat(modSeq).isGreaterThan(0);
  messageMapper.add(benwaInboxMailbox,message2);
  assertThat(messageMapper.getHighestModSeq(benwaInboxMailbox)).isGreaterThan(modSeq);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mediaTypeShouldBeWellStored() throws Exception {
  String mediaType="plain";
  PropertyBuilder propBuilder=new PropertyBuilder();
  propBuilder.setMediaType(mediaType);
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStoredWhenDuplicateEntries \n\nBody\n.\n",BODY_START,propBuilder);
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getMediaType()).isEqualTo(mediaType);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagesRetrievedUsingFetchTypeBodyShouldHaveBodyDataLoaded() throws MailboxException, IOException {
  saveMessages();
  MessageMapper.FetchType fetchType=MessageMapper.FetchType.Body;
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),fetchType,LIMIT);
  MessageAssert.assertThat(retrievedMessageIterator.next()).isEqualTo(message1,fetchType);
  assertThat(retrievedMessageIterator).isEmpty();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void expungeShouldModifyUnderlyingStorageWithRange() throws MailboxException, IOException {
  saveMessages();
  markThenPerformExpunge(MessageRange.range(message3.getUid(),message5.getUid()));
  assertThat(messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.all(),MessageMapper.FetchType.Full,LIMIT)).containsOnly(message1,message2,message3,message5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagesRetrievedUsingFetchTypeMetadataShouldHaveAtLastMetadataDataLoaded() throws MailboxException, IOException {
  saveMessages();
  MessageMapper.FetchType fetchType=MessageMapper.FetchType.Metadata;
  Iterator<Message<Id>> retrievedMessageIterator=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(message1.getUid()),fetchType,LIMIT);
  MessageAssert.assertThat(retrievedMessageIterator.next()).isEqualTo(message1,fetchType);
  assertThat(retrievedMessageIterator).isEmpty();
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagePropertiesShouldBeStored() throws Exception {
  PropertyBuilder propBuilder=new PropertyBuilder();
  propBuilder.setMediaType("text");
  propBuilder.setSubType("html");
  propBuilder.setTextualLineCount(2L);
  propBuilder.setProperty(StandardNames.NAMESPACE_RFC_2045,StandardNames.MIME_CONTENT_TRANSFER_ENCODING_NAME,"7bit");
  propBuilder.setProperty(StandardNames.MIME_CONTENT_TYPE_PARAMETER_SPACE,StandardNames.MIME_CONTENT_TYPE_PARAMETER_CHARSET_NAME,"US-ASCII");
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStored \n\nBody\n.\n",BODY_START,propBuilder);
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getProperties()).containsOnlyElementsOf(propBuilder.toProperties());
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyShouldIncrementUid() throws MailboxException, IOException {
  saveMessages();
  long uid=messageMapper.getLastUid(benwaInboxMailbox);
  messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.getLastUid(benwaInboxMailbox)).isGreaterThan(uid);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messagePropertiesShouldBeStoredWhenNoProperty() throws Exception {
  SimpleMessage<Id> messageWithProperties=createMessage(benwaWorkMailbox,"Subject: messagePropertiesShouldBeStoredWhenNoProperty \n\nBody\n.\n",BODY_START,new PropertyBuilder());
  MessageMetaData messageMetaData=messageMapper.add(benwaInboxMailbox,messageWithProperties);
  Message<Id> message=messageMapper.findInMailbox(benwaInboxMailbox,MessageRange.one(messageMetaData.getUid()),FetchType.Body,1).next();
  assertThat(message.getProperties()).isEmpty();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void userFlagsUpdateShouldReturnCorrectUpdatedFlags() throws Exception {
  saveMessages();
  long modSeq=messageMapper.getHighestModSeq(benwaInboxMailbox);
  assertThat(messageMapper.updateFlags(benwaInboxMailbox,new FlagsUpdateCalculator(new Flags(USER_FLAG),FlagsUpdateMode.ADD),MessageRange.one(message1.getUid()))).containsOnly(new UpdatedFlags(message1.getUid(),modSeq + 1,new Flags(),new Flags(USER_FLAG)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void mailboxContainingMessagesShouldHaveTheGoodUnseenMessageCount() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(5);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void copyOfSeenMessageShouldNotIncrementUnSeenMessageCount() throws MailboxException {
  message6.setFlags(new Flags(Flags.Flag.SEEN));
  messageMapper.copy(benwaInboxMailbox,new SimpleMessage<Id>(benwaInboxMailbox,message6));
  assertThat(messageMapper.countUnseenMessagesInMailbox(benwaInboxMailbox)).isEqualTo(0);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void findFirstUnseenMessageUidShouldReturnUid1WhenUid1isNotSeen() throws MailboxException {
  saveMessages();
  assertThat(messageMapper.findFirstUnseenMessageUid(benwaInboxMailbox)).isEqualTo(message1.getUid());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.MailboxAssertTests </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void isEqualToShouldFailWithNotEqualId(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(TestId.of(MAILBOX_ID.id + 1));
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isEqualToShouldNotFailWithEqualMailbox(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(MAILBOX_ID);
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void isEqualToShouldFailWithNotEqualName(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","other_name"),UID_VALIDITY);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(MAILBOX_ID);
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void isEqualToShouldFailWithNotEqualUser(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("namespace","other_user","name"),UID_VALIDITY);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(MAILBOX_ID);
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void isEqualToShouldFailWithNotEqualNamespace(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("other_namespace","user","name"),UID_VALIDITY);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(MAILBOX_ID);
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void isEqualToShouldFailWithNotEqualUidValidity(){
  SimpleMailbox<TestId> mailbox1=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY);
  SimpleMailbox<TestId> mailbox2=new SimpleMailbox<TestId>(new MailboxPath("namespace","user","name"),UID_VALIDITY + 1);
  mailbox1.setMailboxId(MAILBOX_ID);
  mailbox2.setMailboxId(MAILBOX_ID);
  MailboxAssert.assertThat(mailbox1).isEqualTo(mailbox2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.MessageAssertTest </h4><pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messageAssertShouldSucceedWhenBodyMismatchInFetchHeaderMode() throws IOException {
  String headerString="name: headerName\n\n";
  String bodyString="body\n.\n";
  Date date=new Date();
  SimpleMessage<TestId> message1=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message1.setUid(UID);
  bodyString="work\n.\n";
  SimpleMessage<TestId> message2=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message2.setUid(UID);
  MessageAssert.assertThat(message1).isEqualTo(message2,MessageMapper.FetchType.Headers);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void messageAssertShouldFailWhenBodyMismatchInFetchBodyMode() throws IOException {
  String headerString="name: headerName\n\n";
  String bodyString="body\n.\n";
  Date date=new Date();
  SimpleMessage<TestId> message1=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message1.setUid(UID);
  bodyString="work\n.\n";
  SimpleMessage<TestId> message2=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message2.setUid(UID);
  MessageAssert.assertThat(message1).isEqualTo(message2,MessageMapper.FetchType.Body);
}

</code></pre>

<br>
<pre class="type-2 type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void messageAssertShouldSucceedWithTwoEqualsMessages() throws IOException {
  String headerString="name: headerName\n\n";
  String bodyString="body\n.\n";
  Date date=new Date();
  SimpleMessage<TestId> message1=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message1.setUid(UID);
  SimpleMessage<TestId> message2=new SimpleMessage<TestId>(date,headerString.length() + bodyString.length(),headerString.length(),new SharedByteArrayInputStream((headerString + bodyString).getBytes()),new Flags(),new PropertyBuilder(),MAILBOX_ID);
  message2.setUid(UID);
  MessageAssert.assertThat(message1).isEqualTo(message2,MessageMapper.FetchType.Full);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.MetadataMapAssertTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void metadataMapAssertShouldFailWhenSizeMismatch(){
  Map<Long,MessageMetaData> metaDataMap=new HashMap<Long,MessageMetaData>();
  metaDataMap.put(18L,new SimpleMessageMetaData(UID,MODSEQ,new Flags(),HEADER_STRING.length() + BODY_STRING.length() + 1,DATE));
  MetadataMapAssert.assertThat(metaDataMap).containsMetadataForMessages(message1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void metadataMapAssertShouldFailWhenUidMismatch(){
  Map<Long,MessageMetaData> metaDataMap=new HashMap<Long,MessageMetaData>();
  metaDataMap.put(18L,new SimpleMessageMetaData(UID + 1,MODSEQ,new Flags(),HEADER_STRING.length() + BODY_STRING.length(),DATE));
  MetadataMapAssert.assertThat(metaDataMap).containsMetadataForMessages(message1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void metadataMapAssertShouldSucceedWhenContainingRightMetadata(){
  Map<Long,MessageMetaData> metaDataMap=new HashMap<Long,MessageMetaData>();
  metaDataMap.put(18L,new SimpleMessageMetaData(UID,MODSEQ,new Flags(),HEADER_STRING.length() + BODY_STRING.length(),DATE));
  MetadataMapAssert.assertThat(metaDataMap).containsMetadataForMessages(message1);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test(expected=AssertionError.class) public void metadataMapAssertShouldFailWhenDateMismatch(){
  Map<Long,MessageMetaData> metaDataMap=new HashMap<Long,MessageMetaData>();
  Date date=new Date();
  date.setTime(DATE.getTime() + 100L);
  metaDataMap.put(18L,new SimpleMessageMetaData(UID,MODSEQ,new Flags(),HEADER_STRING.length() + BODY_STRING.length(),date));
  MetadataMapAssert.assertThat(metaDataMap).containsMetadataForMessages(message1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.mail.model.impl.SimpleMessageTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleMessageShouldReturnTheSameUserFlagsThatThoseProvided(){
  MESSAGE.setFlags(new FlagsBuilder().add(Flags.Flag.DELETED,Flags.Flag.SEEN).add("mozzarela","parmesan","coppa","limonchello").build());
  assertThat(MESSAGE.createUserFlags()).containsOnly("mozzarela","parmesan","coppa","limonchello");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.quota.DefaultQuotaRootResolverTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@SuppressWarnings("unchecked") @Test public void retrieveAssociatedMailboxesShouldWork() throws Exception {
  final MailboxMapper<TestId> mockedMapper=(MailboxMapper<TestId>)mock(MailboxMapper.class);
  when(mockedFactory.getMailboxMapper(null)).thenAnswer(new Answer<MailboxMapper<TestId>>(){
    @Override public MailboxMapper<TestId> answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return mockedMapper;
    }
  }
);
  when(mockedMapper.findMailboxWithPathLike(PATH_LIKE)).thenAnswer(new Answer<List<SimpleMailbox<TestId>>>(){
    @Override public List<SimpleMailbox<TestId>> answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return Lists.newArrayList(MAILBOX,MAILBOX_2);
    }
  }
);
  assertThat(testee.retrieveAssociatedMailboxes(QUOTA_ROOT,null)).containsOnly(MAILBOX_PATH,MAILBOX_PATH_2);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getQuotaRootShouldReturnUserRelatedQuotaRoot() throws Exception {
  assertThat(testee.getQuotaRoot(MAILBOX_PATH)).isEqualTo(QUOTA_ROOT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.quota.GenericMaxQuotaManagerTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxStorageShouldReturnDefaultWhenNoValue() throws Exception {
  maxQuotaManager.setDefaultMaxStorage(36);
  assertThat(maxQuotaManager.getMaxStorage(quotaRoot)).isEqualTo(36);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxMessageShouldReturnUnlimitedWhenNoDefaultValue() throws Exception {
  assertThat(maxQuotaManager.getMaxMessage(quotaRoot)).isEqualTo(Quota.UNLIMITED);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxStorageShouldReturnProvidedValue() throws Exception {
  maxQuotaManager.setMaxStorage(quotaRoot,36);
  assertThat(maxQuotaManager.getMaxStorage(quotaRoot)).isEqualTo(36);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxMessageShouldReturnDefaultWhenNoValue() throws Exception {
  maxQuotaManager.setDefaultMaxMessage(36);
  assertThat(maxQuotaManager.getMaxMessage(quotaRoot)).isEqualTo(36);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxMessageShouldReturnProvidedValue() throws Exception {
  maxQuotaManager.setMaxMessage(quotaRoot,36);
  assertThat(maxQuotaManager.getMaxMessage(quotaRoot)).isEqualTo(36);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMaxStorageShouldReturnUnlimitedWhenNoDefaultValue() throws Exception {
  assertThat(maxQuotaManager.getMaxStorage(quotaRoot)).isEqualTo(Quota.UNLIMITED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.quota.QuotaCheckerTest </h4><pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void quotaCheckerShouldNotThrowOnReachedMaximumQuotas() throws MailboxException {
  when(mockedQuotaRootResolver.getQuotaRoot(MAILBOX_PATH)).thenAnswer(new Answer<QuotaRoot>(){
    @Override public QuotaRoot answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QUOTA_ROOT;
    }
  }
);
  when(mockedQuotaManager.getMessageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(10,100);
    }
  }
);
  when(mockedQuotaManager.getStorageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(100,1000);
    }
  }
);
  QuotaChecker quotaChecker=new QuotaChecker(mockedQuotaManager,mockedQuotaRootResolver,MAILBOX);
  assertThat(quotaChecker.tryAddition(90,900)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void quotaCheckerShouldNotThrowOnRegularModifiedQuotas() throws MailboxException {
  when(mockedQuotaRootResolver.getQuotaRoot(MAILBOX_PATH)).thenAnswer(new Answer<QuotaRoot>(){
    @Override public QuotaRoot answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QUOTA_ROOT;
    }
  }
);
  when(mockedQuotaManager.getMessageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(10,100);
    }
  }
);
  when(mockedQuotaManager.getStorageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(100,1000);
    }
  }
);
  QuotaChecker quotaChecker=new QuotaChecker(mockedQuotaManager,mockedQuotaRootResolver,MAILBOX);
  assertThat(quotaChecker.tryAddition(89,899)).isTrue();
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void quotaCheckerShouldNotThrowOnRegularQuotas() throws MailboxException {
  when(mockedQuotaRootResolver.getQuotaRoot(MAILBOX_PATH)).thenAnswer(new Answer<QuotaRoot>(){
    @Override public QuotaRoot answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QUOTA_ROOT;
    }
  }
);
  when(mockedQuotaManager.getMessageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(10,100);
    }
  }
);
  when(mockedQuotaManager.getStorageQuota(QUOTA_ROOT)).thenAnswer(new Answer<Quota>(){
    @Override public Quota answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return QuotaImpl.quota(100,1000);
    }
  }
);
  QuotaChecker quotaChecker=new QuotaChecker(mockedQuotaManager,mockedQuotaRootResolver,MAILBOX);
  assertThat(quotaChecker.tryAddition(0,0)).isTrue();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.quota.QuotaImplTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isOverQuotaShouldReturnFalseWhenUsedValueIsUnknown(){
  assertThat(QuotaImpl.quota(Quota.UNKNOWN,36).isOverQuota()).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isOverQuotaShouldReturnTrueWhenQuotaIsExceeded(){
  assertThat(QuotaImpl.quota(360,36).isOverQuota()).isTrue();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void unlimitedQuotaShouldNotBeOverQuota(){
  assertThat(QuotaImpl.unlimited().isOverQuota()).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isOverQuotaShouldReturnFalseWhenMaxValueIsUnlimited(){
  assertThat(QuotaImpl.quota(36,Quota.UNLIMITED).isOverQuota()).isFalse();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void isOverQuotaShouldReturnFalseWhenQuotaIsNotExceeded(){
  assertThat(QuotaImpl.quota(36,360).isOverQuota()).isFalse();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.store.quota.StoreQuotaManagerTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getStorageQuotaShouldWorkWithNumericValues() throws Exception {
  when(mockedMaxQuotaManager.getMaxStorage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 360L;
    }
  }
);
  when(mockedCurrentQuotaManager.getCurrentStorage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 36L;
    }
  }
);
  assertThat(testee.getStorageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(36,360));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getStorageQuotaShouldNotCalculateCurrentQuotaWhenUnlimited() throws Exception {
  testee.setCalculateWhenUnlimited(false);
  when(mockedMaxQuotaManager.getMaxStorage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return Quota.UNLIMITED;
    }
  }
);
  assertThat(testee.getStorageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(Quota.UNKNOWN,Quota.UNLIMITED));
  verify(mockedCurrentQuotaManager,never()).getCurrentStorage(quotaRoot);
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getStorageQuotaShouldCalculateCurrentQuotaWhenUnlimited() throws Exception {
  testee.setCalculateWhenUnlimited(true);
  when(mockedMaxQuotaManager.getMaxStorage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return Quota.UNLIMITED;
    }
  }
);
  when(mockedCurrentQuotaManager.getCurrentStorage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 36L;
    }
  }
);
  assertThat(testee.getStorageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(36,Quota.UNLIMITED));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMessageQuotaShouldNotCalculateCurrentQuotaWhenUnlimited() throws Exception {
  testee.setCalculateWhenUnlimited(false);
  when(mockedMaxQuotaManager.getMaxMessage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return Quota.UNLIMITED;
    }
  }
);
  assertThat(testee.getMessageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(Quota.UNKNOWN,Quota.UNLIMITED));
  verify(mockedCurrentQuotaManager,never()).getCurrentMessageCount(quotaRoot);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMessageQuotaShouldWorkWithNumericValues() throws Exception {
  when(mockedMaxQuotaManager.getMaxMessage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 360L;
    }
  }
);
  when(mockedCurrentQuotaManager.getCurrentMessageCount(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 36L;
    }
  }
);
  assertThat(testee.getMessageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(36,360));
}

</code></pre>

<br>
<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getMessageQuotaShouldCalculateCurrentQuotaWhenUnlimited() throws Exception {
  testee.setCalculateWhenUnlimited(true);
  when(mockedMaxQuotaManager.getMaxMessage(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return Quota.UNLIMITED;
    }
  }
);
  when(mockedCurrentQuotaManager.getCurrentMessageCount(quotaRoot)).then(new Answer<Long>(){
    @Override public Long answer(    InvocationOnMock invocationOnMock) throws Throwable {
      return 36L;
    }
  }
);
  assertThat(testee.getMessageQuota(quotaRoot)).isEqualTo(QuotaImpl.quota(36,Quota.UNLIMITED));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.james.mailbox.tika.extractor.TikaTextExtractorTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/Text.txt");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"text/plain","Text.txt").getTextualContent()).isEqualTo("This is some awesome text text.\n\n\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void excelTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/calc.xlsx");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","calc.xlsx").getTextualContent()).isEqualTo("Feuille1\n" + "\tThis is an aesome LibreOffice document!\n" + "\n"+ "&A\t\n"+ "\n"+ "Page &P\t\n"+ "\n"+ "\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textOdtTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/writter.odt");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.oasis.opendocument.text","writter.odt").getTextualContent()).isEqualTo("This is an awesome document on libroffice writter!\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slidePowerPointTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/slides.pptx");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.openxmlformats-officedocument.presentationml.presentation","slides.pptx").getTextualContent()).isEqualTo("James is awesome\nIt manages attachments so well!\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slideOdpTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/slides.odp");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.oasis.opendocument.presentation","slides.odp").getTextualContent()).isEqualTo("James is awesome\n\nIt manages attachments so well!\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void textMicrosoftWorldTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/writter.docx");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.openxmlformats-officedocument.wordprocessingml.document","writter.docx").getTextualContent()).isEqualTo("This is an awesome document on libroffice writter!\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void pdfTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/PDF.pdf");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/pdf","PDF.pdf").getTextualContent()).isEqualTo("\nThis is an awesome document on libroffice writter !\n\n\n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void odsTest() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/calc.ods");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.oasis.opendocument.spreadsheet","calc.ods").getTextualContent()).isEqualTo("\tThis is an aesome LibreOffice document!\n" + "\n" + "\n"+ "???\n"+ "Page \n"+ "??? (???)\n"+ "00/00/0000, 00:00:00\n"+ "Page  / \n");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void documentWithBadDeclaredMetadataShouldBeWellHandled() throws Exception {
  InputStream inputStream=ClassLoader.getSystemResourceAsStream("documents/fake.txt");
  assertThat(inputStream).isNotNull();
  assertThat(textExtractor.extractContent(inputStream,"application/vnd.oasis.opendocument.text","writter.odt").getTextualContent()).isEqualTo("This is an awesome document on libroffice writter!\n");
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
