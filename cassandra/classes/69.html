<h3 style="margin:0px">Class: org.apache.cassandra.cql3.validation.miscellaneous.RoleSyntaxTest (8 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(8)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void listPermissionsSyntaxTest() throws Throwable {
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL ROLES OF r1");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL ROLES OF 'r1'");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL ROLES OF \"r1\"");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL ROLES OF $$ r '1' $$");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE 'r1' OF r2");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE \"r1\" OF r2");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE $$ r '1' $$ OF r2");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE 'r1' OF 'r2'");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE \"r1\" OF \"r2\"");
  assertValidSyntax("LIST ALL PERMISSIONS ON ROLE $$r1$$ OF $$ r '2' $$");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL KEYSPACES OF r1");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL KEYSPACES OF 'r1'");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL KEYSPACES OF \"r1\"");
  assertValidSyntax("LIST ALL PERMISSIONS ON ALL KEYSPACES OF $$ r '1' $$");
  assertValidSyntax("LIST ALL PERMISSIONS OF r1");
  assertValidSyntax("LIST ALL PERMISSIONS OF 'r1'");
  assertValidSyntax("LIST ALL PERMISSIONS OF \"r1\"");
  assertValidSyntax("LIST ALL PERMISSIONS OF $$ r '1' $$");
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void grantRevokePermissionsSyntaxTest() throws Throwable {
  assertValidSyntax("GRANT ALTER ON ROLE r1 TO r2");
  assertValidSyntax("GRANT ALTER ON ROLE 'r1' TO \"r2\"");
  assertValidSyntax("GRANT ALTER ON ROLE \"r1\" TO 'r2'");
  assertValidSyntax("GRANT ALTER ON ROLE $$r1$$ TO $$ r '2' $$");
  assertValidSyntax("REVOKE ALTER ON ROLE r1 FROM r2");
  assertValidSyntax("REVOKE ALTER ON ROLE 'r1' FROM \"r2\"");
  assertValidSyntax("REVOKE ALTER ON ROLE \"r1\" FROM 'r2'");
  assertValidSyntax("REVOKE ALTER ON ROLE $$r1$$ FROM $$ r '2' $$");
  assertValidSyntax("GRANT SELECT ON KEYSPACE ks TO r1");
  assertValidSyntax("GRANT SELECT ON KEYSPACE ks TO 'r1'");
  assertValidSyntax("GRANT SELECT ON KEYSPACE ks TO \"r1\"");
  assertValidSyntax("GRANT SELECT ON KEYSPACE ks TO $$ r '1' $$");
  assertValidSyntax("REVOKE SELECT ON KEYSPACE ks FROM r1");
  assertValidSyntax("REVOKE SELECT ON KEYSPACE ks FROM 'r1'");
  assertValidSyntax("REVOKE SELECT ON KEYSPACE ks FROM \"r1\"");
  assertValidSyntax("REVOKE SELECT ON KEYSPACE ks FROM $$ r '1' $$");
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void alterSyntaxTest() throws Throwable {
  assertValidSyntax("ALTER ROLE r1 WITH PASSWORD = 'password'");
  assertValidSyntax("ALTER ROLE 'r1' WITH PASSWORD = 'password'");
  assertValidSyntax("ALTER ROLE \"r1\" WITH PASSWORD = 'password'");
  assertValidSyntax("ALTER ROLE $$r1$$ WITH PASSWORD = 'password'");
  assertValidSyntax("ALTER ROLE $$ r1 ' x $ x ' $$ WITH PASSWORD = 'password'");
  assertValidSyntax("ALTER USER u1 WITH PASSWORD 'password'");
  assertValidSyntax("ALTER USER 'u1' WITH PASSWORD 'password'");
  assertValidSyntax("ALTER USER $$u1$$ WITH PASSWORD 'password'");
  assertValidSyntax("ALTER USER $$ u1 ' x $ x ' $$ WITH PASSWORD 'password'");
  assertInvalidSyntax("ALTER USER \"u1\" WITH PASSWORD 'password'",NO_QUOTED_USERNAME);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void createSyntaxTest() throws Throwable {
  assertValidSyntax("CREATE ROLE r1");
  assertValidSyntax("CREATE ROLE 'r1'");
  assertValidSyntax("CREATE ROLE \"r1\"");
  assertValidSyntax("CREATE ROLE $$r1$$");
  assertValidSyntax("CREATE ROLE $$ r1 ' x $ x ' $$");
  assertValidSyntax("CREATE USER u1");
  assertValidSyntax("CREATE USER 'u1'");
  assertValidSyntax("CREATE USER $$u1$$");
  assertValidSyntax("CREATE USER $$ u1 ' x $ x ' $$");
  assertInvalidSyntax("CREATE USER \"u1\"",NO_QUOTED_USERNAME);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void dropSyntaxTest() throws Throwable {
  assertValidSyntax("DROP ROLE r1");
  assertValidSyntax("DROP ROLE 'r1'");
  assertValidSyntax("DROP ROLE \"r1\"");
  assertValidSyntax("DROP ROLE $$r1$$");
  assertValidSyntax("DROP ROLE $$ r1 ' x $ x ' $$");
  assertValidSyntax("DROP USER u1");
  assertValidSyntax("DROP USER 'u1'");
  assertValidSyntax("DROP USER $$u1$$");
  assertValidSyntax("DROP USER $$ u1 ' x $ x ' $$");
  assertInvalidSyntax("DROP USER \"u1\"",NO_QUOTED_USERNAME);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void listRolesSyntaxTest() throws Throwable {
  assertValidSyntax("LIST ROLES OF r1");
  assertValidSyntax("LIST ROLES OF 'r1'");
  assertValidSyntax("LIST ROLES OF \"r1\"");
  assertValidSyntax("LIST ROLES OF $$ r '1' $$");
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void customOptionsSyntaxTest() throws Throwable {
  assertValidSyntax("CREATE ROLE r WITH OPTIONS = {'a':'b', 'b':1}");
  assertInvalidSyntax("CREATE ROLE r WITH OPTIONS = 'term'");
  assertInvalidSyntax("CREATE ROLE r WITH OPTIONS = 99");
  assertValidSyntax("ALTER ROLE r WITH OPTIONS = {'a':'b', 'b':1}");
  assertInvalidSyntax("ALTER ROLE r WITH OPTIONS = 'term'");
  assertInvalidSyntax("ALTER ROLE r WITH OPTIONS = 99");
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void standardOptionsSyntaxTest() throws Throwable {
  assertValidSyntax("CREATE ROLE r WITH LOGIN = true AND SUPERUSER = false AND PASSWORD = 'foo'");
  assertValidSyntax("CREATE ROLE r WITH PASSWORD = 'foo' AND LOGIN = true AND SUPERUSER = false");
  assertValidSyntax("CREATE ROLE r WITH SUPERUSER = true AND PASSWORD = 'foo' AND LOGIN = false");
  assertValidSyntax("CREATE ROLE r WITH LOGIN = true AND PASSWORD = 'foo' AND SUPERUSER = false");
  assertValidSyntax("CREATE ROLE r WITH SUPERUSER = true AND PASSWORD = 'foo' AND LOGIN = false");
  assertValidSyntax("ALTER ROLE r WITH LOGIN = true AND SUPERUSER = false AND PASSWORD = 'foo'");
  assertValidSyntax("ALTER ROLE r WITH PASSWORD = 'foo' AND LOGIN = true AND SUPERUSER = false");
  assertValidSyntax("ALTER ROLE r WITH SUPERUSER = true AND PASSWORD = 'foo' AND LOGIN = false");
  assertValidSyntax("ALTER ROLE r WITH LOGIN = true AND PASSWORD = 'foo' AND SUPERUSER = false");
  assertValidSyntax("ALTER ROLE r WITH SUPERUSER = true AND PASSWORD = 'foo' AND LOGIN = false");
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
