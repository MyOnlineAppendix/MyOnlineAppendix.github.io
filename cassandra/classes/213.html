<h3 style="margin:0px">Class: org.apache.cassandra.index.sasi.SASIIndexTest (23 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(11)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="18"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('18')" data-toggle="tooltip" title="Is an empty test case"><kbd id="tag-18"class="label-info"style="display: inline-block;font-size:7pt" >EmptyTester&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies values related to public fields."><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >PublicFieldVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testColumnNamesWithSlashes() throws Exception {
  testColumnNamesWithSlashes(false);
  cleanupData();
  testColumnNamesWithSlashes(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testPagination() throws Exception {
  testPagination(false);
  cleanupData();
  testPagination(true);
}

</code></pre>

<pre class="type-7 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTruncate(){
  Map<String,Pair<String,Integer>> part1=new HashMap<String,Pair<String,Integer>>(){
{
      put("key01",Pair.create("Ali",33));
      put("key02",Pair.create("Jeremy",41));
      put("key03",Pair.create("Elvera",22));
      put("key04",Pair.create("Bailey",45));
      put("key05",Pair.create("Emerson",32));
      put("key06",Pair.create("Kadin",38));
      put("key07",Pair.create("Maggie",36));
      put("key08",Pair.create("Kailey",36));
      put("key09",Pair.create("Armand",21));
      put("key10",Pair.create("Arnold",35));
    }
  }
;
  Map<String,Pair<String,Integer>> part2=new HashMap<String,Pair<String,Integer>>(){
{
      put("key11",Pair.create("Ken",38));
      put("key12",Pair.create("Penelope",43));
      put("key13",Pair.create("Wyatt",34));
      put("key14",Pair.create("Johnpaul",34));
      put("key15",Pair.create("Trycia",43));
      put("key16",Pair.create("Aida",21));
      put("key17",Pair.create("Devon",42));
    }
  }
;
  Map<String,Pair<String,Integer>> part3=new HashMap<String,Pair<String,Integer>>(){
{
      put("key18",Pair.create("Christina",20));
      put("key19",Pair.create("Rick",19));
      put("key20",Pair.create("Fannie",22));
      put("key21",Pair.create("Keegan",29));
      put("key22",Pair.create("Ignatius",36));
      put("key23",Pair.create("Ellis",26));
      put("key24",Pair.create("Annamarie",29));
      put("key25",Pair.create("Tianna",31));
      put("key26",Pair.create("Dennis",32));
    }
  }
;
  ColumnFamilyStore store=loadData(part1,1000,true);
  loadData(part2,2000,true);
  loadData(part3,3000,true);
  final ByteBuffer firstName=UTF8Type.instance.decompose("first_name");
  Set<String> rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),16,rows.size());
  store.indexManager.truncateAllIndexesBlocking(500);
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),16,rows.size());
  store.indexManager.truncateAllIndexesBlocking(1500);
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),10,rows.size());
  store.indexManager.truncateAllIndexesBlocking(2500);
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),6,rows.size());
  store.indexManager.truncateAllIndexesBlocking(3500);
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),0,rows.size());
  Map<String,Pair<String,Integer>> part4=new HashMap<String,Pair<String,Integer>>(){
{
      put("key40",Pair.create("Tianna",31));
      put("key41",Pair.create("Dennis",32));
    }
  }
;
  loadData(part4,4000,true);
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertEquals(rows.toString(),1,rows.size());
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultiExpressionQueries() throws Exception {
  testMultiExpressionQueries(false);
  cleanupData();
  testMultiExpressionQueries(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testQueriesThatShouldBeTokenized() throws Exception {
  testQueriesThatShouldBeTokenized(false);
  cleanupData();
  testQueriesThatShouldBeTokenized(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testLowerCaseAnalyzer(){
  testLowerCaseAnalyzer(false);
  cleanupData();
  testLowerCaseAnalyzer(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testInvalidate() throws Exception {
  testInvalidate(false);
  cleanupData();
  testInvalidate(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptyTokenizedResults() throws Exception {
  testEmptyTokenizedResults(false);
  cleanupData();
  testEmptyTokenizedResults(true);
}

</code></pre>

<pre class="type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testPrefixSSTableLookup(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer name=UTF8Type.instance.decompose("first_name_prefix");
  Mutation rm;
  rm=new Mutation(KS_NAME,decoratedKey("key1"));
  update(rm,name,UTF8Type.instance.decompose("Pavel"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key2"));
  update(rm,name,UTF8Type.instance.decompose("Jordan"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key3"));
  update(rm,name,UTF8Type.instance.decompose("Mikhail"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key4"));
  update(rm,name,UTF8Type.instance.decompose("Michael"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key5"));
  update(rm,name,UTF8Type.instance.decompose("Johnny"),System.currentTimeMillis());
  rm.apply();
  store.forceBlockingFlush();
  rm=new Mutation(KS_NAME,decoratedKey("key6"));
  update(rm,name,UTF8Type.instance.decompose("Jason"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key7"));
  update(rm,name,UTF8Type.instance.decompose("Vijay"),System.currentTimeMillis());
  rm.apply();
  store.forceBlockingFlush();
  Set<String> rows;
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("J")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key5","key6"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("j")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key5","key6"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("m")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3","key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("v")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key7"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("p")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(name,Operator.EQ,UTF8Type.instance.decompose("j")),buildExpression(name,Operator.NEQ,UTF8Type.instance.decompose("joh")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key6"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<pre class="type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUnicodeSupport(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer comment=UTF8Type.instance.decompose("comment");
  Mutation rm=new Mutation(KS_NAME,decoratedKey("key1"));
  update(rm,comment,UTF8Type.instance.decompose("ⓈⓅⒺⒸⒾⒶⓁ ⒞⒣⒜⒭⒮ and normal ones"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key2"));
  update(rm,comment,UTF8Type.instance.decompose("龍馭鬱"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key3"));
  update(rm,comment,UTF8Type.instance.decompose("インディアナ"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key4"));
  update(rm,comment,UTF8Type.instance.decompose("レストラン"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key5"));
  update(rm,comment,UTF8Type.instance.decompose("ベンジャミン ウエスト"),System.currentTimeMillis());
  rm.apply();
  Set<String> rows;
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ⓈⓅⒺⒸⒾ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("normal")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key5"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("レストラ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("インディ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key5"},rows.toArray(new String[rows.size()])));
  store.forceBlockingFlush();
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ⓈⓅⒺⒸⒾ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("normal")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key5"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("レストラ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("インディ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミ")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key5"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testMultiExpressionQueriesWhereRowSplitBetweenSSTables() throws Exception {
  testMultiExpressionQueriesWhereRowSplitBetweenSSTables(false);
  cleanupData();
  testMultiExpressionQueriesWhereRowSplitBetweenSSTables(true);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCrossSSTableQueries() throws Exception {
  testCrossSSTableQueries(false);
  cleanupData();
  testCrossSSTableQueries(true);
}

</code></pre>

<pre class="type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is an empty test case
"></span><br>
@Test public void testConcurrentMemtableReadsAndWrites() throws Exception {
}

</code></pre>

<pre class="type-7 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInsertingIncorrectValuesIntoAgeIndex(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer firstName=UTF8Type.instance.decompose("first_name");
  final ByteBuffer age=UTF8Type.instance.decompose("age");
  Mutation rm=new Mutation(KS_NAME,decoratedKey(AsciiType.instance.decompose("key1")));
  update(rm,new ArrayList<Cell>(){
{
      add(buildCell(firstName,AsciiType.instance.decompose("pavel"),System.currentTimeMillis()));
      add(buildCell(age,LongType.instance.decompose(26L),System.currentTimeMillis()));
    }
  }
);
  rm.apply();
  store.forceBlockingFlush();
  Set<String> rows=getIndexed(store,10,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")),buildExpression(age,Operator.GTE,Int32Type.instance.decompose(26)));
  Assert.assertEquals(0,rows.size());
}

</code></pre>

<pre class="type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testUnicodeSuffixMode(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer comment=UTF8Type.instance.decompose("comment_suffix_split");
  Mutation rm=new Mutation(KS_NAME,decoratedKey("key1"));
  update(rm,comment,UTF8Type.instance.decompose("龍馭鬱"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key2"));
  update(rm,comment,UTF8Type.instance.decompose("インディアナ"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key3"));
  update(rm,comment,UTF8Type.instance.decompose("レストラン"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key4"));
  update(rm,comment,UTF8Type.instance.decompose("ベンジャミン ウエスト"),System.currentTimeMillis());
  rm.apply();
  Set<String> rows;
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("トラン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ディア")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key3","key4"},rows.toArray(new String[rows.size()])));
  store.forceBlockingFlush();
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("龍馭鬱")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ベンジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("トラン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ディア")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ジャミン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,UTF8Type.instance.decompose("ン")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key3","key4"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testSingleExpressionQueries() throws Exception {
  testSingleExpressionQueries(false);
  cleanupData();
  testSingleExpressionQueries(true);
}

</code></pre>

<pre class="type-7 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSettingIsLiteralOption(){
  AbstractType<?> stringType=new AbstractType<String>(AbstractType.ComparisonType.CUSTOM){
    public ByteBuffer fromString(    String source) throws MarshalException {
      return UTF8Type.instance.fromString(source);
    }
    public Term fromJSONObject(    Object parsed) throws MarshalException {
      throw new UnsupportedOperationException();
    }
    public TypeSerializer<String> getSerializer(){
      return UTF8Type.instance.getSerializer();
    }
    public int compareCustom(    ByteBuffer a,    ByteBuffer b){
      return UTF8Type.instance.compare(a,b);
    }
  }
;
  ColumnDefinition columnA=ColumnDefinition.regularDef(KS_NAME,CF_NAME,"special-A",stringType);
  ColumnIndex indexA=new ColumnIndex(UTF8Type.instance,columnA,IndexMetadata.fromSchemaMetadata("special-index-A",IndexMetadata.Kind.CUSTOM,new HashMap<String,String>(){
{
      put(IndexTarget.CUSTOM_INDEX_OPTION_NAME,SASIIndex.class.getName());
    }
  }
));
  Assert.assertEquals(true,indexA.isIndexed());
  Assert.assertEquals(false,indexA.isLiteral());
  ColumnDefinition columnB=ColumnDefinition.regularDef(KS_NAME,CF_NAME,"special-B",stringType);
  ColumnIndex indexB=new ColumnIndex(UTF8Type.instance,columnB,IndexMetadata.fromSchemaMetadata("special-index-B",IndexMetadata.Kind.CUSTOM,new HashMap<String,String>(){
{
      put(IndexTarget.CUSTOM_INDEX_OPTION_NAME,SASIIndex.class.getName());
      put("is_literal","true");
    }
  }
));
  Assert.assertEquals(true,indexB.isIndexed());
  Assert.assertEquals(true,indexB.isLiteral());
  ColumnDefinition columnC=ColumnDefinition.regularDef(KS_NAME,CF_NAME,"special-C",UTF8Type.instance);
  ColumnIndex indexC=new ColumnIndex(UTF8Type.instance,columnC,IndexMetadata.fromSchemaMetadata("special-index-C",IndexMetadata.Kind.CUSTOM,new HashMap<String,String>(){
{
      put(IndexTarget.CUSTOM_INDEX_OPTION_NAME,SASIIndex.class.getName());
    }
  }
));
  Assert.assertEquals(true,indexC.isIndexed());
  Assert.assertEquals(true,indexC.isLiteral());
  ColumnDefinition columnD=ColumnDefinition.regularDef(KS_NAME,CF_NAME,"special-D",AsciiType.instance);
  ColumnIndex indexD=new ColumnIndex(UTF8Type.instance,columnD,IndexMetadata.fromSchemaMetadata("special-index-D",IndexMetadata.Kind.CUSTOM,new HashMap<String,String>(){
{
      put(IndexTarget.CUSTOM_INDEX_OPTION_NAME,SASIIndex.class.getName());
    }
  }
));
  Assert.assertEquals(true,indexD.isIndexed());
  Assert.assertEquals(true,indexD.isLiteral());
  ColumnDefinition columnE=ColumnDefinition.regularDef(KS_NAME,CF_NAME,"special-E",UTF8Type.instance);
  ColumnIndex indexE=new ColumnIndex(UTF8Type.instance,columnE,IndexMetadata.fromSchemaMetadata("special-index-E",IndexMetadata.Kind.CUSTOM,new HashMap<String,String>(){
{
      put(IndexTarget.CUSTOM_INDEX_OPTION_NAME,SASIIndex.class.getName());
      put("is_literal","false");
    }
  }
));
  Assert.assertEquals(true,indexE.isIndexed());
  Assert.assertEquals(false,indexE.isLiteral());
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testClusteringIndexes() throws Exception {
  testClusteringIndexes(false);
  cleanupData();
  testClusteringIndexes(true);
}

</code></pre>

<pre class="type-6 type-7 type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testThatTooBigValueIsRejected(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer comment=UTF8Type.instance.decompose("comment_suffix_split");
  for (int i=0; i < 10; i++) {
    byte[] randomBytes=new byte[ThreadLocalRandom.current().nextInt(OnDiskIndexBuilder.MAX_TERM_SIZE,5 * OnDiskIndexBuilder.MAX_TERM_SIZE)];
    ThreadLocalRandom.current().nextBytes(randomBytes);
    final ByteBuffer bigValue=UTF8Type.instance.decompose(new String(randomBytes));
    Mutation rm=new Mutation(KS_NAME,decoratedKey("key1"));
    update(rm,comment,bigValue,System.currentTimeMillis());
    rm.apply();
    Set<String> rows;
    rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,bigValue.duplicate()));
    Assert.assertEquals(0,rows.size());
    store.forceBlockingFlush();
    rows=getIndexed(store,10,buildExpression(comment,Operator.EQ,bigValue.duplicate()));
    Assert.assertEquals(0,rows.size());
  }
}

</code></pre>

<pre class="type-7 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testSameKeyInMemtableAndSSTables(){
  final ByteBuffer firstName=UTF8Type.instance.decompose("first_name");
  final ByteBuffer age=UTF8Type.instance.decompose("age");
  Map<String,Pair<String,Integer>> data1=new HashMap<String,Pair<String,Integer>>(){
{
      put("key1",Pair.create("Pavel",14));
      put("key2",Pair.create("Pavel",26));
      put("key3",Pair.create("Pavel",27));
      put("key4",Pair.create("Jason",27));
    }
  }
;
  ColumnFamilyStore store=loadData(data1,true);
  Map<String,Pair<String,Integer>> data2=new HashMap<String,Pair<String,Integer>>(){
{
      put("key1",Pair.create("Pavel",14));
      put("key2",Pair.create("Pavel",27));
      put("key4",Pair.create("Jason",28));
    }
  }
;
  loadData(data2,true);
  Map<String,Pair<String,Integer>> data3=new HashMap<String,Pair<String,Integer>>(){
{
      put("key1",Pair.create("Pavel",15));
      put("key4",Pair.create("Jason",29));
    }
  }
;
  loadData(data3,false);
  Set<String> rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1","key2","key3","key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")),buildExpression(age,Operator.EQ,Int32Type.instance.decompose(15)));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")),buildExpression(age,Operator.EQ,Int32Type.instance.decompose(29)));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key4"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,100,buildExpression(firstName,Operator.EQ,UTF8Type.instance.decompose("a")),buildExpression(age,Operator.EQ,Int32Type.instance.decompose(27)));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key2","key3"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void cleanUp(){
  Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME).truncateBlocking();
}

</code></pre>

<pre class="type-7 type-15 type-4 type-5 type-8 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchTimeouts() throws Exception {
  final ByteBuffer firstName=UTF8Type.instance.decompose("first_name");
  Map<String,Pair<String,Integer>> data1=new HashMap<String,Pair<String,Integer>>(){
{
      put("key1",Pair.create("Pavel",14));
      put("key2",Pair.create("Pavel",26));
      put("key3",Pair.create("Pavel",27));
      put("key4",Pair.create("Jason",27));
    }
  }
;
  ColumnFamilyStore store=loadData(data1,true);
  RowFilter filter=RowFilter.create();
  filter.add(store.metadata.getColumnDefinition(firstName),Operator.EQ,AsciiType.instance.fromString("a"));
  ReadCommand command=new PartitionRangeReadCommand(store.metadata,FBUtilities.nowInSeconds(),ColumnFilter.all(store.metadata),filter,DataLimits.NONE,DataRange.allData(store.metadata.partitioner),Optional.empty());
  try {
    new QueryPlan(store,command,0).execute(ReadExecutionController.empty());
    Assert.fail();
  }
 catch (  TimeQuotaExceededException e) {
  }
catch (  Exception e) {
    Assert.fail();
    e.printStackTrace();
  }
  Set<String> rows=getKeys(new QueryPlan(store,command,DatabaseDescriptor.getRangeRpcTimeout()).execute(ReadExecutionController.empty()));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1","key2","key3","key4"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<pre class="type-7 type-4 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void testChinesePrefixSearch(){
  ColumnFamilyStore store=Keyspace.open(KS_NAME).getColumnFamilyStore(CF_NAME);
  final ByteBuffer fullName=UTF8Type.instance.decompose("/output/full-name/");
  Mutation rm=new Mutation(KS_NAME,decoratedKey("key1"));
  update(rm,fullName,UTF8Type.instance.decompose("美加 八田"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key2"));
  update(rm,fullName,UTF8Type.instance.decompose("仁美 瀧澤"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key3"));
  update(rm,fullName,UTF8Type.instance.decompose("晃宏 高須"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key4"));
  update(rm,fullName,UTF8Type.instance.decompose("弘孝 大竹"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key5"));
  update(rm,fullName,UTF8Type.instance.decompose("満枝 榎本"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key6"));
  update(rm,fullName,UTF8Type.instance.decompose("飛鳥 上原"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key7"));
  update(rm,fullName,UTF8Type.instance.decompose("大輝 鎌田"),System.currentTimeMillis());
  rm.apply();
  rm=new Mutation(KS_NAME,decoratedKey("key8"));
  update(rm,fullName,UTF8Type.instance.decompose("利久 寺地"),System.currentTimeMillis());
  rm.apply();
  store.forceBlockingFlush();
  Set<String> rows;
  rows=getIndexed(store,10,buildExpression(fullName,Operator.EQ,UTF8Type.instance.decompose("美加 八田")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(fullName,Operator.EQ,UTF8Type.instance.decompose("美加")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key1"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(fullName,Operator.EQ,UTF8Type.instance.decompose("晃宏 高須")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key3"},rows.toArray(new String[rows.size()])));
  rows=getIndexed(store,10,buildExpression(fullName,Operator.EQ,UTF8Type.instance.decompose("大輝")));
  Assert.assertTrue(rows.toString(),Arrays.equals(new String[]{"key7"},rows.toArray(new String[rows.size()])));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
