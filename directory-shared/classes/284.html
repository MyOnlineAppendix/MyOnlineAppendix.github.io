<h3 style="margin:0px">Class: org.apache.directory.api.ldap.subtree.SubtreeSpecificationParserTest (15 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(2)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests the parser with a valid empty specification.
 */
@Test public void testEmptySpec() throws Exception {
  SubtreeSpecification ss=parser.parse(EMPTY_SPEC);
  assertNotNull(ss);
  ss=parser.parse(EMPTY_SPEC);
  assertNotNull(ss);
  ss=parser.parse(EMPTY_SPEC);
  assertNotNull(ss);
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test reusability, especially if the state is resetted.
 */
@Test public void testReusabiltiy() throws Exception {
  Dn firstDn=new Dn(schemaManager,"cn=l");
  String firstExclusion="{ specificExclusions { chopAfter:\"cn=l\" } }";
  SubtreeSpecification firstSpec=parser.parse(firstExclusion);
  assertEquals(1,firstSpec.getChopAfterExclusions().size());
  assertEquals(firstDn,firstSpec.getChopAfterExclusions().iterator().next());
  Dn secondDn=new Dn(schemaManager,"l=y");
  String secondExclusion="{ specificExclusions { chopAfter:\"l=y\" } }";
  SubtreeSpecification secondSpec=parser.parse(secondExclusion);
  assertEquals(1,secondSpec.getChopAfterExclusions().size());
  assertEquals(secondDn,secondSpec.getChopAfterExclusions().iterator().next());
}

</code></pre>

<pre class="type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests the parser with a valid specification with unordinary component
 * order.
 */
@Test public void testSpecOrderOfComponentsDoesNotMatter() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_ORDER_OF_COMPONENTS_DOES_NOT_MATTER);
  assertNotNull(ss);
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the parser with a valid specification with minimum and maximum set.
 */
@Test public void testSpecWithMinimumAndMaximum() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_MINIMUM_AND_MAXIMUM);
  assertEquals(1,ss.getMinBaseDistance());
  assertEquals(2,ss.getMaxBaseDistance());
  ss=parser.parse(SPEC_WITH_MINIMUM_AND_MAXIMUM);
  assertEquals(1,ss.getMinBaseDistance());
  assertEquals(2,ss.getMaxBaseDistance());
  ss=parser.parse(SPEC_WITH_MINIMUM_AND_MAXIMUM);
  assertEquals(1,ss.getMinBaseDistance());
  assertEquals(2,ss.getMaxBaseDistance());
}

</code></pre>

<pre class="type-5 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the parser with an invalid specification with missing white spaces
 * and base set.
 */
@Test public void testInvalidSpecWithBaseAndMissingWS() throws Exception {
  try {
    parser.parse(INVALID_SPEC_WITH_BASE_AND_MISSING_WS);
    fail("testInvalidSpecWithBaseAndMissingWS() should never come here...");
  }
 catch (  ParseException e) {
    assertNotNull(e);
  }
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the parser with a valid specification with base and minimum and
 * maximum set.
 */
@Test public void testWithBaseAndMinimumAndMaximum() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_BASE_AND_MINIMUM_AND_MAXIMUM);
  assertEquals(new Dn("ou=ORGANIZATION UNIT").getName(),ss.getBase().getName());
  assertEquals(1,ss.getMinBaseDistance());
  assertEquals(2,ss.getMaxBaseDistance());
}

</code></pre>

<pre class="type-5 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the parser with an invalid specification with silly things in.
 */
@Test public void testInvalidSillyThing() throws Exception {
  try {
    parser.parse(INVALID_SILLY_THING);
    fail("testInvalidSillyThing() should never come here...");
  }
 catch (  ParseException e) {
    assertNotNull(e);
  }
}

</code></pre>

<pre class="type-4 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the parser with a valid specification with base and empty
 * refinement set.
 */
@Test public void testSpecWithBaseAndEmptyRefinement() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_BASE_AND_EMPTY_REFINEMENT);
  assertEquals("ou=system",ss.getBase().toString());
}

</code></pre>

<pre class="type-1 type-4 type-2 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the parser with a valid specification with base and specific
 * exclusions and minimum and maximum set.
 */
@Test public void testSpecWithBaseAndSpecificExclusionsAndMinimumAndMaximum() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_BASE_AND_SPECIFICEXCLUSIONS_AND_MINIMUM_AND_MAXIMUM);
  assertNotNull(ss);
  assertEquals("ou=people",ss.getBase().toString());
  assertTrue(ss.getChopBeforeExclusions().contains(new Dn("cn=y").apply(schemaManager)));
  assertTrue(ss.getChopBeforeExclusions().contains(new Dn("c=z").apply(schemaManager)));
  assertTrue(ss.getChopAfterExclusions().contains(new Dn("sn=l").apply(schemaManager)));
  assertTrue(ss.getChopAfterExclusions().contains(new Dn("l=m").apply(schemaManager)));
  assertEquals(7,ss.getMinBaseDistance());
  assertEquals(77,ss.getMaxBaseDistance());
}

</code></pre>

<pre class="type-4 type-2 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the parser with a valid specification with base set.
 */
@Test public void testSpecWithBase() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_BASE);
  assertNotNull(ss);
  assertEquals("ou=system",ss.getBase().toString());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the multithreaded use of a single parser.
 */
@Test public void testMultiThreaded() throws Exception {
  List<Thread> threads=new ArrayList<Thread>();
  for (int ii=0; ii < 10; ii++) {
    Thread t0=new Thread(new ParseSpecification(EMPTY_SPEC));
    Thread t1=new Thread(new ParseSpecification(SPEC_WITH_SPECIFICEXCLUSIONS));
    Thread t2=new Thread(new ParseSpecification(SPEC_WITH_MINIMUM_AND_MAXIMUM));
    Thread t3=new Thread(new ParseSpecification(SPEC_WITH_ALL_IN_ONE));
    threads.add(t0);
    threads.add(t1);
    threads.add(t2);
    threads.add(t3);
    t0.start();
    t1.start();
    t2.start();
    t3.start();
  }
  boolean hasLiveThreads=false;
  do {
    hasLiveThreads=false;
    for (int ii=0; ii < threads.size(); ii++) {
      Thread t=threads.get(ii);
      hasLiveThreads=hasLiveThreads || t.isAlive();
    }
  }
 while (hasLiveThreads);
  assertTrue(isSuccessMultithreaded);
}

</code></pre>

<pre class="type-4 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests the parser with a valid specification with all components set.
 */
@Test public void testSpecWithAllInOne() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_ALL_IN_ONE);
  assertNotNull(ss);
}

</code></pre>

<pre class="type-1 type-4 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the parser with a valid specification with an empty specific
 * exclusions set.
 */
@Test public void testSpecWithEmptySpecificExclusions() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_EMPTY_SPECIFICEXCLUSIONS);
  assertNotNull(ss);
  assertTrue(ss.getChopBeforeExclusions().isEmpty());
}

</code></pre>

<pre class="type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests the parser with a valid specification with some specific exclusions
 * set.
 */
@Test public void testSpecWithSpecificExclusions() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_SPECIFICEXCLUSIONS);
  assertFalse(ss.getChopBeforeExclusions().isEmpty());
  assertFalse(ss.getChopAfterExclusions().isEmpty());
  assertTrue(ss.getChopBeforeExclusions().contains(new Dn(schemaManager,"cn=cd")));
  assertTrue(ss.getChopAfterExclusions().contains(new Dn(schemaManager,"cn=gh")));
  ss=parser.parse(SPEC_WITH_SPECIFICEXCLUSIONS);
  assertFalse(ss.getChopBeforeExclusions().isEmpty());
  assertFalse(ss.getChopAfterExclusions().isEmpty());
  assertTrue(ss.getChopBeforeExclusions().contains(new Dn(schemaManager,"cn=cd")));
  assertTrue(ss.getChopAfterExclusions().contains(new Dn(schemaManager,"cn=gh")));
  ss=parser.parse(SPEC_WITH_SPECIFICEXCLUSIONS);
  assertFalse(ss.getChopBeforeExclusions().isEmpty());
  assertFalse(ss.getChopAfterExclusions().isEmpty());
  assertTrue(ss.getChopBeforeExclusions().contains(new Dn(schemaManager,"cn=cd")));
  assertTrue(ss.getChopAfterExclusions().contains(new Dn(schemaManager,"cn=gh")));
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the parser with a valid specification with refinement set.
 */
@Test public void testSpecWithRefinement() throws Exception {
  SubtreeSpecification ss=parser.parse(SPEC_WITH_REFINEMENT);
  Refinement topItem=new ItemRefinement(topOC);
  Refinement aliasItem=new ItemRefinement(aliasOC);
  Refinement personItem=new ItemRefinement(personOC);
  Refinement countryItem=new ItemRefinement(countryOC);
  List<Refinement> orList=new ArrayList<Refinement>();
  orList.add(aliasItem);
  orList.add(personItem);
  Refinement orRefinement=new OrRefinement(orList);
  List<Refinement> innerAndList=new ArrayList<Refinement>();
  innerAndList.add(topItem);
  innerAndList.add(orRefinement);
  Refinement innerAndRefinement=new AndRefinement(innerAndList);
  Refinement notRefinement=new NotRefinement(countryItem);
  List<Refinement> outerAndList=new ArrayList<Refinement>();
  outerAndList.add(innerAndRefinement);
  outerAndList.add(notRefinement);
  StringBuilder buffer=new StringBuilder();
  ss.getRefinement().printRefinementToBuffer(buffer);
  assertEquals("and: { and: { item: 2.5.6.0, or: { item: 2.5.6.1, item: person } }, not: item: 2.5.6.2 }",buffer.toString());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
