<h3 style="margin:0px">Class: org.apache.commons.configuration2.builder.combined.TestCombinedConfigurationBuilder (50 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(34)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(22)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(20)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(11)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests the behavior of builderNames() before the result configuration has
 * been created.
 */
@Test public void testBuilderNamesBeforeConfigurationAccess(){
  assertTrue("Got builders (1)",builder.builderNames().isEmpty());
  builder.configure(createParameters().setFile(TEST_FILE));
  assertTrue("Got builders (2)",builder.builderNames().isEmpty());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether a file with system properties can be specified in the
 * configuration definition file and that system properties can be added to
 * the resulting configuration.
 */
@Test public void testSystemProperties() throws ConfigurationException {
  File systemFile=ConfigurationAssert.getTestFile("testCCSystemProperties.xml");
  builder.configure(createParameters().setFile(systemFile));
  CombinedConfiguration cc=builder.getConfiguration();
  assertTrue("System property not found",cc.containsKey("user.name"));
  assertEquals("Properties not added","value1",System.getProperty("key1"));
}

</code></pre>

<pre class="type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests that the return value of configure() is overloaded.
 */
@Test public void testConfigureResult(){
  CombinedConfigurationBuilder configuredBuilder=builder.configure(createParameters().setFile(TEST_FILE));
  assertSame("Wrong instance returned",builder,configuredBuilder);
}

</code></pre>

<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests loading a definition file with optional and non optional
 * configuration sources. One non optional does not exist, so this should
 * cause an exception.
 */
@Test(expected=ConfigurationException.class) public void testLoadOptionalWithException() throws ConfigurationException {
  File optionalExFile=ConfigurationAssert.getTestFile("testDigesterOptionalConfigurationEx.xml");
  builder.configure(createParameters().setFile(optionalExFile));
  builder.getConfiguration();
}

</code></pre>

<pre class="type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests that change listeners registered at sub builders are removed on a
 * reset.
 */
@Test public void testRemoveSubBuilderListener() throws ConfigurationException {
  Map<String,Object> attrs=new HashMap<String,Object>();
  prepareSubBuilderTest(attrs);
  builder.getConfiguration();
  BasicConfigurationBuilder<?> subBuilder=(BasicConfigurationBuilder<?>)builder.getNamedBuilder(BUILDER_NAME);
  builder.reset();
  prepareSubBuilderTest(attrs);
  CombinedConfiguration cc=builder.getConfiguration();
  BasicConfigurationBuilder<?> subBuilder2=(BasicConfigurationBuilder<?>)builder.getNamedBuilder(BUILDER_NAME);
  assertNotSame("Got the same sub builder",subBuilder,subBuilder2);
  subBuilder.reset();
  assertSame("Configuration was reset",cc,builder.getConfiguration());
}

</code></pre>

<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests that the collection with builder names cannot be manipulated.
 */
@Test(expected=UnsupportedOperationException.class) public void testBuilderNamesManipulate() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getConfiguration();
  Set<String> names=builder.builderNames();
  names.add(BUILDER_NAME);
}

</code></pre>

<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tries to query a non-existing builder by name.
 */
@Test(expected=ConfigurationException.class) public void testGetNamedBuilderUnknown() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getConfiguration();
  builder.getNamedBuilder("nonExistingBuilder");
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether a custom provider can be registered.
 */
@Test public void testCustomBuilderProvider() throws ConfigurationException {
  String tagName="myTestTag";
  final BaseHierarchicalConfiguration dataConf=new BaseHierarchicalConfiguration();
  dataConf.addProperty(tagName,Boolean.TRUE);
  Map<String,Object> attrs=new HashMap<String,Object>();
  attrs.put("config-name",BUILDER_NAME);
  attrs.put("config-at","tests");
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilder(createDefinitionBuilder(createDefinitionConfig(tagName,attrs))).registerProvider(tagName,new ConfigurationBuilderProvider(){
    @Override public ConfigurationBuilder<? extends Configuration> getConfigurationBuilder(    ConfigurationDeclaration decl) throws ConfigurationException {
      return new ConstantConfigurationBuilder(dataConf);
    }
  }
));
  CombinedConfiguration cc=builder.getConfiguration();
  assertEquals("Configuration not added",dataConf,cc.getConfiguration(BUILDER_NAME));
  assertEquals("Property not set",Boolean.TRUE,cc.getProperty("tests." + tagName));
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether a Lookup object can be declared in the definition
 * configuration.
 */
@Test public void testCustomLookup() throws ConfigurationException {
  File testFile=ConfigurationAssert.getTestFile("testCCLookup.xml");
  builder.configure(createParameters().setFile(testFile));
  CombinedConfiguration cc=builder.getConfiguration();
  assertTrue("Lookup not registered in CC",cc.getInterpolator().getLookups().containsKey("test"));
  Configuration xmlConf=cc.getConfiguration("xml");
  assertTrue("Lookup not registered in sub config",xmlConf.getInterpolator().getLookups().containsKey("test"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether all child builders can be obtained.
 */
@Test public void testGetChildBuilders() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getConfiguration();
  Collection<ConfigurationBuilder<? extends Configuration>> childBuilders=builder.getChildBuilders();
  assertEquals("Wrong number of child builders",3,childBuilders.size());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the names of sub builders can be queried.
 */
@Test public void testBuilderNames() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getConfiguration();
  Set<String> names=builder.builderNames();
  List<String> expected=Arrays.asList("props","xml");
  assertEquals("Wrong number of named builders",expected.size(),names.size());
  assertTrue("Wrong builder names: " + names,names.containsAll(expected));
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether a specific file system can be applied to a sub
 * configuration.
 */
@Test public void testCustomFileSystemForSubConfig() throws ConfigurationException {
  checkFileSystem(ConfigurationAssert.getTestFile("testCCFileSystemSubConfig.xml"));
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether named builders can be accessed.
 */
@Test public void testGetNamedBuilder() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getConfiguration();
  ConfigurationBuilder<? extends Configuration> propBuilder=builder.getNamedBuilder("props");
  assertTrue("Wrong builder class",propBuilder instanceof FileBasedConfigurationBuilder);
  assertTrue("Wrong sub configuration",propBuilder.getConfiguration() instanceof PropertiesConfiguration);
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether a JNDI configuration can be integrated into the combined
 * configuration.
 */
@Test public void testJndiConfiguration() throws ConfigurationException {
  File multiFile=ConfigurationAssert.getTestFile("testDigesterConfiguration3.xml");
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilderParameters(createParameters().setFile(multiFile)));
  CombinedConfiguration cc=builder.getConfiguration();
  assertTrue("JNDI property not found",cc.getBoolean("test.onlyinjndi"));
}

</code></pre>

<pre class="type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests whether the entity resolver is initialized with other XML-related
 * properties.
 */
@Test public void testConfigureEntityResolverWithProperties() throws ConfigurationException {
  HierarchicalConfiguration<ImmutableNode> config=new BaseHierarchicalConfiguration();
  config.addProperty("header.entity-resolver[@config-class]",EntityResolverWithPropertiesTestImpl.class.getName());
  XMLBuilderParametersImpl xmlParams=new XMLBuilderParametersImpl();
  FileSystem fs=EasyMock.createMock(FileSystem.class);
  String baseDir=ConfigurationAssert.OUT_DIR_NAME;
  xmlParams.setBasePath(baseDir);
  xmlParams.setFileSystem(fs);
  builder.configureEntityResolver(config,xmlParams);
  EntityResolverWithPropertiesTestImpl resolver=(EntityResolverWithPropertiesTestImpl)xmlParams.getEntityResolver();
  assertSame("File system not set",fs,resolver.getFileSystem());
  assertSame("Base directory not set",baseDir,resolver.getBaseDir());
}

</code></pre>

<pre class="type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  System.setProperty("java.naming.factory.initial","org.apache.commons.configuration2.MockInitialContextFactory");
  System.setProperty("test_file_xml",TEST_SUB_XML);
  System.setProperty("test_file_combine","testcombine1.xml");
  parameters=new Parameters();
  builder=new CombinedConfigurationBuilder();
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether attributes are correctly set on the combined configurations
 * for the override and additional sections.
 */
@Test public void testCombinedConfigurationAttributes() throws ConfigurationException {
  File initFile=ConfigurationAssert.getTestFile("testCCResultInitialization.xml");
  builder.configure(createParameters().setFile(initFile));
  CombinedConfiguration cc=builder.getConfiguration();
  checkCombinedConfigAttrs(cc);
  CombinedConfiguration cc2=(CombinedConfiguration)cc.getConfiguration(CombinedConfigurationBuilder.ADDITIONAL_NAME);
  checkCombinedConfigAttrs(cc2);
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the force-create attribute is taken into account.
 */
@Test public void testLoadOptionalForceCreate() throws ConfigurationException {
  String name="optionalConfig";
  Map<String,Object> attrs=new HashMap<String,Object>();
  attrs.put("fileName","nonExisting.xml");
  attrs.put("config-name",name);
  attrs.put("config-optional",Boolean.TRUE);
  attrs.put("config-forceCreate",Boolean.TRUE);
  BaseHierarchicalConfiguration defConfig=createDefinitionConfig("xml",attrs);
  BasicConfigurationBuilder<? extends BaseHierarchicalConfiguration> defBuilder=createDefinitionBuilder(defConfig);
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilder(defBuilder));
  CombinedConfiguration cc=builder.getConfiguration();
  assertEquals("Wrong number of configurations",1,cc.getNumberOfConfigurations());
  assertTrue("Wrong configuration type",cc.getConfiguration(name) instanceof XMLConfiguration);
}

</code></pre>

<pre class="type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests whether a reset of one of the sub builders causes the combined
 * configuration to be re-created.
 */
@Test public void testReactOnSubBuilderChange() throws ConfigurationException {
  Map<String,Object> attrs=new HashMap<String,Object>();
  prepareSubBuilderTest(attrs);
  CombinedConfiguration cc=builder.getConfiguration();
  BasicConfigurationBuilder<?> subBuilder=(BasicConfigurationBuilder<?>)builder.getNamedBuilder(BUILDER_NAME);
  subBuilder.reset();
  assertNotSame("Configuration not newly created",cc,builder.getConfiguration());
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether a configuration builder can itself be declared in a
 * configuration definition file.
 */
@Test public void testConfigurationBuilderProvider() throws ConfigurationException {
  BaseHierarchicalConfiguration defConfig=new BaseHierarchicalConfiguration();
  defConfig.addProperty("override.configuration[@fileName]",TEST_FILE.getAbsolutePath());
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilder(new ConstantConfigurationBuilder(defConfig)));
  CombinedConfiguration cc=builder.getConfiguration();
  assertEquals("Wrong number of configurations",1,cc.getNumberOfConfigurations());
  checkProperties(cc);
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether a configuration created by a MultiFileConfigurationBuilder
 * has been initialized correctly.
 */
@Test public void testMultiTenentConfigurationProperties() throws ConfigurationException {
  CombinedConfiguration config=createMultiFileConfig("testCCMultiTenent.xml");
  switchToMultiFile("1001");
  HierarchicalConfiguration<?> multiConf=(HierarchicalConfiguration<?>)config.getConfiguration("clientConfig");
  assertTrue("Expression engine not configured",multiConf.getExpressionEngine() instanceof XPathExpressionEngine);
  assertEquals("Wrong bg color","#808080",config.getString("colors.background"));
  assertEquals("Wrong text color","#000000",multiConf.getString("colors/text"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests if the base path is correctly evaluated.
 */
@Test public void testBasePathForChildConfigurations() throws ConfigurationException {
  BaseHierarchicalConfiguration defConfig=new BaseHierarchicalConfiguration();
  defConfig.addProperty("properties[@fileName]","test.properties");
  File deepDir=new File(ConfigurationAssert.TEST_DIR,"config/deep");
  builder.configure(new CombinedBuilderParametersImpl().setBasePath(deepDir.getAbsolutePath()).setDefinitionBuilder(new ConstantConfigurationBuilder(defConfig)));
  CombinedConfiguration config=builder.getConfiguration();
  assertEquals("Wrong property value","somevalue",config.getString("somekey"));
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether default child properties in the combined builder's
 * configuration are inherited by child parameter objects.
 */
@Test public void testInitChildBuilderParametersDefaultChildProperties() throws ConfigurationException {
  final Long defRefresh=60000L;
  final Long xmlRefresh=30000L;
  builder.configure(parameters.combined().setDefinitionBuilderParameters(parameters.fileBased().setFile(TEST_FILE)).registerChildDefaultsHandler(FileBasedBuilderProperties.class,new CopyObjectDefaultHandler(new FileBasedBuilderParametersImpl().setReloadingRefreshDelay(defRefresh).setThrowExceptionOnMissing(true))).registerChildDefaultsHandler(XMLBuilderProperties.class,new CopyObjectDefaultHandler(new XMLBuilderParametersImpl().setValidating(false).setExpressionEngine(new XPathExpressionEngine()).setReloadingRefreshDelay(xmlRefresh))));
  builder.getConfiguration();
  XMLBuilderParametersImpl params=new XMLBuilderParametersImpl();
  builder.initChildBuilderParameters(params);
  assertTrue("Wrong expression engine",params.getParameters().get("expressionEngine") instanceof XPathExpressionEngine);
  assertEquals("Validating flag not set",Boolean.FALSE,params.getParameters().get("validating"));
  assertEquals("Wrong XML refresh",xmlRefresh,params.getReloadingRefreshDelay());
  assertEquals("Basic flag not set",Boolean.TRUE,params.getParameters().get("throwExceptionOnMissing"));
  PropertiesBuilderParametersImpl params2=new PropertiesBuilderParametersImpl();
  builder.initChildBuilderParameters(params2);
  assertEquals("Wrong default refresh",defRefresh,params2.getReloadingRefreshDelay());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether basic properties defined for the combined configuration are
 * inherited by a child combined configuration builder.
 */
@Test public void testConfigurationBuilderProviderInheritBasicProperties() throws ConfigurationException {
  File testFile=ConfigurationAssert.getTestFile("testCCCombinedChildBuilder.xml");
  ListDelimiterHandler listHandler=new DefaultListDelimiterHandler('*');
  ConfigurationDecoder decoder=EasyMock.createMock(ConfigurationDecoder.class);
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilderParameters(new XMLBuilderParametersImpl().setFile(testFile)).setListDelimiterHandler(listHandler).setConfigurationDecoder(decoder));
  CombinedConfiguration cc=builder.getConfiguration();
  CombinedConfiguration cc2=(CombinedConfiguration)cc.getConfiguration("subcc");
  assertFalse("Wrong exception flag",cc2.isThrowExceptionOnMissing());
  assertEquals("Wrong list delimiter handler",listHandler,cc2.getListDelimiterHandler());
  assertEquals("Wrong decoder",decoder,cc2.getConfigurationDecoder());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether environment properties can be added as a configuration
 * source.
 */
@Test public void testEnvironmentProperties() throws ConfigurationException {
  File envFile=ConfigurationAssert.getTestFile("testCCEnvProperties.xml");
  builder.configure(createParameters().setFile(envFile));
  CombinedConfiguration cc=builder.getConfiguration();
  assertFalse("Configuration is empty",cc.isEmpty());
  for (  Map.Entry<String,String> e : System.getenv().entrySet()) {
    assertEquals("Wrong value for property: " + e.getKey(),e.getValue(),cc.getString(e.getKey()));
  }
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether variable substitution works across multiple child
 * configurations and also in the definition configuration.
 */
@Test public void testInterpolationOverMultipleSources() throws ConfigurationException {
  File testFile=ConfigurationAssert.getTestFile("testInterpolationBuilder.xml");
  builder.configure(createParameters().setFile(testFile));
  CombinedConfiguration combConfig=builder.getConfiguration();
  assertEquals("Wrong value","abc-product",combConfig.getString("products.product.desc"));
  XMLConfiguration xmlConfig=(XMLConfiguration)combConfig.getConfiguration("test");
  assertEquals("Wrong value from XML config","abc-product",xmlConfig.getString("products/product/desc"));
  HierarchicalConfiguration<ImmutableNode> subConfig=xmlConfig.configurationAt("products/product[@name='abc']",true);
  assertEquals("Wrong value from sub config","abc-product",subConfig.getString("desc"));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether the base path can be inherited to child combined
 * configuration builders.
 */
@Test public void testConfigurationBuilderProviderInheritBasePath() throws ConfigurationException {
  File envFile=ConfigurationAssert.getTestFile("testCCEnvProperties.xml");
  String basePath=ConfigurationAssert.OUT_DIR.getAbsolutePath();
  builder.configure(new CombinedBuilderParametersImpl().setBasePath(basePath).setDefinitionBuilderParameters(createParameters().setFile(envFile)));
  builder.getConfiguration();
  CombinedBuilderParametersImpl params=new CombinedBuilderParametersImpl();
  builder.initChildBuilderParameters(params);
  assertEquals("Base path not set",basePath,params.getBasePath());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests loading a definition file that contains optional configurations.
 */
@Test public void testLoadOptional() throws Exception {
  File optionalFile=ConfigurationAssert.getTestFile("testDigesterOptionalConfiguration.xml");
  builder.configure(createParameters().setFile(optionalFile));
  Configuration config=builder.getConfiguration();
  assertTrue(config.getBoolean("test.boolean"));
  assertEquals("value",config.getProperty("element"));
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the list node definition was correctly processed.
 */
@Test public void testCombinedConfigurationListNodes() throws ConfigurationException {
  File initFile=ConfigurationAssert.getTestFile("testCCResultInitialization.xml");
  builder.configure(createParameters().setFile(initFile));
  CombinedConfiguration cc=builder.getConfiguration();
  Set<String> listNodes=cc.getNodeCombiner().getListNodes();
  assertEquals("Wrong number of list nodes",2,listNodes.size());
  assertTrue("table node not a list node",listNodes.contains("table"));
  assertTrue("list node not a list node",listNodes.contains("list"));
  CombinedConfiguration cca=(CombinedConfiguration)cc.getConfiguration(CombinedConfigurationBuilder.ADDITIONAL_NAME);
  listNodes=cca.getNodeCombiner().getListNodes();
  assertTrue("Found list nodes for additional combiner",listNodes.isEmpty());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether reloading support works for MultiFileConfigurationBuilder.
 */
@Test public void testMultiTenentConfigurationReloading() throws ConfigurationException, InterruptedException {
  CombinedConfiguration config=createMultiFileConfig("testCCMultiTenentReloading.xml");
  File outFile=ConfigurationAssert.getOutFile("MultiFileReloadingTest.xml");
  switchToMultiFile(outFile.getAbsolutePath());
  XMLConfiguration reloadConfig=new XMLConfiguration();
  FileHandler handler=new FileHandler(reloadConfig);
  handler.setFile(outFile);
  final String key="test.reload";
  reloadConfig.setProperty(key,"no");
  handler.save();
  try {
    assertEquals("Wrong property","no",config.getString(key));
    ConfigurationBuilder<? extends Configuration> childBuilder=builder.getNamedBuilder("clientConfig");
    assertTrue("Not a reloading builder",childBuilder instanceof ReloadingControllerSupport);
    ReloadingController ctrl=((ReloadingControllerSupport)childBuilder).getReloadingController();
    ctrl.checkForReloading(null);
    BuilderEventListenerImpl l=new BuilderEventListenerImpl();
    childBuilder.addEventListener(ConfigurationBuilderEvent.RESET,l);
    reloadConfig.setProperty(key,"yes");
    handler.save();
    int attempts=10;
    boolean changeDetected;
    do {
      changeDetected=ctrl.checkForReloading(null);
      if (!changeDetected) {
        Thread.sleep(1000);
        handler.save(outFile);
      }
    }
 while (!changeDetected && --attempts > 0);
    assertTrue("No change detected",changeDetected);
    assertEquals("Wrong updated property","yes",builder.getConfiguration().getString(key));
    ConfigurationBuilderEvent event=l.nextEvent(ConfigurationBuilderEvent.RESET);
    l.assertNoMoreEvents();
    BasicConfigurationBuilder<? extends Configuration> multiBuilder=(BasicConfigurationBuilder<? extends Configuration>)event.getSource();
    childBuilder.removeEventListener(ConfigurationBuilderEvent.RESET,l);
    multiBuilder.resetResult();
    l.assertNoMoreEvents();
  }
  finally {
    assertTrue("Output file could not be deleted",outFile.delete());
  }
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether a custom provider can be defined in the definition file.
 */
@Test public void testProviderInDefinitionConfig() throws ConfigurationException {
  builder.configure(createParameters().setFile(ConfigurationAssert.getTestFile("testCCCustomProvider.xml")));
  CombinedConfiguration cc=builder.getConfiguration();
  assertTrue("Property not found",cc.getBoolean("testKey"));
}

</code></pre>

<pre class="type-2 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
/** 
 * Tests a reset of the builder. The configuration instance should be
 * created anew.
 */
@Test public void testResetBuilder() throws ConfigurationException {
  Map<String,Object> attrs=new HashMap<String,Object>();
  BasicConfigurationBuilder<? extends HierarchicalConfiguration<ImmutableNode>> defBuilder=prepareSubBuilderTest(attrs);
  CombinedConfiguration cc=builder.getConfiguration();
  ConfigurationBuilder<? extends Configuration> subBuilder=builder.getNamedBuilder(BUILDER_NAME);
  defBuilder.reset();
  CombinedConfiguration cc2=builder.getConfiguration();
  assertNotSame("No new configuration instance",cc,cc2);
  ConfigurationBuilder<? extends Configuration> subBuilder2=builder.getNamedBuilder(BUILDER_NAME);
  assertNotSame("No new sub builder instance",subBuilder,subBuilder2);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether a default base path for all file-based child configurations
 * can be set in the builder parameters.
 */
@Test public void testDefaultBasePathInParameters() throws ConfigurationException {
  File testFile=ConfigurationAssert.getTestFile("testCCSystemProperties.xml");
  String basePath=ConfigurationAssert.OUT_DIR.getAbsolutePath();
  builder.configure(new CombinedBuilderParametersImpl().setBasePath(basePath).setDefinitionBuilderParameters(createParameters().setFile(testFile)));
  builder.getConfiguration();
  XMLBuilderParametersImpl xmlParams=new XMLBuilderParametersImpl();
  builder.initChildBuilderParameters(xmlParams);
  assertEquals("Base path not set",basePath,xmlParams.getFileHandler().getBasePath());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
"></span><br>
/** 
 * Tests whether custom builder providers are inherited to child combined
 * configuration builder providers.
 */
@Test public void testConfigurationBuilderProviderInheritCustomProviders() throws ConfigurationException {
  builder.configure(createParameters().setFile(ConfigurationAssert.getTestFile("testCCCustomProvider.xml")));
  builder.getConfiguration();
  CombinedBuilderParametersImpl ccparams=new CombinedBuilderParametersImpl();
  builder.initChildBuilderParameters(ccparams);
  assertNotNull("Custom provider not found",ccparams.providerForTag("test"));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether the default base path for file-based configurations is
 * derived from the configuration definition builder.
 */
@Test public void testDefaultBasePathFromDefinitionBuilder() throws ConfigurationException, IOException {
  String testFile="testCCSystemProperties.xml";
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilderParameters(createParameters().setBasePath(ConfigurationAssert.TEST_DIR.getAbsolutePath()).setFileName(testFile)));
  builder.getConfiguration();
  XMLBuilderParametersImpl xmlParams=new XMLBuilderParametersImpl();
  builder.initChildBuilderParameters(xmlParams);
  File basePathFile=FileLocatorUtils.fileFromURL(new URL(xmlParams.getFileHandler().getBasePath()));
  assertEquals("Wrong base path",ConfigurationAssert.getTestFile(testFile).getAbsoluteFile(),basePathFile);
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether a reloading sub builder can be created.
 */
@Test public void testReloadingBuilder() throws ConfigurationException {
  Map<String,Object> attrs=new HashMap<String,Object>();
  attrs.put("config-reload",Boolean.TRUE);
  prepareSubBuilderTest(attrs);
  builder.getConfiguration();
  assertTrue("Not a reloading builder",builder.getNamedBuilder(BUILDER_NAME) instanceof ReloadingFileBasedConfigurationBuilder);
}

</code></pre>

<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests the structure of the returned combined configuration if there is no
 * additional section.
 */
@Test public void testCombinedConfigurationNoAdditional() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  CombinedConfiguration cc=builder.getConfiguration();
  assertNull("Additional configuration was found",cc.getConfiguration(CombinedConfigurationBuilder.ADDITIONAL_NAME));
}

</code></pre>

<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tries to build a configuration if no definition builder is provided.
 */
@Test(expected=ConfigurationException.class) public void testNoDefinitionBuilder() throws ConfigurationException {
  builder.getConfiguration();
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests loading a configuration definition file with an additional section.
 */
@Test public void testLoadAdditional() throws ConfigurationException {
  File additonalFile=ConfigurationAssert.getTestFile("testDigesterConfiguration2.xml");
  builder.configure(createParameters().setFile(additonalFile));
  CombinedConfiguration compositeConfiguration=builder.getConfiguration();
  assertEquals("Verify how many configs",2,compositeConfiguration.getNumberOfConfigurations());
  Object prop=compositeConfiguration.getProperty("tables.table.name");
  assertTrue(prop instanceof Collection);
  assertEquals(3,((Collection<?>)prop).size());
  assertEquals("users",compositeConfiguration.getProperty("tables.table(0).name"));
  assertEquals("documents",compositeConfiguration.getProperty("tables.table(1).name"));
  assertEquals("tasks",compositeConfiguration.getProperty("tables.table(2).name"));
  prop=compositeConfiguration.getProperty("tables.table.fields.field.name");
  assertTrue(prop instanceof Collection);
  assertEquals(17,((Collection<?>)prop).size());
  assertEquals("smtp.mydomain.org",compositeConfiguration.getString("mail.host.smtp"));
  assertEquals("pop3.mydomain.org",compositeConfiguration.getString("mail.host.pop"));
  assertEquals("masterOfPost",compositeConfiguration.getString("mail.account.user"));
  assertEquals("topsecret",compositeConfiguration.getString("mail.account.psswd"));
  assertEquals("enhanced factory",compositeConfiguration.getString("test.configuration"));
}

</code></pre>

<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tries to query a named builder before the result configuration has been
 * created.
 */
@Test(expected=ConfigurationException.class) public void testGetNamedBuilderBeforeConfigurationAccess() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  builder.getNamedBuilder("nonExistingBuilder");
}

</code></pre>

<pre class="type-2 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
/** 
 * Tests whether an entity resolver can be defined in the definition file.
 */
@Test public void testCustomEntityResolver() throws ConfigurationException {
  File resolverFile=ConfigurationAssert.getTestFile("testCCEntityResolver.xml");
  builder.configure(createParameters().setFile(resolverFile));
  CombinedConfiguration cc=builder.getConfiguration();
  XMLConfiguration xmlConf=(XMLConfiguration)cc.getConfiguration("xml");
  EntityResolverWithPropertiesTestImpl resolver=(EntityResolverWithPropertiesTestImpl)xmlConf.getEntityResolver();
  assertFalse("No lookups",resolver.getInterpolator().getLookups().isEmpty());
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the resulting combined configuration can be customized.
 */
@Test public void testCustomResultConfiguration() throws ConfigurationException {
  File testFile=ConfigurationAssert.getTestFile("testCCResultClass.xml");
  ListDelimiterHandler listHandler=new DefaultListDelimiterHandler('.');
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilderParameters(new XMLBuilderParametersImpl().setFile(testFile)).setListDelimiterHandler(listHandler).setThrowExceptionOnMissing(false));
  CombinedConfiguration cc=builder.getConfiguration();
  assertTrue("Wrong configuration class: " + cc.getClass(),cc instanceof CombinedConfigurationTestImpl);
  assertTrue("Wrong exception flag",cc.isThrowExceptionOnMissing());
  assertEquals("Wrong list delimiter handler",listHandler,cc.getListDelimiterHandler());
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether a newly created instance can be read concurrently without a
 * special synchronizer.
 */
@Test public void testConcurrentReadAccessWithoutSynchronizer() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  CombinedConfiguration config=builder.getConfiguration();
  final int threadCount=32;
  CountDownLatch startLatch=new CountDownLatch(1);
  ReadThread[] threads=new ReadThread[threadCount];
  for (int i=0; i < threadCount; i++) {
    threads[i]=new ReadThread(config,startLatch);
    threads[i].start();
  }
  startLatch.countDown();
  for (  ReadThread t : threads) {
    t.verify();
  }
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether a default file system can be configured in the definition
 * file.
 */
@Test public void testCustomFileSystem() throws ConfigurationException {
  checkFileSystem(ConfigurationAssert.getTestFile("testCCFileSystem.xml"));
}

</code></pre>

<pre class="type-2 type-5 type-1 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether a child configuration builder inherits the event listeners
 * from its parent.
 */
@Test public void testConfigurationBuilderProviderInheritEventListeners() throws ConfigurationException {
  @SuppressWarnings("unchecked") EventListener<Event> l1=EasyMock.createNiceMock(EventListener.class);
  @SuppressWarnings("unchecked") EventListener<ConfigurationEvent> l2=EasyMock.createNiceMock(EventListener.class);
  EasyMock.replay(l1,l2);
  File testFile=ConfigurationAssert.getTestFile("testCCCombinedChildBuilder.xml");
  builder.configure(new XMLBuilderParametersImpl().setFile(testFile));
  builder.addEventListener(Event.ANY,l1);
  builder.addEventListener(ConfigurationEvent.ANY,l2);
  CombinedConfiguration cc=builder.getConfiguration();
  CombinedConfiguration cc2=(CombinedConfiguration)cc.getConfiguration("subcc");
  Collection<EventListener<? super ConfigurationEvent>> listeners=cc2.getEventListeners(ConfigurationEvent.ANY);
  assertTrue("Listener 1 not found",listeners.contains(l1));
  assertTrue("Listener 2 not found",listeners.contains(l2));
  Collection<EventListener<? super Event>> eventListeners=cc2.getEventListeners(Event.ANY);
  assertEquals("Wrong number of event listeners",1,eventListeners.size());
  assertTrue("Wrong listener",eventListeners.contains(l1));
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests whether an INI configuration source can be added to the combined
 * configuration.
 */
@Test public void testINIConfiguration() throws ConfigurationException {
  File multiFile=ConfigurationAssert.getTestFile("testDigesterConfiguration3.xml");
  builder.configure(new CombinedBuilderParametersImpl().setDefinitionBuilderParameters(createParameters().setFile(multiFile)));
  CombinedConfiguration cc=builder.getConfiguration();
  assertEquals("Property from ini file not found","yes",cc.getString("testini.loaded"));
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests whether a MultiFileConfigurationBuilder can be integrated into a
 * combined configuration definition.
 */
@Test public void testMultiTenentConfiguration() throws ConfigurationException {
  CombinedConfiguration config=createMultiFileConfig("testCCMultiTenent.xml");
  checkMultiFile("1001",config,15);
  checkMultiFile("1002",config,25);
  checkMultiFile("1003",config,35);
  checkMultiFile("1004",config,50);
}

</code></pre>

<pre class="type-2 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests that the combined configuration has been fully constructed
 * (including its root node) when it is returned from the builder.
 */
@Test public void testRootNodeInitializedAfterCreation() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  CombinedConfiguration cc=builder.getConfiguration();
  assertNotNull("Root node not initialized",cc.getNodeModel().getNodeHandler().getRootNode());
}

</code></pre>

<pre class="type-15 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void tearDown() throws Exception {
  System.getProperties().remove(MULTI_FILE_PROPERTY);
}

</code></pre>

<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Tests loading a simple configuration definition file.
 */
@Test public void testLoadConfiguration() throws ConfigurationException {
  builder.configure(createParameters().setFile(TEST_FILE));
  checkConfiguration();
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
