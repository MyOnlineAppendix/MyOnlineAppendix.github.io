<h3 style="margin:0px">Class: org.apache.commons.math4.stat.descriptive.UnivariateStatisticAbstractTest (5 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(4)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopy(){
  UnivariateStatistic original=getUnivariateStatistic();
  UnivariateStatistic copy=original.copy();
  Assert.assertEquals(expectedValue(),copy.evaluate(testArray),getTolerance());
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEvaluation(){
  Assert.assertEquals(expectedValue(),getUnivariateStatistic().evaluate(testArray),getTolerance());
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEvaluateArraySegmentWeighted(){
  UnivariateStatistic statistic=getUnivariateStatistic();
  if (!(statistic instanceof WeightedEvaluation)) {
    return;
  }
  final WeightedEvaluation stat=(WeightedEvaluation)getUnivariateStatistic();
  final double[] arrayZero=new double[5];
  final double[] weightZero=new double[5];
  System.arraycopy(testArray,0,arrayZero,0,5);
  System.arraycopy(testWeightsArray,0,weightZero,0,5);
  Assert.assertEquals(stat.evaluate(arrayZero,weightZero),stat.evaluate(testArray,testWeightsArray,0,5),0);
  final double[] arrayOne=new double[5];
  final double[] weightOne=new double[5];
  System.arraycopy(testArray,5,arrayOne,0,5);
  System.arraycopy(testWeightsArray,5,weightOne,0,5);
  Assert.assertEquals(stat.evaluate(arrayOne,weightOne),stat.evaluate(testArray,testWeightsArray,5,5),0);
  final double[] arrayEnd=new double[5];
  final double[] weightEnd=new double[5];
  System.arraycopy(testArray,testArray.length - 5,arrayEnd,0,5);
  System.arraycopy(testWeightsArray,testArray.length - 5,weightEnd,0,5);
  Assert.assertEquals(stat.evaluate(arrayEnd,weightEnd),stat.evaluate(testArray,testWeightsArray,testArray.length - 5,5),0);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEvaluateArraySegment(){
  final UnivariateStatistic stat=getUnivariateStatistic();
  final double[] arrayZero=new double[5];
  System.arraycopy(testArray,0,arrayZero,0,5);
  Assert.assertEquals(stat.evaluate(arrayZero),stat.evaluate(testArray,0,5),0);
  final double[] arrayOne=new double[5];
  System.arraycopy(testArray,5,arrayOne,0,5);
  Assert.assertEquals(stat.evaluate(arrayOne),stat.evaluate(testArray,5,5),0);
  final double[] arrayEnd=new double[5];
  System.arraycopy(testArray,testArray.length - 5,arrayEnd,0,5);
  Assert.assertEquals(stat.evaluate(arrayEnd),stat.evaluate(testArray,testArray.length - 5,5),0);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests consistency of weighted statistic computation.
 * For statistics that support weighted evaluation, this test case compares
 * the result of direct computation on an array with repeated values with
 * a weighted computation on the corresponding (shorter) array with each
 * value appearing only once but with a weight value equal to its multiplicity
 * in the repeating array.
 */
@Test public void testWeightedConsistency(){
  UnivariateStatistic statistic=getUnivariateStatistic();
  if (!(statistic instanceof WeightedEvaluation)) {
    return;
  }
  final int len=10;
  final double mu=0;
  final double sigma=5;
  double[] values=new double[len];
  double[] weights=new double[len];
  int[] intWeights=new int[len];
  final IntegerDistribution weightDist=new UniformIntegerDistribution(1,5);
  for (int i=0; i < len; i++) {
    intWeights[i]=weightDist.sample();
    weights[i]=intWeights[i];
  }
  final RealDistribution valueDist=new NormalDistribution(mu,sigma);
  List<Double> valuesList=new ArrayList<Double>();
  for (int i=0; i < len; i++) {
    double value=valueDist.sample();
    values[i]=value;
    for (int j=0; j < intWeights[i]; j++) {
      valuesList.add(new Double(value));
    }
  }
  int sumWeights=valuesList.size();
  double[] repeatedValues=new double[sumWeights];
  for (int i=0; i < sumWeights; i++) {
    repeatedValues[i]=valuesList.get(i);
  }
  WeightedEvaluation weightedStatistic=(WeightedEvaluation)statistic;
  TestUtils.assertRelativelyEquals(statistic.evaluate(repeatedValues),weightedStatistic.evaluate(values,weights,0,values.length),10E-12);
  Assert.assertEquals(weightedStatistic.evaluate(values,weights,0,values.length),weightedStatistic.evaluate(values,weights),Double.MIN_VALUE);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
