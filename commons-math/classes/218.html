<h3 style="margin:0px">Class: org.apache.commons.math4.linear.QRDecompositionTest (10 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(7)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test the orthogonality of Q 
 */
@Test public void testQOrthogonal(){
  checkQOrthogonal(MatrixUtils.createRealMatrix(testData3x3NonSingular));
  checkQOrthogonal(MatrixUtils.createRealMatrix(testData3x3Singular));
  checkQOrthogonal(MatrixUtils.createRealMatrix(testData3x4));
  checkQOrthogonal(MatrixUtils.createRealMatrix(testData4x3));
  Random r=new Random(643895747384642l);
  int p=(5 * BlockRealMatrix.BLOCK_SIZE) / 4;
  int q=(7 * BlockRealMatrix.BLOCK_SIZE) / 4;
  checkQOrthogonal(createTestMatrix(r,p,q));
  checkQOrthogonal(createTestMatrix(r,q,p));
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test that H is trapezoidal 
 */
@Test public void testHTrapezoidal(){
  RealMatrix matrix=MatrixUtils.createRealMatrix(testData3x3NonSingular);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
  matrix=MatrixUtils.createRealMatrix(testData3x3Singular);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
  matrix=MatrixUtils.createRealMatrix(testData3x4);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
  matrix=MatrixUtils.createRealMatrix(testData4x3);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
  Random r=new Random(643895747384642l);
  int p=(5 * BlockRealMatrix.BLOCK_SIZE) / 4;
  int q=(7 * BlockRealMatrix.BLOCK_SIZE) / 4;
  matrix=createTestMatrix(r,p,q);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
  matrix=createTestMatrix(r,p,q);
  checkTrapezoidal(new QRDecomposition(matrix).getH());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test that R is upper triangular 
 */
@Test public void testRUpperTriangular(){
  RealMatrix matrix=MatrixUtils.createRealMatrix(testData3x3NonSingular);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
  matrix=MatrixUtils.createRealMatrix(testData3x3Singular);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
  matrix=MatrixUtils.createRealMatrix(testData3x4);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
  matrix=MatrixUtils.createRealMatrix(testData4x3);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
  Random r=new Random(643895747384642l);
  int p=(5 * BlockRealMatrix.BLOCK_SIZE) / 4;
  int q=(7 * BlockRealMatrix.BLOCK_SIZE) / 4;
  matrix=createTestMatrix(r,p,q);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
  matrix=createTestMatrix(r,p,q);
  checkUpperTriangular(new QRDecomposition(matrix).getR());
}

</code></pre>

<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SingularMatrixException.class) public void testQRSingular(){
  final RealMatrix a=MatrixUtils.createRealMatrix(new double[][]{{1,6,4},{2,4,-1},{-1,2,5}});
  final RealVector b=new ArrayRealVector(new double[]{5,6,1});
  new QRDecomposition(a,1.0e-15).getSolver().solve(b);
}

</code></pre>

<pre class="type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvertTallSkinny(){
  RealMatrix a=MatrixUtils.createRealMatrix(testData4x3);
  RealMatrix pinv=new QRDecomposition(a).getSolver().getInverse();
  Assert.assertEquals(0,pinv.multiply(a).subtract(MatrixUtils.createRealIdentityMatrix(3)).getNorm(),1.0e-6);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test dimensions 
 */
@Test public void testDimensions(){
  checkDimension(MatrixUtils.createRealMatrix(testData3x3NonSingular));
  checkDimension(MatrixUtils.createRealMatrix(testData4x3));
  checkDimension(MatrixUtils.createRealMatrix(testData3x4));
  Random r=new Random(643895747384642l);
  int p=(5 * BlockRealMatrix.BLOCK_SIZE) / 4;
  int q=(7 * BlockRealMatrix.BLOCK_SIZE) / 4;
  checkDimension(createTestMatrix(r,p,q));
  checkDimension(createTestMatrix(r,q,p));
}

</code></pre>

<pre class="type-7 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=SingularMatrixException.class) public void testNonInvertible(){
  QRDecomposition qr=new QRDecomposition(MatrixUtils.createRealMatrix(testData3x3Singular));
  qr.getSolver().getInverse();
}

</code></pre>

<pre class="type-9 type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * test matrices values 
 */
@Test public void testMatricesValues(){
  QRDecomposition qr=new QRDecomposition(MatrixUtils.createRealMatrix(testData3x3NonSingular));
  RealMatrix qRef=MatrixUtils.createRealMatrix(new double[][]{{-12.0 / 14.0,69.0 / 175.0,-58.0 / 175.0},{-6.0 / 14.0,-158.0 / 175.0,6.0 / 175.0},{4.0 / 14.0,-30.0 / 175.0,-165.0 / 175.0}});
  RealMatrix rRef=MatrixUtils.createRealMatrix(new double[][]{{-14.0,-21.0,14.0},{0.0,-175.0,70.0},{0.0,0.0,35.0}});
  RealMatrix hRef=MatrixUtils.createRealMatrix(new double[][]{{26.0 / 14.0,0.0,0.0},{6.0 / 14.0,648.0 / 325.0,0.0},{-4.0 / 14.0,36.0 / 325.0,2.0}});
  RealMatrix q=qr.getQ();
  Assert.assertEquals(0,q.subtract(qRef).getNorm(),1.0e-13);
  RealMatrix qT=qr.getQT();
  Assert.assertEquals(0,qT.subtract(qRef.transpose()).getNorm(),1.0e-13);
  RealMatrix r=qr.getR();
  Assert.assertEquals(0,r.subtract(rRef).getNorm(),1.0e-13);
  RealMatrix h=qr.getH();
  Assert.assertEquals(0,h.subtract(hRef).getNorm(),1.0e-13);
  Assert.assertTrue(q == qr.getQ());
  Assert.assertTrue(r == qr.getR());
  Assert.assertTrue(h == qr.getH());
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * test A = QR 
 */
@Test public void testAEqualQR(){
  checkAEqualQR(MatrixUtils.createRealMatrix(testData3x3NonSingular));
  checkAEqualQR(MatrixUtils.createRealMatrix(testData3x3Singular));
  checkAEqualQR(MatrixUtils.createRealMatrix(testData3x4));
  checkAEqualQR(MatrixUtils.createRealMatrix(testData4x3));
  Random r=new Random(643895747384642l);
  int p=(5 * BlockRealMatrix.BLOCK_SIZE) / 4;
  int q=(7 * BlockRealMatrix.BLOCK_SIZE) / 4;
  checkAEqualQR(createTestMatrix(r,p,q));
  checkAEqualQR(createTestMatrix(r,q,p));
}

</code></pre>

<pre class="type-9 type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvertShortWide(){
  RealMatrix a=MatrixUtils.createRealMatrix(testData3x4);
  RealMatrix pinv=new QRDecomposition(a).getSolver().getInverse();
  Assert.assertEquals(0,a.multiply(pinv).subtract(MatrixUtils.createRealIdentityMatrix(3)).getNorm(),1.0e-6);
  Assert.assertEquals(0,pinv.multiply(a).getSubMatrix(0,2,0,2).subtract(MatrixUtils.createRealIdentityMatrix(3)).getNorm(),1.0e-6);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
