<h3 style="margin:0px">Class: org.apache.commons.math4.stat.inference.KolmogorovSmirnovTestTest (26 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(21)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(5)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(3)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="20"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('20')" data-toggle="tooltip" title="Is an empty test case"><kbd id="tag-20"class="label-info"style="display: inline-block;font-size:7pt" >EmptyTester&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Uniform distribution, unit normal dataset 
 */
@Test public void testOneSampleUniformGaussian(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final UniformRealDistribution unif=new UniformRealDistribution(-0.5,0.5);
  Assert.assertEquals(4.9405812774239166E-11,test.kolmogorovSmirnovTest(unif,gaussian,false),TOLERANCE);
  Assert.assertTrue(test.kolmogorovSmirnovTest(unif,gaussian,0.05));
  Assert.assertEquals(0.3401058049019608,test.kolmogorovSmirnovStatistic(unif,gaussian),TOLERANCE);
}

</code></pre>

<pre class="type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit normal distribution, unit normal data, small dataset 
 */
@Test public void testOneSampleGaussianGaussianSmallSample(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final NormalDistribution unitNormal=new NormalDistribution(0d,1d);
  final double[] shortGaussian=new double[50];
  System.arraycopy(gaussian,0,shortGaussian,0,50);
  Assert.assertEquals(0.683736463728347,test.kolmogorovSmirnovTest(unitNormal,shortGaussian,false),TOLERANCE);
  Assert.assertFalse(test.kolmogorovSmirnovTest(unitNormal,gaussian,0.05));
  Assert.assertEquals(0.09820779969463278,test.kolmogorovSmirnovStatistic(unitNormal,shortGaussian),TOLERANCE);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoSampleWithManyTies(){
  final double[] x={0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,3.181199,3.181199,3.181199,3.181199,3.181199,3.181199,3.723539,3.723539,3.723539,3.723539,4.383482,4.383482,4.383482,4.383482,5.320671,5.320671,5.320671,5.717284,6.964001,7.352165,8.710510,8.710510,8.710510,8.710510,8.710510,8.710510,9.539004,9.539004,10.720619,17.726077,17.726077,17.726077,17.726077,22.053875,23.799144,27.355308,30.584960,30.584960,30.584960,30.584960,30.751808};
  final double[] y={0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,2.202653,3.061758,3.723539,5.628420,5.628420,5.628420,5.628420,5.628420,6.916982,6.916982,6.916982,10.178538,10.178538,10.178538,10.178538,10.178538};
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  Assert.assertEquals(0.0640394088,test.kolmogorovSmirnovStatistic(x,y),1e-6);
  Assert.assertEquals(0.9792777290,test.kolmogorovSmirnovTest(x,y),1e-6);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Small samples - exact p-value, checked against R 
 */
@Test public void testTwoSampleSmallSampleExact3(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final double[] smallSample1={-10,-5,17,21,22,23,24,30,44,50,56,57,59,67,73,75,77,78,79,80,81,83,84,85,88,90,92,93,94,95,98,100,101,103,105,110};
  final double[] smallSample2={-2,-1,0,10,14,15,16,20,25,26,27,31,32,33,34,45,47,48,51,52,53,54,60,61,62,63,74,82,106,107,109,11,112,113,114};
  Assert.assertEquals(0.00300743602,test.kolmogorovSmirnovTest(smallSample1,smallSample2,false),TOLERANCE);
  Assert.assertEquals(0.4103174603,test.kolmogorovSmirnovStatistic(smallSample1,smallSample2),TOLERANCE);
  Assert.assertEquals(0.00300743602,test.kolmogorovSmirnovTest(smallSample2,smallSample1,false),TOLERANCE);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Small samples - exact p-value, checked against R 
 */
@Test public void testTwoSampleSmallSampleExact(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final double[] smallSample1={6,7,9,13,19,21,22,23,24};
  final double[] smallSample2={10,11,12,16,20,27,28,32,44,54};
  Assert.assertEquals(0.105577085453247,test.kolmogorovSmirnovTest(smallSample1,smallSample2,false),TOLERANCE);
  Assert.assertEquals(0.5,test.kolmogorovSmirnovStatistic(smallSample1,smallSample2),TOLERANCE);
}

</code></pre>

<pre class="type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit normal distribution, uniform data 
 */
@Test public void testOneSampleGaussianUniform(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final NormalDistribution unitNormal=new NormalDistribution(0d,1d);
  Assert.assertEquals(8.881784197001252E-16,test.kolmogorovSmirnovTest(unitNormal,uniform,false),TOLERANCE);
  Assert.assertFalse(test.kolmogorovSmirnovTest(unitNormal,gaussian,0.05));
  Assert.assertEquals(0.5117493931609258,test.kolmogorovSmirnovStatistic(unitNormal,uniform),TOLERANCE);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testFixTies() throws Exception {
  checkFixTies(new double[]{0,1,1,4,0},new double[]{0,5,0.5,0.55,7});
  checkFixTies(new double[]{1,1,1,1,1},new double[]{1,1});
  checkFixTies(new double[]{1,2,3},new double[]{1});
  checkFixTies(new double[]{1,1,0,1,0},new double[]{});
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * JIRA: MATH-1245
 * Verify that D-values are not viewed as distinct when they are mathematically equal
 * when computing p-statistics for small sample tests. Reference values are from R 3.2.0.
 */
@Test public void testDRoundingMonteCarlo(){
  final double tol=1e-2;
  final int iterations=1000000;
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(1000));
  final double[] x={0,2,3,4,5,6,7,8,9,12};
  final double[] y={1,10,11,13,14,15,16,17,18};
  double d=test.kolmogorovSmirnovStatistic(x,y);
  Assert.assertEquals(0.0027495724090154106,test.monteCarloP(d,x.length,y.length,false,iterations),tol);
  final double[] x1={2,4,6,8,9,10,11,12,13};
  final double[] y1={0,1,3,5,7};
  d=test.kolmogorovSmirnovStatistic(x1,y1);
  Assert.assertEquals(0.085914085914085896,test.monteCarloP(d,x1.length,y1.length,false,iterations),tol);
  final double[] x2={4,6,7,8,9,10,11};
  final double[] y2={0,1,2,3,5};
  d=test.kolmogorovSmirnovStatistic(x2,y2);
  Assert.assertEquals(0.015151515151515027,test.monteCarloP(d,x2.length,y2.length,false,iterations),tol);
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * MATH-1181
 * Verify that large sample method is selected for sample product > Integer.MAX_VALUE
 * (integer overflow in sample product)
 */
@Test(timeout=5000) public void testTwoSampleProductSizeOverflow(){
  final int n=50000;
  Assert.assertTrue(n * n < 0);
  double[] x=new double[n];
  double[] y=new double[n];
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  Assert.assertFalse(Double.isNaN(test.kolmogorovSmirnovTest(x,y)));
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Small samples - exact p-value, checked against R 
 */
@Test public void testTwoSampleSmallSampleExact2(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final double[] smallSample1={6,7,9,13,19,21,22,23,24,29,30,34,36,41,45,47,51,63,33,91};
  final double[] smallSample2={10,11,12,16,20,27,28,32,44,54,56,57,64,69,71,80,81,88,90};
  Assert.assertEquals(0.0462986609,test.kolmogorovSmirnovTest(smallSample1,smallSample2,false),TOLERANCE);
  Assert.assertEquals(0.4263157895,test.kolmogorovSmirnovStatistic(smallSample1,smallSample2),TOLERANCE);
}

</code></pre>

<pre class="type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verify that fixTies is deterministic, i.e,
 * x = x', y = y' => fixTies(x,y) = fixTies(x', y')
 */
@Test public void testFixTiesConsistency() throws Exception {
  final double[] x={0,1,2,3,4,2};
  final double[] y={5,6,7,8,1,2};
  final double[] xP=MathArrays.copyOf(x);
  final double[] yP=MathArrays.copyOf(y);
  checkFixTies(x,y);
  final double[] fixedX=MathArrays.copyOf(x);
  final double[] fixedY=MathArrays.copyOf(y);
  checkFixTies(xP,yP);
  Assert.assertArrayEquals(fixedX,xP,0);
  Assert.assertArrayEquals(fixedY,yP,0);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testTwoSampleApproximateCritialValues(){
  final double tol=.01;
  final double[] alpha={0.10,0.05,0.025,0.01,0.005,0.001};
  final double[] c={1.22,1.36,1.48,1.63,1.73,1.95};
  final int k[]={60,100,500};
  double n;
  double m;
  for (int i=0; i < k.length; i++) {
    for (int j=0; j < i; j++) {
      n=k[i];
      m=k[j];
      for (int l=0; l < alpha.length; l++) {
        final double dCrit=c[l] * FastMath.sqrt((n + m) / (n * m));
        checkApproximateTable(k[i],k[j],dCrit,alpha[l],tol);
      }
    }
  }
}

</code></pre>

<pre class="type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Uniform distribution, uniform data, small dataset 
 */
@Test public void testOneSampleUniformUniformSmallSample(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final UniformRealDistribution unif=new UniformRealDistribution(-0.5,0.5);
  final double[] shortUniform=new double[20];
  System.arraycopy(uniform,0,shortUniform,0,20);
  Assert.assertEquals(4.117594598618268E-9,test.kolmogorovSmirnovTest(unif,shortUniform,false),TOLERANCE);
  Assert.assertTrue(test.kolmogorovSmirnovTest(unif,shortUniform,0.05));
  Assert.assertEquals(0.6610459,test.kolmogorovSmirnovStatistic(unif,shortUniform),TOLERANCE);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies large sample approximate p values against R 
 */
@Test public void testTwoSampleApproximateP(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  Assert.assertEquals(0.0319983962391632,test.kolmogorovSmirnovTest(gaussian,gaussian2),TOLERANCE);
  Assert.assertEquals(0.202352941176471,test.kolmogorovSmirnovStatistic(gaussian,gaussian2),TOLERANCE);
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Reference data is R 3.2.0, ks.boot implemented in
 * Matching (Version 4.8-3.4, Build Date: 2013/10/28)
 */
@Test public void testBootstrapLargeSamples(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(1000));
  Assert.assertEquals(0.0237,test.bootstrap(gaussian,gaussian2,10000),1E-2);
}

</code></pre>

<pre class="type-5 type-9 type-11 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFillBooleanArrayRandomlyWithFixedNumberTrueValues(){
  final int[][] parameters={{5,1},{5,2},{5,3},{5,4},{8,1},{8,2},{8,3},{8,4},{8,5},{8,6},{8,7}};
  final double alpha=0.001;
  final int numIterations=1000000;
  final RandomGenerator rng=new Well19937c(0);
  for (  final int[] parameter : parameters) {
    final int arraySize=parameter[0];
    final int numberOfTrueValues=parameter[1];
    final boolean[] b=new boolean[arraySize];
    final long[] counts=new long[1 << arraySize];
    for (int i=0; i < numIterations; ++i) {
      KolmogorovSmirnovTest.fillBooleanArrayRandomlyWithFixedNumberTrueValues(b,numberOfTrueValues,rng);
      int x=0;
      for (int j=0; j < arraySize; ++j) {
        x=((x << 1) | ((b[j]) ? 1 : 0));
      }
      counts[x]+=1;
    }
    final int numCombinations=(int)CombinatoricsUtils.binomialCoefficient(arraySize,numberOfTrueValues);
    final long[] observed=new long[numCombinations];
    final double[] expected=new double[numCombinations];
    Arrays.fill(expected,numIterations / (double)numCombinations);
    int observedIdx=0;
    for (int i=0; i < (1 << arraySize); ++i) {
      if (Integer.bitCount(i) == numberOfTrueValues) {
        observed[observedIdx]=counts[i];
        observedIdx+=1;
      }
 else {
        Assert.assertEquals(0,counts[i]);
      }
    }
    Assert.assertEquals(numCombinations,observedIdx);
    TestUtils.assertChiSquareAccept(expected,observed,alpha);
  }
}

</code></pre>

<pre class="type-20 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is an empty test case">EmptyTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Is an empty test case
"></span><br>
@Test public void testTwoSamplesAllEqual(){
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoSampleMonteCarloDifferentSampleSizes(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(1000));
  final int sampleSize1=14;
  final int sampleSize2=7;
  final double d=0.3;
  final boolean strict=false;
  final double tol=1e-2;
  Assert.assertEquals(test.exactP(d,sampleSize1,sampleSize2,strict),test.monteCarloP(d,sampleSize1,sampleSize2,strict,KolmogorovSmirnovTest.MONTE_CARLO_ITERATIONS),tol);
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test an example where D-values are close (subject to rounding).
 * Reference data is R 3.2.0, ks.boot implemented in
 * Matching (Version 4.8-3.4, Build Date: 2013/10/28)
 */
@Test public void testBootstrapRounding(){
  final double[] x={2,4,6,8,9,10,11,12,13};
  final double[] y={0,1,3,5,7};
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(1000));
  Assert.assertEquals(0.06303,test.bootstrap(x,y,10000,false),1E-2);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * JIRA: MATH-1245
 * Verify that D-values are not viewed as distinct when they are mathematically equal
 * when computing p-statistics for small sample tests. Reference values are from R 3.2.0.
 */
@Test public void testDRounding(){
  final double tol=1e-12;
  final double[] x={0,2,3,4,5,6,7,8,9,12};
  final double[] y={1,10,11,13,14,15,16,17,18};
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  Assert.assertEquals(0.0027495724090154106,test.kolmogorovSmirnovTest(x,y,false),tol);
  final double[] x1={2,4,6,8,9,10,11,12,13};
  final double[] y1={0,1,3,5,7};
  Assert.assertEquals(0.085914085914085896,test.kolmogorovSmirnovTest(x1,y1,false),tol);
  final double[] x2={4,6,7,8,9,10,11};
  final double[] y2={0,1,2,3,5};
  Assert.assertEquals(0.015151515151515027,test.kolmogorovSmirnovTest(x2,y2,false),tol);
}

</code></pre>

<pre class="type-5 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPelzGoodApproximation(){
  KolmogorovSmirnovTest ksTest=new KolmogorovSmirnovTest();
  final double d[]={0.15,0.20,0.25,0.3,0.35,0.4};
  final int n[]={141,150,180,220,1000};
  final double ref[]={0.9968940168727819,0.9979326624184857,0.9994677598604506,0.9999128354780209,0.9999999999998661,0.9999797514476236,0.9999902122242081,0.9999991327060908,0.9999999657681911,0.9999999999977929,0.9999999706444976,0.9999999906571532,0.9999999997949596,0.999999999998745,0.9999999999993876,0.9999999999916627,0.9999999999984447,0.9999999999999936,0.999999999999341,0.9999999999971508,0.9999999999999877,0.9999999999999191,0.9999999999999254,0.9999999999998178,0.9999999999917788,0.9999999999998556,0.9999999999992014,0.9999999999988859,0.9999999999999325,0.9999999999821726};
  final double tol=10e-15;
  int k=0;
  for (int i=0; i < 6; i++) {
    for (int j=0; j < 5; j++, k++) {
      Assert.assertEquals(ref[k],ksTest.pelzGood(d[i],n[j]),tol);
    }
  }
}

</code></pre>

<pre class="type-9 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFixTiesNoOp() throws Exception {
  final double[] x={0,1,2,3,4};
  final double[] y={5,6,7,8};
  final double[] origX=MathArrays.copyOf(x);
  final double[] origY=MathArrays.copyOf(y);
  fixTies(x,y);
  Assert.assertArrayEquals(origX,x,0);
  Assert.assertArrayEquals(origY,y,0);
}

</code></pre>

<pre class="type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test an example with ties in the data.  Reference data is R 3.2.0,
 * ks.boot implemented in Matching (Version 4.8-3.4, Build Date: 2013/10/28)
 */
@Test public void testBootstrapSmallSamplesWithTies(){
  final double[] x={0,2,4,6,8,8,10,15,22,30,33,36,38};
  final double[] y={9,17,20,33,40,51,60,60,72,90,101};
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(2000));
  Assert.assertEquals(0.0059,test.bootstrap(x,y,10000,false),1E-3);
}

</code></pre>

<pre class="type-2 type-3 type-4 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Unit normal distribution, unit normal data 
 */
@Test public void testOneSampleGaussianGaussian(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest();
  final NormalDistribution unitNormal=new NormalDistribution(0d,1d);
  Assert.assertEquals(0.3172069207622391,test.kolmogorovSmirnovTest(unitNormal,gaussian,false),TOLERANCE);
  Assert.assertFalse(test.kolmogorovSmirnovTest(unitNormal,gaussian,0.05));
  Assert.assertEquals(0.0932947561266756,test.kolmogorovSmirnovStatistic(unitNormal,gaussian),TOLERANCE);
}

</code></pre>

<pre class="type-3 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies that Monte Carlo simulation gives results close to exact p values.
 */
@Test public void testTwoSampleMonteCarlo(){
  final KolmogorovSmirnovTest test=new KolmogorovSmirnovTest(new Well19937c(1000));
  final int sampleSize=14;
  final double tol=.001;
  final double[] shortUniform=new double[sampleSize];
  System.arraycopy(uniform,0,shortUniform,0,sampleSize);
  final double[] shortGaussian=new double[sampleSize];
  final double[] shortGaussian2=new double[sampleSize];
  System.arraycopy(gaussian,0,shortGaussian,0,sampleSize);
  System.arraycopy(gaussian,10,shortGaussian2,0,sampleSize);
  final double[] d={test.kolmogorovSmirnovStatistic(shortGaussian,shortUniform),test.kolmogorovSmirnovStatistic(shortGaussian2,shortGaussian)};
  for (  double dv : d) {
    double exactPStrict=test.exactP(dv,sampleSize,sampleSize,true);
    double exactPNonStrict=test.exactP(dv,sampleSize,sampleSize,false);
    double montePStrict=test.monteCarloP(dv,sampleSize,sampleSize,true,KolmogorovSmirnovTest.MONTE_CARLO_ITERATIONS);
    double montePNonStrict=test.monteCarloP(dv,sampleSize,sampleSize,false,KolmogorovSmirnovTest.MONTE_CARLO_ITERATIONS);
    Assert.assertEquals(exactPStrict,montePStrict,tol);
    Assert.assertEquals(exactPNonStrict,montePNonStrict,tol);
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
/** 
 * Checks exact p-value computations using critical values from Table 9 in V.K Rohatgi, An
 * Introduction to Probability and Mathematical Statistics, Wiley, 1976, ISBN 0-471-73135-8.
 */
@Test public void testTwoSampleExactP(){
  checkExactTable(4,6,5d / 6d,0.01d);
  checkExactTable(4,7,17d / 28d,0.2d);
  checkExactTable(6,7,29d / 42d,0.05d);
  checkExactTable(4,10,7d / 10d,0.05d);
  checkExactTable(5,15,11d / 15d,0.02d);
  checkExactTable(9,10,31d / 45d,0.01d);
  checkExactTable(7,10,43d / 70d,0.05d);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
