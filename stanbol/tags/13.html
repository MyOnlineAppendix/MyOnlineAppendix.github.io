<h3><span class=" glyphicon glyphicon-tag"/>&nbspBranchVerifier</h3><kbd>Verifies assertions inside branch conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.stanbol.commons.owl.RunSingleSPARQLTest </h4><pre class="type-13 type-12 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test of testCreateSPARQLQueryExecutionFactory() method, of class RunSingleSPARQL.
 */
@Test public void testCreateSPARQLQueryExecutionFactory(){
  Map<String,String> map=new HashMap<String,String>();
  map.put("rdfs","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("xsd","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("owl","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("rdf","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  map.put("ex","<http://www.semanticweb.org/ontologies/2010/6/ProvaParent.owl#>");
  String query="SELECT * WHERE {?p rdf:type ex:Person .}";
  RunSingleSPARQL instance=new RunSingleSPARQL(owl,map);
  QueryExecution queryExecution=instance.createSPARQLQueryExecutionFactory(query);
  if (queryExecution == null) {
    fail("Some errors occurred in createSPARQLQueryExecutionFactory of KReSRunSPARQL");
  }
  ResultSet result=queryExecution.execSelect();
  if (result != null) {
    int m=0;
    while (result.hasNext()) {
      result.next();
      m++;
    }
    queryExecution.close();
    assertEquals(3,m);
  }
 else {
    fail("Some errors occur in createSPARQLQueryExecutionFactory of KReSRunSPARQL");
  }
}

</code></pre>

<br>
<pre class="type-13 type-12 type-2 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test of removeSPARQLprefix method, of class RunSingleSPARQL.
 */
@Test public void testRemoveSPARQLprefix(){
  Map<String,String> map=new HashMap<String,String>();
  map.put("rdfs","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("xsd","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("owl","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("rdf","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  map.put("ex","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  RunSingleSPARQL instance=new RunSingleSPARQL(owl,map);
  boolean result=instance.removeSPARQLprefix("ex");
  if (result) {
    Map<String,String> mymap=instance.getSPARQLprefix();
    assertEquals(false,mymap.containsKey("ex"));
  }
 else {
    fail("Some errors occur in removeSPARQLprefix of KReSRunSPARQL.");
  }
}

</code></pre>

<br>
<pre class="type-13 type-12 type-2 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test of addSPARQLprefix method, of class RunSingleSPARQL.
 */
@Test public void testAddSPARQLprefix(){
  String label="mylabel";
  String prefix="<http://prova.mylabel.org#>";
  Map<String,String> map=new HashMap<String,String>();
  map.put("rdfs","http://www.w3.org/2000/01/rdf-schema#");
  map.put("xsd","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("owl","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("rdf","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  map.put("ex","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  RunSingleSPARQL instance=new RunSingleSPARQL(owl,map);
  boolean result=instance.addSPARQLprefix(label,prefix);
  if (result) {
    Map<String,String> mymap=instance.getSPARQLprefix();
    assertEquals(prefix,mymap.get(label));
  }
 else {
    fail("Some errors occur in addSPARQLprefix of KReSRunSPARQL.");
  }
}

</code></pre>

<br>
<pre class="type-13 type-12 type-2 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test of getSPARQLprefix method, of class RunSingleSPARQL.
 */
@Test public void testGetSPARQLprefix(){
  Map<String,String> map=new HashMap<String,String>();
  map.put("rdfs","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("xsd","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("owl","<http://www.w3.org/2000/01/rdf-schema#>");
  map.put("rdf","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  map.put("ex","<http://www.w3.org/1999/02/22-rdf-syntax-ns#>");
  RunSingleSPARQL instance=new RunSingleSPARQL(owl,map);
  Map<String,String> expResult=map;
  Map<String,String> result=instance.getSPARQLprefix();
  if (!result.isEmpty()) {
    assertEquals(expResult,result);
  }
 else {
    fail("Some errors occur in getSPARQLprefix of KReSRunSPARQL.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.commons.solr.web.it.SolrDispatchFilterComponentTestBase </h4><pre class="type-9 type-13 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void checkEnginesReady() throws Exception {
  if (coreReady) {
    return;
  }
  if (timedOut) {
    fail("Timeout in previous check of enhancement engines, cannot run tests");
  }
  final RetryLoop.Condition c=new RetryLoop.Condition(){
    @Override public boolean isTrue() throws Exception {
      executor.execute(builder.buildGetRequest(getCorePath() + "admin/ping")).assertStatus(200).assertContentRegexp("<str name=\"status\">OK</str>");
      log.info("Solr Core {} is ready and mapped to {}",coreName,prefix);
      return true;
    }
    @Override public String getDescription(){
      return "Checking that SolrCore " + coreName + " is ready";
    }
  }
;
  new RetryLoop(c,TIMEOUT_SECONDS,WAIT_BETWEEN_TRIES_MSEC){
    @Override protected void reportException(    Throwable t){
      log.info("Exception in RetryLoop, will retry for up to " + getRemainingTimeSeconds() + " seconds: "+ t);
    }
    protected void onTimeout(){
      timedOut=true;
    }
  }
;
  coreReady=true;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.enhancer.engine.topic.TopicEngineTest </h4><pre class="type-8 type-15 type-13 type-12 type-2 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCrossValidation() throws Exception {
  log.info(" --- testCrossValidation --- ");
  Random rng=new Random(0);
  ClassificationReport performanceEstimates;
  int numberOfTopics=10;
  int numberOfDocuments=100;
  int vocabSizeMin=20;
  int vocabSizeMax=30;
  initArtificialTrainingSet(numberOfTopics,numberOfDocuments,vocabSizeMin,vocabSizeMax,rng);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/001");
  assertFalse(performanceEstimates.uptodate);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/002");
  assertFalse(performanceEstimates.uptodate);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/003");
  assertFalse(performanceEstimates.uptodate);
  try {
    classifier.getPerformanceEstimates("urn:doesnotexist");
    fail("Should have raised a ClassifierException");
  }
 catch (  ClassifierException e) {
  }
  assertEquals(numberOfTopics,classifier.updatePerformanceEstimates(true));
  for (int i=1; i <= numberOfTopics; i++) {
    String topic=String.format("urn:t/%03d",i);
    performanceEstimates=classifier.getPerformanceEstimates(topic);
    assertTrue(performanceEstimates.uptodate);
    assertGreater(performanceEstimates.precision,0.45f);
    assertNotNull(performanceEstimates.falsePositiveExampleIds);
    assertNotNull(performanceEstimates.falseNegativeExampleIds);
    if (performanceEstimates.precision < 1) {
      assertFalse(performanceEstimates.falsePositiveExampleIds.isEmpty());
    }
    if (performanceEstimates.recall < 1) {
      assertFalse(performanceEstimates.falseNegativeExampleIds.isEmpty());
    }
    assertGreater(performanceEstimates.recall,0.45f);
    assertGreater(performanceEstimates.f1,0.55f);
    assertGreater(performanceEstimates.positiveSupport,4);
    assertGreater(performanceEstimates.negativeSupport,4);
    assertNotNull(performanceEstimates.evaluationDate);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.enhancer.it.EnhancerTestBase </h4><pre class="type-9 type-13 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void checkEnginesReady() throws Exception {
  log.debug("before {}#checkEngineReady",getClass().getSimpleName());
  if (enginesReady) {
    log.debug("   ... engines already marked as ready");
    return;
  }
  if (timedOut) {
    fail("Timeout in previous check of enhancement engines, cannot run tests");
  }
  final RetryLoop.Condition c=new RetryLoop.Condition(){
    @Override public boolean isTrue() throws Exception {
      log.debug("> checking for Enhancer services: ");
      executor.execute(builder.buildGetRequest(endpoint).withHeader("Accept","text/html")).assertStatus(200).assertContentType("text/html").assertContentRegexp(assertEngines);
      log.info("  ... enpoint '{}' is ready",endpoint);
      executor.execute(builder.buildGetRequest("/entityhub/sites/referenced").withHeader("Accept","application/json")).assertStatus(200).assertContentType("application/json").assertContentRegexp("http:\\\\/\\\\/.*\\\\/entityhub\\\\/site\\\\/dbpedia\\\\/");
      log.debug("  ... entityhub DBpedia referencedSite is ready",endpoint);
      log.info("Enhancement engines checked for '{}', all present",endpoint);
      return true;
    }
    @Override public String getDescription(){
      return String.format("Checking that all enhancement engines for " + "endpoint '%s' are ready",endpoint);
    }
  }
;
  new RetryLoop(c,ENGINES_TIMEOUT_SECONDS,WAIT_BETWEEN_TRIES_MSEC){
    @Override protected void reportException(    Throwable t){
      log.info("Exception in RetryLoop, will retry for up to " + getRemainingTimeSeconds() + " seconds: ",t);
    }
    protected void onTimeout(){
      timedOut=true;
    }
  }
;
  enginesReady=true;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.enhancer.nlp.model.AnalysedTextTest </h4><pre class="type-8 type-15 type-13 type-12 type-2 type-6 type-4 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test relative additions (with relative indexes) as well as iterators
 * over this hierarchy
 */
@Test public void testSpanHierarchy(){
  int[] startPos=new int[]{0,1,2};
  int[] endPos=new int[]{1,2,3};
  int maxVal=endPos[endPos.length - 1];
  int tokenLength=5;
  int chunkLength=tokenLength * maxVal;
  int sentenceLength=tokenLength * maxVal * maxVal;
  List<Sentence> sentences=new ArrayList<Sentence>(startPos.length);
  List<Chunk> chunks=new ArrayList<Chunk>(startPos.length * 2);
  List<Token> tokens=new ArrayList<Token>(startPos.length * 3);
  int start;
  int end;
  log.info("--- adding Spans ---");
  for (int s=0; s < startPos.length; s++) {
    start=startPos[s] * sentenceLength;
    end=endPos[s] * sentenceLength;
    Sentence sent=at.addSentence(start,end);
    log.info("add {}",sent);
    Assert.assertEquals(start,sent.getStart());
    Assert.assertEquals(end,sent.getEnd());
    sentences.add(sent);
  }
  Iterator<Sentence> sentenceIt=at.getSentences();
  while (sentenceIt.hasNext()) {
    Sentence sent=sentenceIt.next();
    for (int c=0; c < startPos.length; c++) {
      start=startPos[c] * chunkLength;
      end=endPos[c] * chunkLength;
      Chunk chunk=sent.addChunk(start,end);
      log.info("  add {}",chunk);
      start=sent.getStart() + start;
      end=sent.getStart() + end;
      Assert.assertEquals(start,chunk.getStart());
      Assert.assertEquals(end,chunk.getEnd());
      chunks.add(chunk);
      for (int t=0; t < startPos.length; t++) {
        start=startPos[t] * tokenLength;
        end=endPos[t] * tokenLength;
        Token token=chunk.addToken(start,end);
        log.info("    add {}",token);
        start=chunk.getStart() + start;
        end=chunk.getStart() + end;
        Assert.assertEquals(start,token.getStart());
        Assert.assertEquals(end,token.getEnd());
        tokens.add(token);
      }
    }
  }
  int chunksInSentence=startPos.length;
  int tokensInChunk=chunksInSentence;
  int tokensInSentence=chunksInSentence * tokensInChunk;
  Iterator<Sentence> sentIt=at.getSentences();
  int s=0;
  int c=0;
  int t=0;
  log.info("--- iterating over Spans ---");
  log.info("{}",at);
  for (; sentIt.hasNext(); s++) {
    Assert.assertTrue(sentences.size() + " Sentences Expected (found: " + (s + 1)+ ")",s < sentences.size());
    Sentence sent=sentIt.next();
    log.info("  {}",sent);
    Assert.assertEquals(sentences.get(s),sent);
    Iterator<Chunk> chunkIt=sent.getChunks();
    int foundChunks=0;
    for (; chunkIt.hasNext(); c++) {
      Assert.assertTrue(chunks.size() + " Chunks Expected (found: " + (c + 1)+ ")",c < chunks.size());
      Chunk chunk=chunkIt.next();
      log.info("    {}",chunk);
      Assert.assertEquals(chunks.get(c),chunk);
      Iterator<Token> tokenIt=chunk.getTokens();
      int foundTokens=0;
      for (; tokenIt.hasNext(); t++) {
        Assert.assertTrue(tokens.size() + " Tokens Expected (found: " + (t + 1)+ ")",t < tokens.size());
        Token token=tokenIt.next();
        log.info("      {}",token);
        Assert.assertEquals(tokens.get(t),token);
        foundTokens++;
      }
      Assert.assertEquals(tokensInChunk + " Tokens expected in Chunk",tokensInChunk,foundTokens);
      foundChunks++;
    }
    Assert.assertEquals(chunksInSentence + " Chunks expected in Sentence",chunksInSentence,foundChunks);
    log.info("  {}",sent);
    Iterator<Token> tokenIt=sent.getTokens();
    int foundTokens=0;
    for (; tokenIt.hasNext(); foundTokens++) {
      Token token=tokenIt.next();
      log.info("    {}",token);
      Assert.assertEquals(tokens.get(s * tokensInSentence + foundTokens),token);
    }
    Assert.assertEquals(tokensInSentence + " Tokens expected in Sentence",tokensInSentence,foundTokens);
  }
  Assert.assertEquals(sentences.size() + " Sentences Expected (found: " + s+ ")",sentences.size(),s);
  Assert.assertEquals(chunks.size() + " Chunks Expected (found: " + c+ ")",chunks.size(),c);
  Assert.assertEquals(tokens.size() + " Sentences Expected (found: " + t+ ")",tokens.size(),t);
  Iterator<Chunk> chunkIt=at.getChunks();
  int foundChunks=0;
  log.info("{}",at);
  for (; chunkIt.hasNext(); foundChunks++) {
    Chunk chunk=chunkIt.next();
    log.info("  {}",chunk);
    Assert.assertEquals(chunks.get(foundChunks),chunk);
  }
  Assert.assertEquals(chunks.size() + " Chunks expected in AnalysedText",chunks.size(),foundChunks);
  Iterator<Token> tokenIt=at.getTokens();
  int foundTokens=0;
  log.info("{}",at);
  for (; tokenIt.hasNext(); foundTokens++) {
    Token token=tokenIt.next();
    log.info("  {}",token);
    Assert.assertEquals(tokens.get(foundTokens),token);
  }
  Assert.assertEquals(tokens.size() + " Tokens expected in AnalysedText",tokens.size(),foundTokens);
  Iterator<Span> sentencesAndChunks=at.getEnclosed(EnumSet.of(SpanTypeEnum.Sentence,SpanTypeEnum.Chunk));
  s=0;
  c=0;
  log.info("{} >> Iterate over Sentences and Chunks",at);
  while (sentencesAndChunks.hasNext()) {
    Span span=sentencesAndChunks.next();
    log.info("  {}",span);
    if (span.getType() == SpanTypeEnum.Chunk) {
      Assert.assertEquals(chunks.get(c),span);
      c++;
    }
 else     if (span.getType() == SpanTypeEnum.Sentence) {
      Assert.assertEquals(sentences.get(s),span);
      s++;
    }
 else {
      Assert.fail("Unexpected SpanType '" + span.getType() + " (Span: "+ span.getClass()+ ")");
    }
  }
  Assert.assertEquals(sentences.size() + " Sentences expected in AnalysedText",sentences.size(),s);
  Assert.assertEquals((sentences.size() * chunksInSentence) + " Chunks expected in AnalysedText",(sentences.size() * chunksInSentence),c);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.enhancer.serviceapi.helper.EnhancementPropertyTest </h4><pre class="type-8 type-13 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEngineSpecificChainScopedProperty() throws ChainException {
  Collection<String> derefernceLanguages=Arrays.asList("en","de");
  String maxSuggestions="5";
  Map<String,Map<String,Object>> enhancementProperties=new HashMap<String,Map<String,Object>>();
  Map<String,Object> linkingProperties=new HashMap<String,Object>();
  linkingProperties.put(PROPERTY_MAX_SUGGESTIONS,Integer.valueOf(maxSuggestions));
  enhancementProperties.put(linking.getName(),linkingProperties);
  Map<String,Object> dereferenceProperties=new HashMap<String,Object>();
  dereferenceProperties.put(PROPERTY_DEREFERENCE_LANGUAGES,derefernceLanguages);
  enhancementProperties.put(dereference.getName(),dereferenceProperties);
  initExecutionMetadata(new TestChain("test",engines,enhancementProperties));
  for (  EnhancementEngine engine : engines) {
    Map<String,Object> props=EnhancementEngineHelper.getEnhancementProperties(engine,contentItem);
    assertNotNull(props);
    if (engine.getName().equals(linking.getName()) || engine.getName().equals(dereference.getName())) {
      assertEquals(1,props.size());
    }
 else {
      assertTrue(props.isEmpty());
    }
    if (engine.getName().equals(linking.getName())) {
      assertTrue(props.containsKey(PROPERTY_MAX_SUGGESTIONS));
      assertEquals(maxSuggestions,props.get(PROPERTY_MAX_SUGGESTIONS));
    }
 else     if (engine.getName().equals(dereference.getName())) {
      assertTrue(props.containsKey(PROPERTY_DEREFERENCE_LANGUAGES));
      Object value=props.get(PROPERTY_DEREFERENCE_LANGUAGES);
      assertTrue(value instanceof Collection<?>);
      assertTrue(derefernceLanguages.containsAll((Collection<?>)value));
      assertEquals(derefernceLanguages.size(),((Collection<?>)value).size());
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-15 type-13 type-2 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This tests if the {@link ExecutionPlanHelper} correctly adds Enhancement
 * Properties to generated Execution plans. <p>
 * NOTE: If this fails also tests testing chain level properties are expected
 * to fail. This only present to validate that the ExecutionPlan is correctly
 * generated by the {@link ExecutionPlanHelper}
 * @throws ChainException
 */
@Test public void testExecutionPropertySupportOfExecutionPlanHelper() throws ChainException {
  Collection<String> derefernceLanguages=Arrays.asList("en","de");
  Integer maxSuggestions=Integer.valueOf(5);
  UriRef maxSuggestionsProperty=new UriRef(NamespaceEnum.ehp + PROPERTY_MAX_SUGGESTIONS);
  UriRef dereferenceLanguagesProperty=new UriRef(NamespaceEnum.ehp + PROPERTY_DEREFERENCE_LANGUAGES);
  Map<String,Map<String,Object>> enhancementProperties=new HashMap<String,Map<String,Object>>();
  Map<String,Object> chainProperties=new HashMap<String,Object>();
  chainProperties.put(PROPERTY_MAX_SUGGESTIONS,maxSuggestions);
  enhancementProperties.put(null,chainProperties);
  Map<String,Object> linkingProperties=new HashMap<String,Object>();
  linkingProperties.put(PROPERTY_DEREFERENCE_LANGUAGES,derefernceLanguages);
  enhancementProperties.put(linking.getName(),linkingProperties);
  Graph ep=ExecutionPlanHelper.calculateExecutionPlan("test",engines,Collections.<String>emptySet(),Collections.<String>emptySet(),enhancementProperties);
  NonLiteral epNode=ExecutionPlanHelper.getExecutionPlan(ep,"test");
  assertNotNull(epNode);
  Iterator<Triple> maxSuggestionValues=ep.filter(epNode,maxSuggestionsProperty,null);
  assertTrue(maxSuggestionValues.hasNext());
  Resource maxSuggestionValue=maxSuggestionValues.next().getObject();
  assertFalse(maxSuggestionValues.hasNext());
  assertTrue(maxSuggestionValue instanceof TypedLiteral);
  assertEquals(maxSuggestions.toString(),((TypedLiteral)maxSuggestionValue).getLexicalForm());
  assertEquals(maxSuggestions,LiteralFactory.getInstance().createObject(Integer.class,(TypedLiteral)maxSuggestionValue));
  boolean found=false;
  for (  NonLiteral ee : ExecutionPlanHelper.getExecutionNodes(ep,epNode)) {
    String engineName=ExecutionPlanHelper.getEngine(ep,ee);
    if (linking.getName().equals(engineName)) {
      found=true;
      Iterator<Triple> derefLangValues=ep.filter(ee,dereferenceLanguagesProperty,null);
      assertTrue(derefLangValues.hasNext());
      int numValues=0;
      while (derefLangValues.hasNext()) {
        Resource r=derefLangValues.next().getObject();
        assertTrue(r instanceof PlainLiteral);
        assertTrue(derefernceLanguages.contains(((PlainLiteral)r).getLexicalForm()));
        numValues++;
      }
      assertEquals(derefernceLanguages.size(),numValues);
    }
  }
  assertTrue("ExecutionNode for the Linking Engine was not present!",found);
}

</code></pre>

<br>
<pre class="type-8 type-13 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEngineSpecificProperties() throws ChainException {
  initExecutionMetadata(new TestChain("test",engines));
  Collection<String> derefernceLanguages=Arrays.asList("en","de");
  String maxSuggestions="5";
  Map<String,Object> ep=ContentItemHelper.initRequestPropertiesContentPart(contentItem);
  assertNotNull("EnhancementProperties ContentPart was not initialised",ep);
  ep.put(linking.getName() + ':' + PROPERTY_MAX_SUGGESTIONS,maxSuggestions);
  ep.put(dereference.getName() + ':' + PROPERTY_DEREFERENCE_LANGUAGES,derefernceLanguages);
  for (  EnhancementEngine engine : engines) {
    Map<String,Object> props=EnhancementEngineHelper.getEnhancementProperties(engine,contentItem);
    assertNotNull(props);
    if (engine.getName().equals(linking.getName()) || engine.getName().equals(dereference.getName())) {
      assertEquals(1,props.size());
    }
 else {
      assertTrue(props.isEmpty());
    }
    if (engine.getName().equals(linking.getName())) {
      assertTrue(props.containsKey(PROPERTY_MAX_SUGGESTIONS));
      assertEquals(maxSuggestions,props.get(PROPERTY_MAX_SUGGESTIONS));
    }
 else     if (engine.getName().equals(dereference.getName())) {
      assertTrue(props.containsKey(PROPERTY_DEREFERENCE_LANGUAGES));
      Object value=props.get(PROPERTY_DEREFERENCE_LANGUAGES);
      assertTrue(value instanceof Collection<?>);
      assertTrue(derefernceLanguages.containsAll((Collection<?>)value));
      assertEquals(derefernceLanguages.size(),((Collection<?>)value).size());
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-13 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This tests that chain scoped chain properties are overridden by 
 * chain scoped engine specific properties
 * @throws ChainException
 */
@Test public void testChainScopedEngineSpecificPropertyOverrides() throws ChainException {
  Map<String,Map<String,Object>> enhancementProperties=new HashMap<String,Map<String,Object>>();
  Map<String,Object> chainProperties=new HashMap<String,Object>();
  chainProperties.put(PROPERTY_MAX_SUGGESTIONS,Integer.valueOf(5));
  enhancementProperties.put(null,chainProperties);
  Map<String,Object> linkingProperties=new HashMap<String,Object>();
  linkingProperties.put(PROPERTY_MAX_SUGGESTIONS,Integer.valueOf(10));
  enhancementProperties.put(linking.getName(),linkingProperties);
  initExecutionMetadata(new TestChain("test",engines,enhancementProperties));
  for (  EnhancementEngine engine : engines) {
    Map<String,Object> props=EnhancementEngineHelper.getEnhancementProperties(engine,contentItem);
    assertNotNull(props);
    assertEquals(1,props.size());
    Assert.assertTrue(props.containsKey(PROPERTY_MAX_SUGGESTIONS));
    if (engine.getName().equals(linking.getName())) {
      Assert.assertEquals("10",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
 else {
      Assert.assertEquals("5",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-13 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEngineSpecificPropertyOverrides() throws ChainException {
  initExecutionMetadata(new TestChain("test",engines));
  String specific=linking.getName();
  Map<String,Object> ep=ContentItemHelper.initRequestPropertiesContentPart(contentItem);
  assertNotNull("EnhancementProperties ContentPart was not initialised",ep);
  ep.put(PROPERTY_MAX_SUGGESTIONS,"5");
  ep.put(specific + ':' + PROPERTY_MAX_SUGGESTIONS,"10");
  for (  EnhancementEngine engine : engines) {
    Map<String,Object> props=EnhancementEngineHelper.getEnhancementProperties(engine,contentItem);
    assertNotNull(props);
    assertEquals(1,props.size());
    Assert.assertTrue(props.containsKey(PROPERTY_MAX_SUGGESTIONS));
    if (engine.getName().equals(specific)) {
      Assert.assertEquals("10",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
 else {
      Assert.assertEquals("5",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
  }
}

</code></pre>

<br>
<pre class="type-8 type-13 type-2 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestScopedPropertiesOverrideChainScopedProperties() throws ChainException {
  Integer chainMaxSuggestion=5;
  String requestMaySuggestion="10";
  Collection<String> chainDerefLang=Arrays.asList("en","de");
  Collection<String> requestDerefLang=Arrays.asList("it","fr");
  Map<String,Map<String,Object>> enhancementProperties=new HashMap<String,Map<String,Object>>();
  Map<String,Object> chainProperties=new HashMap<String,Object>();
  chainProperties.put(PROPERTY_MAX_SUGGESTIONS,chainMaxSuggestion);
  Map<String,Object> dereferenceProperties=new HashMap<String,Object>();
  dereferenceProperties.put(PROPERTY_DEREFERENCE_LANGUAGES,chainDerefLang);
  enhancementProperties.put(dereference.getName(),dereferenceProperties);
  enhancementProperties.put(null,chainProperties);
  initExecutionMetadata(new TestChain("test",engines,enhancementProperties));
  Map<String,Object> ep=ContentItemHelper.initRequestPropertiesContentPart(contentItem);
  assertNotNull("EnhancementProperties ContentPart was not initialised",ep);
  ep.put(linking.getName() + ':' + PROPERTY_MAX_SUGGESTIONS,requestMaySuggestion);
  ep.put(dereference.getName() + ':' + PROPERTY_DEREFERENCE_LANGUAGES,requestDerefLang);
  for (  EnhancementEngine engine : engines) {
    Map<String,Object> props=EnhancementEngineHelper.getEnhancementProperties(engine,contentItem);
    assertNotNull(props);
    assertEquals(engine.getName().equals(dereference.getName()) ? 2 : 1,props.size());
    Assert.assertTrue(props.containsKey(PROPERTY_MAX_SUGGESTIONS));
    if (engine.getName().equals(linking.getName())) {
      Assert.assertEquals("10",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
 else {
      Assert.assertEquals("5",props.get(PROPERTY_MAX_SUGGESTIONS));
    }
    if (engine.getName().equals(dereference.getName())) {
      assertTrue(props.containsKey(PROPERTY_DEREFERENCE_LANGUAGES));
      Object value=props.get(PROPERTY_DEREFERENCE_LANGUAGES);
      assertTrue(value instanceof Collection<?>);
      assertTrue(requestDerefLang.containsAll((Collection<?>)value));
      assertEquals(requestDerefLang.size(),((Collection<?>)value).size());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.enhancer.test.ContentItemFactoryTest </h4><pre class="type-9 type-13 type-1 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Initialises the {@link #contentItemFactory} {@link Before} the first 
 * unit test is executed. Needs not to be manually called by test methods.
 */
@Before public void initFactory() throws IOException {
  if (contentItemFactory == null) {
    contentItemFactory=createContentItemFactory();
    assertNotNull("Unable to create ContentItemFactory instance",contentItemFactory);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.entityhub.indexing.dbpedia.ConfigTest </h4><pre class="type-8 type-15 type-13 type-2 type-6 type-1 type-16 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEntityIdIteratorConfig(){
  IndexingConfig config=new IndexingConfig();
  EntityIterator iterator=config.getEntityIdIterator();
  ScoreNormaliser normaliser=config.getNormaliser();
  if (iterator.needsInitialisation()) {
    iterator.initialise();
  }
  float lastScore=Float.MAX_VALUE;
  float lastNormalisedScore=1f;
  while (iterator.hasNext()) {
    EntityScore entity=iterator.next();
    assertNotNull(entity);
    assertNotNull(entity.id);
    assertNotNull(entity.score);
    assertTrue(entity.id.startsWith("http://dbpedia.org/resource/"));
    float score=entity.score.floatValue();
    assertTrue(score > 0);
    assertTrue(score <= lastScore);
    lastScore=score;
    Float normalisedScore=normaliser.normalise(entity.score);
    assertNotNull(normalisedScore);
    float nScore=normalisedScore.floatValue();
    assertTrue(nScore <= lastNormalisedScore);
    if (score < 2) {
      log.info("score=" + score + " nScore="+ nScore);
      assertTrue(nScore < 0);
      return;
    }
 else {
      assertTrue(nScore > 0);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.entityhub.test.it.EntityhubTestBase </h4><pre class="type-9 type-13 type-12 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void checkEntityhubReady() throws Exception {
  if (entityhubReady) {
    return;
  }
  if (timedOut) {
    fail("Timeout in previous check of the entityhub, cannot run tests");
  }
  final RetryLoop.Condition c=new RetryLoop.Condition(){
    @Override public boolean isTrue() throws Exception {
      executor.execute(builder.buildGetRequest("/entityhub").withHeader("Accept","text/html")).assertStatus(200).assertContentType("text/html");
      RequestExecutor re=executor.execute(builder.buildGetRequest("/entityhub/sites/referenced").withHeader("Accept","application/json"));
      re.assertStatus(200);
      re.assertContentType("application/json");
      for (      String referencedSite : referencedSites) {
        if (referencedSite != null && !referencedSite.isEmpty()) {
          re.assertContentRegexp(String.format("http:\\\\/\\\\/.*\\\\/entityhub\\\\/site\\\\/%s\\\\/",referencedSite));
        }
      }
      for (      String referencedSite : referencedSites) {
        re=executor.execute(builder.buildGetRequest("/entityhub/site/" + referencedSite).withHeader("Accept","application/json"));
        re.assertStatus(200);
        re.assertContentType("application/json");
        re=executor.execute(builder.buildGetRequest("/entityhub/site/" + referencedSite).withHeader("Accept","application/rdf+xml"));
        re.assertStatus(200);
        re.assertContentType("application/rdf+xml");
      }
      log.info("Entityhub services checked, all present");
      return true;
    }
    @Override public String getDescription(){
      return "Checking that teh Entityhub and the dbpedia ReferencedSite are ready";
    }
  }
;
  new RetryLoop(c,ENTITYHUB_TIMEOUT_SECONDS,WAIT_BETWEEN_TRIES_MSEC){
    @Override protected void reportException(    Throwable t){
      log.info("Exception in RetryLoop, will retry for up to " + getRemainingTimeSeconds() + " seconds: "+ t);
    }
    protected void onTimeout(){
      timedOut=true;
    }
  }
;
  entityhubReady=true;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.entityhub.yard.sesame.SesameContextTest </h4><pre class="type-13 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
/** 
 * Checks the expected visibility of Entities to the different yards
 * @throws YardException 
 */
@Test public void testRetrival() throws YardException {
  for (  Entry<URI,List<? extends Yard>> entry : expectedEntities.entrySet()) {
    for (    Yard yard : yards) {
      if (entry.getValue().contains(yard)) {
        validateEntity(yard,entry.getKey());
      }
 else {
        Assert.assertFalse("Entity " + entry.getKey() + " is not expected in Yard "+ yard.getName()+ "!",yard.isRepresentation(entry.getKey().stringValue()));
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.stanbol.ontologymanager.registry.TestOntologyRegistry </h4><pre class="type-13 type-2 type-6 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that, when loading multiple registries that add library information to each other, the overall
 * model reflects the union of these registries.
 * @throws Exception
 */
@Test public void testRegistryUnion() throws Exception {
  Set<OWLOntology> regs=new HashSet<OWLOntology>();
  regs.add(virginOntologyManager.loadOntology(Locations._REGISTRY_TEST));
  regs.add(virginOntologyManager.loadOntology(Locations._REGISTRY_TEST_ADDITIONS));
  Set<Registry> rs=regman.createModel(regs);
  for (  Registry r : rs) {
    int count=3;
    if (Locations._REGISTRY_TEST.equals(r.getIRI()))     assertEquals(count,r.getChildren().length);
 else     if (Locations._REGISTRY_TEST_ADDITIONS.equals(r.getIRI()))     assertEquals(1,r.getChildren().length);
    for (    RegistryItem lib : r.getChildren()) {
      if (Locations.LIBRARY_TEST1.equals(lib.getIRI())) {
        boolean found=false;
        for (        RegistryItem child : lib.getChildren()) {
          if (child instanceof RegistryOntology && Locations.ONT_TEST1.equals(child.getIRI())) {
            found=true;
            break;
          }
        }
        assertTrue(found);
        break;
      }
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
