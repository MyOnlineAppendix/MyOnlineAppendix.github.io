<h3 style="margin:0px">Class: org.apache.stanbol.enhancer.engine.topic.TopicEngineTest (10 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(2)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="15"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('15')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-15"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
/** 
 * resets the "user.dir" system property the the original value
 */
@AfterClass public static void cleanup(){
  System.setProperty("user.dir",userDir);
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testImportModelFromSKOS() throws Exception {
  log.info(" --- testImportModelFromSKOS --- ");
  Parser parser=Parser.getInstance();
  parser.bindParsingProvider(new JenaParserProvider());
  Graph graph=parser.parse(getClass().getResourceAsStream("/sample-scheme.skos.rdf.xml"),SupportedFormat.RDF_XML);
  int imported=classifier.importConceptsFromGraph(graph,OntologicalClasses.SKOS_CONCEPT,Properties.SKOS_BROADER);
  assertEquals(imported,4);
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/ns#someconceptscheme/100").size());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/ns#someconceptscheme/200").size());
  assertEquals(1,classifier.getBroaderConcepts("http://example.com/ns#someconceptscheme/010").size());
  assertEquals(1,classifier.getBroaderConcepts("http://example.com/ns#someconceptscheme/020").size());
  assertEquals(2,classifier.getRootConcepts().size());
}

</code></pre>

<pre class="type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void cleanupEmbeddedSolrServer(){
  solrHome=null;
  classifierSolrServer=null;
  trainingSetSolrServer=null;
  trainingSet=null;
  classifier.deactivate(null);
}

</code></pre>

<pre class="type-12 type-2 type-6 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdatePerformanceEstimates() throws Exception {
  log.info(" --- testUpdatePerformanceEstimates --- ");
  ClassificationReport performanceEstimates;
  try {
    classifier.getPerformanceEstimates("urn:t/001");
    fail("Should have raised ClassifierException");
  }
 catch (  ClassifierException e) {
  }
  classifier.addConcept("urn:t/001",null);
  classifier.addConcept("urn:t/002",Arrays.asList("urn:t/001"));
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/002");
  assertFalse(performanceEstimates.uptodate);
  classifier.updatePerformanceMetadata("urn:t/002",0.76f,0.60f,34,32,Arrays.asList("ex14","ex78"),Arrays.asList("ex34","ex23","ex89"));
  classifier.getActiveSolrServer().commit();
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/002");
  assertTrue(performanceEstimates.uptodate);
  assertEquals(0.76f,performanceEstimates.precision,0.01);
  assertEquals(0.60f,performanceEstimates.recall,0.01);
  assertEquals(0.67f,performanceEstimates.f1,0.01);
  assertEquals(34,performanceEstimates.positiveSupport);
  assertEquals(32,performanceEstimates.negativeSupport);
  assertTrue(classifier.getBroaderConcepts("urn:t/002").contains("urn:t/001"));
  classifier.updatePerformanceMetadata("urn:t/002",0.79f,0.63f,10,10,Arrays.asList("ex1","ex5"),Arrays.asList("ex3","ex10","ex11"));
  classifier.getActiveSolrServer().commit();
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/002");
  assertTrue(performanceEstimates.uptodate);
  assertEquals(0.775f,performanceEstimates.precision,0.01);
  assertEquals(0.615f,performanceEstimates.recall,0.01);
  assertEquals(0.695f,performanceEstimates.f1,0.01);
  assertEquals(44,performanceEstimates.positiveSupport);
  assertEquals(42,performanceEstimates.negativeSupport);
}

</code></pre>

<pre class="type-8 type-12 type-2 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEngineConfiguration() throws ConfigurationException {
  log.info(" --- testEngineConfiguration --- ");
  Hashtable<String,Object> config=getDefaultClassifierConfigParams();
  TopicClassificationEngine classifier=TopicClassificationEngine.fromParameters(config);
  assertNotNull(classifier);
  assertEquals(classifier.engineName,"test-engine");
  assertEquals(classifier.getActiveSolrServer(),classifierSolrServer);
  assertEquals(classifier.conceptUriField,"concept");
  assertEquals(classifier.similarityField,"classifier_features");
  assertEquals(classifier.acceptedLanguages,new ArrayList<String>());
  Hashtable<String,Object> configWithMissingEngineName=new Hashtable<String,Object>();
  configWithMissingEngineName.putAll(config);
  configWithMissingEngineName.remove(EnhancementEngine.PROPERTY_NAME);
  try {
    TopicClassificationEngine.fromParameters(configWithMissingEngineName);
    fail("Should have raised a ConfigurationException");
  }
 catch (  ConfigurationException e) {
  }
  Hashtable<String,Object> configWithAcceptLangage=new Hashtable<String,Object>();
  configWithAcceptLangage.putAll(config);
  configWithAcceptLangage.put(TopicClassificationEngine.LANGUAGES,"en, fr");
  classifier=TopicClassificationEngine.fromParameters(configWithAcceptLangage);
  assertNotNull(classifier);
  assertEquals(classifier.acceptedLanguages,Arrays.asList("en","fr"));
}

</code></pre>

<pre class="type-2 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProgrammaticThesaurusConstruction() throws Exception {
  log.info(" --- testProgrammaticThesaurusConstruction --- ");
  classifier.addConcept("http://example.com/topics/root1",null);
  classifier.addConcept("http://example.com/topics/root2",null);
  classifier.addConcept("http://example.com/topics/root3",new ArrayList<String>());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root1").size());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root2").size());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root3").size());
  assertEquals(3,classifier.getRootConcepts().size());
  classifier.addConcept("http://example.com/topics/node1",Arrays.asList("http://example.com/topics/root1","http://example.com/topics/root2"));
  classifier.addConcept("http://example.com/topics/node2",Arrays.asList("http://example.com/topics/root3"));
  classifier.addConcept("http://example.com/topics/node3",Arrays.asList("http://example.com/topics/node1","http://example.com/topics/node2"));
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root1").size());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root2").size());
  assertEquals(0,classifier.getBroaderConcepts("http://example.com/topics/root3").size());
  assertEquals(3,classifier.getRootConcepts().size());
  assertEquals(2,classifier.getBroaderConcepts("http://example.com/topics/node1").size());
  assertEquals(1,classifier.getBroaderConcepts("http://example.com/topics/node2").size());
  assertEquals(2,classifier.getBroaderConcepts("http://example.com/topics/node3").size());
  assertEquals(1,classifier.getNarrowerConcepts("http://example.com/topics/root1").size());
  assertEquals(1,classifier.getNarrowerConcepts("http://example.com/topics/root2").size());
  assertEquals(1,classifier.getNarrowerConcepts("http://example.com/topics/root3").size());
  assertEquals(1,classifier.getNarrowerConcepts("http://example.com/topics/node1").size());
  assertEquals(1,classifier.getNarrowerConcepts("http://example.com/topics/node2").size());
  assertEquals(0,classifier.getNarrowerConcepts("http://example.com/topics/node3").size());
}

</code></pre>

<pre class="type-9 type-6 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  solrHome=new File(testRoot,"test" + testCounter);
  testCounter++;
  assertTrue("Unable to create solr.home directory '" + solrHome + "'!",solrHome.mkdir());
  classifierSolrServer=makeEmbeddedSolrServer(solrHome,"classifierserver","test-topic-model","default-topic-model");
  classifier=TopicClassificationEngine.fromParameters(getDefaultClassifierConfigParams());
  classifier.configureEmbeddedSolrServerDir(solrHome);
  trainingSetSolrServer=makeEmbeddedSolrServer(solrHome,"trainingsetserver","test-topic-trainingset","default-topic-trainingset");
  trainingSet=new SolrTrainingSet();
  trainingSet.configure(getDefaultTrainingSetConfigParams());
}

</code></pre>

<pre class="type-8 type-15 type-13 type-12 type-2 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCrossValidation() throws Exception {
  log.info(" --- testCrossValidation --- ");
  Random rng=new Random(0);
  ClassificationReport performanceEstimates;
  int numberOfTopics=10;
  int numberOfDocuments=100;
  int vocabSizeMin=20;
  int vocabSizeMax=30;
  initArtificialTrainingSet(numberOfTopics,numberOfDocuments,vocabSizeMin,vocabSizeMax,rng);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/001");
  assertFalse(performanceEstimates.uptodate);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/002");
  assertFalse(performanceEstimates.uptodate);
  performanceEstimates=classifier.getPerformanceEstimates("urn:t/003");
  assertFalse(performanceEstimates.uptodate);
  try {
    classifier.getPerformanceEstimates("urn:doesnotexist");
    fail("Should have raised a ClassifierException");
  }
 catch (  ClassifierException e) {
  }
  assertEquals(numberOfTopics,classifier.updatePerformanceEstimates(true));
  for (int i=1; i <= numberOfTopics; i++) {
    String topic=String.format("urn:t/%03d",i);
    performanceEstimates=classifier.getPerformanceEstimates(topic);
    assertTrue(performanceEstimates.uptodate);
    assertGreater(performanceEstimates.precision,0.45f);
    assertNotNull(performanceEstimates.falsePositiveExampleIds);
    assertNotNull(performanceEstimates.falseNegativeExampleIds);
    if (performanceEstimates.precision < 1) {
      assertFalse(performanceEstimates.falsePositiveExampleIds.isEmpty());
    }
    if (performanceEstimates.recall < 1) {
      assertFalse(performanceEstimates.falseNegativeExampleIds.isEmpty());
    }
    assertGreater(performanceEstimates.recall,0.45f);
    assertGreater(performanceEstimates.f1,0.55f);
    assertGreater(performanceEstimates.positiveSupport,4);
    assertGreater(performanceEstimates.negativeSupport,4);
    assertNotNull(performanceEstimates.evaluationDate);
  }
}

</code></pre>

<pre class="type-2 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyIndexTopicClassification() throws Exception {
  log.info(" --- testEmptyIndexTopicClassification --- ");
  TopicClassificationEngine engine=TopicClassificationEngine.fromParameters(getDefaultClassifierConfigParams());
  List<TopicSuggestion> suggestedTopics=engine.suggestTopics("This is a test.");
  assertNotNull(suggestedTopics);
  assertEquals(suggestedTopics.size(),0);
}

</code></pre>

<pre class="type-2 type-6 type-1 type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrainClassifierFromExamples() throws Exception {
  log.info(" --- testTrainClassifierFromExamples --- ");
  String[] business={"urn:topics/business","http://dbpedia.org/resource/Business"};
  String[] technology={"urn:topics/technology","http://dbpedia.org/resource/Technology"};
  String apple="urn:topics/apple";
  String sport="urn:topics/sport";
  String football="urn:topics/football";
  String worldcup="urn:topics/worldcup";
  String music="urn:topics/music";
  String law="urn:topics/law";
  classifier.addConcept(business[0],business[1],null);
  classifier.addConcept(technology[0],technology[1],null);
  classifier.addConcept(sport,null);
  classifier.addConcept(music,null);
  classifier.addConcept(apple,Arrays.asList(business[0],technology[0]));
  classifier.addConcept(football,Arrays.asList(sport));
  classifier.addConcept(worldcup,Arrays.asList(football));
  classifier.setTrainingSet(trainingSet);
  assertEquals(7,classifier.updateModel(true));
  List<TopicSuggestion> suggestions=classifier.suggestTopics("I like the sound of vuvuzula in the morning!");
  assertEquals(0,suggestions.size());
  assertEquals(0,classifier.updateModel(true));
  String STOP_WORDS=" the a is are be in at ";
  trainingSet.registerExample(null,"Money, money, money is the root of all evil." + STOP_WORDS,Arrays.asList(business));
  trainingSet.registerExample(null,"VC invested more money in tech startups in 2011." + STOP_WORDS,Arrays.asList(business[0],technology[0]));
  trainingSet.registerExample(null,"Apple's iPad is a small handheld computer with a touch screen UI" + STOP_WORDS,Arrays.asList(apple,technology[0]));
  trainingSet.registerExample(null,"Apple sold the iPad at a very high price" + " and made record profits." + STOP_WORDS,Arrays.asList(apple,business[0]));
  trainingSet.registerExample(null,"Manchester United won 3-2 against FC Barcelona." + STOP_WORDS,Arrays.asList(football));
  trainingSet.registerExample(null,"The 2012 Football Worldcup takes place in Brazil." + STOP_WORDS,Arrays.asList(football,worldcup));
  trainingSet.registerExample(null,"Vuvuzela made the soundtrack of the" + " football worldcup of 2010 in South Africa." + STOP_WORDS,Arrays.asList(football,worldcup,music));
  trainingSet.registerExample(null,"Amon Tobin will be live in Paris soon." + STOP_WORDS,Arrays.asList(music));
  assertEquals(7,classifier.updateModel(true));
  suggestions=classifier.suggestTopics("I like the sound of vuvuzula in the morning!");
  assertTrue(suggestions.size() >= 4);
  assertEquals(worldcup,suggestions.get(0).conceptUri);
  assertEquals(music,suggestions.get(1).conceptUri);
  assertEquals(football,suggestions.get(2).conceptUri);
  assertEquals(sport,suggestions.get(3).conceptUri);
  assertTrue(suggestions.get(0).score >= suggestions.get(1).score);
  assertTrue(suggestions.get(1).score >= suggestions.get(2).score);
  assertTrue(suggestions.get(2).score >= suggestions.get(3).score);
  suggestions=classifier.suggestTopics("Apple is no longer a startup.");
  assertTrue(suggestions.size() >= 3);
  assertEquals(apple,suggestions.get(0).conceptUri);
  assertNull(suggestions.get(0).primaryTopicUri);
  assertEquals(Arrays.asList(business[0],technology[0]),suggestions.get(0).broader);
  assertEquals(technology[0],suggestions.get(1).conceptUri);
  assertEquals(technology[1],suggestions.get(1).primaryTopicUri);
  assertEquals(business[0],suggestions.get(2).conceptUri);
  assertEquals(business[1],suggestions.get(2).primaryTopicUri);
  suggestions=classifier.suggestTopics("You can watch the worldcup on your iPad.");
  assertTrue(suggestions.size() >= 2);
  assertEquals(apple,suggestions.get(0).conceptUri);
  assertEquals(worldcup,suggestions.get(1).conceptUri);
  Thread.sleep(10);
  trainingSet.registerExample(null,"Dubstep is a broken beat musical style as are Hip-Hop," + " Dancehall or Drum & Bass",Arrays.asList(music));
  assertEquals(1,classifier.updateModel(true));
  assertEquals(0,classifier.updateModel(true));
  suggestions=classifier.suggestTopics("Glory box is best mixed as dubstep.");
  assertTrue(suggestions.size() >= 1);
  assertEquals(music,suggestions.get(0).conceptUri);
  Thread.sleep(10);
  trainingSet.registerExample(null,"The Brazil team has won the cup so many times.",Arrays.asList(worldcup));
  assertEquals(2,classifier.updateModel(true));
  assertEquals(0,classifier.updateModel(true));
  assertEquals(7,classifier.updateModel(false));
  assertEquals(0,classifier.updateModel(true));
  trainingSet.registerExample(null,"Under Belgian law, judges and prosecutors are judicial officers with equal rank and pay.",Arrays.asList(law));
  trainingSet.registerExample(null,"Prosecutors are typically lawyers who possess a law degree," + " and are recognized as legal professionals by the court" + " in which they intend to represent the state.",Arrays.asList(law));
  assertEquals(0,classifier.updateModel(true));
  classifier.addConcept(law,null);
  assertEquals(1,classifier.updateModel(true));
  assertEquals(0,classifier.updateModel(true));
  classifier.addConcept("urn:topics/sportsmafia",Arrays.asList(football,business[0]));
  assertEquals(3,classifier.updateModel(true));
  assertEquals(0,classifier.updateModel(true));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
