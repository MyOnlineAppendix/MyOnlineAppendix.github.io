<h3><span class=" glyphicon glyphicon-tag"/>&nbspBranchVerifier</h3><kbd>Verifies assertions inside branch conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.commons.io.FileSystemUtilsTestCase </h4><pre class="type-7 type-14 type-1 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetFreeSpace_String() throws Exception {
  if (File.separatorChar == '/') {
    final String[] cmd;
    String osName=System.getProperty("os.name");
    osName=osName.toLowerCase(Locale.ENGLISH);
    if (osName.contains("hp-ux") || osName.contains("aix")) {
      cmd=new String[]{"df","-P","/"};
    }
 else     if (osName.contains("sunos") || osName.contains("sun os") || osName.contains("solaris")) {
      cmd=new String[]{"/usr/xpg4/bin/df","-P","/"};
    }
 else {
      cmd=new String[]{"df","/"};
    }
    final Process proc=Runtime.getRuntime().exec(cmd);
    boolean kilobyteBlock=true;
    BufferedReader r=null;
    try {
      r=new BufferedReader(new InputStreamReader(proc.getInputStream()));
      final String line=r.readLine();
      Assert.assertNotNull("Unexpected null line",line);
      if (line.contains("512")) {
        kilobyteBlock=false;
      }
    }
  finally {
      IOUtils.closeQuietly(r);
    }
    @SuppressWarnings("deprecation") final long free=FileSystemUtils.freeSpace("/");
    final long kb=FileSystemUtils.freeSpaceKb("/");
    if (kilobyteBlock) {
      assertEquals(free,kb,256d);
    }
 else {
      assertEquals(free / 2d,kb,256d);
    }
  }
 else {
    @SuppressWarnings("deprecation") final long bytes=FileSystemUtils.freeSpace("");
    final long kb=FileSystemUtils.freeSpaceKb("");
    assertEquals((double)bytes / 1024,kb,256d);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.FilenameUtilsTestCase </h4><pre class="type-14 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSeparatorsToSystem(){
  if (WINDOWS) {
    assertEquals(null,FilenameUtils.separatorsToSystem(null));
    assertEquals("\\a\\b\\c",FilenameUtils.separatorsToSystem("\\a\\b\\c"));
    assertEquals("\\a\\b\\c.txt",FilenameUtils.separatorsToSystem("\\a\\b\\c.txt"));
    assertEquals("\\a\\b\\c",FilenameUtils.separatorsToSystem("\\a\\b/c"));
    assertEquals("\\a\\b\\c",FilenameUtils.separatorsToSystem("/a/b/c"));
    assertEquals("D:\\a\\b\\c",FilenameUtils.separatorsToSystem("D:/a/b/c"));
  }
 else {
    assertEquals(null,FilenameUtils.separatorsToSystem(null));
    assertEquals("/a/b/c",FilenameUtils.separatorsToSystem("/a/b/c"));
    assertEquals("/a/b/c.txt",FilenameUtils.separatorsToSystem("/a/b/c.txt"));
    assertEquals("/a/b/c",FilenameUtils.separatorsToSystem("/a/b\\c"));
    assertEquals("/a/b/c",FilenameUtils.separatorsToSystem("\\a\\b\\c"));
    assertEquals("D:/a/b/c",FilenameUtils.separatorsToSystem("D:\\a\\b\\c"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.IOUtilsTestCase </h4><pre class="type-14 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConstants() throws Exception {
  assertEquals('/',IOUtils.DIR_SEPARATOR_UNIX);
  assertEquals('\\',IOUtils.DIR_SEPARATOR_WINDOWS);
  assertEquals("\n",IOUtils.LINE_SEPARATOR_UNIX);
  assertEquals("\r\n",IOUtils.LINE_SEPARATOR_WINDOWS);
  if (WINDOWS) {
    assertEquals('\\',IOUtils.DIR_SEPARATOR);
    assertEquals("\r\n",IOUtils.LINE_SEPARATOR);
  }
 else {
    assertEquals('/',IOUtils.DIR_SEPARATOR);
    assertEquals("\n",IOUtils.LINE_SEPARATOR);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.Java7SupportTest </h4><pre class="type-7 type-14 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void createAndReadSymlink() throws Exception {
  Assume.assumeFalse(System.getProperty("os.name").toLowerCase(Locale.ENGLISH).contains("windows"));
  File file=new File("target/fzz");
  if (Java7Support.isAtLeastJava7()) {
    Java7Support.createSymbolicLink(file,new File("../target"));
    final File file1=Java7Support.readSymbolicLink(file);
    assertEquals("target",file1.getName());
    Java7Support.delete(file);
  }
}

</code></pre>

<br>
<pre class="type-14 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
@Test public void testIsSymLink() throws Exception {
  File file=new File(".");
  if (Java7Support.isAtLeastJava7()) {
    assertFalse(Java7Support.isSymLink(file));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.input.TailerTest </h4><pre class="type-17 type-7 type-14 type-4 type-1 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testMultiByteBreak() throws Exception {
  System.out.println("testMultiByteBreak() Default charset: " + Charset.defaultCharset().displayName());
  final long delay=50;
  final File origin=new File(this.getClass().getResource("/test-file-utf8.bin").toURI());
  final File file=new File(getTestDirectory(),"testMultiByteBreak.txt");
  createFile(file,0);
  final TestTailerListener listener=new TestTailerListener();
  final String osname=System.getProperty("os.name");
  final boolean isWindows=osname.startsWith("Windows");
  final Charset charsetUTF8=Charsets.UTF_8;
  tailer=new Tailer(file,charsetUTF8,listener,delay,false,isWindows,4096);
  final Thread thread=new Thread(tailer);
  thread.start();
  Writer out=new OutputStreamWriter(new FileOutputStream(file),charsetUTF8);
  BufferedReader reader=null;
  try {
    List<String> lines=new ArrayList<String>();
    reader=new BufferedReader(new InputStreamReader(new FileInputStream(origin),charsetUTF8));
    String line;
    while ((line=reader.readLine()) != null) {
      out.write(line);
      out.write("\n");
      lines.add(line);
    }
    out.close();
    final long testDelayMillis=delay * 10;
    TestUtils.sleep(testDelayMillis);
    List<String> tailerlines=listener.getLines();
    assertEquals("line count",lines.size(),tailerlines.size());
    for (int i=0, len=lines.size(); i < len; i++) {
      final String expected=lines.get(i);
      final String actual=tailerlines.get(i);
      if (!expected.equals(actual)) {
        fail("Line: " + i + "\nExp: ("+ expected.length()+ ") "+ expected+ "\nAct: ("+ actual.length()+ ") "+ actual);
      }
    }
  }
  finally {
    tailer.stop();
    IOUtils.closeQuietly(reader);
    IOUtils.closeQuietly(out);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.output.FileWriterWithEncodingTest </h4><pre class="type-14 type-4 type-3 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDifferentEncoding() throws Exception {
  if (Charset.isSupported("UTF-16BE")) {
    FileWriter fw1=null;
    FileWriterWithEncoding fw2=null;
    try {
      fw1=new FileWriter(file1);
      fw2=new FileWriterWithEncoding(file2,defaultEncoding);
      writeTestPayload(fw1,fw2);
      try {
        checkFile(file1,file2);
        fail();
      }
 catch (      final AssertionError ex) {
      }
    }
  finally {
      IOUtils.closeQuietly(fw1);
      IOUtils.closeQuietly(fw2);
    }
    assertTrue(file1.exists());
    assertTrue(file2.exists());
  }
  if (Charset.isSupported("UTF-16LE")) {
    FileWriter fw1=null;
    FileWriterWithEncoding fw2=null;
    try {
      fw1=new FileWriter(file1);
      fw2=new FileWriterWithEncoding(file2,defaultEncoding);
      writeTestPayload(fw1,fw2);
      try {
        checkFile(file1,file2);
        fail();
      }
 catch (      final AssertionError ex) {
      }
    }
  finally {
      IOUtils.closeQuietly(fw1);
      IOUtils.closeQuietly(fw2);
    }
    assertTrue(file1.exists());
    assertTrue(file2.exists());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.commons.io.output.WriterOutputStreamTest </h4><pre class="type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testUTF16WithBufferedWrite() throws IOException {
  try {
    testWithBufferedWrite(TEST_STRING,"UTF-16");
  }
 catch (  UnsupportedOperationException e) {
    if (!System.getProperty("java.vendor").contains("IBM")) {
      fail("This test should only throw UOE on IBM JDKs with broken UTF-16");
    }
  }
}

</code></pre>

<br>
<pre class="type-14 type-4 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testUTF16WithSingleByteWrite() throws IOException {
  try {
    testWithSingleByteWrite(TEST_STRING,"UTF-16");
  }
 catch (  UnsupportedOperationException e) {
    if (!System.getProperty("java.vendor").contains("IBM")) {
      fail("This test should only throw UOE on IBM JDKs with broken UTF-16");
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
