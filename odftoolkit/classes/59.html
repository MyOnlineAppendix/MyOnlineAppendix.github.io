<h3 style="margin:0px">Class: org.odftoolkit.odfdom.pkg.RDFMetadataTest (3 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetBookmarkRDFMetadata() throws Exception {
  OdfTextDocument odt=(OdfTextDocument)OdfDocument.loadDocument(ResourceUtilities.getAbsolutePath(SIMPLE_ODT));
  Model m=odt.getBookmarkRDFMetadata();
  TestCase.assertEquals(2,m.size());
  OdfContentDom contentDom=odt.getContentDom();
  XPath xpath=contentDom.getXPath();
  TextBookmarkStartElement tm=(TextBookmarkStartElement)xpath.evaluate("//text:bookmark-start[last()]",contentDom,XPathConstants.NODE);
  BookmarkRDFMetadataExtractor extractor=BookmarkRDFMetadataExtractor.newBookmarkTextExtractor();
  m=extractor.getBookmarkRDFMetadata(tm);
  TestCase.assertEquals(1,m.size());
}

</code></pre>

<pre class="type-3 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRDFMetaFromGRDDLXSLT() throws Exception {
  OdfTextDocument odt=(OdfTextDocument)OdfDocument.loadDocument(ResourceUtilities.getAbsolutePath(SIMPLE_ODT));
  Model m1=odt.getManifestRDFMetadata();
  LOG.info("RDF Model - manifest:\n" + m1.toString());
  long size1=m1.size();
  TestCase.assertEquals(25,size1);
  Model m2=odt.getInContentMetadata();
  LOG.info("RDF Model - rood document in-content:\n" + m1.toString());
  long size2=m2.size();
  TestCase.assertEquals(20,size2);
  Model m=odt.getRDFMetadata();
  Model m3=m1.intersection(m2);
  LOG.info("RDF Model - duplicated (manifest & in-content of root doc):\n" + m3.toString());
  OdfDocument subDoc=odt.loadSubDocument("embeded.odt");
  m1=subDoc.getManifestRDFMetadata();
  size1=m1.size();
  TestCase.assertEquals(5,size1);
  m2=subDoc.getInContentMetadata();
  size2=m2.size();
  LOG.info("RDF Model - embedded document in content:\n" + m2.toString());
  TestCase.assertEquals(6,size2);
  m=subDoc.getRDFMetadata();
  m3=m1.intersection(m2);
  LOG.info("RDF Model - intersection of in-content metadata of root & embedded document:\n" + m2.toString());
}

</code></pre>

<pre class="type-9 type-3 type-6 type-2 type-1 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetInContentMetaFromCache() throws Exception {
  OdfTextDocument odt=(OdfTextDocument)OdfDocument.loadDocument(ResourceUtilities.getAbsolutePath(SIMPLE_ODT));
  Model m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  OdfContentDom contentDom=odt.getContentDom();
  XPath xpath=contentDom.getXPath();
  TextMetaElement tm=(TextMetaElement)xpath.evaluate("//text:p/text:meta[last()]",contentDom,XPathConstants.NODE);
  tm.setXhtmlAboutAttribute("http://dbpedia.org/page/J._K._Rowling");
  m1=odt.getInContentMetadataFromCache();
  PrintUtil.printOut(m1.listStatements());
  TestCase.assertEquals("http://dbpedia.org/page/J._K._Rowling",m1.listStatements().nextStatement().getSubject().getURI());
  tm.setTextContent("Joanne Kathleen Rowling");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals("Joanne Kathleen Rowling",m1.listStatements().nextStatement().getObject().toString());
  tm.setXhtmlPropertyAttribute("dc:name");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals("http://purl.org/dc/elements/1.1/name",m1.listStatements().nextStatement().getPredicate().getURI());
  Node parent=tm.getParentNode();
  parent.removeChild(tm);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
  parent.appendChild(tm);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  parent.removeChild(tm);
  TextPElement pEle=contentDom.newOdfElement(TextPElement.class);
  parent.appendChild(pEle);
  pEle.setXhtmlAboutAttribute("[dbpedia:J._K._Rowling]");
  pEle.setXhtmlPropertyAttribute("dbpprop:birthDate dbpprop:dateOfBirth");
  pEle.setXhtmlDatatypeAttribute("xsd:date");
  pEle.setXhtmlContentAttribute("1965-07-31");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(2,m1.size());
  StmtIterator iter=m1.listStatements();
  while (iter.hasNext()) {
    Statement stmt=iter.nextStatement();
    TestCase.assertEquals("http://dbpedia.org/page/J._K._Rowling",stmt.getSubject().getURI());
    TestCase.assertTrue(stmt.getObject().canAs(Literal.class));
    Literal literal=stmt.getObject().as(Literal.class);
    TestCase.assertEquals("http://www.w3.org/2001/XMLSchema#date",literal.getDatatypeURI());
    TestCase.assertEquals("1965-07-31",literal.getLexicalForm());
  }
  pEle.setXhtmlPropertyAttribute("dc:date");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  TestCase.assertEquals("http://purl.org/dc/elements/1.1/date",m1.listStatements().nextStatement().getPredicate().getURI());
  parent.removeChild(pEle);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
  parent.appendChild(pEle);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  parent.removeChild(pEle);
  TextHElement hEle=contentDom.newOdfElement(TextHElement.class);
  parent.appendChild(hEle);
  hEle.setXhtmlAboutAttribute("[dbpedia:J._K._Rowling]");
  hEle.setXhtmlPropertyAttribute("dbpprop:children");
  hEle.setXhtmlDatatypeAttribute("xsd:integer");
  hEle.setTextContent("2");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  TestCase.assertEquals("http://dbpedia.org/page/J._K._Rowling",m1.listStatements().nextStatement().getSubject().getURI());
  TestCase.assertEquals("http://dbpedia.org/property/children",m1.listStatements().nextStatement().getPredicate().getURI());
  TestCase.assertTrue(m1.listStatements().nextStatement().getObject().canAs(Literal.class));
  TestCase.assertEquals("2^^http://www.w3.org/2001/XMLSchema#integer",m1.listStatements().nextStatement().getObject().toString());
  hEle.setTextContent("3");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals("3^^http://www.w3.org/2001/XMLSchema#integer",m1.listStatements().nextStatement().getObject().toString());
  parent.removeChild(hEle);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
  parent.appendChild(hEle);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  parent.removeChild(hEle);
  TableTableCellElement ttce=contentDom.newOdfElement(TableTableCellElement.class);
  parent.appendChild(ttce);
  ttce.setXhtmlAboutAttribute("[dbpedia:J._K._Rowling]");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
  ttce.setXhtmlPropertyAttribute("dbpprop:nationality");
  ttce.setTextContent("British");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  ttce.setXhtmlAboutAttribute("http://dbpedia.org/page/J._R._R._Tolkien");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  TestCase.assertEquals("http://dbpedia.org/page/J._R._R._Tolkien",m1.listStatements().nextStatement().getSubject().getURI());
  TableCoveredTableCellElement tctce=contentDom.newOdfElement(TableCoveredTableCellElement.class);
  parent.appendChild(tctce);
  tctce.setXhtmlAboutAttribute("[dbpedia:J._R._R._Tolkien]");
  tctce.setXhtmlPropertyAttribute("dbpprop:shortDescription");
  tctce.setXhtmlContentAttribute("British philologist and author");
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(2,m1.size());
  parent.removeChild(ttce);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  parent.appendChild(ttce);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(2,m1.size());
  parent.removeChild(ttce);
  parent.removeChild(tctce);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
  parent.appendChild(tctce);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(1,m1.size());
  parent.removeChild(tctce);
  m1=odt.getInContentMetadataFromCache();
  TestCase.assertEquals(0,m1.size());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
