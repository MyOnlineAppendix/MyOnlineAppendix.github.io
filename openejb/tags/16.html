<h3><span class=" glyphicon glyphicon-tag"/>&nbspConditionMatcher</h3><kbd>Verifies logic rules using matcher-style statements</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.openejb.assembler.classic.DataSourceDefinitionGlobalJPATest </h4><pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void check() throws Exception {
  final EntityManagerFactory emf=holder.getEmf();
  assertThat(emf,instanceOf(ReloadableEntityManagerFactory.class));
  final ReloadableEntityManagerFactory remf=(ReloadableEntityManagerFactory)emf;
  final DataSource ds=remf.info().getJtaDataSource();
  check(ds,"dsdjpa");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.openejb.cdi.ProducedExtendedEmTest </h4><pre class="type-9 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkEm(){
  try {
    a.getDelegateClassName();
  }
 catch (  EJBException ee) {
    assertNotNull(ee);
    assertThat(ee.getCause(),instanceOf(IllegalStateException.class));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.openejb.config.AnnotationDeployerTest </h4><pre class="type-1 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void applicationExceptionInheritanceTest() throws Exception {
  EjbModule ejbModule=testModule();
  AnnotationDeployer.DiscoverAnnotatedBeans discvrAnnBeans=new AnnotationDeployer.DiscoverAnnotatedBeans();
  ejbModule=discvrAnnBeans.deploy(ejbModule);
  AssemblyDescriptor assemblyDescriptor=ejbModule.getEjbJar().getAssemblyDescriptor();
  org.apache.openejb.jee.ApplicationException appEx=assemblyDescriptor.getApplicationException(BusinessException.class);
  assertThat(appEx,notNullValue());
  assertThat(appEx.getExceptionClass(),is(BusinessException.class.getName()));
  assertThat(appEx.isRollback(),is(true));
  appEx=assemblyDescriptor.getApplicationException(ValueRequiredException.class);
  assertThat(appEx,nullValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.openejb.server.cxf.GlobalFeatureConfigTest </h4><pre class="type-1 type-3 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void run(){
  final Bus bus=CxfUtil.getDefaultBus();
  assertEquals(1,bus.getFeatures().size());
  assertThat(bus.getFeatures().iterator().next(),instanceOf(LoggingFeature.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.openejb.timer.EjbTimerImplSerializableTest </h4><pre class="type-2 type-9 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void serializeDeserialize() throws Exception {
  final EjbTimerService timer=timerService();
  assertNotNull(timer);
  assertThat(timer,instanceOf(EjbTimerServiceImpl.class));
  final byte[] serial=serialize(timer);
  final EjbTimerService timerDeserialized=(EjbTimerService)deserialize(serial);
  assertThat(timerDeserialized,instanceOf(EjbTimerServiceImpl.class));
  assertThat(((EjbTimerServiceImpl)timerDeserialized).getScheduler(),notNullValue());
  assertEqualsByReflection(timer,timerDeserialized,"deployment");
  assertEqualsByReflection(timer,timerDeserialized,"transacted");
  assertEqualsByReflection(timer,timerDeserialized,"retryAttempts");
}

</code></pre>

<br>
<pre class="type-2 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializationOfCalendarData() throws Exception {
  final CalendarTimerData data=timerData();
  final byte[] serial=serialize(data);
  final CalendarTimerData dataDeserialized=(CalendarTimerData)deserialize(serial);
  assertThat(dataDeserialized,instanceOf(CalendarTimerData.class));
  assertEqualsByReflection(data,dataDeserialized,"id");
  assertEqualsByReflection(data,dataDeserialized,"deploymentId");
  assertEqualsByReflection(data,dataDeserialized,"timeoutMethod");
  assertEqualsByReflection(data,dataDeserialized,"info");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomee.jdbc.TomcatPoolCipherPasswordTest </h4><pre class="type-3 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void validConfig() throws SQLException {
  assertThat(ds,instanceOf(TomEEDataSourceCreator.TomEEDataSource.class));
  assertEquals(new MockCipher().decrypt(null),((TomEEDataSourceCreator.TomEEDataSource)ds).getPoolProperties().getPassword());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.superbiz.dsdef.DataSourceDefinitionTest </h4><pre class="type-2 type-1 type-6 type-9 type-3 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkDs() throws SQLException {
  final DataSource ds=persister.getDs();
  assertNotNull(ds);
  assertThat(ds,instanceOf(DbcpManagedDataSource.class));
  final DbcpManagedDataSource castedDs=(DbcpManagedDataSource)ds;
  final String driver=castedDs.getDriverClassName();
  assertNull(null,driver);
  final String user=castedDs.getUserName();
  assertEquals("sa",user);
  final String url=castedDs.getUrl();
  assertEquals("jdbc:h2:mem:persister",url);
  final int initPoolSize=castedDs.getInitialSize();
  assertEquals(1,initPoolSize);
  final int maxIdle=castedDs.getMaxIdle();
  assertEquals(3,maxIdle);
  final Connection connection=ds.getConnection();
  assertNotNull(connection);
  execute(connection,"CREATE TABLE TEST(ID INT PRIMARY KEY, NAME VARCHAR(255))");
  execute(connection,"INSERT INTO TEST(ID, NAME) VALUES(1, 'foo')");
  connection.commit();
  final PreparedStatement statement=ds.getConnection().prepareStatement("SELECT NAME FROM TEST");
  statement.execute();
  final ResultSet set=statement.getResultSet();
  assertTrue(set.next());
  assertEquals("foo",set.getString("NAME"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.superbiz.jaxws.Rot13Test </h4><pre class="type-2 type-16 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void checkWSDLIsDeployedWhereItIsConfigured() throws Exception {
  final String wsdl=IO.slurp(new URL(url.toExternalForm() + "tool/rot13?wsdl"));
  assertThat(wsdl,containsString("Rot13"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.superbiz.ws.security.CalculatorTest </h4><pre class="type-2 type-6 type-3 type-16 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void call() throws MalformedURLException {
  final EJBContainer container=EJBContainer.createEJBContainer(new Properties(){
{
      setProperty(OpenEjbContainer.OPENEJB_EMBEDDED_REMOTABLE,"true");
    }
  }
);
  final Service service=Service.create(new URL("http://127.0.0.1:4204/webservice-ws-with-resources-config/CalculatorBean?wsdl"),new QName("http://security.ws.superbiz.org/","CalculatorBeanService"));
  final Calculator calculator=service.getPort(Calculator.class);
  ClientProxy.getClient(calculator).getOutInterceptors().add(new WSS4JOutInterceptor(new HashMap<String,Object>(){
{
      put("action","UsernameToken");
      put("user","openejb");
      put("passwordType","PasswordText");
      put("passwordCallbackRef",new CallbackHandler(){
        @Override public void handle(        Callback[] callbacks) throws IOException, UnsupportedCallbackException {
          final WSPasswordCallback pc=(WSPasswordCallback)callbacks[0];
          pc.setPassword("tomee");
        }
      }
);
    }
  }
));
  assertEquals(5,calculator.add(2,3));
  final Calculator calculator2=service.getPort(Calculator.class);
  ClientProxy.getClient(calculator2).getOutInterceptors().add(new WSS4JOutInterceptor(new HashMap<String,Object>(){
{
      put("action","UsernameToken");
      put("user","openejb");
      put("passwordType","PasswordText");
      put("passwordCallbackRef",new CallbackHandler(){
        @Override public void handle(        Callback[] callbacks) throws IOException, UnsupportedCallbackException {
          final WSPasswordCallback pc=(WSPasswordCallback)callbacks[0];
          pc.setPassword("wrong");
        }
      }
);
    }
  }
));
  try {
    assertEquals(5,calculator2.add(2,3));
  }
 catch (  SOAPFaultException sfe) {
    assertThat(sfe.getMessage(),containsString("The security token could not be authenticated or authorized"));
  }
  container.close();
  assertTrue(PasswordCallbackHandler.wasCalled());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
