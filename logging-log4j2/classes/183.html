<h3 style="margin:0px">Class: org.apache.logging.log4j.core.config.TestConfigurator (20 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(14)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromStreamNoId() throws Exception {
  final InputStream is=new FileInputStream("target/test-classes/log4j2-config.xml");
  final ConfigurationSource source=new ConfigurationSource(is);
  ctx=Configurator.initialize(null,source);
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void cleanup(){
  System.clearProperty(ConfigurationFactory.CONFIGURATION_FILE_PROPERTY);
  if (ctx != null) {
    Configurator.shutdown(ctx);
    ctx=null;
  }
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadFileName() throws Exception {
  final StringBuilder dir=new StringBuilder("/VeryLongDirectoryName");
  for (  final String element : CHARS) {
    dir.append(element);
    dir.append(element.toUpperCase());
  }
  final String value=FILESEP.equals("/") ? dir.toString() + "/test.log" : "1:/target/bad:file.log";
  System.setProperty("testfile",value);
  ctx=Configurator.initialize("Test1","bad/log4j-badfilename.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","XMLConfigTest",config.getName());
  assertThat(config.getAppenders(),hasSize(equalTo(2)));
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuilderWithScripts() throws Exception {
  String script="if (logEvent.getLoggerName().equals(\"NoLocation\")) {\n" + "                return \"NoLocation\";\n" + "            } else if (logEvent.getMarker() != null && logEvent.getMarker().isInstanceOf(\"FLOW\")) {\n"+ "                return \"Flow\";\n"+ "            } else {\n"+ "                return null;\n"+ "            }";
  ConfigurationBuilder<BuiltConfiguration> builder=ConfigurationBuilderFactory.newConfigurationBuilder();
  builder.setStatusLevel(Level.ERROR);
  builder.setConfigurationName("BuilderTest");
  builder.add(builder.newScriptFile("filter.groovy","target/test-classes/scripts/filter.groovy").addIsWatched(true));
  AppenderComponentBuilder appenderBuilder=builder.newAppender("Stdout","CONSOLE").addAttribute("target",ConsoleAppender.Target.SYSTEM_OUT);
  appenderBuilder.add(builder.newLayout("PatternLayout").addComponent(builder.newComponent("ScriptPatternSelector").addAttribute("defaultPattern","[%-5level] %c{1.} %C{1.}.%M.%L %msg%n").addComponent(builder.newComponent("PatternMatch").addAttribute("key","NoLocation").addAttribute("pattern","[%-5level] %c{1.} %msg%n")).addComponent(builder.newComponent("PatternMatch").addAttribute("key","FLOW").addAttribute("pattern","[%-5level] %c{1.} ====== %C{1.}.%M:%L %msg ======%n")).addComponent(builder.newComponent("selectorScript","Script",script).addAttribute("language","beanshell"))));
  appenderBuilder.add(builder.newFilter("ScriptFilter",Filter.Result.DENY,Filter.Result.NEUTRAL).addComponent(builder.newComponent("ScriptRef").addAttribute("ref","filter.groovy")));
  builder.add(appenderBuilder);
  builder.add(builder.newLogger("org.apache.logging.log4j",Level.DEBUG).add(builder.newAppenderRef("Stdout")).addAttribute("additivity",false));
  builder.add(builder.newRootLogger(Level.ERROR).add(builder.newAppenderRef("Stdout")));
  ctx=Configurator.initialize(builder.build());
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","BuilderTest",config.getName());
  assertThat(config.getAppenders(),hasSize(equalTo(1)));
  assertNotNull("Filter script not found",config.getScriptManager().getScript("filter.groovy"));
  assertNotNull("pattern selector script not found",config.getScriptManager().getScript("selectorScript"));
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromClassPathProperty() throws Exception {
  System.setProperty(ConfigurationFactory.CONFIGURATION_FILE_PROPERTY,"classpath:log4j2-config.xml");
  ctx=Configurator.initialize("Test1",null);
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-6 type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromStream() throws Exception {
  final File file=new File("target/test-classes/log4j2-config.xml");
  final InputStream is=new FileInputStream(file);
  final ConfigurationSource source=new ConfigurationSource(is,file);
  ctx=Configurator.initialize(null,source);
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadLayout() throws Exception {
  ctx=Configurator.initialize("Test1","bad/log4j-badlayout.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","XMLConfigTest",config.getName());
}

</code></pre>

<pre class="type-5 type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoFilters() throws Exception {
  ctx=Configurator.initialize("Test1","bad/log4j-nofilter.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","XMLConfigTest",config.getName());
  final LoggerConfig lcfg=config.getLoggerConfig("org.apache.logging.log4j.test1");
  assertNotNull("No Logger",lcfg);
  final Filter filter=lcfg.getFilter();
  assertNotNull("No Filter",filter);
  assertThat(filter,instanceOf(CompositeFilter.class));
  assertTrue("Unexpected filters",((CompositeFilter)filter).isEmpty());
}

</code></pre>

<pre class="type-5 type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadStatus() throws Exception {
  ctx=Configurator.initialize("Test1","bad/log4j-status.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","XMLConfigTest",config.getName());
  final LoggerConfig root=config.getLoggerConfig("");
  assertNotNull("No Root Logger",root);
  assertTrue("Expected error level, was " + root.getLevel(),Level.ERROR == root.getLevel());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromClassPathWithClassPathPrefix() throws Exception {
  ctx=Configurator.initialize("Test1","classpath:log4j2-config.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Incorrect Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBuilder() throws Exception {
  ConfigurationBuilder<BuiltConfiguration> builder=ConfigurationBuilderFactory.newConfigurationBuilder();
  builder.setStatusLevel(Level.ERROR);
  builder.setConfigurationName("BuilderTest");
  builder.add(builder.newFilter("ThresholdFilter",Filter.Result.ACCEPT,Filter.Result.NEUTRAL).addAttribute("level",Level.DEBUG));
  AppenderComponentBuilder appenderBuilder=builder.newAppender("Stdout","CONSOLE").addAttribute("target",ConsoleAppender.Target.SYSTEM_OUT);
  appenderBuilder.add(builder.newLayout("PatternLayout").addAttribute("pattern","%d [%t] %-5level: %msg%n%throwable"));
  appenderBuilder.add(builder.newFilter("MarkerFilter",Filter.Result.DENY,Filter.Result.NEUTRAL).addAttribute("marker","FLOW"));
  builder.add(appenderBuilder);
  builder.add(builder.newLogger("org.apache.logging.log4j",Level.DEBUG).add(builder.newAppenderRef("Stdout")).addAttribute("additivity",false));
  builder.add(builder.newRootLogger(Level.ERROR).add(builder.newAppenderRef("Stdout")));
  ctx=Configurator.initialize(builder.build());
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","BuilderTest",config.getName());
  assertThat(config.getAppenders(),hasSize(equalTo(1)));
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromFile() throws Exception {
  ctx=Configurator.initialize("Test1","target/test-classes/log4j2-config.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testByName() throws Exception {
  ctx=Configurator.initialize("-config",null);
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRolling() throws Exception {
  ConfigurationBuilder<BuiltConfiguration> builder=ConfigurationBuilderFactory.newConfigurationBuilder();
  builder.setStatusLevel(Level.ERROR);
  builder.setConfigurationName("RollingBuilder");
  AppenderComponentBuilder appenderBuilder=builder.newAppender("Stdout","CONSOLE").addAttribute("target",ConsoleAppender.Target.SYSTEM_OUT);
  appenderBuilder.add(builder.newLayout("PatternLayout").addAttribute("pattern","%d [%t] %-5level: %msg%n%throwable"));
  builder.add(appenderBuilder);
  LayoutComponentBuilder layoutBuilder=builder.newLayout("PatternLayout").addAttribute("pattern","%d [%t] %-5level: %msg%n");
  ComponentBuilder triggeringPolicy=builder.newComponent("Policies").addComponent(builder.newComponent("CronTriggeringPolicy").addAttribute("schedule","0 0 0 * * ?")).addComponent(builder.newComponent("SizeBasedTriggeringPolicy").addAttribute("size","100M"));
  appenderBuilder=builder.newAppender("rolling","RollingFile").addAttribute("fileName","target/rolling.log").addAttribute("filePattern","target/archive/rolling-%d{MM-dd-yy}.log.gz").add(layoutBuilder).addComponent(triggeringPolicy);
  builder.add(appenderBuilder);
  builder.add(builder.newLogger("TestLogger",Level.DEBUG).add(builder.newAppenderRef("rolling")).addAttribute("additivity",false));
  builder.add(builder.newRootLogger(Level.DEBUG).add(builder.newAppenderRef("rolling")));
  Configuration config=builder.build();
  assertNotNull("No rolling file appender",config.getAppender("rolling"));
  assertEquals("Unexpected Configuration","RollingBuilder",config.getName());
  LoggerContext ctx=Configurator.initialize(config);
  Configurator.shutdown(ctx);
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromClassPath() throws Exception {
  ctx=Configurator.initialize("Test1","log4j2-config.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBadFilterParam() throws Exception {
  ctx=Configurator.initialize("Test1","bad/log4j-badfilterparam.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Unexpected Configuration","XMLConfigTest",config.getName());
  final LoggerConfig lcfg=config.getLoggerConfig("org.apache.logging.log4j.test1");
  assertNotNull("No Logger",lcfg);
  final Filter filter=lcfg.getFilter();
  assertNull("Unexpected Filter",filter);
}

</code></pre>

<pre class="type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoLoggers() throws Exception {
  ctx=Configurator.initialize("Test1","bad/log4j-loggers.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  final String name=DefaultConfiguration.DEFAULT_NAME + "@" + Integer.toHexString(config.hashCode());
  assertEquals("Unexpected Configuration.",name,config.getName());
}

</code></pre>

<pre class="type-5 type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfiguration() throws Exception {
  final File file=new File("target/test-classes/log4j2-config.xml");
  assertTrue("setLastModified should have succeeded.",file.setLastModified(System.currentTimeMillis() - 120000));
  ctx=Configurator.initialize("Test1","target/test-classes/log4j2-config.xml");
  final Logger logger=LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Thread.sleep(50);
  if (!file.setLastModified(System.currentTimeMillis())) {
    Thread.sleep(500);
  }
  assertTrue("setLastModified should have succeeded.",file.setLastModified(System.currentTimeMillis()));
  TimeUnit.SECONDS.sleep(config.getWatchManager().getIntervalSeconds() + 1);
  for (int i=0; i < 17; ++i) {
    logger.debug("Test message " + i);
  }
  Thread.sleep(50);
  if (is(theInstance(config)).matches(ctx.getConfiguration())) {
    Thread.sleep(500);
  }
  final Configuration newConfig=ctx.getConfiguration();
  assertThat("Configuration not reset",newConfig,is(not(theInstance(config))));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Unexpected Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<pre class="type-6 type-5 type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEnvironment() throws Exception {
  ctx=Configurator.initialize("-config",null);
  LogManager.getLogger("org.apache.test.TestConfigurator");
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("No ListAppender named List2",map,hasKey("List2"));
  final Appender app=map.get("List2");
  final Layout<? extends Serializable> layout=app.getLayout();
  assertNotNull("Appender List2 does not have a Layout",layout);
  assertThat("Appender List2 is not configured with a PatternLayout",layout,instanceOf(PatternLayout.class));
  final String pattern=((PatternLayout)layout).getConversionPattern();
  assertNotNull("No conversion pattern for List2 PatternLayout",pattern);
  assertFalse("Environment variable was not substituted",pattern.startsWith("${env:PATH}"));
}

</code></pre>

<pre class="type-4 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFromClassPathWithClassLoaderPrefix() throws Exception {
  ctx=Configurator.initialize("Test1","classloader:log4j2-config.xml");
  LogManager.getLogger("org.apache.test.TestConfigurator");
  Configuration config=ctx.getConfiguration();
  assertNotNull("No configuration",config);
  assertEquals("Incorrect Configuration.",CONFIG_NAME,config.getName());
  final Map<String,Appender> map=config.getAppenders();
  assertNotNull("Appenders map should not be null.",map);
  assertThat(map,hasSize(greaterThan(0)));
  assertThat("Wrong configuration",map,hasKey("List"));
  Configurator.shutdown(ctx);
  config=ctx.getConfiguration();
  assertEquals("Incorrect Configuration.",NullConfiguration.NULL_NAME,config.getName());
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
