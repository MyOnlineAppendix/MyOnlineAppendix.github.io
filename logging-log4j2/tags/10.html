<h3><span class=" glyphicon glyphicon-tag"/>&nbspBranchVerifier</h3><kbd>Verifies assertions inside branch conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.log4j.LevelTest </h4><pre class="type-10 type-5 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Deserialize witness and see if resolved to Level.INFO.
 * @throws Exception if exception during test.
 */
@Test public void testDeserializeINFO() throws Exception {
  final Object obj=SerializationTestHelper.deserializeStream("target/test-classes/witness/serialization/info.bin");
  assertTrue(obj instanceof Level);
  final Level info=(Level)obj;
  assertEquals("INFO",info.toString());
  if (!System.getProperty("java.version").startsWith("1.1.")) {
    assertTrue(obj == Level.INFO);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest </h4><pre class="type-6 type-10 type-5 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMemMapLocation() throws Exception {
  final File f=new File(LOGFILE);
  if (f.exists()) {
    assertTrue(f.delete());
  }
  assertTrue(!f.exists());
  final int expectedFileLength=Integers.ceilingNextPowerOfTwo(32000);
  assertEquals(32768,expectedFileLength);
  final Logger log=LogManager.getLogger();
  try {
    log.warn("Test log1");
    assertTrue(f.exists());
    assertEquals("initial length",expectedFileLength,f.length());
    log.warn("Test log2");
    assertEquals("not grown",expectedFileLength,f.length());
  }
  finally {
    CoreLoggerContexts.stopLoggerContext(false);
  }
  final int LINESEP=System.getProperty("line.separator").length();
  assertEquals("Shrunk to actual used size",474 + 2 * LINESEP,f.length());
  String line1, line2, line3;
  try (final BufferedReader reader=new BufferedReader(new FileReader(LOGFILE))){
    line1=reader.readLine();
    line2=reader.readLine();
    line3=reader.readLine();
  }
   assertNotNull(line1);
  assertThat(line1,containsString("Test log1"));
  final String location1="org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest.testMemMapLocation(MemoryMappedFileAppenderLocationTest.java:65)";
  assertThat(line1,containsString(location1));
  assertNotNull(line2);
  assertThat(line2,containsString("Test log2"));
  final String location2="org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderLocationTest.testMemMapLocation(MemoryMappedFileAppenderLocationTest.java:69)";
  assertThat(line2,containsString(location2));
  assertNull("only two lines were logged",line3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderRemapTest </h4><pre class="type-6 type-10 type-5 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMemMapExtendsIfNeeded() throws Exception {
  final File f=new File(LOGFILE);
  if (f.exists()) {
    assertTrue(f.delete());
  }
  assertTrue(!f.exists());
  final Logger log=LogManager.getLogger();
  final char[] text=new char[200];
  Arrays.fill(text,'A');
  try {
    log.warn("Test log1");
    assertTrue(f.exists());
    assertEquals("initial length",256,f.length());
    log.warn(new String(text));
    assertEquals("grown",256 * 2,f.length());
    log.warn(new String(text));
    assertEquals("grown again",256 * 3,f.length());
  }
  finally {
    CoreLoggerContexts.stopLoggerContext(false);
  }
  final int LINESEP=System.getProperty("line.separator").length();
  assertEquals("Shrunk to actual used size",658 + 3 * LINESEP,f.length());
  String line1, line2, line3, line4;
  try (final BufferedReader reader=new BufferedReader(new FileReader(LOGFILE))){
    line1=reader.readLine();
    line2=reader.readLine();
    line3=reader.readLine();
    line4=reader.readLine();
  }
   assertNotNull(line1);
  assertThat(line1,containsString("Test log1"));
  assertNotNull(line2);
  assertThat(line2,containsString(new String(text)));
  assertNotNull(line3);
  assertThat(line3,containsString(new String(text)));
  assertNull("only three lines were logged",line4);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.MemoryMappedFileAppenderSimpleTest </h4><pre class="type-6 type-10 type-5 type-3 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMemMapBasics() throws Exception {
  final File f=new File(LOGFILE);
  if (f.exists()) {
    assertTrue(f.delete());
  }
  assertTrue(!f.exists());
  final Logger log=LogManager.getLogger();
  try {
    log.warn("Test log1");
    assertTrue(f.exists());
    assertEquals("initial length",MemoryMappedFileManager.DEFAULT_REGION_LENGTH,f.length());
    log.warn("Test log2");
    assertEquals("not grown",MemoryMappedFileManager.DEFAULT_REGION_LENGTH,f.length());
  }
  finally {
    CoreLoggerContexts.stopLoggerContext(false);
  }
  final int LINESEP=System.getProperty("line.separator").length();
  assertEquals("Shrunk to actual used size",186 + 2 * LINESEP,f.length());
  String line1, line2, line3;
  try (final BufferedReader reader=new BufferedReader(new FileReader(LOGFILE))){
    line1=reader.readLine();
    line2=reader.readLine();
    line3=reader.readLine();
  }
   assertNotNull(line1);
  assertThat(line1,containsString("Test log1"));
  assertNotNull(line2);
  assertThat(line2,containsString("Test log2"));
  assertNull("only two lines were logged",line3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.mom.jeromq.JeroMqAppenderTest </h4><pre class="type-10 type-19 type-4 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=10000) public void testMultiThreadedServer() throws Exception {
  final int nThreads=10;
  final JeroMqAppender appender=ctx.getRequiredAppender("JeroMQAppender",JeroMqAppender.class);
  final int expectedReceiveCount=2 * nThreads;
  final JeroMqTestClient client=new JeroMqTestClient(JeroMqAppender.getContext(),"tcp://localhost:5556",expectedReceiveCount);
  final ExecutorService executor=Executors.newSingleThreadExecutor();
  try {
    final Future<List<String>> future=executor.submit(client);
    Thread.sleep(100);
    final Logger logger=ctx.getLogger(getClass().getName());
    appender.resetSendRcs();
    final ExecutorService fixedThreadPool=Executors.newFixedThreadPool(nThreads);
    for (int i=0; i < 10.; i++) {
      fixedThreadPool.submit(new Runnable(){
        @Override public void run(){
          logger.info("Hello");
          logger.info("Again");
        }
      }
);
    }
    final List<String> list=future.get();
    Assert.assertEquals(expectedReceiveCount,appender.getSendRcTrue());
    Assert.assertEquals(0,appender.getSendRcFalse());
    int hello=0;
    int again=0;
    for (    final String string : list) {
switch (string) {
case "Hello":
        hello++;
      break;
case "Again":
    again++;
  break;
default :
Assert.fail("Unexpected message: " + string);
}
}
Assert.assertEquals(nThreads,hello);
Assert.assertEquals(nThreads,again);
}
  finally {
executor.shutdown();
}
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderCronTest </h4><pre class="type-10 type-19 type-5 type-4 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  final Logger logger=ctx.getLogger();
  logger.debug("This is test message number 1");
  Thread.sleep(2500);
  final File dir=new File(DIR);
  assertTrue("Directory not created",dir.exists() && dir.listFiles().length > 0);
  final int MAX_TRIES=20;
  final Matcher<File[]> hasGzippedFile=hasItemInArray(that(hasName(that(endsWith(".gz")))));
  boolean succeeded=false;
  for (int i=0; i < MAX_TRIES; i++) {
    final File[] files=dir.listFiles();
    if (hasGzippedFile.matches(files)) {
      succeeded=true;
      break;
    }
    logger.debug("Adding additional event " + i);
    Thread.sleep(100);
  }
  if (!succeeded) {
    fail("No compressed files found");
  }
  Path src=FileSystems.getDefault().getPath("target/test-classes/log4j-rolling-cron2.xml");
  OutputStream os=new FileOutputStream("target/test-classes/log4j-rolling-cron.xml");
  Files.copy(src,os);
  Thread.sleep(5000);
  for (int i=0; i < MAX_TRIES; ++i) {
    logger.debug("Adding new event {}",i);
  }
  Thread.sleep(1000);
  RollingFileAppender app=(RollingFileAppender)ctx.getContext().getConfiguration().getAppender("RollingFile");
  TriggeringPolicy policy=app.getManager().getTriggeringPolicy();
  assertNotNull("No triggering policy",policy);
  assertTrue("Incorrect policy type",policy instanceof CronTriggeringPolicy);
  CronExpression expression=((CronTriggeringPolicy)policy).getCronExpression();
  assertTrue("Incorrect triggering policy",expression.getCronExpression().equals("* * * ? * *"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderCustomDeleteActionTest </h4><pre class="type-17 type-10 type-19 type-5 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  final Logger logger=ctx.getLogger();
  for (int i=0; i < 10; ++i) {
    logger.debug("This is a test message number " + i);
  }
  Thread.sleep(100);
  final File dir=new File(DIR);
  assertTrue("Dir " + DIR + " should exist",dir.exists());
  assertTrue("Dir " + DIR + " should contain files",dir.listFiles().length > 0);
  final int MAX_TRIES=20;
  for (int i=0; i < MAX_TRIES; i++) {
    final File[] files=dir.listFiles();
    for (    File file : files) {
      System.out.println(file);
    }
    if (files.length == 3) {
      for (      File file : files) {
        assertTrue("test-4.log should have been deleted",Arrays.asList("test-1.log","test-2.log","test-3.log").contains(file.getName()));
      }
      return;
    }
    logger.debug("Adding additional event " + i);
    Thread.sleep(100);
  }
  fail("No rollover files found");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderDeleteAccumulatedCount1Test </h4><pre class="type-6 type-10 type-19 type-5 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  Path p1=writeTextTo(DIR + "/my-1.log");
  Path p2=writeTextTo(DIR + "/my-2.log");
  Path p3=writeTextTo(DIR + "/my-3.log");
  Path p4=writeTextTo(DIR + "/my-4.log");
  Path p5=writeTextTo(DIR + "/my-5.log");
  final Logger logger=ctx.getLogger();
  for (int i=0; i < 10; ++i) {
    updateLastModified(p1,p2,p3,p4,p5);
    logger.debug("This is a test message number " + i);
  }
  Thread.sleep(100);
  final File dir=new File(DIR);
  assertTrue("Dir " + DIR + " should exist",dir.exists());
  assertTrue("Dir " + DIR + " should contain files",dir.listFiles().length > 0);
  final File[] files=dir.listFiles();
  for (  File file : files) {
    System.out.println(file + " (" + file.length()+ "B) "+ FixedDateFormat.create(FixedFormat.ABSOLUTE).format(file.lastModified()));
  }
  List<String> expected=Arrays.asList("my-1.log","my-2.log","my-3.log","my-4.log","my-5.log");
  assertEquals(Arrays.toString(files),expected.size() + 6,files.length);
  for (  File file : files) {
    if (!expected.contains(file.getName()) && !file.getName().startsWith("test-")) {
      fail("unexpected file" + file);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderDeleteAccumulatedCount2Test </h4><pre class="type-6 type-10 type-19 type-5 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  Path p1=writeTextTo(DIR + "/my-1.log");
  Path p2=writeTextTo(DIR + "/my-2.log");
  Path p3=writeTextTo(DIR + "/my-3.log");
  Path p4=writeTextTo(DIR + "/my-4.log");
  Path p5=writeTextTo(DIR + "/my-5.log");
  final Logger logger=ctx.getLogger();
  for (int i=0; i < 10; ++i) {
    updateLastModified(p1,p2,p3,p4,p5);
    logger.debug("This is a test message number " + i);
  }
  Thread.sleep(100);
  final File dir=new File(DIR);
  assertTrue("Dir " + DIR + " should exist",dir.exists());
  assertTrue("Dir " + DIR + " should contain files",dir.listFiles().length > 0);
  final File[] files=dir.listFiles();
  for (  File file : files) {
    System.out.println(file + " (" + file.length()+ "B) "+ FixedDateFormat.create(FixedFormat.ABSOLUTE).format(file.lastModified()));
  }
  List<String> expected=Arrays.asList("my-1.log","my-2.log","my-3.log","my-4.log","my-5.log");
  assertEquals(Arrays.toString(files),expected.size() + 1,files.length);
  for (  File file : files) {
    if (!expected.contains(file.getName()) && !file.getName().startsWith("test-")) {
      fail("unexpected file" + file);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderDeleteNestedTest </h4><pre class="type-6 type-10 type-19 type-5 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  Path p1=writeTextTo(DIR + "/my-1.log");
  Path p2=writeTextTo(DIR + "/my-2.log");
  Path p3=writeTextTo(DIR + "/my-3.log");
  Path p4=writeTextTo(DIR + "/my-4.log");
  Path p5=writeTextTo(DIR + "/my-5.log");
  final Logger logger=ctx.getLogger();
  for (int i=0; i < 10; ++i) {
    updateLastModified(p1,p2,p3,p4,p5);
    logger.debug("This is a test message number " + i);
  }
  Thread.sleep(100);
  final File dir=new File(DIR);
  assertTrue("Dir " + DIR + " should exist",dir.exists());
  assertTrue("Dir " + DIR + " should contain files",dir.listFiles().length > 0);
  final File[] files=dir.listFiles();
  for (  File file : files) {
    System.out.println(file + " (" + file.length()+ "B) "+ FixedDateFormat.create(FixedFormat.ABSOLUTE).format(file.lastModified()));
  }
  List<String> expected=Arrays.asList("my-1.log","my-2.log","my-3.log","my-4.log","my-5.log");
  assertEquals(Arrays.toString(files),expected.size() + 3,files.length);
  for (  File file : files) {
    if (!expected.contains(file.getName()) && !file.getName().startsWith("test-")) {
      fail("unexpected file" + file);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.RollingAppenderSizeTest </h4><pre class="type-6 type-10 type-19 type-5 type-4 type-8 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppender() throws Exception {
  for (int i=0; i < 100; ++i) {
    logger.debug("This is test message number " + i);
  }
  final File dir=new File(DIR);
  assertTrue("Directory not created",dir.exists() && dir.listFiles().length > 0);
  final File[] files=dir.listFiles();
  assertNotNull(files);
  assertThat(files,hasItemInArray(that(hasName(that(endsWith(fileExtension))))));
  DefaultRolloverStrategy.FileExtensions ext=DefaultRolloverStrategy.FileExtensions.lookup(fileExtension);
  if (ext == null || DefaultRolloverStrategy.FileExtensions.ZIP == ext || DefaultRolloverStrategy.FileExtensions.XY == ext || DefaultRolloverStrategy.FileExtensions.PACK200 == ext) {
    return;
  }
  for (  File file : files) {
    if (file.getName().endsWith(fileExtension)) {
      CompressorInputStream in=null;
      try (FileInputStream fis=new FileInputStream(file)){
        try {
          in=new CompressorStreamFactory().createCompressorInputStream(ext.name().toLowerCase(),fis);
        }
 catch (        CompressorException ce) {
          ce.printStackTrace();
          fail("Error creating intput stream from " + file.toString() + ": "+ ce.getMessage());
        }
        ByteArrayOutputStream baos=new ByteArrayOutputStream();
        IOUtils.copy(in,baos);
        String text=new String(baos.toByteArray(),Charset.defaultCharset());
        String[] lines=text.split("[\\r\\n]+");
        for (        String line : lines) {
          assertTrue(line.contains("DEBUG o.a.l.l.c.a.r.RollingAppenderSizeTest [main] This is test message number"));
        }
      }
  finally {
        Closer.close(in);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.appender.rolling.action.IfAccumulatedFileCountTest </h4><pre class="type-17 type-6 type-10 type-5 type-4 type-3 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAcceptCallsNestedConditionsOnlyIfPathAccepted(){
  final CountingCondition counter=new CountingCondition(true);
  IfAccumulatedFileCount condition=IfAccumulatedFileCount.createFileCountCondition(3,counter);
  for (int i=1; i < 10; i++) {
    if (i <= 3) {
      assertFalse("i=" + i,condition.accept(null,null,null));
      assertEquals(0,counter.getAcceptCount());
    }
 else {
      assertTrue(condition.accept(null,null,null));
      assertEquals(i - 3,counter.getAcceptCount());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.config.AbstractLog4j2_1100Test </h4><pre class="type-10 type-19 type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test(){
  final Configuration configuration=context.getConfiguration();
  assertNotNull(configuration);
  final RollingFileAppender appender=configuration.getAppender("File");
  assertNotNull(appender);
  final CompositeTriggeringPolicy compositeTriggeringPolicy=appender.getTriggeringPolicy();
  assertNotNull(compositeTriggeringPolicy);
  final TriggeringPolicy[] triggeringPolicies=compositeTriggeringPolicy.getTriggeringPolicies();
  SizeBasedTriggeringPolicy sizeBasedTriggeringPolicy=null;
  TimeBasedTriggeringPolicy timeBasedTriggeringPolicy=null;
  for (  TriggeringPolicy triggeringPolicy : triggeringPolicies) {
    if (triggeringPolicy instanceof TimeBasedTriggeringPolicy) {
      timeBasedTriggeringPolicy=(TimeBasedTriggeringPolicy)triggeringPolicy;
      assertEquals(7,timeBasedTriggeringPolicy.getInterval());
    }
    if (triggeringPolicy instanceof SizeBasedTriggeringPolicy) {
      sizeBasedTriggeringPolicy=(SizeBasedTriggeringPolicy)triggeringPolicy;
      assertEquals(100 * 1024 * 1024,sizeBasedTriggeringPolicy.getMaxFileSize());
    }
  }
  if (timeBasedTriggeringPolicy == null) {
    fail("Missing TimeBasedTriggeringPolicy");
  }
  if (sizeBasedTriggeringPolicy == null) {
    fail("Missing SizeBasedTriggeringPolicy");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.config.CustomConfigurationTest </h4><pre class="type-10 type-4 type-11 type-12 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfig(){
  final LoggerContext ctx=this.init.getContext();
  ctx.reconfigure();
  final Configuration config=ctx.getConfiguration();
  assertThat(config,instanceOf(XmlConfiguration.class));
  for (  final StatusListener listener : StatusLogger.getLogger().getListeners()) {
    if (listener instanceof StatusConsoleListener) {
      assertSame(listener.getStatusLevel(),Level.INFO);
      break;
    }
  }
  final Layout<? extends Serializable> layout=PatternLayout.newBuilder().withPattern(PatternLayout.SIMPLE_CONVERSION_PATTERN).withConfiguration(config).build();
  final Appender appender=FileAppender.createAppender(LOG_FILE,"false","false","File","true","false","false","4000",layout,null,"false",null,config);
  appender.start();
  config.addAppender(appender);
  final AppenderRef ref=AppenderRef.createAppenderRef("File",null,null);
  final AppenderRef[] refs=new AppenderRef[]{ref};
  final LoggerConfig loggerConfig=LoggerConfig.createLogger("false",Level.INFO,"org.apache.logging.log4j","true",refs,null,config,null);
  loggerConfig.addAppender(appender,null,null);
  config.addLogger("org.apache.logging.log4j",loggerConfig);
  ctx.updateLoggers();
  final Logger logger=ctx.getLogger(CustomConfigurationTest.class.getName());
  logger.info("This is a test");
  final File file=new File(LOG_FILE);
  assertThat(file,exists());
  assertThat(file,hasLength(greaterThan(0L)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.config.plugins.convert.TypeConvertersTest </h4><pre class="type-6 type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvert() throws Exception {
  final Object actual=TypeConverters.convert(value,clazz,defaultValue);
  final String assertionMessage="\nGiven: " + value + "\nDefault: "+ defaultValue;
  if (expected != null && expected instanceof char[]) {
    assertArrayEquals(assertionMessage,(char[])expected,(char[])actual);
  }
 else   if (expected != null && expected instanceof byte[]) {
    assertArrayEquals(assertionMessage,(byte[])expected,(byte[])actual);
  }
 else {
    assertEquals(assertionMessage,expected,actual);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.core.net.server.AbstractSocketServerTest </h4><pre class="type-10 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
@Test public void test64KBMessages() throws Exception {
  final char[] a64K=new char[1024 * 64];
  Arrays.fill(a64K,'a');
  final String m1=new String(a64K);
  final String m2=MESSAGE_2 + m1;
  if (expectLengthException) {
    try {
      testServer(m1,m2);
    }
 catch (    final AppenderLoggingException are) {
      assertTrue("",are.getCause() != null && are.getCause() instanceof IOException);
    }
  }
 else {
    testServer(m1,m2);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.flume.appender.FlumePersistentAppenderTest </h4><pre class="type-17 type-10 type-19 type-5 type-4 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailover() throws InterruptedException {
  final Logger logger=LogManager.getLogger("testFailover");
  logger.debug("Starting testFailover");
  for (int i=0; i < 10; ++i) {
    final StructuredDataMessage msg=new StructuredDataMessage("Test","Test Primary " + i,"Test");
    msg.put("counter",Integer.toString(i));
    EventLogger.logEvent(msg);
  }
  boolean[] fields=new boolean[10];
  for (int i=0; i < 10; ++i) {
    final Event event=primary.poll();
    Assert.assertNotNull("Received " + i + " events. Event "+ (i + 1)+ " is null",event);
    final String value=event.getHeaders().get("counter");
    Assert.assertNotNull("Missing counter",value);
    final int counter=Integer.parseInt(value);
    if (fields[counter]) {
      Assert.fail("Duplicate event");
    }
 else {
      fields[counter]=true;
    }
  }
  for (int i=0; i < 10; ++i) {
    Assert.assertTrue("Channel contained event, but not expected message " + i,fields[i]);
  }
  Thread.sleep(500);
  primary.stop();
  for (int i=0; i < 10; ++i) {
    final StructuredDataMessage msg=new StructuredDataMessage("Test","Test Alternate " + i,"Test");
    msg.put("cntr",Integer.toString(i));
    EventLogger.logEvent(msg);
  }
  fields=new boolean[10];
  for (int i=0; i < 10; ++i) {
    final Event event=alternate.poll();
    Assert.assertNotNull("Received " + i + " events. Event "+ (i + 1)+ " is null",event);
    final String value=event.getHeaders().get("cntr");
    Assert.assertNotNull("Missing counter",value);
    final int counter=Integer.parseInt(value);
    if (fields[counter]) {
      Assert.fail("Duplicate event");
    }
 else {
      fields[counter]=true;
    }
  }
  for (int i=0; i < 10; ++i) {
    Assert.assertTrue("Channel contained event, but not expected message " + i,fields[i]);
  }
}

</code></pre>

<br>
<pre class="type-17 type-10 type-19 type-5 type-4 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiple(){
  for (int i=0; i < 10; ++i) {
    final StructuredDataMessage msg=new StructuredDataMessage("Test","Test Multiple " + i,"Test");
    msg.put("counter",Integer.toString(i));
    EventLogger.logEvent(msg);
  }
  final boolean[] fields=new boolean[10];
  for (int i=0; i < 10; ++i) {
    final Event event=primary.poll();
    Assert.assertNotNull("Received " + i + " events. Event "+ (i + 1)+ " is null",event);
    final String value=event.getHeaders().get("counter");
    Assert.assertNotNull("Missing counter",value);
    final int counter=Integer.parseInt(value);
    if (fields[counter]) {
      Assert.fail("Duplicate event");
    }
 else {
      fields[counter]=true;
    }
  }
  for (int i=0; i < 10; ++i) {
    Assert.assertTrue("Channel contained event, but not expected message " + i,fields[i]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.io.AbstractLoggerOutputStreamTest </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_Int() throws Exception {
  for (  final byte b : "int".getBytes()) {
    this.out.write(b);
    assertMessages();
  }
  this.out.write('\n');
  assertMessages("int");
  if (this.wrapped != null) {
    assertEquals("int" + '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testWrite_ByteArray_Offset_Length() throws Exception {
  final byte[] bytes="byte[]".getBytes();
  final int middle=bytes.length / 2;
  final int length=bytes.length - middle;
  final String right=new String(bytes,middle,length);
  this.out.write(bytes,middle,length);
  assertMessages();
  this.out.write('\n');
  assertMessages(right);
  if (this.wrapped != null) {
    assertEquals("byte[]".substring(middle,bytes.length) + '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_MultipleLines() throws IOException {
  this.out.write((FIRST + '\n' + LAST+ '\n').getBytes());
  assertMessages(FIRST,LAST);
  if (this.wrapped != null) {
    assertEquals(FIRST + '\n' + LAST+ '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClose_HasRemainingData() throws IOException {
  this.out.write(FIRST.getBytes());
  assertMessages();
  this.out.close();
  assertMessages(FIRST);
  if (this.wrapped != null) {
    assertEquals(FIRST,this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClose_NoRemainingData() throws IOException {
  this.out.close();
  assertMessages();
  if (this.wrapped != null) {
    assertEquals("",this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_IgnoresWindowsNewline() throws IOException {
  this.out.write(FIRST.getBytes());
  this.out.write("\r\n".getBytes());
  this.out.write(LAST.getBytes());
  this.out.close();
  assertMessages(FIRST,LAST);
  if (this.wrapped != null) {
    assertEquals(FIRST + "\r\n" + LAST,this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_ByteArray() throws Exception {
  final byte[] bytes="byte[]".getBytes();
  this.out.write(bytes);
  assertMessages();
  this.out.write('\n');
  assertMessages("byte[]");
  if (this.wrapped != null) {
    assertEquals("byte[]\n",this.wrapped.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.io.AbstractLoggerWriterTest </h4><pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_MultipleLines() throws IOException {
  this.writer.write(FIRST + '\n' + LAST+ '\n');
  assertMessages(FIRST,LAST);
  if (this.wrapped != null) {
    assertEquals(FIRST + '\n' + LAST+ '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_Character() throws Exception {
  for (  final char c : FIRST.toCharArray()) {
    this.writer.write(c);
    assertMessages();
  }
  this.writer.write('\n');
  assertMessages(FIRST);
  if (this.wrapped != null) {
    assertEquals(FIRST + '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClose_NoRemainingData() throws IOException {
  this.writer.close();
  assertMessages();
  if (this.wrapped != null) {
    assertEquals("",this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClose_HasRemainingData() throws IOException {
  this.writer.write(FIRST);
  assertMessages();
  this.writer.close();
  assertMessages(FIRST);
  if (this.wrapped != null) {
    assertEquals(FIRST,this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testWrite_CharArray_Offset_Length() throws Exception {
  final char[] chars=FIRST.toCharArray();
  final int middle=chars.length / 2;
  final int length=chars.length - middle;
  final String right=new String(chars,middle,length);
  this.writer.write(chars,middle,length);
  assertMessages();
  this.writer.write('\n');
  assertMessages(right);
  if (this.wrapped != null) {
    assertEquals(FIRST.substring(middle,FIRST.length()) + '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_CharArray() throws Exception {
  final char[] chars=FIRST.toCharArray();
  this.writer.write(chars);
  assertMessages();
  this.writer.write('\n');
  assertMessages(FIRST);
  if (this.wrapped != null) {
    assertEquals(FIRST + '\n',this.wrapped.toString());
  }
}

</code></pre>

<br>
<pre class="type-10 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWrite_IgnoresWindowsNewline() throws IOException {
  this.writer.write(FIRST + "\r\n");
  this.writer.write(LAST);
  this.writer.close();
  assertMessages(FIRST,LAST);
  if (this.wrapped != null) {
    assertEquals(FIRST + "\r\n" + LAST,this.wrapped.toString());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.logging.log4j.web.WebLookupTest </h4><pre class="type-6 type-10 type-4 type-3 type-8 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLookup2() throws Exception {
  ContextAnchor.THREAD_CONTEXT.remove();
  final ServletContext servletContext=new MockServletContext();
  servletContext.setAttribute("TestAttr","AttrValue");
  servletContext.setInitParameter("myapp.logdir","target");
  servletContext.setAttribute("Name1","Ben");
  servletContext.setInitParameter("Name2","Jerry");
  servletContext.setInitParameter("log4jConfiguration","WEB-INF/classes/log4j-webvar.xml");
  final Log4jWebLifeCycle initializer=WebLoggerContextUtils.getWebLifeCycle(servletContext);
  initializer.start();
  initializer.setLoggerContext();
  final LoggerContext ctx=ContextAnchor.THREAD_CONTEXT.get();
  assertNotNull("No LoggerContext",ctx);
  assertNotNull("No ServletContext",ctx.getExternalContext());
  final Configuration config=ctx.getConfiguration();
  assertNotNull("No Configuration",config);
  final Map<String,Appender> appenders=config.getAppenders();
  for (  final Map.Entry<String,Appender> entry : appenders.entrySet()) {
    if (entry.getKey().equals("file")) {
      final FileAppender fa=(FileAppender)entry.getValue();
      assertEquals("target/myapp.log",fa.getFileName());
    }
  }
  initializer.stop();
  ContextAnchor.THREAD_CONTEXT.remove();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
