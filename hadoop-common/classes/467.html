<h3 style="margin:0px">Class: org.apache.hadoop.hdfs.server.namenode.TestAclTransformation (51 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(35)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(16)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(16)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecAccessMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_WRITE)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"diana"));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesDuplicateEntries() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",ALL),aclEntry(ACCESS,USER,"diana",READ_WRITE),aclEntry(ACCESS,USER,"clark",READ),aclEntry(ACCESS,USER,"bruce",READ_EXECUTE),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesAutomaticDefaultGroup() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,READ_EXECUTE),aclEntry(DEFAULT,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesDefaultMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_WRITE)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",READ),aclEntry(ACCESS,USER,"diana",READ_WRITE),aclEntry(ACCESS,GROUP,ALL),aclEntry(ACCESS,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesMissingOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",READ_WRITE),aclEntry(ACCESS,GROUP,READ_EXECUTE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpec() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,USER,"diana",READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,GROUP,"sales",READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"execs",READ_WRITE)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"diana"),aclEntry(ACCESS,GROUP,"sales"));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,GROUP,"execs",READ_WRITE)).add(aclEntry(ACCESS,MASK,READ_WRITE)).add(aclEntry(ACCESS,OTHER,READ)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecDefaultMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"diana"));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesProvidedAccessMask() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE),aclEntry(ACCESS,MASK,ALL));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntries() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",READ_WRITE),aclEntry(ACCESS,GROUP,READ_EXECUTE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,USER,"bruce",READ_WRITE),aclEntry(DEFAULT,GROUP,READ_EXECUTE),aclEntry(DEFAULT,GROUP,"sales",ALL),aclEntry(DEFAULT,MASK,ALL),aclEntry(DEFAULT,OTHER,NONE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,"sales",ALL)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesDefaultMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"diana",FsAction.READ_EXECUTE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"diana",READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_EXECUTE)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testMergeAclEntriesNamedMask() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,MASK,"bruce",READ_EXECUTE));
  mergeAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testFilterAclEntriesByAclSpecRemoveDefaultMaskRequired() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,MASK));
  filterAclEntriesByAclSpec(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesOnlyDefaults() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"bruce",READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesDefaultMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"bruce",READ_WRITE),aclEntry(DEFAULT,USER,"diana",READ_EXECUTE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ_WRITE)).add(aclEntry(DEFAULT,USER,"diana",READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesInputTooLarge() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  replaceAclEntries(existing,ACL_SPEC_TOO_LARGE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecAutomaticDefaultUser() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesNamedOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE),aclEntry(ACCESS,OTHER,"bruce",READ_EXECUTE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesUnchanged() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",ALL)).add(aclEntry(DEFAULT,GROUP,READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,"sales",ALL)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",ALL),aclEntry(ACCESS,GROUP,READ_EXECUTE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,USER,"bruce",ALL),aclEntry(DEFAULT,GROUP,READ_EXECUTE),aclEntry(DEFAULT,GROUP,"sales",ALL),aclEntry(DEFAULT,MASK,ALL),aclEntry(DEFAULT,OTHER,NONE));
  assertEquals(existing,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesMissingGroup() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",READ_WRITE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL),aclEntry(ACCESS,OTHER,NONE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesMultipleNewBeforeExisting() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"diana",READ)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,MASK,READ_EXECUTE)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE),aclEntry(ACCESS,USER,"clark",READ_EXECUTE),aclEntry(ACCESS,USER,"diana",READ_EXECUTE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE)).add(aclEntry(ACCESS,USER,"clark",READ_EXECUTE)).add(aclEntry(ACCESS,USER,"diana",READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,MASK,READ_EXECUTE)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecUnchanged() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"clark"),aclEntry(ACCESS,GROUP,"execs"));
  assertEquals(existing,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesAutomaticDefaultOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,READ_WRITE),aclEntry(DEFAULT,USER,"bruce",READ),aclEntry(DEFAULT,GROUP,READ_WRITE),aclEntry(DEFAULT,MASK,READ_WRITE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ_WRITE)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesEmptyAclSpec() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList();
  assertEquals(existing,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesUnchanged() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",ALL)).add(aclEntry(DEFAULT,GROUP,READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,"sales",ALL)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",ALL),aclEntry(ACCESS,GROUP,READ_EXECUTE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,USER,"bruce",ALL),aclEntry(DEFAULT,GROUP,READ_EXECUTE),aclEntry(DEFAULT,GROUP,"sales",ALL),aclEntry(DEFAULT,MASK,ALL),aclEntry(DEFAULT,OTHER,NONE));
  assertEquals(existing,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterDefaultAclEntries() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",READ_EXECUTE)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,GROUP,"sales",READ_EXECUTE)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,READ_EXECUTE)).build();
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",READ_EXECUTE)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  assertEquals(expected,filterDefaultAclEntries(existing));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntries() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",ALL));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecAccessMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"diana"));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesProvidedDefaultMask() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,GROUP,READ),aclEntry(DEFAULT,MASK,ALL),aclEntry(DEFAULT,OTHER,NONE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesAccessMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,USER,"bruce",READ),aclEntry(DEFAULT,GROUP,READ),aclEntry(DEFAULT,OTHER,NONE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesAccessMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,"diana",READ_EXECUTE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ_EXECUTE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesResultTooLarge() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayListWithCapacity(32);
  aclSpec.add(aclEntry(ACCESS,USER,ALL));
  for (int i=1; i <= 29; ++i) {
    aclSpec.add(aclEntry(ACCESS,USER,"user" + i,READ));
  }
  aclSpec.add(aclEntry(ACCESS,GROUP,READ));
  aclSpec.add(aclEntry(ACCESS,OTHER,NONE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecDefaultMaskPreserved() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_WRITE)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"diana"));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"diana",ALL)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesAccessMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE),aclEntry(ACCESS,USER,"diana",READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_EXECUTE)).add(aclEntry(ACCESS,USER,"diana",READ)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_EXECUTE)).add(aclEntry(ACCESS,OTHER,READ)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecAutomaticDefaultOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,OTHER));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesAutomaticDefaultUser() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,"bruce",READ),aclEntry(DEFAULT,GROUP,READ_WRITE),aclEntry(DEFAULT,MASK,READ_WRITE),aclEntry(DEFAULT,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ_WRITE)).add(aclEntry(DEFAULT,MASK,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesAutomaticDefaultGroup() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE),aclEntry(DEFAULT,USER,READ_WRITE),aclEntry(DEFAULT,USER,"bruce",READ),aclEntry(DEFAULT,MASK,READ),aclEntry(DEFAULT,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,READ)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testMergeAclEntriesInputTooLarge() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  mergeAclEntries(existing,ACL_SPEC_TOO_LARGE);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesAccessMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,USER,"bruce",READ),aclEntry(ACCESS,USER,"diana",READ_WRITE),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,USER,"diana",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ_WRITE)).add(aclEntry(ACCESS,OTHER,READ)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesAutomaticDefaultUser() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,GROUP,READ_EXECUTE),aclEntry(DEFAULT,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,GROUP,READ_EXECUTE)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecAutomaticDefaultGroup() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ_WRITE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,GROUP));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesMissingUser() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",READ_WRITE),aclEntry(ACCESS,GROUP,READ_EXECUTE),aclEntry(ACCESS,GROUP,"sales",ALL),aclEntry(ACCESS,MASK,ALL),aclEntry(ACCESS,OTHER,NONE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testMergeAclEntriesDuplicateEntries() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",ALL),aclEntry(ACCESS,USER,"diana",READ_WRITE),aclEntry(ACCESS,USER,"clark",READ),aclEntry(ACCESS,USER,"bruce",READ_EXECUTE));
  mergeAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testMergeAclEntriesResultTooLarge() throws AclException {
  ImmutableList.Builder<AclEntry> aclBuilder=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL));
  for (int i=1; i <= 28; ++i) {
    aclBuilder.add(aclEntry(ACCESS,USER,"user" + i,READ));
  }
  aclBuilder.add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,READ)).add(aclEntry(ACCESS,OTHER,NONE));
  List<AclEntry> existing=aclBuilder.build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,"bruce",READ));
  mergeAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testFilterAclEntriesByAclSpecRemoveAccessMaskRequired() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,MASK));
  filterAclEntriesByAclSpec(existing,aclSpec);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMergeAclEntriesAutomaticDefaultOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(DEFAULT,USER,READ_EXECUTE),aclEntry(DEFAULT,GROUP,READ_EXECUTE));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).add(aclEntry(DEFAULT,USER,READ_EXECUTE)).add(aclEntry(DEFAULT,GROUP,READ_EXECUTE)).add(aclEntry(DEFAULT,OTHER,NONE)).build();
  assertEquals(expected,mergeAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplaceAclEntriesDefaultMaskCalculated() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,READ),aclEntry(DEFAULT,USER,ALL),aclEntry(DEFAULT,USER,"bruce",READ),aclEntry(DEFAULT,USER,"diana",READ_WRITE),aclEntry(DEFAULT,GROUP,ALL),aclEntry(DEFAULT,OTHER,READ));
  List<AclEntry> expected=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ)).add(aclEntry(DEFAULT,USER,"diana",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,ALL)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  assertEquals(expected,replaceAclEntries(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterAclEntriesByAclSpecEmptyAclSpec() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",READ_WRITE)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,READ)).add(aclEntry(DEFAULT,USER,ALL)).add(aclEntry(DEFAULT,USER,"bruce",READ_WRITE)).add(aclEntry(DEFAULT,GROUP,READ)).add(aclEntry(DEFAULT,MASK,ALL)).add(aclEntry(DEFAULT,OTHER,READ)).build();
  List<AclEntry> aclSpec=Lists.newArrayList();
  assertEquals(existing,filterAclEntriesByAclSpec(existing,aclSpec));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterDefaultAclEntriesUnchanged() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,USER,"bruce",ALL)).add(aclEntry(ACCESS,GROUP,READ_EXECUTE)).add(aclEntry(ACCESS,GROUP,"sales",ALL)).add(aclEntry(ACCESS,MASK,ALL)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  assertEquals(existing,filterDefaultAclEntries(existing));
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testMergeAclEntriesNamedOther() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,OTHER,"bruce",READ_EXECUTE));
  mergeAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testReplaceAclEntriesNamedMask() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  List<AclEntry> aclSpec=Lists.newArrayList(aclEntry(ACCESS,USER,ALL),aclEntry(ACCESS,GROUP,READ),aclEntry(ACCESS,OTHER,NONE),aclEntry(ACCESS,MASK,"bruce",READ_EXECUTE));
  replaceAclEntries(existing,aclSpec);
}

</code></pre>

<pre class="type-14 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=AclException.class) public void testFilterAclEntriesByAclSpecInputTooLarge() throws AclException {
  List<AclEntry> existing=new ImmutableList.Builder<AclEntry>().add(aclEntry(ACCESS,USER,ALL)).add(aclEntry(ACCESS,GROUP,READ)).add(aclEntry(ACCESS,OTHER,NONE)).build();
  filterAclEntriesByAclSpec(existing,ACL_SPEC_TOO_LARGE);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
