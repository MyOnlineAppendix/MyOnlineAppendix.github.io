<h3 style="margin:0px">Class: org.apache.hadoop.hdfs.protocolPB.TestPBHelper (28 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(19)</kbd></button>&nbsp;<button id="9"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('9')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-9"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(16)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(13)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(9)</kbd></button>&nbsp;<button id="13"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('13')" data-toggle="tooltip" title="Verifies assertions in iterations"><kbd id="tag-13"class="label-info"style="display: inline-block;font-size:7pt" >IterativeVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertCheckpointSignature(){
  CheckpointSignature s=new CheckpointSignature(getStorageInfo(NodeType.NAME_NODE),"bpid",100,1);
  CheckpointSignatureProto sProto=PBHelper.convert(s);
  CheckpointSignature s1=PBHelper.convert(sProto);
  assertEquals(s.getBlockpoolID(),s1.getBlockpoolID());
  assertEquals(s.getClusterID(),s1.getClusterID());
  assertEquals(s.getCTime(),s1.getCTime());
  assertEquals(s.getCurSegmentTxId(),s1.getCurSegmentTxId());
  assertEquals(s.getLayoutVersion(),s1.getLayoutVersion());
  assertEquals(s.getMostRecentCheckpointTxId(),s1.getMostRecentCheckpointTxId());
  assertEquals(s.getNamespaceID(),s1.getNamespaceID());
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertExportedBlockKeys(){
  BlockKey[] keys=new BlockKey[]{getBlockKey(2),getBlockKey(3)};
  ExportedBlockKeys expKeys=new ExportedBlockKeys(true,9,10,getBlockKey(1),keys);
  ExportedBlockKeysProto expKeysProto=PBHelper.convert(expKeys);
  ExportedBlockKeys expKeys1=PBHelper.convert(expKeysProto);
  compare(expKeys,expKeys1);
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertRecoveringBlock(){
  DatanodeInfo di1=DFSTestUtil.getLocalDatanodeInfo();
  DatanodeInfo di2=DFSTestUtil.getLocalDatanodeInfo();
  DatanodeInfo[] dnInfo=new DatanodeInfo[]{di1,di2};
  RecoveringBlock b=new RecoveringBlock(getExtendedBlock(),dnInfo,3);
  RecoveringBlockProto bProto=PBHelper.convert(b);
  RecoveringBlock b1=PBHelper.convert(bProto);
  assertEquals(b.getBlock(),b1.getBlock());
  DatanodeInfo[] dnInfo1=b1.getLocations();
  assertEquals(dnInfo.length,dnInfo1.length);
  for (int i=0; i < dnInfo.length; i++) {
    compare(dnInfo[0],dnInfo1[0]);
  }
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertRemoteEditLogManifest(){
  List<RemoteEditLog> logs=new ArrayList<RemoteEditLog>();
  logs.add(new RemoteEditLog(1,10));
  logs.add(new RemoteEditLog(11,20));
  RemoteEditLogManifest m=new RemoteEditLogManifest(logs);
  RemoteEditLogManifestProto mProto=PBHelper.convert(m);
  RemoteEditLogManifest m1=PBHelper.convert(mProto);
  List<RemoteEditLog> logs1=m1.getLogs();
  assertEquals(logs.size(),logs1.size());
  for (int i=0; i < logs.size(); i++) {
    compare(logs.get(i),logs1.get(i));
  }
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertBlockKey(){
  BlockKey key=getBlockKey(1);
  BlockKeyProto keyProto=PBHelper.convert(key);
  BlockKey key1=PBHelper.convert(keyProto);
  compare(key,key1);
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertNamenodeRegistration(){
  StorageInfo info=getStorageInfo(NodeType.NAME_NODE);
  NamenodeRegistration reg=new NamenodeRegistration("address:999","http:1000",info,NamenodeRole.NAMENODE);
  NamenodeRegistrationProto regProto=PBHelper.convert(reg);
  NamenodeRegistration reg2=PBHelper.convert(regProto);
  assertEquals(reg.getAddress(),reg2.getAddress());
  assertEquals(reg.getClusterID(),reg2.getClusterID());
  assertEquals(reg.getCTime(),reg2.getCTime());
  assertEquals(reg.getHttpAddress(),reg2.getHttpAddress());
  assertEquals(reg.getLayoutVersion(),reg2.getLayoutVersion());
  assertEquals(reg.getNamespaceID(),reg2.getNamespaceID());
  assertEquals(reg.getRegistrationID(),reg2.getRegistrationID());
  assertEquals(reg.getRole(),reg2.getRole());
  assertEquals(reg.getVersion(),reg2.getVersion());
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertExtendedBlock(){
  ExtendedBlock b=getExtendedBlock();
  ExtendedBlockProto bProto=PBHelper.convert(b);
  ExtendedBlock b1=PBHelper.convert(bProto);
  assertEquals(b,b1);
  b.setBlockId(-1);
  bProto=PBHelper.convert(b);
  b1=PBHelper.convert(bProto);
  assertEquals(b,b1);
}

</code></pre>

<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertLocatedBlockList(){
  ArrayList<LocatedBlock> lbl=new ArrayList<LocatedBlock>();
  for (int i=0; i < 3; i++) {
    lbl.add(createLocatedBlock());
  }
  List<LocatedBlockProto> lbpl=PBHelper.convertLocatedBlock2(lbl);
  List<LocatedBlock> lbl2=PBHelper.convertLocatedBlock(lbpl);
  assertEquals(lbl.size(),lbl2.size());
  for (int i=0; i < lbl.size(); i++) {
    compare(lbl.get(i),lbl2.get(2));
  }
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertStoragInfo(){
  StorageInfo info=getStorageInfo(NodeType.NAME_NODE);
  StorageInfoProto infoProto=PBHelper.convert(info);
  StorageInfo info2=PBHelper.convert(infoProto,NodeType.NAME_NODE);
  assertEquals(info.getClusterID(),info2.getClusterID());
  assertEquals(info.getCTime(),info2.getCTime());
  assertEquals(info.getLayoutVersion(),info2.getLayoutVersion());
  assertEquals(info.getNamespaceID(),info2.getNamespaceID());
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertBlockWithLocations(){
  BlockWithLocations locs=getBlockWithLocations(1);
  BlockWithLocationsProto locsProto=PBHelper.convert(locs);
  BlockWithLocations locs2=PBHelper.convert(locsProto);
  compare(locs,locs2);
}

</code></pre>

<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAclStatusProto(){
  AclEntry e=new AclEntry.Builder().setName("test").setPermission(FsAction.READ_EXECUTE).setScope(AclEntryScope.DEFAULT).setType(AclEntryType.OTHER).build();
  AclStatus s=new AclStatus.Builder().owner("foo").group("bar").addEntry(e).build();
  Assert.assertEquals(s,PBHelper.convert(PBHelper.convert(s)));
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertBlockToken(){
  Token<BlockTokenIdentifier> token=new Token<BlockTokenIdentifier>("identifier".getBytes(),"password".getBytes(),new Text("kind"),new Text("service"));
  TokenProto tokenProto=PBHelper.convert(token);
  Token<BlockTokenIdentifier> token2=PBHelper.convert(tokenProto);
  compare(token,token2);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertRemoteEditLog(){
  RemoteEditLog l=new RemoteEditLog(1,100);
  RemoteEditLogProto lProto=PBHelper.convert(l);
  RemoteEditLog l1=PBHelper.convert(lProto);
  compare(l,l1);
}

</code></pre>

<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertLocatedBlockArray(){
  LocatedBlock[] lbl=new LocatedBlock[3];
  for (int i=0; i < 3; i++) {
    lbl[i]=createLocatedBlock();
  }
  LocatedBlockProto[] lbpl=PBHelper.convertLocatedBlock(lbl);
  LocatedBlock[] lbl2=PBHelper.convertLocatedBlock(lbpl);
  assertEquals(lbl.length,lbl2.length);
  for (int i=0; i < lbl.length; i++) {
    compare(lbl[i],lbl2[i]);
  }
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertDatanodeID(){
  DatanodeID dn=DFSTestUtil.getLocalDatanodeID();
  DatanodeIDProto dnProto=PBHelper.convert(dn);
  DatanodeID dn2=PBHelper.convert(dnProto);
  compare(dn,dn2);
}

</code></pre>

<pre class="type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertText(){
  Text t=new Text("abc".getBytes());
  String s=t.toString();
  Text t1=new Text(s);
  assertEquals(t,t1);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertLocatedBlockNoStorageMedia(){
  LocatedBlock lb=createLocatedBlockNoStorageMedia();
  LocatedBlockProto lbProto=PBHelper.convert(lb);
  LocatedBlock lb2=PBHelper.convert(lbProto);
  compare(lb,lb2);
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertNamenodeRole(){
  assertEquals(NamenodeRoleProto.BACKUP,PBHelper.convert(NamenodeRole.BACKUP));
  assertEquals(NamenodeRoleProto.CHECKPOINT,PBHelper.convert(NamenodeRole.CHECKPOINT));
  assertEquals(NamenodeRoleProto.NAMENODE,PBHelper.convert(NamenodeRole.NAMENODE));
  assertEquals(NamenodeRole.BACKUP,PBHelper.convert(NamenodeRoleProto.BACKUP));
  assertEquals(NamenodeRole.CHECKPOINT,PBHelper.convert(NamenodeRoleProto.CHECKPOINT));
  assertEquals(NamenodeRole.NAMENODE,PBHelper.convert(NamenodeRoleProto.NAMENODE));
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChecksumTypeProto(){
  assertEquals(DataChecksum.Type.NULL,PBHelper.convert(HdfsProtos.ChecksumTypeProto.CHECKSUM_NULL));
  assertEquals(DataChecksum.Type.CRC32,PBHelper.convert(HdfsProtos.ChecksumTypeProto.CHECKSUM_CRC32));
  assertEquals(DataChecksum.Type.CRC32C,PBHelper.convert(HdfsProtos.ChecksumTypeProto.CHECKSUM_CRC32C));
  assertEquals(PBHelper.convert(DataChecksum.Type.NULL),HdfsProtos.ChecksumTypeProto.CHECKSUM_NULL);
  assertEquals(PBHelper.convert(DataChecksum.Type.CRC32),HdfsProtos.ChecksumTypeProto.CHECKSUM_CRC32);
  assertEquals(PBHelper.convert(DataChecksum.Type.CRC32C),HdfsProtos.ChecksumTypeProto.CHECKSUM_CRC32C);
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testConvertLocatedBlock(){
  LocatedBlock lb=createLocatedBlock();
  LocatedBlockProto lbProto=PBHelper.convert(lb);
  LocatedBlock lb2=PBHelper.convert(lbProto);
  compare(lb,lb2);
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertNamespaceInfo(){
  NamespaceInfo info=new NamespaceInfo(37,"clusterID","bpID",2300);
  NamespaceInfoProto proto=PBHelper.convert(info);
  NamespaceInfo info2=PBHelper.convert(proto);
  compare(info,info2);
  assertEquals(info.getBlockPoolID(),info2.getBlockPoolID());
  assertEquals(info.getBuildVersion(),info2.getBuildVersion());
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertDatanodeRegistration(){
  DatanodeID dnId=DFSTestUtil.getLocalDatanodeID();
  BlockKey[] keys=new BlockKey[]{getBlockKey(2),getBlockKey(3)};
  ExportedBlockKeys expKeys=new ExportedBlockKeys(true,9,10,getBlockKey(1),keys);
  DatanodeRegistration reg=new DatanodeRegistration(dnId,new StorageInfo(NodeType.DATA_NODE),expKeys,"3.0.0");
  DatanodeRegistrationProto proto=PBHelper.convert(reg);
  DatanodeRegistration reg2=PBHelper.convert(proto);
  compare(reg.getStorageInfo(),reg2.getStorageInfo());
  compare(reg.getExportedKeys(),reg2.getExportedKeys());
  compare(reg,reg2);
  assertEquals(reg.getSoftwareVersion(),reg2.getSoftwareVersion());
}

</code></pre>

<pre class="type-9 type-13 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertBlockCommand(){
  Block[] blocks=new Block[]{new Block(21),new Block(22)};
  DatanodeInfo[][] dnInfos=new DatanodeInfo[][]{new DatanodeInfo[1],new DatanodeInfo[2]};
  dnInfos[0][0]=DFSTestUtil.getLocalDatanodeInfo();
  dnInfos[1][0]=DFSTestUtil.getLocalDatanodeInfo();
  dnInfos[1][1]=DFSTestUtil.getLocalDatanodeInfo();
  String[][] storageIDs={{"s00"},{"s10","s11"}};
  StorageType[][] storageTypes={{StorageType.DEFAULT},{StorageType.DEFAULT,StorageType.DEFAULT}};
  BlockCommand bc=new BlockCommand(DatanodeProtocol.DNA_TRANSFER,"bp1",blocks,dnInfos,storageTypes,storageIDs);
  BlockCommandProto bcProto=PBHelper.convert(bc);
  BlockCommand bc2=PBHelper.convert(bcProto);
  assertEquals(bc.getAction(),bc2.getAction());
  assertEquals(bc.getBlocks().length,bc2.getBlocks().length);
  Block[] blocks2=bc2.getBlocks();
  for (int i=0; i < blocks.length; i++) {
    assertEquals(blocks[i],blocks2[i]);
  }
  DatanodeInfo[][] dnInfos2=bc2.getTargets();
  assertEquals(dnInfos.length,dnInfos2.length);
  for (int i=0; i < dnInfos.length; i++) {
    DatanodeInfo[] d1=dnInfos[i];
    DatanodeInfo[] d2=dnInfos2[i];
    assertEquals(d1.length,d2.length);
    for (int j=0; j < d1.length; j++) {
      compare(d1[j],d2[j]);
    }
  }
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAclEntryProto(){
  AclEntry e1=new AclEntry.Builder().setName("test").setPermission(FsAction.READ_EXECUTE).setScope(AclEntryScope.DEFAULT).setType(AclEntryType.OTHER).build();
  AclEntry e2=new AclEntry.Builder().setScope(AclEntryScope.ACCESS).setType(AclEntryType.USER).setPermission(FsAction.ALL).build();
  AclEntry e3=new AclEntry.Builder().setScope(AclEntryScope.ACCESS).setType(AclEntryType.USER).setName("test").build();
  AclEntry[] expected=new AclEntry[]{e1,e2,new AclEntry.Builder().setScope(e3.getScope()).setType(e3.getType()).setName(e3.getName()).setPermission(FsAction.NONE).build()};
  AclEntry[] actual=Lists.newArrayList(PBHelper.convertAclEntry(PBHelper.convertAclEntryProto(Lists.newArrayList(e1,e2,e3)))).toArray(new AclEntry[0]);
  Assert.assertArrayEquals(expected,actual);
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertBlocksWithLocations(){
  BlockWithLocations[] list=new BlockWithLocations[]{getBlockWithLocations(1),getBlockWithLocations(2)};
  BlocksWithLocations locs=new BlocksWithLocations(list);
  BlocksWithLocationsProto locsProto=PBHelper.convert(locs);
  BlocksWithLocations locs2=PBHelper.convert(locsProto);
  BlockWithLocations[] blocks=locs.getBlocks();
  BlockWithLocations[] blocks2=locs2.getBlocks();
  assertEquals(blocks.length,blocks2.length);
  for (int i=0; i < blocks.length; i++) {
    compare(blocks[i],blocks2[i]);
  }
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void TestConvertDatanodeStorage(){
  DatanodeStorage dns1=new DatanodeStorage("id1",DatanodeStorage.State.NORMAL,StorageType.SSD);
  DatanodeStorageProto proto=PBHelper.convert(dns1);
  DatanodeStorage dns2=PBHelper.convert(proto);
  compare(dns1,dns2);
}

</code></pre>

<pre class="type-9 type-7 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertBlockRecoveryCommand(){
  DatanodeInfo di1=DFSTestUtil.getLocalDatanodeInfo();
  DatanodeInfo di2=DFSTestUtil.getLocalDatanodeInfo();
  DatanodeInfo[] dnInfo=new DatanodeInfo[]{di1,di2};
  List<RecoveringBlock> blks=ImmutableList.of(new RecoveringBlock(getExtendedBlock(1),dnInfo,3),new RecoveringBlock(getExtendedBlock(2),dnInfo,3));
  BlockRecoveryCommand cmd=new BlockRecoveryCommand(blks);
  BlockRecoveryCommandProto proto=PBHelper.convert(cmd);
  assertEquals(1,proto.getBlocks(0).getBlock().getB().getBlockId());
  assertEquals(2,proto.getBlocks(1).getBlock().getB().getBlockId());
  BlockRecoveryCommand cmd2=PBHelper.convert(proto);
  List<RecoveringBlock> cmd2Blks=Lists.newArrayList(cmd2.getRecoveringBlocks());
  assertEquals(blks.get(0).getBlock(),cmd2Blks.get(0).getBlock());
  assertEquals(blks.get(1).getBlock(),cmd2Blks.get(1).getBlock());
  assertEquals(Joiner.on(",").join(blks),Joiner.on(",").join(cmd2Blks));
  assertEquals(cmd.toString(),cmd2.toString());
}

</code></pre>

<pre class="type-9 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConvertBlock(){
  Block b=new Block(1,100,3);
  BlockProto bProto=PBHelper.convert(b);
  Block b2=PBHelper.convert(bProto);
  assertEquals(b,b2);
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
