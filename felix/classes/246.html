<h3 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.providing.TestComp8 (3 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(1)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void tearDown(){
  tataFactory.start();
  totoProv.dispose();
  totoProv=null;
  totoProv2.dispose();
  totoProv2=null;
  tataFactory2.start();
  TotoProvider.toto=0;
  TotoProvider.toto_2=0;
  TotoProvider.toto_3=0;
  TotoProvider.toto_4=0;
  TotoProvider.toto1=0;
  TotoProviderGlue.toto=0;
  TotoProviderGlue.toto_2=0;
  TotoProviderGlue.toto_3=0;
  TotoProviderGlue.toto_4=0;
  TotoProviderGlue.toto1=0;
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  tataFactory=(ComponentFactory)ipojoHelper.getFactory("tata");
  totoFactory=(ComponentFactory)ipojoHelper.getFactory("toto");
  tataFactory2=(ComponentFactory)ipojoHelper.getFactory("comp-6");
  tataFactory2.stop();
  Properties props=new Properties();
  props.put("instance.name","toto provider");
  try {
    totoProv=totoFactory.createComponentInstance(props);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  Properties props3=new Properties();
  props3.put("instance.name","toto provider 2");
  try {
    totoProv2=totoFactory.createComponentInstance(props3);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  totoProv.stop();
  totoProv2.stop();
  Factory factory=ipojoHelper.getFactory("comp-8");
  Properties props2=new Properties();
  props2.put("instance.name","ff");
  try {
    under=factory.createComponentInstance(props2);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  tataFactory.stop();
}

</code></pre>

<pre class="type-4 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple(){
  assertTrue("Assert under state - 1",under.getState() == ComponentInstance.INVALID);
  assertNull("Assert no tota service - 1",getContext().getServiceReference(Tota.class.getName()));
  totoProv.start();
  assertTrue("Assert under state - 2",under.getState() == ComponentInstance.INVALID);
  assertNull("Assert no tota service - 2",getContext().getServiceReference(Tota.class.getName()));
  tataFactory.start();
  assertTrue("Assert under state - 3",under.getState() == ComponentInstance.VALID);
  assertNotNull("Assert tota service - 3",getContext().getServiceReference(Tota.class.getName()));
  ServiceReference ref=getContext().getServiceReference(Tota.class.getName());
  Tota tota=(Tota)getContext().getService(ref);
  invokeAll(tota);
  Properties props=tota.getProps();
  Integer toto=(Integer)props.get("toto");
  Integer toto_2=(Integer)props.get("toto_2");
  Integer toto_3=(Integer)props.get("toto_3");
  Integer toto_4=(Integer)props.get("toto_4");
  Integer gtoto=(Integer)props.get("gtoto");
  Integer gtoto_2=(Integer)props.get("gtoto_2");
  Integer gtoto_3=(Integer)props.get("gtoto_3");
  Integer gtoto_4=(Integer)props.get("gtoto_4");
  assertEquals("Assert toto - 3 (" + toto.intValue() + ")",toto.intValue(),1);
  assertEquals("Assert toto_2 - 3",toto_2.intValue(),1);
  assertEquals("Assert toto_3 - 3",toto_3.intValue(),0);
  assertEquals("Assert toto_4 - 3",toto_4.intValue(),0);
  assertEquals("Assert gtoto - 3 (" + gtoto.intValue() + ")",gtoto.intValue(),1);
  assertEquals("Assert gtoto_2 - 3",gtoto_2.intValue(),1);
  assertEquals("Assert gtoto_3 - 3",gtoto_3.intValue(),1);
  assertEquals("Assert gtoto_4 - 3",gtoto_4.intValue(),0);
  props=tota.getPropsTata();
  Integer tata=(Integer)props.get("tata");
  Integer tataStr=(Integer)props.get("tataStr");
  Integer tataStrs=(Integer)props.get("tataStrs");
  Integer tata_2=(Integer)props.get("tata_2");
  Integer tata_3=(Integer)props.get("tata_3");
  Integer tata1=(Integer)props.get("tata1");
  Integer tata1_1=(Integer)props.get("tata1_1");
  Integer tata5=(Integer)props.get("tata5");
  Integer tata5_1=(Integer)props.get("tata5_1");
  Integer tata5_2=(Integer)props.get("tata5_2");
  assertEquals("Assert tata - 3",tata.intValue(),1);
  assertEquals("Assert tataStr - 3",tataStr.intValue(),1);
  assertEquals("Assert tataStrs - 3",tataStrs.intValue(),0);
  assertEquals("Assert tata_2 - 3",tata_2.intValue(),1);
  assertEquals("Assert tata_3 - 3",tata_3.intValue(),1);
  assertEquals("Assert tata1 - 3",tata1.intValue(),1);
  assertEquals("Assert tata1_1 - 3",tata1_1.intValue(),1);
  assertEquals("Assert tata5 - 3",tata5.intValue(),1);
  assertEquals("Assert tata5_1 - 3",tata5_1.intValue(),1);
  assertEquals("Assert tata5_2 - 3",tata5_2.intValue(),1);
  getContext().ungetService(ref);
  tota=null;
  totoProv2.start();
  assertTrue("Assert under state - 4",under.getState() == ComponentInstance.VALID);
  assertNotNull("Assert tota service - 4",getContext().getServiceReference(Tota.class.getName()));
  ref=getContext().getServiceReference(Tota.class.getName());
  tota=(Tota)getContext().getService(ref);
  invokeAll(tota);
  props=tota.getProps();
  toto=(Integer)props.get("toto");
  toto_2=(Integer)props.get("toto_2");
  toto_3=(Integer)props.get("toto_3");
  toto_4=(Integer)props.get("toto_4");
  gtoto=(Integer)props.get("gtoto");
  gtoto_2=(Integer)props.get("gtoto_2");
  gtoto_3=(Integer)props.get("gtoto_3");
  gtoto_4=(Integer)props.get("gtoto_4");
  assertEquals("Assert toto - 4",toto.intValue(),2);
  assertEquals("Assert toto_2 - 4",toto_2.intValue(),2);
  assertEquals("Assert toto_3 - 4",toto_3.intValue(),0);
  assertEquals("Assert toto_4 - 4",toto_4.intValue(),0);
  assertEquals("Assert gtoto - 4 (" + gtoto.intValue() + ")",gtoto.intValue(),2);
  assertEquals("Assert gtoto_2 - 4",gtoto_2.intValue(),2);
  assertEquals("Assert gtoto_3 - 4",gtoto_3.intValue(),2);
  assertEquals("Assert gtoto_4 - 4",gtoto_4.intValue(),0);
  props=tota.getPropsTata();
  tata=(Integer)props.get("tata");
  tataStr=(Integer)props.get("tataStr");
  tataStrs=(Integer)props.get("tataStrs");
  tata_2=(Integer)props.get("tata_2");
  tata_3=(Integer)props.get("tata_3");
  tata1=(Integer)props.get("tata1");
  tata1_1=(Integer)props.get("tata1_1");
  tata5=(Integer)props.get("tata5");
  tata5_1=(Integer)props.get("tata5_1");
  tata5_2=(Integer)props.get("tata5_2");
  assertEquals("Assert tata - 4",tata.intValue(),2);
  assertEquals("Assert tataStr - 4",tataStr.intValue(),2);
  assertEquals("Assert tataStrs - 4",tataStrs.intValue(),0);
  assertEquals("Assert tata_2 - 4",tata_2.intValue(),2);
  assertEquals("Assert tata_3 - 4",tata_3.intValue(),2);
  assertEquals("Assert tata1 - 4",tata1.intValue(),2);
  assertEquals("Assert tata1_1 - 4",tata1_1.intValue(),2);
  assertEquals("Assert tata5 - 4",tata5.intValue(),2);
  assertEquals("Assert tata5_1 - 4",tata5_1.intValue(),2);
  assertEquals("Assert tata5_2 - 4",tata5_2.intValue(),2);
  getContext().ungetService(ref);
  tota=null;
  tataFactory.stop();
  assertTrue("Assert under state - 5",under.getState() == ComponentInstance.INVALID);
  assertNull("Assert no tota service - 5",getContext().getServiceReference(Tota.class.getName()));
  totoProv2.stop();
  tataFactory.start();
  assertTrue("Assert under state - 6",under.getState() == ComponentInstance.VALID);
  assertNotNull("Assert tota service - 6",getContext().getServiceReference(Tota.class.getName()));
  ref=getContext().getServiceReference(Tota.class.getName());
  tota=(Tota)getContext().getService(ref);
  invokeAll(tota);
  props=tota.getProps();
  toto=(Integer)props.get("toto");
  toto_2=(Integer)props.get("toto_2");
  toto_3=(Integer)props.get("toto_3");
  toto_4=(Integer)props.get("toto_4");
  gtoto=(Integer)props.get("gtoto");
  gtoto_2=(Integer)props.get("gtoto_2");
  gtoto_3=(Integer)props.get("gtoto_3");
  gtoto_4=(Integer)props.get("gtoto_4");
  assertEquals("Assert toto - 6",toto.intValue(),3);
  assertEquals("Assert toto_2 - 6",toto_2.intValue(),3);
  assertEquals("Assert toto_3 - 6",toto_3.intValue(),0);
  assertEquals("Assert toto_4 - 6",toto_4.intValue(),0);
  assertEquals("Assert gtoto - 6 (" + gtoto.intValue() + ")",gtoto.intValue(),3);
  assertEquals("Assert gtoto_2 - 6",gtoto_2.intValue(),3);
  assertEquals("Assert gtoto_3 - 6",gtoto_3.intValue(),3);
  assertEquals("Assert gtoto_4 - 6",gtoto_4.intValue(),0);
  props=tota.getPropsTata();
  tata=(Integer)props.get("tata");
  tataStr=(Integer)props.get("tataStr");
  tataStrs=(Integer)props.get("tataStrs");
  tata_2=(Integer)props.get("tata_2");
  tata_3=(Integer)props.get("tata_3");
  tata1=(Integer)props.get("tata1");
  tata1_1=(Integer)props.get("tata1_1");
  tata5=(Integer)props.get("tata5");
  tata5_1=(Integer)props.get("tata5_1");
  tata5_2=(Integer)props.get("tata5_2");
  assertEquals("Assert tata - 6",tata.intValue(),1);
  assertEquals("Assert tataStr - 6",tataStr.intValue(),1);
  assertEquals("Assert tataStrs - 6",tataStrs.intValue(),0);
  assertEquals("Assert tata_2 - 6",tata_2.intValue(),1);
  assertEquals("Assert tata_3 - 6",tata_3.intValue(),1);
  assertEquals("Assert tata1 - 6",tata1.intValue(),1);
  assertEquals("Assert tata1_1 - 6",tata1_1.intValue(),1);
  assertEquals("Assert tata5 - 6",tata5.intValue(),1);
  assertEquals("Assert tata5_1 - 6",tata5_1.intValue(),1);
  assertEquals("Assert tata5_2 - 6",tata5_2.intValue(),1);
  getContext().ungetService(ref);
  tota=null;
  assertNotNull("Test arch",ipojoHelper.getServiceReferenceByName(Architecture.class.getName(),"ff"));
  totoProv.stop();
  assertTrue("Assert under state - 7",under.getState() == ComponentInstance.INVALID);
  assertNotNull("Test arch-2",ipojoHelper.getServiceReferenceByName(Architecture.class.getName(),"ff"));
  assertNull("Assert no tota service - 7",getContext().getServiceReference(Tota.class.getName()));
  under.dispose();
  under=null;
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
