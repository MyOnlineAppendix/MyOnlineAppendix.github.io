<h3 style="margin:0px">Class: org.apache.felix.http.whiteboard.internal.manager.ExtenderManagerTest (14 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(12)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="14"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('14')" data-toggle="tooltip" title="Verifies whether two objects/variables are the same"><kbd id="tag-14"class="label-info"style="display: inline-block;font-size:7pt" >IdentityVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="7"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('7')" data-toggle="tooltip" title="Allocates resources before the execution of the test cases"><kbd id="tag-7"class="label-info"style="display: inline-block;font-size:7pt" >TestInitializer&nbsp;(1)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Releases resources used by the test cases"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >TestCleaner&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_per_bundle(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  em.add(sampleContext,httpContextReference);
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  em.remove(sampleContext);
  final String id=HttpContextManagerTest.createId(bundle1,SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  when(filter1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(filter1,filter1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,filter1.getHttpContext());
  em.add(filter2,filter2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(filter2,getFilterMapping(em,filter2Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertNull(this.httpService.getFilters().get(SERVLET_2_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getFilterMapping(em,filter2Reference)));
  em.removeFilter(filter2Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.removeFilter(filter1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().get(id).getMappings().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.remove(sampleContext);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_servlet_before_context_shared(){
  ExtenderManager em=new ExtenderManager();
  final String id=HttpContextManagerTest.createId(SAMPLE_CONTEXT_ID);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  when(servlet1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(servlet1,servlet1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertNull(this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getServletMapping(em,servlet1Reference)));
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_SHARED)).thenReturn(true);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,servlet1.getHttpContext());
  em.remove(sampleContext);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertNull(this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getServletMapping(em,servlet1Reference)));
  em.removeServlet(servlet1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_no_context_id(){
  ExtenderManager em=new ExtenderManager();
  final String id1=HttpContextManagerTest.createId(bundle1,null);
  final String id2=HttpContextManagerTest.createId(bundle2,null);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  em.add(filter1,filter1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id1).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,filter1.getHttpContext().getClass());
  when(filter2Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn("");
  em.add(filter2,filter2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(filter2,getFilterMapping(em,filter2Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id2).getMappings().size());
  TestCase.assertEquals(2,this.httpService.getFilters().size());
  TestCase.assertSame(filter2,this.httpService.getFilters().get(SERVLET_2_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,filter2.getHttpContext().getClass());
  TestCase.assertNotSame(filter1.getHttpContext(),filter2.getHttpContext());
  em.add(filter1_1,filter1_1Reference);
  TestCase.assertEquals(3,em.getMappings().size());
  TestCase.assertSame(filter1_1,getFilterMapping(em,filter1_1Reference).getFilter());
  TestCase.assertEquals(2,em.getHttpContexts().get(id1).getMappings().size());
  TestCase.assertEquals(3,this.httpService.getFilters().size());
  TestCase.assertSame(filter1_1,this.httpService.getFilters().get(SERVLET_1_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,filter1_1.getHttpContext().getClass());
  TestCase.assertSame(filter1.getHttpContext(),filter1_1.getHttpContext());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_servlet_before_context_per_bundle(){
  ExtenderManager em=new ExtenderManager();
  final String id=HttpContextManagerTest.createId(bundle1,SAMPLE_CONTEXT_ID);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  when(servlet1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(servlet1,servlet1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertNull(this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getServletMapping(em,servlet1Reference)));
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,servlet1.getHttpContext());
  em.remove(sampleContext);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertNull(this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getServletMapping(em,servlet1Reference)));
  em.removeServlet(servlet1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_servlet_shared(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  final String id=HttpContextManagerTest.createId(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_SHARED)).thenReturn("true");
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  when(servlet1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(servlet1,servlet1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,servlet1.getHttpContext());
  em.add(servlet2,servlet2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(servlet2,getServletMapping(em,servlet2Reference).getServlet());
  TestCase.assertEquals(2,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(2,this.httpService.getServlets().size());
  TestCase.assertSame(servlet2,this.httpService.getServlets().get(SERVLET_2_ALIAS));
  TestCase.assertEquals(0,em.getOrphanMappings().size());
  TestCase.assertSame(sampleContext,servlet2.getHttpContext());
  em.removeServlet(servlet2Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.removeServlet(servlet1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().get(id).getMappings().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.remove(sampleContext);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_before_context_shared(){
  ExtenderManager em=new ExtenderManager();
  final String id=HttpContextManagerTest.createId(SAMPLE_CONTEXT_ID);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  when(filter1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(filter1,filter1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getFilterMapping(em,filter1Reference)));
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_SHARED)).thenReturn(true);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,filter1.getHttpContext());
  em.remove(sampleContext);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getFilterMapping(em,filter1Reference)));
  em.removeFilter(filter1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_shared(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  final String id=HttpContextManagerTest.createId(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_SHARED)).thenReturn("true");
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  when(filter1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(filter1,filter1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,filter1.getHttpContext());
  em.add(filter2,filter2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(filter2,getFilterMapping(em,filter2Reference).getFilter());
  TestCase.assertEquals(2,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(2,this.httpService.getFilters().size());
  TestCase.assertSame(filter2,this.httpService.getFilters().get(SERVLET_2_ALIAS));
  TestCase.assertEquals(0,em.getOrphanMappings().size());
  TestCase.assertSame(sampleContext,filter2.getHttpContext());
  em.removeFilter(filter2Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.removeFilter(filter1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().get(id).getMappings().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.remove(sampleContext);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(bundle1.getBundleId()).thenReturn(BUNDLE_1_ID);
  when(bundle2.getBundleId()).thenReturn(BUNDLE_2_ID);
  when(httpContextReference.getBundle()).thenReturn(bundle1);
  when(servlet1Reference.getBundle()).thenReturn(bundle1);
  when(servlet1Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(servlet1Reference.getProperty(HttpWhiteboardConstants.ALIAS)).thenReturn(SERVLET_1_ALIAS);
  when(servlet1Reference.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  when(servlet1_1Reference.getBundle()).thenReturn(bundle1);
  when(servlet1_1Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(servlet1_1Reference.getProperty(HttpWhiteboardConstants.ALIAS)).thenReturn(SERVLET_1_1_ALIAS);
  when(servlet1_1Reference.getProperty(Constants.SERVICE_ID)).thenReturn(2L);
  when(servlet2Reference.getBundle()).thenReturn(bundle2);
  when(servlet2Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(servlet2Reference.getProperty(HttpWhiteboardConstants.ALIAS)).thenReturn(SERVLET_2_ALIAS);
  when(servlet2Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(servlet2Reference.getProperty(Constants.SERVICE_ID)).thenReturn(3L);
  when(filter1Reference.getBundle()).thenReturn(bundle1);
  when(filter1Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(filter1Reference.getProperty(HttpWhiteboardConstants.PATTERN)).thenReturn(SERVLET_1_ALIAS);
  when(filter1Reference.getProperty(Constants.SERVICE_ID)).thenReturn(4L);
  when(filter1_1Reference.getBundle()).thenReturn(bundle1);
  when(filter1_1Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(filter1_1Reference.getProperty(HttpWhiteboardConstants.PATTERN)).thenReturn(SERVLET_1_1_ALIAS);
  when(filter1_1Reference.getProperty(Constants.SERVICE_ID)).thenReturn(5L);
  when(filter2Reference.getBundle()).thenReturn(bundle2);
  when(filter2Reference.getPropertyKeys()).thenReturn(new String[0]);
  when(filter2Reference.getProperty(HttpWhiteboardConstants.PATTERN)).thenReturn(SERVLET_2_ALIAS);
  when(filter2Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  when(filter2Reference.getProperty(Constants.SERVICE_ID)).thenReturn(6L);
  when(filterAndServletReference.getBundle()).thenReturn(bundle1);
  when(filterAndServletReference.getPropertyKeys()).thenReturn(new String[0]);
  when(filterAndServletReference.getProperty(HttpWhiteboardConstants.PATTERN)).thenReturn(SERVLET_2_ALIAS);
  when(filterAndServletReference.getProperty(HttpWhiteboardConstants.ALIAS)).thenReturn(SERVLET_2_ALIAS);
  when(filterAndServletReference.getProperty(Constants.SERVICE_ID)).thenReturn(7L);
  this.httpService=new MockExtHttpService();
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_servlet_per_bundle(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  em.add(sampleContext,httpContextReference);
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  em.remove(sampleContext);
  final String id=HttpContextManagerTest.createId(bundle1,SAMPLE_CONTEXT_ID);
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  when(servlet1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(servlet1,servlet1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,servlet1.getHttpContext());
  em.add(servlet2,servlet2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(servlet2,getServletMapping(em,servlet2Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertNull(this.httpService.getServlets().get(SERVLET_2_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getServletMapping(em,servlet2Reference)));
  em.removeServlet(servlet2Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.removeServlet(servlet1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().get(id).getMappings().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  em.remove(sampleContext);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
"></span><br>
@After public void tearDown(){
  this.httpService=null;
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_servlet_no_context_id(){
  ExtenderManager em=new ExtenderManager();
  final String id1=HttpContextManagerTest.createId(bundle1,null);
  final String id2=HttpContextManagerTest.createId(bundle2,null);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  em.add(servlet1,servlet1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(servlet1,getServletMapping(em,servlet1Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id1).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1,this.httpService.getServlets().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,servlet1.getHttpContext().getClass());
  when(servlet2Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn("");
  em.add(servlet2,servlet2Reference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertSame(servlet2,getServletMapping(em,servlet2Reference).getServlet());
  TestCase.assertEquals(1,em.getHttpContexts().get(id2).getMappings().size());
  TestCase.assertEquals(2,this.httpService.getServlets().size());
  TestCase.assertSame(servlet2,this.httpService.getServlets().get(SERVLET_2_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,servlet2.getHttpContext().getClass());
  TestCase.assertNotSame(servlet1.getHttpContext(),servlet2.getHttpContext());
  em.add(servlet1_1,servlet1_1Reference);
  TestCase.assertEquals(3,em.getMappings().size());
  TestCase.assertSame(servlet1_1,getServletMapping(em,servlet1_1Reference).getServlet());
  TestCase.assertEquals(2,em.getHttpContexts().get(id1).getMappings().size());
  TestCase.assertEquals(3,this.httpService.getServlets().size());
  TestCase.assertSame(servlet1_1,this.httpService.getServlets().get(SERVLET_1_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(DefaultHttpContext.class,servlet1_1.getHttpContext().getClass());
  TestCase.assertSame(servlet1.getHttpContext(),servlet1_1.getHttpContext());
}

</code></pre>

<pre class="type-4 type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_before_context_per_bundle(){
  ExtenderManager em=new ExtenderManager();
  final String id=HttpContextManagerTest.createId(bundle1,SAMPLE_CONTEXT_ID);
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  when(filter1Reference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(filter1,filter1Reference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getFilterMapping(em,filter1Reference)));
  when(httpContextReference.getProperty(HttpWhiteboardConstants.CONTEXT_ID)).thenReturn(SAMPLE_CONTEXT_ID);
  em.add(sampleContext,httpContextReference);
  TestCase.assertEquals(1,em.getHttpContexts().size());
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(1,em.getHttpContexts().get(id).getMappings().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
  TestCase.assertSame(sampleContext,filter1.getHttpContext());
  em.remove(sampleContext);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filter1Reference).getFilter());
  TestCase.assertEquals(0,em.getHttpContexts().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(this.httpService.getFilters().get(SERVLET_1_ALIAS));
  TestCase.assertEquals(1,em.getOrphanMappings().size());
  TestCase.assertEquals(1,em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).size());
  TestCase.assertTrue(em.getOrphanMappings().get(SAMPLE_CONTEXT_ID).contains(getFilterMapping(em,filter1Reference)));
  em.removeFilter(filter1Reference);
  TestCase.assertTrue(em.getMappings().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertTrue(em.getOrphanMappings().isEmpty());
}

</code></pre>

<pre class="type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
"></span><br>
@Test public void test_no_servlets_no_filters(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  em.setHttpService(null);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  TestCase.assertTrue(em.getHttpContexts().isEmpty());
  TestCase.assertTrue(em.getMappings().isEmpty());
}

</code></pre>

<pre class="type-2 type-1 type-14 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_filter_and_servlet_in_one_service(){
  ExtenderManager em=new ExtenderManager();
  em.setHttpService(this.httpService);
  TestCase.assertTrue(this.httpService.getServlets().isEmpty());
  TestCase.assertTrue(this.httpService.getFilters().isEmpty());
  em.add(filter1,filterAndServletReference);
  em.add(servlet1,filterAndServletReference);
  TestCase.assertEquals(2,em.getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertEquals(1,this.httpService.getFilters().size());
  TestCase.assertSame(filter1,getFilterMapping(em,filterAndServletReference).getFilter());
  TestCase.assertSame(servlet1,getServletMapping(em,filterAndServletReference).getServlet());
  em.removeFilter(filterAndServletReference);
  TestCase.assertEquals(1,em.getMappings().size());
  TestCase.assertEquals(1,this.httpService.getServlets().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(getFilterMapping(em,filterAndServletReference));
  TestCase.assertSame(servlet1,getServletMapping(em,filterAndServletReference).getServlet());
  em.removeServlet(filterAndServletReference);
  TestCase.assertEquals(0,em.getMappings().size());
  TestCase.assertEquals(0,this.httpService.getServlets().size());
  TestCase.assertEquals(0,this.httpService.getFilters().size());
  TestCase.assertNull(getFilterMapping(em,filterAndServletReference));
  TestCase.assertNull(getServletMapping(em,filterAndServletReference));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
