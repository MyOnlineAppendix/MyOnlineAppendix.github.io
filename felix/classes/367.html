<h3 style="margin:0px">Class: org.apache.felix.resolver.test.ResolverTest (13 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="11"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('11')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-11"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(11)</kbd></button>&nbsp;<button id="4"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('4')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-4"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(10)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Verifies whether objects are null"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >NullVerifier&nbsp;(4)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies assertions inside branch conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BranchVerifier&nbsp;(3)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="6"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('6')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-6"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="18"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('18')" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution"><kbd id="tag-18"class="label-info"style="display: inline-block;font-size:7pt" >ExceptionVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-4 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testScenario7() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario7(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(4,wireMap.size());
  Resource aRes=findResource("A",wireMap.keySet());
  List<Wire> aWires=wireMap.get(aRes);
  assertEquals(0,aWires.size());
  Resource f1Res=findResource("F1",wireMap.keySet());
  List<Wire> f1Wires=wireMap.get(f1Res);
  assertEquals(1,f1Wires.size());
  Wire f1Wire=f1Wires.get(0);
  assertEquals(f1Res,f1Wire.getRequirer());
  assertEquals(aRes,f1Wire.getProvider());
  Requirement req=f1Wire.getRequirement();
  assertEquals(HostNamespace.HOST_NAMESPACE,req.getNamespace());
  assertEquals(0,req.getAttributes().size());
  assertEquals(f1Res,req.getResource());
  assertEquals(1,req.getDirectives().size());
  assertEquals("(osgi.wiring.host=A)",req.getDirectives().get("filter"));
  Capability cap=f1Wire.getCapability();
  assertEquals(aRes,cap.getResource());
  assertEquals(HostNamespace.HOST_NAMESPACE,cap.getNamespace());
  assertEquals(0,cap.getDirectives().size());
  assertEquals(1,cap.getAttributes().size());
  assertEquals("A",cap.getAttributes().get(HostNamespace.HOST_NAMESPACE));
  Resource f2Res=findResource("F2",wireMap.keySet());
  List<Wire> f2Wires=wireMap.get(f2Res);
  assertEquals(1,f2Wires.size());
  Wire f2Wire=f2Wires.get(0);
  assertEquals(f2Res,f2Wire.getRequirer());
  assertEquals(aRes,f2Wire.getProvider());
  Requirement req2=f2Wire.getRequirement();
  assertEquals(HostNamespace.HOST_NAMESPACE,req2.getNamespace());
  assertEquals(0,req2.getAttributes().size());
  assertEquals(f2Res,req2.getResource());
  assertEquals(1,req2.getDirectives().size());
  assertEquals("(osgi.wiring.host=A)",req2.getDirectives().get("filter"));
  Capability cap2=f1Wire.getCapability();
  assertEquals(aRes,cap2.getResource());
  assertEquals(HostNamespace.HOST_NAMESPACE,cap2.getNamespace());
  assertEquals(0,cap2.getDirectives().size());
  assertEquals(1,cap2.getAttributes().size());
  assertEquals("A",cap2.getAttributes().get(HostNamespace.HOST_NAMESPACE));
  Resource bRes=findResource("B",wireMap.keySet());
  List<Wire> bWires=wireMap.get(bRes);
  assertEquals(1,bWires.size());
  Wire bWire=bWires.get(0);
  assertEquals(bRes,bWire.getRequirer());
  assertEquals(f2Res,bWire.getProvider());
  Requirement bReq=bWire.getRequirement();
  assertEquals(IdentityNamespace.IDENTITY_NAMESPACE,bReq.getNamespace());
  assertEquals(0,bReq.getAttributes().size());
  assertEquals(bRes,bReq.getResource());
  assertEquals(1,bReq.getDirectives().size());
  assertEquals("(osgi.identity=F2)",bReq.getDirectives().get("filter"));
}

</code></pre>

<pre class="type-4 type-2 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test dynamic resolution with an unresolvable host
 */
@Test(expected=ResolutionException.class) public void testScenario12() throws Exception {
  ResolverImpl resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG),1);
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  ResourceImpl a1=new ResourceImpl("A");
  Capability a1_hostCap=addCap(a1,HostNamespace.HOST_NAMESPACE,"A");
  ResourceImpl b1=new ResourceImpl("B");
  Requirement b_pkgReq1=addReq(b1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  ResourceImpl c1=new ResourceImpl("C");
  Capability c_hostCap=addCap(c1,HostNamespace.HOST_NAMESPACE,"A");
  Capability c_pkgCap=addCap(c1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  Requirement c_pkgReq1=addReq(c1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.b");
  candMap.put(b_pkgReq1,Collections.singletonList(c_pkgCap));
  candMap.put(c_pkgReq1,Collections.<Capability>emptyList());
  Map<Resource,List<Wire>> wires=new HashMap<Resource,List<Wire>>();
  wires.put(a1,new ArrayList<Wire>());
  wires.put(b1,new ArrayList<Wire>());
  Map<Resource,List<Wire>> invertedWires=new HashMap<Resource,List<Wire>>();
  invertedWires.put(a1,new ArrayList<Wire>());
  invertedWires.put(b1,new ArrayList<Wire>());
  wirings.put(a1,new SimpleWiring(a1,Collections.<Capability>emptyList(),wires,invertedWires));
  wirings.put(b1,new SimpleWiring(b1,Collections.<Capability>emptyList(),wires,invertedWires));
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,Collections.<Resource>emptyList(),Collections.<Resource>emptyList());
  List<Capability> caps=new ArrayList<Capability>();
  caps.add(c_pkgCap);
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci,b1,b_pkgReq1,caps);
  assertEquals(0,wireMap.size());
}

</code></pre>

<pre class="type-4 type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario3() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario3(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(3,wireMap.size());
  Resource cRes=findResource("C",wireMap.keySet());
  List<Wire> cWires=wireMap.get(cRes);
  assertEquals(0,cWires.size());
  Resource dRes=findResource("D",wireMap.keySet());
  List<Wire> dWires=wireMap.get(dRes);
  assertEquals(1,dWires.size());
  Wire dWire=dWires.iterator().next();
  assertEquals(cRes,dWire.getProvider());
  assertEquals(dRes,dWire.getRequirer());
  Capability dwCap=dWire.getCapability();
  assertEquals(PackageNamespace.PACKAGE_NAMESPACE,dwCap.getNamespace());
  assertEquals(1,dwCap.getAttributes().size());
  assertEquals("resources",dwCap.getAttributes().get(PackageNamespace.PACKAGE_NAMESPACE));
  assertEquals(0,dwCap.getDirectives().size());
  assertEquals(cRes,dwCap.getResource());
  Resource eRes=findResource("E",wireMap.keySet());
  List<Wire> eWires=wireMap.get(eRes);
  assertEquals(2,eWires.size());
  boolean foundC=false;
  boolean foundD=false;
  for (  Wire w : eWires) {
    assertEquals(eRes,w.getRequirer());
    Capability cap=w.getCapability();
    if (cap.getNamespace().equals(PackageNamespace.PACKAGE_NAMESPACE)) {
      assertEquals("resources",cap.getAttributes().get(PackageNamespace.PACKAGE_NAMESPACE));
      assertEquals(0,cap.getDirectives().size());
      assertEquals(cRes,cap.getResource());
      foundC=true;
      Requirement req=w.getRequirement();
      assertEquals(PackageNamespace.PACKAGE_NAMESPACE,req.getNamespace());
      assertEquals(eRes,req.getResource());
      assertEquals(0,req.getAttributes().size());
      assertEquals(1,req.getDirectives().size());
      assertEquals("(osgi.wiring.package=resources)",req.getDirectives().get("filter"));
    }
 else     if (cap.getNamespace().equals(BundleNamespace.BUNDLE_NAMESPACE)) {
      assertEquals("D",cap.getAttributes().get(BundleNamespace.BUNDLE_NAMESPACE));
      assertEquals(1,cap.getDirectives().size());
      assertEquals("resources",cap.getDirectives().get(Namespace.CAPABILITY_USES_DIRECTIVE));
      assertEquals(dRes,cap.getResource());
      foundD=true;
      Requirement req=w.getRequirement();
      assertEquals(BundleNamespace.BUNDLE_NAMESPACE,req.getNamespace());
      assertEquals(eRes,req.getResource());
      assertEquals(0,req.getAttributes().size());
      assertEquals(1,req.getDirectives().size());
      assertEquals("(osgi.wiring.bundle=D)",req.getDirectives().get("filter"));
    }
  }
  assertTrue(foundC);
  assertTrue(foundD);
}

</code></pre>

<pre class="type-4 type-5 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testScenario6() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario6(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  int aResources=0;
  for (  Resource r : wireMap.keySet()) {
    if ("A".equals(getResourceName(r))) {
      aResources++;
      List<Wire> wires=wireMap.get(r);
      assertEquals(4,wires.size());
      List<String> providers=new ArrayList<String>();
      for (      Wire w : wires) {
        providers.add(getResourceName(w.getProvider()));
      }
      Collections.sort(providers);
      assertEquals(Arrays.asList("B","C","D","D"),providers);
    }
  }
  assertEquals("Should have found two resolved resources named 'A'",2,aResources);
}

</code></pre>

<pre class="type-4 type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario2() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario2(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(2,wireMap.size());
  Resource bRes=findResource("B",wireMap.keySet());
  List<Wire> bWires=wireMap.get(bRes);
  assertEquals(0,bWires.size());
  Resource cRes=findResource("C",wireMap.keySet());
  List<Wire> cWires=wireMap.get(cRes);
  assertEquals(2,cWires.size());
  boolean foundFoo=false;
  boolean foundBar=false;
  for (  Wire w : cWires) {
    assertEquals(bRes,w.getProvider());
    assertEquals(cRes,w.getRequirer());
    Capability cap=w.getCapability();
    assertEquals(PackageNamespace.PACKAGE_NAMESPACE,cap.getNamespace());
    assertEquals(bRes,cap.getResource());
    Map<String,Object> attrs=cap.getAttributes();
    assertEquals(1,attrs.size());
    Object pkg=attrs.get(PackageNamespace.PACKAGE_NAMESPACE);
    if ("foo".equals(pkg)) {
      foundFoo=true;
      assertEquals(0,cap.getDirectives().size());
    }
 else     if ("bar".equals(pkg)) {
      foundBar=true;
      assertEquals(1,cap.getDirectives().size());
      assertEquals("foo",cap.getDirectives().get(PackageNamespace.CAPABILITY_USES_DIRECTIVE));
    }
  }
  assertTrue(foundFoo);
  assertTrue(foundBar);
}

</code></pre>

<pre class="type-4 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario9() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG),1);
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario9(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  Resource resB=findResource("B",wireMap.keySet());
  Resource resA=findResource("A",wirings.keySet());
  Resource resC1=findResource("C1",wirings.keySet());
  assertNotNull(resB);
  assertNotNull(resC1);
  assertEquals(1,wireMap.size());
  List<Wire> wiresB=wireMap.get(resB);
  assertEquals(2,wiresB.size());
  assertEquals(resA,wiresB.get(0).getProvider());
  assertEquals(resC1,wiresB.get(1).getProvider());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testScenario5() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario5(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  try {
    resolver.resolve(rci);
    fail("Should have thrown a resolution exception as bundle A in scenario 5 cannot be resolved due to constraint violations.");
  }
 catch (  ResolutionException re) {
  }
}

</code></pre>

<pre class="type-4 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test dynamic resolution with a resolved fragment
 */
@Test public void testScenario10() throws Exception {
  ResolverImpl resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG),1);
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  ResourceImpl a1=new ResourceImpl("A");
  Capability a1_hostCap=addCap(a1,HostNamespace.HOST_NAMESPACE,"A");
  ResourceImpl f1=new ResourceImpl("F1",IdentityNamespace.TYPE_FRAGMENT);
  Requirement f1_hostReq=addReq(f1,HostNamespace.HOST_NAMESPACE,"A");
  Capability f1_pkgCap=addCap(f1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  ResourceImpl b1=new ResourceImpl("B");
  Requirement b_pkgReq1=addReq(b1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  candMap.put(b_pkgReq1,Collections.singletonList(f1_pkgCap));
  Map<Resource,List<Wire>> wires=new HashMap<Resource,List<Wire>>();
  wires.put(a1,new ArrayList<Wire>());
  wires.put(b1,new ArrayList<Wire>());
  wires.put(f1,new ArrayList<Wire>());
  wires.get(f1).add(new SimpleWire(f1_hostReq,a1_hostCap));
  Map<Resource,List<Wire>> invertedWires=new HashMap<Resource,List<Wire>>();
  invertedWires.put(a1,new ArrayList<Wire>());
  invertedWires.put(b1,new ArrayList<Wire>());
  invertedWires.put(f1,new ArrayList<Wire>());
  invertedWires.get(a1).add(new SimpleWire(f1_hostReq,a1_hostCap));
  wirings.put(a1,new SimpleWiring(a1,Arrays.asList(a1_hostCap,f1_pkgCap),wires,invertedWires));
  wirings.put(b1,new SimpleWiring(b1,Collections.<Capability>emptyList(),wires,invertedWires));
  wirings.put(f1,new SimpleWiring(f1,Collections.<Capability>emptyList(),wires,invertedWires));
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,Collections.<Resource>emptyList(),Collections.<Resource>emptyList());
  List<Capability> caps=new ArrayList<Capability>();
  caps.add(f1_pkgCap);
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci,b1,b_pkgReq1,caps);
  assertEquals(1,wireMap.size());
  List<Wire> wiresB=wireMap.get(b1);
  assertNotNull(wiresB);
  assertEquals(1,wiresB.size());
  assertEquals(a1,wiresB.get(0).getProvider());
  assertEquals(f1_pkgCap,wiresB.get(0).getCapability());
}

</code></pre>

<pre class="type-4 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testScenario1() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario1(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(2,wireMap.size());
  Resource aRes=findResource("A",wireMap.keySet());
  List<Wire> aWires=wireMap.get(aRes);
  assertEquals(0,aWires.size());
  Resource bRes=findResource("B",wireMap.keySet());
  List<Wire> bWires=wireMap.get(bRes);
  assertEquals(1,bWires.size());
  Wire bWire=bWires.iterator().next();
  assertEquals(aRes,bWire.getProvider());
  assertEquals(bRes,bWire.getRequirer());
  Capability cap=bWire.getCapability();
  assertEquals(PackageNamespace.PACKAGE_NAMESPACE,cap.getNamespace());
  assertEquals(1,cap.getAttributes().size());
  assertEquals("foo",cap.getAttributes().get(PackageNamespace.PACKAGE_NAMESPACE));
  assertEquals(0,cap.getDirectives().size());
  assertEquals(aRes,cap.getResource());
  Requirement req=bWire.getRequirement();
  assertEquals(1,req.getDirectives().size());
  assertEquals("(osgi.wiring.package=foo)",req.getDirectives().get(PackageNamespace.REQUIREMENT_FILTER_DIRECTIVE));
  assertEquals(0,req.getAttributes().size());
  assertEquals(PackageNamespace.PACKAGE_NAMESPACE,req.getNamespace());
  assertEquals(bRes,req.getResource());
}

</code></pre>

<pre class="type-4 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario8() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario8(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  Resource res2=findResource("res2",wireMap.keySet());
  Resource res4=findResource("res4",wireMap.keySet());
  Resource res5=findResource("res5",wireMap.keySet());
  assertNotNull(res2);
  assertNotNull(res4);
  assertNotNull(res5);
  List<Wire> wires2=wireMap.get(res2);
  assertEquals(2,wires2.size());
  List<Wire> wires4=wireMap.get(res4);
  assertEquals(1,wires4.size());
  List<Wire> wires5=wireMap.get(res5);
  assertEquals(0,wires5.size());
  assertEquals(3,wireMap.size());
}

</code></pre>

<pre class="type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testScenario4() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario4(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  try {
    resolver.resolve(rci);
    fail("Should have thrown a resolution exception as bundle A in scenario 4 cannot be resolved due to constraint violations.");
  }
 catch (  ResolutionException re) {
  }
}

</code></pre>

<pre class="type-4 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test dynamic resolution with an unresolved fragment
 */
@Test public void testScenario11() throws Exception {
  ResolverImpl resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG),1);
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  ResourceImpl a1=new ResourceImpl("A");
  Capability a1_hostCap=addCap(a1,HostNamespace.HOST_NAMESPACE,"A");
  ResourceImpl f1=new ResourceImpl("F1",IdentityNamespace.TYPE_FRAGMENT);
  Requirement f1_hostReq=addReq(f1,HostNamespace.HOST_NAMESPACE,"A");
  Capability f1_pkgCap=addCap(f1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  ResourceImpl b1=new ResourceImpl("B");
  Requirement b_pkgReq1=addReq(b1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  candMap.put(b_pkgReq1,Collections.singletonList(f1_pkgCap));
  candMap.put(f1_hostReq,Collections.singletonList(a1_hostCap));
  Map<Resource,List<Wire>> wires=new HashMap<Resource,List<Wire>>();
  wires.put(a1,new ArrayList<Wire>());
  wires.put(b1,new ArrayList<Wire>());
  Map<Resource,List<Wire>> invertedWires=new HashMap<Resource,List<Wire>>();
  invertedWires.put(a1,new ArrayList<Wire>());
  invertedWires.put(b1,new ArrayList<Wire>());
  wirings.put(a1,new SimpleWiring(a1,Collections.<Capability>emptyList(),wires,invertedWires));
  wirings.put(b1,new SimpleWiring(b1,Collections.<Capability>emptyList(),wires,invertedWires));
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,Collections.<Resource>emptyList(),Collections.<Resource>emptyList());
  List<Capability> caps=new ArrayList<Capability>();
  caps.add(f1_pkgCap);
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci,b1,b_pkgReq1,caps);
  assertEquals(1,wireMap.size());
  List<Wire> wiresB=wireMap.get(b1);
  assertNotNull(wiresB);
  assertEquals(1,wiresB.size());
  assertEquals(a1,wiresB.get(0).getProvider());
  assertEquals(f1_pkgCap,wiresB.get(0).getCapability());
}

</code></pre>

<pre class="type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPackageSources() throws Exception {
  Method m=ResolverImpl.class.getDeclaredMethod("getPackageSources",Capability.class,Map.class);
  m.setAccessible(true);
  Capability cap=Mockito.mock(Capability.class);
  assertEquals(Collections.emptySet(),m.invoke(null,cap,new HashMap<Resource,ResolverImpl.Packages>()));
  Capability cap2=Mockito.mock(Capability.class);
  Resource res2=Mockito.mock(Resource.class);
  Mockito.when(cap2.getResource()).thenReturn(res2);
  Map<Resource,ResolverImpl.Packages> map2=new HashMap<Resource,ResolverImpl.Packages>();
  map2.put(res2,new ResolverImpl.Packages(res2));
  assertEquals(Collections.emptySet(),m.invoke(null,cap2,map2));
  Capability cap3=Mockito.mock(Capability.class);
  Resource res3=Mockito.mock(Resource.class);
  Mockito.when(cap3.getResource()).thenReturn(res3);
  Map<Resource,ResolverImpl.Packages> map3=new HashMap<Resource,ResolverImpl.Packages>();
  ResolverImpl.Packages pkgs3=new ResolverImpl.Packages(res3);
  Set<Capability> srcCaps3=Collections.singleton(Mockito.mock(Capability.class));
  Map<Capability,Set<Capability>> srcMap3=Collections.singletonMap(cap3,srcCaps3);
  pkgs3.m_sources.putAll(srcMap3);
  map3.put(res3,pkgs3);
  assertEquals(srcCaps3,m.invoke(null,cap3,map3));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
