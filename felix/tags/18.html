<h3><span class=" glyphicon glyphicon-tag"/>&nbspExceptionVerifier</h3><kbd>Verifies that exceptions are thrown during the test case execution</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestMandatory </h4><pre class="type-4 type-6 type-2 type-1 type-14 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RollbackException.class) public void testExceptionInsideTransaction() throws NotSupportedException, SystemException, SecurityException, HeuristicMixedException, HeuristicRollbackException, RollbackException {
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  osgiHelper.waitForService(TransactionManager.class.getName(),null,5000);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  TransactionManager tm=(TransactionManager)osgiHelper.getServiceObject(TransactionManager.class.getName(),null);
  tm.begin();
  Transaction t=tm.getTransaction();
  try {
    cs.doSomethingBad();
    Assert.fail("NullPointerException expected");
  }
 catch (  Exception e) {
    Assert.assertTrue(e instanceof NullPointerException);
  }
  Transaction t2=cs.getCurrentTransaction();
  Assert.assertSame(t2,t);
  Assert.assertEquals(Status.STATUS_MARKED_ROLLBACK,t.getStatus());
  t.commit();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testExpectedExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad2();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testOkOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingGood();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testOkOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("mandatory-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingGood();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestNever </h4><pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("never-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RuntimeException.class) public void testOkInsideTransaction() throws NotSupportedException, SystemException, SecurityException, HeuristicMixedException, HeuristicRollbackException, RollbackException {
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("never-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  osgiHelper.waitForService(TransactionManager.class.getName(),null,5000);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  TransactionManager tm=(TransactionManager)osgiHelper.getServiceObject(TransactionManager.class.getName(),null);
  tm.begin();
  cs.doSomethingGood();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("never-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestNotSupported </h4><pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("notsupported-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad2();
  Assert.assertNull(cs.getLastRolledBack());
  Assert.assertNull(cs.getLastCommitted());
  Assert.assertEquals(0,cs.getNumberOfCommit());
  Assert.assertEquals(0,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("notsupported-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad();
  Assert.assertNull(cs.getLastRolledBack());
  Assert.assertNull(cs.getLastCommitted());
  Assert.assertEquals(0,cs.getNumberOfCommit());
  Assert.assertEquals(0,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("notsupported-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("notsupported-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestRequires </h4><pre class="type-4 type-6 type-2 type-1 type-14 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RollbackException.class) public void testExceptionInsideTransaction() throws NotSupportedException, SystemException, SecurityException, HeuristicMixedException, HeuristicRollbackException, RollbackException {
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requires-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  osgiHelper.waitForService(TransactionManager.class.getName(),null,5000);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  TransactionManager tm=(TransactionManager)osgiHelper.getServiceObject(TransactionManager.class.getName(),null);
  tm.begin();
  Transaction t=tm.getTransaction();
  try {
    cs.doSomethingBad();
    Assert.fail("NullPointerException expected");
  }
 catch (  Exception e) {
    Assert.assertTrue(e instanceof NullPointerException);
  }
  Transaction t2=cs.getCurrentTransaction();
  Assert.assertSame(t2,t);
  Assert.assertEquals(Status.STATUS_MARKED_ROLLBACK,t.getStatus());
  t.commit();
}

</code></pre>

<br>
<pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requires-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad();
  Assert.assertNotNull(cs.getLastRolledBack());
  Assert.assertNull(cs.getLastCommitted());
  Assert.assertEquals(0,cs.getNumberOfCommit());
  Assert.assertEquals(1,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requires-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad2();
  Assert.assertNull(cs.getLastRolledBack());
  Assert.assertNotNull(cs.getLastCommitted());
  Assert.assertEquals(1,cs.getNumberOfCommit());
  Assert.assertEquals(0,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requires-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requires-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestRequiresNew </h4><pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("requiresnew-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.handler.transaction.test.TestSupported </h4><pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("supported-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad2();
  Assert.assertNull(cs.getLastRolledBack());
  Assert.assertNull(cs.getLastCommitted());
  Assert.assertEquals(0,cs.getNumberOfCommit());
  Assert.assertEquals(0,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-4 type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransactionWithCallback(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("supported-cb");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  cs.doSomethingBad();
  Assert.assertNull(cs.getLastRolledBack());
  Assert.assertNull(cs.getLastCommitted());
  Assert.assertEquals(0,cs.getNumberOfCommit());
  Assert.assertEquals(0,cs.getNumberOfRollback());
}

</code></pre>

<br>
<pre class="type-4 type-6 type-2 type-1 type-14 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=RollbackException.class) public void testExceptionInsideTransaction() throws NotSupportedException, SystemException, SecurityException, HeuristicMixedException, HeuristicRollbackException, RollbackException {
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("supported-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  osgiHelper.waitForService(TransactionManager.class.getName(),null,5000);
  CheckService cs=(CheckService)osgiHelper.getServiceObject(ref);
  TransactionManager tm=(TransactionManager)osgiHelper.getServiceObject(TransactionManager.class.getName(),null);
  tm.begin();
  Transaction t=tm.getTransaction();
  try {
    cs.doSomethingBad();
    Assert.fail("NullPointerException expected");
  }
 catch (  Exception e) {
    Assert.assertTrue(e instanceof NullPointerException);
  }
  Transaction t2=cs.getCurrentTransaction();
  Assert.assertSame(t2,t);
  Assert.assertEquals(Status.STATUS_MARKED_ROLLBACK,t.getStatus());
  t.commit();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NullPointerException.class) public void testExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("supported-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad();
}

</code></pre>

<br>
<pre class="type-2 type-10 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=UnsupportedOperationException.class) public void testExpectedExceptionOutsideTransaction(){
  ComponentInstance prov=ipojoHelper.createComponentInstance("org.apache.felix.ipojo.handler.transaction.components.FooImpl");
  ComponentInstance under=ipojoHelper.createComponentInstance("supported-ok");
  Assert.assertEquals(ComponentInstance.VALID,prov.getState());
  Assert.assertEquals(ComponentInstance.VALID,under.getState());
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),under.getInstanceName());
  Assert.assertNotNull(ref);
  ((CheckService)osgiHelper.getServiceObject(ref)).doSomethingBad2();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestListeners </h4><pre class="type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NoSuchElementException.class) public void testRemoveNonexistentProvidedServiceListener(){
  ComponentInstance ci=ipojoHelper.createComponentInstance("PS-Controller-1-default");
  ProvidedServiceHandlerDescription pshd=(ProvidedServiceHandlerDescription)ci.getInstanceDescription().getHandlerDescription("org.apache.felix.ipojo:provides");
  ProvidedServiceDescription ps=getPS(FooService.class.getName(),pshd.getProvidedServices());
  ps.removeListener(new ThrowingListener());
}

</code></pre>

<br>
<pre class="type-18 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies that exceptions are thrown during the test case execution
- Executes methods or other tests from the same test unit
"></span><br>
@Test(expected=NullPointerException.class) public void testNullProvidedServiceListener(){
  ComponentInstance ci=ipojoHelper.createComponentInstance("PS-Controller-1-default");
  ProvidedServiceHandlerDescription pshd=(ProvidedServiceHandlerDescription)ci.getInstanceDescription().getHandlerDescription("org.apache.felix.ipojo:provides");
  ProvidedServiceDescription ps=getPS(FooService.class.getName(),pshd.getProvidedServices());
  ps.addListener(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.resolver.test.ResolverTest </h4><pre class="type-4 type-2 type-11 type-18 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test dynamic resolution with an unresolvable host
 */
@Test(expected=ResolutionException.class) public void testScenario12() throws Exception {
  ResolverImpl resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG),1);
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  ResourceImpl a1=new ResourceImpl("A");
  Capability a1_hostCap=addCap(a1,HostNamespace.HOST_NAMESPACE,"A");
  ResourceImpl b1=new ResourceImpl("B");
  Requirement b_pkgReq1=addReq(b1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  ResourceImpl c1=new ResourceImpl("C");
  Capability c_hostCap=addCap(c1,HostNamespace.HOST_NAMESPACE,"A");
  Capability c_pkgCap=addCap(c1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.a");
  Requirement c_pkgReq1=addReq(c1,PackageNamespace.PACKAGE_NAMESPACE,"org.foo.b");
  candMap.put(b_pkgReq1,Collections.singletonList(c_pkgCap));
  candMap.put(c_pkgReq1,Collections.<Capability>emptyList());
  Map<Resource,List<Wire>> wires=new HashMap<Resource,List<Wire>>();
  wires.put(a1,new ArrayList<Wire>());
  wires.put(b1,new ArrayList<Wire>());
  Map<Resource,List<Wire>> invertedWires=new HashMap<Resource,List<Wire>>();
  invertedWires.put(a1,new ArrayList<Wire>());
  invertedWires.put(b1,new ArrayList<Wire>());
  wirings.put(a1,new SimpleWiring(a1,Collections.<Capability>emptyList(),wires,invertedWires));
  wirings.put(b1,new SimpleWiring(b1,Collections.<Capability>emptyList(),wires,invertedWires));
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,Collections.<Resource>emptyList(),Collections.<Resource>emptyList());
  List<Capability> caps=new ArrayList<Capability>();
  caps.add(c_pkgCap);
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci,b1,b_pkgReq1,caps);
  assertEquals(0,wireMap.size());
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
