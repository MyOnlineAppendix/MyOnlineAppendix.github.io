<h3><span class=" glyphicon glyphicon-tag"/>&nbspBranchVerifier</h3><kbd>Verifies assertions inside branch conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.felix.cm.integration.ConfigUpdateStressTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void test_ManagedServiceFactory_race_condition_test(){
  int counterMax=30;
  int failures=0;
  for (int counter=0; counter < counterMax; counter++) {
    try {
      single_test_ManagedServiceFactory_race_condition_test(counter);
    }
 catch (    Throwable ae) {
      System.out.println("single_test_ManagedServiceFactory_race_condition_test#" + counter + " failed: "+ ae);
      ae.printStackTrace(System.out);
      failures++;
    }
  }
  if (failures != 0) {
    TestCase.fail(failures + "/" + counterMax+ " iterations failed");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void test_ManagedService_race_condition_test(){
  int counterMax=30;
  int failures=0;
  for (int counter=0; counter < counterMax; counter++) {
    try {
      single_test_ManagedService_race_condition_test(counter);
    }
 catch (    Throwable ae) {
      System.out.println("single_test_ManagedService_race_condition_test#" + counter + " failed: "+ ae);
      ae.printStackTrace(System.out);
      failures++;
    }
  }
  if (failures != 0) {
    TestCase.fail(failures + "/" + counterMax+ " iterations failed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.cm.integration.ConfigurationAdminUpdateStressTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testCMUpdateStress(){
  _testLatch=new CountDownLatch(1);
  try {
    CreateUpdateStress stress=new CreateUpdateStress(bundleContext);
    stress.start();
    if (!_testLatch.await(15,TimeUnit.SECONDS)) {
      log(LogService.LOG_DEBUG,"create latch: " + _factoryConfigCreateLatch.getCount());
      log(LogService.LOG_DEBUG,"update latch: " + _factoryConfigUpdateLatch.getCount());
      log(LogService.LOG_DEBUG,"delete latch: " + _factoryConfigDeleteLatch.getCount());
      Assert.fail("Test did not completed timely");
    }
  }
 catch (  InterruptedException e) {
    Assert.fail("Test interrupted");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.cm.integration.FELIX4385_StressTest </h4><pre class="type-15 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void test_ConcurrentManagedServicesWithConcurrentConfigurations(){
  final Log log=new Log(bundleContext);
  log.info("starting test_ConcurrentManagedServicesWithConcurrentConfigurations");
  int parallelism=Math.max(10,Runtime.getRuntime().availableProcessors());
  final ConfigurationAdmin ca=getConfigurationAdmin();
  final ExecutorService executor=Executors.newFixedThreadPool(parallelism);
  try {
    int pidCounter=0;
    long timeStamp=System.currentTimeMillis();
    for (int loop=0; loop < 1000; loop++) {
      log.debug("loop#%d -------------------------",(loop + 1));
      final CountDownLatch managedServiceUpdated=new CountDownLatch(MANAGED_SERVICES);
      final CountDownLatch managedServiceUnregistered=new CountDownLatch(MANAGED_SERVICES);
      log.info("registering aspects concurrently");
      final CopyOnWriteArrayList<ServiceRegistration> managedServices=new CopyOnWriteArrayList<ServiceRegistration>();
      final CopyOnWriteArrayList<Configuration> confs=new CopyOnWriteArrayList<Configuration>();
      for (int i=0; i < MANAGED_SERVICES; i++) {
        final String pid="pid." + i + "-"+ (pidCounter++);
        executor.execute(new Runnable(){
          public void run(){
            Hashtable props=new Hashtable();
            props.put(Constants.SERVICE_PID,pid);
            ServiceRegistration sr=bundleContext.registerService(ManagedService.class.getName(),new TestManagedService(managedServiceUpdated),props);
            managedServices.add(sr);
            try {
              Configuration c=ca.getConfiguration(pid,null);
              c.update(new Hashtable(){
{
                  put("foo","bar");
                }
              }
);
              confs.add(c);
            }
 catch (            IOException e) {
              log.error("could not create pid %s",e,pid);
              return;
            }
          }
        }
);
      }
      if (!managedServiceUpdated.await(MAXWAIT,TimeUnit.MILLISECONDS)) {
        TestCase.fail("Detected errors logged during concurrent test");
        break;
      }
      log.info("all managed services updated");
      log.info("unregistering services concurrently");
      for (      final ServiceRegistration sr : managedServices) {
        executor.execute(new Runnable(){
          public void run(){
            sr.unregister();
            managedServiceUnregistered.countDown();
          }
        }
);
      }
      log.info("unregistering configuration concurrently");
      for (      final Configuration c : confs) {
        c.delete();
      }
      if (!managedServiceUnregistered.await(MAXWAIT,TimeUnit.MILLISECONDS)) {
        TestCase.fail("Managed Servives could not be unregistered timely");
        break;
      }
      if (log.errorsLogged()) {
        TestCase.fail("Detected errors logged during concurrent test");
        break;
      }
      log.info("finished one test loop");
      if ((loop + 1) % 100 == 0) {
        long duration=System.currentTimeMillis() - timeStamp;
        System.out.println(String.format("Performed %d tests in %d ms.",(loop + 1),duration));
        timeStamp=System.currentTimeMillis();
      }
    }
  }
 catch (  Throwable t) {
    Assert.fail("Test failed: " + t.getMessage());
  }
 finally {
    shutdown(executor);
    log.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.das.DeviceManagerTest </h4><pre class="type-5 type-6 type-16 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Is not executed with the test suite
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * This test verified correct behavior when after a driver
 * attach led to a referral, this referral leads to an exception.
 * @throws Exception
 */
@Ignore public void DriverReferral_ReferralFails() throws Exception {
  final String referredDriver="org.apache.felix.driver-2.0";
  String[] driverIds=new String[]{"org.apache.felix.driver-1.0","org.apache.felix.driver-1.1"};
  int[] driverMatches=new int[]{1,Device.MATCH_NONE};
  DriverLocator locator=Mockito.mock(DriverLocator.class,"locator for v1.x");
  Map<String,Driver> drivers=tstExpectDriverLocatorFor(locator,driverIds,driverMatches);
  DriverLocator locatorv2=Mockito.mock(DriverLocator.class,"locator for v2.x (fails always)");
  Mockito.when(locatorv2.findDrivers(Mockito.isA(Dictionary.class))).thenReturn(null);
  Mockito.when(locatorv2.loadDriver(Mockito.startsWith("org.apache.felix.driver-1"))).thenReturn(null);
  InputStream referredInputStream=Mockito.mock(InputStream.class);
  Mockito.when(locatorv2.loadDriver(referredDriver)).thenReturn(referredInputStream);
  Mockito.when(m_context.installBundle(Mockito.anyString(),Mockito.isA(InputStream.class))).thenThrow(new BundleException("test exception"));
  Driver matched=drivers.get("org.apache.felix.driver-1.0");
  final CountDownLatch latch=new CountDownLatch(1);
  Answer<String> driver10_attach=new Answer<String>(){
    public String answer(    InvocationOnMock invocation) throws Throwable {
      System.out.println("driver10_attach()");
      latch.countDown();
      return referredDriver;
    }
  }
;
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  Mockito.when(matched.match(m_osgi.getReference(device))).thenReturn(10);
  Mockito.when(matched.attach(Mockito.isA(ServiceReference.class))).thenAnswer(driver10_attach);
  m_manager.locatorAdded(locator);
  m_manager.locatorAdded(locatorv2);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!latch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an attach to: " + driverIds[0]);
  }
  Mockito.verify(device).noDriverFound();
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void DeviceAddedWithADriverLocatorUnloadFails() throws Exception {
  final String driverId1="org.apache.felix.driver-1.0";
  final String driverId2="org.apache.felix.driver-1.1";
  final String notMatchingButLoadedDriverId="dotorg.apache.felix.driver-1.0";
  DriverLocator locator=Mockito.mock(DriverLocator.class);
  Map<String,Driver> drivers=tstExpectDriverLocatorFor(locator,new String[]{driverId1,driverId2},new int[]{30,3});
  Driver noMatcher=tstCreateDriver(notMatchingButLoadedDriverId,100);
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  final CountDownLatch attachLatch=tstExpectAttach(drivers.get(driverId1),device);
  final CountDownLatch unloadDriverLatch=new CountDownLatch(1);
  ServiceReference driver2Ref=m_osgi.getReference(drivers.get(driverId2));
  Bundle driver2Bundle=m_osgi.getBundle(driver2Ref);
  Answer answer=new Answer(){
    public Object answer(    InvocationOnMock invocation) throws Throwable {
      try {
        throw new BundleException("test driverBundle uninstall failed");
      }
  finally {
        unloadDriverLatch.countDown();
      }
    }
  }
;
  Mockito.doAnswer(answer).when(driver2Bundle).uninstall();
  m_manager.locatorAdded(locator);
  m_manager.driverAdded(m_osgi.getReference(noMatcher),noMatcher);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!attachLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an attach");
  }
  if (!unloadDriverLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an unload");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * We add a device, but there are no driver locators, however, there is a driver
 * that matches. Thus an attach must follow.
 * @throws Exception 
 */
@Test public void DeviceAddedNoDriverLocatorSuccessfulAttach() throws Exception {
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  Driver driver=tstCreateDriver("org.apache.felix.driver-1.0",1);
  CountDownLatch attachLatch=tstExpectAttach(driver,device);
  m_manager.driverAdded(m_osgi.getReference(driver),driver);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!attachLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected attach");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * We add a device while there's one driverlocator that will successfully
 * locate and load two driver bundles. We expect a <code>Driver.attach()</code> for 
 * the best matching driver. There's already a driver loaded that should not match.
 * @throws Exception
 */
@Test public void DeviceAddedWithADriverLocator() throws Exception {
  final String driverId1="org.apache.felix.driver-1.0";
  final String driverId2="org.apache.felix.driver-1.1";
  final String notMatchingButLoadedDriverId="dotorg.apache.felix.driver-1.0";
  DriverLocator locator=Mockito.mock(DriverLocator.class);
  Map<String,Driver> drivers=tstExpectDriverLocatorFor(locator,new String[]{driverId1,driverId2},new int[]{30,3});
  Driver noMatcher=tstCreateDriver(notMatchingButLoadedDriverId,100);
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  final CountDownLatch attachLatch=tstExpectAttach(drivers.get(driverId1),device);
  final CountDownLatch unloadDriverLatch=tstExpectUnloadDriverBundle(drivers.get(driverId2));
  m_manager.locatorAdded(locator);
  m_manager.driverAdded(m_osgi.getReference(noMatcher),noMatcher);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!attachLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an attach");
  }
  if (!unloadDriverLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an unload");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * We add a device, but there are no driver locators, however, there is a driver
 * but it sadly doesn't match. Thus a <code>noDriverFound()</code> is called.
 * @throws Exception 
 */
@Test public void DeviceAddedNoDriverLocatorAttachFails() throws Exception {
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  Driver driver=tstCreateDriver("org.apache.felix.driver-1.0",Device.MATCH_NONE);
  CountDownLatch attachLatch=tstExpectNoDriverFound(device);
  m_manager.driverAdded(m_osgi.getReference(driver),driver);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!attachLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected attach");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * Two drivers equally match the device. There is a driver selector
 * that comes to the rescue that selects driver2. 
 * @throws Exception
 */
@Test public void EqualMatchWithDriverSelector() throws Exception {
  final String driverId1="org.apache.felix.driver-1.0";
  final String driverId2="org.apache.felix.driver-1.1";
  DriverLocator locator=Mockito.mock(DriverLocator.class);
  Map<String,Driver> drivers=tstExpectDriverLocatorFor(locator,new String[]{driverId1,driverId2},new int[]{20,20});
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  DriverSelector selector=Mockito.mock(DriverSelector.class);
  SelectorMatcher matcher=new SelectorMatcher(driverId2);
  Mockito.when(selector.select(Mockito.eq(m_osgi.getReference(device)),Mockito.isA(Match[].class))).thenAnswer(matcher);
  final CountDownLatch attachLatch=tstExpectAttach(drivers.get(driverId2),device);
  Utils.inject(m_manager,DriverSelector.class,selector);
  m_manager.locatorAdded(locator);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!attachLatch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected an attach");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
/** 
 * We add a device, but there are no driver locators, so
 * the noDriverFound method must be called
 * @throws InterruptedException 
 */
@Test public void DeviceAddedNoDriverLocator() throws InterruptedException {
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  CountDownLatch latch=tstExpectNoDriverFound(device);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!latch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected call noDriverFound");
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void DriverLocator_findDriverFails() throws Exception {
  final CountDownLatch latch=new CountDownLatch(1);
  Answer<String[]> answer=new Answer<String[]>(){
    public String[] answer(    InvocationOnMock invocation) throws Throwable {
      latch.countDown();
      throw new RuntimeException("test exception");
    }
  }
;
  DriverLocator locator=Mockito.mock(DriverLocator.class,"locator");
  Mockito.when(locator.findDrivers(Mockito.isA(Dictionary.class))).thenAnswer(answer);
  Device device=tstCreateDevice(new String[]{"org.apache.felix"});
  final CountDownLatch latch2=new CountDownLatch(1);
  Answer answer2=new Answer(){
    public Object answer(    InvocationOnMock invocation) throws Throwable {
      latch2.countDown();
      return null;
    }
  }
;
  Mockito.doAnswer(answer2).when(device).noDriverFound();
  m_manager.locatorAdded(locator);
  m_manager.deviceAdded(m_osgi.getReference(device),device);
  if (!latch.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected a call to DriverLocator.findDrivers");
  }
  if (!latch2.await(5,TimeUnit.SECONDS)) {
    Assert.fail("expected a call to Driver.noDriverFound");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.das.util.DriverLoaderTest </h4><pre class="type-5 type-6 type-2 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void loadDrivers() throws IOException, BundleException {
  List<DriverLocator> locators=new ArrayList<DriverLocator>();
  DriverLocator dl=Mockito.mock(DriverLocator.class,"dl");
  locators.add(dl);
  String[] driverIds=new String[]{"org.apache.felix.driver-1.0","org.apache.felix.driver-1.1"};
  for (  String string : driverIds) {
    Mockito.when(dl.loadDriver(Mockito.eq(string))).thenReturn(null);
    Bundle bundle=Mockito.mock(Bundle.class);
    Mockito.when(m_context.installBundle("_DD_" + string,null)).thenReturn(bundle);
    bundle.start();
    ServiceReference ref=Mockito.mock(ServiceReference.class);
    Mockito.when(ref.getProperty(Constants.DRIVER_ID)).thenReturn(string);
    Mockito.when(bundle.getRegisteredServices()).thenReturn(new ServiceReference[]{ref});
  }
  List<ServiceReference> refs=m_loader.loadDrivers(locators,driverIds);
  Assert.assertEquals("",2,refs.size());
  for (  ServiceReference serviceReference : refs) {
    String driverId="" + serviceReference.getProperty(Constants.DRIVER_ID);
    if (!driverId.equals(driverIds[0]) && !driverId.equals(driverIds[1])) {
      Assert.fail("unexpected driverId");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.deploymentadmin.itest.DeploymentAdminEventTest </h4><pre class="type-4 type-5 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * FELIX-4466 - test that an event is fired when a DP is uninstalled.
 */
@Test public void testSuccessfulUninstallationCausesCompletionEventOk() throws Exception {
  DeploymentPackageBuilder dpBuilder=createNewDeploymentPackageBuilder("1.0.0");
  dpBuilder.add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleapi1","bundleapi1","1.0.0"))).add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleimpl1","bundleimpl1","1.0.0")));
  final AtomicReference<Event> completionEventRef=new AtomicReference<Event>();
  final AtomicReference<Event> uninstallEventRef=new AtomicReference<Event>();
  final CountDownLatch cdl=new CountDownLatch(2);
  EventHandler eventHandler=new EventHandler(){
    @Override public void handleEvent(    Event event){
      if (Constants.EVENTTOPIC_COMPLETE.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",completionEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
 else       if (Constants.EVENTTOPIC_UNINSTALL.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",uninstallEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
    }
  }
;
  DeploymentPackage dp=installDeploymentPackage(dpBuilder);
  assertNotNull(dp);
  awaitRefreshPackagesEvent();
  Dictionary props=new Properties();
  props.put(EventConstants.EVENT_TOPIC,new String[]{Constants.EVENTTOPIC_COMPLETE,Constants.EVENTTOPIC_UNINSTALL});
  ServiceRegistration sreg=m_context.registerService(EventHandler.class,eventHandler,props);
  try {
    dp.uninstall();
    assertTrue("Not all events were received in time?!",cdl.await(5,TimeUnit.SECONDS));
    Event event;
    event=uninstallEventRef.get();
    assertNotNull("No uninstall event received?!",event);
    event=completionEventRef.get();
    assertNotNull("No completion event received?!",event);
    assertTrue("Completion property set to false?!",Boolean.TRUE.equals(event.getProperty(Constants.EVENTPROPERTY_SUCCESSFUL)));
  }
  finally {
    sreg.unregister();
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-6 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * FELIX-4466 - test that an event is fired when an installation of a DP fails.
 */
@Test public void testFailedInstallationCausesCompletionEventOk() throws Exception {
  DeploymentPackageBuilder dpBuilder=createNewDeploymentPackageBuilder("1.0.0");
  dpBuilder.add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleapi1","bundleapi1","1.0.0"))).add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleapi2","bundleapi2","2.0.0")));
  final AtomicReference<Event> completionEventRef=new AtomicReference<Event>();
  final AtomicReference<Event> installEventRef=new AtomicReference<Event>();
  final CountDownLatch cdl=new CountDownLatch(1);
  EventHandler eventHandler=new EventHandler(){
    @Override public void handleEvent(    Event event){
      if (Constants.EVENTTOPIC_COMPLETE.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",completionEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
 else       if (Constants.EVENTTOPIC_INSTALL.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",installEventRef.compareAndSet(null,event));
      }
    }
  }
;
  Dictionary props=new Properties();
  props.put(EventConstants.EVENT_TOPIC,new String[]{Constants.EVENTTOPIC_COMPLETE,Constants.EVENTTOPIC_INSTALL});
  ServiceRegistration sreg=m_context.registerService(EventHandler.class,eventHandler,props);
  try {
    installDeploymentPackage(dpBuilder);
    fail("DeploymentException expected!");
  }
 catch (  DeploymentException e) {
    assertTrue("Not all events were received in time?!",cdl.await(5,TimeUnit.SECONDS));
    Event event;
    event=installEventRef.get();
    assertNull("No install event received?!",event);
    event=completionEventRef.get();
    assertNotNull("No completion event received?!",event);
    assertTrue("Completion property set to true?!",Boolean.FALSE.equals(event.getProperty(Constants.EVENTPROPERTY_SUCCESSFUL)));
  }
 finally {
    sreg.unregister();
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * FELIX-4466 - test that an event is fired when an installation of a DP succeeds.
 */
@Test public void testSuccessfulInstallationCausesCompletionEventOk() throws Exception {
  DeploymentPackageBuilder dpBuilder=createNewDeploymentPackageBuilder("1.0.0");
  dpBuilder.add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleapi1","bundleapi1","1.0.0"))).add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundleimpl1","bundleimpl1","1.0.0")));
  final AtomicReference<Event> completionEventRef=new AtomicReference<Event>();
  final AtomicReference<Event> installEventRef=new AtomicReference<Event>();
  final CountDownLatch cdl=new CountDownLatch(2);
  EventHandler eventHandler=new EventHandler(){
    @Override public void handleEvent(    Event event){
      if (Constants.EVENTTOPIC_COMPLETE.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",completionEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
 else       if (Constants.EVENTTOPIC_INSTALL.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",installEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
    }
  }
;
  Dictionary props=new Properties();
  props.put(EventConstants.EVENT_TOPIC,new String[]{Constants.EVENTTOPIC_COMPLETE,Constants.EVENTTOPIC_INSTALL});
  ServiceRegistration sreg=m_context.registerService(EventHandler.class,eventHandler,props);
  try {
    installDeploymentPackage(dpBuilder);
    assertTrue("Not all events were received in time?!",cdl.await(5,TimeUnit.SECONDS));
    Event event;
    event=installEventRef.get();
    assertNotNull("No install event received?!",event);
    event=completionEventRef.get();
    assertNotNull("No completion event received?!",event);
    assertTrue("Completion property set to false?!",Boolean.TRUE.equals(event.getProperty(Constants.EVENTPROPERTY_SUCCESSFUL)));
  }
  finally {
    sreg.unregister();
  }
}

</code></pre>

<br>
<pre class="type-4 type-5 type-6 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * FELIX-4466 - test that an event is fired when a DP is uninstalled, but fails.
 */
@Test public void testFailedUninstallationCausesCompletionEventOk() throws Exception {
  DeploymentPackageBuilder dpBuilder=createNewDeploymentPackageBuilder("1.0.0");
  dpBuilder.add(dpBuilder.createBundleResource().setUrl(getTestBundleURL("bundle1"))).add(dpBuilder.createResourceProcessorResource().setUrl(getTestBundleURL("rp1"))).add(dpBuilder.createResource().setResourceProcessorPID(TEST_FAILING_BUNDLE_RP1).setUrl(getTestResource("test-config1.xml")));
  final AtomicReference<Event> completionEventRef=new AtomicReference<Event>();
  final AtomicReference<Event> uninstallEventRef=new AtomicReference<Event>();
  final CountDownLatch cdl=new CountDownLatch(2);
  EventHandler eventHandler=new EventHandler(){
    @Override public void handleEvent(    Event event){
      if (Constants.EVENTTOPIC_COMPLETE.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",completionEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
 else       if (Constants.EVENTTOPIC_UNINSTALL.equals(event.getTopic())) {
        assertTrue("Multiple events received?!",uninstallEventRef.compareAndSet(null,event));
        cdl.countDown();
      }
    }
  }
;
  DeploymentPackage dp=installDeploymentPackage(dpBuilder);
  assertNotNull("No deployment package returned?!",dp);
  awaitRefreshPackagesEvent();
  dp.getBundle(getSymbolicName("rp1")).uninstall();
  Dictionary props=new Properties();
  props.put(EventConstants.EVENT_TOPIC,new String[]{Constants.EVENTTOPIC_COMPLETE,Constants.EVENTTOPIC_UNINSTALL});
  ServiceRegistration sreg=m_context.registerService(EventHandler.class,eventHandler,props);
  try {
    dp.uninstall();
    fail("DeploymentException expected!");
  }
 catch (  DeploymentException e) {
    assertTrue("Not all events were received in time?!",cdl.await(5,TimeUnit.SECONDS));
    Event event;
    event=uninstallEventRef.get();
    assertNotNull("No uninstall event received?!",event);
    event=completionEventRef.get();
    assertNotNull("No completion event received?!",event);
    assertTrue("Completion property set to true?!",Boolean.FALSE.equals(event.getProperty(Constants.EVENTPROPERTY_SUCCESSFUL)));
  }
 finally {
    sreg.unregister();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.deploymentadmin.itest.DeploymentPackageBuilderTest </h4><pre class="type-4 type-15 type-5 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we can filter a resource.
 */
@Test public void testResourceFilterOk() throws Exception {
  DeploymentPackageBuilder dpBuilder=DeploymentPackageBuilder.create("dp-test","1.0.0");
  dpBuilder.add(dpBuilder.createBundleResource().setUrl(getTestBundle("bundle2"))).add(dpBuilder.createBundleResource().setVersion("1.1.0").setFilter(new JarManifestManipulatingFilter("Bundle-Version","1.1.0","Foo","bar")).setUrl(getTestBundle("bundle1")));
  JarInputStream jis=new JarInputStream(dpBuilder.generate());
  assertNotNull(jis);
  Manifest manifest=jis.getManifest();
  assertManifestHeader(manifest,"DeploymentPackage-SymbolicName","dp-test");
  assertManifestHeader(manifest,"DeploymentPackage-Version","1.0.0");
  String filename=getBundleName("bundle1");
  assertManifestEntry(manifest,filename,"Name",filename);
  assertManifestEntry(manifest,filename,"Bundle-SymbolicName","testbundles.bundle1");
  assertManifestEntry(manifest,filename,"Bundle-Version","1.1.0");
  filename=getBundleName("bundle2");
  assertManifestEntry(manifest,filename,"Name",filename);
  assertManifestEntry(manifest,filename,"Bundle-SymbolicName","testbundles.bundle2");
  assertManifestEntry(manifest,filename,"Bundle-Version","1.0.0");
  try {
    byte[] buf=new byte[32 * 1024];
    JarEntry entry;
    while ((entry=jis.getNextJarEntry()) != null) {
      if (entry.getName().endsWith("valid-bundle1.jar")) {
        int read=jis.read(buf);
        JarInputStream jis2=new JarInputStream(new ByteArrayInputStream(Arrays.copyOf(buf,read)));
        Manifest manifest2=jis2.getManifest();
        Attributes mainAttributes=manifest2.getMainAttributes();
        assertEquals("1.1.0",mainAttributes.getValue("Bundle-Version"));
        assertEquals("bar",mainAttributes.getValue("Foo"));
        jis2.close();
      }
      jis.closeEntry();
    }
  }
  finally {
    jis.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.framework.DTOFactoryTest </h4><pre class="type-4 type-5 type-2 type-1 type-11 type-13 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRevisionDTOArray() throws Exception {
  String mf="Bundle-SymbolicName: tb2\n" + "Bundle-Version: 1.2.3\n" + "Bundle-ManifestVersion: 2\n"+ "Import-Package: org.osgi.framework;version=\"[1.1,2)\"";
  File bf=createBundle(mf);
  Bundle bundle=framework.getBundleContext().installBundle(bf.toURI().toURL().toExternalForm());
  bundle.start();
  assertEquals("Precondition",Bundle.ACTIVE,bundle.getState());
  BundleRevisionDTO[] dtos=bundle.adapt(BundleRevisionDTO[].class);
  assertEquals(1,dtos.length);
  BundleRevisionDTO dto=dtos[0];
  assertEquals(bundle.getBundleId(),dto.bundle);
  assertTrue(dto.id != 0);
  assertEquals("tb2",dto.symbolicName);
  assertEquals("1.2.3",dto.version);
  assertEquals(0,dto.type);
  boolean foundBundle=false;
  boolean foundHost=false;
  boolean foundIdentity=false;
  int resource=0;
  for (  CapabilityDTO cap : dto.capabilities) {
    assertTrue(cap.id != 0);
    if (resource == 0)     resource=cap.resource;
 else     assertEquals(resource,cap.resource);
    if (BundleNamespace.BUNDLE_NAMESPACE.equals(cap.namespace)) {
      foundBundle=true;
      assertEquals("tb2",cap.attributes.get(BundleNamespace.BUNDLE_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(BundleNamespace.CAPABILITY_BUNDLE_VERSION_ATTRIBUTE));
    }
 else     if (HostNamespace.HOST_NAMESPACE.equals(cap.namespace)) {
      foundHost=true;
      assertEquals("tb2",cap.attributes.get(HostNamespace.HOST_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(HostNamespace.CAPABILITY_BUNDLE_VERSION_ATTRIBUTE));
    }
 else     if (IdentityNamespace.IDENTITY_NAMESPACE.equals(cap.namespace)) {
      foundIdentity=true;
      assertEquals("tb2",cap.attributes.get(IdentityNamespace.IDENTITY_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(IdentityNamespace.CAPABILITY_VERSION_ATTRIBUTE));
      assertEquals(IdentityNamespace.TYPE_BUNDLE,cap.attributes.get(IdentityNamespace.CAPABILITY_TYPE_ATTRIBUTE));
    }
  }
  assertTrue(foundBundle);
  assertTrue(foundHost);
  assertTrue(foundIdentity);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-1 type-11 type-13 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRevisionDTO() throws Exception {
  String mf="Bundle-SymbolicName: tb2\n" + "Bundle-Version: 1.2.3\n" + "Bundle-ManifestVersion: 2\n"+ "Import-Package: org.osgi.framework;version=\"[1.1,2)\"";
  File bf=createBundle(mf);
  Bundle bundle=framework.getBundleContext().installBundle(bf.toURI().toURL().toExternalForm());
  bundle.start();
  assertEquals("Precondition",Bundle.ACTIVE,bundle.getState());
  BundleRevisionDTO dto=bundle.adapt(BundleRevisionDTO.class);
  assertEquals(bundle.getBundleId(),dto.bundle);
  assertTrue(dto.id != 0);
  assertEquals("tb2",dto.symbolicName);
  assertEquals("1.2.3",dto.version);
  assertEquals(0,dto.type);
  boolean foundBundle=false;
  boolean foundHost=false;
  boolean foundIdentity=false;
  int resource=0;
  for (  CapabilityDTO cap : dto.capabilities) {
    assertTrue(cap.id != 0);
    if (resource == 0)     resource=cap.resource;
 else     assertEquals(resource,cap.resource);
    if (BundleNamespace.BUNDLE_NAMESPACE.equals(cap.namespace)) {
      foundBundle=true;
      assertEquals("tb2",cap.attributes.get(BundleNamespace.BUNDLE_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(BundleNamespace.CAPABILITY_BUNDLE_VERSION_ATTRIBUTE));
    }
 else     if (HostNamespace.HOST_NAMESPACE.equals(cap.namespace)) {
      foundHost=true;
      assertEquals("tb2",cap.attributes.get(HostNamespace.HOST_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(HostNamespace.CAPABILITY_BUNDLE_VERSION_ATTRIBUTE));
    }
 else     if (IdentityNamespace.IDENTITY_NAMESPACE.equals(cap.namespace)) {
      foundIdentity=true;
      assertEquals("tb2",cap.attributes.get(IdentityNamespace.IDENTITY_NAMESPACE));
      assertEquals("1.2.3",cap.attributes.get(IdentityNamespace.CAPABILITY_VERSION_ATTRIBUTE));
      assertEquals(IdentityNamespace.TYPE_BUNDLE,cap.attributes.get(IdentityNamespace.CAPABILITY_TYPE_ATTRIBUTE));
    }
  }
  assertTrue(foundBundle);
  assertTrue(foundHost);
  assertTrue(foundIdentity);
}

</code></pre>

<br>
<pre class="type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServiceReferenceDTOArray() throws Exception {
  ServiceRegistration<String> reg=framework.getBundleContext().registerService(String.class,"hi",null);
  Long sid=(Long)reg.getReference().getProperty(Constants.SERVICE_ID);
  ServiceReferenceDTO[] dtos=framework.adapt(ServiceReferenceDTO[].class);
  assertTrue(dtos.length > 0);
  boolean found=false;
  for (  ServiceReferenceDTO dto : dtos) {
    if (dto.id == sid) {
      found=true;
      assertEquals(0L,dto.bundle);
      assertEquals(sid,dto.properties.get(Constants.SERVICE_ID));
      assertTrue(Arrays.equals(new String[]{String.class.getName()},(String[])dto.properties.get(Constants.OBJECTCLASS)));
      assertEquals(0L,dto.properties.get(Constants.SERVICE_BUNDLEID));
      assertEquals(Constants.SCOPE_SINGLETON,dto.properties.get(Constants.SERVICE_SCOPE));
      assertEquals(0,dto.usingBundles.length);
    }
  }
  assertTrue(found);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.http.base.internal.runtime.AbstractInfoOrderingTest </h4><pre class="type-5 type-6 type-2 type-1 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void orderingTransitivity(){
  assertTrue(testInfo.compareTo(other) >= 0);
  TestInfo three=new TestInfo(0,0);
  if (testInfo.compareTo(three) >= 0 && three.compareTo(other) >= 0) {
    assertTrue(testInfo.compareTo(other) >= 0);
  }
 else   if (testInfo.compareTo(other) >= 0 && other.compareTo(three) >= 0) {
    assertTrue(testInfo.compareTo(three) >= 0);
  }
 else   if (three.compareTo(testInfo) >= 0 && testInfo.compareTo(other) >= 0) {
    assertTrue(three.compareTo(other) >= 0);
  }
 else {
    fail("Since testInfo >= other, one of the above cases must match");
  }
}

</code></pre>

<br>
<pre class="type-5 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void ordering(){
  assertEquals(expected,signum(testInfo.compareTo(other)));
  if (expected != 0) {
    final List<AbstractInfo> list=new ArrayList<AbstractInfo>();
    list.add(testInfo);
    list.add(other);
    Collections.sort(list);
    if (expected == -1) {
      assertEquals(testInfo,list.get(0));
      assertEquals(other,list.get(1));
    }
 else {
      assertEquals(testInfo,list.get(1));
      assertEquals(other,list.get(0));
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.http.itest.HttpServiceRuntimeTest </h4><pre class="type-4 type-5 type-2 type-14 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void dtosAreIndependentCopies() throws Exception {
  Dictionary<String,?> properties=createDictionary(HTTP_WHITEBOARD_SERVLET_PATTERN,"/test",HTTP_WHITEBOARD_SERVLET_NAME,"servlet 1",HTTP_WHITEBOARD_SERVLET_INIT_PARAM_PREFIX + "test","testValue");
  CountDownLatch initLatch=new CountDownLatch(1);
  registrations.add(m_context.registerService(Servlet.class.getName(),new TestServlet(initLatch,null),properties));
  awaitServiceRegistration(initLatch);
  HttpServiceRuntime serviceRuntime=(HttpServiceRuntime)getService(HttpServiceRuntime.class.getName());
  assertNotNull("HttpServiceRuntime unavailable",serviceRuntime);
  RuntimeDTO runtimeDTOWithFirstSerlvet=serviceRuntime.getRuntimeDTO();
  registerServlet("testServlet 2","/servlet_2");
  RuntimeDTO runtimeDTOWithTwoSerlvets=serviceRuntime.getRuntimeDTO();
  assertNotSame(runtimeDTOWithFirstSerlvet,runtimeDTOWithTwoSerlvets);
  ServletContextDTO defaultContextFirstServlet=assertDefaultContext(runtimeDTOWithFirstSerlvet);
  ServletContextDTO defaultContextTwoServlets=assertDefaultContext(runtimeDTOWithTwoSerlvets);
  assertNotSame(defaultContextFirstServlet.servletDTOs[0].patterns,defaultContextTwoServlets.servletDTOs[0].patterns);
  boolean mapsModifiable=true;
  try {
    defaultContextTwoServlets.servletDTOs[0].initParams.clear();
  }
 catch (  UnsupportedOperationException e) {
    mapsModifiable=false;
  }
  if (mapsModifiable) {
    assertNotSame(defaultContextFirstServlet.servletDTOs[0].initParams,defaultContextTwoServlets.servletDTOs[0].initParams);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.http.itest.RequestDispatchTest </h4><pre class="type-5 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we can forward content from other servlets using the {@link RequestDispatcher} service.
 */
@Test public void testDispatchForwardToRelativeURIOk() throws Exception {
  CountDownLatch initLatch=new CountDownLatch(1);
  CountDownLatch destroyLatch=new CountDownLatch(1);
  TestServlet servlet=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      Object contextPathAttr=req.getAttribute(FORWARD_CONTEXT_PATH);
      if (contextPathAttr != null) {
        assertEquals("",req.getContextPath());
        assertEquals("/test",req.getServletPath());
        assertEquals("/forward",req.getPathInfo());
        assertEquals("/test/forward",req.getRequestURI());
        assertEquals("bar=qux&quu",req.getQueryString());
        assertEquals("",contextPathAttr);
        assertEquals("/test",req.getAttribute(FORWARD_SERVLET_PATH));
        assertEquals("/foo",req.getAttribute(FORWARD_PATH_INFO));
        assertEquals("/test/foo",req.getAttribute(FORWARD_REQUEST_URI));
        assertEquals("bar=qux&quu",req.getAttribute(FORWARD_QUERY_STRING));
        resp.getWriter().print("FORWARD\n");
      }
 else {
        assertEquals("",req.getContextPath());
        assertEquals("/test",req.getServletPath());
        assertEquals("/foo",req.getPathInfo());
        assertEquals("/test/foo",req.getRequestURI());
        assertEquals("bar=qux&quu",req.getQueryString());
        resp.getWriter().print("NOT_SEND\n");
        RequestDispatcher disp=req.getServletContext().getRequestDispatcher("forward");
        assertNull("ServletContext returned RequestDispatcher for relative path?!",disp);
        disp=req.getRequestDispatcher("forward");
        assertNotNull("ServletRequest returned NO RequestDispatcher for relative path?!",disp);
        disp.forward(req,resp);
        resp.getWriter().print("NOT_SEND\n");
      }
    }
  }
;
  register("/test",servlet);
  assertTrue(initLatch.await(5,TimeUnit.SECONDS));
  assertContent("FORWARD\n",createURL("/test/foo?bar=qux&quu"));
  unregister(servlet);
  assertTrue(destroyLatch.await(5,TimeUnit.SECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we can forward content from other servlets using the {@link RequestDispatcher} service.
 */
@Test public void testDispatchForwardToAbsoluteURIOk() throws Exception {
  CountDownLatch initLatch=new CountDownLatch(2);
  CountDownLatch destroyLatch=new CountDownLatch(2);
  TestServlet forward=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      Object includeContextPath=req.getAttribute(FORWARD_CONTEXT_PATH);
      if (includeContextPath != null) {
        assertEquals("",req.getContextPath());
        assertEquals("/forward",req.getServletPath());
        assertEquals(null,req.getPathInfo());
        assertEquals("/forward",req.getRequestURI());
        assertEquals("bar=qux&quu",req.getQueryString());
        assertEquals("",includeContextPath);
        assertEquals("/test",req.getAttribute(FORWARD_SERVLET_PATH));
        assertEquals("/foo",req.getAttribute(FORWARD_PATH_INFO));
        assertEquals("/test/foo",req.getAttribute(FORWARD_REQUEST_URI));
        assertEquals("bar=qux&quu",req.getAttribute(FORWARD_QUERY_STRING));
      }
 else {
        assertEquals("",req.getContextPath());
        assertEquals("/forward",req.getServletPath());
        assertEquals("/bar",req.getPathInfo());
        assertEquals("/forward/bar",req.getRequestURI());
        assertEquals("quu=qux",req.getQueryString());
      }
      resp.getWriter().print("FORWARD\n");
    }
  }
;
  TestServlet servlet=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      assertEquals("",req.getContextPath());
      assertEquals("/test",req.getServletPath());
      assertEquals("/foo",req.getPathInfo());
      assertEquals("/test/foo",req.getRequestURI());
      assertEquals("bar=qux&quu",req.getQueryString());
      resp.getWriter().print("NOT_SEND\n");
      req.getRequestDispatcher("/forward").forward(req,resp);
      resp.getWriter().print("NOT_SEND\n");
    }
  }
;
  register("/forward",forward);
  register("/test",servlet);
  assertTrue(initLatch.await(5,TimeUnit.SECONDS));
  assertContent("FORWARD\n",createURL("/test/foo?bar=qux&quu"));
  assertContent("FORWARD\n",createURL("/forward/bar?quu=qux"));
  unregister(forward);
  unregister(servlet);
  assertTrue(destroyLatch.await(5,TimeUnit.SECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we can include content from other servlets using the {@link RequestDispatcher} service.
 */
@Test public void testDispatchIncludeRelativeURIOk() throws Exception {
  CountDownLatch initLatch=new CountDownLatch(1);
  CountDownLatch destroyLatch=new CountDownLatch(1);
  TestServlet servlet=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      Object contextPathAttr=req.getAttribute(INCLUDE_CONTEXT_PATH);
      if (contextPathAttr != null) {
        assertEquals("",req.getContextPath());
        assertEquals("/foo",req.getPathInfo());
        assertEquals("/test",req.getServletPath());
        assertEquals("/test/foo",req.getRequestURI());
        assertEquals("bar=qux&quu",req.getQueryString());
        assertEquals("",contextPathAttr);
        assertEquals("/test",req.getAttribute(INCLUDE_SERVLET_PATH));
        assertEquals(null,req.getAttribute(INCLUDE_QUERY_STRING));
        resp.getWriter().print("INCLUDE\n");
      }
 else {
        assertEquals("",req.getContextPath());
        assertEquals("/test",req.getServletPath());
        assertEquals("bar=qux&quu",req.getQueryString());
        resp.getWriter().print("BEFORE\n");
        RequestDispatcher disp=req.getServletContext().getRequestDispatcher("include");
        assertNull("ServletContext returned RequestDispatcher for relative path?!",disp);
        disp=req.getRequestDispatcher("include");
        assertNotNull("ServletRequest returned NO RequestDispatcher for relative path?!",disp);
        disp.include(req,resp);
        resp.getWriter().print("AFTER\n");
      }
    }
  }
;
  register("/test",servlet);
  assertTrue(initLatch.await(5,TimeUnit.SECONDS));
  assertContent("BEFORE\nINCLUDE\nAFTER\n",createURL("/test/foo?bar=qux&quu"));
  unregister(servlet);
  assertTrue(destroyLatch.await(5,TimeUnit.SECONDS));
}

</code></pre>

<br>
<pre class="type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that we can include content from other servlets using the {@link RequestDispatcher} service.
 */
@Test public void testDispatchIncludeAbsoluteURIOk() throws Exception {
  CountDownLatch initLatch=new CountDownLatch(2);
  CountDownLatch destroyLatch=new CountDownLatch(2);
  TestServlet include=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      Object includeContextPath=req.getAttribute(INCLUDE_CONTEXT_PATH);
      if (includeContextPath != null) {
        assertEquals("",req.getContextPath());
        assertEquals("/test",req.getServletPath());
        assertEquals("/foo",req.getPathInfo());
        assertEquals("/test/foo",req.getRequestURI());
        assertEquals("bar=qux&quu",req.getQueryString());
        assertEquals("",includeContextPath);
        assertEquals("/include",req.getAttribute(INCLUDE_SERVLET_PATH));
        assertEquals(null,req.getAttribute(INCLUDE_PATH_INFO));
        assertEquals("/include",req.getAttribute(INCLUDE_REQUEST_URI));
        assertEquals(null,req.getAttribute(INCLUDE_QUERY_STRING));
      }
 else {
        assertEquals("",req.getContextPath());
        assertEquals("/include",req.getServletPath());
        assertEquals("/bar",req.getPathInfo());
        assertEquals("/include/bar",req.getRequestURI());
        assertEquals("quu=qux",req.getQueryString());
      }
      resp.getWriter().print("INCLUDE\n");
    }
  }
;
  TestServlet servlet=new TestServlet(initLatch,destroyLatch){
    private static final long serialVersionUID=1L;
    @Override protected void doGet(    HttpServletRequest req,    HttpServletResponse resp) throws ServletException, IOException {
      assertEquals("",req.getContextPath());
      assertEquals("/test",req.getServletPath());
      assertEquals("/foo",req.getPathInfo());
      assertEquals("/test/foo",req.getRequestURI());
      assertEquals("bar=qux&quu",req.getQueryString());
      resp.getWriter().print("BEFORE\n");
      req.getRequestDispatcher("/include").include(req,resp);
      resp.getWriter().print("AFTER\n");
    }
  }
;
  register("/include",include);
  register("/test",servlet);
  assertTrue(initLatch.await(5,TimeUnit.SECONDS));
  assertContent("BEFORE\nINCLUDE\nAFTER\n",createURL("/test/foo?bar=qux&quu"));
  assertContent("INCLUDE\n",createURL("/include/bar?quu=qux"));
  unregister(include);
  unregister(servlet);
  assertTrue(destroyLatch.await(5,TimeUnit.SECONDS));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.manipulation.DirManipulationTest </h4><pre class="type-15 type-5 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies boolean conditions
"></span><br>
/** 
 * Test case for FELIX-3466.
 * Checks if directory manipulation, uses the supplied manifest file as
 * output.
 * @throws IOException
 */
@Test public void testManifestLocationKept() throws IOException {
  Pojoization pojoizator=new Pojoization();
  File tmpDir=null, manifestFile=null, testClass=null;
  File tmpFile=File.createTempFile("pojodir",".dir");
  String tmpPath=tmpFile.getAbsolutePath();
  tmpFile.delete();
  tmpDir=new File(tmpPath);
  tmpDir.mkdir();
  tmpDir.deleteOnExit();
  manifestFile=new File(tmpDir,"MANIFEST.MF");
  new FileOutputStream(manifestFile).write("Manifest-Version: 1.0\r\n".getBytes());
  manifestFile.deleteOnExit();
  AnnotatedComponent safe;
  File annotedClassPackage=new File(tmpDir,"test");
  annotedClassPackage.deleteOnExit();
  annotedClassPackage.mkdir();
  testClass=new File(annotedClassPackage,"AnnotatedComponent.class");
  testClass.deleteOnExit();
  FileOutputStream os=new FileOutputStream(testClass);
  os.write(ManipulatorTest.getBytesFromFile(new File("target/test-classes/test/AnnotatedComponent.class")));
  os.close();
  pojoizator.directoryPojoization(tmpDir,null,manifestFile,null);
  BufferedReader fi=new BufferedReader(new FileReader(manifestFile));
  String manifestLine;
  while ((manifestLine=fi.readLine()) != null) {
    if (manifestLine.contains("iPOJO-Components")) {
      assertTrue(true);
      return;
    }
  }
  assertTrue("Directory Manipulation didn't use supplied manifest file as output",false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.bad.test.TestBadLFCCallback </h4><pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBadMethod2(){
  try {
    ComponentFactory cf=new ComponentFactory(getTestBundle().getBundleContext(),getBadMethod2());
    cf.start();
    ComponentInstance ci=cf.createComponentInstance(props);
    ci.stop();
    if (ci.isStarted()) {
      fail("A lifecycle callback with a bad method must be rejected (instance stills valid)" + cf);
    }
    ci.dispose();
    cf.stop();
  }
 catch (  ConfigurationException e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
catch (  UnacceptableConfiguration e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
catch (  MissingHandlerException e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
}

</code></pre>

<br>
<pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBadMethod(){
  try {
    ComponentFactory cf=new ComponentFactory(getTestBundle().getBundleContext(),getBadMethod());
    cf.start();
    ComponentInstance ci=cf.createComponentInstance(props);
    if (ci.isStarted()) {
      fail("A lifecycle callback with a bad method must be rejected (instance stills valid)" + cf);
    }
    ci.dispose();
    cf.stop();
  }
 catch (  ConfigurationException e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
catch (  UnacceptableConfiguration e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
catch (  MissingHandlerException e) {
    fail("Unexpected exception when creating an instance : " + e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.IgnoreCaseHandlerSelectionTest </h4><pre class="type-5 type-6 type-2 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks that the handler is declared and accessible.
 */
@Test public void testHandlerAvailability(){
  ServiceReference[] refs=osgiHelper.getServiceReferences(HandlerFactory.class.getName(),null);
  for (  ServiceReference ref : refs) {
    String name=(String)ref.getProperty("handler.name");
    String ns=(String)ref.getProperty("handler.namespace");
    if (name != null && name.equalsIgnoreCase("EmPtY") && ns != null && ns.equalsIgnoreCase("orG.apAche.feliX.iPOJO.tests.CORE.hAnDlEr")) {
      Integer state=(Integer)ref.getProperty("factory.state");
      if (state != null) {
        Assert.assertEquals(Factory.VALID,state.intValue());
        return;
      }
 else {
        Assert.fail("Handler found but no state exposed");
      }
    }
  }
  Assert.fail("Handler not found");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestDynamicProps </h4><pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties2(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-2");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",boolProp,new Boolean(false));
  assertEquals("Check strProp equality",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"bar","foo"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(3));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties3(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String(""));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[0];
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[0];
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hidding (no value)",intAProp);
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties4(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-4");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Object boolProp=sr.getProperty("boolean");
  Object strProp=sr.getProperty("string");
  Object strAProp=sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check boolProp equality",boolProp,null);
  assertEquals("Check strProp equality",strProp,null);
  assertNull("Check strAProp  nullity",strAProp);
  assertNotNull("Check intAProp not nullity",intAProp);
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < ((String[])strAProp).length; i++) {
    if (!((String[])strAProp)[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hidding (no value)",intAProp);
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties1(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (1)",intProp,new Integer(2));
  assertEquals("Check longProp equality (1)",boolProp,new Boolean(false));
  assertEquals("Check strProp equality (1)",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity (1)",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (1)");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (1)");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (2)",intProp,new Integer(3));
  assertEquals("Check longProp equality (2)",boolProp,new Boolean(true));
  assertEquals("Check strProp equality (2)",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity (2)",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (2)");
    }
  }
  assertNotNull("Check intAProp not nullity (2)",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (2)");
    }
  }
  fs=null;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestDynamicPropsReconfiguration </h4><pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfiguraitonUsingManagedServiceWithStrings() throws IOException, InterruptedException {
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[0];
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[0];
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ConfigurationAdmin admin=osgiHelper.getServiceObject(ConfigurationAdmin.class);
  Configuration configuration=admin.getConfiguration("FooProvider-3","?");
  Dictionary<String,Object> p3=new Hashtable<String,Object>();
  p3.put("int","1");
  p3.put("boolean","true");
  p3.put("string","foo");
  p3.put("strAProp","{foo, bar, baz}");
  p3.put("intAProp","{ 1, 2, 3}");
  configuration.update(p3);
  TimeUtils.grace(200);
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hidding (no value)",intAProp);
  p3=new Hashtable<String,Object>();
  p3.put("int","1");
  p3.put("boolean","true");
  p3.put("string","foo");
  p3.put("strAProp","{foo, bar, baz}");
  p3.put("intAProp","{ 1, 2, 3}");
  configuration.update(p3);
  TimeUtils.grace(200);
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFactoryReconfNoValue(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-4");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Object boolProp=sr.getProperty("boolean");
  Object strProp=sr.getProperty("string");
  Object strAProp=sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",boolProp,null);
  assertEquals("Check strProp equality",strProp,null);
  assertNull("Check strAProp nullity",strAProp);
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ServiceReference fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  Factory fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  Properties p3=new Properties();
  p3.put("instance.name","FooProvider-4");
  p3.put("int",new Integer(1));
  p3.put("boolean",new Boolean(true));
  p3.put("string",new String("foo"));
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-4");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar","baz"};
  for (int i=0; i < ((String[])strAProp).length; i++) {
    if (!((String[])strAProp)[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < ((String[])strAProp).length; i++) {
    if (!((String[])strAProp)[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hidding (no value)",intAProp);
  fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  p3=new Properties();
  p3.put("instance.name","FooProvider-3");
  p3.put("int",new Integer(1));
  p3.put("boolean",new Boolean(true));
  p3.put("string",new String("foo"));
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < ((String[])strAProp).length; i++) {
    if (!((String[])strAProp)[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  fact=null;
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFactoryReconf(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String(""));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[0];
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[0];
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ServiceReference fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  Factory fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  Properties p3=new Properties();
  p3.put("instance.name","FooProvider-3");
  p3.put("int",1);
  p3.put("boolean",true);
  p3.put("string","foo");
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hidding (no value)",intAProp);
  fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  p3=new Properties();
  p3.put("instance.name","FooProvider-3");
  p3.put("int",1);
  p3.put("boolean",true);
  p3.put("string","foo");
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfigurationUsingManagedService() throws IOException, InterruptedException {
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[0];
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[0];
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ConfigurationAdmin admin=osgiHelper.getServiceObject(ConfigurationAdmin.class);
  Configuration configuration=admin.getConfiguration("FooProvider-3","?");
  Dictionary<String,Object> p3=new Hashtable<String,Object>();
  p3.put("int",1);
  p3.put("boolean",true);
  p3.put("string","foo");
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  configuration.update(p3);
  TimeUtils.grace(200);
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hiding (no value)",intAProp);
  p3=new Hashtable<String,Object>();
  p3.put("int",1);
  p3.put("boolean",true);
  p3.put("string","foo");
  p3.put("strAProp",new String[]{"foo","bar","baz"});
  p3.put("intAProp",new int[]{1,2,3});
  configuration.update(p3);
  TimeUtils.grace(200);
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFactoryReconfString(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[0];
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[0];
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ServiceReference fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  Factory fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  Properties p3=new Properties();
  p3.put("instance.name","FooProvider-3");
  p3.put("int","1");
  p3.put("boolean","true");
  p3.put("string","foo");
  p3.put("strAProp","{foo, bar, baz}");
  p3.put("intAProp","{1, 2, 3}");
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNull("Check intAProp hiding (no value)",intAProp);
  fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-Dyn2");
  fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  p3=new Properties();
  p3.put("instance.name","FooProvider-3");
  p3.put("int","1");
  p3.put("boolean","true");
  p3.put("string","foo");
  p3.put("strAProp","{foo, bar, baz}");
  p3.put("intAProp","{ 1, 2, 3}");
  try {
    fact.reconfigure(p3);
  }
 catch (  Exception e) {
    fail("Unable to reconfigure the instance with : " + p3);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(1));
  assertEquals("Check longProp equality",boolProp,Boolean.TRUE);
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestManagedServiceTestForImmediate </h4><pre class="type-4 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Creates an instance using a factory configuration.
 * The configuration specifies the managed.service.pid property
 * Reconfiguration is applied using the exposed managed service.
 */
@Test public void testCreationUsingFactoryConfigurationSettingTheManagedServicePid(){
  Configuration conf=null;
  try {
    conf=admin.createFactoryConfiguration(factNameImm,getTestBundle().getLocation());
    Dictionary props=conf.getProperties();
    if (props == null) {
      props=new Properties();
    }
    props.put("managed.service.pid",msp);
    props.put("message","message");
    conf.update(props);
    grace();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  Architecture arch=(Architecture)osgiHelper.getServiceObject(org.apache.felix.ipojo.architecture.Architecture.class.getName(),"(architecture.instance=" + conf.getPid() + ")");
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),conf.getPid());
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  FooService fs=(FooService)bc.getService(ref);
  Properties p=fs.fooProps();
  String mes=p.getProperty("message");
  int count=((Integer)p.get("count")).intValue();
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertEquals("Check message","message",mes);
  assertEquals("Check count",1,count);
  Configuration configuration;
  try {
    configuration=admin.getConfiguration(msp,getTestBundle().getLocation());
    Dictionary prc=configuration.getProperties();
    if (prc == null) {
      prc=new Properties();
    }
    prc.put("message","message2");
    configuration.update(prc);
    grace();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),conf.getPid());
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  fs=(FooService)bc.getService(ref);
  p=fs.fooProps();
  mes=p.getProperty("message");
  count=((Integer)p.get("count")).intValue();
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  if (mes.equals("message")) {
    System.out.println("Warning, configuration not yet applied");
    assertEquals("Check count - W",1,count);
  }
 else {
    assertEquals("Check message","message2",mes);
    assertEquals("Check count",2,count);
  }
  try {
    conf.delete();
    grace();
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestManagedServiceTestForService </h4><pre class="type-4 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreationUsingFactoryAndReconfigurationUsingManagedService(){
  Properties props=new Properties();
  props.put("managed.service.pid",msp);
  props.put("message","message");
  ComponentInstance instance=null;
  try {
    instance=factSvc.createComponentInstance(props);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),instance.getInstanceName());
  assertEquals("Check no object",0,((PrimitiveInstanceDescription)instance.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  FooService fs=(FooService)bc.getService(ref);
  Properties p=fs.fooProps();
  String mes=p.getProperty("message");
  int count=(Integer)p.get("count");
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)instance.getInstanceDescription()).getCreatedObjects().length);
  assertEquals("Check message","message",mes);
  assertEquals("Check count",1,count);
  Configuration configuration;
  try {
    configuration=admin.getConfiguration(msp,getTestBundle().getLocation());
    Dictionary prc=configuration.getProperties();
    if (prc == null) {
      prc=new Properties();
    }
    prc.put("message","message2");
    configuration.update(prc);
    grace();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),instance.getInstanceName());
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)instance.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  fs=(FooService)bc.getService(ref);
  p=fs.fooProps();
  mes=p.getProperty("message");
  count=(Integer)p.get("count");
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)instance.getInstanceDescription()).getCreatedObjects().length);
  if (mes.equals("message")) {
    System.out.println("Warning, configuration not yet applied");
    assertEquals("Check count - W",1,count);
  }
 else {
    assertEquals("Check message","message2",mes);
    assertEquals("Check count",2,count);
  }
  instance.dispose();
}

</code></pre>

<br>
<pre class="type-4 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreationUsingMSFAndReconfigurationUsingManagedService(){
  Configuration conf=null;
  try {
    conf=admin.createFactoryConfiguration(factNameSvc,getTestBundle().getLocation());
    Dictionary props=conf.getProperties();
    if (props == null) {
      props=new Properties();
    }
    props.put("managed.service.pid",msp);
    props.put("message","message");
    conf.update(props);
    grace();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  Architecture arch=(Architecture)osgiHelper.getServiceObject(org.apache.felix.ipojo.architecture.Architecture.class.getName(),"(architecture.instance=" + conf.getPid() + ")");
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),conf.getPid());
  assertEquals("Check no object",0,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  FooService fs=(FooService)bc.getService(ref);
  Properties p=fs.fooProps();
  String mes=p.getProperty("message");
  int count=(Integer)p.get("count");
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertEquals("Check message","message",mes);
  assertEquals("Check count",1,count);
  Configuration configuration;
  try {
    configuration=admin.getConfiguration(msp,getTestBundle().getLocation());
    Dictionary prc=configuration.getProperties();
    if (prc == null) {
      prc=new Properties();
    }
    prc.put("message","message2");
    configuration.update(prc);
    grace();
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
  ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),conf.getPid());
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  assertNotNull("FS availability",ref);
  fs=(FooService)bc.getService(ref);
  p=fs.fooProps();
  mes=p.getProperty("message");
  count=(Integer)p.get("count");
  assertEquals("Check 1 object",1,((PrimitiveInstanceDescription)arch.getInstanceDescription()).getCreatedObjects().length);
  if (mes.equals("message")) {
    System.out.println("Warning, configuration not yet applied");
    assertEquals("Check count - W",1,count);
  }
 else {
    assertEquals("Check message","message2",mes);
    assertEquals("Check count",2,count);
  }
  try {
    conf.delete();
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestPropertiesInAnonymousClass </h4><pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunnable(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProviderAno-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (1)",intProp,new Integer(2));
  assertEquals("Check longProp equality (1)",boolProp,new Boolean(false));
  assertEquals("Check strProp equality (1)",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity (1)",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (1)");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (1)");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.foo());
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProviderAno-1");
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (2)",intProp,new Integer(3));
  assertEquals("Check longProp equality (2)",boolProp,new Boolean(true));
  assertEquals("Check strProp equality (2)",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity (2)",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (2)");
    }
  }
  assertNotNull("Check intAProp not nullity (2)",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (2)");
    }
  }
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWorkerThread(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProviderAno-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Boolean boolProp=(Boolean)sr.getProperty("boolean");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (1)",intProp,new Integer(2));
  assertEquals("Check longProp equality (1)",boolProp,new Boolean(false));
  assertEquals("Check strProp equality (1)",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity (1)",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (1)");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (1)");
    }
  }
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  assertTrue("invoke fs",fs.getBoolean());
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProviderAno-1");
  intProp=(Integer)sr.getProperty("int");
  boolProp=(Boolean)sr.getProperty("boolean");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality (2)",intProp,new Integer(3));
  assertEquals("Check longProp equality (2)",boolProp,new Boolean(true));
  assertEquals("Check strProp equality (2)",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity (2)",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (2)");
    }
  }
  assertNotNull("Check intAProp not nullity (2)",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (2)");
    }
  }
  fs=null;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestSimpleProperties </h4><pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstanceConfiguration(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-2");
  assertNotNull("Check the availability of the FS service",sr);
  FooService fs=(FooService)osgiHelper.getContext().getService(sr);
  Properties toCheck=fs.fooProps();
  Integer intProp=(Integer)toCheck.get("intProp");
  Boolean boolProp=(Boolean)toCheck.get("boolProp");
  String strProp=(String)toCheck.get("strProp");
  String[] strAProp=(String[])toCheck.get("strAProp");
  int[] intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",boolProp,new Boolean(false));
  assertEquals("Check strProp equality",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"bar","foo"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  assertTrue("invoke fs",fs.foo());
  toCheck=fs.fooProps();
  intProp=(Integer)toCheck.get("intProp");
  boolProp=(Boolean)toCheck.get("boolProp");
  strProp=(String)toCheck.get("strProp");
  strAProp=(String[])toCheck.get("strAProp");
  intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(3));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  fs=null;
  osgiHelper.getContext().ungetService(sr);
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComponentTypeConfiguration(){
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),fooProvider1.getInstanceName());
  assertNotNull("Check FooService availability",ref);
  FooService fs=(FooService)osgiHelper.getContext().getService(ref);
  Properties toCheck=fs.fooProps();
  Integer intProp=(Integer)toCheck.get("intProp");
  Boolean boolProp=(Boolean)toCheck.get("boolProp");
  String strProp=(String)toCheck.get("strProp");
  String[] strAProp=(String[])toCheck.get("strAProp");
  int[] intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality (1)",intProp,new Integer(2));
  assertEquals("Check longProp equality (1)",boolProp,new Boolean(false));
  assertEquals("Check strProp equality (1)",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity (1)",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (1) : " + strAProp[i] + " != "+ v[i]);
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (1) : " + intAProp[i] + " != "+ v2[i]);
    }
  }
  assertTrue("Invoke the fs service",fs.foo());
  toCheck=fs.fooProps();
  intProp=(Integer)toCheck.get("intProp");
  boolProp=(Boolean)toCheck.get("boolProp");
  strProp=(String)toCheck.get("strProp");
  strAProp=(String[])toCheck.get("strAProp");
  intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality (2) (" + intProp + ")",intProp,new Integer(3));
  assertEquals("Check longProp equality (2)",boolProp,new Boolean(true));
  assertEquals("Check strProp equality (2)",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity (2)",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (2)");
    }
  }
  assertNotNull("Check intAProp not nullity (2)",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (2) : " + intAProp[i] + " != "+ v2[i]);
    }
  }
  fs=null;
  osgiHelper.getContext().ungetService(ref);
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoValue(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  FooService fs=(FooService)osgiHelper.getContext().getService(sr);
  Properties toCheck=fs.fooProps();
  Integer intProp=(Integer)toCheck.get("intProp");
  Boolean boolProp=(Boolean)toCheck.get("boolProp");
  String strProp=(String)toCheck.get("strProp");
  String[] strAProp=(String[])toCheck.get("strAProp");
  int[] intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,new Boolean(false));
  assertEquals("Check strProp equality",strProp,null);
  assertNull("Check strAProp nullity",strAProp);
  assertNull("Check intAProp  nullity",intAProp);
  assertTrue("invoke fs",fs.foo());
  toCheck=fs.fooProps();
  intProp=(Integer)toCheck.get("intProp");
  boolProp=(Boolean)toCheck.get("boolProp");
  strProp=(String)toCheck.get("strProp");
  strAProp=(String[])toCheck.get("strAProp");
  intAProp=(int[])toCheck.get("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(3));
  assertEquals("Check longProp equality",boolProp,new Boolean(true));
  assertEquals("Check strProp equality",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  fs=null;
  osgiHelper.getContext().ungetService(sr);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestStaticProps </h4><pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties2(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-2");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",longProp,new Long(42));
  assertEquals("Check strProp equality",strProp,new String("bar"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"bar","foo"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties1(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",longProp,new Long(40));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestStaticPropsReconfiguration </h4><pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfFactory1(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",longProp,new Long(40));
  assertEquals("Check strProp equality",strProp,new String("foo"));
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ServiceReference fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-2");
  Dictionary reconf=new Properties();
  reconf.put("instance.name","FooProvider-1");
  reconf.put("int",new Integer(5));
  reconf.put("long",new Long(43));
  reconf.put("string",new String("toto"));
  reconf.put("strAProp",new String[]{"foo","baz"});
  reconf.put("intAProp",new int[]{3,2,1});
  Factory fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  try {
    fact.reconfigure(reconf);
  }
 catch (  Exception e) {
    fail("Configuration non acceptable : " + reconf);
  }
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  longProp=(Long)sr.getProperty("long");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality after reconfiguration",intProp,new Integer(5));
  assertEquals("Check longProp equality after reconfiguration",longProp,new Long(43));
  assertEquals("Check strProp equality after reconfiguration",strProp,new String("toto"));
  assertNotNull("Check strAProp not nullity after reconfiguration",strAProp);
  v=new String[]{"foo","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfFactory2(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-2");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",longProp,new Long(42));
  assertEquals("Check strProp equality",strProp,"bar");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"bar","foo"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ServiceReference fact_ref=ipojoHelper.getServiceReferenceByName(Factory.class.getName(),"PS-FooProviderType-2");
  Properties reconf=new Properties();
  reconf.put("instance.name","FooProvider-2");
  reconf.put("int",5);
  reconf.put("long",(long)43);
  reconf.put("string","toto");
  reconf.put("strAProp",new String[]{"foo","baz"});
  reconf.put("intAProp",new int[]{3,2,1});
  Factory fact=(Factory)osgiHelper.getRawServiceObject(fact_ref);
  try {
    fact.reconfigure(reconf);
  }
 catch (  Exception e) {
    fail("Configuration non acceptable : " + reconf);
  }
  intProp=(Integer)sr.getProperty("int");
  longProp=(Long)sr.getProperty("long");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality after reconfiguration",intProp,new Integer(5));
  assertEquals("Check longProp equality after reconfiguration",longProp,new Long(43));
  assertEquals("Check strProp equality after reconfiguration",strProp,"toto");
  assertNotNull("Check strAProp not nullity after reconfiguration",strAProp);
  v=new String[]{"foo","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReconfMSF2() throws IOException, InterruptedException {
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-2");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(4));
  assertEquals("Check longProp equality",longProp,new Long(42));
  assertEquals("Check strProp equality",strProp,"bar");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"bar","foo"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ConfigurationAdmin admin=osgiHelper.getServiceObject(ConfigurationAdmin.class);
  Configuration configuration=admin.getConfiguration("FooProvider-2","?");
  Dictionary<String,Object> reconf=new Hashtable<String,Object>();
  reconf.put("int",5);
  reconf.put("long",(long)43);
  reconf.put("string","toto");
  reconf.put("strAProp",new String[]{"foo","baz"});
  reconf.put("intAProp",new int[]{3,2,1});
  configuration.update(reconf);
  Thread.sleep(200);
  intProp=(Integer)sr.getProperty("int");
  longProp=(Long)sr.getProperty("long");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality after reconfiguration",intProp,new Integer(5));
  assertEquals("Check longProp equality after reconfiguration",longProp,new Long(43));
  assertEquals("Check strProp equality after reconfiguration",strProp,"toto");
  assertNotNull("Check strAProp not nullity after reconfiguration",strAProp);
  v=new String[]{"foo","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<pre class="type-15 type-5 type-6 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMSFFactory1() throws IOException, InterruptedException {
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  Integer intProp=(Integer)sr.getProperty("int");
  Long longProp=(Long)sr.getProperty("long");
  String strProp=(String)sr.getProperty("string");
  String[] strAProp=(String[])sr.getProperty("strAProp");
  int[] intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality",intProp,new Integer(2));
  assertEquals("Check longProp equality",longProp,new Long(40));
  assertEquals("Check strProp equality",strProp,"foo");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  ConfigurationAdmin admin=osgiHelper.getServiceObject(ConfigurationAdmin.class);
  Configuration configuration=admin.getConfiguration("FooProvider-1","?");
  Dictionary<String,Object> reconf=new Hashtable<String,Object>();
  reconf.put("int",5);
  reconf.put("long",(long)43);
  reconf.put("string","toto");
  reconf.put("strAProp",new String[]{"foo","baz"});
  reconf.put("intAProp",new int[]{3,2,1});
  configuration.update(reconf);
  Thread.sleep(200);
  sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-1");
  assertNotNull("Check the availability of the FS service",sr);
  intProp=(Integer)sr.getProperty("int");
  longProp=(Long)sr.getProperty("long");
  strProp=(String)sr.getProperty("string");
  strAProp=(String[])sr.getProperty("strAProp");
  intAProp=(int[])sr.getProperty("intAProp");
  assertEquals("Check intProp equality after reconfiguration",intProp,new Integer(5));
  assertEquals("Check longProp equality after reconfiguration",longProp,new Long(43));
  assertEquals("Check strProp equality after reconfiguration",strProp,"toto");
  assertNotNull("Check strAProp not nullity after reconfiguration",strAProp);
  v=new String[]{"foo","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.TestUpdatedMethod </h4><pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoValue(){
  ServiceReference sr=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),"FooProvider-3");
  assertNotNull("Check the availability of the FS service",sr);
  FooService fs=(FooService)osgiHelper.getRawServiceObject(sr);
  Properties toCheck=fs.fooProps();
  Integer intProp=(Integer)toCheck.get("intProp");
  Boolean boolProp=(Boolean)toCheck.get("boolProp");
  String strProp=(String)toCheck.get("strProp");
  String[] strAProp=(String[])toCheck.get("strAProp");
  int[] intAProp=(int[])toCheck.get("intAProp");
  Integer updated=(Integer)toCheck.get("updated");
  Dictionary dict=(Dictionary)toCheck.get("lastupdated");
  assertEquals("Check intProp equality",intProp,new Integer(0));
  assertEquals("Check longProp equality",boolProp,false);
  assertEquals("Check strProp equality",strProp,null);
  assertNull("Check strAProp nullity",strAProp);
  assertNull("Check intAProp  nullity",intAProp);
  assertEquals("updated count ",1,updated.intValue());
  assertEquals("Last update",0,dict.size());
  assertTrue("invoke fs",fs.foo());
  toCheck=fs.fooProps();
  intProp=(Integer)toCheck.get("intProp");
  boolProp=(Boolean)toCheck.get("boolProp");
  strProp=(String)toCheck.get("strProp");
  strAProp=(String[])toCheck.get("strAProp");
  intAProp=(int[])toCheck.get("intAProp");
  updated=(Integer)toCheck.get("updated");
  dict=(Dictionary)toCheck.get("lastupdated");
  assertEquals("Check intProp equality",intProp,new Integer(3));
  assertEquals("Check longProp equality",boolProp,true);
  assertEquals("Check strProp equality",strProp,"bar");
  assertNotNull("Check strAProp not nullity",strAProp);
  String[] v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality");
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality");
    }
  }
  fs=null;
}

</code></pre>

<br>
<pre class="type-4 type-15 type-5 type-6 type-2 type-1 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComponentTypeConfiguration(){
  ServiceReference ref=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),fooProvider1.getInstanceName());
  assertNotNull("Check FooService availability",ref);
  FooService fs=(FooService)osgiHelper.getRawServiceObject(ref);
  Properties toCheck=fs.fooProps();
  Integer intProp=(Integer)toCheck.get("intProp");
  Boolean boolProp=(Boolean)toCheck.get("boolProp");
  String strProp=(String)toCheck.get("strProp");
  String[] strAProp=(String[])toCheck.get("strAProp");
  int[] intAProp=(int[])toCheck.get("intAProp");
  Integer updated=(Integer)toCheck.get("updated");
  Dictionary dict=(Dictionary)toCheck.get("lastupdated");
  assertEquals("Check intProp equality (1)",intProp,new Integer(2));
  assertEquals("Check longProp equality (1)",boolProp,false);
  assertEquals("Check strProp equality (1)",strProp,"foo");
  assertNotNull("Check strAProp not nullity (1)",strAProp);
  String[] v=new String[]{"foo","bar"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (1) : " + strAProp[i] + " != "+ v[i]);
    }
  }
  assertNotNull("Check intAProp not nullity",intAProp);
  int[] v2=new int[]{1,2,3};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (1) : " + intAProp[i] + " != "+ v2[i]);
    }
  }
  assertEquals("updated count ",1,updated.intValue());
  assertEquals("Last updated",5,dict.size());
  assertTrue("Invoke the fs service",fs.foo());
  toCheck=fs.fooProps();
  intProp=(Integer)toCheck.get("intProp");
  boolProp=(Boolean)toCheck.get("boolProp");
  strProp=(String)toCheck.get("strProp");
  strAProp=(String[])toCheck.get("strAProp");
  intAProp=(int[])toCheck.get("intAProp");
  updated=(Integer)toCheck.get("updated");
  dict=(Dictionary)toCheck.get("lastupdated");
  assertEquals("Check intProp equality (2) (" + intProp + ")",intProp,new Integer(3));
  assertEquals("Check longProp equality (2)",boolProp,true);
  assertEquals("Check strProp equality (2)",strProp,"bar");
  assertNotNull("Check strAProp not nullity (2)",strAProp);
  v=new String[]{"foo","bar","baz"};
  for (int i=0; i < strAProp.length; i++) {
    if (!strAProp[i].equals(v[i])) {
      fail("Check the strAProp Equality (2)");
    }
  }
  assertNotNull("Check intAProp not nullity (2)",intAProp);
  v2=new int[]{3,2,1};
  for (int i=0; i < intAProp.length; i++) {
    if (intAProp[i] != v2[i]) {
      fail("Check the intAProp Equality (2) : " + intAProp[i] + " != "+ v2[i]);
    }
  }
  assertEquals("updated count -2 ",1,updated.intValue());
  assertEquals("Last update - 2",5,dict.size());
  fs=null;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.core.inheritence.InheritanceTest </h4><pre class="type-5 type-6 type-2 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeploy(){
  if (isKnopflerfish()) {
    System.out.println("Test disabled on knopflerfish");
    return;
  }
  Bundle[] bundles=bc.getBundles();
  for (  Bundle bundle : bundles) {
    Assert.assertEquals(bundle.getSymbolicName() + " is not active",Bundle.ACTIVE,bundle.getState());
  }
  osgiHelper.waitForService(Architecture.class.getName(),"(architecture.instance=c)",10000);
  osgiHelper.waitForService(Architecture.class.getName(),"(architecture.instance=d)",10000);
  Object[] arch=osgiHelper.getServiceObjects(Architecture.class.getName(),null);
  for (  Object o : arch) {
    Architecture a=(Architecture)o;
    if (a.getInstanceDescription().getState() != ComponentInstance.VALID) {
      Assert.fail("Instance " + a.getInstanceDescription().getName() + " not valid : "+ a.getInstanceDescription().getDescription());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.test.dependencies.timeout.DefaultImplementationTest </h4><pre class="type-4 type-5 type-6 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultImplementationTimeout(){
  String prov="provider";
  ComponentInstance provider=ipojoHelper.createComponentInstance("FooProvider",prov);
  String un="under-1";
  ComponentInstance under=ipojoHelper.createComponentInstance("DICheckServiceProvider",un);
  ServiceReference ref_fs=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),prov);
  assertNotNull("Check foo availability",ref_fs);
  ServiceReference ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability",ref_cs);
  CheckService cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  assertTrue("Check invocation",cs.check());
  provider.stop();
  ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability - 2",ref_cs);
  cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  boolean res=false;
  try {
    res=cs.check();
  }
 catch (  RuntimeException e) {
    if (TimeUtils.TIME_FACTOR == 1) {
      fail("A nullable was expected ...");
    }
 else {
      System.err.println("A null was expected, however this test really depends on your CPU and IO speed");
      return;
    }
  }
  assertFalse("Check nullable",res);
  provider.stop();
  provider.dispose();
  under.stop();
  under.dispose();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.test.dependencies.timeout.DelayTest </h4><pre class="type-4 type-5 type-6 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeoutWithException(){
  String prov="provider";
  ComponentInstance provider=ipojoHelper.createComponentInstance("FooProvider",prov);
  String un="under-1";
  ComponentInstance under=ipojoHelper.createComponentInstance("ExceptionCheckServiceProviderTimeout",un);
  ServiceReference ref_fs=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),prov);
  assertNotNull("Check foo availability",ref_fs);
  ServiceReference ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability",ref_cs);
  CheckService cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  assertTrue("Check invocation",cs.check());
  provider.stop();
  ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability - 2",ref_cs);
  delayed=new DelayedProvider(provider,1000);
  delayed.start();
  cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  try {
    cs.check();
  }
 catch (  RuntimeException e) {
    delayed.stop();
    provider.stop();
    provider.dispose();
    under.stop();
    under.dispose();
    return;
  }
  if (TimeUtils.TIME_FACTOR == 1) {
    fail("Timeout expected");
  }
 else {
    System.err.println("A timeout was expected, however this test really depends on your CPU and IO speed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.test.dependencies.timeout.EmptyTest </h4><pre class="type-4 type-5 type-6 type-2 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyCollectionTimeout(){
  String prov="provider";
  ComponentInstance provider=ipojoHelper.createComponentInstance("FooProvider",prov);
  String un="under-1";
  ComponentInstance under=ipojoHelper.createComponentInstance("EmptyColCheckServiceProviderTimeout",un);
  ServiceReference ref_fs=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),prov);
  assertNotNull("Check foo availability",ref_fs);
  ServiceReference ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability",ref_cs);
  CheckService cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  assertTrue("Check invocation",cs.check());
  provider.stop();
  ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability - 2",ref_cs);
  delayed=new DelayedProvider(provider,400);
  delayed.start();
  cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  boolean res=false;
  try {
    res=cs.check();
  }
 catch (  RuntimeException e) {
    if (TimeUtils.TIME_FACTOR == 1) {
      fail("An exception was expected ...");
    }
 else {
      System.err.println("An exception was expected, however this test really depends on your CPU and IO " + "speed");
      return;
    }
  }
  assertTrue("Check empty array",res);
  delayed.stop();
  provider.stop();
  provider.dispose();
  under.stop();
  under.dispose();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.ipojo.runtime.test.dependencies.timeout.TimeoutTest </h4><pre class="type-4 type-5 type-6 type-1 type-10 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimeoutWithException(){
  String prov="provider";
  ComponentInstance provider=ipojoHelper.createComponentInstance("FooProvider",prov);
  String un="under-1";
  ComponentInstance under=ipojoHelper.createComponentInstance("ExceptionCheckServiceProviderTimeout",un);
  ServiceReference ref_fs=ipojoHelper.getServiceReferenceByName(FooService.class.getName(),prov);
  assertNotNull("Check foo availability",ref_fs);
  ServiceReference ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability",ref_cs);
  CheckService cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  assertTrue("Check invocation",cs.check());
  provider.stop();
  ref_cs=ipojoHelper.getServiceReferenceByName(CheckService.class.getName(),un);
  assertNotNull("Check cs availability - 2",ref_cs);
  delayed=new DelayedProvider(provider,1000);
  delayed.start();
  cs=(CheckService)osgiHelper.getRawServiceObject(ref_cs);
  try {
    cs.check();
  }
 catch (  RuntimeException e) {
    delayed.stop();
    provider.stop();
    provider.dispose();
    under.stop();
    under.dispose();
    return;
  }
  if (TimeUtils.TIME_FACTOR == 1) {
    fail("An exception was expected ...");
  }
 else {
    System.err.println("An exception was expected, however this test really depends on your CPU and IO " + "speed");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.resolver.test.ResolverTest </h4><pre class="type-4 type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario3() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario3(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(3,wireMap.size());
  Resource cRes=findResource("C",wireMap.keySet());
  List<Wire> cWires=wireMap.get(cRes);
  assertEquals(0,cWires.size());
  Resource dRes=findResource("D",wireMap.keySet());
  List<Wire> dWires=wireMap.get(dRes);
  assertEquals(1,dWires.size());
  Wire dWire=dWires.iterator().next();
  assertEquals(cRes,dWire.getProvider());
  assertEquals(dRes,dWire.getRequirer());
  Capability dwCap=dWire.getCapability();
  assertEquals(PackageNamespace.PACKAGE_NAMESPACE,dwCap.getNamespace());
  assertEquals(1,dwCap.getAttributes().size());
  assertEquals("resources",dwCap.getAttributes().get(PackageNamespace.PACKAGE_NAMESPACE));
  assertEquals(0,dwCap.getDirectives().size());
  assertEquals(cRes,dwCap.getResource());
  Resource eRes=findResource("E",wireMap.keySet());
  List<Wire> eWires=wireMap.get(eRes);
  assertEquals(2,eWires.size());
  boolean foundC=false;
  boolean foundD=false;
  for (  Wire w : eWires) {
    assertEquals(eRes,w.getRequirer());
    Capability cap=w.getCapability();
    if (cap.getNamespace().equals(PackageNamespace.PACKAGE_NAMESPACE)) {
      assertEquals("resources",cap.getAttributes().get(PackageNamespace.PACKAGE_NAMESPACE));
      assertEquals(0,cap.getDirectives().size());
      assertEquals(cRes,cap.getResource());
      foundC=true;
      Requirement req=w.getRequirement();
      assertEquals(PackageNamespace.PACKAGE_NAMESPACE,req.getNamespace());
      assertEquals(eRes,req.getResource());
      assertEquals(0,req.getAttributes().size());
      assertEquals(1,req.getDirectives().size());
      assertEquals("(osgi.wiring.package=resources)",req.getDirectives().get("filter"));
    }
 else     if (cap.getNamespace().equals(BundleNamespace.BUNDLE_NAMESPACE)) {
      assertEquals("D",cap.getAttributes().get(BundleNamespace.BUNDLE_NAMESPACE));
      assertEquals(1,cap.getDirectives().size());
      assertEquals("resources",cap.getDirectives().get(Namespace.CAPABILITY_USES_DIRECTIVE));
      assertEquals(dRes,cap.getResource());
      foundD=true;
      Requirement req=w.getRequirement();
      assertEquals(BundleNamespace.BUNDLE_NAMESPACE,req.getNamespace());
      assertEquals(eRes,req.getResource());
      assertEquals(0,req.getAttributes().size());
      assertEquals(1,req.getDirectives().size());
      assertEquals("(osgi.wiring.bundle=D)",req.getDirectives().get("filter"));
    }
  }
  assertTrue(foundC);
  assertTrue(foundD);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testScenario6() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario6(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  int aResources=0;
  for (  Resource r : wireMap.keySet()) {
    if ("A".equals(getResourceName(r))) {
      aResources++;
      List<Wire> wires=wireMap.get(r);
      assertEquals(4,wires.size());
      List<String> providers=new ArrayList<String>();
      for (      Wire w : wires) {
        providers.add(getResourceName(w.getProvider()));
      }
      Collections.sort(providers);
      assertEquals(Arrays.asList("B","C","D","D"),providers);
    }
  }
  assertEquals("Should have found two resolved resources named 'A'",2,aResources);
}

</code></pre>

<br>
<pre class="type-4 type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScenario2() throws Exception {
  Resolver resolver=new ResolverImpl(new Logger(Logger.LOG_DEBUG));
  Map<Resource,Wiring> wirings=new HashMap<Resource,Wiring>();
  Map<Requirement,List<Capability>> candMap=new HashMap<Requirement,List<Capability>>();
  List<Resource> mandatory=populateScenario2(wirings,candMap);
  ResolveContextImpl rci=new ResolveContextImpl(wirings,candMap,mandatory,Collections.<Resource>emptyList());
  Map<Resource,List<Wire>> wireMap=resolver.resolve(rci);
  assertEquals(2,wireMap.size());
  Resource bRes=findResource("B",wireMap.keySet());
  List<Wire> bWires=wireMap.get(bRes);
  assertEquals(0,bWires.size());
  Resource cRes=findResource("C",wireMap.keySet());
  List<Wire> cWires=wireMap.get(cRes);
  assertEquals(2,cWires.size());
  boolean foundFoo=false;
  boolean foundBar=false;
  for (  Wire w : cWires) {
    assertEquals(bRes,w.getProvider());
    assertEquals(cRes,w.getRequirer());
    Capability cap=w.getCapability();
    assertEquals(PackageNamespace.PACKAGE_NAMESPACE,cap.getNamespace());
    assertEquals(bRes,cap.getResource());
    Map<String,Object> attrs=cap.getAttributes();
    assertEquals(1,attrs.size());
    Object pkg=attrs.get(PackageNamespace.PACKAGE_NAMESPACE);
    if ("foo".equals(pkg)) {
      foundFoo=true;
      assertEquals(0,cap.getDirectives().size());
    }
 else     if ("bar".equals(pkg)) {
      foundBar=true;
      assertEquals(1,cap.getDirectives().size());
      assertEquals("foo",cap.getDirectives().get(PackageNamespace.CAPABILITY_USES_DIRECTIVE));
    }
  }
  assertTrue(foundFoo);
  assertTrue(foundBar);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.scr.impl.manager.RegistrationManagerTest </h4><pre class="type-15 type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void testRegistrationManager() throws Exception {
  for (int setup=0; setup < 1 << n; setup++) {
    runTest(setup);
    if (fail) {
      fail("failed at " + setup);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.scr.integration.ComponentConcurrencyTest </h4><pre class="type-5 type-6 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
"></span><br>
@Test public void test_concurrent_component_activation_using_componentFactories() throws Exception {
  ComponentConfigurationDTO ccA=getDisabledConfigurationAndEnable("org.apache.felix.scr.integration.components.concurrency.AFactory",ComponentConfigurationDTO.ACTIVE);
  ComponentConfigurationDTO ccC=getDisabledConfigurationAndEnable("org.apache.felix.scr.integration.components.concurrency.CFactory",ComponentConfigurationDTO.ACTIVE);
  delay(30);
  if (!log.foundWarnings().isEmpty()) {
    TestCase.fail("unexpected warning or error logged: " + log.foundWarnings());
  }
  for (  String message : log.foundWarnings()) {
    TestCase.fail("unexpected warning or error logged: " + message);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.scr.integration.ComponentFactoryTest </h4><pre class="type-5 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test_component_factory_set_bundle_location_null() throws Exception {
  final String componentfactory="factory.component.reference.targetfilter";
  getConfigurationsDisabledThenEnable(componentfactory,0,-1);
  SimpleServiceImpl s1=SimpleServiceImpl.create(bundleContext,"service1");
  ConfigurationAdmin ca=getConfigurationAdmin();
  org.osgi.service.cm.Configuration config=ca.getConfiguration(componentfactory,null);
  config.setBundleLocation(null);
  delay();
  if (isAtLeastR5()) {
    TestCase.assertNotNull(config.getBundleLocation());
  }
  configure(componentfactory);
  delay();
  TestCase.assertNull(SimpleComponent.INSTANCE);
  final ComponentFactory factory=getComponentFactory(componentfactory);
  s1.drop();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.scr.integration.ExtenderTest </h4><pre class="type-5 type-2 type-1 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWired() throws BundleException {
  if (isAtLeastR5()) {
    BundleWiring scrWiring=bundle.adapt(BundleWiring.class);
    List<BundleWire> extenderWires=scrWiring.getRequiredWires(ExtenderNamespace.EXTENDER_NAMESPACE);
    boolean wired=false;
    for (    BundleWire wire : extenderWires) {
      if (ComponentConstants.COMPONENT_CAPABILITY_NAME.equals(wire.getCapability().getAttributes().get(ExtenderNamespace.EXTENDER_NAMESPACE))) {
        Assert.assertEquals("Not wired to us","org.apache.felix.scr",wire.getProviderWiring().getBundle().getSymbolicName());
        wired=true;
        break;
      }
    }
    Assert.assertTrue("should be wired to us",wired);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.scr.integration.PersistentComponentFactoryTest </h4><pre class="type-5 type-2 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test_component_factory_set_bundle_location_null() throws Exception {
  final String componentfactory="factory.component.reference.targetfilter";
  getConfigurationsDisabledThenEnable(componentfactory,0,-1);
  SimpleServiceImpl s1=SimpleServiceImpl.create(bundleContext,"service1");
  ConfigurationAdmin ca=getConfigurationAdmin();
  org.osgi.service.cm.Configuration config=ca.getConfiguration(componentfactory,null);
  config.setBundleLocation(null);
  delay();
  if (isAtLeastR5()) {
    TestCase.assertNotNull(config.getBundleLocation());
  }
  configure(componentfactory);
  delay();
  TestCase.assertNull(SimpleComponent.INSTANCE);
  final ComponentFactory factory=getComponentFactory(componentfactory);
  s1.drop();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.felix.useradmin.itest.MongoDBStoreTest </h4><pre class="type-5 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that removing a role works correctly.
 */
@Test public void testRemoveRoleOk() throws Exception {
  UserAdmin ua=getUserAdmin();
  String roleName="newRole";
  Role[] readRoles;
  if (canRunTest()) {
    Role role=ua.createRole(roleName,Role.USER);
    assertNotNull("Collection not empty?!",role);
    readRoles=ua.getRoles(null);
    assertNotNull("No roles stored?!",readRoles);
    assertEquals(1,readRoles.length);
    ua.removeRole(roleName);
    readRoles=ua.getRoles(null);
    assertNull("Still roles stored?!",readRoles);
  }
}

</code></pre>

<br>
<pre class="type-5 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that removing a role works correctly.
 */
@Test public void testUpdateRoleOk() throws Exception {
  UserAdmin ua=getUserAdmin();
  String roleName="role1";
  Role[] readRoles;
  if (canRunTest()) {
    User role=(User)ua.createRole(roleName,Role.USER);
    assertNotNull("Collection not empty?!",role);
    readRoles=ua.getRoles(null);
    assertNotNull("No roles stored?!",readRoles);
    assertEquals(1,readRoles.length);
    role.getProperties().put("key","value");
    Thread.sleep(100);
    readRoles=ua.getRoles("(key=value)");
    assertNotNull("Role not updated?!",readRoles);
    assertEquals(1,readRoles.length);
  }
}

</code></pre>

<br>
<pre class="type-5 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that creating a new role returns the actual created role.
 */
@Test public void testFelix4400_CreateRoleReturnsNonNullOk() throws Exception {
  UserAdmin ua=getUserAdmin();
  String roleName="newRole";
  if (canRunTest()) {
    Role newRole=ua.createRole(roleName,Role.USER);
    assertNotNull("Felix-4400 not resolved?!",newRole);
    assertEquals("Names not equal?!",roleName,newRole.getName());
    assertEquals("Types not equal?!",Role.USER,newRole.getType());
  }
}

</code></pre>

<br>
<pre class="type-5 type-2 type-10 type-11 type-12 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that fetching an empty role without properties or other roles does not cause a NPE.
 */
@Test public void testFelix4399_FetchEmptyRoleOk() throws Exception {
  UserAdmin ua=getUserAdmin();
  String roleName="emptyRole";
  if (canRunTest()) {
    Role emptyRole=ua.createRole(roleName,Role.USER);
    assertNotNull("Collection not empty?!",emptyRole);
    Role readRole=ua.getRole(roleName);
    assertNotNull("Unable to read back created empty role?!",readRole);
    assertEquals("Names not equal?!",emptyRole.getName(),readRole.getName());
    assertEquals("Types not equal?!",emptyRole.getType(),readRole.getType());
    Role[] readRoles=ua.getRoles(null);
    assertNotNull("Unable to read back created empty role?!",readRoles);
    assertEquals(1,readRoles.length);
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
