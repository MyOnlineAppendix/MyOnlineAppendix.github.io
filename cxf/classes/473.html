<h3 style="margin:0px">Class: org.apache.cxf.staxutils.StaxUtilsTest (18 methods) </h3><br><pre style="padding:0"><code class="html"><div id="tags"><button id="3"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('3')" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) "><kbd id="tag-3"class="label-info"style="display: inline-block;font-size:7pt" >APIUtilityVerifier&nbsp;(8)</kbd></button>&nbsp;<button id="1"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('1')" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value "><kbd id="tag-1"class="label-info"style="display: inline-block;font-size:7pt" >EqualityVerifier&nbsp;(7)</kbd></button>&nbsp;<button id="5"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('5')" data-toggle="tooltip" title="Verifies boolean conditions"><kbd id="tag-5"class="label-info"style="display: inline-block;font-size:7pt" >BooleanVerifier&nbsp;(6)</kbd></button>&nbsp;<button id="8"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('8')" data-toggle="tooltip" title="Executes methods or other tests from the same test unit"><kbd id="tag-8"class="label-info"style="display: inline-block;font-size:7pt" >ExecutionTester&nbsp;(3)</kbd></button>&nbsp;<button id="19"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('19')" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements"><kbd id="tag-19"class="label-info"style="display: inline-block;font-size:7pt" >ConditionMatcher&nbsp;(3)</kbd></button>&nbsp;<button id="10"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('10')" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes"><kbd id="tag-10"class="label-info"style="display: inline-block;font-size:7pt" >HybridVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="2"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('2')" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls"><kbd id="tag-2"class="label-info"style="display: inline-block;font-size:7pt" >InternalCallVerifier&nbsp;(2)</kbd></button>&nbsp;<button id="12"style="border-width:0;padding:0;background:#282B2E"  onclick="filter('12')" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure"><kbd id="tag-12"class="label-info"style="display: inline-block;font-size:7pt" >UtilityVerifier&nbsp;(1)</kbd></button>&nbsp;</div></code></pre><center><button onclick="showBlocks()" style="margin:6px">Update filter <span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> </button></center><br>
<pre class="type-3 type-2 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testToNextTag() throws Exception {
  String soapMessage="./resources/headerSoapReq.xml";
  XMLStreamReader r=StaxUtils.createXMLStreamReader(getTestStream(soapMessage));
  DepthXMLStreamReader reader=new DepthXMLStreamReader(r);
  reader.nextTag();
  StaxUtils.toNextTag(reader,new QName("http://schemas.xmlsoap.org/soap/envelope/","Body"));
  assertEquals("Body",reader.getLocalName());
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCXF3193() throws Exception {
  String testString="<a:elem1 xmlns:a=\"test\" xmlns:b=\"test\" a:attr1=\"value\"/>";
  CachingXmlEventWriter writer=new CachingXmlEventWriter();
  StaxUtils.copy(StaxUtils.createXMLStreamReader(new StringReader(testString)),writer);
  StringWriter swriter=new StringWriter();
  XMLStreamWriter xwriter=StaxUtils.createXMLStreamWriter(swriter);
  for (  XMLEvent event : writer.getEvents()) {
    StaxUtils.writeEvent(event,xwriter);
  }
  xwriter.flush();
  String s=swriter.toString();
  int idx=s.indexOf("xmlns:a");
  idx=s.indexOf("xmlns:a",idx + 1);
  assertEquals(-1,idx);
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testDefaultPrefix() throws Exception {
  String soapMessage="./resources/AddRequest.xml";
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(getTestStream(soapMessage));
  XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(baos);
  StaxSource staxSource=new StaxSource(reader);
  StaxUtils.copy(staxSource,writer);
  writer.flush();
  baos.flush();
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRootPInoProlog() throws Exception {
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  dbf.setNamespaceAware(true);
  Document doc=dbf.newDocumentBuilder().parse(getTestStream("./resources/rootMaterialTest.xml"));
  StringWriter sw=new StringWriter();
  XMLStreamWriter swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.writeDocument(doc,swriter,false,false);
  swriter.flush();
  swriter.close();
  String output=sw.toString();
  assertFalse(output.contains("<?pi in='the sky'?>"));
  assertFalse(output.contains("<?e excl='gads'?>"));
}

</code></pre>

<pre class="type-3 type-12 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQName() throws Exception {
  StringBuilder in=new StringBuilder();
  in.append("<f:foo xmlns:f=\"http://example.com/\">");
  in.append("<bar>f:Bar</bar>");
  in.append("<bar> f:Bar </bar>");
  in.append("<bar>x:Bar</bar>");
  in.append("</f:foo>");
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(new ByteArrayInputStream(in.toString().getBytes()));
  QName qname=new QName("http://example.com/","Bar");
  assertEquals(XMLStreamReader.START_ELEMENT,reader.next());
  assertEquals(XMLStreamReader.START_ELEMENT,reader.next());
  assertEquals(qname,StaxUtils.readQName(reader));
  assertEquals(XMLStreamReader.START_ELEMENT,reader.next());
  assertEquals(qname,StaxUtils.readQName(reader));
  assertEquals(XMLStreamReader.START_ELEMENT,reader.next());
  try {
    StaxUtils.readQName(reader);
    fail("invalid qname in mapping");
  }
 catch (  Exception e) {
  }
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNonNamespaceAwareParser() throws Exception {
  String xml="<blah xmlns=\"http://blah.org/\" xmlns:snarf=\"http://snarf.org\">" + "<foo snarf:blop=\"blop\">foo</foo></blah>";
  StringReader reader=new StringReader(xml);
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  dbf.setNamespaceAware(false);
  dbf.setValidating(false);
  Document doc=dbf.newDocumentBuilder().parse(new InputSource(reader));
  Source source=new DOMSource(doc);
  dbf.setNamespaceAware(true);
  reader=new StringReader(xml);
  Document docNs=dbf.newDocumentBuilder().parse(new InputSource(reader));
  Source sourceNs=new DOMSource(docNs);
  XMLStreamReader sreader=StaxUtils.createXMLStreamReader(source);
  StringWriter sw=new StringWriter();
  XMLStreamWriter swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.copy(sreader,swriter);
  swriter.flush();
  swriter.close();
  String output=sw.toString();
  assertTrue(output.contains("blah"));
  assertTrue(output.contains("foo"));
  assertTrue(output.contains("snarf"));
  assertTrue(output.contains("blop"));
  sreader=StaxUtils.createXMLStreamReader(sourceNs);
  sw=new StringWriter();
  swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.copy(sreader,swriter);
  swriter.flush();
  swriter.close();
  output=sw.toString();
  assertTrue(output.contains("blah"));
  assertTrue(output.contains("foo"));
  assertTrue(output.contains("snarf"));
  assertTrue(output.contains("blop"));
  sreader=StaxUtils.createXMLStreamReader(source);
  ByteArrayOutputStream bout=new ByteArrayOutputStream();
  swriter=StaxUtils.createXMLStreamWriter(bout);
  StaxUtils.copy(sreader,swriter);
  swriter.flush();
  swriter.close();
  output=bout.toString();
  assertTrue(output.contains("blah"));
  assertTrue(output.contains("foo"));
  assertTrue(output.contains("snarf"));
  assertTrue(output.contains("blop"));
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCXF2468() throws Exception {
  Document doc=DOMUtils.newDocument();
  doc.appendChild(doc.createElementNS("http://blah.org/","blah"));
  Element foo=doc.createElementNS("http://blah.org/","foo");
  Attr attr=doc.createAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:nil");
  attr.setValue("true");
  foo.setAttributeNodeNS(attr);
  doc.getDocumentElement().appendChild(foo);
  XMLStreamReader sreader=StaxUtils.createXMLStreamReader(doc);
  StringWriter sw=new StringWriter();
  XMLStreamWriter swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.copy(sreader,swriter,true);
  swriter.flush();
  assertTrue("No xsi namespace: " + sw.toString(),sw.toString().contains("XMLSchema-instance"));
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testCommentNode() throws Exception {
  Document document=DocumentBuilderFactory.newInstance().newDocumentBuilder().newDocument();
  Element root=document.createElementNS("urn:test","root");
  root.appendChild(document.createComment("test comment"));
  StaxUtils.copy(StaxUtils.createXMLStreamReader(root),StaxUtils.createXMLStreamWriter(System.out));
}

</code></pre>

<pre class="type-3 type-5 type-2 type-1 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToNextElement(){
  String soapMessage="./resources/sayHiRpcLiteralReq.xml";
  XMLStreamReader r=StaxUtils.createXMLStreamReader(getTestStream(soapMessage));
  DepthXMLStreamReader reader=new DepthXMLStreamReader(r);
  assertTrue(StaxUtils.toNextElement(reader));
  assertEquals("Envelope",reader.getLocalName());
  StaxUtils.nextEvent(reader);
  assertTrue(StaxUtils.toNextElement(reader));
  assertEquals("Body",reader.getLocalName());
}

</code></pre>

<pre class="type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFactoryCreation(){
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(getTestStream("./resources/amazon.xml"));
  assertTrue(reader != null);
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyFromTheMiddle() throws Exception {
  String innerXml="<inner>\n" + "<body>body text here</body>\n" + "</inner>\n";
  String xml="<outer>\n" + innerXml + "</outer>";
  StringReader reader=new StringReader(xml);
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  dbf.setNamespaceAware(true);
  dbf.setValidating(false);
  Document doc=dbf.newDocumentBuilder().parse(new InputSource(reader));
  Source source=new DOMSource(doc);
  XMLStreamReader sreader=StaxUtils.createXMLStreamReader(source);
  while (!"inner".equals(sreader.getLocalName())) {
    sreader.next();
  }
  StringWriter sw=new StringWriter();
  XMLStreamWriter swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.copy(sreader,swriter,true,true);
  swriter.flush();
  swriter.close();
  assertEquals(innerXml,sw.toString());
}

</code></pre>

<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testDefaultPrefixInRootElementWithIdentityTransformer() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  String xml="<root xmlns=\"urn:org.apache.cxf:test\">Text</root>";
  StringReader stringReader=new StringReader(xml);
  StreamSource source=new StreamSource(stringReader);
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(source);
  XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(baos);
  StaxSource staxSource=new StaxSource(reader);
  TransformerFactory trf=TransformerFactory.newInstance();
  Transformer transformer=trf.newTransformer();
  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
  transformer.transform(staxSource,new StreamResult(baos));
  writer.flush();
  baos.flush();
  assertThat(new String(baos.toByteArray()),equalTo(xml));
}

</code></pre>

<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testDefaultPrefixInRootElementWithXalanCopyTransformer() throws Exception {
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  String xml="<root xmlns=\"urn:org.apache.cxf:test\">Text</root>";
  StringReader stringReader=new StringReader(xml);
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(stringReader);
  XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(baos);
  StaxSource staxSource=new StaxSource(reader);
  TransformerFactory trf=TransformerFactory.newInstance();
  Document doc=StaxUtils.read(getTestStream("./resources/copy.xsl"));
  Transformer transformer=trf.newTransformer(new DOMSource(doc));
  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
  transformer.transform(staxSource,new StreamResult(baos));
  writer.flush();
  baos.flush();
  assertThat(new String(baos.toByteArray()),equalTo(xml));
}

</code></pre>

<pre class="type-3 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopy() throws Exception {
  String soapMessage="./resources/headerSoapReq.xml";
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(getTestStream(soapMessage));
  XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(baos);
  StaxUtils.copy(reader,writer);
  writer.flush();
  baos.flush();
  String output=baos.toString();
  InputStreamReader inputStreamReader=new InputStreamReader(getTestStream(soapMessage));
  StringWriter stringWriter=new StringWriter();
  char[] buffer=new char[4096];
  int n=0;
  n=inputStreamReader.read(buffer);
  while (n > 0) {
    stringWriter.write(buffer,0,n);
    n=inputStreamReader.read(buffer);
  }
  String input=stringWriter.toString();
  int beginIndex=input.indexOf("<soap:Envelope");
  input=input.substring(beginIndex);
  beginIndex=output.indexOf("<soap:Envelope");
  output=output.substring(beginIndex);
  output=output.replaceAll("\r\n","\n");
  input=input.replaceAll("\r\n","\n");
  assertEquals(input,output);
}

</code></pre>

<pre class="type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testDefaultPrefixInRootElementWithJDKInternalCopyTransformer() throws Exception {
  TransformerFactory trf=null;
  try {
    trf=TransformerFactory.newInstance("com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl",null);
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    String xml="<root xmlns=\"urn:org.apache.cxf:test\">Text</root>";
    StringReader stringReader=new StringReader(xml);
    StreamSource source=new StreamSource(stringReader);
    XMLStreamReader reader=StaxUtils.createXMLStreamReader(source);
    XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(baos);
    StaxSource staxSource=new StaxSource(reader);
    Document doc=StaxUtils.read(getTestStream("./resources/copy.xsl"));
    Transformer transformer=trf.newTransformer(new DOMSource(doc));
    transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION,"yes");
    transformer.transform(staxSource,new StreamResult(baos));
    writer.flush();
    baos.flush();
    assertThat(new String(baos.toByteArray()),equalTo(xml));
  }
 catch (  Throwable throwable) {
    return;
  }
}

</code></pre>

<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCopyWithEmptyNamespace() throws Exception {
  StringBuilder in=new StringBuilder();
  in.append("<foo xmlns=\"http://example.com/\">");
  in.append("<bar xmlns=\"\"/>");
  in.append("</foo>");
  XMLStreamReader reader=StaxUtils.createXMLStreamReader(new ByteArrayInputStream(in.toString().getBytes()));
  Writer out=new StringWriter();
  XMLStreamWriter writer=StaxUtils.createXMLStreamWriter(out);
  StaxUtils.copy(reader,writer);
  writer.close();
  assertEquals(in.toString(),out.toString());
}

</code></pre>

<pre class="type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Executes methods or other tests from the same test unit">ExecutionTester</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Executes methods or other tests from the same test unit
"></span><br>
@Test public void testEmptyNamespace() throws Exception {
  String testString="<ns1:a xmlns:ns1=\"http://www.apache.org/\"><s1 xmlns=\"\">" + "abc</s1><s2 xmlns=\"\">def</s2></ns1:a>";
  cycleString(testString);
  testString="<a xmlns=\"http://www.apache.org/\"><s1 xmlns=\"\">" + "abc</s1><s2 xmlns=\"\">def</s2></a>";
  cycleString(testString);
  testString="<a xmlns=\"http://www.apache.org/\"><s1 xmlns=\"\">" + "abc</s1><s2>def</s2></a>";
  cycleString(testString);
  testString="<ns1:a xmlns:ns1=\"http://www.apache.org/\"><s1>" + "abc</s1><s2 xmlns=\"\">def</s2></ns1:a>";
  cycleString(testString);
}

</code></pre>

<pre class="type-3 type-5 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testRootPI() throws Exception {
  DocumentBuilderFactory dbf=DocumentBuilderFactory.newInstance();
  dbf.setNamespaceAware(true);
  Document doc=dbf.newDocumentBuilder().parse(getTestStream("./resources/rootMaterialTest.xml"));
  StringWriter sw=new StringWriter();
  XMLStreamWriter swriter=StaxUtils.createXMLStreamWriter(sw);
  StaxUtils.writeDocument(doc,swriter,true,false);
  swriter.flush();
  swriter.close();
  String output=sw.toString();
  assertTrue(output.contains("<?pi in='the sky'?>"));
  assertTrue(output.contains("<?e excl='gads'?>"));
}

</code></pre>

<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
