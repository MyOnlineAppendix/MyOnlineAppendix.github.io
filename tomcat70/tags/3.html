<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: javax.el.TestArrayELResolver </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  resolver.setValue(context,base,new Integer(0),"new-element");
  Assert.assertEquals("new-element",resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
  resolver.setValue(context,base,new Integer(0),null);
  Assert.assertEquals(null,resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the key is out of bounds and null will be returned.
 */
@Test public void testGetValue05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Object result=resolver.getValue(context,base,new Integer(1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,base,new Integer(-1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a result is returned even when a coercion cannot be performed.
 */
@Test public void testGetType05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,"index");
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that if the ArrayELResolver is constructed with readOnly the method
 * will return always true, otherwise false.
 */
@Test public void testIsReadOnly03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  boolean result=resolver.isReadOnly(context,base,new Integer(0));
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  resolver=new ArrayELResolver(true);
  result=resolver.isReadOnly(context,base,new Integer(0));
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,new Integer(0));
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Object result=resolver.getValue(context,base,new Integer(0));
  Assert.assertEquals("element",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the propertyResolved is false if base is not an array.
 */
@Test public void testIsReadOnly02(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  boolean result=resolver.isReadOnly(context,new Object(),new Object());
  Assert.assertFalse(result);
  Assert.assertFalse(context.isPropertyResolved());
  resolver=new ArrayELResolver(true);
  result=resolver.isReadOnly(context,new Object(),new Object());
  Assert.assertTrue(result);
  Assert.assertFalse(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that a result is returned even when a coercion cannot be performed.
 */
@Test public void testIsReadOnly05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  boolean result=resolver.isReadOnly(context,base,"key");
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  resolver=new ArrayELResolver(true);
  result=resolver.isReadOnly(context,base,"key");
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestBeanELResolver </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBug53421(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  Bean bean=new Bean();
  ValueExpression varBean=factory.createValueExpression(bean,Bean.class);
  context.getVariableMapper().setVariable("bean",varBean);
  ValueExpression ve=factory.createValueExpression(context,"${bean.valueA}",String.class);
  Exception e=null;
  try {
    ve.getValue(context);
  }
 catch (  PropertyNotFoundException pnfe) {
    e=pnfe;
  }
  Assert.assertTrue("Wrong exception type",e instanceof PropertyNotFoundException);
  String type=Bean.class.getName();
  String msg=e.getMessage();
  Assert.assertTrue("No reference to type [" + type + "] where property cannot be found in ["+ msg+ "]",msg.contains(type));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that if the BeanELResolver is constructed with readOnly the method
 * will return always true.
 */
@Test public void testIsReadOnly03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  boolean result=resolver.isReadOnly(context,new TesterBean(BEAN_NAME),PROPERTY03_NAME);
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  resolver=new BeanELResolver(true);
  result=resolver.isReadOnly(context,new TesterBean(BEAN_NAME),PROPERTY03_NAME);
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=resolver.getType(context,new Bean(),PROPERTY01_NAME);
  Assert.assertEquals(String.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a method invocation.
 */
@Test public void testInvoke03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.invoke(context,new TesterBean(BEAN_NAME),METHOD01_NAME,new Class<?>[]{},new Object[]{});
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.getValue(context,new TesterBean(BEAN_NAME),PROPERTY03_NAME);
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testSetValue04(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  TesterBean bean=new TesterBean(BEAN_NAME);
  resolver.setValue(context,bean,PROPERTY03_NAME,PROPERTY_VALUE);
  Assert.assertEquals(PROPERTY_VALUE,resolver.getValue(context,bean,PROPERTY03_NAME));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the propertyResolved is false if base is null.
 */
@Test public void testIsReadOnly02(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  resolver.isReadOnly(context,null,new Object());
  Assert.assertFalse(context.isPropertyResolved());
  resolver=new BeanELResolver(true);
  resolver.isReadOnly(context,null,new Object());
  Assert.assertFalse(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that true will be returned when the property does not have setter
 * method.
 */
@Test public void testIsReadOnly06(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  boolean result=resolver.isReadOnly(context,new TesterBean(BEAN_NAME),PROPERTY01_NAME);
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestListELResolver </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Class<?> result=resolver.getType(context,list,new Integer(0));
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Object result=resolver.getValue(context,list,new Integer(0));
  Assert.assertEquals("key",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the propertyResolved is false if base is not List.
 */
@Test public void testIsReadOnly02(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  boolean result=resolver.isReadOnly(context,new Object(),new Object());
  Assert.assertFalse(result);
  Assert.assertFalse(context.isPropertyResolved());
  resolver=new ListELResolver(true);
  result=resolver.isReadOnly(context,new Object(),new Object());
  Assert.assertTrue(result);
  Assert.assertFalse(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that a result is returned even when a coercion cannot be performed.
 */
@Test public void testIsReadOnly06(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  boolean result=resolver.isReadOnly(context,list,"key");
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  resolver=new ListELResolver(true);
  result=resolver.isReadOnly(context,list,"key");
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the key is out of bounds and null will be returned.
 */
@Test public void testGetValue05(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Object result=resolver.getValue(context,list,new Integer(1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,list,new Integer(-1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that if the ListELResolver is constructed with readOnly the method
 * will return always true, otherwise false.
 */
@Test public void testIsReadOnly03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  boolean result=resolver.isReadOnly(context,list,new Integer(0));
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  resolver=new ListELResolver(true);
  result=resolver.isReadOnly(context,list,new Integer(0));
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("value");
  resolver.setValue(context,list,new Integer(0),"value");
  Assert.assertEquals("value",resolver.getValue(context,list,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the readOnly is true always when the map is not modifiable.
 */
@Test public void testIsReadOnly04(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  List<String> unmodifiableList=Collections.unmodifiableList(list);
  boolean result=resolver.isReadOnly(context,unmodifiableList,new Integer(0));
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestMapELResolver </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the propertyResolved is false if base is not Map.
 */
@Test public void testIsReadOnly02(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  boolean result=mapELResolver.isReadOnly(context,new Object(),new Object());
  Assert.assertFalse(result);
  Assert.assertFalse(context.isPropertyResolved());
  mapELResolver=new MapELResolver(true);
  result=mapELResolver.isReadOnly(context,new Object(),new Object());
  Assert.assertTrue(result);
  Assert.assertFalse(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Object result=mapELResolver.getValue(context,map,"key");
  Assert.assertEquals("value",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=mapELResolver.getValue(context,map,"unknown-key");
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Iterator<FeatureDescriptor> result=mapELResolver.getFeatureDescriptors(context,map);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals("key".getClass(),featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=mapELResolver.getType(context,new HashMap<Object,Object>(),"test");
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  mapELResolver.setValue(context,map,"key","value");
  Assert.assertEquals("value",mapELResolver.getValue(context,map,"key"));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that if the MapELResolver is constructed with readOnly the method
 * will return always true, otherwise false.
 */
@Test public void testIsReadOnly03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  boolean result=mapELResolver.isReadOnly(context,new HashMap<Object,Object>(),new Object());
  Assert.assertFalse(result);
  Assert.assertTrue(context.isPropertyResolved());
  mapELResolver=new MapELResolver(true);
  result=mapELResolver.isReadOnly(context,new HashMap<Object,Object>(),new Object());
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the readOnly is true always when the map is not modifiable.
 */
@Test public void testIsReadOnly04(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<Object,Object> map=Collections.unmodifiableMap(new HashMap<Object,Object>());
  boolean result=mapELResolver.isReadOnly(context,map,new Object());
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestResourceBundleELResolver </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the readOnly is true always when the base is ResourceBundle.
 */
@Test public void testIsReadOnly03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  boolean result=resolver.isReadOnly(context,resourceBundle,new Object());
  Assert.assertTrue(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle(new Object[][]{{"key","value"}});
  @SuppressWarnings("unchecked") Iterator<FeatureDescriptor> result=resolver.getFeatureDescriptors(context,resourceBundle);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals(String.class,featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Tests that the propertyResolved is false and readOnly is false if base is
 * not ResourceBundle.
 */
@Test public void testIsReadOnly02(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  boolean result=resolver.isReadOnly(context,new Object(),new Object());
  Assert.assertFalse(result);
  Assert.assertFalse(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  Object result=resolver.getValue(context,resourceBundle,"key1");
  Assert.assertEquals("value1",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,"unknown-key");
  Assert.assertEquals("???unknown-key???",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,null);
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that null will be returned when base is ResourceBundle. Checks that
 * the propertyResolved is true.
 */
@Test public void testGetType03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  Class<?> result=resolver.getType(context,resourceBundle,"key1");
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug53001(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  ResourceBundle rb=new TesterResourceBundle();
  ValueExpression var=factory.createValueExpression(rb,ResourceBundle.class);
  context.getVariableMapper().setVariable("rb",var);
  ValueExpression ve=factory.createValueExpression(context,"${rb.keys}",String.class);
  MethodExpression me=factory.createMethodExpression(context,"${rb.getKeys()}",Enumeration.class,null);
  String result1=(String)ve.getValue(context);
  Assert.assertEquals("???keys???",result1);
  Object result2=me.invoke(context,null);
  Assert.assertTrue(result2 instanceof Enumeration);
  @SuppressWarnings("unchecked") Enumeration<String> e=(Enumeration<String>)result2;
  Assert.assertTrue(e.hasMoreElements());
  String element=e.nextElement();
  if ("key1".equals(element)) {
    Assert.assertEquals("key1",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key2",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
 else {
    Assert.assertEquals("key2",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key1",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.servlet.jsp.TestPageContext </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBug49196() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49196.jsp");
  String result=res.toString();
  assertTrue(result.contains("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestFormAuthenticator </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void doTestSelectedMethods() throws Exception {
  FormAuthClientSelectedMethods client=new FormAuthClientSelectedMethods(true,true,true);
  client.doResourceRequest("PUT",true,"/test?" + SelectedMethodsServlet.PARAM + "="+ SelectedMethodsServlet.VALUE,null);
  assertTrue(client.getResponseLine(),client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  String originalSessionId=client.getSessionId();
  client.reset();
  client.doResourceRequest("POST",true,"/test/j_security_check",FormAuthClientBase.LOGIN_REPLY);
  assertTrue("login failed " + client.getResponseLine(),client.isResponse302());
  assertTrue(client.isResponseBodyOK());
  String redirectUri=client.getRedirectUri();
  client.reset();
  client.doResourceRequest("GET",true,redirectUri,null);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  String newSessionId=client.getSessionId();
  assertTrue(!originalSessionId.equals(newSessionId));
  client.reset();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestNonLoginAndBasicAuthenticator </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBasicLoginSessionTimeout() throws Exception {
  setAlwaysUseSession();
  setRapidSessionTimeout();
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  List<String> originalCookies=cookies;
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,USE_COOKIES,HttpServletResponse.SC_OK);
  Thread.sleep(TIMEOUT_DELAY_MSECS);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,USE_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  boolean sameCookies=originalCookies.equals(cookies);
  assertTrue(!sameCookies);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestSSOnonLoginAndBasicAuthenticator </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAccessThenAcceptAuthWithUri() throws Exception {
  setAlwaysUseSession();
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String forwardParam="?nextUrl=" + CONTEXT_PATH_LOGIN + URI_PROTECTED;
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED + forwardParam,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String firstEncodedURL=encodedURL;
  assertTrue(firstEncodedURL.contains(ENCODE_SESSION_PARAM));
  doTestBasic(firstEncodedURL + forwardParam,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String secondEncodedURL=encodedURL;
  assertEquals(firstEncodedURL,secondEncodedURL);
  assertFalse(firstEncodedURL.contains(ENCODE_SSOSESSION_PARAM));
  int ix=secondEncodedURL.indexOf(ENCODE_SESSION_PARAM);
  String sessionId=secondEncodedURL.substring(ix);
  doTestNonLogin(CONTEXT_PATH_NOLOGIN + URI_PROTECTED + ";"+ sessionId,NO_COOKIES,HttpServletResponse.SC_FORBIDDEN);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.comet.TestCometProcessor </h4><pre class="type-4 type-10 type-12 type-3 type-11 type-13 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionClose() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",new ConnectionCloseServlet());
  root.addServletMapping("/comet","comet");
  Tomcat.addServlet(root,"hello",new HelloWorldServlet());
  root.addServletMapping("/hello","hello");
  tomcat.getConnector().setProperty("connectionTimeout","5000");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(5000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/comet HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  os.write("0\r\n\r\n".getBytes());
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  int count=0;
  while (count < 10 && !readThread.getResponse().endsWith("OK")) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Comet request did not complete");
  }
  Assert.assertFalse(readThread.isAlive());
  Assert.assertNull(readThread.getException());
  os.close();
  is.close();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests if the Comet connection is closed if the Tomcat connector is
 * stopped.
 */
@Test public void testCometConnectorStop() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  SimpleCometServlet servlet=new SimpleCometServlet();
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",servlet);
  root.addServletMapping("/","comet");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(10000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/ HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  PingWriterThread writeThread=new PingWriterThread(100,os);
  writeThread.start();
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  Thread.sleep(3000);
  tomcat.getConnector().stop();
  readThread.join(5000);
  writeThread.join(5000);
  tomcat.getConnector().destroy();
  String[] response=readThread.getResponse().split("\r\n");
  String lastMessage="";
  String lastResponseLine="";
  for (int i=response.length; --i >= 0; ) {
    lastMessage=response[i];
    if (lastMessage.startsWith("Client:")) {
      break;
    }
  }
  for (int i=response.length; --i >= 0; ) {
    lastResponseLine=response[i];
    if (lastResponseLine.length() > 0) {
      break;
    }
  }
  StringBuilder status=new StringBuilder();
  status.append("Status:");
  status.append("\nWriterThread exception: " + writeThread.getException());
  status.append("\nReaderThread exception: " + readThread.getException());
  status.append("\nLast message: [" + lastMessage + "]");
  status.append("\nLast response line: [" + lastResponseLine + "]");
  status.append("\nLast comet event: [" + servlet.getLastEvent() + "]");
  status.append("\nEND event occurred: [" + servlet.getEndEventOccurred() + "]");
  if (writeThread.getException() == null || !lastMessage.contains("Client: END") || !EventType.END.equals(servlet.getLastEvent())) {
    log.error(status);
  }
 else {
    log.info(status);
  }
  assertTrue("Comet END event not received",servlet.getEndEventOccurred());
  assertTrue("Comet END event not last event received",EventType.END.equals(servlet.getLastEvent()));
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 type-11 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSyncClose() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",new CometCloseServlet());
  root.addServletMapping("/comet","comet");
  Tomcat.addServlet(root,"hello",new HelloWorldServlet());
  root.addServletMapping("/hello","hello");
  tomcat.getConnector().setProperty("connectionTimeout","5000");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(5000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/comet HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  os.write("0\r\n\r\n".getBytes());
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  int count=0;
  while (count < 10 && !readThread.getResponse().endsWith("0\r\n\r\n")) {
    Thread.sleep(500);
    count++;
  }
  Assert.assertTrue(readThread.getResponse().contains("2\r\nOK"));
  if (count == 10) {
    fail("Comet request did not complete");
  }
  requestLine="GET http://localhost:" + getPort() + "/hello HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("connection: close\r\n".getBytes());
  os.write("\r\n".getBytes());
  count=0;
  while (count < 10 && !readThread.getResponse().contains(HelloWorldServlet.RESPONSE_TEXT)) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Non-comet request did not complete");
  }
  readThread.join();
  os.close();
  is.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestConnector </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPort() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Connector connector1=tomcat.getConnector();
  connector1.setPort(0);
  Connector connector2=new Connector();
  connector2.setPort(0);
  tomcat.getService().addConnector(connector2);
  tomcat.start();
  int localPort1=connector1.getLocalPort();
  int localPort2=connector2.getLocalPort();
  assertTrue(localPort1 > 0);
  assertTrue(localPort2 > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestCoyoteAdapter </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testBug54928() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  AsyncServlet servlet=new AsyncServlet();
  Wrapper w=Tomcat.addServlet(ctx,"async",servlet);
  w.setAsyncSupported(true);
  ctx.addServletMapping("/async","async");
  tomcat.start();
  SimpleHttpClient client=new SimpleHttpClient(){
    @Override public boolean isResponseBodyOK(){
      return true;
    }
  }
;
  String request="GET /async HTTP/1.1" + SimpleHttpClient.CRLF + "Host: a"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF;
  client.setPort(getPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.sendRequest();
  for (int i=0; i < 10; i++) {
    String line=client.readLine();
    if (line != null && line.length() > 20) {
      log.info(line.subSequence(0,20) + "...");
    }
  }
  client.disconnect();
  Thread t=servlet.getThread();
  long startTime=System.nanoTime();
  t.join(5000);
  long endTime=System.nanoTime();
  log.info("Waited for servlet thread to stop for " + (endTime - startTime) / 1000000 + " ms");
  Assert.assertTrue(servlet.isCompleted());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestMapperListener </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTomcatRestartListenerCount_Bug56717() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res;
  String text;
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersFirst=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersFirst,tomcat.getEngine());
  tomcat.stop();
  tomcat.start();
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersSecond=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersSecond,tomcat.getEngine());
  Assert.assertEquals(listenersFirst.size(),listenersSecond.size());
  for (int i=0, len=listenersFirst.size(); i < len; i++) {
    ListenersInfo a=listenersFirst.get(i);
    ListenersInfo b=listenersSecond.get(i);
    boolean equal=a.container.getClass() == b.container.getClass() && a.containerListeners.length == b.containerListeners.length && a.lifecycleListeners.length == b.lifecycleListeners.length;
    if (!equal) {
      Assert.fail("The lists of listeners differ:\n" + a + "\n"+ b);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestRequest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=48692
 * PUT requests should be able to fetch request parameters coming from
 * the request body (when properly configured using the new parseBodyMethod
 * setting).
 */
@Test public void testBug48692(){
  Bug48692Client client=new Bug48692Client();
  client.doRequest("GET","foo=bar",null,null,false);
  assertTrue("Non-200 response for GET request",client.isResponse200());
  assertEquals("Incorrect response for GET request","foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar","application/x-www-form-urlencoded","bar=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",false);
  assertTrue("Non-200 response for PUT/noparse request",client.isResponse200());
  assertEquals("Incorrect response for PUT request","bar=foo,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for PUT request",client.isResponse200());
  assertEquals("Incorrect response for PUT/parse request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=37794
 * POST parameters are not returned from a call to
 * any of the {@link HttpServletRequest} getParameterXXX() methods if the
 * request is chunked.
 */
@Test public void testBug37794(){
  Bug37794Client client=new Bug37794Client(true);
  client.doRequest(-1,false);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.reset();
  client.doRequest(0,false);
  assertTrue(client.isResponse413());
  client.reset();
  client.doRequest(1,false);
  assertTrue(client.isResponse413());
  client.reset();
  client.reset();
  client.doRequest(6,false);
  assertTrue(client.isResponse413());
  client.reset();
  client.doRequest(7,false);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.reset();
  client.doRequest(8,false);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.reset();
  client.doRequest(8096,false);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.reset();
  client.doRequest(8096,true);
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Additional test for failed requests handling when no FailedRequestFilter
 * is defined.
 */
@Test public void testBug37794withoutFilter(){
  Bug37794Client client=new Bug37794Client(false);
  client.reset();
  client.doRequest(6,false);
  assertTrue(client.isResponse200());
  assertEquals("",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestResponsePerformance </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testToAbsolutePerformance() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  long start=System.currentTimeMillis();
  for (int i=0; i < ITERATIONS; i++) {
    resp.toAbsolute("bar.html");
  }
  long homebrew=System.currentTimeMillis() - start;
  start=System.currentTimeMillis();
  for (int i=0; i < ITERATIONS; i++) {
    URI base=URI.create("http://localhost:8080/level1/level2/foo.html");
    base.resolve(URI.create("bar.html")).toASCIIString();
  }
  long uri=System.currentTimeMillis() - start;
  System.out.println("Current 'home-brew': " + homebrew + "ms, Using URI: "+ uri+ "ms");
  assertTrue(homebrew < uri);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53467() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53467].jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(res.toString().contains("<p>OK</p>"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug57190() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context foo1=new StandardContext();
  foo1.setName("/foo##1");
  foo1.setPath("/foo");
  foo1.setWebappVersion("1");
  foo1.setDocBase(System.getProperty("java.io.tmpdir"));
  foo1.addLifecycleListener(new FixContextListener());
  foo1.addLifecycleListener(new SetIdListener("foo1"));
  tomcat.getHost().addChild(foo1);
  Context foo2=new StandardContext();
  foo2.setName("/foo##2");
  foo2.setPath("/foo");
  foo2.setWebappVersion("2");
  foo2.setDocBase(System.getProperty("java.io.tmpdir"));
  foo2.addLifecycleListener(new FixContextListener());
  foo2.addLifecycleListener(new SetIdListener("foo2"));
  tomcat.getHost().addChild(foo2);
  Context bar=tomcat.addContext("/bar",null);
  bar.addLifecycleListener(new SetIdListener("bar"));
  Context ctx=tomcat.addContext("",null);
  ctx.addLifecycleListener(new SetIdListener("ROOT"));
  ctx.setCrossContext(true);
  Tomcat.addServlet(ctx,"Bug57190Servlet",new Bug57190Servlet());
  ctx.addServletMapping("/","Bug57190Servlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  String body=res.toString();
  Assert.assertTrue(body,body.contains("01-bar"));
  Assert.assertTrue(body,body.contains("02-foo2"));
  Assert.assertTrue(body,body.contains("03-foo1"));
  Assert.assertTrue(body,body.contains("04-foo2"));
  Assert.assertTrue(body,body.contains("05-foo2"));
  Assert.assertTrue(body,body.contains("06-ROOT"));
  Assert.assertTrue(body,body.contains("07-ROOT"));
  Assert.assertTrue(body,body.contains("08-foo2"));
  Assert.assertTrue(body,body.contains("09-ROOT"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationSessionCookieConfig </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetNameInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setName("test");
  assertTrue(applicationSessionCookieConfig.getName().equals("test"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetPathInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setPath("test");
  assertTrue(applicationSessionCookieConfig.getPath().equals("test"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetSecureInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setSecure(true);
  assertTrue(applicationSessionCookieConfig.isSecure());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetHttpOnlyInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setHttpOnly(true);
  assertTrue(applicationSessionCookieConfig.isHttpOnly());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetMaxAgeInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setMaxAge(1);
  assertTrue(applicationSessionCookieConfig.getMaxAge() == 1);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetCommentInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setComment("test");
  assertTrue(applicationSessionCookieConfig.getComment().equals("test"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetDomainInitPhase(){
  context.setState(LifecycleState.STARTING_PREP);
  applicationSessionCookieConfig.setDomain("test");
  assertTrue(applicationSessionCookieConfig.getDomain().equals("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestAsyncContextImpl </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53843() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug53843ServletA servletA=new Bug53843ServletA();
  Wrapper a=Tomcat.addServlet(ctx,"ServletA",servletA);
  a.setAsyncSupported(true);
  Tomcat.addServlet(ctx,"ServletB",new Bug53843ServletB());
  ctx.addServletMapping("/ServletA","ServletA");
  ctx.addServletMapping("/ServletB","ServletB");
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/ServletA");
  ByteChunk body=new ByteChunk();
  int rc=getUrl(url.toString(),body,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",body.toString());
  assertTrue(servletA.isAsyncWhenExpected());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContext </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug46243() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(tomcat.getHost().getAppBase(),"ROOT");
  if (!docBase.mkdirs() && !docBase.isDirectory()) {
    fail("Unable to create docBase");
  }
  Context root=tomcat.addContext("","ROOT");
  configureTest46243Context(root,true);
  tomcat.start();
  Bug46243Client client=new Bug46243Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{REQUEST});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals(LifecycleState.STOPPED,root.getState());
  configureTest46243Context(root,false);
  root.start();
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertEquals(Bug46243Filter.class.getName() + HelloWorldServlet.RESPONSE_TEXT,client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFlagFailCtxIfServletStartFails() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(System.getProperty("java.io.tmpdir"));
  StandardContext context=(StandardContext)tomcat.addContext("",docBase.getAbsolutePath());
  assertFalse(context.getComputedFailCtxIfServletStartFails());
  StandardHost host=(StandardHost)tomcat.getHost();
  host.setFailCtxIfServletStartFails(true);
  assertTrue(context.getComputedFailCtxIfServletStartFails());
  context.setFailCtxIfServletStartFails(Boolean.FALSE);
  assertFalse("flag on Context should override Host config",context.getComputedFailCtxIfServletStartFails());
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",new FailingStartupServlet());
  servlet.setLoadOnStartup(1);
  tomcat.start();
  assertTrue("flag false should not fail deployment",context.getState().isAvailable());
  tomcat.stop();
  assertFalse(context.getState().isAvailable());
  host.removeChild(context);
  context=(StandardContext)tomcat.addContext("",docBase.getAbsolutePath());
  servlet=Tomcat.addServlet(context,"myservlet",new FailingStartupServlet());
  servlet.setLoadOnStartup(1);
  tomcat.start();
  assertFalse("flag true should fail deployment",context.getState().isAvailable());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49922() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  ByteChunk result=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/bug49922/foo",result,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertTrue(result.getLength() > 0);
  result=getUrl("http://localhost:" + getPort() + "/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/forward");
  assertEquals("FilterTarget",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/include");
  assertEquals("IncludeFilterTarget",result.toString());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTldListener() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File("test/webapp-3.0");
  Context ctx=tomcat.addContext("",docBase.getAbsolutePath());
  tomcat.start();
  ctx.stop();
  String log=TesterTldListener.getLog();
  Assert.assertTrue(log,log.contains("PASS-01"));
  Assert.assertTrue(log,log.contains("PASS-02"));
  Assert.assertFalse(log,log.contains("FAIL"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContextAliases </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDirContextAliases() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",System.getProperty("java.io.tmpdir"));
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctx.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  Tomcat.addServlet(ctx,"test",new TestServlet());
  ctx.addServletMapping("/","test");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  String result=res.toString();
  assertTrue(result.indexOf("00-PASS") > -1);
  assertTrue(result.indexOf("01-PASS") > -1);
  assertTrue(result.indexOf("02-PASS") > -1);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContextResources </h4><pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testResources() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  assertPageContains("/test/resourceA.jsp","<p>resourceA.jsp in the web application</p>");
  assertPageContains("/test/resourceB.jsp","<p>resourceB.jsp in resources.jar</p>");
  assertPageContains("/test/folder/resourceC.jsp","<p>resourceC.jsp in the web application</p>");
  assertPageContains("/test/folder/resourceD.jsp","<p>resourceD.jsp in resources.jar</p>");
  assertPageContains("/test/folder/resourceE.jsp","<p>resourceE.jsp in the web application</p>");
  assertPageContains("/test/resourceG.jsp","<p>resourceG.jsp in WEB-INF/classes</p>",404);
  @SuppressWarnings("unchecked") List<String> orderedLibs=(List<String>)ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS);
  if (orderedLibs.size() > 2) {
    log.warn("testResources(): orderedLibs: " + orderedLibs);
  }
  int index=orderedLibs.indexOf("resources.jar");
  int index2=orderedLibs.indexOf("resources2.jar");
  assertTrue(orderedLibs.toString(),index >= 0 && index2 >= 0 && index < index2);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourcesAbsoluteOrdering() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  LifecycleListener[] listener=ctx.findLifecycleListeners();
  assertEquals(3,listener.length);
  assertTrue(listener[1] instanceof ContextConfig);
  ContextConfig config=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources");
      wxml.addAbsoluteOrdering("resources2");
      return wxml;
    }
  }
;
  config.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener[1]=config;
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  tomcat.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources.jar</p>");
  assertEquals(Arrays.asList("resources.jar","resources2.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
  ctx.stop();
  LifecycleListener[] listener1=ctx.findLifecycleListeners();
  ContextConfig config1=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources2");
      wxml.addAbsoluteOrdering("resources");
      return wxml;
    }
  }
;
  config1.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener1[1]=config1;
  config1.lifecycleEvent(new LifecycleEvent(ctx,Lifecycle.AFTER_INIT_EVENT,null));
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  ctx.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources2.jar</p>");
  assertEquals(Arrays.asList("resources2.jar","resources.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceCaching() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctx.setCachingAllowed(false);
  tomcat.start();
  DirContext resources=ctx.getResources();
  Assert.assertTrue(resources instanceof ProxyDirContext);
  ProxyDirContext proxyResources=(ProxyDirContext)resources;
  Assert.assertNull(proxyResources.getCache());
  ctx.stop();
  ctx.start();
  Assert.assertNull(proxyResources.getCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardHostValve </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSRLAfterError() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(System.getProperty("java.io.tmpdir"));
  Context ctx=tomcat.addContext("",docBase.getAbsolutePath());
  Tomcat.addServlet(ctx,"error",new ErrorServlet());
  ctx.addServletMapping("/error","error");
  final List<String> result=new ArrayList<String>();
  ServletRequestListener servletRequestListener=new ServletRequestListener(){
    @Override public void requestDestroyed(    ServletRequestEvent sre){
      result.add("Visit requestDestroyed");
    }
    @Override public void requestInitialized(    ServletRequestEvent sre){
      result.add("Visit requestInitialized");
    }
  }
;
  ((StandardContext)ctx).addApplicationEventListener(servletRequestListener);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/error?errorCode=400",bc,null);
  Assert.assertEquals(400,rc);
  Assert.assertTrue(result.contains("Visit requestInitialized"));
  Assert.assertTrue(result.contains("Visit requestDestroyed"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlLoginConfig() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity2");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/protected.jsp",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
  bc.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/unprotected.jsp",bc,null,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("00-OK"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsWebXmlPriority() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/testStandardWrapper/securityAnnotationsWebXmlPriority",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddChild() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  StandardWrapper wrapper=new StandardWrapper();
  wrapper.setServletName("Bug51445");
  wrapper.setServletClass(Bug51445Servlet.class.getName());
  ctx.addChild(wrapper);
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlConstraints() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddServlet() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug51445",new Bug51445Servlet());
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestSwallowAbortedUploads </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testAbortedUploadLimitedNoSwallow(){
  log.info("Limited, swallow disabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,true,false);
  assertTrue("Limited upload with swallow disabled does not generate client exception",ex != null && ex instanceof java.net.SocketException);
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadLimitedSwallow(){
  log.info("Limited, swallow enabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,true,true);
  assertNull("Limited upload with swallow enabled generates client exception",ex);
  assertTrue("Limited upload with swallow enabled returns non-500 status code",client.isResponse500());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOST413Swallow(){
  log.info("Aborted (413), swallow enabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE,true);
  assertNull("Limited upload with swallow enabled generates client exception",ex);
  assertTrue("Limited upload with swallow enabled returns error status code",client.isResponse413());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOSTOKSwallow(){
  log.info("Aborted (OK), swallow enabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_OK,true);
  assertNull("Unlimited upload with swallow enabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow enabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOSTOKNoSwallow(){
  log.info("Aborted (OK), swallow disabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_OK,false);
  assertNull("Unlimited upload with swallow disabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow disabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testAbortedPOST413NoSwallow(){
  log.info("Aborted (413), swallow disabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE,false);
  assertTrue("Limited upload with swallow disabled does not generate client exception",ex != null && ex instanceof java.net.SocketException);
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadUnlimitedNoSwallow(){
  log.info("Unlimited, swallow disabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,false,false);
  assertNull("Unlimited upload with swallow disabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow disabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadUnlimitedSwallow(){
  log.info("Unlimited, swallow enabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,false,true);
  assertNull("Unlimited upload with swallow enabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow enabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestSecurityConstraint </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Uses the examples in SRV.13.4 as the basis for these tests
 */
@Test public void testCreateConstraints(){
  ServletSecurityElement element;
  SecurityConstraint[] result;
  Set<HttpMethodConstraintElement> hmces=new HashSet<HttpMethodConstraintElement>();
  element=new ServletSecurityElement();
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(0,result.length);
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertFalse(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(EmptyRoleSemantic.DENY));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertEquals(1,result[0].findAuthRoles().length);
  assertTrue(result[0].findAuthRole(ROLE1));
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET",new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1)));
  hmces.add(new HttpMethodConstraintElement("POST",new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL,ROLE1)));
  element=new ServletSecurityElement(hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].getAuthConstraint());
    assertEquals(1,result[i].findAuthRoles().length);
    assertTrue(result[i].findAuthRole(ROLE1));
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    assertEquals(1,result[i].findCollections()[0].findMethods().length);
    String method=result[i].findCollections()[0].findMethods()[0];
    if ("GET".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
    }
 else     if ("POST".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[i].getUserConstraint());
    }
 else {
      fail("Unexpected method :[" + method + "]");
    }
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET"));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findMethods()[0]);
      assertFalse(result[i].getAuthConstraint());
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("TRACE",new HttpConstraintElement(EmptyRoleSemantic.DENY)));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(0,result[i].findAuthRoles().length);
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXml </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLifecycleMethodsWebFragmentsWithConflicts(){
  WebXml webxml=new WebXml();
  WebXml fragment1=new WebXml();
  fragment1.addPostConstructMethods("a","a");
  fragment1.addPreDestroyMethods("b","a");
  WebXml fragment2=new WebXml();
  fragment2.addPostConstructMethods("a","b");
  Set<WebXml> fragments=new HashSet<WebXml>();
  fragments.add(fragment1);
  fragments.add(fragment2);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPostConstructMethods().size());
  WebXml fragment3=new WebXml();
  fragment3.addPreDestroyMethods("b","b");
  fragments.remove(fragment2);
  fragments.add(fragment3);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPreDestroyMethods().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXmlOrdering </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolute(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("e");
  app.addAbsoluteOrdering("d");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertEquals(b,iter.next());
  assertEquals(e,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersMiddle(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersEnd(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersStart(){
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolutePartial(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCorsFilter </h4><pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterPreflightWithoutCredentialsAndSpecificOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigSpecificOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByConfiguration() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigSpecificOriginNullAllowed());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Negative test, when a CORS request arrives, with no origin header.
 */
@Test public void testDoFilterNoOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.NOT_CORS,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertFalse(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContentTypeWithParameter() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain;charset=UTF-8");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Section Section 6.2.7
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeAnyOriginNoWithCredentials() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Origin");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigAnyOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("*"));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInitDefaultFilterConfig() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(null);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * If an init param is null, it's default value will be used.
 * @throws ServletException
 */
@Test public void testWithStringParserNull() throws ServletException {
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getNullFilterConfig());
  Assert.assertTrue(corsFilter.getAllowedHttpHeaders().size() == 6);
  Assert.assertTrue(corsFilter.getAllowedHttpMethods().size() == 4);
  Assert.assertTrue(corsFilter.getAllowedOrigins().size() == 0);
  Assert.assertTrue(corsFilter.isAnyOriginAllowed());
  Assert.assertTrue(corsFilter.getExposedHeaders().size() == 0);
  Assert.assertTrue(corsFilter.isSupportsCredentials());
  Assert.assertTrue(corsFilter.getPreflightMaxAge() == 1800);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInValidOriginCRLF(){
  Assert.assertFalse(CorsFilter.isValidOrigin("http://www.w3.org\r\n"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests the prsence of the origin (and not '*') in the response, when
 * supports credentials is enabled alongwith any origin, '*'.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleAnyOriginAndSupportsCredentials() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigAnyOriginAndSupportsCredentials());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS).equals("true"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests if a POST request is treated as simple request.
 * @See http://www.w3.org/TR/cors/#simple-method
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimplePOST() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setContentType("text/plain");
  request.setMethod("POST");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinSingleElement(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=",";
  elements.add("world");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("world".equals(join));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests the presence of exposed headers in response, if configured.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleWithExposedHeaders() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("POST");
  request.setContentType("text/plain");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigWithExposedHeaders());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_EXPOSE_HEADERS).equals(TesterFilterConfigs.EXPOSED_HEADERS));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInValidOriginEncodedCRLF1(){
  Assert.assertFalse(CorsFilter.isValidOrigin("http://www.w3.org%0d%0a"));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinOneNullElement(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=",";
  elements.add(null);
  elements.add("peace");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue(",peace".equals(join));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithFilterConfig() throws ServletException {
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  Assert.assertTrue(corsFilter.getAllowedHttpHeaders().size() == 6);
  Assert.assertTrue(corsFilter.getAllowedHttpMethods().size() == 4);
  Assert.assertTrue(corsFilter.getAllowedOrigins().size() == 0);
  Assert.assertTrue(corsFilter.isAnyOriginAllowed());
  Assert.assertTrue(corsFilter.getExposedHeaders().size() == 0);
  Assert.assertTrue(corsFilter.isSupportsCredentials());
  Assert.assertTrue(corsFilter.getPreflightMaxAge() == 1800);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDecorateCORSPropertiesCORSRequestTypeNotCORS(){
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  CorsFilter.decorateCORSProperties(request,CorsFilter.CORSRequestType.NOT_CORS);
  Assert.assertFalse(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests if a GET request is treated as simple request.
 * @See http://www.w3.org/TR/cors/#simple-method
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleGET() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterPreflightNegativeMaxAge() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfigNegativeMaxAge());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_MAX_AGE));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDoFilterPreflightWithCredentials() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSecureFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS).equals("true"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinAllEmptyElements(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=",";
  elements.add("");
  elements.add("");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("".equals(join));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidOrigin(){
  Assert.assertTrue(CorsFilter.isValidOrigin("http://www.w3.org"));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInValidOriginEncodedCRLF2(){
  Assert.assertFalse(CorsFilter.isValidOrigin("http://www.w3.org%0D%0A"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test the presence of specific origin in response, when '*' is not used.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleSpecificHeader() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("POST");
  request.setContentType("text/plain");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Tests if a HEAD request is treated as simple request.
 * @See http://www.w3.org/TR/cors/#simple-method
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleHEAD() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("HEAD");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the presence of the origin (and not '*') in the response, when
 * supports credentials is enabled alongwith any origin, '*'.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleAnyOriginAndSupportsCredentialsDisabled() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigAnyOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.ANY_ORIGIN));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinAllNullElements(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=",";
  elements.add(null);
  elements.add(null);
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("".equals(join));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDecorateRequestDisabled() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigDecorateRequestDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoin(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=",";
  elements.add("world");
  elements.add("peace");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("world,peace".equals(join));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks if an OPTIONS request is processed as pre-flight where any origin
 * is enabled.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterPreflightAnyOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinPipeSeparator(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator="|";
  elements.add("world");
  elements.add("peace");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("world|peace".equals(join));
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testJoinSepNull(){
  Set<String> elements=new LinkedHashSet<String>();
  String separator=null;
  elements.add("world");
  elements.add("peace");
  String join=CorsFilter.join(elements,separator);
  Assert.assertTrue("world,peace".equals(join));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInValidOriginEncodedCRLF3(){
  Assert.assertFalse(CorsFilter.isValidOrigin("http://www.w3.org%0%0d%0ad%0%0d%0aa"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks if an OPTIONS request is processed as pre-flight.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterPreflight() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByDefault() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithStringParserEmpty() throws ServletException {
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getEmptyFilterConfig());
  Assert.assertTrue(corsFilter.getAllowedHttpHeaders().size() == 0);
  Assert.assertTrue(corsFilter.getAllowedHttpMethods().size() == 0);
  Assert.assertTrue(corsFilter.getAllowedOrigins().size() == 0);
  Assert.assertTrue(corsFilter.getExposedHeaders().size() == 0);
  Assert.assertFalse(corsFilter.isSupportsCredentials());
  Assert.assertTrue(corsFilter.getPreflightMaxAge() == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCsrfPreventionFilter </h4><pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLruCacheSerializable() throws Exception {
  LruCache<String> cache=new LruCache<String>(5);
  cache.add("key1");
  cache.add("key2");
  cache.add("key3");
  cache.add("key4");
  cache.add("key5");
  cache.add("key6");
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  ObjectOutputStream oos=new ObjectOutputStream(baos);
  oos.writeObject(cache);
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  ObjectInputStream ois=new ObjectInputStream(bais);
  @SuppressWarnings("unchecked") LruCache<String> cache2=(LruCache<String>)ois.readObject();
  cache2.add("key7");
  assertFalse(cache2.contains("key1"));
  assertFalse(cache2.contains("key2"));
  assertTrue(cache2.contains("key3"));
  assertTrue(cache2.contains("key4"));
  assertTrue(cache2.contains("key5"));
  assertTrue(cache2.contains("key6"));
  assertTrue(cache2.contains("key7"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCsrfPreventionFilter2 </h4><pre class="type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
/** 
 * When this test fails, it tends to enter a long running loop but it will
 * eventually finish (after ~70s on a 8-core Windows box).
 */
@Test public void testLruCacheConcurrency() throws Exception {
  int threadCount=2;
  long iterationCount=100000L;
  assertTrue(threadCount > 1);
  LruCache<String> cache=new LruCache<String>(threadCount - 1);
  LruTestThread[] threads=new LruTestThread[threadCount];
  for (int i=0; i < threadCount; i++) {
    threads[i]=new LruTestThread(cache,iterationCount);
  }
  for (int i=0; i < threadCount; i++) {
    threads[i].start();
  }
  for (int i=0; i < threadCount; i++) {
    threads[i].join();
  }
  for (int i=0; i < threadCount; i++) {
    assertTrue(threads[i].getResult());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestRemoteIpFilter </h4><pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test {@link RemoteIpFilter} in Tomcat standalone server
 */
@Test public void testWithTomcatServer() throws Exception {
  Map<String,String> remoteIpFilterParameter=new HashMap<String,String>();
  remoteIpFilterParameter.put("protocolHeader","x-forwarded-proto");
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",TEMP_DIR);
  FilterDef filterDef=new FilterDef();
  filterDef.getParameterMap().putAll(remoteIpFilterParameter);
  filterDef.setFilterClass(RemoteIpFilter.class.getName());
  filterDef.setFilterName(RemoteIpFilter.class.getName());
  root.addFilterDef(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.setFilterName(RemoteIpFilter.class.getName());
  filterMap.addURLPattern("*");
  root.addFilterMap(filterMap);
  MockHttpServlet mockServlet=new MockHttpServlet();
  Tomcat.addServlet(root,mockServlet.getClass().getName(),mockServlet);
  root.addServletMapping("/test",mockServlet.getClass().getName());
  getTomcatInstance().start();
  HttpURLConnection httpURLConnection=(HttpURLConnection)new URL("http://localhost:" + tomcat.getConnector().getLocalPort() + "/test").openConnection();
  String expectedRemoteAddr="my-remote-addr";
  httpURLConnection.addRequestProperty("x-forwarded-for",expectedRemoteAddr);
  httpURLConnection.addRequestProperty("x-forwarded-proto","https");
  Assert.assertEquals(HttpURLConnection.HTTP_OK,httpURLConnection.getResponseCode());
  HttpServletRequest request=mockServlet.getRequest();
  Assert.assertNotNull(request);
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteAddr());
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteHost());
  Assert.assertTrue(request.isSecure());
  Assert.assertEquals("https",request.getScheme());
  Assert.assertEquals(443,request.getServerPort());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithDefaultValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithCustomValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  filterDef.addInitParameter("remoteIpHeader","x-my-forwarded-for");
  filterDef.addInitParameter("httpServerPort","8080");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-my-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  int actualServerPort=actualRequest.getServerPort();
  assertEquals("wrong http server port",8080,actualServerPort);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestParallelWebappClassLoader </h4><pre class="type-4 type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelIncapableOnJre6(){
  if (JreCompat.isJre7Available()) {
    return;
  }
  try {
    Tomcat tomcat=getTomcatInstance();
    Context ctx=tomcat.addContext("",System.getProperty("java.io.tmpdir"));
    WebappLoader webappLoader=new WebappLoader();
    webappLoader.setLoaderClass(PARALLEL_CLASSLOADER);
    ctx.setLoader(webappLoader);
    tomcat.start();
    ClassLoader classloader=ctx.getLoader().getClassLoader();
    Assert.assertTrue(classloader instanceof ParallelWebappClassLoader);
    Method getClassLoadingLock=getDeclaredMethod(classloader.getClass(),"getClassLoadingLock",String.class);
    Assert.assertNull(getClassLoadingLock);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("testParallelIncapableOnJre6 fails.");
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelCapableOnJre7(){
  if (!JreCompat.isJre7Available()) {
    return;
  }
  try {
    Tomcat tomcat=getTomcatInstance();
    Context ctx=tomcat.addContext("",null);
    WebappLoader webappLoader=new WebappLoader();
    webappLoader.setLoaderClass(PARALLEL_CLASSLOADER);
    ctx.setLoader(webappLoader);
    tomcat.start();
    ClassLoader classloader=ctx.getLoader().getClassLoader();
    Assert.assertTrue(classloader instanceof ParallelWebappClassLoader);
    Method getClassLoadingLock=getDeclaredMethod(classloader.getClass(),"getClassLoadingLock",String.class);
    Assert.assertNotNull(getClassLoadingLock);
    getClassLoadingLock.setAccessible(true);
    Object lock=getClassLoadingLock.invoke(classloader,DUMMY_SERVLET);
    Assert.assertNotEquals(lock,classloader);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("testParallelCapableOnJre7 fails.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVirtualClassLoader() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-virtual-webapp/src/main/webapp");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  VirtualWebappLoader loader=new VirtualWebappLoader(ctx.getParentClassLoader());
  loader.setVirtualClasspath("test/webapp-3.0-virtual-webapp/target/classes;" + "test/webapp-3.0-virtual-library/target/classes;" + "test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes;"+ "test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes");
  ctx.setLoader(loader);
  String extraMappings="/=test/webapp-3.0-virtual-webapp/src/main/webapp2" + ",/other=test/webapp-3.0-virtual-webapp/src/main/misc" + ",/WEB-INF/classes=test/webapp-3.0-virtual-webapp/target/classes";
  VirtualDirContext resources=new VirtualDirContext();
  resources.setExtraResourcePaths(extraMappings);
  ctx.setResources(resources);
  StandardJarScanner jarScanner=new StandardJarScanner();
  jarScanner.setScanAllDirectories(true);
  ctx.setJarScanner(jarScanner);
  tomcat.start();
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  String allUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc/").toString();
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/lib/rsrc.jar!/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/target/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-library/target/classes/rsrc") > 0);
  String[] allUrlsArray=allUrls.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allUrlsArray)).size(),allUrlsArray.length);
  String allRsrsc2ClasspathUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc2/").toString();
  assertTrue(allRsrsc2ClasspathUrls,allRsrsc2ClasspathUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc2") > 0);
  File f=new File("test/webapp-3.0-virtual-webapp/src/main/webapp/rsrc/resourceF.properties");
  assertPageContains("/test/contextGetRealPath.jsp?path=/rsrc/resourceF.properties",f.getPath());
  assertPageContains("/test/contextGetResource.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc/resourceE.properties","resourceEInDependentLibraryTargetClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/other/resourceI.properties","resourceIInWebapp=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc2/resourceJ.properties","resourceJInWebapp=true");
  String allRsrcPaths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc/").toString();
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceF.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceE.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceH.properties") > 0);
  String[] allRsrcPathsArray=allRsrcPaths.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allRsrcPathsArray)).size(),allRsrcPathsArray.length);
  String allRsrc2Paths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc2/").toString();
  assertTrue(allRsrc2Paths,allRsrc2Paths.indexOf("/rsrc2/resourceJ.properties") > 0);
  assertPageContains("/test/testTlds.jsp","worldA");
  assertPageContains("/test/testTlds.jsp","worldB");
  assertPageContains("/test/testTlds.jsp","worldC");
  assertPageContains("/test/testTlds.jsp","worldD");
}

</code></pre>

<br>
<pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testAdditionalWebInfClassesPaths() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-virtual-webapp/src/main/webapp");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File tempFile=File.createTempFile("virtualWebInfClasses",null);
  File additionWebInfClasses=new File(tempFile.getAbsolutePath() + ".dir");
  Assert.assertTrue(additionWebInfClasses.mkdirs());
  File targetPackageForAnnotatedClass=new File(additionWebInfClasses,MyAnnotatedServlet.class.getPackage().getName().replace('.','/'));
  Assert.assertTrue(targetPackageForAnnotatedClass.mkdirs());
  InputStream annotatedServletClassInputStream=null;
  FileOutputStream annotatedServletClassOutputStream=null;
  try {
    annotatedServletClassInputStream=this.getClass().getResourceAsStream(MyAnnotatedServlet.class.getSimpleName() + ".class");
    annotatedServletClassOutputStream=new FileOutputStream(new File(targetPackageForAnnotatedClass,MyAnnotatedServlet.class.getSimpleName() + ".class"));
    IOUtils.copy(annotatedServletClassInputStream,annotatedServletClassOutputStream);
  }
  finally {
    if (annotatedServletClassInputStream != null) {
      try {
        annotatedServletClassInputStream.close();
      }
 catch (      IOException e) {
      }
    }
    if (annotatedServletClassOutputStream != null) {
      try {
        annotatedServletClassOutputStream.close();
      }
 catch (      IOException e) {
      }
    }
  }
  VirtualWebappLoader loader=new VirtualWebappLoader(ctx.getParentClassLoader());
  loader.setVirtualClasspath("test/webapp-3.0-virtual-webapp/target/classes;" + "test/webapp-3.0-virtual-library/target/classes;" + additionWebInfClasses.getAbsolutePath());
  ctx.setLoader(loader);
  tomcat.start();
  assertPageContains("/test/annotatedServlet",MyAnnotatedServlet.MESSAGE,404);
  tomcat.stop();
  VirtualDirContext resources=new VirtualDirContext();
  resources.setExtraResourcePaths("/WEB-INF/classes=" + additionWebInfClasses);
  ctx.setResources(resources);
  tomcat.start();
  assertPageContains("/test/annotatedServlet",MyAnnotatedServlet.MESSAGE);
  tomcat.stop();
  FileUtils.deleteDirectory(additionWebInfClasses);
  tempFile.delete();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualWebappLoader </h4><pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModified() throws Exception {
  WebappLoader loader=new WebappLoader();
  assertNull(loader.getClassLoader());
  assertFalse(loader.modified());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderExecutorMemoryLeak </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTimerThreadLeak() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  if (ctx instanceof StandardContext) {
    ((StandardContext)ctx).setClearReferencesStopThreads(true);
  }
  ExecutorServlet executorServlet=new ExecutorServlet();
  Tomcat.addServlet(ctx,"taskServlet",executorServlet);
  ctx.addServletMapping("/","taskServlet");
  tomcat.start();
  getUrl("http://localhost:" + getPort() + "/");
  ctx.stop();
  try {
    Thread.sleep(1000);
  }
 catch (  InterruptedException ie) {
  }
  Assert.assertTrue(executorServlet.tpe.isShutdown());
  Assert.assertTrue(executorServlet.tpe.isTerminated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderThreadLocalMemoryLeak </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak1() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet1","org.apache.tomcat.unittest.TesterLeakingServlet1");
  ctx.addServletMapping("/leak1","leakServlet1");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet1",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak1",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak2() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet2","org.apache.tomcat.unittest.TesterLeakingServlet2");
  ctx.addServletMapping("/leak2","leakServlet2");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterThreadScopedHolder",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet2",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak2",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.mbeans.TestRegistration </h4><pre class="type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test verifying that Tomcat correctly de-registers the MBeans it has
 * registered.
 * @author Marc Guillemot
 */
@Test public void testMBeanDeregistration() throws Exception {
  final MBeanServer mbeanServer=Registry.getRegistry(null,null).getMBeanServer();
  Set<ObjectName> onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  final Tomcat tomcat=getTomcatInstance();
  final File contextDir=new File(getTemporaryDirectory(),"webappFoo");
  addDeleteOnTearDown(contextDir);
  if (!contextDir.mkdirs() && !contextDir.isDirectory()) {
    fail("Failed to create: [" + contextDir.toString() + "]");
  }
  Context ctx=tomcat.addContext(contextName,contextDir.getAbsolutePath());
  CombinedRealm combinedRealm=new CombinedRealm();
  Realm nullRealm=new NullRealm();
  combinedRealm.addRealm(nullRealm);
  ctx.setRealm(combinedRealm);
  tomcat.getConnector().setAttribute("maxKeepAliveRequests",Integer.valueOf(1));
  tomcat.start();
  getUrl("http://localhost:" + getPort());
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Found: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  ArrayList<String> found=new ArrayList<String>(onames.size());
  for (  ObjectName on : onames) {
    found.add(on.toString());
  }
  String protocol=tomcat.getConnector().getProtocolHandlerClassName();
  if (protocol.indexOf("Nio") > 0) {
    protocol="nio";
  }
 else   if (protocol.indexOf("Apr") > 0) {
    protocol="apr";
  }
 else {
    protocol="bio";
  }
  String index=tomcat.getConnector().getProperty("nameIndex").toString();
  ArrayList<String> expected=new ArrayList<String>(Arrays.asList(basicMBeanNames()));
  expected.addAll(Arrays.asList(hostMBeanNames("localhost")));
  expected.addAll(Arrays.asList(contextMBeanNames("localhost",contextName)));
  expected.addAll(Arrays.asList(connectorMBeanNames("auto-" + index,protocol)));
  expected.addAll(Arrays.asList(optionalMBeanNames("localhost")));
  expected.addAll(Arrays.asList(requestMBeanNames("auto-" + index + "-"+ getPort(),protocol)));
  ArrayList<String> missing=new ArrayList<String>(expected);
  missing.removeAll(found);
  assertTrue("Missing Tomcat MBeans: " + missing,missing.isEmpty());
  List<String> additional=found;
  additional.removeAll(expected);
  assertTrue("Unexpected Tomcat MBeans: " + additional,additional.isEmpty());
  tomcat.stop();
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  assertTrue("No Tomcat MBeans",onames.size() > 0);
  StandardHost host=new StandardHost();
  host.setName("otherhost");
  tomcat.getEngine().addChild(host);
  final File contextDir2=new File(getTemporaryDirectory(),"webappFoo2");
  addDeleteOnTearDown(contextDir2);
  if (!contextDir2.mkdirs() && !contextDir2.isDirectory()) {
    fail("Failed to create: [" + contextDir2.toString() + "]");
  }
  tomcat.addContext(host,contextName + "2",contextDir2.getAbsolutePath());
  tomcat.start();
  tomcat.stop();
  tomcat.destroy();
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.realm.TestJNDIRealm </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPassword() throws Exception {
  JNDIRealm realm=buildRealm(PASSWORD,null);
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(PASSWORD,((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPasswordAndDigest() throws Exception {
  JNDIRealm realm=buildRealm(ha1(),"MD5");
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(ha1(),((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.realm.TestRealmBase </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * This test case covers the special case in section 13.4.1 of the Servlet
 * 3.1 specification for {@link javax.servlet.annotation.HttpConstraint}.
 */
@Test public void testHttpConstraint() throws IOException {
  Class<TesterServletSecurity01> clazz=TesterServletSecurity01.class;
  ServletSecurity servletSecurity=clazz.getAnnotation(ServletSecurity.class);
  ServletSecurityElement servletSecurityElement=new ServletSecurityElement(servletSecurity);
  SecurityConstraint[] constraints=SecurityConstraint.createConstraints(servletSecurityElement,"/*");
  SecurityConstraint deleteConstraint=new SecurityConstraint();
  deleteConstraint.addAuthRole(ROLE1);
  SecurityCollection deleteCollection=new SecurityCollection();
  deleteCollection.addMethod("DELETE");
  deleteCollection.addPattern("/*");
  deleteConstraint.addCollection(deleteCollection);
  TesterMapRealm mapRealm=new TesterMapRealm();
  TesterRequest request=new TesterRequest();
  Response response=new TesterResponse();
  Context context=request.getContext();
  context.addSecurityRole(ROLE1);
  context.addSecurityRole(ROLE2);
  request.setContext(context);
  List<String> userRoles1=new ArrayList<String>();
  userRoles1.add(ROLE1);
  GenericPrincipal gp1=new GenericPrincipal(USER1,PWD,userRoles1);
  List<String> userRoles2=new ArrayList<String>();
  userRoles2.add(ROLE2);
  GenericPrincipal gp2=new GenericPrincipal(USER2,PWD,userRoles2);
  List<String> userRoles99=new ArrayList<String>();
  GenericPrincipal gp99=new GenericPrincipal(USER99,PWD,userRoles99);
  for (  SecurityConstraint constraint : constraints) {
    context.addConstraint(constraint);
  }
  context.addConstraint(deleteConstraint);
  request.setMethod("GET");
  SecurityConstraint[] constraintsGet=mapRealm.findSecurityConstraints(request,context);
  request.setUserPrincipal(null);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsGet,null));
  request.setUserPrincipal(gp1);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsGet,null));
  request.setUserPrincipal(gp2);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsGet,null));
  request.setUserPrincipal(gp99);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsGet,null));
  request.setMethod("POST");
  SecurityConstraint[] constraintsPost=mapRealm.findSecurityConstraints(request,context);
  request.setUserPrincipal(null);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsPost,null));
  request.setUserPrincipal(gp1);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsPost,null));
  request.setUserPrincipal(gp2);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsPost,null));
  request.setUserPrincipal(gp99);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsPost,null));
  request.setMethod("PUT");
  SecurityConstraint[] constraintsPut=mapRealm.findSecurityConstraints(request,context);
  request.setUserPrincipal(null);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsPut,null));
  request.setUserPrincipal(gp1);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsPut,null));
  request.setUserPrincipal(gp2);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsPut,null));
  request.setUserPrincipal(gp99);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsPut,null));
  request.setMethod("DELETE");
  SecurityConstraint[] constraintsDelete=mapRealm.findSecurityConstraints(request,context);
  request.setUserPrincipal(null);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsDelete,null));
  request.setUserPrincipal(gp1);
  Assert.assertTrue(mapRealm.hasResourcePermission(request,response,constraintsDelete,null));
  request.setUserPrincipal(gp2);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsDelete,null));
  request.setUserPrincipal(gp99);
  Assert.assertFalse(mapRealm.hasResourcePermission(request,response,constraintsDelete,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.servlets.TestDefaultServlet </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50413 Serving a
 * custom error page
 */
@Test public void testCustomErrorPage() throws Exception {
  File appDir=new File(getTemporaryDirectory(),"MyApp");
  File webInf=new File(appDir,"WEB-INF");
  addDeleteOnTearDown(appDir);
  if (!webInf.mkdirs() && !webInf.isDirectory()) {
    fail("Unable to create directory [" + webInf + "]");
  }
  Writer w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"WEB-INF/web.xml")),"UTF-8");
  try {
    w.write("<?xml version='1.0' encoding='UTF-8'?>\n" + "<web-app xmlns='http://java.sun.com/xml/ns/j2ee' " + " xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'"+ " xsi:schemaLocation='http://java.sun.com/xml/ns/j2ee "+ " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd'"+ " version='2.4'>\n"+ "<error-page>\n<error-code>404</error-code>\n"+ "<location>/404.html</location>\n</error-page>\n"+ "</web-app>\n");
    w.flush();
  }
  finally {
    w.close();
  }
  w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"404.html")),"ISO-8859-1");
  try {
    w.write("It is 404.html");
    w.flush();
  }
  finally {
    w.close();
  }
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/MyApp";
  tomcat.addWebapp(null,contextPath,appDir.getAbsolutePath());
  tomcat.start();
  TestCustomErrorClient client=new TestCustomErrorClient(tomcat.getConnector().getLocalPort());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.0" + CRLF + CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  SimpleDateFormat format=new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz",Locale.US);
  format.setTimeZone(TimeZone.getTimeZone("GMT"));
  String tomorrow=format.format(new Date(System.currentTimeMillis() + 24 * 60 * 60* 1000));
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "If-Modified-Since: "+ tomorrow+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "Range: bytes=0-100"+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50026
 * Verify serving of resources from context root with subpath mapping.
 */
@Test public void testGetWithSubpathmount() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  org.apache.catalina.Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"default2",new DefaultServlet());
  ctx.addServletMapping("/","default2");
  ctx.addServletMapping("/servlets/*","default2");
  ctx.addServletMapping("/static/*","default2");
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  final ByteChunk rootResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/index.html",rootResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  final ByteChunk subpathResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/servlets/index.html",subpathResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertFalse(rootResource.toString().equals(subpathResource.toString()));
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/index.html",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-10 type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test what happens if a custom 404 page is configured,
 * but its file is actually missing.
 */
@Test public void testCustomErrorPageMissing() throws Exception {
  File appDir=new File(getTemporaryDirectory(),"MyApp");
  File webInf=new File(appDir,"WEB-INF");
  addDeleteOnTearDown(appDir);
  if (!webInf.mkdirs() && !webInf.isDirectory()) {
    fail("Unable to create directory [" + webInf + "]");
  }
  Writer w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"WEB-INF/web.xml")),"UTF-8");
  try {
    w.write("<?xml version='1.0' encoding='UTF-8'?>\n" + "<web-app xmlns='http://java.sun.com/xml/ns/j2ee' " + " xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'"+ " xsi:schemaLocation='http://java.sun.com/xml/ns/j2ee "+ " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd'"+ " version='2.4'>\n"+ "<error-page>\n<error-code>404</error-code>\n"+ "<location>/404-absent.html</location>\n</error-page>\n"+ "</web-app>\n");
    w.flush();
  }
  finally {
    w.close();
  }
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/MyApp";
  tomcat.addWebapp(null,contextPath,appDir.getAbsolutePath());
  tomcat.start();
  TestCustomErrorClient client=new TestCustomErrorClient(tomcat.getConnector().getLocalPort());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.0" + CRLF + CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.session.TestPersistentManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSessionAndPassivate() throws IOException, LifecycleException, ClassNotFoundException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals("No active sessions",manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  String sessionId=getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=false").toString();
  Assert.assertNotNull("Session is stored",store.load(sessionId));
  Assert.assertEquals("All sessions are passivated",manager.getActiveSessions(),0);
  Assert.assertTrue("One session was created",!manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noSessionCreate_57637() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  Assert.assertEquals("NO_SESSION",getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=true").toString());
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions where created",manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestContextConfigAnnotation </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupWebXMLNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param1");
  servletDef.setServletClass("org.apache.catalina.startup.NoMappingParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param1");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  ServletDef servletDef1=webxml.getServlets().get("param1");
  assertNotNull(servletDef1);
  assertEquals(servletDef,servletDef1);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNotNull(servletDef);
  assertEquals("Hello",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  assertEquals("param",webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("param",servletDef.getDescription());
  assertEquals("param",servletDef.getDisplayName());
  assertEquals("paramLarge.png",servletDef.getLargeIcon());
  assertEquals("paramSmall.png",servletDef.getSmallIcon());
  assertEquals(Boolean.FALSE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(0),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param");
  servletDef.setServletClass("org.apache.catalina.startup.ParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  servletDef.setDescription("Description");
  servletDef.setDisplayName("DisplayName");
  servletDef.setLargeIcon("LargeIcon");
  servletDef.setSmallIcon("SmallIcon");
  servletDef.setAsyncSupported("true");
  servletDef.setLoadOnStartup("1");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals(servletDef,webxml.getServlets().get("param"));
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("param",webxml.getServletMappings().get("/param"));
  assertNull(webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("Description",servletDef.getDescription());
  assertEquals("DisplayName",servletDef.getDisplayName());
  assertEquals("LargeIcon",servletDef.getLargeIcon());
  assertEquals("SmallIcon",servletDef.getSmallIcon());
  assertEquals(Boolean.TRUE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(1),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
  webxml.addServletMapping("/param","param1");
  config.processAnnotationsFile(pFile,webxml,false);
  servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamFilter");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  FilterDef filterDef=webxml.getFilters().get("paramD");
  assertNull(filterDef);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterName("paramFilter");
  filterDef.setFilterClass("org.apache.catalina.startup.ParamFilter");
  filterDef.addInitParameter("message","tomcat");
  filterDef.setDescription("Description");
  filterDef.setDisplayName("DisplayName");
  filterDef.setLargeIcon("LargeIcon");
  filterDef.setSmallIcon("SmallIcon");
  filterDef.setAsyncSupported("true");
  webxml.addFilter(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.addURLPattern("/param1");
  filterMap.setFilterName("paramFilter");
  webxml.addFilterMapping(filterMap);
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals(filterDef,fdef);
  assertEquals("tomcat",fdef.getParameterMap().get("message"));
  Set<FilterMap> filterMappings=webxml.getFilterMappings();
  assertTrue(filterMappings.contains(filterMap));
  String[] urlPatterns=filterMap.getURLPatterns();
  assertNotNull(urlPatterns);
  assertEquals(1,urlPatterns.length);
  assertEquals("/param1",urlPatterns[0]);
  assertEquals("Description",fdef.getDescription());
  assertEquals("DisplayName",fdef.getDisplayName());
  assertEquals("LargeIcon",fdef.getLargeIcon());
  assertEquals("SmallIcon",fdef.getSmallIcon());
  assertEquals("true",fdef.getAsyncSupported());
  String[] dis=filterMap.getDispatcherNames();
  assertEquals(2,dis.length);
  assertEquals(DispatcherType.ERROR.toString(),dis[0]);
  assertEquals(DispatcherType.ASYNC.toString(),dis[1]);
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamServlet");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNull(servletDef);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestHostConfigAutomaticDeployment </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetContextClassName() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Host host=tomcat.getHost();
  if (host instanceof StandardHost) {
    StandardHost standardHost=(StandardHost)host;
    standardHost.setContextClass(TesterContext.class.getName());
  }
  File war=new File(getAppBaseFile(host),APP_NAME.getBaseName() + ".war");
  copy(WAR_XML_SOURCE,war);
  tomcat.start();
  host.backgroundProcess();
  Context ctxt=(Context)host.findChild(APP_NAME.getName());
  Assert.assertTrue(ctxt instanceof TesterContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestListener </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Check that a {@link ServletContextListener} cannot install a{@link javax.servlet.ServletContainerInitializer}.
 * @throws Exception
 */
@Test public void testServletContextListener() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context context=tomcat.addContext("",null);
  context.addApplicationListener(SCL2.class.getName());
  tomcat.start();
  assertFalse(SCL3.initialized);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Check that a ServletContainerInitializer can install a{@link ServletContextListener} and that it gets initialized.
 * @throws Exception
 */
@Test public void testServletContainerInitializer() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context context=tomcat.addContext("",null);
  context.addServletContainerInitializer(new SCI(),null);
  tomcat.start();
  assertTrue(SCL.initialized);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestTomcat </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testJsps() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/examples/jsp/jsp2/el/basic-arithmetic.jsp");
  String text=res.toString();
  assertTrue(text,text.indexOf("<td>${(1==2) ? 3 : 4}</td>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSingleWebapp() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  String text=res.toString();
  assertTrue(text,text.indexOf("<h1>Hello World!</h1>") > 0);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for https://bz.apache.org/bugzilla/show_bug.cgi?id=47866
 */
@Test public void testGetResource() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"testGetResource",new GetResource());
  ctx.addServletMapping("/testGetResource","testGetResource");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/testGetResource",res,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(res.toString().contains("<?xml version=\"1.0\" "));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestWebRuleSet </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebFragmentXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-fragment-1ordering.xml",true,true);
  assertEquals(1,webXml.getBeforeOrdering().size());
  assertTrue(webXml.getBeforeOrdering().contains("bar"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-1ordering.xml",false,true);
  assertEquals(1,webXml.getAbsoluteOrdering().size());
  assertTrue(webXml.getAbsoluteOrdering().contains("bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.TestGroupChannelOptionFlag </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testOptionConflict() throws Exception {
  boolean error=false;
  channel.setOptionCheck(true);
  ChannelInterceptor i=new TestInterceptor();
  i.setOptionFlag(128);
  channel.addInterceptor(i);
  i=new TestInterceptor();
  i.setOptionFlag(128);
  channel.addInterceptor(i);
  try {
    channel.start(Channel.DEFAULT);
  }
 catch (  ChannelException x) {
    if (x.getMessage().indexOf("option flag conflict") >= 0)     error=true;
  }
  assertTrue(error);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testOptionNoConflict() throws Exception {
  boolean error=false;
  channel.setOptionCheck(true);
  ChannelInterceptor i=new TestInterceptor();
  i.setOptionFlag(128);
  channel.addInterceptor(i);
  i=new TestInterceptor();
  i.setOptionFlag(64);
  channel.addInterceptor(i);
  i=new TestInterceptor();
  i.setOptionFlag(256);
  channel.addInterceptor(i);
  try {
    channel.start(Channel.DEFAULT);
  }
 catch (  ChannelException x) {
    if (x.getMessage().indexOf("option flag conflict") >= 0)     error=true;
  }
  assertFalse(error);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestOrderInterceptor </h4><pre class="type-8 type-10 type-12 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrder2() throws Exception {
  final Member[] dest=channels[0].getMembers();
  final AtomicInteger value=new AtomicInteger(0);
  final Queue<Exception> exceptionQueue=new ConcurrentLinkedQueue<Exception>();
  Runnable run=new Runnable(){
    @Override public void run(){
      for (int i=0; i < 100; i++) {
        try {
synchronized (channels[0]) {
            channels[0].send(dest,Integer.valueOf(value.getAndAdd(1)),0);
          }
        }
 catch (        Exception x) {
          exceptionQueue.add(x);
        }
      }
    }
  }
;
  Thread[] threads=new Thread[5];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  if (!exceptionQueue.isEmpty()) {
    fail("Exception while sending in threads: " + exceptionQueue.remove().toString());
  }
  Thread.sleep(5000);
  for (int i=0; i < test.length; i++) {
    assertFalse(test[i].fail);
  }
}

</code></pre>

<br>
<pre class="type-8 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testOrder1() throws Exception {
  Member[] dest=channels[0].getMembers();
  final AtomicInteger value=new AtomicInteger(0);
  for (int i=0; i < 100; i++) {
    channels[0].send(dest,Integer.valueOf(value.getAndAdd(1)),0);
  }
  Thread.sleep(5000);
  for (int i=0; i < test.length; i++) {
    assertFalse(test[i].fail);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.io.TestXByteBuffer </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializationString() throws Exception {
  String test="This is as test.";
  byte[] msg=XByteBuffer.serialize(test);
  Object obj=XByteBuffer.deserialize(msg);
  assertTrue(obj instanceof String);
  assertEquals(test,obj);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.membership.TestMemberImplSerialization </h4><pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSerializationOne() throws Exception {
  MemberImpl m=m1;
  byte[] md1=m.getData(false,true);
  byte[] mda1=m.getData(false,false);
  assertTrue(Arrays.equals(md1,mda1));
  assertTrue(md1 == mda1);
  mda1=m.getData(true,true);
  MemberImpl ma1=MemberImpl.getMember(mda1);
  assertTrue(compareMembers(m,ma1));
  mda1=p1.getData(false);
  assertFalse(Arrays.equals(md1,mda1));
  ma1=MemberImpl.getMember(mda1);
  assertTrue(compareMembers(p1,ma1));
  md1=m.getData(true,true);
  Thread.sleep(50);
  mda1=m.getData(true,true);
  MemberImpl a1=MemberImpl.getMember(md1);
  MemberImpl a2=MemberImpl.getMember(mda1);
  assertTrue(a1.equals(a2));
  assertFalse(Arrays.equals(md1,mda1));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testUdpPort() throws Exception {
  byte[] md1=m1.getData();
  byte[] md2=m2.getData();
  MemberImpl a1=MemberImpl.getMember(md1);
  MemberImpl a2=MemberImpl.getMember(md2);
  assertTrue(a1.getUdpPort() == a2.getUdpPort());
  assertTrue(a1.getUdpPort() == udpPort);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCompare() throws Exception {
  assertTrue(m1.equals(m2));
  assertTrue(m2.equals(m1));
  assertTrue(p1.equals(m2));
  assertFalse(m1.equals(p2));
  assertFalse(m1.equals(p2));
  assertFalse(m2.equals(p2));
  assertFalse(p1.equals(p2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.util.TestRequestUtil </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testURLDecodeStringInvalid(){
  Exception exception=null;
  try {
    RequestUtil.URLDecode("%5xxxxx");
  }
 catch (  Exception e) {
    exception=e;
  }
  assertTrue(exception instanceof IllegalArgumentException);
  exception=null;
  try {
    RequestUtil.URLDecode("%5");
  }
 catch (  Exception e) {
    exception=e;
  }
  assertTrue(exception instanceof IllegalArgumentException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestErrorReportValve </h4><pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Custom error/status codes should not result in a blank response.
 */
@Test public void testBug54536() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54536",new Bug54536Servlet());
  ctx.addServletMapping("/","bug54536");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertEquals(Bug54536Servlet.ERROR_STATUS,rc);
  String body=res.toString();
  Assert.assertNotNull(body);
  Assert.assertTrue(body,body.contains(Bug54536Servlet.ERROR_MESSAGE));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBug53071() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"errorServlet",new ErrorServlet());
  ctx.addServletMapping("/","errorServlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort());
  Assert.assertTrue(res.toString().contains("<p><b>message</b> <u>" + ErrorServlet.ERROR_TEXT + "</u></p>"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestRemoteIpValve </h4><pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpsForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("https");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says https","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says https",443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto says https",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("http");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says http","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says http",80,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto says http",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8080,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestStuckThreadDetectionValve </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInterruption() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(TimeUnit.SECONDS.toMillis(20L));
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  valve.setInterruptThreadThreshold(5);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(4000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertTrue(stuckingServlet.wasInterrupted);
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetection() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(8000L);
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(500L);
    Assert.assertEquals(0,valve.getStuckThreadIds().length);
    Thread.sleep(5000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertFalse(stuckingServlet.wasInterrupted);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.websocket.TestWebSocket </h4><pre class="type-3 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values related to public fields.
"></span><br>
@Test public void testNoUpgrade() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 404"));
  client.close();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53339() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug53339",new Bug53339Servlet());
  ctx.addServletMapping("/*","Bug53339");
  ContextEnvironment env=new ContextEnvironment();
  env.setName(Bug53339WsInbound.JNDI_NAME);
  env.setType(String.class.getName());
  env.setValue(Bug53339WsInbound.TEST_MESSAGE);
  ctx.getNamingResources().addEnvironment(env);
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET / HTTP/1.1" + CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  String msg=client.readMessage();
  assertEquals(Bug53339WsInbound.TEST_MESSAGE,msg);
  client.close();
}

</code></pre>

<br>
<pre class="type-3 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values related to public fields.
"></span><br>
@Test public void testNoConnection() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 400"));
  client.close();
}

</code></pre>

<br>
<pre class="type-3 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values related to public fields.
"></span><br>
@Test public void testDetectWrongVersion() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 8" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 426"));
  List<String> headerlines=new ArrayList<String>();
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    headerlines.add(responseHeaderLine);
    responseHeaderLine=client.reader.readLine();
  }
  assertTrue(headerlines.contains("Sec-WebSocket-Version: 13"));
  client.close();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKey() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String accept=null;
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    if (responseHeaderLine.startsWith("Sec-WebSocket-Accept: ")) {
      accept=responseHeaderLine.substring(responseHeaderLine.indexOf(':') + 2);
      break;
    }
    responseHeaderLine=client.reader.readLine();
  }
  assertTrue(accept != null);
  MessageDigest sha1Helper=MessageDigest.getInstance("SHA1");
  sha1Helper.reset();
  sha1Helper.update("TODO".getBytes(B2CConverter.ISO_8859_1));
  String source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertEquals(source,accept);
  sha1Helper.reset();
  sha1Helper.update("TOD".getBytes(B2CConverter.ISO_8859_1));
  source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertFalse(source.equals(accept));
  client.close();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: keep-alive, upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  client.sendMessage("foo",false);
  client.sendMessage("foo",true);
  assertEquals("foofoo",client.readMessage());
  client.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.ajp.TestAbstractAjpProcessor </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLargeResponse() throws Exception {
  int ajpPacketSize=16000;
  Tomcat tomcat=getTomcatInstance();
  tomcat.getConnector().setProperty("packetSize",Integer.toString(ajpPacketSize));
  Context ctx=tomcat.addContext("",null);
  FixedResponseSizeServlet servlet=new FixedResponseSizeServlet(15000,16000);
  Tomcat.addServlet(ctx,"FixedResponseSizeServlet",servlet);
  ctx.addServletMapping("/","FixedResponseSizeServlet");
  tomcat.start();
  SimpleAjpClient ajpClient=new SimpleAjpClient(ajpPacketSize);
  ajpClient.setPort(getPort());
  ajpClient.connect();
  validateCpong(ajpClient.cping());
  ajpClient.setUri("/");
  TesterAjpMessage forwardMessage=ajpClient.createForwardMessage();
  forwardMessage.end();
  TesterAjpMessage responseHeaders=ajpClient.sendMessage(forwardMessage);
  validateResponseHeaders(responseHeaders,200,"OK");
  TesterAjpMessage responseBody=ajpClient.readMessage();
  Assert.assertTrue(responseBody.len > 15000);
  validateResponseEnd(ajpClient.readMessage(),true);
  validateCpong(ajpClient.cping());
  ajpClient.disconnect();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestAbstractHttp11Processor </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithTEIdentity() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: identity"+ SimpleHttpClient.CRLF+ "Content-Length: 9"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ "Connection: close"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "test=data";
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertTrue(client.getResponseBody().contains("test - data"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoChunking11NoContentLengthConnectionClose() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthConnectionCloseFlushingServlet",new NoContentLengthConnectionCloseFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthConnectionCloseFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Connection"));
  List<String> connections=responseHeaders.get("Connection");
  assertEquals(1,connections.size());
  assertEquals("close",connections.get(0));
  assertFalse(responseHeaders.containsKey("Transfer-Encoding"));
  assertEquals("OK",responseBody.toString());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithTEBuffered() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: buffered"+ SimpleHttpClient.CRLF+ "Content-Length: 9"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "test=data";
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse501());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithUnknownExpectation() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Expect: unknoen"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF;
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse417());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithTEVoid() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: void"+ SimpleHttpClient.CRLF+ "Content-Length: 9"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "test=data";
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse501());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithTEUnsupported() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: unsupported"+ SimpleHttpClient.CRLF+ "Content-Length: 9"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "test=data";
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse501());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWithTESavedRequest() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: savedrequest"+ SimpleHttpClient.CRLF+ "Content-Length: 9"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "test=data";
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse501());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testResponseWithErrorChunked() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"ChunkedResponseWithErrorServlet",new ResponseWithErrorServlet(true));
  ctxt.addServletMapping("/*","ChunkedResponseWithErrorServlet");
  tomcat.start();
  String request="GET /anything HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF;
  Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertFalse(client.getResponseBody().endsWith("0"));
  assertTrue(client.getResponseBody().endsWith("line03"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChunking11NoContentLength() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthFlushingServlet",new NoContentLengthFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Transfer-Encoding"));
  List<String> encodings=responseHeaders.get("Transfer-Encoding");
  assertEquals(1,encodings.size());
  assertEquals("chunked",encodings.get(0));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug57621() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",System.getProperty("java.io.tmpdir"));
  Wrapper w=Tomcat.addServlet(root,"Bug57621",new Bug57621Servlet());
  w.setAsyncSupported(true);
  root.addServletMapping("/test","Bug57621");
  tomcat.start();
  Bug57621Client client=new Bug57621Client();
  client.setPort(tomcat.getConnector().getLocalPort());
  client.setUseContentLength(true);
  client.connect();
  client.doRequest();
  assertTrue(client.getResponseLine(),client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.resetResponse();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
  client.disconnect();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"TesterServlet",new TesterServlet());
  ctxt.addServletMapping("/foo","TesterServlet");
  tomcat.start();
  String requestPart1="GET /foo HTTP/1.1" + SimpleHttpClient.CRLF;
  String requestPart2="Host: any" + SimpleHttpClient.CRLF + SimpleHttpClient.CRLF;
  final Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{requestPart1,requestPart2});
  client.setRequestPause(1000);
  client.setUseContentLength(true);
  client.connect();
  Runnable send=new Runnable(){
    @Override public void run(){
      try {
        client.sendRequest();
        client.sendRequest();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
;
  Thread t=new Thread(send);
  t.start();
  Thread.sleep(1500);
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestGzipOutputFilter </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * Test the interaction betwen gzip and flushing. The idea is to: 1. create
 * a internal output buffer, response, and attach an active gzipoutputfilter
 * to the output buffer 2. set the output stream of the internal buffer to
 * be a ByteArrayOutputStream so we can inspect the output bytes 3. write a
 * chunk out using the gzipoutputfilter and invoke a flush on the
 * InternalOutputBuffer 4. read from the ByteArrayOutputStream to find out
 * what's being written out (flushed) 5. find out what's expected by wrting
 * to GZIPOutputStream and close it (to force flushing) 6. Compare the size
 * of the two arrays, they should be close (instead of one being much
 * shorter than the other one)
 * @throws Exception
 */
@Test public void testFlushingWithGzip() throws Exception {
  Response res=new Response();
  InternalOutputBuffer iob=new InternalOutputBuffer(res,8 * 1024);
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  iob.outputStream=bos;
  res.setOutputBuffer(iob);
  GzipOutputFilter gf=new GzipOutputFilter();
  iob.addFilter(gf);
  iob.addActiveFilter(gf);
  ByteChunk chunk=new ByteChunk(1024);
  byte[] d="Hello there tomcat developers, there is a bug in JDK".getBytes();
  chunk.append(d,0,d.length);
  iob.doWrite(chunk,res);
  iob.flush();
  byte[] dataFound=bos.toByteArray();
  ByteArrayOutputStream gbos=new ByteArrayOutputStream(1024);
  GZIPOutputStream gos=new GZIPOutputStream(gbos);
  gos.write(d);
  gos.close();
  byte[] dataExpected=gbos.toByteArray();
  assertTrue(dataFound.length >= (dataExpected.length - 20));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestInternalInputBuffer </h4><pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=54947
 */
@Test public void testBug54947(){
  Bug54947Client client=new Bug54947Client();
  client.doRequest();
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=48839
 */
@Test public void testBug48839(){
  Bug48839Client client=new Bug48839Client();
  client.doRequest();
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test case for new lines at the start of a request. RFC2616
 * does not permit any, but Tomcat is tolerant of them if they are present.
 */
@Test public void testNewLines(){
  NewLinesClient client=new NewLinesClient(10);
  client.doRequest();
  assertTrue(client.isResponse200());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test case for new lines at the start of a request. RFC2616
 * does not permit any, but Tomcat is tolerant of them if they are present.
 */
@Test public void testNewLinesExcessive(){
  NewLinesClient client=new NewLinesClient(10000);
  Exception e=client.doRequest();
  if (e == null) {
    assertTrue(client.isResponse400());
  }
  assertFalse(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryStart(){
  Bug51557Client client=new Bug51557Client("=X-Bug51557","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557NoColon(){
  Bug51557Client client=new Bug51557Client("X-Bug51557NoColon");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557Continuation(){
  Bug51557Client client=new Bug51557Client("X-Bug=51557NoColon","foo" + SimpleHttpClient.CRLF + " bar");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryEnd(){
  Bug51557Client client=new Bug51557Client("X-Bug51557=","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.filters.TestChunkedInputFilter </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTrailingHeadersSizeLimit() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new EchoHeaderServlet(false));
  ctx.addServletMapping("/","servlet");
  tomcat.getConnector().setProperty("maxTrailerSize","10");
  tomcat.start();
  String[] request=new String[]{"POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: chunked"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ "Connection: close"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "3"+ SimpleHttpClient.CRLF+ "a=0"+ SimpleHttpClient.CRLF+ "4"+ SimpleHttpClient.CRLF+ "&b=1"+ SimpleHttpClient.CRLF+ "0"+ SimpleHttpClient.CRLF+ "x-trailer: Test"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF};
  TrailerClient client=new TrailerClient(tomcat.getConnector().getLocalPort());
  client.setRequest(request);
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse500());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestELEvaluation </h4><pre class="type-12 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testElSupportCompare(){
  compareBoth("Nulls should compare equal",0,null,null);
  compareBoth("Null should compare equal to \"\"",0,"",null);
  compareBoth("Null should be less than File()",-1,null,new File(""));
  compareBoth("Null should be less than Date()",-1,null,new Date());
  compareBoth("Date(0) should be less than Date(1)",-1,new Date(0),new Date(1));
  try {
    compareBoth("Should not compare",0,new Date(),new File(""));
    fail("Expecting ClassCastException");
  }
 catch (  ClassCastException expected) {
  }
  assertTrue(null == null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestELInJsp </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug56612() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56612.jsp");
  String result=res.toString();
  Assert.assertTrue(result.contains("00-''"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug56029() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56029.jspx");
  String result=res.toString();
  Assert.assertTrue(result.contains("[1]:[1]"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestMethodExpressionImpl </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsParametersProvided(){
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  ValueExpression var=factory.createValueExpression(beanB,TesterBeanB.class);
  context.getVariableMapper().setVariable("beanB",var);
  MethodExpression me1=factory.createMethodExpression(context,"${beanB.getName}",String.class,new Class<?>[]{});
  MethodExpression me2=factory.createMethodExpression(context,"${beanB.sayHello('JUnit')}",String.class,new Class<?>[]{String.class});
  assertFalse(me1.isParmetersProvided());
  assertTrue(me2.isParmetersProvided());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.lang.TestELSupport </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCoerceToType14(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorNoError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEquals(){
  assertTrue(ELSupport.equals("01",Long.valueOf(1)));
}

</code></pre>

<br>
<pre class="type-3 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ELException.class) public void testCoerceToType15(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestCompiler </h4><pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug55807() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ((StandardJarScanner)context.getJarScanner()).setScanAllDirectories(true);
  tomcat.start();
  ByteChunk res=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug55807.jsp",res,headers);
  String result=res.toString();
  assertEcho(result,"OK");
  Assert.assertTrue(result.contains("<p>DependenciesCount: 1</p>"));
  File tld=new File("test/webapp-3.0/WEB-INF/classes/META-INF/bug55807.tld");
  String expected="/WEB-INF/classes/META-INF/bug55807.tld : " + tld.lastModified() + "</p>";
  Assert.assertTrue(result.contains(expected));
  Assert.assertTrue(headers.get("Content-Type").get(0).startsWith("text/html"));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBug49726a() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49726a.jsp",res,headers);
  String result=res.toString();
  assertEcho(result,"OK");
  assertTrue(headers.get("Content-Type").get(0).startsWith("text/html"));
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBug49726b() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49726b.jsp",res,headers);
  String result=res.toString();
  assertEcho(result,"OK");
  assertTrue(headers.get("Content-Type").get(0).startsWith("text/plain"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestELInterpreterFactory </h4><pre class="type-4 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54239() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ServletContext context=ctx.getServletContext();
  ELInterpreter interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof DefaultELInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  context.setAttribute(ELInterpreter.class.getName(),SimpleELInterpreter.class.getName());
  interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  SimpleELInterpreter simpleInterpreter=new SimpleELInterpreter();
  context.setAttribute(ELInterpreter.class.getName(),simpleInterpreter);
  interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
  Assert.assertTrue(interpreter == simpleInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  ctx.stop();
  ctx.addApplicationListener(Bug54239Listener.class.getName());
  ctx.start();
  interpreter=ELInterpreterFactory.getELInterpreter(ctx.getServletContext());
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestGenerator </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug56529() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56529.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String response=bc.toStringInternal();
  Assert.assertTrue(response,response.contains("[1:attribute1: '', attribute2: '']"));
  Assert.assertTrue(response,response.contains("[2:attribute1: '', attribute2: '']"));
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug56581() throws LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  try {
    getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56581.jsp",res,null);
    Assert.fail("An IOException was expected.");
  }
 catch (  IOException expected) {
  }
  String result=res.toString();
  assertTrue(result.startsWith("0 Hello world!\n"));
  assertTrue(result.endsWith("999 Hello world!\n"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestJspConfig </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testServlet23NoEL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.3");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/el-as-literal.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-${'hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>01-#{'hello world'}</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testServlet24NoEL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.4");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/el-as-literal.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>01-#{'hello world'}</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testServlet25NoEL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.5");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/el-as-literal.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testServlet30NoEL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/el-as-literal.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestJspReader </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBug53986() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/bug5nnnn/bug53986.jsp");
  Assert.assertTrue(res.toString().contains("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestNodeIntegration </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testJspAttributeIsLiteral() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/bug5nnnn/bug55642a.jsp");
  String result=res.toString();
  Assert.assertTrue(result.indexOf("/bug5nnnn/bug55642b.jsp?foo=bar&a=1&b=2") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestParser </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug56334And56561() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56334and56561.jspx");
  String result=res.toString();
  Assert.assertTrue(result,result.contains("01a\\?resize01a"));
  Assert.assertTrue(result,result.contains("01b\\\\x\\?resize01b"));
  Assert.assertTrue(result,result.contains("<set data-value=\"02a\\\\?resize02a\"/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"02b\\\\\\\\x\\\\?resize02b\"/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"03a\\?resize03a\"/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"03b\\\\x\\?resize03b\"/>"));
  Assert.assertTrue(result,result.contains("<04a\\?resize04a/>"));
  Assert.assertTrue(result,result.contains("<04b\\\\x\\?resize04b/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"05a$${&amp;\"/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"05b$${&amp;2\"/>"));
  Assert.assertTrue(result,result.contains("<set data-value=\"05c##{&gt;hello&lt;\"/>"));
  Assert.assertTrue(result,result.contains("05x:<set data-value=\"\"/>"));
  Assert.assertTrue(result,result.contains("<set xmlns:foo=\"urn:06a\\bar\\baz\"/>"));
  Assert.assertTrue(result,result.contains("07a:<set data-value=\"\\?resize\"/>"));
  Assert.assertTrue(result,result.contains("07b:<set data-content=\"\\?resize=.+\"/>"));
  Assert.assertTrue(result,result.contains("07c:<set data-content=\"\\?resize=.+\"/>"));
  Assert.assertTrue(result,result.contains("07d:<set data-content=\"false\"/>"));
  Assert.assertTrue(result,result.contains("07e:<set data-content=\"false\"/>"));
  Assert.assertTrue(result,result.contains("07f:<set data-content=\"\\\'something\'\"/>"));
  Assert.assertTrue(result,result.contains("07g:<set data-content=\"\\\'something\'\"/>"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug56265() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56265.jsp");
  String result=res.toString();
  Assert.assertTrue(result,result.contains("[1: [data-test]: [window.alert('Hello World <&>!')]]"));
  Assert.assertTrue(result,result.contains("[2: [data-test]: [window.alert('Hello World <&>!')]]"));
  Assert.assertTrue(result,result.contains("[3: [data-test]: [window.alert('Hello 'World <&>'!')]]"));
  Assert.assertTrue(result,result.contains("[4: [data-test]: [window.alert('Hello 'World <&>'!')]]"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug55198() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug55198.jsp");
  String result=res.toString();
  Assert.assertTrue(result,result.contains("&quot;1foo1&lt;&amp;&gt;&quot;") || result.contains("&#034;1foo1&lt;&amp;&gt;&#034;"));
  Assert.assertTrue(result,result.contains("&quot;2bar2&lt;&amp;&gt;&quot;") || result.contains("&#034;2bar2&lt;&amp;&gt;&#034;"));
  Assert.assertTrue(result,result.contains("&quot;3a&amp;b3&quot;") || result.contains("&#034;3a&amp;b3&#034;"));
  Assert.assertTrue(result,result.contains("&quot;4&4&quot;") || result.contains("&#034;4&4&#034;"));
  Assert.assertTrue(result,result.contains("&quot;5&apos;5&quot;") || result.contains("&#034;5&apos;5&#034;"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestTagPluginManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54240() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ServletContext context=ctx.getServletContext();
  TagPluginManager manager=new TagPluginManager(context);
  Node.Nodes nodes=new Node.Nodes();
  Node.CustomTag c=new Node.CustomTag("test:ATag","test","ATag","http://tomcat.apache.org/jasper",null,null,null,null,null,new TagFileInfo("ATag","http://tomcat.apache.org/jasper",tagInfo));
  c.setTagHandlerClass(TesterTag.class);
  nodes.add(c);
  manager.apply(nodes,null,null);
  Node n=nodes.getNode(0);
  Assert.assertNotNull(n);
  Assert.assertTrue(n instanceof Node.CustomTag);
  Node.CustomTag t=(Node.CustomTag)n;
  Assert.assertNotNull(t.getAtSTag());
  Node.Nodes sTag=c.getAtSTag();
  Node scriptlet=sTag.getNode(0);
  Assert.assertNotNull(scriptlet);
  Assert.assertTrue(scriptlet instanceof Node.Scriptlet);
  Node.Scriptlet s=(Node.Scriptlet)scriptlet;
  Assert.assertEquals("//Just a comment",s.getText());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestValidator </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTldVersions25() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.5");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/tld-versions.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'01-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>02-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'03-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>04-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'05-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>06-hello world</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTldVersions23() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.3");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/tld-versions.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>${'00-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>#{'01-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>${'02-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>#{'03-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>${'04-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>#{'05-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>${'06-hello world'}</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTldVersions24() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-2.4");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/tld-versions.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'01-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>02-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'03-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>04-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'05-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>06-hello world</p>") > 0);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTldVersions30() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/tld-versions.jsp");
  String result=res.toString();
  assertTrue(result.indexOf("<p>00-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'01-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>02-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'03-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>04-hello world</p>") > 0);
  assertTrue(result.indexOf("<p>#{'05-hello world'}</p>") > 0);
  assertTrue(result.indexOf("<p>06-hello world</p>") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestCustomHttpJspPage </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomBasePageWhenUsingTagFiles() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58444.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("00-PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspContextWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testELTagFilePageContext() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58178.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspWriterImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug54241a() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54241a.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("01: null"));
  Assert.assertTrue(body.contains("02: null"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestPageContextImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoForward() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53545.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAIL"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncludeThrowsIOException() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
  res=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp?flush=true",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  body=res.toString();
  Assert.assertTrue(body.contains("Flush"));
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDefaultBufferSize() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"bug56010",new Bug56010());
  ctx.addServletMapping("/bug56010","bug56010");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/test/bug56010");
  String result=res.toString();
  Assert.assertTrue(result.contains("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juli.TestClassLoaderLogManager </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug56082(){
  ClassLoaderLogManager logManager=new ClassLoaderLogManager();
  LoggerCreateThread[] createThreads=new LoggerCreateThread[10];
  for (int i=0; i < createThreads.length; i++) {
    createThreads[i]=new LoggerCreateThread(logManager);
    createThreads[i].setName("LoggerCreate-" + i);
    createThreads[i].start();
  }
  LoggerListThread listThread=new LoggerListThread(logManager);
  listThread.setName("LoggerList");
  listThread.start();
  try {
    listThread.join(2000);
  }
 catch (  InterruptedException e) {
  }
  for (int i=0; i < createThreads.length; i++) {
    createThreads[i].setRunning(false);
  }
  Assert.assertTrue(listThread.isRunning());
  listThread.setRunning(false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.naming.resources.TestNamingContext </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53465() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  File appDir=new File("test/webapp-3.0");
  org.apache.catalina.Context ctxt=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53465.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("<p>10</p>"));
  ContextEnvironment ce=ctxt.getNamingResources().findEnvironment("bug53465");
  Assert.assertEquals("Bug53465MappedName",ce.getProperty("mappedName"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52830() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  ContextEnvironment env=new ContextEnvironment();
  env.setName("boolean");
  env.setType(Boolean.class.getName());
  env.setValue("true");
  ctx.getNamingResources().addEnvironment(env);
  Bug52830Servlet bug52830Servlet=new Bug52830Servlet();
  Tomcat.addServlet(ctx,"bug52830Servlet",bug52830Servlet);
  ctx.addServletMapping("/","bug52830Servlet");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("truetrue"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String foxText="The quick brown fox jumps over the lazy dog";
  String loremIpsum="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
  File tmpDir=new File(getTemporaryDirectory(),"tomcat-unit-test." + TestNamingContext.class.getName());
  ExpandWar.delete(tmpDir);
  File docBase=new File(tmpDir,"docBase");
  File alternate1=new File(tmpDir,"alternate1");
  File alternate2=new File(tmpDir,"alternate2");
  addDeleteOnTearDown(tmpDir);
  if (!tmpDir.mkdirs())   throw new IOException("Could not create temp directory " + tmpDir);
  if (!docBase.mkdir())   throw new IOException("Could not create temp directory " + docBase);
  if (!alternate1.mkdir())   throw new IOException("Could not create temp directory " + alternate1);
  if (!alternate2.mkdir())   throw new IOException("Could not create temp directory " + alternate2);
  FileOutputStream fos=new FileOutputStream(new File(alternate1,"test1.txt"));
  try {
    fos.write(foxText.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  fos=new FileOutputStream(new File(alternate2,"test2.txt"));
  try {
    fos.write(loremIpsum.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  FileDirContext ctx=new FileDirContext();
  ctx.setDocBase(docBase.getCanonicalPath());
  ctx.setAliases("/a1=" + alternate1.getCanonicalPath() + ",/a2="+ alternate2.getCanonicalPath());
  Object file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  byte[] buffer=new byte[4096];
  Resource res=(Resource)file;
  InputStream is=res.streamContent();
  int len;
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  String contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
  ctx.setAliases("   /a1= " + alternate1.getCanonicalPath() + "\n\n"+ ", /a2 =\n"+ alternate2.getCanonicalPath()+ ",");
  file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.AbandonPercentageTest </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHalfway() throws Exception {
  int size=100;
  this.datasource.setMaxActive(size);
  this.datasource.setMaxIdle(size);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(50);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(500);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Connection[] con=new Connection[size];
  con[0]=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  for (int i=1; i < 25; i++) {
    con[i]=datasource.getConnection();
  }
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  for (int i=25; i < con.length; i++) {
    con[i]=datasource.getConnection();
  }
  int active=datasource.getPool().getActive();
  System.out.println("Active:" + active);
  Assert.assertEquals("Number of connections active/busy should be " + con.length,con.length,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Thread.sleep(2500);
  Assert.assertTrue("Number of connections should be less than 50.",(datasource.getPool().getActive() < 50));
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be " + 0,0,datasource.getPool().getActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.BorrowWaitTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testWaitTime() throws Exception {
  int wait=10000;
  this.datasource.setMaxActive(1);
  this.datasource.setMaxWait(wait);
  Connection con=datasource.getConnection();
  long start=System.currentTimeMillis();
  try {
    Connection con2=datasource.getConnection();
    Assert.assertFalse("This should not happen, connection should be unavailable.",true);
    con2.close();
  }
 catch (  SQLException x) {
    long delta=System.currentTimeMillis() - start;
    boolean inrange=Math.abs(wait - delta) <= 1000;
    Assert.assertTrue("Connection should have been acquired within +/- 1 second, but was " + (wait - delta) + " ms.",inrange);
  }
  con.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.EqualsHashCodeTest </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode() throws Exception {
  Connection con1=datasource.getConnection();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  con1.close();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  Connection con2=datasource.getConnection();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
  Assert.assertTrue(con1.hashCode() != con2.hashCode());
  con2.close();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.JmxPasswordTest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassword() throws Exception {
  Assert.assertEquals("Passwords should match when not using JMX.",password,datasource.getPoolProperties().getPassword());
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  ConnectionPoolMBean mbean=JMX.newMBeanProxy(mbs,oname,ConnectionPoolMBean.class);
  String jmxPassword=mbean.getPassword();
  Properties jmxProperties=mbean.getDbProperties();
  Assert.assertFalse("Passwords should not match.",password.equals(jmxPassword));
  Assert.assertFalse("Password property should be missing",jmxProperties.containsKey(PoolUtilities.PROP_PASSWORD));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.MultipleCloseTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testClosedConnectionsNotReused() throws Exception {
  this.init();
  Connection con1=datasource.getConnection();
  Assert.assertFalse(con1.isClosed());
  con1.close();
  Assert.assertTrue(con1.isClosed());
  datasource.getConnection();
  Assert.assertTrue(con1.isClosed());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.StarvationTest </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFairConnectionStarvation() throws Exception {
  init();
  config();
  datasource.getPoolProperties().setFairQueue(true);
  Connection con1=datasource.getConnection();
  Connection con2=null;
  try {
    con2=datasource.getConnection();
    try {
      con2.setCatalog("mysql");
    }
 catch (    SQLException x) {
      Assert.assertFalse("2nd Connection is not valid:" + x.getMessage(),true);
    }
    Assert.assertTrue("Connection 1 should be closed.",con1.isClosed());
  }
 catch (  Exception x) {
    Assert.assertFalse("Connection got starved:" + x.getMessage(),true);
  }
 finally {
    if (con2 != null)     con2.close();
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testConnectionStarvation() throws Exception {
  config();
  Connection con1=datasource.getConnection();
  Connection con2=null;
  try {
    con2=datasource.getConnection();
    try {
      con2.setCatalog("mysql");
    }
 catch (    SQLException x) {
      Assert.assertFalse("2nd Connection is not valid:" + x.getMessage(),true);
    }
    Assert.assertTrue("Connection 1 should be closed.",con1.isClosed());
  }
 catch (  Exception x) {
    Assert.assertFalse("Connection got starved:" + x.getMessage(),true);
  }
 finally {
    if (con2 != null)     con2.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.StatementFinalizerTest </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testStatementFinalization() throws Exception {
  datasource.setJdbcInterceptors(StatementFinalizer.class.getName());
  Connection con=datasource.getConnection();
  Statement st=con.createStatement();
  Assert.assertFalse("Statement should not be closed.",st.isClosed());
  con.close();
  Assert.assertTrue("Statement should be closed.",st.isClosed());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestAsyncQueue </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncPoll2() throws Exception {
  Object item=new Object();
  OfferThread thread=new OfferThread(item,5000);
  thread.start();
  Future future=queue.pollAsync();
  try {
    future.get(2000,TimeUnit.MILLISECONDS);
    Assert.assertFalse("Request should have timed out",true);
  }
 catch (  TimeoutException x) {
    Assert.assertTrue("Request timed out properly",true);
  }
catch (  Exception x) {
    Assert.assertTrue("Request threw an error",false);
    x.printStackTrace();
  }
  Assert.assertEquals(future.get(),item);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestConcurrency </h4><pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutalNonFair() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  ds.getConnection().close();
  final int iter=1000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          Thread.sleep(10);
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      if (debug) {
        System.out.println("Size: " + ds.getPool().getSize());
        System.out.println("Used: " + ds.getPool().getActive());
        System.out.println("Idle: " + ds.getPool().getIdle());
        System.out.println("Wait: " + ds.getPool().getWaitCount());
      }
      Thread.sleep(250);
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutal() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestConnectionState </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAutoCommitTrue() throws Exception {
  DataSourceProxy d1=this.createDefaultDataSource();
  d1.setMaxActive(1);
  d1.setJdbcInterceptors(ConnectionState.class.getName());
  d1.setDefaultAutoCommit(Boolean.TRUE);
  d1.setMinIdle(1);
  Connection c1=d1.getConnection();
  Assert.assertTrue("Auto commit should be true",c1.getAutoCommit());
  c1.setAutoCommit(false);
  Assert.assertFalse("Auto commit should be false",c1.getAutoCommit());
  c1.close();
  c1=d1.getConnection();
  Assert.assertTrue("Auto commit should be true for a reused connection",c1.getAutoCommit());
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAutoCommitFalse() throws Exception {
  DataSourceProxy d1=this.createDefaultDataSource();
  d1.setMaxActive(1);
  d1.setMinIdle(1);
  d1.setMaxIdle(1);
  d1.setJdbcInterceptors(ConnectionState.class.getName());
  d1.setDefaultAutoCommit(Boolean.FALSE);
  Connection c1=d1.getConnection();
  Assert.assertFalse("Auto commit should be false",c1.getAutoCommit());
  c1.setAutoCommit(true);
  Assert.assertTrue("Auto commit should be true",c1.getAutoCommit());
  c1.close();
  c1=d1.getConnection();
  Assert.assertFalse("Auto commit should be false for a reused connection",c1.getAutoCommit());
  d1.close(true);
  Assert.assertTrue("Connection should be closed",c1.isClosed());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestGetConnection </h4><pre class="type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetConnection() throws Exception {
  Connection con=this.datasource.getConnection();
  Assert.assertTrue("Connection should implement javax.sql.PooledConnection",con instanceof PooledConnection);
  Connection actual=((PooledConnection)con).getConnection();
  Assert.assertNotNull("Connection delegate should not be null.",actual);
  System.out.println("Actual connection:" + actual.getClass().getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestInterceptorShortName </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShortInterceptor() throws Exception {
  this.datasource=this.createDefaultDataSource();
  this.datasource.setJdbcInterceptors("TestInterceptor");
  this.datasource.setUseDisposableConnectionFacade(false);
  this.datasource.setMaxActive(1);
  this.datasource.createPool();
  Assert.assertEquals("Only one interceptor should have been called setProperties[1]",1,TestInterceptor.instancecount.get());
  TestInterceptor.instancecount.set(0);
  Connection con=this.datasource.getConnection();
  Assert.assertTrue("Pool should have been started.",TestInterceptor.poolstarted);
  Assert.assertEquals("Only one interceptor should have been called setProperties[2]",1,TestInterceptor.instancecount.get());
  con.close();
  this.datasource.close();
  Assert.assertTrue("Pool should have been closed.",TestInterceptor.poolclosed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestStatementCache </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache2() throws Exception {
  init();
  config(false,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache() throws Exception {
  config(true,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties() throws Exception {
  config(true,true,50);
  datasource.getConnection().close();
  Assert.assertTrue(interceptor.isCacheCallable());
  Assert.assertTrue(interceptor.isCachePrepared());
  Assert.assertEquals(50,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties2() throws Exception {
  config(false,false,100);
  datasource.getConnection().close();
  Assert.assertFalse(interceptor.isCacheCallable());
  Assert.assertFalse(interceptor.isCachePrepared());
  Assert.assertEquals(100,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSuspectTimeout </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspect() throws Exception {
  this.datasource.setMaxActive(100);
  this.datasource.setMaxIdle(100);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  this.datasource.getPoolProperties().setSuspectTimeout(1);
  this.datasource.getPoolProperties().setLogAbandoned(true);
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  Thread.sleep(3000);
  PooledConnection pcon=con.unwrap(PooledConnection.class);
  Assert.assertTrue("Connection should be marked suspect",pcon.isSuspect());
  con.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestTimeout </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCheckoutTimeoutFair() throws Exception {
  try {
    this.datasource.getPoolProperties().setFairQueue(true);
    this.datasource.getPoolProperties().setTestWhileIdle(true);
    this.datasource.getPoolProperties().setTestOnBorrow(false);
    this.datasource.getPoolProperties().setTestOnReturn(false);
    this.datasource.getPoolProperties().setValidationInterval(30000);
    this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(1000);
    this.datasource.getPoolProperties().setMaxActive(20);
    this.datasource.getPoolProperties().setMaxWait(3000);
    this.datasource.getPoolProperties().setRemoveAbandonedTimeout(5);
    this.datasource.getPoolProperties().setMinEvictableIdleTimeMillis(5000);
    this.datasource.getPoolProperties().setMinIdle(5);
    this.datasource.getPoolProperties().setLogAbandoned(true);
    System.out.println("About to test connection pool:" + datasource);
    for (int i=0; i < 21; i++) {
      long now=System.currentTimeMillis();
      this.datasource.getConnection();
      long delta=System.currentTimeMillis() - now;
      System.out.println("Got connection #" + i + " in "+ delta+ " ms.");
    }
    Assert.assertTrue(false);
  }
 catch (  Exception x) {
    Assert.assertTrue(true);
  }
 finally {
    Thread.sleep(2000);
  }
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCheckoutTimeout() throws Exception {
  try {
    this.datasource.getPoolProperties().setTestWhileIdle(true);
    this.datasource.getPoolProperties().setTestOnBorrow(false);
    this.datasource.getPoolProperties().setTestOnReturn(false);
    this.datasource.getPoolProperties().setValidationInterval(30000);
    this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(1000);
    this.datasource.getPoolProperties().setMaxActive(20);
    this.datasource.getPoolProperties().setMaxWait(3000);
    this.datasource.getPoolProperties().setRemoveAbandonedTimeout(5);
    this.datasource.getPoolProperties().setMinEvictableIdleTimeMillis(5000);
    this.datasource.getPoolProperties().setMinIdle(5);
    this.datasource.getPoolProperties().setLogAbandoned(true);
    System.out.println("About to test connection pool:" + datasource);
    for (int i=0; i < 21; i++) {
      long now=System.currentTimeMillis();
      this.datasource.getConnection();
      long delta=System.currentTimeMillis() - now;
      System.out.println("Got connection #" + i + " in "+ delta+ " ms.");
    }
    Assert.assertTrue(false);
  }
 catch (  Exception x) {
    Assert.assertTrue(true);
  }
 finally {
    Thread.sleep(2000);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestValidationQueryTimeout </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidationQueryTimeoutEnabled() throws Exception {
  this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidationQueryTimeoutWithQueryTimeoutInterceptor() throws Exception {
  int interceptorTimeout=30;
  this.datasource.setJdbcInterceptors(QueryTimeoutInterceptor.class.getName() + "(queryTimeout=" + interceptorTimeout+ ")");
  Connection con=this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
  TIMEOUT=30;
  Statement st=con.createStatement();
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareStatement("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareCall("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  con.close();
  TIMEOUT=10;
  isTimeoutSet=false;
  this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValidationQueryTimeoutDisabled() throws Exception {
  this.datasource.setValidationQueryTimeout(-1);
  this.datasource.getConnection();
  Assert.assertFalse(isTimeoutSet);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLongValidationQueryTime() throws Exception {
  this.datasource.setDriverClassName("org.h2.Driver");
  this.datasource.setUrl("jdbc:h2:~/.h2/test;QUERY_TIMEOUT=0;DB_CLOSE_ON_EXIT=FALSE");
  Connection con=this.datasource.getConnection();
  Statement stmt=null;
  long start=0, end=0;
  try {
    stmt=con.createStatement();
    stmt.setQueryTimeout(2);
    start=System.currentTimeMillis();
    stmt.execute(longQuery);
  }
 catch (  SQLException ex) {
  }
 finally {
    end=System.currentTimeMillis();
    if (stmt != null) {
      stmt.close();
    }
    if (con != null) {
      con.close();
    }
    Assert.assertTrue(start != 0 && end != 0);
    Assert.assertTrue((end - start) > 1000);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TwoDataSources </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTwoDataSources() throws Exception {
  org.apache.tomcat.jdbc.pool.DataSource d1=this.createDefaultDataSource();
  org.apache.tomcat.jdbc.pool.DataSource d2=this.createDefaultDataSource();
  d1.setRemoveAbandoned(true);
  d1.setRemoveAbandonedTimeout(2);
  d1.setTimeBetweenEvictionRunsMillis(1000);
  d2.setRemoveAbandoned(false);
  Connection c1=d1.getConnection();
  Connection c2=d2.getConnection();
  Thread.sleep(5000);
  try {
    c1.createStatement();
    Assert.assertTrue("Connection should have been abandoned.",false);
  }
 catch (  Exception x) {
    Assert.assertTrue("This is correct, c1 is abandoned",true);
  }
  try {
    c2.createStatement();
    Assert.assertTrue("Connection should not have been abandoned.",true);
  }
 catch (  Exception x) {
    Assert.assertTrue("Connection c2 should be working",false);
  }
  try {
    Assert.assertTrue("Connection should have been closed.",c1.isClosed());
  }
 catch (  Exception x) {
    Assert.assertTrue("This is correct, c1 is closed",true);
  }
  try {
    Assert.assertFalse("Connection c2 should not have been closed.",c2.isClosed());
  }
 catch (  Exception x) {
    Assert.assertTrue("Connection c2 should be working",false);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestB2CConverter </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testLeftoverSize(){
  float maxLeftover=0;
  String charsetName="UNSET";
  for (  Charset charset : Charset.availableCharsets().values()) {
    float leftover;
    if (charset.name().toLowerCase(Locale.ENGLISH).startsWith("x-")) {
      continue;
    }
    if (charset.name().equals("COMPOUND_TEXT")) {
      continue;
    }
    try {
      leftover=charset.newEncoder().maxBytesPerChar();
    }
 catch (    UnsupportedOperationException uoe) {
      continue;
    }
    if (leftover > maxLeftover) {
      maxLeftover=leftover;
      charsetName=charset.name();
    }
  }
  Assert.assertTrue("Limit needs to be at least " + maxLeftover + " (used in charset '"+ charsetName+ "')",maxLeftover <= B2CConverter.LEFTOVER_SIZE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestByteChunk </h4><pre class="type-4 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testConvertToBytes() throws UnsupportedEncodingException {
  String string="HTTP/1.1 100 Continue\r\n";
  byte[] bytes=ByteChunk.convertToBytes(string);
  byte[] expected=string.getBytes("ISO-8859-1");
  assertTrue(Arrays.equals(bytes,expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestCharChunk </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEndsWith(){
  CharChunk cc=new CharChunk();
  assertFalse(cc.endsWith("test"));
  cc.setChars("xxtestxx".toCharArray(),2,4);
  assertTrue(cc.endsWith(""));
  assertTrue(cc.endsWith("t"));
  assertTrue(cc.endsWith("st"));
  assertTrue(cc.endsWith("test"));
  assertFalse(cc.endsWith("x"));
  assertFalse(cc.endsWith("xxtest"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestUEncoder </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEncodeURL() throws IOException {
  UEncoder urlEncoder=new UEncoder();
  String s="a/b/c/d+e.class";
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("a%2fb%2fc%2fd%2be.class"));
  assertTrue(urlEncoder.encodeURL(s,2,s.length() - 2).equals("b%2fc%2fd%2be.cla"));
  urlEncoder.addSafeCharacter('+');
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("a%2fb%2fc%2fd+e.class"));
  s=new String(new char[]{0xD801,0xDC01});
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("%f0%90%90%81"));
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodeURLWithSlashInit() throws IOException {
  UEncoder urlEncoder=new UEncoder(SafeCharsSet.WITH_SLASH);
  String s="a+b/c/d+e.class";
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("a%2bb/c/d%2be.class"));
  assertTrue(urlEncoder.encodeURL(s,2,s.length() - 2).equals("b/c/d%2be.cla"));
  try {
    urlEncoder.addSafeCharacter('+');
    fail();
  }
 catch (  IllegalStateException e) {
  }
  s=new String(new char[]{0xD801,0xDC01});
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("%f0%90%90%81"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestParameters </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParametersLimit(){
  Parameters p=new Parameters();
  p.setLimit(2);
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo1");
  assertNull(values);
  p.addParameter("foo1","value1");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  p.addParameter("foo2","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
  IllegalStateException e=null;
  try {
    p.addParameter("foo3","value3");
  }
 catch (  IllegalStateException ise) {
    e=ise;
  }
  assertNotNull(e);
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonExistantParameter(){
  Parameters p=new Parameters();
  String value=p.getParameter("foo");
  assertNull(value);
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo");
  assertNull(values);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParameters(){
  Parameters p=new Parameters();
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo");
  assertNull(values);
  p.addParameter("foo","value1");
  p.addParameter("foo","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(2,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  p.addParameter("foo","value3");
  p.addParameter("foo","value4");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(4,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  assertEquals("value3",values[2]);
  assertEquals("value4",values[3]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapper </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPerformance() throws Exception {
  final long maxTime=5000;
  long time=testPerformanceImpl();
  if (time >= maxTime) {
    log.warn("testPerformance() test completed in " + time + " ms");
    time=testPerformanceImpl();
    log.warn("testPerformance() test rerun completed in " + time + " ms");
  }
  assertTrue(String.valueOf(time),time < maxTime);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMap() throws Exception {
  MappingData mappingData=new MappingData();
  MessageBytes host=MessageBytes.newInstance();
  host.setString("iowejoiejfoiew");
  MessageBytes alias=MessageBytes.newInstance();
  alias.setString("iowejoiejfoiew_alias");
  MessageBytes uri=MessageBytes.newInstance();
  uri.setString("/foo/bar/blah/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context2",mappingData.context);
  assertEquals("wrapper5",mappingData.wrapper);
  assertEquals("/foo/bar",mappingData.contextPath.toString());
  assertEquals("/blah/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(alias,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddHost() throws Exception {
  mapper.addHost("iowejoiejfoiew",new String[0],"blah17");
  mapper.addHostAlias("iowejoiejfoiew","qwigqwiwoih");
  mapper.addHostAlias("sjbjdvwsbvhrb","iowejoiejfoiew_alias");
  mapper.addHostAlias("qwigqwiwoih","qwigqwiwoih");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  assertEquals("blah7",mapper.hosts[iowPos].object);
  final int qwigPos=8;
  assertEquals("blah14",mapper.hosts[qwigPos].object);
  String previous;
  String current=mapper.hosts[0].name;
  for (int i=1; i < mapper.hosts.length; i++) {
    previous=current;
    current=mapper.hosts[i].name;
    assertTrue(previous.compareTo(current) < 0);
  }
  Mapper.Host host=mapper.hosts[iowPos];
  Mapper.Host alias=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew",host.name);
  assertEquals("iowejoiejfoiew_alias",alias.name);
  assertFalse(host.isAlias());
  assertTrue(alias.isAlias());
  assertEquals(host.object,alias.object);
  Object hostZ="zzzz";
  Object contextZ="contextZ";
  assertEquals(16,mapper.hosts.length);
  mapper.addContextVersion("zzzz",hostZ,"/","",contextZ,null,null,null,false,false);
  assertEquals(17,mapper.hosts.length);
  mapper.addHost("zzzz",new String[]{"zzzz_alias1","zzzz_alias2"},hostZ);
  assertEquals(19,mapper.hosts.length);
  assertEquals("zzzz",mapper.hosts[16].name);
  assertEquals("zzzz_alias1",mapper.hosts[17].name);
  assertEquals("zzzz_alias2",mapper.hosts[18].name);
  assertEquals(2,mapper.hosts[16].getAliases().size());
  assertSame(contextZ,mapper.hosts[16].contextList.contexts[0].versions[0].object);
  assertSame(contextZ,mapper.hosts[18].contextList.contexts[0].versions[0].object);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveHost(){
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew");
  mapper.removeHost("iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew_alias");
  assertEquals(15,mapper.hosts.length);
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  Mapper.Host hostMapping=mapper.hosts[iowPos];
  Mapper.Host aliasMapping=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew_alias",aliasMapping.name);
  assertTrue(aliasMapping.isAlias());
  assertSame(hostMapping.object,aliasMapping.object);
  assertEquals("iowejoiejfoiew",hostMapping.getRealHostName());
  assertEquals("iowejoiejfoiew",aliasMapping.getRealHostName());
  assertSame(hostMapping,hostMapping.getRealHost());
  assertSame(hostMapping,aliasMapping.getRealHost());
  mapper.removeHost("iowejoiejfoiew");
  assertEquals(14,mapper.hosts.length);
  for (  Mapper.Host host : mapper.hosts) {
    assertTrue(host.name,!host.name.startsWith("iowejoiejfoiew"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapperWebapps </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileNotStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("Servlet"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  ctxt.setResourceOnlyServlets("");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testContextReload_Bug56658_Bug56882() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  org.apache.catalina.Context ctxt=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res;
  String text;
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/jsp2/el/basic-arithmetic.jsp");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<td>${(1==2) ? 3 : 4}</td>"));
  res=getUrl("http://localhost:" + getPort() + "/examples/index.html");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<title>Apache Tomcat Examples</title>"));
  long timeA=System.currentTimeMillis();
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/include/include.jsp");
  String timestamp=findCommonPrefix(timeA,System.currentTimeMillis());
  text=res.toString();
  Assert.assertTrue(text,text.contains("In place evaluation of another JSP which gives you the current time: " + timestamp));
  Assert.assertTrue(text,text.contains("To get the current time in ms"));
  Assert.assertTrue(text,text.contains("by including the output of another JSP: " + timestamp));
  Assert.assertTrue(text,text.contains(":-)"));
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/forward/forward.jsp");
  text=res.toString();
  Assert.assertTrue(text,text.contains("VM Memory usage"));
  ctxt.reload();
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/jsp2/el/basic-arithmetic.jsp");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<td>${(1==2) ? 3 : 4}</td>"));
  res=getUrl("http://localhost:" + getPort() + "/examples/index.html");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<title>Apache Tomcat Examples</title>"));
  timeA=System.currentTimeMillis();
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/include/include.jsp");
  timestamp=findCommonPrefix(timeA,System.currentTimeMillis());
  text=res.toString();
  Assert.assertTrue(text,text.contains("In place evaluation of another JSP which gives you the current time: " + timestamp));
  Assert.assertTrue(text,text.contains("To get the current time in ms"));
  Assert.assertTrue(text,text.contains("by including the output of another JSP: " + timestamp));
  Assert.assertTrue(text,text.contains(":-)"));
  res=getUrl("http://localhost:" + getPort() + "/examples/jsp/forward/forward.jsp");
  text=res.toString();
  Assert.assertTrue(text,text.contains("VM Memory usage"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.parser.TestMediaType </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53353() throws IOException {
  String input="text/html; UTF-8;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 2);
  assertEquals("",m.getParameterValue("UTF-8"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
  assertEquals("UTF-8",m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52811() throws IOException {
  String input="multipart/related;boundary=1_4F50BD36_CDF8C28;" + "Start=\"<31671603.smil>\";" + "Type=\"application/smil;charset=UTF-8\"";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("multipart",m.getType());
  assertEquals("related",m.getSubtype());
  assertTrue(m.getParameterCount() == 3);
  assertEquals("1_4F50BD36_CDF8C28",m.getParameterValue("boundary"));
  assertEquals("\"<31671603.smil>\"",m.getParameterValue("Start"));
  assertEquals("\"application/smil;charset=UTF-8\"",m.getParameterValue("Type"));
  String expected="multipart/related; boundary=1_4F50BD36_CDF8C28; " + "start=\"<31671603.smil>\"; " + "type=\"application/smil;charset=UTF-8\"";
  assertEquals(expected,m.toString());
  assertEquals(expected,m.toStringNoCharset());
  assertNull(m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug55454() throws IOException {
  String input="text/html;;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 1);
  assertEquals("UTF-8",m.getParameterValue("charset"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.net.TestCustomSsl </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCustomSslImplementation() throws Exception {
  TesterSupport.configureClientSsl();
  Tomcat tomcat=getTomcatInstance();
  Connector connector=tomcat.getConnector();
  Assume.assumeFalse("This test is only for JSSE based SSL connectors",connector.getProtocolHandlerClassName().contains("Apr"));
  connector.setProperty("sslImplementationName","org.apache.tomcat.util.net.jsse.TesterBug50640SslImpl");
  connector.setProperty(TesterBug50640SslImpl.PROPERTY_NAME,TesterBug50640SslImpl.PROPERTY_VALUE);
  connector.setProperty("sslProtocol","tls");
  File keystoreFile=new File("test/org/apache/tomcat/util/net/localhost.jks");
  connector.setAttribute("keystoreFile",keystoreFile.getAbsolutePath());
  connector.setSecure(true);
  connector.setProperty("SSLEnabled","true");
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=getUrl("https://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  assertTrue(res.toString().indexOf("<h1>Hello World!</h1>") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.net.TestSsl </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSimpleSsl() throws Exception {
  TesterSupport.configureClientSsl();
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  ByteChunk res=getUrl("https://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  assertTrue(res.toString().indexOf("<h1>Hello World!</h1>") > 0);
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testKeyPass() throws Exception {
  TesterSupport.configureClientSsl();
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  TesterSupport.initSsl(tomcat,"localhost-copy1.jks","changeit","tomcatpass");
  tomcat.start();
  ByteChunk res=getUrl("https://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  assertTrue(res.toString().indexOf("<h1>Hello World!</h1>") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.net.TestXxxEndpoint </h4><pre class="type-4 type-10 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartStopBindOnStart() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Connector c=tomcat.getConnector();
  c.setProperty("bindOnInit","false");
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  int port=getPort();
  tomcat.getConnector().stop();
  Exception e=null;
  ServerSocket s=null;
  long pool=0;
  long nativeSocket=0;
  boolean isApr=tomcat.getConnector().getProtocolHandlerClassName().contains("Apr");
  try {
    if (isApr) {
      pool=createAprPool();
      assertTrue(pool != 0);
      nativeSocket=createAprSocket(port,pool);
      assertTrue(nativeSocket != 0);
    }
 else {
      s=new ServerSocket(port,100,InetAddress.getByName("localhost"));
    }
  }
 catch (  Exception e1) {
    e=e1;
  }
 finally {
    try {
      if (isApr) {
        destroyAprSocket(nativeSocket,pool);
      }
 else       if (s != null) {
        s.close();
      }
    }
 catch (    Exception e2) {
    }
  }
  assertNull(e);
  tomcat.getConnector().start();
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartStopBindOnInit() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  int port=getPort();
  tomcat.getConnector().stop();
  Exception e=null;
  ServerSocket s=null;
  long pool=0;
  long nativeSocket=0;
  boolean isApr=tomcat.getConnector().getProtocolHandlerClassName().contains("Apr");
  try {
    if (isApr) {
      pool=createAprPool();
      assertTrue(pool != 0);
      nativeSocket=createAprSocket(port,pool);
      assertTrue(nativeSocket != 0);
    }
 else {
      s=new ServerSocket(port,100,InetAddress.getByName("localhost"));
    }
  }
 catch (  Exception e1) {
    e=e1;
  }
 finally {
    try {
      if (isApr) {
        destroyAprSocket(nativeSocket,pool);
      }
 else       if (s != null) {
        s.close();
      }
    }
 catch (    Exception e2) {
    }
  }
  if (e != null) {
    log.info("Exception was",e);
  }
  assertNotNull(e);
  tomcat.getConnector().start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.res.TestStringManager </h4><pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNullKey(){
  boolean iaeThrown=false;
  try {
    sm.getString(null);
  }
 catch (  IllegalArgumentException iae) {
    iaeThrown=true;
  }
  assertTrue("IAE not thrown on null key",iaeThrown);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.threads.TestLimitLatch </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadWaitCountUp() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.countDown();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTenWait() throws Exception {
  LimitLatch latch=new LimitLatch(10);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread[] testThread=new TestThread[30];
  for (int i=0; i < 30; i++) {
    testThread[i]=new TestThread(latch,1000);
    testThread[i].start();
  }
  Thread.sleep(50);
  assertEquals("20 threads should be waiting",20,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertEquals("10 threads should be waiting",10,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoThreads() throws Exception {
  LimitLatch latch=new LimitLatch(0);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadNoWait() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  testThread.start();
  Thread.sleep(50);
  assertEquals("0 threads should be waiting",0,latch.getQueuedThreads().size());
  latch.countUpOrAwait();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneRelease() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.releaseAll();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsPingPongMessages </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingPongMessages() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://localhost:" + getPort() + TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  TesterEndpoint tep=(TesterEndpoint)wsSession.getUserProperties().get("endpoint");
  tep.setLatch(latch);
  PongMessageHandler handler=new PongMessageHandler(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendPing(applicationData);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Assert.assertArrayEquals(applicationData.array(),(handler.getMessages().peek()).getApplicationData().array());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsSubprotocols </h4><pre class="type-10 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWsSubprotocols() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp3")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  if (wsSession.getNegotiatedSubprotocol() != null) {
    Assert.assertTrue(wsSession.getNegotiatedSubprotocol().isEmpty());
  }
  wsSession.close();
  SubProtocolsEndpoint.recycle();
  wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp2")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  Assert.assertEquals("sp2",wsSession.getNegotiatedSubprotocol());
  int count=0;
  while (count < 50 && SubProtocolsEndpoint.subprotocols == null) {
    count++;
    Thread.sleep(100);
  }
  Assert.assertNotNull(SubProtocolsEndpoint.subprotocols);
  Assert.assertArrayEquals(new String[]{"sp1","sp2"},SubProtocolsEndpoint.subprotocols.toArray(new String[2]));
  wsSession.close();
  SubProtocolsEndpoint.recycle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsWebSocketContainer </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpoint() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxBinaryMessageBufferSize(64);
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
  ((WsWebSocketContainer)wsContainer).destroy();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpointSSL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  ClientEndpointConfig clientEndpointConfig=ClientEndpointConfig.Builder.create().build();
  URL truststoreUrl=this.getClass().getClassLoader().getResource("org/apache/tomcat/util/net/ca.jks");
  File truststoreFile=new File(truststoreUrl.toURI());
  clientEndpointConfig.getUserProperties().put(WsWebSocketContainer.SSL_TRUSTSTORE_PROPERTY,truststoreFile.getAbsolutePath());
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,clientEndpointConfig,new URI("wss://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOpenSessions() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  EndpointA endpointA=new EndpointA();
  Session s1a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s2a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  EndpointB endpointB=new EndpointB();
  Session s1b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Session s2b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Set<Session> setA=s3a.getOpenSessions();
  Assert.assertEquals(3,setA.size());
  Assert.assertTrue(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  s1a.close();
  setA=s3a.getOpenSessions();
  Assert.assertEquals(2,setA.size());
  Assert.assertFalse(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  Set<Session> setB=s1b.getOpenSessions();
  Assert.assertEquals(2,setB.size());
  Assert.assertTrue(setB.remove(s1b));
  Assert.assertTrue(setB.remove(s2b));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.pojo.TestPojoEndpointBase </h4><pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBug54716() throws Exception {
  TestUtil.generateMask();
  Bug54716 server=new Bug54716();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(Bug54716.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Client client=new Client();
  URI uri=new URI("ws://localhost:" + getPort() + "/");
  wsContainer.connectToServer(client,uri);
  boolean closed=client.waitForClose(5);
  Assert.assertTrue("Server failed to close connection",closed);
}

</code></pre>

<br>
<pre class="type-3 type-11 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testOnOpenPojoMethod() throws Exception {
  OnOpenServerEndpoint server=new OnOpenServerEndpoint();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(OnOpenServerEndpoint.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Client client=new Client();
  URI uri=new URI("ws://localhost:" + getPort() + "/");
  Session session=wsContainer.connectToServer(client,uri);
  client.waitForClose(5);
  Assert.assertTrue(session.isOpen());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestUriTemplate </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  UriTemplate t=new UriTemplate("/{a}/{b}");
  Map<String,String> result=t.match(new UriTemplate("/foo/bar"));
  Assert.assertEquals(2,result.size());
  Assert.assertTrue(result.containsKey("a"));
  Assert.assertTrue(result.containsKey("b"));
  Assert.assertEquals("foo",result.get("a"));
  Assert.assertEquals("bar",result.get("b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestWsServerContainer </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug58232() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Bug54807Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Assert.assertEquals(LifecycleState.STARTED,ctx.getState());
  SimpleClient client=new SimpleClient();
  URI uri=new URI("ws://localhost:" + getPort() + "/echoBasic");
  Session session=null;
  try {
    session=wsContainer.connectToServer(client,uri);
    CountDownLatch latch=new CountDownLatch(1);
    BasicText handler=new BasicText(latch);
    session.addMessageHandler(handler);
    session.getBasicRemote().sendText("echoBasic");
    boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
    Assert.assertTrue(latchResult);
    Queue<String> messages=handler.getMessages();
    Assert.assertEquals(1,messages.size());
    for (    String message : messages) {
      Assert.assertEquals("echoBasic",message);
    }
  }
  finally {
    if (session != null) {
      session.close();
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
