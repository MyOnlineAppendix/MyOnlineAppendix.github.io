<h3><span class=" glyphicon glyphicon-tag"/>&nbspHybridVerifier</h3><kbd>Contains more than 2 JUnit-based stereotypes</kbd><br><br><br><h4 style="margin:0px">Class: javax.el.TestArrayELResolver </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  resolver.setValue(context,base,new Integer(0),"new-element");
  Assert.assertEquals("new-element",resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
  resolver.setValue(context,base,new Integer(0),null);
  Assert.assertEquals(null,resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the key is out of bounds and null will be returned.
 */
@Test public void testGetValue05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Object result=resolver.getValue(context,base,new Integer(1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,base,new Integer(-1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a result is returned even when a coercion cannot be performed.
 */
@Test public void testGetType05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,"index");
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,new Integer(0));
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Object result=resolver.getValue(context,base,new Integer(0));
  Assert.assertEquals("element",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestBeanELResolver </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=resolver.getType(context,new Bean(),PROPERTY01_NAME);
  Assert.assertEquals(String.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a method invocation.
 */
@Test public void testInvoke03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.invoke(context,new TesterBean(BEAN_NAME),METHOD01_NAME,new Class<?>[]{},new Object[]{});
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.getValue(context,new TesterBean(BEAN_NAME),PROPERTY03_NAME);
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testSetValue04(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  TesterBean bean=new TesterBean(BEAN_NAME);
  resolver.setValue(context,bean,PROPERTY03_NAME,PROPERTY_VALUE);
  Assert.assertEquals(PROPERTY_VALUE,resolver.getValue(context,bean,PROPERTY03_NAME));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestListELResolver </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Class<?> result=resolver.getType(context,list,new Integer(0));
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Object result=resolver.getValue(context,list,new Integer(0));
  Assert.assertEquals("key",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the key is out of bounds and null will be returned.
 */
@Test public void testGetValue05(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Object result=resolver.getValue(context,list,new Integer(1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,list,new Integer(-1));
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("value");
  resolver.setValue(context,list,new Integer(0),"value");
  Assert.assertEquals("value",resolver.getValue(context,list,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestMapELResolver </h4><pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Object result=mapELResolver.getValue(context,map,"key");
  Assert.assertEquals("value",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=mapELResolver.getValue(context,map,"unknown-key");
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Iterator<FeatureDescriptor> result=mapELResolver.getFeatureDescriptors(context,map);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals("key".getClass(),featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=mapELResolver.getType(context,new HashMap<Object,Object>(),"test");
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  mapELResolver.setValue(context,map,"key","value");
  Assert.assertEquals("value",mapELResolver.getValue(context,map,"key"));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestResourceBundleELResolver </h4><pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle(new Object[][]{{"key","value"}});
  @SuppressWarnings("unchecked") Iterator<FeatureDescriptor> result=resolver.getFeatureDescriptors(context,resourceBundle);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals(String.class,featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  Object result=resolver.getValue(context,resourceBundle,"key1");
  Assert.assertEquals("value1",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,"unknown-key");
  Assert.assertEquals("???unknown-key???",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,null);
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that null will be returned when base is ResourceBundle. Checks that
 * the propertyResolved is true.
 */
@Test public void testGetType03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  Class<?> result=resolver.getType(context,resourceBundle,"key1");
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug53001(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  ResourceBundle rb=new TesterResourceBundle();
  ValueExpression var=factory.createValueExpression(rb,ResourceBundle.class);
  context.getVariableMapper().setVariable("rb",var);
  ValueExpression ve=factory.createValueExpression(context,"${rb.keys}",String.class);
  MethodExpression me=factory.createMethodExpression(context,"${rb.getKeys()}",Enumeration.class,null);
  String result1=(String)ve.getValue(context);
  Assert.assertEquals("???keys???",result1);
  Object result2=me.invoke(context,null);
  Assert.assertTrue(result2 instanceof Enumeration);
  @SuppressWarnings("unchecked") Enumeration<String> e=(Enumeration<String>)result2;
  Assert.assertTrue(e.hasMoreElements());
  String element=e.nextElement();
  if ("key1".equals(element)) {
    Assert.assertEquals("key1",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key2",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
 else {
    Assert.assertEquals("key2",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key1",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestSSOnonLoginAndBasicAuthenticator </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAccessThenAcceptAuthWithUri() throws Exception {
  setAlwaysUseSession();
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String forwardParam="?nextUrl=" + CONTEXT_PATH_LOGIN + URI_PROTECTED;
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED + forwardParam,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String firstEncodedURL=encodedURL;
  assertTrue(firstEncodedURL.contains(ENCODE_SESSION_PARAM));
  doTestBasic(firstEncodedURL + forwardParam,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String secondEncodedURL=encodedURL;
  assertEquals(firstEncodedURL,secondEncodedURL);
  assertFalse(firstEncodedURL.contains(ENCODE_SSOSESSION_PARAM));
  int ix=secondEncodedURL.indexOf(ENCODE_SESSION_PARAM);
  String sessionId=secondEncodedURL.substring(ix);
  doTestNonLogin(CONTEXT_PATH_NOLOGIN + URI_PROTECTED + ";"+ sessionId,NO_COOKIES,HttpServletResponse.SC_FORBIDDEN);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.comet.TestCometProcessor </h4><pre class="type-4 type-10 type-12 type-3 type-11 type-13 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectionClose() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",new ConnectionCloseServlet());
  root.addServletMapping("/comet","comet");
  Tomcat.addServlet(root,"hello",new HelloWorldServlet());
  root.addServletMapping("/hello","hello");
  tomcat.getConnector().setProperty("connectionTimeout","5000");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(5000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/comet HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  os.write("0\r\n\r\n".getBytes());
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  int count=0;
  while (count < 10 && !readThread.getResponse().endsWith("OK")) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Comet request did not complete");
  }
  Assert.assertFalse(readThread.isAlive());
  Assert.assertNull(readThread.getException());
  os.close();
  is.close();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests if the Comet connection is closed if the Tomcat connector is
 * stopped.
 */
@Test public void testCometConnectorStop() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  SimpleCometServlet servlet=new SimpleCometServlet();
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",servlet);
  root.addServletMapping("/","comet");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(10000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/ HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  PingWriterThread writeThread=new PingWriterThread(100,os);
  writeThread.start();
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  Thread.sleep(3000);
  tomcat.getConnector().stop();
  readThread.join(5000);
  writeThread.join(5000);
  tomcat.getConnector().destroy();
  String[] response=readThread.getResponse().split("\r\n");
  String lastMessage="";
  String lastResponseLine="";
  for (int i=response.length; --i >= 0; ) {
    lastMessage=response[i];
    if (lastMessage.startsWith("Client:")) {
      break;
    }
  }
  for (int i=response.length; --i >= 0; ) {
    lastResponseLine=response[i];
    if (lastResponseLine.length() > 0) {
      break;
    }
  }
  StringBuilder status=new StringBuilder();
  status.append("Status:");
  status.append("\nWriterThread exception: " + writeThread.getException());
  status.append("\nReaderThread exception: " + readThread.getException());
  status.append("\nLast message: [" + lastMessage + "]");
  status.append("\nLast response line: [" + lastResponseLine + "]");
  status.append("\nLast comet event: [" + servlet.getLastEvent() + "]");
  status.append("\nEND event occurred: [" + servlet.getEndEventOccurred() + "]");
  if (writeThread.getException() == null || !lastMessage.contains("Client: END") || !EventType.END.equals(servlet.getLastEvent())) {
    log.error(status);
  }
 else {
    log.info(status);
  }
  assertTrue("Comet END event not received",servlet.getEndEventOccurred());
  assertTrue("Comet END event not last event received",EventType.END.equals(servlet.getLastEvent()));
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-3 type-11 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSyncClose() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",new CometCloseServlet());
  root.addServletMapping("/comet","comet");
  Tomcat.addServlet(root,"hello",new HelloWorldServlet());
  root.addServletMapping("/hello","hello");
  tomcat.getConnector().setProperty("connectionTimeout","5000");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(5000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/comet HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  os.write("0\r\n\r\n".getBytes());
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  int count=0;
  while (count < 10 && !readThread.getResponse().endsWith("0\r\n\r\n")) {
    Thread.sleep(500);
    count++;
  }
  Assert.assertTrue(readThread.getResponse().contains("2\r\nOK"));
  if (count == 10) {
    fail("Comet request did not complete");
  }
  requestLine="GET http://localhost:" + getPort() + "/hello HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("connection: close\r\n".getBytes());
  os.write("\r\n".getBytes());
  count=0;
  while (count < 10 && !readThread.getResponse().contains(HelloWorldServlet.RESPONSE_TEXT)) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Non-comet request did not complete");
  }
  readThread.join();
  os.close();
  is.close();
}

</code></pre>

<br>
<pre class="type-10 type-12 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncClose() throws Exception {
  Assume.assumeTrue("This test is skipped, because this connector does not support Comet.",isCometSupported());
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Tomcat.addServlet(root,"comet",new SimpleCometServlet());
  root.addServletMapping("/comet","comet");
  Tomcat.addServlet(root,"hello",new HelloWorldServlet());
  root.addServletMapping("/hello","hello");
  root.getPipeline().addValve(new AsyncCometCloseValve());
  tomcat.getConnector().setProperty("connectionTimeout","5000");
  tomcat.start();
  final Socket socket=SocketFactory.getDefault().createSocket("localhost",getPort());
  socket.setSoTimeout(5000);
  final OutputStream os=socket.getOutputStream();
  String requestLine="POST http://localhost:" + getPort() + "/comet HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("transfer-encoding: chunked\r\n".getBytes());
  os.write("\r\n".getBytes());
  InputStream is=socket.getInputStream();
  ResponseReaderThread readThread=new ResponseReaderThread(is);
  readThread.start();
  int count=0;
  while (count < 10 && !readThread.getResponse().endsWith("0\r\n\r\n")) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Comet request did not complete");
  }
  requestLine="GET http://localhost:" + getPort() + "/hello HTTP/1.1\r\n";
  os.write(requestLine.getBytes());
  os.write("\r\n".getBytes());
  count=0;
  while (count < 10 && !readThread.getResponse().contains(HelloWorldServlet.RESPONSE_TEXT)) {
    Thread.sleep(500);
    count++;
  }
  if (count == 10) {
    fail("Non-comet request did not complete");
  }
  readThread.join();
  os.close();
  is.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestMapperListener </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTomcatRestartListenerCount_Bug56717() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res;
  String text;
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersFirst=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersFirst,tomcat.getEngine());
  tomcat.stop();
  tomcat.start();
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersSecond=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersSecond,tomcat.getEngine());
  Assert.assertEquals(listenersFirst.size(),listenersSecond.size());
  for (int i=0, len=listenersFirst.size(); i < len; i++) {
    ListenersInfo a=listenersFirst.get(i);
    ListenersInfo b=listenersSecond.get(i);
    boolean equal=a.container.getClass() == b.container.getClass() && a.containerListeners.length == b.containerListeners.length && a.lifecycleListeners.length == b.lifecycleListeners.length;
    if (!equal) {
      Assert.fail("The lists of listeners differ:\n" + a + "\n"+ b);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestRequest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=48692
 * PUT requests should be able to fetch request parameters coming from
 * the request body (when properly configured using the new parseBodyMethod
 * setting).
 */
@Test public void testBug48692(){
  Bug48692Client client=new Bug48692Client();
  client.doRequest("GET","foo=bar",null,null,false);
  assertTrue("Non-200 response for GET request",client.isResponse200());
  assertEquals("Incorrect response for GET request","foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar","application/x-www-form-urlencoded","bar=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",false);
  assertTrue("Non-200 response for PUT/noparse request",client.isResponse200());
  assertEquals("Incorrect response for PUT request","bar=foo,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for PUT request",client.isResponse200());
  assertEquals("Incorrect response for PUT/parse request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Additional test for failed requests handling when no FailedRequestFilter
 * is defined.
 */
@Test public void testBug37794withoutFilter(){
  Bug37794Client client=new Bug37794Client(false);
  client.reset();
  client.doRequest(6,false);
  assertTrue(client.isResponse200());
  assertEquals("",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestResponse </h4><pre class="type-4 type-10 type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49598() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new Bug49598Servlet());
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/",new ByteChunk(),headers);
  for (  Map.Entry<String,List<String>> header : headers.entrySet()) {
    if (header.getKey() == null) {
      List<String> values=header.getValue();
      if (values.size() == 1 && values.get(0).startsWith("HTTP/1.1")) {
        continue;
      }
      fail("Null header name detected for value " + values);
    }
  }
  int count=0;
  for (  String headerName : headers.keySet()) {
    if ("Set-Cookie".equals(headerName)) {
      count++;
    }
  }
  assertEquals(1,count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53467() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53467].jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(res.toString().contains("<p>OK</p>"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestAsyncContextImpl </h4><pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug50753() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug50753Servlet servlet=new Bug50753Servlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  Map<String,List<String>> headers=new LinkedHashMap<String,List<String>>();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,headers);
  assertEquals(200,rc);
  assertEquals("OK",bc.toString());
  List<String> testHeader=headers.get("A");
  assertNotNull(testHeader);
  assertEquals(1,testHeader.size());
  assertEquals("xyz",testHeader.get(0));
  alv.validateAccessLog(1,200,Bug50753Servlet.THREAD_SLEEP_TIME,Bug50753Servlet.THREAD_SLEEP_TIME + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncStartWithComplete() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  AsyncStartWithCompleteServlet servlet=new AsyncStartWithCompleteServlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/",bc,headers);
  assertEquals("OK",bc.toString());
  List<String> contentLength=headers.get("Content-Length");
  Assert.assertNotNull(contentLength);
  Assert.assertEquals(1,contentLength.size());
  Assert.assertEquals("2",contentLength.get(0));
  alv.validateAccessLog(1,200,0,REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53843() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug53843ServletA servletA=new Bug53843ServletA();
  Wrapper a=Tomcat.addServlet(ctx,"ServletA",servletA);
  a.setAsyncSupported(true);
  Tomcat.addServlet(ctx,"ServletB",new Bug53843ServletB());
  ctx.addServletMapping("/ServletA","ServletA");
  ctx.addServletMapping("/ServletB","ServletB");
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/ServletA");
  ByteChunk body=new ByteChunk();
  int rc=getUrl(url.toString(),body,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",body.toString());
  assertTrue(servletA.isAsyncWhenExpected());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContext </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug46243() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(tomcat.getHost().getAppBase(),"ROOT");
  if (!docBase.mkdirs() && !docBase.isDirectory()) {
    fail("Unable to create docBase");
  }
  Context root=tomcat.addContext("","ROOT");
  configureTest46243Context(root,true);
  tomcat.start();
  Bug46243Client client=new Bug46243Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{REQUEST});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals(LifecycleState.STOPPED,root.getState());
  configureTest46243Context(root,false);
  root.start();
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertEquals(Bug46243Filter.class.getName() + HelloWorldServlet.RESPONSE_TEXT,client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWebappLoaderStartFail() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.start();
  ((ContainerBase)tomcat.getHost()).setStartChildren(false);
  FailingWebappLoader loader=new FailingWebappLoader();
  File root=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp("",root.getAbsolutePath());
  context.setLoader(loader);
  try {
    context.start();
    fail();
  }
 catch (  LifecycleException ex) {
  }
  assertEquals(LifecycleState.FAILED,context.getState());
  loader.setFail(false);
  context.start();
  assertEquals(LifecycleState.STARTED,context.getState());
  ByteChunk result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
}

</code></pre>

<br>
<pre class="type-4 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug50015() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  MapRealm realm=new MapRealm();
  realm.addUser("tomcat","tomcat");
  realm.addUserRole("tomcat","tomcat");
  ctx.setRealm(realm);
  LoginConfig lc=new LoginConfig();
  lc.setAuthMethod("BASIC");
  ctx.setLoginConfig(lc);
  ctx.getPipeline().addValve(new BasicAuthenticator());
  ServletContainerInitializer sci=new Bug50015SCI();
  ctx.addServletContainerInitializer(sci,null);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/bug50015",bc,null);
  assertNotSame("OK",bc.toString());
  assertEquals(401,rc);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWebappListenerConfigureFail() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.start();
  ((ContainerBase)tomcat.getHost()).setStartChildren(false);
  FailingLifecycleListener listener=new FailingLifecycleListener();
  File root=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp("",root.getAbsolutePath());
  context.addLifecycleListener(listener);
  try {
    context.start();
    fail();
  }
 catch (  LifecycleException ex) {
  }
  assertEquals(LifecycleState.FAILED,context.getState());
  listener.setFail(false);
  context.start();
  assertEquals(LifecycleState.STARTED,context.getState());
  ByteChunk result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49922() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  ByteChunk result=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/bug49922/foo",result,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertTrue(result.getLength() > 0);
  result=getUrl("http://localhost:" + getPort() + "/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/forward");
  assertEquals("FilterTarget",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/include");
  assertEquals("IncludeFilterTarget",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContextResources </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourcesAbsoluteOrdering() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  LifecycleListener[] listener=ctx.findLifecycleListeners();
  assertEquals(3,listener.length);
  assertTrue(listener[1] instanceof ContextConfig);
  ContextConfig config=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources");
      wxml.addAbsoluteOrdering("resources2");
      return wxml;
    }
  }
;
  config.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener[1]=config;
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  tomcat.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources.jar</p>");
  assertEquals(Arrays.asList("resources.jar","resources2.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
  ctx.stop();
  LifecycleListener[] listener1=ctx.findLifecycleListeners();
  ContextConfig config1=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources2");
      wxml.addAbsoluteOrdering("resources");
      return wxml;
    }
  }
;
  config1.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener1[1]=config1;
  config1.lifecycleEvent(new LifecycleEvent(ctx,Lifecycle.AFTER_INIT_EVENT,null));
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  ctx.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources2.jar</p>");
  assertEquals(Arrays.asList("resources2.jar","resources.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceCaching() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctx.setCachingAllowed(false);
  tomcat.start();
  DirContext resources=ctx.getResources();
  Assert.assertTrue(resources instanceof ProxyDirContext);
  ProxyDirContext proxyResources=(ProxyDirContext)resources;
  Assert.assertNull(proxyResources.getCache());
  ctx.stop();
  ctx.start();
  Assert.assertNull(proxyResources.getCache());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardHostValve </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSRLAfterError() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(System.getProperty("java.io.tmpdir"));
  Context ctx=tomcat.addContext("",docBase.getAbsolutePath());
  Tomcat.addServlet(ctx,"error",new ErrorServlet());
  ctx.addServletMapping("/error","error");
  final List<String> result=new ArrayList<String>();
  ServletRequestListener servletRequestListener=new ServletRequestListener(){
    @Override public void requestDestroyed(    ServletRequestEvent sre){
      result.add("Visit requestDestroyed");
    }
    @Override public void requestInitialized(    ServletRequestEvent sre){
      result.add("Visit requestInitialized");
    }
  }
;
  ((StandardContext)ctx).addApplicationEventListener(servletRequestListener);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/error?errorCode=400",bc,null);
  Assert.assertEquals(400,rc);
  Assert.assertTrue(result.contains("Visit requestInitialized"));
  Assert.assertTrue(result.contains("Visit requestDestroyed"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlLoginConfig() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity2");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/protected.jsp",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
  bc.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/unprotected.jsp",bc,null,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("00-OK"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsWebXmlPriority() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/testStandardWrapper/securityAnnotationsWebXmlPriority",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddChild() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  StandardWrapper wrapper=new StandardWrapper();
  wrapper.setServletName("Bug51445");
  wrapper.setServletClass(Bug51445Servlet.class.getName());
  ctx.addChild(wrapper);
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlConstraints() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddServlet() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug51445",new Bug51445Servlet());
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestSwallowAbortedUploads </h4><pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadLimitedSwallow(){
  log.info("Limited, swallow enabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,true,true);
  assertNull("Limited upload with swallow enabled generates client exception",ex);
  assertTrue("Limited upload with swallow enabled returns non-500 status code",client.isResponse500());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOST413Swallow(){
  log.info("Aborted (413), swallow enabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_REQUEST_ENTITY_TOO_LARGE,true);
  assertNull("Limited upload with swallow enabled generates client exception",ex);
  assertTrue("Limited upload with swallow enabled returns error status code",client.isResponse413());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOSTOKSwallow(){
  log.info("Aborted (OK), swallow enabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_OK,true);
  assertNull("Unlimited upload with swallow enabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow enabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedPOSTOKNoSwallow(){
  log.info("Aborted (OK), swallow disabled");
  AbortedPOSTClient client=new AbortedPOSTClient();
  Exception ex=doAbortedPOSTTest(client,HttpServletResponse.SC_OK,false);
  assertNull("Unlimited upload with swallow disabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow disabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadUnlimitedNoSwallow(){
  log.info("Unlimited, swallow disabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,false,false);
  assertNull("Unlimited upload with swallow disabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow disabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAbortedUploadUnlimitedSwallow(){
  log.info("Unlimited, swallow enabled");
  AbortedUploadClient client=new AbortedUploadClient();
  Exception ex=doAbortedUploadTest(client,false,true);
  assertNull("Unlimited upload with swallow enabled generates client exception",ex);
  assertTrue("Unlimited upload with swallow enabled returns error status code",client.isResponse200());
  client.reset();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestSecurityConstraint </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Uses the examples in SRV.13.4 as the basis for these tests
 */
@Test public void testCreateConstraints(){
  ServletSecurityElement element;
  SecurityConstraint[] result;
  Set<HttpMethodConstraintElement> hmces=new HashSet<HttpMethodConstraintElement>();
  element=new ServletSecurityElement();
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(0,result.length);
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertFalse(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(EmptyRoleSemantic.DENY));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertEquals(1,result[0].findAuthRoles().length);
  assertTrue(result[0].findAuthRole(ROLE1));
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET",new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1)));
  hmces.add(new HttpMethodConstraintElement("POST",new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL,ROLE1)));
  element=new ServletSecurityElement(hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].getAuthConstraint());
    assertEquals(1,result[i].findAuthRoles().length);
    assertTrue(result[i].findAuthRole(ROLE1));
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    assertEquals(1,result[i].findCollections()[0].findMethods().length);
    String method=result[i].findCollections()[0].findMethods()[0];
    if ("GET".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
    }
 else     if ("POST".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[i].getUserConstraint());
    }
 else {
      fail("Unexpected method :[" + method + "]");
    }
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET"));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findMethods()[0]);
      assertFalse(result[i].getAuthConstraint());
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("TRACE",new HttpConstraintElement(EmptyRoleSemantic.DENY)));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(0,result[i].findAuthRoles().length);
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXml </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLifecycleMethodsWebFragmentsWithConflicts(){
  WebXml webxml=new WebXml();
  WebXml fragment1=new WebXml();
  fragment1.addPostConstructMethods("a","a");
  fragment1.addPreDestroyMethods("b","a");
  WebXml fragment2=new WebXml();
  fragment2.addPostConstructMethods("a","b");
  Set<WebXml> fragments=new HashSet<WebXml>();
  fragments.add(fragment1);
  fragments.add(fragment2);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPostConstructMethods().size());
  WebXml fragment3=new WebXml();
  fragment3.addPreDestroyMethods("b","b");
  fragments.remove(fragment2);
  fragments.add(fragment3);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPreDestroyMethods().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXmlOrdering </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolute(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("e");
  app.addAbsoluteOrdering("d");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertEquals(b,iter.next());
  assertEquals(e,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersMiddle(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersEnd(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersStart(){
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolutePartial(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCorsFilter </h4><pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterPreflightWithoutCredentialsAndSpecificOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigSpecificOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByConfiguration() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigSpecificOriginNullAllowed());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Negative test, when a CORS request arrives, with no origin header.
 */
@Test public void testDoFilterNoOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.NOT_CORS,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertFalse(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContentTypeWithParameter() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain;charset=UTF-8");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Section Section 6.2.7
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeAnyOriginNoWithCredentials() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Origin");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigAnyOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("*"));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterPreflightNegativeMaxAge() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfigNegativeMaxAge());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_MAX_AGE));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.PRE_FLIGHT.name().toLowerCase(Locale.ENGLISH)));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS).equals("Content-Type"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the presence of the origin (and not '*') in the response, when
 * supports credentials is enabled alongwith any origin, '*'.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterSimpleAnyOriginAndSupportsCredentialsDisabled() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigAnyOriginAndSupportsCredentialsDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals(TesterFilterConfigs.ANY_ORIGIN));
  Assert.assertNull(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_CREDENTIALS));
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN).equals(TesterFilterConfigs.HTTPS_WWW_APACHE_ORG));
  Assert.assertTrue(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE).equals(CorsFilter.CORSRequestType.SIMPLE.name().toLowerCase(Locale.ENGLISH)));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDecorateRequestDisabled() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setMethod("GET");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigDecorateRequestDisabled());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(response.getHeader(CorsFilter.RESPONSE_HEADER_ACCESS_CONTROL_ALLOW_ORIGIN).equals("https://www.apache.org"));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_ORIGIN));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_HEADERS));
  Assert.assertNull(request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_REQUEST_TYPE));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByDefault() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestRemoteIpFilter </h4><pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllowedRemoteAddrWithNullRemoteIpHeader() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","192.168.0.10",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","remote-host-original-value",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test {@link RemoteIpFilter} in Tomcat standalone server
 */
@Test public void testWithTomcatServer() throws Exception {
  Map<String,String> remoteIpFilterParameter=new HashMap<String,String>();
  remoteIpFilterParameter.put("protocolHeader","x-forwarded-proto");
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",TEMP_DIR);
  FilterDef filterDef=new FilterDef();
  filterDef.getParameterMap().putAll(remoteIpFilterParameter);
  filterDef.setFilterClass(RemoteIpFilter.class.getName());
  filterDef.setFilterName(RemoteIpFilter.class.getName());
  root.addFilterDef(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.setFilterName(RemoteIpFilter.class.getName());
  filterMap.addURLPattern("*");
  root.addFilterMap(filterMap);
  MockHttpServlet mockServlet=new MockHttpServlet();
  Tomcat.addServlet(root,mockServlet.getClass().getName(),mockServlet);
  root.addServletMapping("/test",mockServlet.getClass().getName());
  getTomcatInstance().start();
  HttpURLConnection httpURLConnection=(HttpURLConnection)new URL("http://localhost:" + tomcat.getConnector().getLocalPort() + "/test").openConnection();
  String expectedRemoteAddr="my-remote-addr";
  httpURLConnection.addRequestProperty("x-forwarded-for",expectedRemoteAddr);
  httpURLConnection.addRequestProperty("x-forwarded-proto","https");
  Assert.assertEquals(HttpURLConnection.HTTP_OK,httpURLConnection.getResponseCode());
  HttpServletRequest request=mockServlet.getRequest();
  Assert.assertNotNull(request);
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteAddr());
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteHost());
  Assert.assertTrue(request.isSecure());
  Assert.assertEquals("https",request.getScheme());
  Assert.assertEquals(443,request.getServerPort());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithDefaultValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrusted() throws Exception {
  RemoteIpFilter remoteIpFilter=new RemoteIpFilter();
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  filterDef.setFilter(remoteIpFilter);
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedOrInternal() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2, 192.168.0.10, 192.168.0.11");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedAndRemoteAddrMatchRegexp() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","127\\.0\\.0\\.1|192\\.168\\..*|another-internal-proxy");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.addHeader("x-forwarded-for","140.211.11.130");
  request.addHeader("x-forwarded-for","proxy1");
  request.addHeader("x-forwarded-for","proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithCustomValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  filterDef.addInitParameter("remoteIpHeader","x-my-forwarded-for");
  filterDef.addInitParameter("httpServerPort","8080");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-my-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  int actualServerPort=actualRequest.getServerPort();
  assertEquals("wrong http server port",8080,actualServerPort);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreInternal() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.addHeader("x-forwarded-for","140.211.11.130, 192.168.0.10, 192.168.0.11");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are internal, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertNull("all proxies are internal, x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeNotAllowedRemoteAddr() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("not-allowed-internal-proxy");
  request.setRemoteHost("not-allowed-internal-proxy-host");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertEquals("x-forwarded-for must be unchanged","140.211.11.130, proxy1, proxy2",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","not-allowed-internal-proxy",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","not-allowed-internal-proxy-host",actualRemoteHost);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.ha.session.TestSerializablePrincipal </h4><pre class="type-8 type-4 type-10 type-12 type-11 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Simple serialization / de-serialization test for bug 43840.
 */
@SuppressWarnings("null") @Test public void testWriteReadPrincipal(){
  File tempDir=new File(System.getProperty("tomcat.test.temp","output/tmp"));
  if (!tempDir.mkdirs() && !tempDir.isDirectory()) {
    fail("Unable to create temporary directory for test");
  }
  List<String> roles=new ArrayList<String>();
  roles.add("RoleA");
  roles.add("RoleB");
  TesterPrincipal tpOriginal=new TesterPrincipal("inner");
  GenericPrincipal gpOriginal=new GenericPrincipal("usr","pwd",roles,tpOriginal);
  File file=null;
  try {
    file=File.createTempFile("ser",null,tempDir);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail("ioe creating temporary file");
  }
  GenericPrincipal gpNew=null;
  try {
    FileOutputStream fos=null;
    ObjectOutputStream oos=null;
    try {
      fos=new FileOutputStream(file);
      oos=new ObjectOutputStream(fos);
      SerializablePrincipal.writePrincipal(gpOriginal,oos);
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
      fail("fnfe creating object output stream");
    }
catch (    IOException e) {
      e.printStackTrace();
      fail("ioe serializing principal");
    }
 finally {
      if (oos != null) {
        try {
          oos.close();
        }
 catch (        IOException ignored) {
        }
      }
      if (fos != null) {
        try {
          fos.close();
        }
 catch (        IOException ignored) {
        }
      }
    }
    FileInputStream fis=null;
    ObjectInputStream ois=null;
    try {
      fis=new FileInputStream(file);
      ois=new ObjectInputStream(fis);
      gpNew=SerializablePrincipal.readPrincipal(ois);
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
      fail("fnfe reading object output stream");
    }
catch (    IOException e) {
      e.printStackTrace();
      fail("ioe de-serializing principal");
    }
catch (    ClassNotFoundException e) {
      e.printStackTrace();
      fail("cnfe de-serializing principal");
    }
 finally {
      if (ois != null) {
        try {
          ois.close();
        }
 catch (        IOException ignored) {
        }
      }
      if (fis != null) {
        try {
          fis.close();
        }
 catch (        IOException ignored) {
        }
      }
    }
  }
  finally {
    if (!file.delete()) {
      System.out.println("Failed to delete " + file);
    }
  }
  assertEquals("User names different",gpOriginal.getName(),gpNew.getName());
  assertEquals("Passwords different",gpOriginal.getPassword(),gpNew.getPassword());
  assertEquals("Number of roles different",gpOriginal.getRoles().length,gpNew.getRoles().length);
  for (int i=0; i < gpOriginal.getRoles().length; i++) {
    assertEquals("Role name index " + i + "different",gpOriginal.getRoles()[i],gpNew.getRoles()[i]);
  }
  assertNotSame("Inner principal not present",gpNew,gpNew.getUserPrincipal());
  assertEquals("Inner user names are different",tpOriginal.getName(),gpNew.getUserPrincipal().getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestParallelWebappClassLoader </h4><pre class="type-4 type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelIncapableOnJre6(){
  if (JreCompat.isJre7Available()) {
    return;
  }
  try {
    Tomcat tomcat=getTomcatInstance();
    Context ctx=tomcat.addContext("",System.getProperty("java.io.tmpdir"));
    WebappLoader webappLoader=new WebappLoader();
    webappLoader.setLoaderClass(PARALLEL_CLASSLOADER);
    ctx.setLoader(webappLoader);
    tomcat.start();
    ClassLoader classloader=ctx.getLoader().getClassLoader();
    Assert.assertTrue(classloader instanceof ParallelWebappClassLoader);
    Method getClassLoadingLock=getDeclaredMethod(classloader.getClass(),"getClassLoadingLock",String.class);
    Assert.assertNull(getClassLoadingLock);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("testParallelIncapableOnJre6 fails.");
  }
}

</code></pre>

<br>
<pre class="type-4 type-12 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelCapableOnJre7(){
  if (!JreCompat.isJre7Available()) {
    return;
  }
  try {
    Tomcat tomcat=getTomcatInstance();
    Context ctx=tomcat.addContext("",null);
    WebappLoader webappLoader=new WebappLoader();
    webappLoader.setLoaderClass(PARALLEL_CLASSLOADER);
    ctx.setLoader(webappLoader);
    tomcat.start();
    ClassLoader classloader=ctx.getLoader().getClassLoader();
    Assert.assertTrue(classloader instanceof ParallelWebappClassLoader);
    Method getClassLoadingLock=getDeclaredMethod(classloader.getClass(),"getClassLoadingLock",String.class);
    Assert.assertNotNull(getClassLoadingLock);
    getClassLoadingLock.setAccessible(true);
    Object lock=getClassLoadingLock.invoke(classloader,DUMMY_SERVLET);
    Assert.assertNotEquals(lock,classloader);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("testParallelCapableOnJre7 fails.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVirtualClassLoader() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-virtual-webapp/src/main/webapp");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  VirtualWebappLoader loader=new VirtualWebappLoader(ctx.getParentClassLoader());
  loader.setVirtualClasspath("test/webapp-3.0-virtual-webapp/target/classes;" + "test/webapp-3.0-virtual-library/target/classes;" + "test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes;"+ "test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes");
  ctx.setLoader(loader);
  String extraMappings="/=test/webapp-3.0-virtual-webapp/src/main/webapp2" + ",/other=test/webapp-3.0-virtual-webapp/src/main/misc" + ",/WEB-INF/classes=test/webapp-3.0-virtual-webapp/target/classes";
  VirtualDirContext resources=new VirtualDirContext();
  resources.setExtraResourcePaths(extraMappings);
  ctx.setResources(resources);
  StandardJarScanner jarScanner=new StandardJarScanner();
  jarScanner.setScanAllDirectories(true);
  ctx.setJarScanner(jarScanner);
  tomcat.start();
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  String allUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc/").toString();
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/lib/rsrc.jar!/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/target/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-library/target/classes/rsrc") > 0);
  String[] allUrlsArray=allUrls.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allUrlsArray)).size(),allUrlsArray.length);
  String allRsrsc2ClasspathUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc2/").toString();
  assertTrue(allRsrsc2ClasspathUrls,allRsrsc2ClasspathUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc2") > 0);
  File f=new File("test/webapp-3.0-virtual-webapp/src/main/webapp/rsrc/resourceF.properties");
  assertPageContains("/test/contextGetRealPath.jsp?path=/rsrc/resourceF.properties",f.getPath());
  assertPageContains("/test/contextGetResource.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc/resourceE.properties","resourceEInDependentLibraryTargetClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/other/resourceI.properties","resourceIInWebapp=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc2/resourceJ.properties","resourceJInWebapp=true");
  String allRsrcPaths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc/").toString();
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceF.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceE.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceH.properties") > 0);
  String[] allRsrcPathsArray=allRsrcPaths.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allRsrcPathsArray)).size(),allRsrcPathsArray.length);
  String allRsrc2Paths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc2/").toString();
  assertTrue(allRsrc2Paths,allRsrc2Paths.indexOf("/rsrc2/resourceJ.properties") > 0);
  assertPageContains("/test/testTlds.jsp","worldA");
  assertPageContains("/test/testTlds.jsp","worldB");
  assertPageContains("/test/testTlds.jsp","worldC");
  assertPageContains("/test/testTlds.jsp","worldD");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualWebappLoader </h4><pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModified() throws Exception {
  WebappLoader loader=new WebappLoader();
  assertNull(loader.getClassLoader());
  assertFalse(loader.modified());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderThreadLocalMemoryLeak </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak1() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet1","org.apache.tomcat.unittest.TesterLeakingServlet1");
  ctx.addServletMapping("/leak1","leakServlet1");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet1",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak1",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak2() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet2","org.apache.tomcat.unittest.TesterLeakingServlet2");
  ctx.addServletMapping("/leak2","leakServlet2");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterThreadScopedHolder",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet2",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak2",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderWeaving </h4><pre class="type-4 type-11 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopiedClassLoaderExcludesResourcesAndTransformers() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #2!",result);
  WebappClassLoader copiedLoader=this.loader.copyWithoutTransformers();
  result=invokeDoMethodOnClass(copiedLoader,"TesterNeverWeavedClass");
  assertEquals("The third result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(copiedLoader,"TesterUnweavedClass");
  assertEquals("The fourth result is not correct.","Hello, Unweaved World!",result);
  assertEquals("getAntiJARLocking did not match.",Boolean.valueOf(this.loader.getAntiJARLocking()),Boolean.valueOf(copiedLoader.getAntiJARLocking()));
  assertEquals("getClearReferencesHttpClientKeepAliveThread did not match.",Boolean.valueOf(this.loader.getClearReferencesHttpClientKeepAliveThread()),Boolean.valueOf(copiedLoader.getClearReferencesHttpClientKeepAliveThread()));
  assertEquals("getClearReferencesLogFactoryRelease did not match.",Boolean.valueOf(this.loader.getClearReferencesLogFactoryRelease()),Boolean.valueOf(copiedLoader.getClearReferencesLogFactoryRelease()));
  assertEquals("getClearReferencesStatic did not match.",Boolean.valueOf(this.loader.getClearReferencesStatic()),Boolean.valueOf(copiedLoader.getClearReferencesStatic()));
  assertEquals("getClearReferencesStopThreads did not match.",Boolean.valueOf(this.loader.getClearReferencesStopThreads()),Boolean.valueOf(copiedLoader.getClearReferencesStopThreads()));
  assertEquals("getClearReferencesStopTimerThreads did not match.",Boolean.valueOf(this.loader.getClearReferencesStopTimerThreads()),Boolean.valueOf(copiedLoader.getClearReferencesStopTimerThreads()));
  assertEquals("getContextName did not match.",this.loader.getContextName(),copiedLoader.getContextName());
  assertEquals("getDelegate did not match.",Boolean.valueOf(this.loader.getDelegate()),Boolean.valueOf(copiedLoader.getDelegate()));
  assertEquals("getJarPath did not match.",this.loader.getJarPath(),copiedLoader.getJarPath());
  assertEquals("getURLs did not match.",this.loader.getURLs().length,copiedLoader.getURLs().length);
  assertSame("getParent did not match.",this.loader.getParent(),copiedLoader.getParent());
}

</code></pre>

<br>
<pre class="type-9 type-11 type-14 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  this.tomcat=getTomcatInstance();
  this.context=this.tomcat.addContext("/weaving",WEBAPP_DOC_BASE);
  this.tomcat.start();
  ClassLoader loader=this.context.getLoader().getClassLoader();
  assertNotNull("The class loader should not be null.",loader);
  assertSame("The class loader is not correct.",WebappClassLoader.class,loader.getClass());
  this.loader=(WebappClassLoader)loader;
}

</code></pre>

<br>
<pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddingNullTransformerThrowsException() throws Exception {
  try {
    this.loader.addTransformer(null);
    fail("Expected exception IllegalArgumentException, got no exception.");
  }
 catch (  IllegalArgumentException ignore) {
  }
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Unweaved World!",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.mbeans.TestRegistration </h4><pre class="type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test verifying that Tomcat correctly de-registers the MBeans it has
 * registered.
 * @author Marc Guillemot
 */
@Test public void testMBeanDeregistration() throws Exception {
  final MBeanServer mbeanServer=Registry.getRegistry(null,null).getMBeanServer();
  Set<ObjectName> onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  final Tomcat tomcat=getTomcatInstance();
  final File contextDir=new File(getTemporaryDirectory(),"webappFoo");
  addDeleteOnTearDown(contextDir);
  if (!contextDir.mkdirs() && !contextDir.isDirectory()) {
    fail("Failed to create: [" + contextDir.toString() + "]");
  }
  Context ctx=tomcat.addContext(contextName,contextDir.getAbsolutePath());
  CombinedRealm combinedRealm=new CombinedRealm();
  Realm nullRealm=new NullRealm();
  combinedRealm.addRealm(nullRealm);
  ctx.setRealm(combinedRealm);
  tomcat.getConnector().setAttribute("maxKeepAliveRequests",Integer.valueOf(1));
  tomcat.start();
  getUrl("http://localhost:" + getPort());
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Found: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  ArrayList<String> found=new ArrayList<String>(onames.size());
  for (  ObjectName on : onames) {
    found.add(on.toString());
  }
  String protocol=tomcat.getConnector().getProtocolHandlerClassName();
  if (protocol.indexOf("Nio") > 0) {
    protocol="nio";
  }
 else   if (protocol.indexOf("Apr") > 0) {
    protocol="apr";
  }
 else {
    protocol="bio";
  }
  String index=tomcat.getConnector().getProperty("nameIndex").toString();
  ArrayList<String> expected=new ArrayList<String>(Arrays.asList(basicMBeanNames()));
  expected.addAll(Arrays.asList(hostMBeanNames("localhost")));
  expected.addAll(Arrays.asList(contextMBeanNames("localhost",contextName)));
  expected.addAll(Arrays.asList(connectorMBeanNames("auto-" + index,protocol)));
  expected.addAll(Arrays.asList(optionalMBeanNames("localhost")));
  expected.addAll(Arrays.asList(requestMBeanNames("auto-" + index + "-"+ getPort(),protocol)));
  ArrayList<String> missing=new ArrayList<String>(expected);
  missing.removeAll(found);
  assertTrue("Missing Tomcat MBeans: " + missing,missing.isEmpty());
  List<String> additional=found;
  additional.removeAll(expected);
  assertTrue("Unexpected Tomcat MBeans: " + additional,additional.isEmpty());
  tomcat.stop();
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  assertTrue("No Tomcat MBeans",onames.size() > 0);
  StandardHost host=new StandardHost();
  host.setName("otherhost");
  tomcat.getEngine().addChild(host);
  final File contextDir2=new File(getTemporaryDirectory(),"webappFoo2");
  addDeleteOnTearDown(contextDir2);
  if (!contextDir2.mkdirs() && !contextDir2.isDirectory()) {
    fail("Failed to create: [" + contextDir2.toString() + "]");
  }
  tomcat.addContext(host,contextName + "2",contextDir2.getAbsolutePath());
  tomcat.start();
  tomcat.stop();
  tomcat.destroy();
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.realm.TestJNDIRealm </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPassword() throws Exception {
  JNDIRealm realm=buildRealm(PASSWORD,null);
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(PASSWORD,((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPasswordAndDigest() throws Exception {
  JNDIRealm realm=buildRealm(ha1(),"MD5");
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(ha1(),((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.servlets.TestDefaultServlet </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50413 Serving a
 * custom error page
 */
@Test public void testCustomErrorPage() throws Exception {
  File appDir=new File(getTemporaryDirectory(),"MyApp");
  File webInf=new File(appDir,"WEB-INF");
  addDeleteOnTearDown(appDir);
  if (!webInf.mkdirs() && !webInf.isDirectory()) {
    fail("Unable to create directory [" + webInf + "]");
  }
  Writer w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"WEB-INF/web.xml")),"UTF-8");
  try {
    w.write("<?xml version='1.0' encoding='UTF-8'?>\n" + "<web-app xmlns='http://java.sun.com/xml/ns/j2ee' " + " xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'"+ " xsi:schemaLocation='http://java.sun.com/xml/ns/j2ee "+ " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd'"+ " version='2.4'>\n"+ "<error-page>\n<error-code>404</error-code>\n"+ "<location>/404.html</location>\n</error-page>\n"+ "</web-app>\n");
    w.flush();
  }
  finally {
    w.close();
  }
  w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"404.html")),"ISO-8859-1");
  try {
    w.write("It is 404.html");
    w.flush();
  }
  finally {
    w.close();
  }
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/MyApp";
  tomcat.addWebapp(null,contextPath,appDir.getAbsolutePath());
  tomcat.start();
  TestCustomErrorClient client=new TestCustomErrorClient(tomcat.getConnector().getLocalPort());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.0" + CRLF + CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  SimpleDateFormat format=new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz",Locale.US);
  format.setTimeZone(TimeZone.getTimeZone("GMT"));
  String tomorrow=format.format(new Date(System.currentTimeMillis() + 24 * 60 * 60* 1000));
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "If-Modified-Since: "+ tomorrow+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "Range: bytes=0-100"+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50026
 * Verify serving of resources from context root with subpath mapping.
 */
@Test public void testGetWithSubpathmount() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  org.apache.catalina.Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"default2",new DefaultServlet());
  ctx.addServletMapping("/","default2");
  ctx.addServletMapping("/servlets/*","default2");
  ctx.addServletMapping("/static/*","default2");
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  final ByteChunk rootResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/index.html",rootResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  final ByteChunk subpathResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/servlets/index.html",subpathResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertFalse(rootResource.toString().equals(subpathResource.toString()));
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/index.html",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-10 type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test what happens if a custom 404 page is configured,
 * but its file is actually missing.
 */
@Test public void testCustomErrorPageMissing() throws Exception {
  File appDir=new File(getTemporaryDirectory(),"MyApp");
  File webInf=new File(appDir,"WEB-INF");
  addDeleteOnTearDown(appDir);
  if (!webInf.mkdirs() && !webInf.isDirectory()) {
    fail("Unable to create directory [" + webInf + "]");
  }
  Writer w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"WEB-INF/web.xml")),"UTF-8");
  try {
    w.write("<?xml version='1.0' encoding='UTF-8'?>\n" + "<web-app xmlns='http://java.sun.com/xml/ns/j2ee' " + " xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'"+ " xsi:schemaLocation='http://java.sun.com/xml/ns/j2ee "+ " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd'"+ " version='2.4'>\n"+ "<error-page>\n<error-code>404</error-code>\n"+ "<location>/404-absent.html</location>\n</error-page>\n"+ "</web-app>\n");
    w.flush();
  }
  finally {
    w.close();
  }
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/MyApp";
  tomcat.addWebapp(null,contextPath,appDir.getAbsolutePath());
  tomcat.start();
  TestCustomErrorClient client=new TestCustomErrorClient(tomcat.getConnector().getLocalPort());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.0" + CRLF + CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.session.TestPersistentManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSessionAndPassivate() throws IOException, LifecycleException, ClassNotFoundException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals("No active sessions",manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  String sessionId=getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=false").toString();
  Assert.assertNotNull("Session is stored",store.load(sessionId));
  Assert.assertEquals("All sessions are passivated",manager.getActiveSessions(),0);
  Assert.assertTrue("One session was created",!manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noSessionCreate_57637() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  Assert.assertEquals("NO_SESSION",getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=true").toString());
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions where created",manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.session.TestStandardSession </h4><pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void serializeSkipsNonSerializableAttributes() throws Exception {
  final String nonSerializableKey="nonSerializable";
  final String nestedNonSerializableKey="nestedNonSerializable";
  final String serializableKey="serializable";
  final Object serializableValue="foo";
  StandardSession s1=new StandardSession(TEST_MANAGER);
  s1.setValid(true);
  Map<String,NonSerializable> value=new HashMap<String,NonSerializable>();
  value.put("key",new NonSerializable());
  s1.setAttribute(nestedNonSerializableKey,value);
  s1.setAttribute(serializableKey,serializableValue);
  s1.setAttribute(nonSerializableKey,new NonSerializable());
  StandardSession s2=serializeThenDeserialize(s1);
  Assert.assertNull(s2.getAttribute(nestedNonSerializableKey));
  Assert.assertNull(s2.getAttribute(nonSerializableKey));
  Assert.assertEquals(serializableValue,s2.getAttribute(serializableKey));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.LoggingBaseTest </h4><pre class="type-9 type-10 type-12 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp() throws Exception {
  tempDir=new File(System.getProperty("tomcat.test.temp","output/tmp"));
  if (!tempDir.mkdirs() && !tempDir.isDirectory()) {
    fail("Unable to create temporary directory for test");
  }
  System.setProperty("catalina.base",tempDir.getAbsolutePath());
  System.setProperty("java.util.logging.manager","org.apache.juli.ClassLoaderLogManager");
  System.setProperty("java.util.logging.config.file",new File(getBuildDirectory(),"conf/logging.properties").toString());
  log=LogFactory.getLog(getClass());
  log.info("Starting test case [" + testName.getMethodName() + "]");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestContextConfigAnnotation </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupWebXMLNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param1");
  servletDef.setServletClass("org.apache.catalina.startup.NoMappingParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param1");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  ServletDef servletDef1=webxml.getServlets().get("param1");
  assertNotNull(servletDef1);
  assertEquals(servletDef,servletDef1);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNotNull(servletDef);
  assertEquals("Hello",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  assertEquals("param",webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("param",servletDef.getDescription());
  assertEquals("param",servletDef.getDisplayName());
  assertEquals("paramLarge.png",servletDef.getLargeIcon());
  assertEquals("paramSmall.png",servletDef.getSmallIcon());
  assertEquals(Boolean.FALSE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(0),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param");
  servletDef.setServletClass("org.apache.catalina.startup.ParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  servletDef.setDescription("Description");
  servletDef.setDisplayName("DisplayName");
  servletDef.setLargeIcon("LargeIcon");
  servletDef.setSmallIcon("SmallIcon");
  servletDef.setAsyncSupported("true");
  servletDef.setLoadOnStartup("1");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals(servletDef,webxml.getServlets().get("param"));
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("param",webxml.getServletMappings().get("/param"));
  assertNull(webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("Description",servletDef.getDescription());
  assertEquals("DisplayName",servletDef.getDisplayName());
  assertEquals("LargeIcon",servletDef.getLargeIcon());
  assertEquals("SmallIcon",servletDef.getSmallIcon());
  assertEquals(Boolean.TRUE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(1),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals("Servlet says: ",fdef.getParameterMap().get("message"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
  webxml.addServletMapping("/param","param1");
  config.processAnnotationsFile(pFile,webxml,false);
  servletDef=webxml.getServlets().get("param1");
  assertNull(servletDef);
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamFilter");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  FilterDef filterDef=webxml.getFilters().get("paramD");
  assertNull(filterDef);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterName("paramFilter");
  filterDef.setFilterClass("org.apache.catalina.startup.ParamFilter");
  filterDef.addInitParameter("message","tomcat");
  filterDef.setDescription("Description");
  filterDef.setDisplayName("DisplayName");
  filterDef.setLargeIcon("LargeIcon");
  filterDef.setSmallIcon("SmallIcon");
  filterDef.setAsyncSupported("true");
  webxml.addFilter(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.addURLPattern("/param1");
  filterMap.setFilterName("paramFilter");
  webxml.addFilterMapping(filterMap);
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals(filterDef,fdef);
  assertEquals("tomcat",fdef.getParameterMap().get("message"));
  Set<FilterMap> filterMappings=webxml.getFilterMappings();
  assertTrue(filterMappings.contains(filterMap));
  String[] urlPatterns=filterMap.getURLPatterns();
  assertNotNull(urlPatterns);
  assertEquals(1,urlPatterns.length);
  assertEquals("/param1",urlPatterns[0]);
  assertEquals("Description",fdef.getDescription());
  assertEquals("DisplayName",fdef.getDisplayName());
  assertEquals("LargeIcon",fdef.getLargeIcon());
  assertEquals("SmallIcon",fdef.getSmallIcon());
  assertEquals("true",fdef.getAsyncSupported());
  String[] dis=filterMap.getDispatcherNames();
  assertEquals(2,dis.length);
  assertEquals(DispatcherType.ERROR.toString(),dis[0]);
  assertEquals(DispatcherType.ASYNC.toString(),dis[1]);
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDuplicateMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/DuplicateMappingParamServlet");
  assertTrue(pFile.exists());
  try {
    config.processAnnotationsFile(pFile,webxml,false);
    fail();
  }
 catch (  IllegalArgumentException ex) {
  }
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNull(servletDef);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestTomcat </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for https://bz.apache.org/bugzilla/show_bug.cgi?id=47866
 */
@Test public void testGetResource() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"testGetResource",new GetResource());
  ctx.addServletMapping("/testGetResource","testGetResource");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/testGetResource",res,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(res.toString().contains("<?xml version=\"1.0\" "));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestWebRuleSet </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebFragmentXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-fragment-1ordering.xml",true,true);
  assertEquals(1,webXml.getBeforeOrdering().size());
  assertTrue(webXml.getBeforeOrdering().contains("bar"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-1ordering.xml",false,true);
  assertEquals(1,webXml.getAbsoluteOrdering().size());
  assertTrue(webXml.getAbsoluteOrdering().contains("bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TomcatBaseTest </h4><pre class="type-9 type-10 type-12 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @Override public void setUp() throws Exception {
  super.setUp();
  CatalinaProperties.getProperty("foo");
  File appBase=new File(getTemporaryDirectory(),"webapps");
  if (!appBase.exists() && !appBase.mkdir()) {
    fail("Unable to create appBase for test");
  }
  tomcat=new TomcatWithFastSessionIDs();
  String protocol=getProtocol();
  Connector connector=new Connector(protocol);
  connector.setAttribute("address",InetAddress.getByName("localhost").getHostAddress());
  connector.setPort(0);
  connector.setAttribute("connectionTimeout","3000");
  tomcat.getService().addConnector(connector);
  tomcat.setConnector(connector);
  if (protocol.contains("Apr")) {
    StandardServer server=(StandardServer)tomcat.getServer();
    AprLifecycleListener listener=new AprLifecycleListener();
    listener.setSSLRandomSeed("/dev/urandom");
    server.addLifecycleListener(listener);
    connector.setAttribute("pollerThreadCount",Integer.valueOf(1));
  }
  File catalinaBase=getTemporaryDirectory();
  tomcat.setBaseDir(catalinaBase.getAbsolutePath());
  tomcat.getHost().setAppBase(appBase.getAbsolutePath());
  accessLogEnabled=Boolean.parseBoolean(System.getProperty("tomcat.test.accesslog","false"));
  if (accessLogEnabled) {
    String accessLogDirectory=System.getProperty("tomcat.test.reports");
    if (accessLogDirectory == null) {
      accessLogDirectory=new File(getBuildDirectory(),"logs").toString();
    }
    AccessLogValve alv=new AccessLogValve();
    alv.setDirectory(accessLogDirectory);
    alv.setPattern("%h %l %u %t \"%r\" %s %b %I %D");
    tomcat.getHost().getPipeline().addValve(alv);
  }
  addDeleteOnTearDown(new File(catalinaBase,"webapps"));
  addDeleteOnTearDown(new File(catalinaBase,"work"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestOrderInterceptor </h4><pre class="type-8 type-10 type-12 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrder2() throws Exception {
  final Member[] dest=channels[0].getMembers();
  final AtomicInteger value=new AtomicInteger(0);
  final Queue<Exception> exceptionQueue=new ConcurrentLinkedQueue<Exception>();
  Runnable run=new Runnable(){
    @Override public void run(){
      for (int i=0; i < 100; i++) {
        try {
synchronized (channels[0]) {
            channels[0].send(dest,Integer.valueOf(value.getAndAdd(1)),0);
          }
        }
 catch (        Exception x) {
          exceptionQueue.add(x);
        }
      }
    }
  }
;
  Thread[] threads=new Thread[5];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  if (!exceptionQueue.isEmpty()) {
    fail("Exception while sending in threads: " + exceptionQueue.remove().toString());
  }
  Thread.sleep(5000);
  for (int i=0; i < test.length; i++) {
    assertFalse(test[i].fail);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestTcpFailureDetector </h4><pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTcpMcastFail() throws Exception {
  System.out.println("testTcpMcastFail()");
  clear();
  channel1.start(Channel.DEFAULT);
  channel2.start(Channel.DEFAULT);
  assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
  channel2.stop(Channel.MBR_TX_SEQ);
  ByteMessage msg=new ByteMessage(new byte[1024]);
  try {
    Thread.sleep(5000);
    assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
    channel1.send(channel1.getMembers(),msg,0);
  }
 catch (  ChannelException x) {
    fail("Message send should have succeeded.");
  }
  channel1.stop(Channel.DEFAULT);
  channel2.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTcpSendFailureMemberDrop() throws Exception {
  System.out.println("testTcpSendFailureMemberDrop()");
  clear();
  channel1.start(Channel.DEFAULT);
  channel2.start(Channel.DEFAULT);
  assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
  channel2.stop(Channel.SND_RX_SEQ);
  ByteMessage msg=new ByteMessage(new byte[1024]);
  try {
    channel1.send(channel1.getMembers(),msg,0);
    fail("Message send should have failed.");
  }
 catch (  ChannelException x) {
  }
  assertEquals("Expecting member count to not be equal",mbrlist1.members.size() + 1,mbrlist2.members.size());
  channel1.stop(Channel.DEFAULT);
  channel2.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.io.TestXByteBuffer </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializationString() throws Exception {
  String test="This is as test.";
  byte[] msg=XByteBuffer.serialize(test);
  Object obj=XByteBuffer.deserialize(msg);
  assertTrue(obj instanceof String);
  assertEquals(test,obj);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.test.channel.TestRemoteProcessException </h4><pre class="type-8 type-10 type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDataSendSYNCACK() throws Exception {
  System.err.println("Starting SYNC_ACK");
  int errC=0, nerrC=0;
  for (int i=0; i < msgCount; i++) {
    boolean error=Data.r.nextBoolean();
    try {
      channel1.send(channel1.getMembers(),Data.createRandomData(error),Channel.SEND_OPTIONS_SYNCHRONIZED_ACK | Channel.SEND_OPTIONS_USE_ACK);
      if (error) {
        fail("A ChannelException was expected");
      }
    }
 catch (    ChannelException e) {
      if (!error) {
        throw e;
      }
    }
    if (error)     errC++;
 else     nerrC++;
  }
  System.err.println("Finished SYNC_ACK");
  final int duplicate=2;
  assertEquals("Checking failure messages.",errC + duplicate,listener1.errCnt);
  assertEquals("Checking success messages.",nerrC,listener1.noErrCnt);
  assertEquals("Checking all messages.",msgCount + duplicate,listener1.noErrCnt + listener1.errCnt);
  System.out.println("Listener 1 stats:");
  listener1.printStats(System.out);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestErrorReportValve </h4><pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Custom error/status codes should not result in a blank response.
 */
@Test public void testBug54536() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54536",new Bug54536Servlet());
  ctx.addServletMapping("/","bug54536");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertEquals(Bug54536Servlet.ERROR_STATUS,rc);
  String body=res.toString();
  Assert.assertNotNull(body);
  Assert.assertTrue(body,body.contains(Bug54536Servlet.ERROR_MESSAGE));
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54220SetNotFound() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54220",new Bug54220Servlet(true));
  ctx.addServletMapping("/","bug54220");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertNull(res.toString());
  Assert.assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54220DoNotSetNotFound() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54220",new Bug54220Servlet(false));
  ctx.addServletMapping("/","bug54220");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertNull(res.toString());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestRemoteIpValve </h4><pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedAndRemoteAddrMatchRegexp() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("127\\.0\\.0\\.1|192\\.168\\..*|another-internal-proxy");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("proxy1");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpsForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("https");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says https","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says https",443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto says https",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedOrInternal() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2, 192.168.0.10, 192.168.0.11");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("http");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says http","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says http",80,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto says http",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreInternal() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, 192.168.0.10, 192.168.0.11");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are internal, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("all proxies are internal, x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrusted() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeNotAllowedRemoteAddr() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("not-allowed-internal-proxy");
  request.setRemoteHost("not-allowed-internal-proxy-host");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertEquals("x-forwarded-for must be unchanged","140.211.11.130, proxy1, proxy2",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","not-allowed-internal-proxy",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","not-allowed-internal-proxy-host",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","not-allowed-internal-proxy",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","not-allowed-internal-proxy-host",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllowedRemoteAddrWithNullRemoteIpHeader() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10, 192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1, proxy2, proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","192.168.0.10",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","remote-host-original-value",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8080,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestStuckThreadDetectionValve </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInterruption() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(TimeUnit.SECONDS.toMillis(20L));
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  valve.setInterruptThreadThreshold(5);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(4000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertTrue(stuckingServlet.wasInterrupted);
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetection() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(8000L);
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(500L);
    Assert.assertEquals(0,valve.getStuckThreadIds().length);
    Thread.sleep(5000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertFalse(stuckingServlet.wasInterrupted);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.websocket.TestWebSocket </h4><pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53339() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug53339",new Bug53339Servlet());
  ctx.addServletMapping("/*","Bug53339");
  ContextEnvironment env=new ContextEnvironment();
  env.setName(Bug53339WsInbound.JNDI_NAME);
  env.setType(String.class.getName());
  env.setValue(Bug53339WsInbound.TEST_MESSAGE);
  ctx.getNamingResources().addEnvironment(env);
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET / HTTP/1.1" + CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  String msg=client.readMessage();
  assertEquals(Bug53339WsInbound.TEST_MESSAGE,msg);
  client.close();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKey() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String accept=null;
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    if (responseHeaderLine.startsWith("Sec-WebSocket-Accept: ")) {
      accept=responseHeaderLine.substring(responseHeaderLine.indexOf(':') + 2);
      break;
    }
    responseHeaderLine=client.reader.readLine();
  }
  assertTrue(accept != null);
  MessageDigest sha1Helper=MessageDigest.getInstance("SHA1");
  sha1Helper.reset();
  sha1Helper.update("TODO".getBytes(B2CConverter.ISO_8859_1));
  String source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertEquals(source,accept);
  sha1Helper.reset();
  sha1Helper.update("TOD".getBytes(B2CConverter.ISO_8859_1));
  source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertFalse(source.equals(accept));
  client.close();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: keep-alive, upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  client.sendMessage("foo",false);
  client.sendMessage("foo",true);
  assertEquals("foofoo",client.readMessage());
  client.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestAbstractHttp11Processor </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoChunking11NoContentLengthConnectionClose() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthConnectionCloseFlushingServlet",new NoContentLengthConnectionCloseFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthConnectionCloseFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Connection"));
  List<String> connections=responseHeaders.get("Connection");
  assertEquals(1,connections.size());
  assertEquals("close",connections.get(0));
  assertFalse(responseHeaders.containsKey("Transfer-Encoding"));
  assertEquals("OK",responseBody.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChunking11NoContentLength() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthFlushingServlet",new NoContentLengthFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Transfer-Encoding"));
  List<String> encodings=responseHeaders.get("Transfer-Encoding");
  assertEquals(1,encodings.size());
  assertEquals("chunked",encodings.get(0));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"TesterServlet",new TesterServlet());
  ctxt.addServletMapping("/foo","TesterServlet");
  tomcat.start();
  String requestPart1="GET /foo HTTP/1.1" + SimpleHttpClient.CRLF;
  String requestPart2="Host: any" + SimpleHttpClient.CRLF + SimpleHttpClient.CRLF;
  final Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{requestPart1,requestPart2});
  client.setRequestPause(1000);
  client.setUseContentLength(true);
  client.connect();
  Runnable send=new Runnable(){
    @Override public void run(){
      try {
        client.sendRequest();
        client.sendRequest();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
;
  Thread t=new Thread(send);
  t.start();
  Thread.sleep(1500);
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestInternalInputBuffer </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryStart(){
  Bug51557Client client=new Bug51557Client("=X-Bug51557","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557NoColon(){
  Bug51557Client client=new Bug51557Client("X-Bug51557NoColon");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557Continuation(){
  Bug51557Client client=new Bug51557Client("X-Bug=51557NoColon","foo" + SimpleHttpClient.CRLF + " bar");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryEnd(){
  Bug51557Client client=new Bug51557Client("X-Bug51557=","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestELEvaluation </h4><pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParserStringLiteral(){
  assertEquals("\\",evaluateExpression("${'\\\\'}"));
  assertEquals("\\",evaluateExpression("${\"\\\\\"}"));
  assertEquals("\\\"'$#",evaluateExpression("${'\\\\\\\"\\'$#'}"));
  assertEquals("\\\"'$#",evaluateExpression("${\"\\\\\\\"\\'$#\"}"));
  Exception e=null;
  try {
    evaluateExpression("${'\\$'}");
  }
 catch (  ELException el) {
    e=el;
  }
  assertNotNull(e);
  assertEquals("\\$",evaluateExpression("${'\\\\$'}"));
  assertEquals("\\\\$",evaluateExpression("${'\\\\\\\\$'}"));
  assertEquals("\\\"",evaluateExpression("${'\\\\\"'}"));
  assertEquals("\"\\",evaluateExpression("${'\"\\\\'}"));
  assertEquals("\\'",evaluateExpression("${'\\\\\\''}"));
  assertEquals("'\\",evaluateExpression("${'\\'\\\\'}"));
  assertEquals("\\'",evaluateExpression("${\"\\\\'\"}"));
  assertEquals("'\\",evaluateExpression("${\"'\\\\\"}"));
  assertEquals("\\\"",evaluateExpression("${\"\\\\\\\"\"}"));
  assertEquals("\"\\",evaluateExpression("${\"\\\"\\\\\"}"));
}

</code></pre>

<br>
<pre class="type-12 type-3 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testElSupportCompare(){
  compareBoth("Nulls should compare equal",0,null,null);
  compareBoth("Null should compare equal to \"\"",0,"",null);
  compareBoth("Null should be less than File()",-1,null,new File(""));
  compareBoth("Null should be less than Date()",-1,null,new Date());
  compareBoth("Date(0) should be less than Date(1)",-1,new Date(0),new Date(1));
  try {
    compareBoth("Should not compare",0,new Date(),new File(""));
    fail("Expecting ClassCastException");
  }
 catch (  ClassCastException expected) {
  }
  assertTrue(null == null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestValueExpressionImpl </h4><pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49345(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanA beanA=new TesterBeanA();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  beanA.setBean(beanB);
  ValueExpression var=factory.createValueExpression(beanA,TesterBeanA.class);
  context.getVariableMapper().setVariable("beanA",var);
  ValueExpression ve=factory.createValueExpression(context,"${beanA.bean.name}",String.class);
  String result=(String)ve.getValue(context);
  assertEquals("Tomcat",result);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValueReference(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  ValueExpression var=factory.createValueExpression(beanB,TesterBeanB.class);
  context.getVariableMapper().setVariable("beanB",var);
  ValueExpression ve=factory.createValueExpression(context,"${beanB.name}",String.class);
  String result=(String)ve.getValue(context);
  assertEquals("Tomcat",result);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValueReferenceVariable(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  ValueExpression var=factory.createValueExpression(beanB,TesterBeanB.class);
  context.getVariableMapper().setVariable("beanB",var);
  ValueExpression var2=factory.createValueExpression(context,"${beanB.name}",String.class);
  context.getVariableMapper().setVariable("foo",var2);
  ValueExpression ve=factory.createValueExpression(context,"${foo}",ValueExpression.class);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.lang.TestELSupport </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCoerceToType14(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorNoError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ELException.class) public void testCoerceToType15(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestELInterpreterFactory </h4><pre class="type-4 type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54239() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ServletContext context=ctx.getServletContext();
  ELInterpreter interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof DefaultELInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  context.setAttribute(ELInterpreter.class.getName(),SimpleELInterpreter.class.getName());
  interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  SimpleELInterpreter simpleInterpreter=new SimpleELInterpreter();
  context.setAttribute(ELInterpreter.class.getName(),simpleInterpreter);
  interpreter=ELInterpreterFactory.getELInterpreter(context);
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
  Assert.assertTrue(interpreter == simpleInterpreter);
  context.removeAttribute(ELInterpreter.class.getName());
  ctx.stop();
  ctx.addApplicationListener(Bug54239Listener.class.getName());
  ctx.start();
  interpreter=ELInterpreterFactory.getELInterpreter(ctx.getServletContext());
  Assert.assertNotNull(interpreter);
  Assert.assertTrue(interpreter instanceof SimpleELInterpreter);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestGenerator </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug56529() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56529.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String response=bc.toStringInternal();
  Assert.assertTrue(response,response.contains("[1:attribute1: '', attribute2: '']"));
  Assert.assertTrue(response,response.contains("[2:attribute1: '', attribute2: '']"));
}

</code></pre>

<br>
<pre class="type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug56581() throws LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  try {
    getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56581.jsp",res,null);
    Assert.fail("An IOException was expected.");
  }
 catch (  IOException expected) {
  }
  String result=res.toString();
  assertTrue(result.startsWith("0 Hello world!\n"));
  assertTrue(result.endsWith("999 Hello world!\n"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestTagPluginManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54240() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ServletContext context=ctx.getServletContext();
  TagPluginManager manager=new TagPluginManager(context);
  Node.Nodes nodes=new Node.Nodes();
  Node.CustomTag c=new Node.CustomTag("test:ATag","test","ATag","http://tomcat.apache.org/jasper",null,null,null,null,null,new TagFileInfo("ATag","http://tomcat.apache.org/jasper",tagInfo));
  c.setTagHandlerClass(TesterTag.class);
  nodes.add(c);
  manager.apply(nodes,null,null);
  Node n=nodes.getNode(0);
  Assert.assertNotNull(n);
  Assert.assertTrue(n instanceof Node.CustomTag);
  Node.CustomTag t=(Node.CustomTag)n;
  Assert.assertNotNull(t.getAtSTag());
  Node.Nodes sTag=c.getAtSTag();
  Node scriptlet=sTag.getNode(0);
  Assert.assertNotNull(scriptlet);
  Assert.assertTrue(scriptlet instanceof Node.Scriptlet);
  Node.Scriptlet s=(Node.Scriptlet)scriptlet;
  Assert.assertEquals("//Just a comment",s.getText());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestCustomHttpJspPage </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomBasePageWhenUsingTagFiles() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58444.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("00-PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspContextWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testELTagFilePageContext() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58178.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspWriterImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug54241a() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54241a.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("01: null"));
  Assert.assertTrue(body.contains("02: null"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestPageContextImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoForward() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53545.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAIL"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncludeThrowsIOException() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
  res=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp?flush=true",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  body=res.toString();
  Assert.assertTrue(body.contains("Flush"));
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.util.TestFastRemovalDequeue </h4><pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.push(o1);
  Object r=q.pop();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushUnpush() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.push(o1);
  Object r=q.unpush();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoubleUnpopPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.unpop(o1);
  q.unpop(o2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  Object r2=q.pop();
  assertEquals(o2,r2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.pop();
  assertEquals(o1,r1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushUnpush() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.push(o1);
  q.push(o2);
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r2=q.unpush();
  assertEquals(o2,r2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.unpush();
  assertEquals(o1,r1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleUnpopPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.unpop(o1);
  Object r=q.pop();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushRemove() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  FastRemovalDequeue.Entry e1=q.push(o1);
  assertEquals(o1,e1.getContent());
  q.remove(e1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.push(o1);
  q.push(o2);
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.pop();
  assertEquals(o1,r1);
  assertEquals(o2,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  Object r2=q.pop();
  assertEquals(o2,r2);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushRemove() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  FastRemovalDequeue.Entry e1=q.push(o1);
  FastRemovalDequeue.Entry e2=q.push(o2);
  assertEquals(o1,e1.getContent());
  assertEquals(o2,e2.getContent());
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  q.remove(e1);
  assertEquals(o2,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  q.remove(e2);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.naming.resources.TestNamingContext </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53465() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  File appDir=new File("test/webapp-3.0");
  org.apache.catalina.Context ctxt=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53465.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("<p>10</p>"));
  ContextEnvironment ce=ctxt.getNamingResources().findEnvironment("bug53465");
  Assert.assertEquals("Bug53465MappedName",ce.getProperty("mappedName"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52830() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  ContextEnvironment env=new ContextEnvironment();
  env.setName("boolean");
  env.setType(Boolean.class.getName());
  env.setValue("true");
  ctx.getNamingResources().addEnvironment(env);
  Bug52830Servlet bug52830Servlet=new Bug52830Servlet();
  Tomcat.addServlet(ctx,"bug52830Servlet",bug52830Servlet);
  ctx.addServletMapping("/","bug52830Servlet");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("truetrue"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String foxText="The quick brown fox jumps over the lazy dog";
  String loremIpsum="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
  File tmpDir=new File(getTemporaryDirectory(),"tomcat-unit-test." + TestNamingContext.class.getName());
  ExpandWar.delete(tmpDir);
  File docBase=new File(tmpDir,"docBase");
  File alternate1=new File(tmpDir,"alternate1");
  File alternate2=new File(tmpDir,"alternate2");
  addDeleteOnTearDown(tmpDir);
  if (!tmpDir.mkdirs())   throw new IOException("Could not create temp directory " + tmpDir);
  if (!docBase.mkdir())   throw new IOException("Could not create temp directory " + docBase);
  if (!alternate1.mkdir())   throw new IOException("Could not create temp directory " + alternate1);
  if (!alternate2.mkdir())   throw new IOException("Could not create temp directory " + alternate2);
  FileOutputStream fos=new FileOutputStream(new File(alternate1,"test1.txt"));
  try {
    fos.write(foxText.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  fos=new FileOutputStream(new File(alternate2,"test2.txt"));
  try {
    fos.write(loremIpsum.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  FileDirContext ctx=new FileDirContext();
  ctx.setDocBase(docBase.getCanonicalPath());
  ctx.setAliases("/a1=" + alternate1.getCanonicalPath() + ",/a2="+ alternate2.getCanonicalPath());
  Object file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  byte[] buffer=new byte[4096];
  Resource res=(Resource)file;
  InputStream is=res.streamContent();
  int len;
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  String contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
  ctx.setAliases("   /a1= " + alternate1.getCanonicalPath() + "\n\n"+ ", /a2 =\n"+ alternate2.getCanonicalPath()+ ",");
  file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.AbandonPercentageTest </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHalfway() throws Exception {
  int size=100;
  this.datasource.setMaxActive(size);
  this.datasource.setMaxIdle(size);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(50);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(500);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Connection[] con=new Connection[size];
  con[0]=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  for (int i=1; i < 25; i++) {
    con[i]=datasource.getConnection();
  }
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  for (int i=25; i < con.length; i++) {
    con[i]=datasource.getConnection();
  }
  int active=datasource.getPool().getActive();
  System.out.println("Active:" + active);
  Assert.assertEquals("Number of connections active/busy should be " + con.length,con.length,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Thread.sleep(2500);
  Assert.assertTrue("Number of connections should be less than 50.",(datasource.getPool().getActive() < 50));
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be " + 0,0,datasource.getPool().getActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.EqualsHashCodeTest </h4><pre class="type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals() throws Exception {
  Connection con1=datasource.getConnection();
  Connection real1=((PooledConnection)con1).getConnection();
  Assert.assertEquals(con1,con1);
  con1.close();
  Assert.assertEquals(con1,con1);
  Connection con2=datasource.getConnection();
  Connection real2=((PooledConnection)con2).getConnection();
  Assert.assertEquals(real1,real2);
  Assert.assertEquals(con2,con2);
  Assert.assertNotSame(con1,con2);
  con2.close();
  Assert.assertEquals(con2,con2);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode() throws Exception {
  Connection con1=datasource.getConnection();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  con1.close();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  Connection con2=datasource.getConnection();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
  Assert.assertTrue(con1.hashCode() != con2.hashCode());
  con2.close();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.JmxPasswordTest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassword() throws Exception {
  Assert.assertEquals("Passwords should match when not using JMX.",password,datasource.getPoolProperties().getPassword());
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  ConnectionPoolMBean mbean=JMX.newMBeanProxy(mbs,oname,ConnectionPoolMBean.class);
  String jmxPassword=mbean.getPassword();
  Properties jmxProperties=mbean.getDbProperties();
  Assert.assertFalse("Passwords should not match.",password.equals(jmxPassword));
  Assert.assertFalse("Password property should be missing",jmxProperties.containsKey(PoolUtilities.PROP_PASSWORD));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.PoolCleanerTest </h4><pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2PoolCleaners() throws Exception {
  datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(2000);
  datasource.getPoolProperties().setTestWhileIdle(true);
  DataSource ds2=new DataSource(datasource.getPoolProperties());
  Assert.assertEquals("Pool cleaner should not be started yet.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present.",0,countPoolCleanerThreads());
  datasource.getConnection().close();
  ds2.getConnection().close();
  Assert.assertEquals("Pool cleaner should have 2 cleaner.",2,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should be 1.",1,countPoolCleanerThreads());
  datasource.close();
  Assert.assertEquals("Pool cleaner should have 1 cleaner.",1,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  ds2.close();
  Assert.assertEquals("Pool shutdown, no cleaners should be present.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null after shutdown",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present after close.",0,countPoolCleanerThreads());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPoolCleaner() throws Exception {
  datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(2000);
  datasource.getPoolProperties().setTestWhileIdle(true);
  Assert.assertEquals("Pool cleaner should not be started yet.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present.",0,countPoolCleanerThreads());
  datasource.getConnection().close();
  Assert.assertEquals("Pool cleaner should have 1 cleaner.",1,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should be 1.",1,countPoolCleanerThreads());
  datasource.close();
  Assert.assertEquals("Pool shutdown, no cleaners should be present.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null after shutdown",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present after close.",0,countPoolCleanerThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestAsyncQueue </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncPoll2() throws Exception {
  Object item=new Object();
  OfferThread thread=new OfferThread(item,5000);
  thread.start();
  Future future=queue.pollAsync();
  try {
    future.get(2000,TimeUnit.MILLISECONDS);
    Assert.assertFalse("Request should have timed out",true);
  }
 catch (  TimeoutException x) {
    Assert.assertTrue("Request timed out properly",true);
  }
catch (  Exception x) {
    Assert.assertTrue("Request threw an error",false);
    x.printStackTrace();
  }
  Assert.assertEquals(future.get(),item);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestConcurrency </h4><pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutalNonFair() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  ds.getConnection().close();
  final int iter=1000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          Thread.sleep(10);
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      if (debug) {
        System.out.println("Size: " + ds.getPool().getSize());
        System.out.println("Used: " + ds.getPool().getActive());
        System.out.println("Idle: " + ds.getPool().getIdle());
        System.out.println("Wait: " + ds.getPool().getWaitCount());
      }
      Thread.sleep(250);
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutal() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestGetConnection </h4><pre class="type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetConnection() throws Exception {
  Connection con=this.datasource.getConnection();
  Assert.assertTrue("Connection should implement javax.sql.PooledConnection",con instanceof PooledConnection);
  Connection actual=((PooledConnection)con).getConnection();
  Assert.assertNotNull("Connection delegate should not be null.",actual);
  System.out.println("Actual connection:" + actual.getClass().getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestInterceptorShortName </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShortInterceptor() throws Exception {
  this.datasource=this.createDefaultDataSource();
  this.datasource.setJdbcInterceptors("TestInterceptor");
  this.datasource.setUseDisposableConnectionFacade(false);
  this.datasource.setMaxActive(1);
  this.datasource.createPool();
  Assert.assertEquals("Only one interceptor should have been called setProperties[1]",1,TestInterceptor.instancecount.get());
  TestInterceptor.instancecount.set(0);
  Connection con=this.datasource.getConnection();
  Assert.assertTrue("Pool should have been started.",TestInterceptor.poolstarted);
  Assert.assertEquals("Only one interceptor should have been called setProperties[2]",1,TestInterceptor.instancecount.get());
  con.close();
  this.datasource.close();
  Assert.assertTrue("Pool should have been closed.",TestInterceptor.poolclosed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSlowQueryReport </h4><pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlowSqlJmx() throws Exception {
  int count=1;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReportJmx.class.getName() + "(threshold=50,notifyPool=false)");
  Connection con=this.datasource.getConnection();
  String slowSql="select count(1) from test where val1 like 'ewq%eq'";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(slowSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  ClientListener listener=new ClientListener();
  ConnectionPool pool=datasource.getPool();
  ManagementFactory.getPlatformMBeanServer().addNotificationListener(new SlowQueryReportJmx().getObjectName(SlowQueryReportJmx.class,pool.getName()),listener,null,null);
  for (int i=0; i < count; i++) {
    PreparedStatement st=con.prepareStatement(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    CallableStatement st=con.prepareCall(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  Assert.assertEquals("Expecting to have received " + (2 * count) + " notifications.",2 * count,listener.notificationCount.get());
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailedSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName());
  Connection con=this.datasource.getConnection();
  String slowSql="select 1 from non_existent";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    try {
      ResultSet rs=st.executeQuery(slowSql);
      rs.close();
    }
 catch (    Exception x) {
    }
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  ConnectionPool pool=datasource.getPool();
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFastSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName());
  Connection con=this.datasource.getConnection();
  String fastSql=this.datasource.getValidationQuery();
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(fastSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(0,map.size());
  ConnectionPool pool=datasource.getPool();
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlowSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName() + "(threshold=50)");
  Connection con=this.datasource.getConnection();
  String slowSql="select count(1) from test where val1 like 'ewq%eq' and val2 = 'ew%rre' and val3 = 'sda%da' and val4 = 'dad%ada'";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(slowSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    PreparedStatement st=con.prepareStatement(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    CallableStatement st=con.prepareCall(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  ConnectionPool pool=datasource.getPool();
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestStatementCache </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache2() throws Exception {
  init();
  config(false,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache() throws Exception {
  config(true,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties() throws Exception {
  config(true,true,50);
  datasource.getConnection().close();
  Assert.assertTrue(interceptor.isCacheCallable());
  Assert.assertTrue(interceptor.isCachePrepared());
  Assert.assertEquals(50,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties2() throws Exception {
  config(false,false,100);
  datasource.getConnection().close();
  Assert.assertFalse(interceptor.isCacheCallable());
  Assert.assertFalse(interceptor.isCachePrepared());
  Assert.assertEquals(100,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSuspectTimeout </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspect() throws Exception {
  this.datasource.setMaxActive(100);
  this.datasource.setMaxIdle(100);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  this.datasource.getPoolProperties().setSuspectTimeout(1);
  this.datasource.getPoolProperties().setLogAbandoned(true);
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  Thread.sleep(3000);
  PooledConnection pcon=con.unwrap(PooledConnection.class);
  Assert.assertTrue("Connection should be marked suspect",pcon.isSuspect());
  con.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestValidationQueryTimeout </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidationQueryTimeoutWithQueryTimeoutInterceptor() throws Exception {
  int interceptorTimeout=30;
  this.datasource.setJdbcInterceptors(QueryTimeoutInterceptor.class.getName() + "(queryTimeout=" + interceptorTimeout+ ")");
  Connection con=this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
  TIMEOUT=30;
  Statement st=con.createStatement();
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareStatement("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareCall("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  con.close();
  TIMEOUT=10;
  isTimeoutSet=false;
  this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestAscii </h4><pre class="type-4 type-12 type-6 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NumberFormatException.class) public void testParseLong4(){
  BigInteger x=BigInteger.valueOf(5000000000L).shiftLeft(32);
  byte[] bytes=String.valueOf(x).getBytes();
  long result=Ascii.parseLong(bytes,0,bytes.length);
  Assert.fail("NumberFormatException expected, got: " + result);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-6 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NumberFormatException.class) public void testParseLong3(){
  byte[] bytes="9223372036854775810".getBytes();
  long result=Ascii.parseLong(bytes,0,bytes.length);
  Assert.fail("NumberFormatException expected, got: " + result);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-6 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies that exceptions are thrown during the test case execution
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=NumberFormatException.class) public void testParseLong2(){
  byte[] bytes="9223372036854775808".getBytes();
  long result=Ascii.parseLong(bytes,0,bytes.length);
  Assert.fail("NumberFormatException expected, got: " + result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestUEncoder </h4><pre class="type-12 type-3 type-11 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEncodeURLWithSlashInit() throws IOException {
  UEncoder urlEncoder=new UEncoder(SafeCharsSet.WITH_SLASH);
  String s="a+b/c/d+e.class";
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("a%2bb/c/d%2be.class"));
  assertTrue(urlEncoder.encodeURL(s,2,s.length() - 2).equals("b/c/d%2be.cla"));
  try {
    urlEncoder.addSafeCharacter('+');
    fail();
  }
 catch (  IllegalStateException e) {
  }
  s=new String(new char[]{0xD801,0xDC01});
  assertTrue(urlEncoder.encodeURL(s,0,s.length()).equals("%f0%90%90%81"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.descriptor.TestLocalResolver </h4><pre class="type-4 type-11 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownRelativeSystemId() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,null,"http://example.com/home.html","unknown");
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals("http://example.com/unknown",source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownSystemId() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,"unknown");
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals("unknown",source.getSystemId());
}

</code></pre>

<br>
<pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownPublicId() throws IOException, SAXException {
  Assert.assertNull(resolver.resolveEntity("unknown",null));
}

</code></pre>

<br>
<pre class="type-5 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownNullId() throws IOException, SAXException {
  Assert.assertNull(resolver.resolveEntity(null,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestParameters </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParametersLimit(){
  Parameters p=new Parameters();
  p.setLimit(2);
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo1");
  assertNull(values);
  p.addParameter("foo1","value1");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  p.addParameter("foo2","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
  IllegalStateException e=null;
  try {
    p.addParameter("foo3","value3");
  }
 catch (  IllegalStateException ise) {
    e=ise;
  }
  assertNotNull(e);
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNonExistantParameter(){
  Parameters p=new Parameters();
  String value=p.getParameter("foo");
  assertNull(value);
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo");
  assertNull(values);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParameters(){
  Parameters p=new Parameters();
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo");
  assertNull(values);
  p.addParameter("foo","value1");
  p.addParameter("foo","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(2,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  p.addParameter("foo","value3");
  p.addParameter("foo","value4");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(4,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  assertEquals("value3",values[2]);
  assertEquals("value4",values[3]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapper </h4><pre class="type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddRemoveContextVersion() throws Exception {
  final String hostName="iowejoiejfoiew";
  final int iowPos=3;
  final String contextPath="/foo/bar";
  final int contextPos=2;
  MappingData mappingData=new MappingData();
  MessageBytes hostMB=MessageBytes.newInstance();
  MessageBytes uriMB=MessageBytes.newInstance();
  hostMB.setString(hostName);
  uriMB.setString("/foo/bar/blah/bobou/foo");
  Mapper.Host mappedHost=mapper.hosts[iowPos];
  assertEquals(hostName,mappedHost.name);
  Mapper.Context mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  Object oldHost=mappedHost.object;
  Object oldContext=mappedContext.versions[0].object;
  assertEquals("context2",oldContext.toString());
  Object oldContext1=mappedHost.contextList.contexts[contextPos - 1].versions[0].object;
  assertEquals("context1",oldContext1.toString());
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext2.map(uriMB,mappingData);
  assertEquals("wrapper5",mappingData.wrapper.toString());
  Object newContext="newContext";
  mapper.addContextVersion(hostName,oldHost,contextPath,"1",newContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newContext-default",false,false)}),false,false);
  assertEquals(2,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  assertEquals("1",mappedContext.versions[1].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-default",mappingData.wrapper.toString());
  mapper.removeContextVersion(hostName,contextPath,"0");
  assertEquals(1,mappedContext.versions.length);
  assertEquals("1",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-default",mappingData.wrapper.toString());
  mapper.removeContextVersion(hostName,contextPath,"1");
  assertNotSame(mappedContext,mappedHost.contextList.contexts[contextPos]);
  assertEquals("/foo/bar/bla",mappedHost.contextList.contexts[contextPos].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("context1",mappingData.context.toString());
  assertEquals("context1-defaultWrapper",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext1.map(uriMB,mappingData);
  assertEquals("context1-defaultWrapper",mappingData.wrapper.toString());
  mapper.addContextVersion(hostName,oldHost,contextPath,"0",newContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newContext-defaultWrapper2",false,false)}),false,false);
  mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-defaultWrapper2",mappingData.wrapper.toString());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMap() throws Exception {
  MappingData mappingData=new MappingData();
  MessageBytes host=MessageBytes.newInstance();
  host.setString("iowejoiejfoiew");
  MessageBytes alias=MessageBytes.newInstance();
  alias.setString("iowejoiejfoiew_alias");
  MessageBytes uri=MessageBytes.newInstance();
  uri.setString("/foo/bar/blah/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context2",mappingData.context);
  assertEquals("wrapper5",mappingData.wrapper);
  assertEquals("/foo/bar",mappingData.contextPath.toString());
  assertEquals("/blah/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(alias,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddHost() throws Exception {
  mapper.addHost("iowejoiejfoiew",new String[0],"blah17");
  mapper.addHostAlias("iowejoiejfoiew","qwigqwiwoih");
  mapper.addHostAlias("sjbjdvwsbvhrb","iowejoiejfoiew_alias");
  mapper.addHostAlias("qwigqwiwoih","qwigqwiwoih");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  assertEquals("blah7",mapper.hosts[iowPos].object);
  final int qwigPos=8;
  assertEquals("blah14",mapper.hosts[qwigPos].object);
  String previous;
  String current=mapper.hosts[0].name;
  for (int i=1; i < mapper.hosts.length; i++) {
    previous=current;
    current=mapper.hosts[i].name;
    assertTrue(previous.compareTo(current) < 0);
  }
  Mapper.Host host=mapper.hosts[iowPos];
  Mapper.Host alias=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew",host.name);
  assertEquals("iowejoiejfoiew_alias",alias.name);
  assertFalse(host.isAlias());
  assertTrue(alias.isAlias());
  assertEquals(host.object,alias.object);
  Object hostZ="zzzz";
  Object contextZ="contextZ";
  assertEquals(16,mapper.hosts.length);
  mapper.addContextVersion("zzzz",hostZ,"/","",contextZ,null,null,null,false,false);
  assertEquals(17,mapper.hosts.length);
  mapper.addHost("zzzz",new String[]{"zzzz_alias1","zzzz_alias2"},hostZ);
  assertEquals(19,mapper.hosts.length);
  assertEquals("zzzz",mapper.hosts[16].name);
  assertEquals("zzzz_alias1",mapper.hosts[17].name);
  assertEquals("zzzz_alias2",mapper.hosts[18].name);
  assertEquals(2,mapper.hosts[16].getAliases().size());
  assertSame(contextZ,mapper.hosts[16].contextList.contexts[0].versions[0].object);
  assertSame(contextZ,mapper.hosts[18].contextList.contexts[0].versions[0].object);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReloadContextVersion() throws Exception {
  final String hostName="iowejoiejfoiew";
  final int iowPos=3;
  final String contextPath="/foo/bar";
  final int contextPos=2;
  MappingData mappingData=new MappingData();
  MessageBytes hostMB=MessageBytes.newInstance();
  MessageBytes uriMB=MessageBytes.newInstance();
  hostMB.setString(hostName);
  uriMB.setString("/foo/bar/blah/bobou/foo");
  Mapper.Host mappedHost=mapper.hosts[iowPos];
  assertEquals(hostName,mappedHost.name);
  Mapper.Context mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  Object oldHost=mappedHost.object;
  Object oldContext=mappedContext.versions[0].object;
  assertEquals("context2",oldContext.toString());
  Object oldContext1=mappedHost.contextList.contexts[contextPos - 1].versions[0].object;
  assertEquals("context1",oldContext1.toString());
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext2.map(uriMB,mappingData);
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mapper.pauseContextVersion(oldContext,hostName,contextPath,"0");
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertNull(mappingData.wrapper);
  mapper.addContextVersion(hostName,oldHost,contextPath,"0",oldContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newDefaultWrapper",false,false)}),false,false);
  mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("newDefaultWrapper",mappingData.wrapper.toString());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveHost(){
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew");
  mapper.removeHost("iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew_alias");
  assertEquals(15,mapper.hosts.length);
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  Mapper.Host hostMapping=mapper.hosts[iowPos];
  Mapper.Host aliasMapping=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew_alias",aliasMapping.name);
  assertTrue(aliasMapping.isAlias());
  assertSame(hostMapping.object,aliasMapping.object);
  assertEquals("iowejoiejfoiew",hostMapping.getRealHostName());
  assertEquals("iowejoiejfoiew",aliasMapping.getRealHostName());
  assertSame(hostMapping,hostMapping.getRealHost());
  assertSame(hostMapping,aliasMapping.getRealHost());
  mapper.removeHost("iowejoiejfoiew");
  assertEquals(14,mapper.hosts.length);
  for (  Mapper.Host host : mapper.hosts) {
    assertTrue(host.name,!host.name.startsWith("iowejoiejfoiew"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapperWebapps </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileNotStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("Servlet"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  ctxt.setResourceOnlyServlets("");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.parser.TestMediaType </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53353() throws IOException {
  String input="text/html; UTF-8;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 2);
  assertEquals("",m.getParameterValue("UTF-8"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
  assertEquals("UTF-8",m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52811() throws IOException {
  String input="multipart/related;boundary=1_4F50BD36_CDF8C28;" + "Start=\"<31671603.smil>\";" + "Type=\"application/smil;charset=UTF-8\"";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("multipart",m.getType());
  assertEquals("related",m.getSubtype());
  assertTrue(m.getParameterCount() == 3);
  assertEquals("1_4F50BD36_CDF8C28",m.getParameterValue("boundary"));
  assertEquals("\"<31671603.smil>\"",m.getParameterValue("Start"));
  assertEquals("\"application/smil;charset=UTF-8\"",m.getParameterValue("Type"));
  String expected="multipart/related; boundary=1_4F50BD36_CDF8C28; " + "start=\"<31671603.smil>\"; " + "type=\"application/smil;charset=UTF-8\"";
  assertEquals(expected,m.toString());
  assertEquals(expected,m.toStringNoCharset());
  assertNull(m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug55454() throws IOException {
  String input="text/html;;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 1);
  assertEquals("UTF-8",m.getParameterValue("charset"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.net.TestSsl </h4><pre class="type-12 type-13 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Sets implicit assumptions ">AssumptionSetter</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Sets implicit assumptions 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRenegotiateWorks() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Assume.assumeTrue("SSL renegotiation has to be supported for this test",TesterSupport.isRenegotiationSupported(getTomcatInstance()));
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  SSLContext sslCtx=SSLContext.getInstance("TLS");
  sslCtx.init(null,TesterSupport.getTrustManagers(),null);
  SSLSocketFactory socketFactory=new TesterSupport.NoSSLv2SocketFactory(sslCtx.getSocketFactory());
  SSLSocket socket=(SSLSocket)socketFactory.createSocket("localhost",getPort());
  OutputStream os=socket.getOutputStream();
  os.write("GET /examples/servlets/servlet/HelloWorldExample HTTP/1.1\n".getBytes());
  os.flush();
  socket.startHandshake();
  try {
    os.write("Host: localhost\n\n".getBytes());
  }
 catch (  IOException ex) {
    ex.printStackTrace();
    fail("Re-negotiation failed");
  }
  InputStream is=socket.getInputStream();
  Reader r=new InputStreamReader(is);
  BufferedReader br=new BufferedReader(r);
  String line=br.readLine();
  while (line != null) {
    line=br.readLine();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.net.TestXxxEndpoint </h4><pre class="type-4 type-10 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartStopBindOnStart() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Connector c=tomcat.getConnector();
  c.setProperty("bindOnInit","false");
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  int port=getPort();
  tomcat.getConnector().stop();
  Exception e=null;
  ServerSocket s=null;
  long pool=0;
  long nativeSocket=0;
  boolean isApr=tomcat.getConnector().getProtocolHandlerClassName().contains("Apr");
  try {
    if (isApr) {
      pool=createAprPool();
      assertTrue(pool != 0);
      nativeSocket=createAprSocket(port,pool);
      assertTrue(nativeSocket != 0);
    }
 else {
      s=new ServerSocket(port,100,InetAddress.getByName("localhost"));
    }
  }
 catch (  Exception e1) {
    e=e1;
  }
 finally {
    try {
      if (isApr) {
        destroyAprSocket(nativeSocket,pool);
      }
 else       if (s != null) {
        s.close();
      }
    }
 catch (    Exception e2) {
    }
  }
  assertNull(e);
  tomcat.getConnector().start();
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStartStopBindOnInit() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  int port=getPort();
  tomcat.getConnector().stop();
  Exception e=null;
  ServerSocket s=null;
  long pool=0;
  long nativeSocket=0;
  boolean isApr=tomcat.getConnector().getProtocolHandlerClassName().contains("Apr");
  try {
    if (isApr) {
      pool=createAprPool();
      assertTrue(pool != 0);
      nativeSocket=createAprSocket(port,pool);
      assertTrue(nativeSocket != 0);
    }
 else {
      s=new ServerSocket(port,100,InetAddress.getByName("localhost"));
    }
  }
 catch (  Exception e1) {
    e=e1;
  }
 finally {
    try {
      if (isApr) {
        destroyAprSocket(nativeSocket,pool);
      }
 else       if (s != null) {
        s.close();
      }
    }
 catch (    Exception e2) {
    }
  }
  if (e != null) {
    log.info("Exception was",e);
  }
  assertNotNull(e);
  tomcat.getConnector().start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.threads.TestLimitLatch </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadWaitCountUp() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.countDown();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTenWait() throws Exception {
  LimitLatch latch=new LimitLatch(10);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread[] testThread=new TestThread[30];
  for (int i=0; i < 30; i++) {
    testThread[i]=new TestThread(latch,1000);
    testThread[i].start();
  }
  Thread.sleep(50);
  assertEquals("20 threads should be waiting",20,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertEquals("10 threads should be waiting",10,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadNoWait() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  testThread.start();
  Thread.sleep(50);
  assertEquals("0 threads should be waiting",0,latch.getQueuedThreads().size());
  latch.countUpOrAwait();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneRelease() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.releaseAll();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsPingPongMessages </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingPongMessages() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://localhost:" + getPort() + TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  TesterEndpoint tep=(TesterEndpoint)wsSession.getUserProperties().get("endpoint");
  tep.setLatch(latch);
  PongMessageHandler handler=new PongMessageHandler(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendPing(applicationData);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Assert.assertArrayEquals(applicationData.array(),(handler.getMessages().peek()).getApplicationData().array());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsSubprotocols </h4><pre class="type-10 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWsSubprotocols() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp3")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  if (wsSession.getNegotiatedSubprotocol() != null) {
    Assert.assertTrue(wsSession.getNegotiatedSubprotocol().isEmpty());
  }
  wsSession.close();
  SubProtocolsEndpoint.recycle();
  wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp2")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  Assert.assertEquals("sp2",wsSession.getNegotiatedSubprotocol());
  int count=0;
  while (count < 50 && SubProtocolsEndpoint.subprotocols == null) {
    count++;
    Thread.sleep(100);
  }
  Assert.assertNotNull(SubProtocolsEndpoint.subprotocols);
  Assert.assertArrayEquals(new String[]{"sp1","sp2"},SubProtocolsEndpoint.subprotocols.toArray(new String[2]));
  wsSession.close();
  SubProtocolsEndpoint.recycle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsWebSocketContainer </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpoint() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxBinaryMessageBufferSize(64);
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
  ((WsWebSocketContainer)wsContainer).destroy();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpointSSL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  ClientEndpointConfig clientEndpointConfig=ClientEndpointConfig.Builder.create().build();
  URL truststoreUrl=this.getClass().getClassLoader().getResource("org/apache/tomcat/util/net/ca.jks");
  File truststoreFile=new File(truststoreUrl.toURI());
  clientEndpointConfig.getUserProperties().put(WsWebSocketContainer.SSL_TRUSTSTORE_PROPERTY,truststoreFile.getAbsolutePath());
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,clientEndpointConfig,new URI("wss://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOpenSessions() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  EndpointA endpointA=new EndpointA();
  Session s1a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s2a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  EndpointB endpointB=new EndpointB();
  Session s1b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Session s2b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Set<Session> setA=s3a.getOpenSessions();
  Assert.assertEquals(3,setA.size());
  Assert.assertTrue(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  s1a.close();
  setA=s3a.getOpenSessions();
  Assert.assertEquals(2,setA.size());
  Assert.assertFalse(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  Set<Session> setB=s1b.getOpenSessions();
  Assert.assertEquals(2,setB.size());
  Assert.assertTrue(setB.remove(s1b));
  Assert.assertTrue(setB.remove(s2b));
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSessionExpiryContainer() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WsWebSocketContainer wsContainer=(WsWebSocketContainer)ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxSessionIdleTimeout(5000);
  wsContainer.setProcessPeriod(1);
  EndpointA endpointA=new EndpointA();
  connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Set<Session> setA=s3a.getOpenSessions();
  Assert.assertEquals(3,setA.size());
  int count=0;
  boolean isOpen=true;
  while (isOpen && count < 8) {
    count++;
    Thread.sleep(1000);
    isOpen=false;
    for (    Session session : setA) {
      if (session.isOpen()) {
        isOpen=true;
        break;
      }
    }
  }
  if (isOpen) {
    for (    Session session : setA) {
      if (session.isOpen()) {
        System.err.println("Session with ID [" + session.getId() + "] is open");
      }
    }
    Assert.fail("There were open sessions");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.pojo.TestPojoMethodMapping </h4><pre class="type-4 type-10 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  Server server=new Server();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(Server.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  SimpleClient client=new SimpleClient();
  URI uri=new URI("ws://localhost:" + getPort() + "/"+ PARAM_ONE+ "/"+ PARAM_TWO+ "/"+ PARAM_THREE);
  Session session=wsContainer.connectToServer(client,uri);
  session.getBasicRemote().sendText("NO-OP");
  session.close();
  int count=0;
  while (count < 200) {
    if (server.isClosed()) {
      break;
    }
    count++;
    Thread.sleep(100);
  }
  if (count == 50) {
    Assert.fail("Server did not process an onClose event within 5 " + "seconds of the client sending a close message");
  }
  List<String> errors=server.getErrors();
  for (  String error : errors) {
    System.err.println(error);
  }
  Assert.assertEquals("Found errors",0,errors.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestUriTemplate </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  UriTemplate t=new UriTemplate("/{a}/{b}");
  Map<String,String> result=t.match(new UriTemplate("/foo/bar"));
  Assert.assertEquals(2,result.size());
  Assert.assertTrue(result.containsKey("a"));
  Assert.assertTrue(result.containsKey("b"));
  Assert.assertEquals("foo",result.get("a"));
  Assert.assertEquals("bar",result.get("b"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestWsServerContainer </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug58232() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Bug54807Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Assert.assertEquals(LifecycleState.STARTED,ctx.getState());
  SimpleClient client=new SimpleClient();
  URI uri=new URI("ws://localhost:" + getPort() + "/echoBasic");
  Session session=null;
  try {
    session=wsContainer.connectToServer(client,uri);
    CountDownLatch latch=new CountDownLatch(1);
    BasicText handler=new BasicText(latch);
    session.addMessageHandler(handler);
    session.getBasicRemote().sendText("echoBasic");
    boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
    Assert.assertTrue(latchResult);
    Queue<String> messages=handler.getMessages();
    Assert.assertEquals(1,messages.size());
    for (    String message : messages) {
      Assert.assertEquals("echoBasic",message);
    }
  }
  finally {
    if (session != null) {
      session.close();
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
