<h3><span class=" glyphicon glyphicon-tag"/>&nbspEqualityVerifier</h3><kbd>Verifies whether objects/variable are equal to an expected value </kbd><br><br><br><h4 style="margin:0px">Class: javax.el.TestArrayELResolver </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  resolver.setValue(context,base,new Integer(0),"new-element");
  Assert.assertEquals("new-element",resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
  resolver.setValue(context,base,new Integer(0),null);
  Assert.assertEquals(null,resolver.getValue(context,base,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a result is returned even when a coercion cannot be performed.
 */
@Test public void testGetType05(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,"index");
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Class<?> result=resolver.getType(context,base,new Integer(0));
  Assert.assertEquals(base.getClass().getComponentType(),result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  String[] base=new String[]{"element"};
  Object result=resolver.getValue(context,base,new Integer(0));
  Assert.assertEquals("element",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests setting arrays of primitives.
 * https://bz.apache.org/bugzilla/show_bug.cgi?id=55691
 */
@Test public void testSetValue08(){
  ArrayELResolver resolver=new ArrayELResolver();
  ELContext context=new ELContextImpl();
  int[] base=new int[]{1,2,3};
  resolver.setValue(context,base,new Integer(1),Integer.valueOf(4));
  Assert.assertEquals(Integer.valueOf(base[1]),Integer.valueOf(4));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestBeanELResolver </h4><pre class="type-8 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Iterator<FeatureDescriptor> result=resolver.getFeatureDescriptors(context,new Bean());
  while (result.hasNext()) {
    PropertyDescriptor featureDescriptor=(PropertyDescriptor)result.next();
    Assert.assertEquals(featureDescriptor.getPropertyType(),featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=resolver.getType(context,new Bean(),PROPERTY01_NAME);
  Assert.assertEquals(String.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests a method invocation.
 */
@Test public void testInvoke03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.invoke(context,new TesterBean(BEAN_NAME),METHOD01_NAME,new Class<?>[]{},new Object[]{});
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  Object result=resolver.getValue(context,new TesterBean(BEAN_NAME),PROPERTY03_NAME);
  Assert.assertEquals(BEAN_NAME,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testSetValue04(){
  BeanELResolver resolver=new BeanELResolver();
  ELContext context=new ELContextImpl();
  TesterBean bean=new TesterBean(BEAN_NAME);
  resolver.setValue(context,bean,PROPERTY03_NAME,PROPERTY_VALUE);
  Assert.assertEquals(PROPERTY_VALUE,resolver.getValue(context,bean,PROPERTY03_NAME));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestBeanELResolverVarargsInvocation </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests varargs that come after an opening argument.
 */
@Test public void testJoinDelimited(){
  Assert.assertEquals(foo.joinDelimited("-","foo","bar","baz"),beanELResolver.invoke(elContext,foo,"joinDelimited",null,new Object[]{"-","foo","bar","baz"}));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests varargs that constitute a method's only parameters, as well as
 * bogus results due to improper matching of ANY vararg method, and
 * depending on the order in which reflected methods are encountered.
 */
@Test public void testJoin(){
  Assert.assertEquals(foo.join("foo","bar","baz"),beanELResolver.invoke(elContext,foo,"join",null,new Object[]{"foo","bar","baz"}));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestCompositeELResolver </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50408() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug50408.jsp",new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_OK,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestListELResolver </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Class<?> result=resolver.getType(context,list,new Integer(0));
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("key");
  Object result=resolver.getValue(context,list,new Integer(0));
  Assert.assertEquals("key",result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  ListELResolver resolver=new ListELResolver();
  ELContext context=new ELContextImpl();
  List<String> list=new ArrayList<String>();
  list.add("value");
  resolver.setValue(context,list,new Integer(0),"value");
  Assert.assertEquals("value",resolver.getValue(context,list,new Integer(0)));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestMapELResolver </h4><pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Object result=mapELResolver.getValue(context,map,"key");
  Assert.assertEquals("value",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=mapELResolver.getValue(context,map,"unknown-key");
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  map.put("key","value");
  Iterator<FeatureDescriptor> result=mapELResolver.getFeatureDescriptors(context,map);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals("key".getClass(),featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetType03(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Class<?> result=mapELResolver.getType(context,new HashMap<Object,Object>(),"test");
  Assert.assertEquals(Object.class,result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is set.
 */
@Test public void testSetValue04(){
  MapELResolver mapELResolver=new MapELResolver();
  ELContext context=new ELContextImpl();
  Map<String,String> map=new HashMap<String,String>();
  mapELResolver.setValue(context,map,"key","value");
  Assert.assertEquals("value",mapELResolver.getValue(context,map,"key"));
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.el.TestResourceBundleELResolver </h4><pre class="type-8 type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid FeatureDescriptors are returned.
 */
@Test public void testGetFeatureDescriptors02(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle(new Object[][]{{"key","value"}});
  @SuppressWarnings("unchecked") Iterator<FeatureDescriptor> result=resolver.getFeatureDescriptors(context,resourceBundle);
  while (result.hasNext()) {
    FeatureDescriptor featureDescriptor=result.next();
    Assert.assertEquals("key",featureDescriptor.getDisplayName());
    Assert.assertEquals("key",featureDescriptor.getName());
    Assert.assertEquals("",featureDescriptor.getShortDescription());
    Assert.assertFalse(featureDescriptor.isExpert());
    Assert.assertFalse(featureDescriptor.isHidden());
    Assert.assertTrue(featureDescriptor.isPreferred());
    Assert.assertEquals(String.class,featureDescriptor.getValue(ELResolver.TYPE));
    Assert.assertEquals(Boolean.TRUE,featureDescriptor.getValue(ELResolver.RESOLVABLE_AT_DESIGN_TIME));
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that a valid property is resolved.
 */
@Test public void testGetValue03(){
  ResourceBundleELResolver resolver=new ResourceBundleELResolver();
  ELContext context=new ELContextImpl();
  ResourceBundle resourceBundle=new TesterResourceBundle();
  Object result=resolver.getValue(context,resourceBundle,"key1");
  Assert.assertEquals("value1",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,"unknown-key");
  Assert.assertEquals("???unknown-key???",result);
  Assert.assertTrue(context.isPropertyResolved());
  result=resolver.getValue(context,resourceBundle,null);
  Assert.assertNull(result);
  Assert.assertTrue(context.isPropertyResolved());
}

</code></pre>

<br>
<pre class="type-4 type-10 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug53001(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  ResourceBundle rb=new TesterResourceBundle();
  ValueExpression var=factory.createValueExpression(rb,ResourceBundle.class);
  context.getVariableMapper().setVariable("rb",var);
  ValueExpression ve=factory.createValueExpression(context,"${rb.keys}",String.class);
  MethodExpression me=factory.createMethodExpression(context,"${rb.getKeys()}",Enumeration.class,null);
  String result1=(String)ve.getValue(context);
  Assert.assertEquals("???keys???",result1);
  Object result2=me.invoke(context,null);
  Assert.assertTrue(result2 instanceof Enumeration);
  @SuppressWarnings("unchecked") Enumeration<String> e=(Enumeration<String>)result2;
  Assert.assertTrue(e.hasMoreElements());
  String element=e.nextElement();
  if ("key1".equals(element)) {
    Assert.assertEquals("key1",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key2",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
 else {
    Assert.assertEquals("key2",element);
    Assert.assertTrue(e.hasMoreElements());
    Assert.assertEquals("key1",e.nextElement());
    Assert.assertFalse(e.hasMoreElements());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.servlet.http.TestHttpServlet </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53454() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  LargeBodyServlet largeBodyServlet=new LargeBodyServlet();
  Tomcat.addServlet(ctx,"largeBodyServlet",largeBodyServlet);
  ctx.addServletMapping("/","largeBodyServlet");
  tomcat.start();
  Map<String,List<String>> resHeaders=new HashMap<String,List<String>>();
  int rc=headUrl("http://localhost:" + getPort() + "/",new ByteChunk(),resHeaders);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertEquals(LargeBodyServlet.RESPONSE_LENGTH,resHeaders.get("Content-Length").get(0));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies that the same Content-Length is returned for both GET and HEAD
 * operations when a Servlet includes content from another Servlet
 */
@Test public void testBug57602() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  Bug57602ServletOuter outer=new Bug57602ServletOuter();
  Tomcat.addServlet(ctx,"Bug57602ServletOuter",outer);
  ctx.addServletMapping("/outer","Bug57602ServletOuter");
  Bug57602ServletInner inner=new Bug57602ServletInner();
  Tomcat.addServlet(ctx,"Bug57602ServletInner",inner);
  ctx.addServletMapping("/inner","Bug57602ServletInner");
  tomcat.start();
  Map<String,List<String>> resHeaders=new HashMap<String,List<String>>();
  String path="http://localhost:" + getPort() + "/outer";
  ByteChunk out=new ByteChunk();
  int rc=getUrl(path,out,resHeaders);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String length=resHeaders.get("Content-Length").get(0);
  Assert.assertEquals(Long.parseLong(length),out.getLength());
  out.recycle();
  rc=headUrl(path,out,resHeaders);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertEquals(0,out.getLength());
  Assert.assertEquals(length,resHeaders.get("Content-Length").get(0));
  tomcat.stop();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: javax.servlet.resources.TestSchemaValidation </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebapp_2_5() throws Exception {
  XmlErrorHandler handler=new XmlErrorHandler();
  Digester digester=DigesterFactory.newDigester(true,true,new WebRuleSet(false),true);
  digester.setErrorHandler(handler);
  digester.push(new WebXml());
  WebXml desc=(WebXml)digester.parse(new File("test/webapp-2.5/WEB-INF/web.xml"));
  Assert.assertEquals("2.5",desc.getVersion());
  Assert.assertEquals(0,handler.getErrors().size());
  Assert.assertEquals(0,handler.getWarnings().size());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebapp_3_0() throws Exception {
  XmlErrorHandler handler=new XmlErrorHandler();
  Digester digester=DigesterFactory.newDigester(true,true,new WebRuleSet(false),true);
  digester.setErrorHandler(handler);
  digester.push(new WebXml());
  WebXml desc=(WebXml)digester.parse(new File("test/webapp-3.0/WEB-INF/web.xml"));
  Assert.assertEquals("3.0",desc.getVersion());
  Assert.assertEquals(0,handler.getErrors().size());
  Assert.assertEquals(0,handler.getWarnings().size());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebapp_2_2() throws Exception {
  XmlErrorHandler handler=new XmlErrorHandler();
  Digester digester=DigesterFactory.newDigester(true,true,new WebRuleSet(false),true);
  digester.setErrorHandler(handler);
  digester.push(new WebXml());
  WebXml desc=(WebXml)digester.parse(new File("test/webapp-2.2/WEB-INF/web.xml"));
  Assert.assertEquals("2.2",desc.getVersion());
  Assert.assertEquals(XmlIdentifiers.WEB_22_PUBLIC,desc.getPublicId());
  Assert.assertEquals(0,handler.getErrors().size());
  Assert.assertEquals(0,handler.getWarnings().size());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebapp_2_3() throws Exception {
  XmlErrorHandler handler=new XmlErrorHandler();
  Digester digester=DigesterFactory.newDigester(true,true,new WebRuleSet(false),true);
  digester.setErrorHandler(handler);
  digester.push(new WebXml());
  WebXml desc=(WebXml)digester.parse(new File("test/webapp-2.3/WEB-INF/web.xml"));
  Assert.assertEquals("2.3",desc.getVersion());
  Assert.assertEquals(XmlIdentifiers.WEB_23_PUBLIC,desc.getPublicId());
  Assert.assertEquals(0,handler.getErrors().size());
  Assert.assertEquals(0,handler.getWarnings().size());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebapp_2_4() throws Exception {
  XmlErrorHandler handler=new XmlErrorHandler();
  Digester digester=DigesterFactory.newDigester(true,true,new WebRuleSet(false),true);
  digester.setErrorHandler(handler);
  digester.push(new WebXml());
  WebXml desc=(WebXml)digester.parse(new File("test/webapp-2.4/WEB-INF/web.xml"));
  Assert.assertEquals("2.4",desc.getVersion());
  Assert.assertEquals(0,handler.getErrors().size());
  Assert.assertEquals(0,handler.getWarnings().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.ant.TestDeployTask </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bug58086d() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/deployment");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  DeployTask deployTask=new DeployTask(){
    @Override public void execute(    String command,    InputStream istream,    String contentType,    int contentLength) throws BuildException {
      assertEquals("/deploy?path=somepath",command);
      assertEquals("application/octet-stream",contentType);
      try {
        istream.close();
      }
 catch (      IOException e) {
      }
    }
  }
;
  setDefaults(deployTask);
  testExecute(deployTask,"http://localhost:" + getPort() + "/context.war");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bug58086a(){
  DeployTask deployTask=new DeployTask(){
    @Override public void execute(    String command,    InputStream istream,    String contentType,    int contentLength) throws BuildException {
      assertEquals("/deploy?path=somepath",command);
      assertEquals("application/octet-stream",contentType);
      try {
        istream.close();
      }
 catch (      IOException e) {
      }
    }
  }
;
  setDefaults(deployTask);
  testExecute(deployTask,"file:./test/deployment/context.war");
  testExecute(deployTask,new File("test/deployment/context.war").toURI().toString());
  testExecute(deployTask,new File("test/deployment/context.war").getAbsolutePath());
  testExecute(deployTask,"jar:" + new File("test/deployment/context.jar").toURI().toString() + "!/context.war");
  testExecute(deployTask,"file:./test/deployment/dir with spaces/context.war");
  testExecute(deployTask,new File("test/deployment/dir with spaces/context.war").toURI().toString());
  testExecute(deployTask,new File("test/deployment/dir with spaces/context.war").getAbsolutePath());
  testExecute(deployTask,"jar:" + new File("test/deployment/dir with spaces/context.jar").toURI().toString() + "!/context.war");
  testExecute(deployTask,"file:./test/deployment/dir%20with%20spaces/context.war");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestDigestAuthenticator </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bug54521() throws LifecycleException {
  DigestAuthenticator digestAuthenticator=new DigestAuthenticator();
  digestAuthenticator.setContainer(new TesterContext());
  digestAuthenticator.start();
  Request request=new TesterRequest();
  final int count=1000;
  Set<String> nonces=new HashSet<String>();
  for (int i=0; i < count; i++) {
    nonces.add(digestAuthenticator.generateNonce(request));
  }
  Assert.assertEquals(count,nonces.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.authenticator.TestSSOnonLoginAndBasicAuthenticator </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasicAccessThenAcceptAuthWithUri() throws Exception {
  setAlwaysUseSession();
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_UNAUTHORIZED);
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String forwardParam="?nextUrl=" + CONTEXT_PATH_LOGIN + URI_PROTECTED;
  doTestBasic(CONTEXT_PATH_LOGIN + URI_PROTECTED + forwardParam,GOOD_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String firstEncodedURL=encodedURL;
  assertTrue(firstEncodedURL.contains(ENCODE_SESSION_PARAM));
  doTestBasic(firstEncodedURL + forwardParam,NO_CREDENTIALS,NO_COOKIES,HttpServletResponse.SC_OK);
  String secondEncodedURL=encodedURL;
  assertEquals(firstEncodedURL,secondEncodedURL);
  assertFalse(firstEncodedURL.contains(ENCODE_SSOSESSION_PARAM));
  int ix=secondEncodedURL.indexOf(ENCODE_SESSION_PARAM);
  String sessionId=secondEncodedURL.substring(ix);
  doTestNonLogin(CONTEXT_PATH_NOLOGIN + URI_PROTECTED + ";"+ sessionId,NO_COOKIES,HttpServletResponse.SC_FORBIDDEN);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestConnector </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStop() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Wrapper w=Tomcat.addServlet(root,"tester",new TesterServlet());
  w.setAsyncSupported(true);
  root.addServletMapping("/","tester");
  Connector connector=tomcat.getConnector();
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,null,null);
  assertEquals(200,rc);
  assertEquals("OK",bc.toString());
  rc=-1;
  bc.recycle();
  connector.stop();
  try {
    rc=getUrl("http://localhost:" + getPort() + "/",bc,1000,null,null);
  }
 catch (  SocketTimeoutException ste) {
    rc=503;
  }
  assertEquals(503,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestMapperListener </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTomcatRestartListenerCount_Bug56717() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File(getBuildDirectory(),"webapps/examples");
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res;
  String text;
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersFirst=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersFirst,tomcat.getEngine());
  tomcat.stop();
  tomcat.start();
  res=getUrl("http://localhost:" + getPort() + "/examples/servlets/servlet/HelloWorldExample");
  text=res.toString();
  Assert.assertTrue(text,text.contains("<h1>Hello World!</h1>"));
  List<ListenersInfo> listenersSecond=new ArrayList<ListenersInfo>();
  populateListenersInfo(listenersSecond,tomcat.getEngine());
  Assert.assertEquals(listenersFirst.size(),listenersSecond.size());
  for (int i=0, len=listenersFirst.size(); i < len; i++) {
    ListenersInfo a=listenersFirst.get(i);
    ListenersInfo b=listenersSecond.get(i);
    boolean equal=a.container.getClass() == b.container.getClass() && a.containerListeners.length == b.containerListeners.length && a.lifecycleListeners.length == b.lifecycleListeners.length;
    if (!equal) {
      Assert.fail("The lists of listeners differ:\n" + a + "\n"+ b);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestMaxConnections </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConnector() throws Exception {
  init();
  ConnectThread[] t=new ConnectThread[10];
  for (int i=0; i < t.length; i++) {
    t[i]=new ConnectThread();
    t[i].setName("ConnectThread[" + i + "]");
  }
  for (int i=0; i < t.length; i++) {
    t[i].start();
    Thread.sleep(50);
  }
  for (int i=0; i < t.length; i++) {
    t[i].join();
  }
  Assert.assertEquals(MAX_CONNECTIONS,SimpleServlet.getMaxConnections());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestOutputBuffer </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug52577() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  Bug52577Servlet bug52577=new Bug52577Servlet();
  Tomcat.addServlet(root,"bug52577",bug52577);
  root.addServletMapping("/","bug52577");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,null,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",bc.toString());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteSpeed() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",null);
  for (int i=1; i <= WritingServlet.EXPECTED_CONTENT_LENGTH; i*=10) {
    WritingServlet servlet=new WritingServlet(i);
    Tomcat.addServlet(root,"servlet" + i,servlet);
    root.addServletMapping("/servlet" + i,"servlet" + i);
  }
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  for (int i=1; i <= WritingServlet.EXPECTED_CONTENT_LENGTH; i*=10) {
    int rc=getUrl("http://localhost:" + getPort() + "/servlet"+ i,bc,null,null);
    assertEquals(HttpServletResponse.SC_OK,rc);
    assertEquals(WritingServlet.EXPECTED_CONTENT_LENGTH,bc.getLength());
    bc.recycle();
    rc=getUrl("http://localhost:" + getPort() + "/servlet"+ i+ "?useBuffer=y",bc,null,null);
    assertEquals(HttpServletResponse.SC_OK,rc);
    assertEquals(WritingServlet.EXPECTED_CONTENT_LENGTH,bc.getLength());
    bc.recycle();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestRequest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test case for https://bz.apache.org/bugzilla/show_bug.cgi?id=48692
 * PUT requests should be able to fetch request parameters coming from
 * the request body (when properly configured using the new parseBodyMethod
 * setting).
 */
@Test public void testBug48692(){
  Bug48692Client client=new Bug48692Client();
  client.doRequest("GET","foo=bar",null,null,false);
  assertTrue("Non-200 response for GET request",client.isResponse200());
  assertEquals("Incorrect response for GET request","foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar","application/x-www-form-urlencoded","bar=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("POST","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for POST request",client.isResponse200());
  assertEquals("Incorrect response for POST request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",false);
  assertTrue("Non-200 response for PUT/noparse request",client.isResponse200());
  assertEquals("Incorrect response for PUT request","bar=foo,foo=bar",client.getResponseBody());
  client.reset();
  client.doRequest("PUT","foo=bar&bar=foo","application/x-www-form-urlencoded","bar=baz&foo=baz",true);
  assertTrue("Non-200 response for PUT request",client.isResponse200());
  assertEquals("Incorrect response for PUT/parse request","bar=baz,bar=foo,foo=bar,foo=baz",client.getResponseBody());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Additional test for failed requests handling when no FailedRequestFilter
 * is defined.
 */
@Test public void testBug37794withoutFilter(){
  Bug37794Client client=new Bug37794Client(false);
  client.reset();
  client.doRequest(6,false);
  assertTrue(client.isResponse200());
  assertEquals("",client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLocaleMultipleHeaders02() throws Exception {
  TesterRequest req=new TesterRequest();
  req.addHeader("accept-language","en-gb");
  req.addHeader("accept-language","en;q=0.5");
  Locale actual=req.getLocale();
  Locale expected=new Locale("en","gb");
  Assert.assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for {@link Request#login(String,String)} and{@link Request#logout()}.
 */
@Test public void testLoginLogout() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  LoginConfig config=new LoginConfig();
  config.setAuthMethod("BASIC");
  ctx.setLoginConfig(config);
  ctx.getPipeline().addValve(new BasicAuthenticator());
  Tomcat.addServlet(ctx,"servlet",new LoginLogoutServlet());
  ctx.addServletMapping("/","servlet");
  MapRealm realm=new MapRealm();
  realm.addUser(LoginLogoutServlet.USER,LoginLogoutServlet.PWD);
  ctx.setRealm(realm);
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals(LoginLogoutServlet.OK,res.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getLocaleMultipleHeaders01() throws Exception {
  TesterRequest req=new TesterRequest();
  req.addHeader("accept-language","en;q=0.5");
  req.addHeader("accept-language","en-gb");
  Locale actual=req.getLocale();
  Locale expected=new Locale("en","gb");
  Assert.assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for
 * <a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=38113">bug
 * 38118</a>.
 */
@Test public void testBug38113() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new EchoQueryStringServlet());
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("QueryString=null",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/?a=b");
  assertEquals("QueryString=a=b",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/?");
  assertEquals("QueryString=",res.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.connector.TestResponse </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062o() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./..#/../../");
  Assert.assertEquals("http://localhost:8080/level1/#/../../",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests an issue noticed during the investigation of BZ 52811.
 */
@Test public void testCharset() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new CharsetServlet());
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("OK",bc.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062k() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./..?x=/../..");
  Assert.assertEquals("http://localhost:8080/level1/?x=/../..",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062g() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("bar.html?x=/../");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html?x=/../",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062c() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("..");
  Assert.assertEquals("http://localhost:8080/level1/",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062p() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./..#/../..");
  Assert.assertEquals("http://localhost:8080/level1/#/../..",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062l() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("bar.html#/../");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html#/../",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062d() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute(".././..");
  Assert.assertEquals("http://localhost:8080/",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062h() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("bar.html?x=/../../");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html?x=/../../",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53469b() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.encodeURL("../../../../bar.html");
  Assert.assertEquals("../../../../bar.html",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062m() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("bar.html#/../../");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html#/../../",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062i() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./.?x=/../../");
  Assert.assertEquals("http://localhost:8080/level1/level2/?x=/../../",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53469a() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.encodeURL("../bar.html");
  Assert.assertEquals("../bar.html",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062a() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./bar.html");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062n() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./.#/../../");
  Assert.assertEquals("http://localhost:8080/level1/level2/#/../../",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug52811() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new Bug52811Servlet());
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("OK",bc.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062j() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("./..?x=/../../");
  Assert.assertEquals("http://localhost:8080/level1/?x=/../../",result);
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49598() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new Bug49598Servlet());
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/",new ByteChunk(),headers);
  for (  Map.Entry<String,List<String>> header : headers.entrySet()) {
    if (header.getKey() == null) {
      List<String> values=header.getValue();
      if (values.size() == 1 && values.get(0).startsWith("HTTP/1.1")) {
        continue;
      }
      fail("Null header name detected for value " + values);
    }
  }
  int count=0;
  for (  String headerName : headers.keySet()) {
    if ("Set-Cookie".equals(headerName)) {
      count++;
    }
  }
  assertEquals(1,count);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062f() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute("bar.html");
  Assert.assertEquals("http://localhost:8080/level1/level2/bar.html",result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53062b() throws Exception {
  Request req=new TesterRequest();
  Response resp=new Response();
  resp.setRequest(req);
  String result=resp.toAbsolute(".");
  Assert.assertEquals("http://localhost:8080/level1/level2/",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53467() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53467].jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(res.toString().contains("<p>OK</p>"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationFilterConfig </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54170() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"HelloWorld",new HelloWorldServlet());
  ctx.addServletMapping("/","HelloWorld");
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterClass(AddDefaultCharsetFilter.class.getName());
  filterDef.setFilterName("bug54170*");
  ctx.addFilterDef(filterDef);
  tomcat.start();
  final MBeanServer mbeanServer=Registry.getRegistry(null,null).getMBeanServer();
  Set<ObjectName> servlets=mbeanServer.queryNames(new ObjectName("Tomcat:j2eeType=Servlet,*"),null);
  Assert.assertEquals(1,servlets.size());
  Set<ObjectName> filters=mbeanServer.queryNames(new ObjectName("Tomcat:j2eeType=Filter,*"),null);
  Assert.assertEquals(1,filters.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestApplicationHttpRequest </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParameterImmutability() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"forward",new ForwardServlet("/modify"));
  ctx.addServletMapping("/forward","forward");
  Tomcat.addServlet(ctx,"modify",new ModifyParameterServlet());
  ctx.addServletMapping("/modify","modify");
  tomcat.start();
  ByteChunk response=new ByteChunk();
  StringBuilder target=new StringBuilder("http://localhost:");
  target.append(getPort());
  target.append("/forward");
  int rc=getUrl(target.toString(),response,null);
  Assert.assertEquals(200,rc);
  Assert.assertEquals("OK",response.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestAsyncContextImpl </h4><pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug50753() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug50753Servlet servlet=new Bug50753Servlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  Map<String,List<String>> headers=new LinkedHashMap<String,List<String>>();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,headers);
  assertEquals(200,rc);
  assertEquals("OK",bc.toString());
  List<String> testHeader=headers.get("A");
  assertNotNull(testHeader);
  assertEquals(1,testHeader.size());
  assertEquals("xyz",testHeader.get(0));
  alv.validateAccessLog(1,200,Bug50753Servlet.THREAD_SLEEP_TIME,Bug50753Servlet.THREAD_SLEEP_TIME + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testForbiddenDispatching() throws Exception {
  resetTracker();
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  NonAsyncServlet nonAsyncServlet=new NonAsyncServlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"nonAsyncServlet",nonAsyncServlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/target","nonAsyncServlet");
  DispatchingGenericServlet forbiddenDispatchingServlet=new DispatchingGenericServlet();
  Wrapper wrapper1=Tomcat.addServlet(ctx,"forbiddenDispatchingServlet",forbiddenDispatchingServlet);
  wrapper1.setAsyncSupported(true);
  ctx.addServletMapping("/forbiddenDispatchingServlet","forbiddenDispatchingServlet");
  tomcat.start();
  try {
    getUrl("http://localhost:" + getPort() + "/forbiddenDispatchingServlet");
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
  String expectedTrack="OKNonAsyncServletGet-";
  int count=0;
  while (!expectedTrack.equals(getTrack()) && count < 100) {
    Thread.sleep(50);
    count++;
  }
  Assert.assertEquals(expectedTrack,getTrack());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49528() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug49528Servlet servlet=new Bug49528Servlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("OK",bc.toString());
  int counter=0;
  while (!servlet.isDone() && counter < 10) {
    Thread.sleep(1000);
    counter++;
  }
  assertEquals("1false2true3true4true5false",servlet.getResult());
  alv.validateAccessLog(1,200,Bug49528Servlet.THREAD_SLEEP_TIME,Bug49528Servlet.THREAD_SLEEP_TIME + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50352() throws Exception {
  resetTracker();
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  AsyncStartRunnable servlet=new AsyncStartRunnable();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  getUrl("http://localhost:" + getPort() + "/");
  String expectedTrack="Runnable-onComplete-";
  int count=0;
  while (!expectedTrack.equals(getTrack()) && count < 100) {
    Thread.sleep(50);
    count++;
  }
  assertEquals(expectedTrack,getTrack());
  alv.validateAccessLog(1,200,AsyncStartRunnable.THREAD_SLEEP_TIME,AsyncStartRunnable.THREAD_SLEEP_TIME + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncStartWithComplete() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  AsyncStartWithCompleteServlet servlet=new AsyncStartWithCompleteServlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/",bc,headers);
  assertEquals("OK",bc.toString());
  List<String> contentLength=headers.get("Content-Length");
  Assert.assertNotNull(contentLength);
  Assert.assertEquals(1,contentLength.size());
  Assert.assertEquals("2",contentLength.get(0));
  alv.validateAccessLog(1,200,0,REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsyncStartNoComplete() throws Exception {
  resetTracker();
  Tomcat tomcat=getTomcatInstance();
  tomcat.getConnector().setAttribute("connectionTimeout",Integer.valueOf(3000));
  Context ctx=tomcat.addContext("",null);
  AsyncStartNoCompleteServlet servlet=new AsyncStartNoCompleteServlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  getUrl("http://localhost:" + getPort() + "/?echo=run1");
  Assert.assertEquals("OK-run1",getTrack());
  resetTracker();
  getUrl("http://localhost:" + getPort() + "/?echo=run2");
  Assert.assertEquals("OK-run2",getTrack());
  alv.validateAccessLog(2,500,AsyncStartNoCompleteServlet.ASYNC_TIMEOUT,AsyncStartNoCompleteServlet.ASYNC_TIMEOUT + TIMEOUT_MARGIN + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54178() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug54178ServletA bug54178ServletA=new Bug54178ServletA();
  Wrapper wrapper=Tomcat.addServlet(ctx,"bug54178ServletA",bug54178ServletA);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/bug54178ServletA","bug54178ServletA");
  Bug54178ServletB bug54178ServletB=new Bug54178ServletB();
  Tomcat.addServlet(ctx,"bug54178ServletB",bug54178ServletB);
  ctx.addServletMapping("/bug54178ServletB","bug54178ServletB");
  tomcat.start();
  ByteChunk body=new ByteChunk();
  int rc=-1;
  try {
    rc=getUrl("http://localhost:" + getPort() + "/bug54178ServletA?"+ Bug54178ServletA.PARAM_NAME+ "=bar",body,null);
  }
 catch (  IOException ioe) {
    ioe.printStackTrace();
  }
  assertEquals(HttpServletResponse.SC_OK,rc);
  body.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/bug54178ServletB",body,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",body.toString());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53337() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Wrapper a=Tomcat.addServlet(ctx,"ServletA",new Bug53337ServletA());
  a.setAsyncSupported(true);
  Wrapper b=Tomcat.addServlet(ctx,"ServletB",new Bug53337ServletB());
  b.setAsyncSupported(true);
  Tomcat.addServlet(ctx,"ServletC",new Bug53337ServletC());
  ctx.addServletMapping("/ServletA","ServletA");
  ctx.addServletMapping("/ServletB","ServletB");
  ctx.addServletMapping("/ServletC","ServletC");
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/ServletA");
  ByteChunk body=new ByteChunk();
  int rc=getUrl(url.toString(),body,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",body.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53843() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug53843ServletA servletA=new Bug53843ServletA();
  Wrapper a=Tomcat.addServlet(ctx,"ServletA",servletA);
  a.setAsyncSupported(true);
  Tomcat.addServlet(ctx,"ServletB",new Bug53843ServletB());
  ctx.addServletMapping("/ServletA","ServletA");
  ctx.addServletMapping("/ServletB","ServletB");
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/ServletA");
  ByteChunk body=new ByteChunk();
  int rc=getUrl(url.toString(),body,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals("OK",body.toString());
  assertTrue(servletA.isAsyncWhenExpected());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListeners() throws Exception {
  resetTracker();
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  TrackingServlet tracking=new TrackingServlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"tracking",tracking);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/stage1","tracking");
  TimeoutServlet timeout=new TimeoutServlet(Boolean.TRUE,null);
  Wrapper wrapper2=Tomcat.addServlet(ctx,"timeout",timeout);
  wrapper2.setAsyncSupported(true);
  ctx.addServletMapping("/stage2","timeout");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/stage1");
  getUrl(url.toString());
  String expectedTrack="DispatchingServletGet-DispatchingServletGet-" + "onStartAsync-TimeoutServletGet-onStartAsync-onTimeout-" + "onComplete-";
  int count=0;
  while (!expectedTrack.equals(getTrack()) && count < 100) {
    Thread.sleep(50);
    count++;
  }
  Assert.assertEquals(expectedTrack,getTrack());
  alv.validateAccessLog(1,200,TimeoutServlet.ASYNC_TIMEOUT,TimeoutServlet.ASYNC_TIMEOUT + TIMEOUT_MARGIN + REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTimeoutDispatchCustomErrorPage() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context context=tomcat.addContext("",null);
  tomcat.addServlet("","timeout",Bug58751AsyncServlet.class.getName()).setAsyncSupported(true);
  CustomErrorServlet customErrorServlet=new CustomErrorServlet();
  Tomcat.addServlet(context,"customErrorServlet",customErrorServlet);
  context.addServletMapping("/timeout","timeout");
  context.addServletMapping("/error","customErrorServlet");
  ErrorPage errorPage=new ErrorPage();
  errorPage.setLocation("/error");
  context.addErrorPage(errorPage);
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/timeout",responseBody,null);
  Assert.assertEquals(503,rc);
  Assert.assertEquals(CustomErrorServlet.ERROR_MESSAGE,responseBody.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsyncContextListenerClearing() throws Exception {
  resetTracker();
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Servlet stage1=new DispatchingServletTracking("/stage2",true);
  Wrapper wrapper1=Tomcat.addServlet(ctx,"stage1",stage1);
  wrapper1.setAsyncSupported(true);
  ctx.addServletMapping("/stage1","stage1");
  Servlet stage2=new DispatchingServletTracking("/stage3",false);
  Wrapper wrapper2=Tomcat.addServlet(ctx,"stage2",stage2);
  wrapper2.setAsyncSupported(true);
  ctx.addServletMapping("/stage2","stage2");
  Servlet stage3=new NonAsyncServlet();
  Tomcat.addServlet(ctx,"stage3",stage3);
  ctx.addServletMapping("/stage3","stage3");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  getUrl("http://localhost:" + getPort() + "/stage1");
  assertEquals("doGet-startAsync-doGet-startAsync-onStartAsync-NonAsyncServletGet-onComplete-",getTrack());
  alv.validateAccessLog(1,200,0,REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testErrorHandling() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ErrorServlet error=new ErrorServlet();
  Tomcat.addServlet(ctx,"error",error);
  ctx.addServletMapping("/error","error");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/error");
  int rc=getUrl(url.toString(),new ByteChunk(),null);
  assertEquals(500,rc);
  Thread.sleep(REQUEST_TIME);
  alv.validateAccessLog(1,500,0,REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommitOnComplete() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  AsyncStatusServlet asyncStatusServlet=new AsyncStatusServlet(HttpServletResponse.SC_BAD_REQUEST);
  Wrapper wrapper=Tomcat.addServlet(ctx,"asyncStatusServlet",asyncStatusServlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/asyncStatusServlet","asyncStatusServlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/asyncStatusServlet");
  int rc=getUrl(url.toString(),new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_BAD_REQUEST,rc);
  Thread.sleep(REQUEST_TIME);
  alv.validateAccessLog(1,HttpServletResponse.SC_BAD_REQUEST,0,REQUEST_TIME);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49567() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug49567Servlet servlet=new Bug49567Servlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"servlet",servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/","servlet");
  TesterAccessLogValve alv=new TesterAccessLogValve();
  ctx.getPipeline().addValve(alv);
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("OK",bc.toString());
  int counter=0;
  while (!servlet.isDone() && counter < 10) {
    Thread.sleep(1000);
    counter++;
  }
  assertEquals("1false2true3true4true5false",servlet.getResult());
  alv.validateAccessLog(1,200,Bug49567Servlet.THREAD_SLEEP_TIME,Bug49567Servlet.THREAD_SLEEP_TIME + REQUEST_TIME);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestDefaultInstanceManager </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClassUnloading() throws Exception {
  DefaultInstanceManager instanceManager=doClassUnloadingPrep();
  getUrl("http://localhost:" + getPort() + "/test/annotations.jsp");
  getUrl("http://localhost:" + getPort() + "/test/bug36923.jsp");
  int count=instanceManager.getAnnotationCacheSize();
  getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug51544.jsp");
  System.gc();
  int loop=0;
  while (loop < 10) {
    if (instanceManager.getAnnotationCacheSize() == count) {
      break;
    }
    Thread.sleep(100);
    loop++;
  }
  assertEquals(count,instanceManager.getAnnotationCacheSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestNamingContextListener </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54096() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  org.apache.catalina.Context ctx=tomcat.addContext("",null);
  tomcat.enableNaming();
  ContextEnvironment environmentA=new ContextEnvironment();
  environmentA.setType(Bug54096EnvA.class.getName());
  environmentA.setName(BUG54096_NameA);
  environmentA.setValue(BUG54096_ValueA);
  ctx.getNamingResources().addEnvironment(environmentA);
  ContextEnvironment environmentB=new ContextEnvironment();
  environmentB.setType(Bug54096EnvB.class.getName());
  environmentB.setName(BUG54096_NameB);
  environmentB.setValue(BUG54096_ValueB);
  ctx.getNamingResources().addEnvironment(environmentB);
  ctx.addApplicationListener(Bug54096Listener.class.getName());
  tomcat.start();
  assertEquals(LifecycleState.STARTED,ctx.getState());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test JNDI is available to ServletContextListeners.
 */
@Test public void testBug49132() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  org.apache.catalina.Context ctx=tomcat.addContext("",null);
  tomcat.enableNaming();
  ContextEnvironment environment=new ContextEnvironment();
  environment.setType(BUG49132_VALUE.getClass().getName());
  environment.setName(BUG49132_NAME);
  environment.setValue(BUG49132_VALUE);
  ctx.getNamingResources().addEnvironment(environment);
  ctx.addApplicationListener(Bug49132Listener.class.getName());
  tomcat.start();
  assertEquals(LifecycleState.STARTED,ctx.getState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContext </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug46243() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(tomcat.getHost().getAppBase(),"ROOT");
  if (!docBase.mkdirs() && !docBase.isDirectory()) {
    fail("Unable to create docBase");
  }
  Context root=tomcat.addContext("","ROOT");
  configureTest46243Context(root,true);
  tomcat.start();
  Bug46243Client client=new Bug46243Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{REQUEST});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals(LifecycleState.STOPPED,root.getState());
  configureTest46243Context(root,false);
  root.start();
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse200());
  assertEquals(Bug46243Filter.class.getName() + HelloWorldServlet.RESPONSE_TEXT,client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test case for bug 49711: HttpServletRequest.getParts does not work
 * in a filter.
 */
@Test public void testBug49711(){
  Bug49711Client client=new Bug49711Client();
  client.doRequest("/regular",false,false);
  assertEquals("Incorrect response for GET request","parts=0",client.getResponseBody());
  client.reset();
  client.doRequest("/multipart",false,true);
  assertEquals("Regular multipart doesn't work","parts=1",client.getResponseBody());
  client.reset();
  client.doRequest("/regular",false,true);
  assertEquals("Incorrect response for non-configured casual multipart request","parts=0",client.getResponseBody());
  client.reset();
  client.doRequest("/regular",true,true);
  assertEquals("Incorrect response for configured casual multipart request","parts=1",client.getResponseBody());
  client.reset();
}

</code></pre>

<br>
<pre class="type-4 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWebappLoaderStartFail() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.start();
  ((ContainerBase)tomcat.getHost()).setStartChildren(false);
  FailingWebappLoader loader=new FailingWebappLoader();
  File root=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp("",root.getAbsolutePath());
  context.setLoader(loader);
  try {
    context.start();
    fail();
  }
 catch (  LifecycleException ex) {
  }
  assertEquals(LifecycleState.FAILED,context.getState());
  loader.setFail(false);
  context.start();
  assertEquals(LifecycleState.STARTED,context.getState());
  ByteChunk result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
}

</code></pre>

<br>
<pre class="type-4 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug50015() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  MapRealm realm=new MapRealm();
  realm.addUser("tomcat","tomcat");
  realm.addUserRole("tomcat","tomcat");
  ctx.setRealm(realm);
  LoginConfig lc=new LoginConfig();
  lc.setAuthMethod("BASIC");
  ctx.setLoginConfig(lc);
  ctx.getPipeline().addValve(new BasicAuthenticator());
  ServletContainerInitializer sci=new Bug50015SCI();
  ctx.addServletContainerInitializer(sci,null);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/bug50015",bc,null);
  assertNotSame("OK",bc.toString());
  assertEquals(401,rc);
}

</code></pre>

<br>
<pre class="type-4 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWebappListenerConfigureFail() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.start();
  ((ContainerBase)tomcat.getHost()).setStartChildren(false);
  FailingLifecycleListener listener=new FailingLifecycleListener();
  File root=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp("",root.getAbsolutePath());
  context.addLifecycleListener(listener);
  try {
    context.start();
    fail();
  }
 catch (  LifecycleException ex) {
  }
  assertEquals(LifecycleState.FAILED,context.getState());
  listener.setFail(false);
  context.start();
  assertEquals(LifecycleState.STARTED,context.getState());
  ByteChunk result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49922() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File root=new File("test/webapp-3.0");
  tomcat.addWebapp("",root.getAbsolutePath());
  tomcat.start();
  ByteChunk result=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/bug49922/foo",result,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertTrue(result.getLength() > 0);
  result=getUrl("http://localhost:" + getPort() + "/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.do");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/servlet/foo.od");
  assertEquals("FilterServlet",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/target");
  assertEquals("Target",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/forward");
  assertEquals("FilterTarget",result.toString());
  result=getUrl("http://localhost:" + getPort() + "/bug49922/include");
  assertEquals("IncludeFilterTarget",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContextResources </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourcesAbsoluteOrdering() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  LifecycleListener[] listener=ctx.findLifecycleListeners();
  assertEquals(3,listener.length);
  assertTrue(listener[1] instanceof ContextConfig);
  ContextConfig config=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources");
      wxml.addAbsoluteOrdering("resources2");
      return wxml;
    }
  }
;
  config.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener[1]=config;
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  tomcat.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources.jar</p>");
  assertEquals(Arrays.asList("resources.jar","resources2.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
  ctx.stop();
  LifecycleListener[] listener1=ctx.findLifecycleListeners();
  ContextConfig config1=new ContextConfig(){
    @Override protected WebXml createWebXml(){
      WebXml wxml=new WebXml();
      wxml.addAbsoluteOrdering("resources2");
      wxml.addAbsoluteOrdering("resources");
      return wxml;
    }
  }
;
  config1.setDefaultWebXml(Constants.NoDefaultWebXml);
  listener1[1]=config1;
  config1.lifecycleEvent(new LifecycleEvent(ctx,Lifecycle.AFTER_INIT_EVENT,null));
  Tomcat.addServlet(ctx,"getresource",new GetResourceServlet());
  ctx.addServletMapping("/getresource","getresource");
  ctx.start();
  assertPageContains("/test/getresource?path=/resourceF.jsp","<p>resourceF.jsp in resources2.jar</p>");
  assertPageContains("/test/getresource?path=/resourceB.jsp","<p>resourceB.jsp in resources2.jar</p>");
  assertEquals(Arrays.asList("resources2.jar","resources.jar"),ctx.getServletContext().getAttribute(ServletContext.ORDERED_LIBS));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardContextValve </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug51653a() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  StringBuilder trace=new StringBuilder();
  Tomcat.addServlet(ctx,"errorPage",new Bug51653ErrorPage(trace));
  ctx.addServletMapping("/error","errorPage");
  ErrorPage errorPage=new ErrorPage();
  errorPage.setErrorCode(Response.SC_NOT_FOUND);
  errorPage.setLocation("/error");
  ctx.addErrorPage(errorPage);
  Bug51653RequestListener reqListener=new Bug51653RequestListener(trace);
  ((StandardContext)ctx).addApplicationEventListener(reqListener);
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/invalid",new ByteChunk(),null);
  int i=20;
  while (i > 0) {
    if (trace.toString().endsWith("Destroy")) {
      break;
    }
    Thread.sleep(250);
    i--;
  }
  assertEquals(Response.SC_NOT_FOUND,rc);
  assertEquals("InitErrorDestroy",trace.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug51653b() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  StringBuilder trace=new StringBuilder();
  Tomcat.addServlet(ctx,"test",new Bug51653ErrorTrigger());
  ctx.addServletMapping("/test","test");
  Tomcat.addServlet(ctx,"errorPage",new Bug51653ErrorPage(trace));
  ctx.addServletMapping("/error","errorPage");
  ErrorPage errorPage=new ErrorPage();
  errorPage.setErrorCode(Response.SC_NOT_FOUND);
  errorPage.setLocation("/error");
  ctx.addErrorPage(errorPage);
  Bug51653RequestListener reqListener=new Bug51653RequestListener(trace);
  ((StandardContext)ctx).addApplicationEventListener(reqListener);
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test",new ByteChunk(),null);
  int i=20;
  while (i > 0) {
    if (trace.toString().endsWith("Destroy")) {
      break;
    }
    Thread.sleep(250);
    i--;
  }
  assertEquals(Response.SC_NOT_FOUND,rc);
  assertEquals("InitErrorDestroy",trace.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardHostValve </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSRLAfterError() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File docBase=new File(System.getProperty("java.io.tmpdir"));
  Context ctx=tomcat.addContext("",docBase.getAbsolutePath());
  Tomcat.addServlet(ctx,"error",new ErrorServlet());
  ctx.addServletMapping("/error","error");
  final List<String> result=new ArrayList<String>();
  ServletRequestListener servletRequestListener=new ServletRequestListener(){
    @Override public void requestDestroyed(    ServletRequestEvent sre){
      result.add("Visit requestDestroyed");
    }
    @Override public void requestInitialized(    ServletRequestEvent sre){
      result.add("Visit requestInitialized");
    }
  }
;
  ((StandardContext)ctx).addApplicationEventListener(servletRequestListener);
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/error?errorCode=400",bc,null);
  Assert.assertEquals(400,rc);
  Assert.assertTrue(result.contains("Visit requestInitialized"));
  Assert.assertTrue(result.contains("Visit requestDestroyed"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.core.TestStandardWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlLoginConfig() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity2");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/protected.jsp",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
  bc.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/unprotected.jsp",bc,null,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("00-OK"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSecurityAnnotationsMetaDataPriority() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/testStandardWrapper/securityAnnotationsMetaDataPriority",bc,null,null);
  assertEquals("OK",bc.toString());
  assertEquals(200,rc);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsWebXmlPriority() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/testStandardWrapper/securityAnnotationsWebXmlPriority",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddChild() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  StandardWrapper wrapper=new StandardWrapper();
  wrapper.setServletName("Bug51445");
  wrapper.setServletClass(Bug51445Servlet.class.getName());
  ctx.addChild(wrapper);
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSecurityAnnotationsNoWebXmlConstraints() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-servletsecurity");
  tomcat.addWebapp(null,"",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc;
  rc=getUrl("http://localhost:" + getPort() + "/",bc,null,null);
  assertTrue(bc.getLength() > 0);
  assertEquals(403,rc);
}

</code></pre>

<br>
<pre class="type-8 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51445AddServlet() throws Exception {
  latch=new CountDownLatch(BUG51445_THREAD_COUNT);
  Tomcat tomcat=getTomcatInstance();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug51445",new Bug51445Servlet());
  ctx.addServletMapping("/","Bug51445");
  tomcat.start();
  Bug51445Thread[] threads=new Bug51445Thread[5];
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i]=new Bug51445Thread(getPort());
    threads[i].start();
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    threads[i].join();
  }
  Set<String> servlets=new HashSet<String>();
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    System.out.println(threads[i].getResult());
  }
  for (int i=0; i < BUG51445_THREAD_COUNT; i++) {
    String[] results=threads[i].getResult().split(",");
    assertEquals(2,results.length);
    assertEquals("10",results[0]);
    assertFalse(servlets.contains(results[1]));
    servlets.add(results[1]);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestFilterDef </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetFilterName(){
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterName("test");
  Assert.assertEquals("'test' is expected as filter name","test",filterDef.getFilterName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestSecurityConstraint </h4><pre class="type-8 type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Uses the examples in SRV.13.4 as the basis for these tests
 */
@Test public void testCreateConstraints(){
  ServletSecurityElement element;
  SecurityConstraint[] result;
  Set<HttpMethodConstraintElement> hmces=new HashSet<HttpMethodConstraintElement>();
  element=new ServletSecurityElement();
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(0,result.length);
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertFalse(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(EmptyRoleSemantic.DENY));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1));
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(1,result.length);
  assertTrue(result[0].getAuthConstraint());
  assertEquals(1,result[0].findAuthRoles().length);
  assertTrue(result[0].findAuthRole(ROLE1));
  assertTrue(result[0].findCollections()[0].findPattern(URL_PATTERN));
  assertEquals(0,result[0].findCollections()[0].findMethods().length);
  assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[0].getUserConstraint());
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET",new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1)));
  hmces.add(new HttpMethodConstraintElement("POST",new HttpConstraintElement(ServletSecurity.TransportGuarantee.CONFIDENTIAL,ROLE1)));
  element=new ServletSecurityElement(hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].getAuthConstraint());
    assertEquals(1,result[i].findAuthRoles().length);
    assertTrue(result[i].findAuthRole(ROLE1));
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    assertEquals(1,result[i].findCollections()[0].findMethods().length);
    String method=result[i].findCollections()[0].findMethods()[0];
    if ("GET".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
    }
 else     if ("POST".equals(method)) {
      assertEquals(ServletSecurity.TransportGuarantee.CONFIDENTIAL.name(),result[i].getUserConstraint());
    }
 else {
      fail("Unexpected method :[" + method + "]");
    }
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("GET"));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findMethods()[0]);
      assertFalse(result[i].getAuthConstraint());
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("GET",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
  hmces.clear();
  hmces.add(new HttpMethodConstraintElement("TRACE",new HttpConstraintElement(EmptyRoleSemantic.DENY)));
  element=new ServletSecurityElement(new HttpConstraintElement(ServletSecurity.TransportGuarantee.NONE,ROLE1),hmces);
  result=SecurityConstraint.createConstraints(element,URL_PATTERN);
  assertEquals(2,result.length);
  for (int i=0; i < 2; i++) {
    assertTrue(result[i].findCollections()[0].findPattern(URL_PATTERN));
    if (result[i].findCollections()[0].findMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(0,result[i].findAuthRoles().length);
    }
 else     if (result[i].findCollections()[0].findOmittedMethods().length == 1) {
      assertEquals("TRACE",result[i].findCollections()[0].findOmittedMethods()[0]);
      assertTrue(result[i].getAuthConstraint());
      assertEquals(1,result[i].findAuthRoles().length);
      assertEquals(ROLE1,result[i].findAuthRoles()[0]);
    }
 else {
      fail("Unexpected number of methods defined");
    }
    assertEquals(ServletSecurity.TransportGuarantee.NONE.name(),result[i].getUserConstraint());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestServletDef </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetServletName(){
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("test");
  Assert.assertEquals("'test' is expected as servlet name","test",servletDef.getServletName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXml </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLifecycleMethodsWebXml(){
  WebXml webxml=new WebXml();
  webxml.addPostConstructMethods("a","a");
  webxml.addPreDestroyMethods("b","b");
  WebXml fragment=new WebXml();
  fragment.addPostConstructMethods("c","c");
  fragment.addPreDestroyMethods("d","d");
  Set<WebXml> fragments=new HashSet<WebXml>();
  fragments.add(fragment);
  webxml.merge(fragments);
  Map<String,String> postConstructMethods=webxml.getPostConstructMethods();
  Map<String,String> preDestroyMethods=webxml.getPreDestroyMethods();
  Assert.assertEquals(1,postConstructMethods.size());
  Assert.assertEquals(1,preDestroyMethods.size());
  Assert.assertEquals("a",postConstructMethods.get("a"));
  Assert.assertEquals("b",preDestroyMethods.get("b"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLifecycleMethodsWebFragmentsWithConflicts(){
  WebXml webxml=new WebXml();
  WebXml fragment1=new WebXml();
  fragment1.addPostConstructMethods("a","a");
  fragment1.addPreDestroyMethods("b","a");
  WebXml fragment2=new WebXml();
  fragment2.addPostConstructMethods("a","b");
  Set<WebXml> fragments=new HashSet<WebXml>();
  fragments.add(fragment1);
  fragments.add(fragment2);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPostConstructMethods().size());
  WebXml fragment3=new WebXml();
  fragment3.addPreDestroyMethods("b","b");
  fragments.remove(fragment2);
  fragments.add(fragment3);
  Assert.assertFalse(webxml.merge(fragments));
  Assert.assertEquals(0,webxml.getPreDestroyMethods().size());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsePublicIdVersion24(){
  WebXml webxml=new WebXml();
  webxml.setVersion("2.4");
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(4,webxml.getMinorVersion());
  Assert.assertEquals("2.4",webxml.getVersion());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsePublicIdVersion23(){
  WebXml webxml=new WebXml();
  webxml.setPublicId(XmlIdentifiers.WEB_23_PUBLIC);
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(3,webxml.getMinorVersion());
  Assert.assertEquals("2.3",webxml.getVersion());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLifecycleMethodsWebFragments(){
  WebXml webxml=new WebXml();
  WebXml fragment1=new WebXml();
  fragment1.addPostConstructMethods("a","a");
  fragment1.addPreDestroyMethods("b","b");
  WebXml fragment2=new WebXml();
  fragment2.addPostConstructMethods("c","c");
  fragment2.addPreDestroyMethods("d","d");
  Set<WebXml> fragments=new HashSet<WebXml>();
  fragments.add(fragment1);
  fragments.add(fragment2);
  webxml.merge(fragments);
  Map<String,String> postConstructMethods=webxml.getPostConstructMethods();
  Map<String,String> preDestroyMethods=webxml.getPreDestroyMethods();
  Assert.assertEquals(2,postConstructMethods.size());
  Assert.assertEquals(2,preDestroyMethods.size());
  Assert.assertEquals("a",postConstructMethods.get("a"));
  Assert.assertEquals("c",postConstructMethods.get("c"));
  Assert.assertEquals("b",preDestroyMethods.get("b"));
  Assert.assertEquals("d",preDestroyMethods.get("d"));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseVersion(){
  WebXml webxml=new WebXml();
  Assert.assertEquals(3,webxml.getMajorVersion());
  Assert.assertEquals(0,webxml.getMinorVersion());
  webxml.setVersion("2.5");
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(5,webxml.getMinorVersion());
  webxml.setVersion("0.0");
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(5,webxml.getMinorVersion());
  webxml.setVersion(null);
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(5,webxml.getMinorVersion());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsePublicIdVersion22(){
  WebXml webxml=new WebXml();
  webxml.setPublicId(XmlIdentifiers.WEB_22_PUBLIC);
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(2,webxml.getMinorVersion());
  Assert.assertEquals("2.2",webxml.getVersion());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsePublicIdVersion30(){
  WebXml webxml=new WebXml();
  webxml.setVersion("3.0");
  Assert.assertEquals(3,webxml.getMajorVersion());
  Assert.assertEquals(0,webxml.getMinorVersion());
  Assert.assertEquals("3.0",webxml.getVersion());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsePublicIdVersion25(){
  WebXml webxml=new WebXml();
  webxml.setVersion("2.5");
  Assert.assertEquals(2,webxml.getMajorVersion());
  Assert.assertEquals(5,webxml.getMinorVersion());
  Assert.assertEquals("2.5",webxml.getVersion());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.deploy.TestWebXmlOrdering </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolute(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("e");
  app.addAbsoluteOrdering("d");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertEquals(b,iter.next());
  assertEquals(e,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWebFragmentsAbsoluteWrongFragmentName(){
  app.addAbsoluteOrdering("a");
  app.addAbsoluteOrdering("z");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  assertEquals(1,ordered.size());
  assertEquals(fragments.get("a"),ordered.toArray()[0]);
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersMiddle(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersEnd(){
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-8 type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsoluteOthersStart(){
  app.addAbsoluteOrdering(WebXml.ORDER_OTHERS);
  app.addAbsoluteOrdering("b");
  app.addAbsoluteOrdering("d");
  Set<WebXml> others=new HashSet<WebXml>();
  others.add(a);
  others.add(c);
  others.add(e);
  others.add(f);
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  while (others.size() > 0) {
    WebXml o=iter.next();
    assertTrue(others.contains(o));
    others.remove(o);
  }
  assertEquals(b,iter.next());
  assertEquals(d,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderWebFragmentsAbsolutePartial(){
  app.addAbsoluteOrdering("c");
  app.addAbsoluteOrdering("a");
  Set<WebXml> ordered=WebXml.orderWebFragments(app,fragments,null);
  Iterator<WebXml> iter=ordered.iterator();
  assertEquals(c,iter.next());
  assertEquals(a,iter.next());
  assertFalse(iter.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCorsFilter </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Negative test, when a CORS request arrives, with an empty origin.
 * @throws ServletException
 */
@Test public void testCheckNotCORSRequestTypeEmptyOrigin() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Pre-flight request arrives.
 * @throws ServletException
 */
@Test public void testCheckPreFlightRequestType() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.PRE_FLIGHT,requestType);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByConfiguration() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getFilterConfigSpecificOriginNullAllowed());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Negative test, when a CORS request arrives, with no origin header.
 */
@Test public void testDoFilterNoOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.NOT_CORS,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertFalse(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Pre-flight request arrives.
 * @throws ServletException
 */
@Test public void testCheckPreFlightRequestTypeEmptyHeaders() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.PRE_FLIGHT,requestType);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * "http://tomcat.apache.org" is an allowed origin and
 * "http://tomcat.apache.org:8080" is not, because ports doesn't match
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckForPortVariance() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://tomcat.apache.org:8080");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Section Section 6.2.5
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeUnsupportedRequestMethod() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"TRACE");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckInvalidCRLF2() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.w3.org\r\n");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContentTypeWithParameter() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain;charset=UTF-8");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckInvalidOriginNotAllowedSubdomain() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://commons.apache.org");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests for failure, when a different domain is used, that's not in the
 * allowed list of origins.
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckInvalidOrigin() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"www.example.com");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * When requestMethod is null
 * @throws ServletException
 */
@Test public void testCheckNullRequestMethod() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://tomcat.apache.org");
  request.setMethod(null);
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Simple request arrives.
 * @throws ServletException
 */
@Test public void testCheckSimpleRequestType() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * "http://tomcat.apache.org" is an allowed origin and
 * "https://tomcat.apache.org" is not, because scheme doesn't match
 * @throws ServletException
 */
@Test public void testCheckForSchemeVariance() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"https://tomcat.apache.org");
  request.setMethod("POST");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckInvalidCRLF3() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.w3.org%0d%0a");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * when a valid CORS Pre-flight request arrives, with empty
 * Access-Control-Request-Method
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeEmptyACRM() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests for failure, when the 'null' origin is used, and it's not in the
 * list of allowed origins.
 */
@Test public void testCheckNullOriginNotAllowed() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Section 6.2.3
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeInvalidRequestMethod() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"POLITE");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Pre-flight request arrives.
 * @throws ServletException
 */
@Test public void testCheckPreFlightRequestTypeNoHeaders() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.PRE_FLIGHT,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckInvalidCRLF4() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.w3.org%0D%0A");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoFilterInvalidCORSOriginNotAllowed() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"www.google.com");
  request.setMethod("POST");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Section Section 6.2.6
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeUnsupportedRequestHeaders() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTPS_WWW_APACHE_ORG);
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"X-ANSWER");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSecureFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * PUT is not an allowed request method.
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckInvalidRequestMethod() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://tomcat.apache.org");
  request.setMethod("PUT");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * when a valid CORS Pre-flight request arrives, with no
 * Access-Control-Request-Method
 * @throws ServletException
 * @throws IOException
 */
@Test public void testCheckPreFlightRequestTypeNoACRM() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.ACTUAL,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckSimpleRequestTypeAnyOrigin() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.w3.org");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckInvalidCRLF1() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.w3.org\r\n");
  request.setMethod("GET");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.INVALID_CORS,requestType);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Checks if an OPTIONS request is processed as pre-flight.
 * @throws IOException
 * @throws ServletException
 */
@Test public void testDoFilterPreflightInvalidOrigin() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"http://www.example.com");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_HEADERS,"Content-Type");
  request.setMethod("OPTIONS");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSpecificOriginFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(response.getStatus(),HttpServletResponse.SC_FORBIDDEN);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Simple request arrives.
 * @throws ServletException
 */
@Test public void testCheckActualRequestTypeMethodPOSTNotSimpleHeaders() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setMethod("POST");
  request.setContentType("application/json");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.ACTUAL,requestType);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoFilterNullOriginAllowedByDefault() throws IOException, ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setMethod("POST");
  request.setContentType("text/plain");
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"null");
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.SIMPLE,requestType);
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertTrue(((Boolean)request.getAttribute(CorsFilter.HTTP_REQUEST_ATTRIBUTE_IS_CORS_REQUEST)).booleanValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckPreFlightRequestTypeOriginNotAllowed() throws ServletException, IOException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  TesterHttpServletResponse response=new TesterHttpServletResponse();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,"www.ebay.com");
  request.setHeader(CorsFilter.REQUEST_HEADER_ACCESS_CONTROL_REQUEST_METHOD,"PUT");
  request.setMethod("OPTIONS");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getSecureFilterConfig());
  corsFilter.doFilter(request,response,filterChain);
  Assert.assertEquals(HttpServletResponse.SC_FORBIDDEN,response.getStatus());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Happy path test, when a valid CORS Simple request arrives.
 * @throws ServletException
 */
@Test public void testCheckActualRequestType() throws ServletException {
  TesterHttpServletRequest request=new TesterHttpServletRequest();
  request.setHeader(CorsFilter.REQUEST_HEADER_ORIGIN,TesterFilterConfigs.HTTP_TOMCAT_APACHE_ORG);
  request.setMethod("PUT");
  CorsFilter corsFilter=new CorsFilter();
  corsFilter.init(TesterFilterConfigs.getDefaultFilterConfig());
  CorsFilter.CORSRequestType requestType=corsFilter.checkRequestType(request);
  Assert.assertEquals(CorsFilter.CORSRequestType.ACTUAL,requestType);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestCsrfPreventionFilter </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddNonceNoQueryAnchor() throws Exception {
  assertEquals("/test?" + RESULT_NONCE + "#c",wrapper.encodeRedirectURL("/test#c"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddNonceQueryNoAnchor() throws Exception {
  assertEquals("/test?a=b&" + RESULT_NONCE,wrapper.encodeRedirectURL("/test?a=b"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddNonceQueryAnchor() throws Exception {
  assertEquals("/test?a=b&" + RESULT_NONCE + "#c",wrapper.encodeRedirectURL("/test?a=b#c"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddNonceNoQueryNoAnchor() throws Exception {
  assertEquals("/test?" + RESULT_NONCE,wrapper.encodeRedirectURL("/test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestExpiresFilter </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConfiguration() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",TEMP_DIR);
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("ExpiresDefault","access plus 1 month");
  filterDef.addInitParameter("ExpiresByType text/html","access plus 1 month 15 days 2 hours");
  filterDef.addInitParameter("ExpiresByType image/gif","modification plus 5 hours 3 minutes");
  filterDef.addInitParameter("ExpiresByType image/jpg","A10000");
  filterDef.addInitParameter("ExpiresByType video/mpeg","M20000");
  filterDef.addInitParameter("ExpiresExcludedResponseStatusCodes","304, 503");
  ExpiresFilter expiresFilter=new ExpiresFilter();
  filterDef.setFilter(expiresFilter);
  filterDef.setFilterClass(ExpiresFilter.class.getName());
  filterDef.setFilterName(ExpiresFilter.class.getName());
  root.addFilterDef(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.setFilterName(ExpiresFilter.class.getName());
  filterMap.addURLPattern("*");
  tomcat.start();
  try {
{
      int[] excludedResponseStatusCodes=expiresFilter.getExcludedResponseStatusCodesAsInts();
      Assert.assertEquals(2,excludedResponseStatusCodes.length);
      Assert.assertEquals(304,excludedResponseStatusCodes[0]);
      Assert.assertEquals(503,excludedResponseStatusCodes[1]);
    }
{
      ExpiresConfiguration expiresConfiguration=expiresFilter.getDefaultExpiresConfiguration();
      Assert.assertEquals(StartingPoint.ACCESS_TIME,expiresConfiguration.getStartingPoint());
      Assert.assertEquals(1,expiresConfiguration.getDurations().size());
      Assert.assertEquals(DurationUnit.MONTH,expiresConfiguration.getDurations().get(0).getUnit());
      Assert.assertEquals(1,expiresConfiguration.getDurations().get(0).getAmount());
    }
{
      ExpiresConfiguration expiresConfiguration=expiresFilter.getExpiresConfigurationByContentType().get("text/html");
      Assert.assertEquals(StartingPoint.ACCESS_TIME,expiresConfiguration.getStartingPoint());
      Assert.assertEquals(3,expiresConfiguration.getDurations().size());
      Duration oneMonth=expiresConfiguration.getDurations().get(0);
      Assert.assertEquals(DurationUnit.MONTH,oneMonth.getUnit());
      Assert.assertEquals(1,oneMonth.getAmount());
      Duration fifteenDays=expiresConfiguration.getDurations().get(1);
      Assert.assertEquals(DurationUnit.DAY,fifteenDays.getUnit());
      Assert.assertEquals(15,fifteenDays.getAmount());
      Duration twoHours=expiresConfiguration.getDurations().get(2);
      Assert.assertEquals(DurationUnit.HOUR,twoHours.getUnit());
      Assert.assertEquals(2,twoHours.getAmount());
    }
{
      ExpiresConfiguration expiresConfiguration=expiresFilter.getExpiresConfigurationByContentType().get("image/gif");
      Assert.assertEquals(StartingPoint.LAST_MODIFICATION_TIME,expiresConfiguration.getStartingPoint());
      Assert.assertEquals(2,expiresConfiguration.getDurations().size());
      Duration fiveHours=expiresConfiguration.getDurations().get(0);
      Assert.assertEquals(DurationUnit.HOUR,fiveHours.getUnit());
      Assert.assertEquals(5,fiveHours.getAmount());
      Duration threeMinutes=expiresConfiguration.getDurations().get(1);
      Assert.assertEquals(DurationUnit.MINUTE,threeMinutes.getUnit());
      Assert.assertEquals(3,threeMinutes.getAmount());
    }
{
      ExpiresConfiguration expiresConfiguration=expiresFilter.getExpiresConfigurationByContentType().get("image/jpg");
      Assert.assertEquals(StartingPoint.ACCESS_TIME,expiresConfiguration.getStartingPoint());
      Assert.assertEquals(1,expiresConfiguration.getDurations().size());
      Duration tenThousandSeconds=expiresConfiguration.getDurations().get(0);
      Assert.assertEquals(DurationUnit.SECOND,tenThousandSeconds.getUnit());
      Assert.assertEquals(10000,tenThousandSeconds.getAmount());
    }
{
      ExpiresConfiguration expiresConfiguration=expiresFilter.getExpiresConfigurationByContentType().get("video/mpeg");
      Assert.assertEquals(StartingPoint.LAST_MODIFICATION_TIME,expiresConfiguration.getStartingPoint());
      Assert.assertEquals(1,expiresConfiguration.getDurations().size());
      Duration twentyThousandSeconds=expiresConfiguration.getDurations().get(0);
      Assert.assertEquals(DurationUnit.SECOND,twentyThousandSeconds.getUnit());
      Assert.assertEquals(20000,twentyThousandSeconds.getAmount());
    }
  }
  finally {
    tomcat.stop();
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseExpiresConfigurationCombinedDuration(){
  ExpiresFilter expiresFilter=new ExpiresFilter();
  ExpiresConfiguration actualConfiguration=expiresFilter.parseExpiresConfiguration("access plus 1 month 15 days 2 hours");
  Assert.assertEquals(StartingPoint.ACCESS_TIME,actualConfiguration.getStartingPoint());
  Assert.assertEquals(3,actualConfiguration.getDurations().size());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntsToCommaDelimitedString(){
  String actual=ExpiresFilter.intsToCommaDelimitedString(new int[]{500,503});
  String expected="500, 503";
  Assert.assertEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseExpiresConfigurationMonoDuration(){
  ExpiresFilter expiresFilter=new ExpiresFilter();
  ExpiresConfiguration actualConfiguration=expiresFilter.parseExpiresConfiguration("access plus 2 hours");
  Assert.assertEquals(StartingPoint.ACCESS_TIME,actualConfiguration.getStartingPoint());
  Assert.assertEquals(1,actualConfiguration.getDurations().size());
  Assert.assertEquals(2,actualConfiguration.getDurations().get(0).getAmount());
  Assert.assertEquals(DurationUnit.HOUR,actualConfiguration.getDurations().get(0).getUnit());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.filters.TestRemoteIpFilter </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArrayNullList(){
  String actual=RemoteIpFilter.listToCommaDelimitedString(null);
  assertEquals("",actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllowedRemoteAddrWithNullRemoteIpHeader() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","192.168.0.10",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","remote-host-original-value",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-8 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListToCommaDelimitedString(){
  String[] actual=RemoteIpFilter.commaDelimitedListToStringArray("element1, element2, element3");
  String[] expected=new String[]{"element1","element2","element3"};
  assertEquals(expected.length,actual.length);
  for (int i=0; i < actual.length; i++) {
    assertEquals(expected[i],actual[i]);
  }
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test {@link RemoteIpFilter} in Tomcat standalone server
 */
@Test public void testWithTomcatServer() throws Exception {
  Map<String,String> remoteIpFilterParameter=new HashMap<String,String>();
  remoteIpFilterParameter.put("protocolHeader","x-forwarded-proto");
  Tomcat tomcat=getTomcatInstance();
  Context root=tomcat.addContext("",TEMP_DIR);
  FilterDef filterDef=new FilterDef();
  filterDef.getParameterMap().putAll(remoteIpFilterParameter);
  filterDef.setFilterClass(RemoteIpFilter.class.getName());
  filterDef.setFilterName(RemoteIpFilter.class.getName());
  root.addFilterDef(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.setFilterName(RemoteIpFilter.class.getName());
  filterMap.addURLPattern("*");
  root.addFilterMap(filterMap);
  MockHttpServlet mockServlet=new MockHttpServlet();
  Tomcat.addServlet(root,mockServlet.getClass().getName(),mockServlet);
  root.addServletMapping("/test",mockServlet.getClass().getName());
  getTomcatInstance().start();
  HttpURLConnection httpURLConnection=(HttpURLConnection)new URL("http://localhost:" + tomcat.getConnector().getLocalPort() + "/test").openConnection();
  String expectedRemoteAddr="my-remote-addr";
  httpURLConnection.addRequestProperty("x-forwarded-for",expectedRemoteAddr);
  httpURLConnection.addRequestProperty("x-forwarded-proto","https");
  Assert.assertEquals(HttpURLConnection.HTTP_OK,httpURLConnection.getResponseCode());
  HttpServletRequest request=mockServlet.getRequest();
  Assert.assertNotNull(request);
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteAddr());
  Assert.assertEquals(expectedRemoteAddr,request.getRemoteHost());
  Assert.assertTrue(request.isSecure());
  Assert.assertEquals("https",request.getScheme());
  Assert.assertEquals(443,request.getServerPort());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArray(){
  List<String> elements=Arrays.asList("element1","element2","element3");
  String actual=RemoteIpFilter.listToCommaDelimitedString(elements);
  assertEquals("element1, element2, element3",actual);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithDefaultValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrusted() throws Exception {
  RemoteIpFilter remoteIpFilter=new RemoteIpFilter();
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  filterDef.setFilter(remoteIpFilter);
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedOrInternal() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2, 192.168.0.10, 192.168.0.11");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeUntrustedProxyInTheChain() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, untrusted-proxy, proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertEquals("ip/host before untrusted-proxy must appear in x-forwarded-for","140.211.11.130, proxy1",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("ip/host after untrusted-proxy must appear in  x-forwarded-by","proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","untrusted-proxy",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","untrusted-proxy",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-8 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListToCommaDelimitedStringMixedSpaceChars(){
  String[] actual=RemoteIpFilter.commaDelimitedListToStringArray("element1  , element2,\t element3");
  String[] expected=new String[]{"element1","element2","element3"};
  assertEquals(expected.length,actual.length);
  for (int i=0; i < actual.length; i++) {
    assertEquals(expected[i],actual[i]);
  }
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRequestAttributesForAccessLog() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  filterDef.addInitParameter("remoteIpHeader","x-my-forwarded-for");
  filterDef.addInitParameter("httpServerPort","8080");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setHeader("x-my-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  Assert.assertEquals("org.apache.catalina.AccessLog.ServerPort",Integer.valueOf(8080),actualRequest.getAttribute(AccessLog.SERVER_PORT_ATTRIBUTE));
  Assert.assertEquals("org.apache.catalina.AccessLog.RemoteAddr","140.211.11.130",actualRequest.getAttribute(AccessLog.REMOTE_ADDR_ATTRIBUTE));
  Assert.assertEquals("org.apache.catalina.AccessLog.RemoteHost","140.211.11.130",actualRequest.getAttribute(AccessLog.REMOTE_HOST_ATTRIBUTE));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHeaderNamesCaseInsensitivity(){
  RemoteIpFilter.XForwardedRequest request=new RemoteIpFilter.XForwardedRequest(new MockHttpServletRequest());
  request.setHeader("myheader","lower Case");
  request.setHeader("MYHEADER","UPPER CASE");
  request.setHeader("MyHeader","Camel Case");
  assertEquals(1,request.headers.size());
  assertEquals("Camel Case",request.getHeader("myheader"));
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedAndRemoteAddrMatchRegexp() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","127\\.0\\.0\\.1|192\\.168\\..*|another-internal-proxy");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.addHeader("x-forwarded-for","140.211.11.130");
  request.addHeader("x-forwarded-for","proxy1");
  request.addHeader("x-forwarded-for","proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncomingRequestIsSecuredButProtocolHeaderSaysItIsNotWithCustomValues() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("protocolHeader","x-forwarded-proto");
  filterDef.addInitParameter("remoteIpHeader","x-my-forwarded-for");
  filterDef.addInitParameter("httpServerPort","8080");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setSecure(true);
  request.setScheme("https");
  request.setHeader("x-my-forwarded-for","140.211.11.130");
  request.setHeader("x-forwarded-proto","http");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  boolean actualSecure=actualRequest.isSecure();
  assertFalse("request must be unsecured as header x-forwarded-proto said it is http",actualSecure);
  String actualScheme=actualRequest.getScheme();
  assertEquals("scheme must be http as header x-forwarded-proto said it is http","http",actualScheme);
  int actualServerPort=actualRequest.getServerPort();
  assertEquals("wrong http server port",8080,actualServerPort);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreInternal() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.addHeader("x-forwarded-for","140.211.11.130, 192.168.0.10, 192.168.0.11");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertNull("all proxies are internal, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertNull("all proxies are internal, x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArrayEmptyList(){
  List<String> elements=new ArrayList<String>();
  String actual=RemoteIpFilter.listToCommaDelimitedString(elements);
  assertEquals("",actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeNotAllowedRemoteAddr() throws Exception {
  FilterDef filterDef=new FilterDef();
  filterDef.addInitParameter("internalProxies","192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  filterDef.addInitParameter("trustedProxies","proxy1|proxy2|proxy3");
  filterDef.addInitParameter("remoteIpHeader","x-forwarded-for");
  filterDef.addInitParameter("proxiesHeader","x-forwarded-by");
  MockHttpServletRequest request=new MockHttpServletRequest();
  request.setRemoteAddr("not-allowed-internal-proxy");
  request.setRemoteHost("not-allowed-internal-proxy-host");
  request.setHeader("x-forwarded-for","140.211.11.130, proxy1, proxy2");
  HttpServletRequest actualRequest=testRemoteIpFilter(filterDef,request).getRequest();
  String actualXForwardedFor=actualRequest.getHeader("x-forwarded-for");
  assertEquals("x-forwarded-for must be unchanged","140.211.11.130, proxy1, proxy2",actualXForwardedFor);
  String actualXForwardedBy=actualRequest.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=actualRequest.getRemoteAddr();
  assertEquals("remoteAddr","not-allowed-internal-proxy",actualRemoteAddr);
  String actualRemoteHost=actualRequest.getRemoteHost();
  assertEquals("remoteHost","not-allowed-internal-proxy-host",actualRemoteHost);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.ha.context.TestReplicatedContext </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug57425() throws LifecycleException, IOException {
  Tomcat tomcat=getTomcatInstance();
  Host host=tomcat.getHost();
  if (host instanceof StandardHost) {
    ((StandardHost)host).setContextClass(ReplicatedContext.class.getName());
  }
  File root=new File("test/webapp-3.0");
  Context context=tomcat.addWebapp(host,"",root.getAbsolutePath());
  Tomcat.addServlet(context,"test",new AccessContextServlet());
  context.addServletMapping("/access","test");
  tomcat.start();
  ByteChunk result=getUrl("http://localhost:" + getPort() + "/access");
  Assert.assertEquals("OK",result.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.ha.session.TestSerializablePrincipal </h4><pre class="type-8 type-4 type-10 type-12 type-11 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Simple serialization / de-serialization test for bug 43840.
 */
@SuppressWarnings("null") @Test public void testWriteReadPrincipal(){
  File tempDir=new File(System.getProperty("tomcat.test.temp","output/tmp"));
  if (!tempDir.mkdirs() && !tempDir.isDirectory()) {
    fail("Unable to create temporary directory for test");
  }
  List<String> roles=new ArrayList<String>();
  roles.add("RoleA");
  roles.add("RoleB");
  TesterPrincipal tpOriginal=new TesterPrincipal("inner");
  GenericPrincipal gpOriginal=new GenericPrincipal("usr","pwd",roles,tpOriginal);
  File file=null;
  try {
    file=File.createTempFile("ser",null,tempDir);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail("ioe creating temporary file");
  }
  GenericPrincipal gpNew=null;
  try {
    FileOutputStream fos=null;
    ObjectOutputStream oos=null;
    try {
      fos=new FileOutputStream(file);
      oos=new ObjectOutputStream(fos);
      SerializablePrincipal.writePrincipal(gpOriginal,oos);
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
      fail("fnfe creating object output stream");
    }
catch (    IOException e) {
      e.printStackTrace();
      fail("ioe serializing principal");
    }
 finally {
      if (oos != null) {
        try {
          oos.close();
        }
 catch (        IOException ignored) {
        }
      }
      if (fos != null) {
        try {
          fos.close();
        }
 catch (        IOException ignored) {
        }
      }
    }
    FileInputStream fis=null;
    ObjectInputStream ois=null;
    try {
      fis=new FileInputStream(file);
      ois=new ObjectInputStream(fis);
      gpNew=SerializablePrincipal.readPrincipal(ois);
    }
 catch (    FileNotFoundException e) {
      e.printStackTrace();
      fail("fnfe reading object output stream");
    }
catch (    IOException e) {
      e.printStackTrace();
      fail("ioe de-serializing principal");
    }
catch (    ClassNotFoundException e) {
      e.printStackTrace();
      fail("cnfe de-serializing principal");
    }
 finally {
      if (ois != null) {
        try {
          ois.close();
        }
 catch (        IOException ignored) {
        }
      }
      if (fis != null) {
        try {
          fis.close();
        }
 catch (        IOException ignored) {
        }
      }
    }
  }
  finally {
    if (!file.delete()) {
      System.out.println("Failed to delete " + file);
    }
  }
  assertEquals("User names different",gpOriginal.getName(),gpNew.getName());
  assertEquals("Passwords different",gpOriginal.getPassword(),gpNew.getPassword());
  assertEquals("Number of roles different",gpOriginal.getRoles().length,gpNew.getRoles().length);
  for (int i=0; i < gpOriginal.getRoles().length; i++) {
    assertEquals("Role name index " + i + "different",gpOriginal.getRoles()[i],gpNew.getRoles()[i]);
  }
  assertNotSame("Inner principal not present",gpNew,gpNew.getUserPrincipal());
  assertEquals("Inner user names are different",tpOriginal.getName(),gpNew.getUserPrincipal().getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestParallelWebappClassLoader </h4><pre class="type-4 type-12 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParallelCapableOnJre7(){
  if (!JreCompat.isJre7Available()) {
    return;
  }
  try {
    Tomcat tomcat=getTomcatInstance();
    Context ctx=tomcat.addContext("",null);
    WebappLoader webappLoader=new WebappLoader();
    webappLoader.setLoaderClass(PARALLEL_CLASSLOADER);
    ctx.setLoader(webappLoader);
    tomcat.start();
    ClassLoader classloader=ctx.getLoader().getClassLoader();
    Assert.assertTrue(classloader instanceof ParallelWebappClassLoader);
    Method getClassLoadingLock=getDeclaredMethod(classloader.getClass(),"getClassLoadingLock",String.class);
    Assert.assertNotNull(getClassLoadingLock);
    getClassLoadingLock.setAccessible(true);
    Object lock=getClassLoadingLock.invoke(classloader,DUMMY_SERVLET);
    Assert.assertNotEquals(lock,classloader);
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail("testParallelCapableOnJre7 fails.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualContext </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVirtualClassLoader() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-virtual-webapp/src/main/webapp");
  StandardContext ctx=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  VirtualWebappLoader loader=new VirtualWebappLoader(ctx.getParentClassLoader());
  loader.setVirtualClasspath("test/webapp-3.0-virtual-webapp/target/classes;" + "test/webapp-3.0-virtual-library/target/classes;" + "test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes;"+ "test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes");
  ctx.setLoader(loader);
  String extraMappings="/=test/webapp-3.0-virtual-webapp/src/main/webapp2" + ",/other=test/webapp-3.0-virtual-webapp/src/main/misc" + ",/WEB-INF/classes=test/webapp-3.0-virtual-webapp/target/classes";
  VirtualDirContext resources=new VirtualDirContext();
  resources.setExtraResourcePaths(extraMappings);
  ctx.setResources(resources);
  StandardJarScanner jarScanner=new StandardJarScanner();
  jarScanner.setScanAllDirectories(true);
  ctx.setJarScanner(jarScanner);
  tomcat.start();
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceB.properties","resourceBInTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceC.properties","resourceCInDependentLibraryTargetClasses=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceD.properties","resourceDInPackagedJarInWebInfLib=true");
  assertPageContains("/test/classpathGetResourceAsStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/classpathGetResourceUrlThenGetStream.jsp?path=rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  String allUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc/").toString();
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp/WEB-INF/lib/rsrc.jar!/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-webapp/target/classes/rsrc") > 0);
  assertTrue(allUrls,allUrls.indexOf("/test/webapp-3.0-virtual-library/target/classes/rsrc") > 0);
  String[] allUrlsArray=allUrls.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allUrlsArray)).size(),allUrlsArray.length);
  String allRsrsc2ClasspathUrls=getUrl("http://localhost:" + getPort() + "/test/classpathGetResources.jsp?path=rsrc2/").toString();
  assertTrue(allRsrsc2ClasspathUrls,allRsrsc2ClasspathUrls.indexOf("/test/webapp-3.0-virtual-webapp/src/main/webapp2/WEB-INF/classes/rsrc2") > 0);
  File f=new File("test/webapp-3.0-virtual-webapp/src/main/webapp/rsrc/resourceF.properties");
  assertPageContains("/test/contextGetRealPath.jsp?path=/rsrc/resourceF.properties",f.getPath());
  assertPageContains("/test/contextGetResource.jsp?path=nonexistent","resourceAInWebInfClasses=true",404);
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceA.properties","resourceAInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/WEB-INF/classes/rsrc/resourceG.properties","resourceGInWebInfClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc/resourceE.properties","resourceEInDependentLibraryTargetClasses=true");
  assertPageContains("/test/contextGetResource.jsp?path=/other/resourceI.properties","resourceIInWebapp=true");
  assertPageContains("/test/contextGetResource.jsp?path=/rsrc2/resourceJ.properties","resourceJInWebapp=true");
  String allRsrcPaths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc/").toString();
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceF.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceE.properties") > 0);
  assertTrue(allRsrcPaths,allRsrcPaths.indexOf("/rsrc/resourceH.properties") > 0);
  String[] allRsrcPathsArray=allRsrcPaths.split("\\s+");
  Assert.assertEquals(new HashSet<String>(Arrays.asList(allRsrcPathsArray)).size(),allRsrcPathsArray.length);
  String allRsrc2Paths=getUrl("http://localhost:" + getPort() + "/test/contextGetResourcePaths.jsp?path=/rsrc2/").toString();
  assertTrue(allRsrc2Paths,allRsrc2Paths.indexOf("/rsrc2/resourceJ.properties") > 0);
  assertPageContains("/test/testTlds.jsp","worldA");
  assertPageContains("/test/testTlds.jsp","worldB");
  assertPageContains("/test/testTlds.jsp","worldC");
  assertPageContains("/test/testTlds.jsp","worldD");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestVirtualWebappLoader </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStartInternal() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  VirtualWebappLoader loader=new VirtualWebappLoader();
  loader.setContainer(ctx);
  ctx.setLoader(loader);
  ctx.setResources(new FileDirContext());
  ctx.resourcesStart();
  File dir=new File("test/webapp-3.0-fragments/WEB-INF/lib");
  loader.setVirtualClasspath(dir.getAbsolutePath() + "/*.jar");
  loader.start();
  String[] repos=loader.getRepositories();
  assertEquals(2,repos.length);
  loader.stop();
  repos=loader.getRepositories();
  assertEquals(2,repos.length);
  loader.start();
  repos=loader.getRepositories();
  assertEquals(2,repos.length);
  ctx.setLoader(null);
  tomcat.start();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoader </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetCodePath() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58096.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  File f=new File("test/webapp-3.0/WEB-INF/classes");
  Assert.assertEquals(f.toURI().toURL().toString(),out.toString().trim());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderThreadLocalMemoryLeak </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak1() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet1","org.apache.tomcat.unittest.TesterLeakingServlet1");
  ctx.addServletMapping("/leak1","leakServlet1");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet1",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak1",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreadLocalLeak2() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().addLifecycleListener(new JreMemoryLeakPreventionListener());
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"leakServlet2","org.apache.tomcat.unittest.TesterLeakingServlet2");
  ctx.addServletMapping("/leak2","leakServlet2");
  tomcat.start();
  Executor executor=tomcat.getConnector().getProtocolHandler().getExecutor();
  ((ThreadPoolExecutor)executor).setThreadRenewalDelay(-1);
  LogValidationFilter f=new LogValidationFilter("The web application [] created a ThreadLocal with key of");
  LogManager.getLogManager().getLogger("org.apache.catalina.loader.WebappClassLoaderBase").setFilter(f);
  loadClass("TesterCounter",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterThreadScopedHolder",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  loadClass("TesterLeakingServlet2",(WebappClassLoaderBase)ctx.getLoader().getClassLoader());
  int rc=getUrl("http://localhost:" + getPort() + "/leak2",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  ctx.stop();
  tomcat.getHost().removeChild(ctx);
  ctx=null;
  String[] leaks=((StandardHost)tomcat.getHost()).findReloadedContextMemoryLeaks();
  Assert.assertNotNull(leaks);
  Assert.assertTrue(leaks.length > 0);
  Assert.assertEquals(1,f.getMessageCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.loader.TestWebappClassLoaderWeaving </h4><pre class="type-4 type-11 type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCopiedClassLoaderExcludesResourcesAndTransformers() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #2!",result);
  WebappClassLoader copiedLoader=this.loader.copyWithoutTransformers();
  result=invokeDoMethodOnClass(copiedLoader,"TesterNeverWeavedClass");
  assertEquals("The third result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(copiedLoader,"TesterUnweavedClass");
  assertEquals("The fourth result is not correct.","Hello, Unweaved World!",result);
  assertEquals("getAntiJARLocking did not match.",Boolean.valueOf(this.loader.getAntiJARLocking()),Boolean.valueOf(copiedLoader.getAntiJARLocking()));
  assertEquals("getClearReferencesHttpClientKeepAliveThread did not match.",Boolean.valueOf(this.loader.getClearReferencesHttpClientKeepAliveThread()),Boolean.valueOf(copiedLoader.getClearReferencesHttpClientKeepAliveThread()));
  assertEquals("getClearReferencesLogFactoryRelease did not match.",Boolean.valueOf(this.loader.getClearReferencesLogFactoryRelease()),Boolean.valueOf(copiedLoader.getClearReferencesLogFactoryRelease()));
  assertEquals("getClearReferencesStatic did not match.",Boolean.valueOf(this.loader.getClearReferencesStatic()),Boolean.valueOf(copiedLoader.getClearReferencesStatic()));
  assertEquals("getClearReferencesStopThreads did not match.",Boolean.valueOf(this.loader.getClearReferencesStopThreads()),Boolean.valueOf(copiedLoader.getClearReferencesStopThreads()));
  assertEquals("getClearReferencesStopTimerThreads did not match.",Boolean.valueOf(this.loader.getClearReferencesStopTimerThreads()),Boolean.valueOf(copiedLoader.getClearReferencesStopTimerThreads()));
  assertEquals("getContextName did not match.",this.loader.getContextName(),copiedLoader.getContextName());
  assertEquals("getDelegate did not match.",Boolean.valueOf(this.loader.getDelegate()),Boolean.valueOf(copiedLoader.getDelegate()));
  assertEquals("getJarPath did not match.",this.loader.getJarPath(),copiedLoader.getJarPath());
  assertEquals("getURLs did not match.",this.loader.getURLs().length,copiedLoader.getURLs().length);
  assertSame("getParent did not match.",this.loader.getParent(),copiedLoader.getParent());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemovedTransformerNoLongerInstruments3() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  ReplacementTransformer removed=new ReplacementTransformer(WEAVED_REPLACEMENT_1);
  this.loader.addTransformer(removed);
  this.loader.removeTransformer(removed);
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #2!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddedTransformerInstrumentsClass2() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #2!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTransformersExecuteInOrderAdded2() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #1!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddedTransformerInstrumentsClass1() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #1!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemovedTransformerNoLongerInstruments2() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  ReplacementTransformer removed=new ReplacementTransformer(WEAVED_REPLACEMENT_2);
  this.loader.addTransformer(removed);
  this.loader.removeTransformer(removed);
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #1!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoWeaving() throws Exception {
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Unweaved World!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemovedTransformerNoLongerInstruments1() throws Exception {
  ReplacementTransformer removed=new ReplacementTransformer(WEAVED_REPLACEMENT_1);
  this.loader.addTransformer(removed);
  this.loader.removeTransformer(removed);
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Unweaved World!",result);
}

</code></pre>

<br>
<pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddingNullTransformerThrowsException() throws Exception {
  try {
    this.loader.addTransformer(null);
    fail("Expected exception IllegalArgumentException, got no exception.");
  }
 catch (  IllegalArgumentException ignore) {
  }
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Unweaved World!",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTransformersExecuteInOrderAdded1() throws Exception {
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_1));
  this.loader.addTransformer(new ReplacementTransformer(WEAVED_REPLACEMENT_2));
  String result=invokeDoMethodOnClass(this.loader,"TesterNeverWeavedClass");
  assertEquals("The first result is not correct.","This will never be weaved.",result);
  result=invokeDoMethodOnClass(this.loader,"TesterUnweavedClass");
  assertEquals("The second result is not correct.","Hello, Weaver #2!",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.mbeans.TestRegistration </h4><pre class="type-4 type-10 type-12 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test verifying that Tomcat correctly de-registers the MBeans it has
 * registered.
 * @author Marc Guillemot
 */
@Test public void testMBeanDeregistration() throws Exception {
  final MBeanServer mbeanServer=Registry.getRegistry(null,null).getMBeanServer();
  Set<ObjectName> onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Unexpected: " + onames,0,onames.size());
  final Tomcat tomcat=getTomcatInstance();
  final File contextDir=new File(getTemporaryDirectory(),"webappFoo");
  addDeleteOnTearDown(contextDir);
  if (!contextDir.mkdirs() && !contextDir.isDirectory()) {
    fail("Failed to create: [" + contextDir.toString() + "]");
  }
  Context ctx=tomcat.addContext(contextName,contextDir.getAbsolutePath());
  CombinedRealm combinedRealm=new CombinedRealm();
  Realm nullRealm=new NullRealm();
  combinedRealm.addRealm(nullRealm);
  ctx.setRealm(combinedRealm);
  tomcat.getConnector().setAttribute("maxKeepAliveRequests",Integer.valueOf(1));
  tomcat.start();
  getUrl("http://localhost:" + getPort());
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Found: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  ArrayList<String> found=new ArrayList<String>(onames.size());
  for (  ObjectName on : onames) {
    found.add(on.toString());
  }
  String protocol=tomcat.getConnector().getProtocolHandlerClassName();
  if (protocol.indexOf("Nio") > 0) {
    protocol="nio";
  }
 else   if (protocol.indexOf("Apr") > 0) {
    protocol="apr";
  }
 else {
    protocol="bio";
  }
  String index=tomcat.getConnector().getProperty("nameIndex").toString();
  ArrayList<String> expected=new ArrayList<String>(Arrays.asList(basicMBeanNames()));
  expected.addAll(Arrays.asList(hostMBeanNames("localhost")));
  expected.addAll(Arrays.asList(contextMBeanNames("localhost",contextName)));
  expected.addAll(Arrays.asList(connectorMBeanNames("auto-" + index,protocol)));
  expected.addAll(Arrays.asList(optionalMBeanNames("localhost")));
  expected.addAll(Arrays.asList(requestMBeanNames("auto-" + index + "-"+ getPort(),protocol)));
  ArrayList<String> missing=new ArrayList<String>(expected);
  missing.removeAll(found);
  assertTrue("Missing Tomcat MBeans: " + missing,missing.isEmpty());
  List<String> additional=found;
  additional.removeAll(expected);
  assertTrue("Unexpected Tomcat MBeans: " + additional,additional.isEmpty());
  tomcat.stop();
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  assertTrue("No Tomcat MBeans",onames.size() > 0);
  StandardHost host=new StandardHost();
  host.setName("otherhost");
  tomcat.getEngine().addChild(host);
  final File contextDir2=new File(getTemporaryDirectory(),"webappFoo2");
  addDeleteOnTearDown(contextDir2);
  if (!contextDir2.mkdirs() && !contextDir2.isDirectory()) {
    fail("Failed to create: [" + contextDir2.toString() + "]");
  }
  tomcat.addContext(host,contextName + "2",contextDir2.getAbsolutePath());
  tomcat.start();
  tomcat.stop();
  tomcat.destroy();
  onames=mbeanServer.queryNames(new ObjectName("Catalina:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
  onames=mbeanServer.queryNames(new ObjectName("Tomcat:*"),null);
  log.info(MBeanDumper.dumpBeans(mbeanServer,onames));
  assertEquals("Remaining: " + onames,0,onames.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.realm.TestJNDIRealm </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPassword() throws Exception {
  JNDIRealm realm=buildRealm(PASSWORD,null);
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(PASSWORD,((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticateWithUserPasswordAndDigest() throws Exception {
  JNDIRealm realm=buildRealm(ha1(),"MD5");
  realm.setUserPassword(USER_PASSWORD_ATTR);
  String expectedResponse=MD5Encoder.encode(md5Helper.digest((ha1() + ":" + NONCE+ ":"+ HA2).getBytes()));
  Principal principal=realm.authenticate(USER,expectedResponse,NONCE,null,null,null,REALM,HA2);
  Assert.assertTrue(principal instanceof GenericPrincipal);
  Assert.assertEquals(ha1(),((GenericPrincipal)principal).getPassword());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.servlets.TestDefaultServlet </h4><pre class="type-10 type-12 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50413 Serving a
 * custom error page
 */
@Test public void testCustomErrorPage() throws Exception {
  File appDir=new File(getTemporaryDirectory(),"MyApp");
  File webInf=new File(appDir,"WEB-INF");
  addDeleteOnTearDown(appDir);
  if (!webInf.mkdirs() && !webInf.isDirectory()) {
    fail("Unable to create directory [" + webInf + "]");
  }
  Writer w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"WEB-INF/web.xml")),"UTF-8");
  try {
    w.write("<?xml version='1.0' encoding='UTF-8'?>\n" + "<web-app xmlns='http://java.sun.com/xml/ns/j2ee' " + " xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'"+ " xsi:schemaLocation='http://java.sun.com/xml/ns/j2ee "+ " http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd'"+ " version='2.4'>\n"+ "<error-page>\n<error-code>404</error-code>\n"+ "<location>/404.html</location>\n</error-page>\n"+ "</web-app>\n");
    w.flush();
  }
  finally {
    w.close();
  }
  w=new OutputStreamWriter(new FileOutputStream(new File(appDir,"404.html")),"ISO-8859-1");
  try {
    w.write("It is 404.html");
    w.flush();
  }
  finally {
    w.close();
  }
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/MyApp";
  tomcat.addWebapp(null,contextPath,appDir.getAbsolutePath());
  tomcat.start();
  TestCustomErrorClient client=new TestCustomErrorClient(tomcat.getConnector().getLocalPort());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.0" + CRLF + CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  SimpleDateFormat format=new SimpleDateFormat("EEE, dd MMM yyyy HH:mm:ss zzz",Locale.US);
  format.setTimeZone(TimeZone.getTimeZone("GMT"));
  String tomorrow=format.format(new Date(System.currentTimeMillis() + 24 * 60 * 60* 1000));
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "If-Modified-Since: "+ tomorrow+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
  client.reset();
  client.setRequest(new String[]{"GET /MyApp/missing HTTP/1.1" + CRLF + "Host: localhost"+ CRLF+ "Connection: close"+ CRLF+ "Range: bytes=0-100"+ CRLF+ CRLF});
  client.connect();
  client.processRequest();
  assertTrue(client.isResponse404());
  assertEquals("It is 404.html",client.getResponseBody());
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to access special paths (WEB-INF/META-INF) using
 * DefaultServlet.
 */
@Test public void testGetSpecials() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Verifies that the same Content-Length is returned for both GET and HEAD
 * operations when a static resource served by the DefaultServlet is
 * included.
 */
@Test public void testBug57601() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  Map<String,List<String>> resHeaders=new HashMap<String,List<String>>();
  String path="http://localhost:" + getPort() + "/test/bug5nnnn/bug57601.jsp";
  ByteChunk out=new ByteChunk();
  int rc=getUrl(path,out,resHeaders);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String length=resHeaders.get("Content-Length").get(0);
  Assert.assertEquals(Long.parseLong(length),out.getLength());
  out.recycle();
  rc=headUrl(path,out,resHeaders);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertEquals(0,out.getLength());
  Assert.assertEquals(length,resHeaders.get("Content-Length").get(0));
  tomcat.stop();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50026
 * Verify serving of resources from context root with subpath mapping.
 */
@Test public void testGetWithSubpathmount() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  org.apache.catalina.Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"default2",new DefaultServlet());
  ctx.addServletMapping("/","default2");
  ctx.addServletMapping("/servlets/*","default2");
  ctx.addServletMapping("/static/*","default2");
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  final ByteChunk rootResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/index.html",rootResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  final ByteChunk subpathResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/servlets/index.html",subpathResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertFalse(rootResource.toString().equals(subpathResource.toString()));
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/static/index.html",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.servlets.TestWebdavServlet </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test https://bz.apache.org/bugzilla/show_bug.cgi?id=50026
 * Verify protection of special paths with re-mount of web app resource root.
 */
@Test public void testGetWithSubpathmount() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  org.apache.catalina.Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"webdav",new WebdavServlet());
  ctx.addServletMapping("/webdav/*","webdav");
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  final ByteChunk rootResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/index.html",rootResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  final ByteChunk subpathResource=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/index.html",subpathResource,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertEquals(rootResource.toString(),subpathResource.toString());
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/webdav/static/index.html",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test attempting to access special paths (WEB-INF/META-INF) using WebdavServlet
 */
@Test public void testGetSpecials() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  org.apache.catalina.Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"webdav",new WebdavServlet());
  ctx.addServletMapping("/*","webdav");
  tomcat.start();
  final ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/web.xml",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/WEB-INF/",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/META-INF/MANIFEST.MF",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
  rc=getUrl("http://localhost:" + getPort() + contextPath+ "/META-INF/doesntexistanywhere",res,null);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.session.TestPersistentManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateSessionAndPassivate() throws IOException, LifecycleException, ClassNotFoundException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals("No active sessions",manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  String sessionId=getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=false").toString();
  Assert.assertNotNull("Session is stored",store.load(sessionId));
  Assert.assertEquals("All sessions are passivated",manager.getActiveSessions(),0);
  Assert.assertTrue("One session was created",!manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void backsUpOnce_56698() throws IOException, LifecycleException, InterruptedException {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  tomcat.start();
  String sessionId=getUrl("http://localhost:" + getPort() + "/dummy").toString();
  Session session=manager.findSession(sessionId);
  waitWhileSessionIsActive((StandardSession)session);
  long lastAccessedTime=session.getLastAccessedTimeInternal();
  waitForClockUpdate();
  manager.processPersistenceChecks();
  Assert.assertEquals(Arrays.asList(sessionId),store.getSavedIds());
  Assert.assertEquals(lastAccessedTime,session.getLastAccessedTimeInternal());
  waitForClockUpdate();
  manager.processPersistenceChecks();
  Assert.assertEquals(Arrays.asList(sessionId),store.getSavedIds());
  Assert.assertEquals(lastAccessedTime,session.getLastAccessedTimeInternal());
  session.access();
  session.endAccess();
  manager.processPersistenceChecks();
  Assert.assertEquals(Arrays.asList(sessionId,sessionId),store.getSavedIds());
  manager.processPersistenceChecks();
  Assert.assertEquals(Arrays.asList(sessionId,sessionId),store.getSavedIds());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noSessionCreate_57637() throws IOException, LifecycleException {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments-empty-absolute-ordering");
  StandardContext ctx=(StandardContext)tomcat.addContext("",appDir.getAbsolutePath());
  ctx.setDistributable(true);
  Tomcat.addServlet(ctx,"DummyServlet",new DummyServlet());
  ctx.addServletMapping("/dummy","DummyServlet");
  PersistentManager manager=new PersistentManager();
  DummyStore store=new DummyStore();
  manager.setStore(store);
  manager.setMaxIdleBackup(0);
  ctx.setManager(manager);
  ctx.addValve(new PersistentValve());
  tomcat.start();
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions managed",manager.getSessionIdsFull().isEmpty());
  Assert.assertEquals("NO_SESSION",getUrl("http://localhost:" + getPort() + "/dummy?no_create_session=true").toString());
  Assert.assertEquals(manager.getActiveSessions(),0);
  Assert.assertTrue("No sessions where created",manager.getSessionIdsFull().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.session.TestStandardSession </h4><pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void serializeSkipsNonSerializableAttributes() throws Exception {
  final String nonSerializableKey="nonSerializable";
  final String nestedNonSerializableKey="nestedNonSerializable";
  final String serializableKey="serializable";
  final Object serializableValue="foo";
  StandardSession s1=new StandardSession(TEST_MANAGER);
  s1.setValid(true);
  Map<String,NonSerializable> value=new HashMap<String,NonSerializable>();
  value.put("key",new NonSerializable());
  s1.setAttribute(nestedNonSerializableKey,value);
  s1.setAttribute(serializableKey,serializableValue);
  s1.setAttribute(nonSerializableKey,new NonSerializable());
  StandardSession s2=serializeThenDeserialize(s1);
  Assert.assertNull(s2.getAttribute(nestedNonSerializableKey));
  Assert.assertNull(s2.getAttribute(nonSerializableKey));
  Assert.assertEquals(serializableValue,s2.getAttribute(serializableKey));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestContextConfigAnnotation </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetupWebXMLNoMapping() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param1");
  servletDef.setServletClass("org.apache.catalina.startup.NoMappingParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param1");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/NoMappingParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  ServletDef servletDef1=webxml.getServlets().get("param1");
  assertNotNull(servletDef1);
  assertEquals(servletDef,servletDef1);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  ServletDef servletDef=webxml.getServlets().get("param");
  assertNotNull(servletDef);
  assertEquals("Hello",servletDef.getParameterMap().get("foo"));
  assertEquals("World!",servletDef.getParameterMap().get("bar"));
  assertEquals("param",webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("param",servletDef.getDescription());
  assertEquals("param",servletDef.getDisplayName());
  assertEquals("paramLarge.png",servletDef.getLargeIcon());
  assertEquals("paramSmall.png",servletDef.getSmallIcon());
  assertEquals(Boolean.FALSE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(0),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteAnnotation() throws Exception {
  WebXml webxml=new WebXml();
  ServletDef servletDef=new ServletDef();
  servletDef.setServletName("param");
  servletDef.setServletClass("org.apache.catalina.startup.ParamServlet");
  servletDef.addInitParameter("foo","tomcat");
  servletDef.setDescription("Description");
  servletDef.setDisplayName("DisplayName");
  servletDef.setLargeIcon("LargeIcon");
  servletDef.setSmallIcon("SmallIcon");
  servletDef.setAsyncSupported("true");
  servletDef.setLoadOnStartup("1");
  webxml.addServlet(servletDef);
  webxml.addServletMapping("/param","param");
  ContextConfig config=new ContextConfig();
  File pFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  assertTrue(pFile.exists());
  config.processAnnotationsFile(pFile,webxml,false);
  assertEquals(servletDef,webxml.getServlets().get("param"));
  assertEquals("tomcat",servletDef.getParameterMap().get("foo"));
  assertEquals("param",webxml.getServletMappings().get("/param"));
  assertNull(webxml.getServletMappings().get("/annotation/overwrite"));
  assertEquals("Description",servletDef.getDescription());
  assertEquals("DisplayName",servletDef.getDisplayName());
  assertEquals("LargeIcon",servletDef.getLargeIcon());
  assertEquals("SmallIcon",servletDef.getSmallIcon());
  assertEquals(Boolean.TRUE,servletDef.getAsyncSupported());
  assertEquals(Integer.valueOf(1),servletDef.getLoadOnStartup());
  assertNull(servletDef.getEnabled());
  assertNull(servletDef.getJspFile());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckHandleTypes() throws Exception {
  ContextConfig config=new ContextConfig();
  config.handlesTypesAnnotations=true;
  config.handlesTypesNonAnnotations=true;
  StandardContext context=new StandardContext();
  context.setLoader(new TesterLoader());
  config.context=context;
  SCI sciNone=new SCI();
  config.initializerClassMap.put(sciNone,new HashSet<Class<?>>());
  SCI sciServlet=new SCI();
  config.initializerClassMap.put(sciServlet,new HashSet<Class<?>>());
  config.typeInitializerMap.put(Servlet.class,new HashSet<ServletContainerInitializer>());
  config.typeInitializerMap.get(Servlet.class).add(sciServlet);
  SCI sciObject=new SCI();
  config.initializerClassMap.put(sciObject,new HashSet<Class<?>>());
  config.typeInitializerMap.put(Object.class,new HashSet<ServletContainerInitializer>());
  config.typeInitializerMap.get(Object.class).add(sciObject);
  WebXml ignore=new WebXml();
  File file=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/TesterServlet");
  config.processAnnotationsFile(file,ignore,false);
  file=paramClassResource("org/apache/catalina/startup/TestListener");
  config.processAnnotationsFile(file,ignore,false);
  assertEquals(0,config.initializerClassMap.get(sciNone).size());
  assertEquals(2,config.initializerClassMap.get(sciServlet).size());
  assertEquals(4,config.initializerClassMap.get(sciObject).size());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals("Servlet says: ",fdef.getParameterMap().get("message"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverwriteFilterMapping() throws Exception {
  WebXml webxml=new WebXml();
  FilterDef filterDef=new FilterDef();
  filterDef.setFilterName("paramFilter");
  filterDef.setFilterClass("org.apache.catalina.startup.ParamFilter");
  filterDef.addInitParameter("message","tomcat");
  filterDef.setDescription("Description");
  filterDef.setDisplayName("DisplayName");
  filterDef.setLargeIcon("LargeIcon");
  filterDef.setSmallIcon("SmallIcon");
  filterDef.setAsyncSupported("true");
  webxml.addFilter(filterDef);
  FilterMap filterMap=new FilterMap();
  filterMap.addURLPattern("/param1");
  filterMap.setFilterName("paramFilter");
  webxml.addFilterMapping(filterMap);
  ContextConfig config=new ContextConfig();
  File sFile=paramClassResource("org/apache/catalina/startup/ParamServlet");
  config.processAnnotationsFile(sFile,webxml,false);
  File fFile=paramClassResource("org/apache/catalina/startup/ParamFilter");
  config.processAnnotationsFile(fFile,webxml,false);
  FilterDef fdef=webxml.getFilters().get("paramFilter");
  assertNotNull(fdef);
  assertEquals(filterDef,fdef);
  assertEquals("tomcat",fdef.getParameterMap().get("message"));
  Set<FilterMap> filterMappings=webxml.getFilterMappings();
  assertTrue(filterMappings.contains(filterMap));
  String[] urlPatterns=filterMap.getURLPatterns();
  assertNotNull(urlPatterns);
  assertEquals(1,urlPatterns.length);
  assertEquals("/param1",urlPatterns[0]);
  assertEquals("Description",fdef.getDescription());
  assertEquals("DisplayName",fdef.getDisplayName());
  assertEquals("LargeIcon",fdef.getLargeIcon());
  assertEquals("SmallIcon",fdef.getSmallIcon());
  assertEquals("true",fdef.getAsyncSupported());
  String[] dis=filterMap.getDispatcherNames();
  assertEquals(2,dis.length);
  assertEquals(DispatcherType.ERROR.toString(),dis[0]);
  assertEquals(DispatcherType.ASYNC.toString(),dis[1]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestTomcat </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for enabling JNDI.
 */
@Test public void testEnableNaming() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  tomcat.enableNaming();
  ContextEnvironment environment=new ContextEnvironment();
  environment.setType("java.lang.String");
  environment.setName(HelloWorldJndi.JNDI_ENV_NAME);
  environment.setValue("Tomcat User");
  ctx.getNamingResources().addEnvironment(environment);
  Tomcat.addServlet(ctx,"jndiServlet",new HelloWorldJndi());
  ctx.addServletMapping("/","jndiServlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("Hello, Tomcat User",res.toString());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetCustomContextPerAddWebappWithNullHost(){
  Tomcat tomcat=getTomcatInstance();
  Host host=tomcat.getHost();
  if (host instanceof StandardHost) {
    ((StandardHost)host).setContextClass(ReplicatedContext.class.getName());
  }
  File appFile=new File("test/deployment/context.war");
  Context context=tomcat.addWebapp(null,"/test",appFile.getAbsolutePath());
  assertEquals(ReplicatedContext.class.getName(),context.getClass().getName());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetCustomContextPerAddContextWithHost(){
  Tomcat tomcat=getTomcatInstance();
  Host host=tomcat.getHost();
  if (host instanceof StandardHost) {
    ((StandardHost)host).setContextClass(ReplicatedContext.class.getName());
  }
  Context ctx=tomcat.addContext(host,"",null);
  assertEquals(ReplicatedContext.class.getName(),ctx.getClass().getName());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSession() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"myServlet",new HelloWorldSession());
  ctx.addServletMapping("/","myServlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("Hello world",res.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for enabling JNDI and using global resources.
 */
@Test public void testEnableNamingGlobal() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  tomcat.enableNaming();
  ContextEnvironment environment=new ContextEnvironment();
  environment.setType("java.lang.String");
  environment.setName("globalTest");
  environment.setValue("Tomcat User");
  tomcat.getServer().getGlobalNamingResources().addEnvironment(environment);
  ContextResourceLink link=new ContextResourceLink();
  link.setGlobal("globalTest");
  link.setName(HelloWorldJndi.JNDI_ENV_NAME);
  ctx.getNamingResources().addResourceLink(link);
  Tomcat.addServlet(ctx,"jndiServlet",new HelloWorldJndi());
  ctx.addServletMapping("/","jndiServlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("Hello, Tomcat User",res.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53301() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  InitCount initCount=new InitCount();
  Tomcat.addServlet(ctx,"initCount",initCount);
  ctx.addServletMapping("/","initCount");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("OK",res.toString());
  assertEquals(1,initCount.getCallCount());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug51526() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appFile=new File("test/deployment/context.war");
  StandardContext context=(StandardContext)tomcat.addWebapp(null,"/test",appFile.getAbsolutePath());
  tomcat.start();
  assertEquals("WAR_CONTEXT",context.getSessionCookieName());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetDefaultContextPerAddWebapp(){
  Tomcat tomcat=getTomcatInstance();
  File appFile=new File("test/deployment/context.war");
  Context context=tomcat.addWebapp(null,"/test",appFile.getAbsolutePath());
  assertEquals(StandardContext.class.getName(),context.getClass().getName());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for https://bz.apache.org/bugzilla/show_bug.cgi?id=47866
 */
@Test public void testGetResource() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  String contextPath="/examples";
  File appDir=new File(getBuildDirectory(),"webapps" + contextPath);
  Context ctx=tomcat.addWebapp(null,"/examples",appDir.getAbsolutePath());
  Tomcat.addServlet(ctx,"testGetResource",new GetResource());
  ctx.addServletMapping("/testGetResource","testGetResource");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + contextPath+ "/testGetResource",res,null);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(res.toString().contains("<?xml version=\"1.0\" "));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetDefaultContextPerAddContext(){
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext(null,"",null);
  assertEquals(StandardContext.class.getName(),ctx.getClass().getName());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetCustomContextPerAddWebappWithHost(){
  Tomcat tomcat=getTomcatInstance();
  Host host=tomcat.getHost();
  if (host instanceof StandardHost) {
    ((StandardHost)host).setContextClass(ReplicatedContext.class.getName());
  }
  File appFile=new File("test/deployment/context.war");
  Context context=tomcat.addWebapp(host,"/test",appFile.getAbsolutePath());
  assertEquals(ReplicatedContext.class.getName(),context.getClass().getName());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Start tomcat with a single context and one
 * servlet - all programmatic, no server.xml or
 * web.xml used.
 * @throws Exception
 */
@Test public void testProgrammatic() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"myServlet",new HelloWorld());
  ctx.addServletMapping("/","myServlet");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("Hello world",res.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestTomcatClassLoader </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultClassLoader() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"ClassLoaderReport",new ClassLoaderReport(null));
  ctx.addServletMapping("/","ClassLoaderReport");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("WEBAPP,SYSTEM,OTHER,",res.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNonDefaultClassLoader() throws Exception {
  ClassLoader cl=new URLClassLoader(new URL[0],Thread.currentThread().getContextClassLoader());
  Thread.currentThread().setContextClassLoader(cl);
  Tomcat tomcat=getTomcatInstance();
  tomcat.getServer().setParentClassLoader(cl);
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"ClassLoaderReport",new ClassLoaderReport(cl));
  ctx.addServletMapping("/","ClassLoaderReport");
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("WEBAPP,CUSTOM,SYSTEM,OTHER,",res.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.startup.TestWebRuleSet </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebFragmentXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-fragment-1ordering.xml",true,true);
  assertEquals(1,webXml.getBeforeOrdering().size());
  assertTrue(webXml.getBeforeOrdering().contains("bar"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleNameInWebFragmentXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-fragment-1name.xml",true,true);
  assertEquals("name1",webXml.getName());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleOrderingInWebXml() throws Exception {
  WebXml webXml=new WebXml();
  parse(webXml,"web-1ordering.xml",false,true);
  assertEquals(1,webXml.getAbsoluteOrdering().size());
  assertTrue(webXml.getAbsoluteOrdering().contains("bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.TestGroupChannelMemberArrival </h4><pre class="type-8 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMemberArrival() throws Exception {
  Thread[] threads=new Thread[channels.length];
  for (int i=0; i < channels.length; i++) {
    final Channel channel=channels[i];
    Thread t=new Thread(){
      @Override public void run(){
        try {
          channel.start(Channel.DEFAULT);
        }
 catch (        Exception x) {
          throw new RuntimeException(x);
        }
      }
    }
;
    threads[i]=t;
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  Thread.sleep(5000);
  System.out.println(System.currentTimeMillis() + " All channels started.");
  for (int i=listeners.length - 1; i >= 0; i--) {
    TestMbrListener listener=listeners[i];
synchronized (listener.members) {
      assertEquals("Checking member arrival length (" + listener.name + ")",channels.length - 1,listener.members.size());
    }
  }
  System.out.println(System.currentTimeMillis() + " Members arrival counts checked.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.TestGroupChannelStartStop </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFalseOption() throws Exception {
  int flag=0xFFF0;
  int count=0;
  try {
    channel.start(flag);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(flag);
    count++;
  }
 catch (  Exception x) {
  }
  assertEquals(count,2);
  channel.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoubleFullStart() throws Exception {
  int count=0;
  try {
    channel.start(Channel.DEFAULT);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(Channel.DEFAULT);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  assertEquals(count,2);
  channel.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDoublePartialStart() throws Exception {
  int count=0;
  try {
    channel.start(Channel.SND_RX_SEQ);
    channel.start(Channel.MBR_RX_SEQ);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(Channel.MBR_RX_SEQ);
    count++;
  }
 catch (  Exception x) {
  }
  assertEquals(count,1);
  channel.stop(Channel.DEFAULT);
  count=0;
  try {
    channel.start(Channel.SND_RX_SEQ);
    channel.start(Channel.MBR_TX_SEQ);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(Channel.MBR_TX_SEQ);
    count++;
  }
 catch (  Exception x) {
  }
  assertEquals(count,1);
  channel.stop(Channel.DEFAULT);
  count=0;
  try {
    channel.start(Channel.SND_RX_SEQ);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(Channel.SND_RX_SEQ);
    count++;
  }
 catch (  Exception x) {
  }
  assertEquals(count,1);
  channel.stop(Channel.DEFAULT);
  count=0;
  try {
    channel.start(Channel.SND_TX_SEQ);
    count++;
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
  try {
    channel.start(Channel.SND_TX_SEQ);
    count++;
  }
 catch (  Exception x) {
  }
  assertEquals(count,1);
  channel.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestDomainFilterInterceptor </h4><pre class="type-8 type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testMemberArrival() throws Exception {
  Thread[] threads=new Thread[channels.length];
  for (int i=0; i < channels.length; i++) {
    final Channel channel=channels[i];
    Thread t=new Thread(){
      @Override public void run(){
        try {
          channel.start(Channel.DEFAULT);
        }
 catch (        Exception x) {
          throw new RuntimeException(x);
        }
      }
    }
;
    threads[i]=t;
  }
  for (int i=0; i < threads.length; i++)   threads[i].start();
  for (int i=0; i < threads.length; i++)   threads[i].join();
  System.out.println("All channels started.");
  for (int i=listeners.length - 1; i >= 0; i--)   assertEquals("Checking member arrival length",0,listeners[i].members.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestNonBlockingCoordinator </h4><pre class="type-8 type-10 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoord2() throws Exception {
  Member member=coordinators[1].getCoordinator();
  System.out.println("Coordinator[2a] is:" + member);
  int index=-1;
  for (int i=0; i < CHANNEL_COUNT; i++) {
    if (channels[i].getLocalMember(false).equals(member)) {
      System.out.println("Shutting down:" + channels[i].getLocalMember(true).toString());
      channels[i].stop(Channel.DEFAULT);
      index=i;
    }
  }
  int dead=index;
  Thread.sleep(1000);
  if (index == 0) {
    index=1;
  }
 else {
    index=0;
  }
  System.out.println("Member count:" + channels[index].getMembers().length);
  member=coordinators[index].getCoordinator();
  for (int i=1; i < CHANNEL_COUNT; i++) {
    if (i != dead) {
      assertEquals(member,coordinators[i].getCoordinator());
    }
  }
  System.out.println("Coordinator[2b] is:" + member);
}

</code></pre>

<br>
<pre class="type-8 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoord1() throws Exception {
  int expectedCount=channels[0].getMembers().length;
  for (int i=1; i < CHANNEL_COUNT; i++) {
    assertEquals("Message count expected to be equal.",expectedCount,channels[i].getMembers().length);
  }
  Member member=coordinators[0].getCoordinator();
  int cnt=0;
  while (member == null && (cnt++ < 100)) {
    try {
      Thread.sleep(100);
      member=coordinators[0].getCoordinator();
    }
 catch (    Exception x) {
    }
  }
  for (int i=0; i < CHANNEL_COUNT; i++) {
    assertEquals(member,coordinators[i].getCoordinator());
  }
  System.out.println("Coordinator[1] is:" + member);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.group.interceptors.TestTcpFailureDetector </h4><pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTcpMcastFail() throws Exception {
  System.out.println("testTcpMcastFail()");
  clear();
  channel1.start(Channel.DEFAULT);
  channel2.start(Channel.DEFAULT);
  assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
  channel2.stop(Channel.MBR_TX_SEQ);
  ByteMessage msg=new ByteMessage(new byte[1024]);
  try {
    Thread.sleep(5000);
    assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
    channel1.send(channel1.getMembers(),msg,0);
  }
 catch (  ChannelException x) {
    fail("Message send should have succeeded.");
  }
  channel1.stop(Channel.DEFAULT);
  channel2.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTcpFailureMemberAdd() throws Exception {
  System.out.println("testTcpFailureMemberAdd()");
  clear();
  channel1.start(Channel.DEFAULT);
  channel2.start(Channel.SND_RX_SEQ);
  channel2.start(Channel.SND_TX_SEQ);
  channel2.start(Channel.MBR_RX_SEQ);
  channel2.stop(Channel.SND_RX_SEQ);
  channel2.start(Channel.MBR_TX_SEQ);
  assertEquals("Expecting member count to not be equal",mbrlist1.members.size() + 1,mbrlist2.members.size());
  channel1.stop(Channel.DEFAULT);
  channel2.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<pre class="type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTcpSendFailureMemberDrop() throws Exception {
  System.out.println("testTcpSendFailureMemberDrop()");
  clear();
  channel1.start(Channel.DEFAULT);
  channel2.start(Channel.DEFAULT);
  assertEquals("Expecting member count to be equal",mbrlist1.members.size(),mbrlist2.members.size());
  channel2.stop(Channel.SND_RX_SEQ);
  ByteMessage msg=new ByteMessage(new byte[1024]);
  try {
    channel1.send(channel1.getMembers(),msg,0);
    fail("Message send should have failed.");
  }
 catch (  ChannelException x) {
  }
  assertEquals("Expecting member count to not be equal",mbrlist1.members.size() + 1,mbrlist2.members.size());
  channel1.stop(Channel.DEFAULT);
  channel2.stop(Channel.DEFAULT);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.io.TestXByteBuffer </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSerializationString() throws Exception {
  String test="This is as test.";
  byte[] msg=XByteBuffer.serialize(test);
  Object obj=XByteBuffer.deserialize(msg);
  assertTrue(obj instanceof String);
  assertEquals(test,obj);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.test.channel.TestDataIntegrity </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNC() throws Exception {
  System.err.println("Starting ASYNC");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(),Channel.SEND_OPTIONS_ASYNCHRONOUS);
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 5000 && msgCount != listener1.count)   Thread.sleep(500);
  System.err.println("Finished ASYNC");
  assertEquals("Checking success messages.",msgCount,listener1.count);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendNO_ACK() throws Exception {
  System.err.println("Starting NO_ACK");
  Thread[] threads=new Thread[threadCount];
  for (int x=0; x < threads.length; x++) {
    threads[x]=new Thread(){
      @Override public void run(){
        try {
          long start=System.currentTimeMillis();
          for (int i=0; i < msgCount; i++)           channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(),0);
          System.out.println("Thread[" + this.getName() + "] sent "+ msgCount+ " messages in "+ (System.currentTimeMillis() - start)+ " ms.");
        }
 catch (        Exception x) {
          x.printStackTrace();
          return;
        }
      }
    }
;
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].start();
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].join();
  }
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 15000 && msgCount * threadCount != listener1.count)   Thread.sleep(500);
  System.err.println("Finished NO_ACK [" + listener1.count + "]");
  assertEquals("Checking success messages.",msgCount * threadCount,listener1.count);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendSYNCACK() throws Exception {
  System.err.println("Starting SYNC_ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(),Channel.SEND_OPTIONS_SYNCHRONIZED_ACK | Channel.SEND_OPTIONS_USE_ACK);
  Thread.sleep(250);
  System.err.println("Finished SYNC_ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNCM() throws Exception {
  System.err.println("Starting ASYNC MULTI THREAD");
  Thread[] threads=new Thread[threadCount];
  for (int x=0; x < threads.length; x++) {
    threads[x]=new Thread(){
      @Override public void run(){
        try {
          long start=System.currentTimeMillis();
          for (int i=0; i < msgCount; i++)           channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(),Channel.SEND_OPTIONS_ASYNCHRONOUS);
          System.out.println("Thread[" + this.getName() + "] sent "+ msgCount+ " messages in "+ (System.currentTimeMillis() - start)+ " ms.");
        }
 catch (        Exception x) {
          x.printStackTrace();
          return;
        }
      }
    }
;
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].start();
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].join();
  }
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 25000 && msgCount * threadCount != listener1.count)   Thread.sleep(500);
  System.err.println("Finished ASYNC MULTI THREAD [" + listener1.count + "]");
  assertEquals("Checking success messages.",msgCount * threadCount,listener1.count);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendACK() throws Exception {
  System.err.println("Starting ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(),Channel.SEND_OPTIONS_USE_ACK);
  Thread.sleep(250);
  System.err.println("Finished ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.test.channel.TestMulticastPackages </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNCM() throws Exception {
  final AtomicInteger counter=new AtomicInteger(0);
  ReceiverBase rb1=(ReceiverBase)channel1.getChannelReceiver();
  ReceiverBase rb2=(ReceiverBase)channel2.getChannelReceiver();
  rb1.setUdpRxBufSize(1024 * 1024 * 10);
  rb2.setUdpRxBufSize(1024 * 1024 * 10);
  rb1.setUdpTxBufSize(1024 * 1024 * 10);
  rb2.setUdpTxBufSize(1024 * 1024 * 10);
  System.err.println("Starting NO_ACK");
  Thread[] threads=new Thread[threadCount];
  for (int x=0; x < threads.length; x++) {
    threads[x]=new Thread(){
      @Override public void run(){
        try {
          long start=System.currentTimeMillis();
          for (int i=0; i < msgCount; i++) {
            int cnt=counter.getAndAdd(1);
            channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024,cnt),Channel.SEND_OPTIONS_MULTICAST | Channel.SEND_OPTIONS_ASYNCHRONOUS);
          }
          System.out.println("Thread[" + this.getName() + "] sent "+ msgCount+ " messages in "+ (System.currentTimeMillis() - start)+ " ms.");
        }
 catch (        Exception x) {
          x.printStackTrace();
          return;
        }
      }
    }
;
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].start();
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].join();
  }
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 25000 && msgCount * threadCount != listener1.count.get())   Thread.sleep(500);
  System.err.println("Finished NO_ACK [" + listener1.count + "]");
  System.out.println("Sent " + counter.get() + " messages. Received "+ listener1.count+ " Highest msg received:"+ listener1.maxIdx);
  System.out.print("Missing messages:");
  printMissingMsgs(listener1.nrs,counter.get());
  assertEquals("Checking success messages.",msgCount * threadCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendACK() throws Exception {
  System.err.println("Starting ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_USE_ACK | Channel.SEND_OPTIONS_MULTICAST);
  Thread.sleep(250);
  System.err.println("Finished ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNC() throws Exception {
  System.err.println("Starting ASYNC");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_ASYNCHRONOUS | Channel.SEND_OPTIONS_MULTICAST);
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 5000 && msgCount != listener1.count.get())   Thread.sleep(500);
  System.err.println("Finished ASYNC");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendSYNCACK() throws Exception {
  System.err.println("Starting SYNC_ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_SYNCHRONIZED_ACK | Channel.SEND_OPTIONS_USE_ACK | Channel.SEND_OPTIONS_MULTICAST);
  Thread.sleep(250);
  System.err.println("Finished SYNC_ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleDataSendNO_ACK() throws Exception {
  AbstractSender s1=(AbstractSender)((ReplicationTransmitter)channel1.getChannelSender()).getTransport();
  AbstractSender s2=(AbstractSender)((ReplicationTransmitter)channel2.getChannelSender()).getTransport();
  s1.setTimeout(Long.MAX_VALUE);
  s2.setTimeout(Long.MAX_VALUE);
  System.err.println("Starting Single package NO_ACK");
  channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_MULTICAST);
  Thread.sleep(500);
  System.err.println("Finished Single package NO_ACK [" + listener1.count + "]");
  assertEquals("Checking success messages.",1,listener1.count.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.test.channel.TestRemoteProcessException </h4><pre class="type-8 type-10 type-12 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDataSendSYNCACK() throws Exception {
  System.err.println("Starting SYNC_ACK");
  int errC=0, nerrC=0;
  for (int i=0; i < msgCount; i++) {
    boolean error=Data.r.nextBoolean();
    try {
      channel1.send(channel1.getMembers(),Data.createRandomData(error),Channel.SEND_OPTIONS_SYNCHRONIZED_ACK | Channel.SEND_OPTIONS_USE_ACK);
      if (error) {
        fail("A ChannelException was expected");
      }
    }
 catch (    ChannelException e) {
      if (!error) {
        throw e;
      }
    }
    if (error)     errC++;
 else     nerrC++;
  }
  System.err.println("Finished SYNC_ACK");
  final int duplicate=2;
  assertEquals("Checking failure messages.",errC + duplicate,listener1.errCnt);
  assertEquals("Checking success messages.",nerrC,listener1.noErrCnt);
  assertEquals("Checking all messages.",msgCount + duplicate,listener1.noErrCnt + listener1.errCnt);
  System.out.println("Listener 1 stats:");
  listener1.printStats(System.out);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.tribes.test.channel.TestUdpPackages </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNC() throws Exception {
  System.err.println("Starting ASYNC");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_ASYNCHRONOUS | Channel.SEND_OPTIONS_UDP);
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 5000 && msgCount != listener1.count.get())   Thread.sleep(500);
  System.err.println("Finished ASYNC");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendSYNCACK() throws Exception {
  System.err.println("Starting SYNC_ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_SYNCHRONIZED_ACK | Channel.SEND_OPTIONS_USE_ACK | Channel.SEND_OPTIONS_UDP);
  Thread.sleep(250);
  System.err.println("Finished SYNC_ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendACK() throws Exception {
  System.err.println("Starting ACK");
  for (int i=0; i < msgCount; i++)   channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_USE_ACK | Channel.SEND_OPTIONS_UDP);
  Thread.sleep(250);
  System.err.println("Finished ACK");
  assertEquals("Checking success messages.",msgCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendNO_ACK() throws Exception {
  final AtomicInteger counter=new AtomicInteger(0);
  ReceiverBase rb1=(ReceiverBase)channel1.getChannelReceiver();
  ReceiverBase rb2=(ReceiverBase)channel2.getChannelReceiver();
  rb1.setUdpRxBufSize(1024 * 1024 * 10);
  rb2.setUdpRxBufSize(1024 * 1024 * 10);
  rb1.setUdpTxBufSize(1024 * 1024 * 10);
  rb2.setUdpTxBufSize(1024 * 1024 * 10);
  System.err.println("Starting NO_ACK");
  Thread[] threads=new Thread[threadCount];
  for (int x=0; x < threads.length; x++) {
    threads[x]=new Thread(){
      @Override public void run(){
        try {
          long start=System.currentTimeMillis();
          for (int i=0; i < msgCount; i++) {
            int cnt=counter.getAndAdd(1);
            channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024,cnt),Channel.SEND_OPTIONS_UDP);
          }
          System.out.println("Thread[" + this.getName() + "] sent "+ msgCount+ " messages in "+ (System.currentTimeMillis() - start)+ " ms.");
        }
 catch (        Exception x) {
          x.printStackTrace();
          return;
        }
      }
    }
;
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].start();
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].join();
  }
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 25000 && msgCount * threadCount != listener1.count.get())   Thread.sleep(500);
  System.err.println("Finished NO_ACK [" + listener1.count + "]");
  System.out.println("Sent " + counter.get() + " messages. Received "+ listener1.count+ " Highest msg received:"+ listener1.maxIdx);
  System.out.print("Missing messages:");
  printMissingMsgs(listener1.nrs,counter.get());
  assertEquals("Checking success messages.",msgCount * threadCount,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleDataSendNO_ACK() throws Exception {
  AbstractSender s1=(AbstractSender)((ReplicationTransmitter)channel1.getChannelSender()).getTransport();
  AbstractSender s2=(AbstractSender)((ReplicationTransmitter)channel2.getChannelSender()).getTransport();
  s1.setTimeout(Long.MAX_VALUE);
  s2.setTimeout(Long.MAX_VALUE);
  System.err.println("Starting Single package NO_ACK");
  channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024),Channel.SEND_OPTIONS_UDP);
  Thread.sleep(500);
  System.err.println("Finished Single package NO_ACK [" + listener1.count + "]");
  assertEquals("Checking success messages.",1,listener1.count.get());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSendASYNCM() throws Exception {
  final AtomicInteger counter=new AtomicInteger(0);
  ReceiverBase rb1=(ReceiverBase)channel1.getChannelReceiver();
  ReceiverBase rb2=(ReceiverBase)channel2.getChannelReceiver();
  rb1.setUdpRxBufSize(1024 * 1024 * 10);
  rb2.setUdpRxBufSize(1024 * 1024 * 10);
  rb1.setUdpTxBufSize(1024 * 1024 * 10);
  rb2.setUdpTxBufSize(1024 * 1024 * 10);
  System.err.println("Starting NO_ACK");
  Thread[] threads=new Thread[threadCount];
  for (int x=0; x < threads.length; x++) {
    threads[x]=new Thread(){
      @Override public void run(){
        try {
          long start=System.currentTimeMillis();
          for (int i=0; i < msgCount; i++) {
            int cnt=counter.getAndAdd(1);
            channel1.send(new Member[]{channel2.getLocalMember(false)},Data.createRandomData(1024,cnt),Channel.SEND_OPTIONS_UDP | Channel.SEND_OPTIONS_ASYNCHRONOUS);
          }
          System.out.println("Thread[" + this.getName() + "] sent "+ msgCount+ " messages in "+ (System.currentTimeMillis() - start)+ " ms.");
        }
 catch (        Exception x) {
          x.printStackTrace();
          return;
        }
      }
    }
;
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].start();
  }
  for (int x=0; x < threads.length; x++) {
    threads[x].join();
  }
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < 25000 && msgCount * threadCount != listener1.count.get())   Thread.sleep(500);
  System.err.println("Finished NO_ACK [" + listener1.count + "]");
  System.out.println("Sent " + counter.get() + " messages. Received "+ listener1.count+ " Highest msg received:"+ listener1.maxIdx);
  System.out.print("Missing messages:");
  printMissingMsgs(listener1.nrs,counter.get());
  assertEquals("Checking success messages.",msgCount * threadCount,listener1.count.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.util.TestContextName </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetVersion(){
  assertEquals("",cn1.getVersion());
  assertEquals("",cn2.getVersion());
  assertEquals("",cn3.getVersion());
  assertEquals("",cn4.getVersion());
  assertEquals("",cn5.getVersion());
  assertEquals("A",cn6.getVersion());
  assertEquals("B",cn7.getVersion());
  assertEquals("C",cn8.getVersion());
  assertEquals("D",cn9.getVersion());
  assertEquals("E",cn10.getVersion());
  assertEquals("",cn11.getVersion());
  assertEquals("",cn12.getVersion());
  assertEquals("",cn13.getVersion());
  assertEquals("A",cn14.getVersion());
  assertEquals("D",cn15.getVersion());
  assertEquals("E",cn16.getVersion());
  assertEquals("",cn17.getVersion());
  assertEquals("",cn18.getVersion());
  assertEquals("A",cn19.getVersion());
  assertEquals("A",cn20.getVersion());
  assertEquals("",cn21.getVersion());
  assertEquals("",cn22.getVersion());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetDisplayName(){
  assertEquals("/",cn1.getDisplayName());
  assertEquals("/",cn2.getDisplayName());
  assertEquals("/",cn3.getDisplayName());
  assertEquals("/foo",cn4.getDisplayName());
  assertEquals("/foo/bar",cn5.getDisplayName());
  assertEquals("/##A",cn6.getDisplayName());
  assertEquals("/##B",cn7.getDisplayName());
  assertEquals("/##C",cn8.getDisplayName());
  assertEquals("/foo##D",cn9.getDisplayName());
  assertEquals("/foo/bar##E",cn10.getDisplayName());
  assertEquals("/",cn11.getDisplayName());
  assertEquals("/foo",cn12.getDisplayName());
  assertEquals("/foo/bar",cn13.getDisplayName());
  assertEquals("/##A",cn14.getDisplayName());
  assertEquals("/foo##D",cn15.getDisplayName());
  assertEquals("/foo/bar##E",cn16.getDisplayName());
  assertEquals("/",cn17.getDisplayName());
  assertEquals("/ROOT/bar",cn18.getDisplayName());
  assertEquals("/ROOT/bar##A",cn19.getDisplayName());
  assertEquals("/##A",cn20.getDisplayName());
  assertEquals("/foo.war",cn21.getDisplayName());
  assertEquals("/foo",cn22.getDisplayName());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPath(){
  assertEquals("",cn1.getPath());
  assertEquals("",cn2.getPath());
  assertEquals("",cn3.getPath());
  assertEquals("/foo",cn4.getPath());
  assertEquals("/foo/bar",cn5.getPath());
  assertEquals("",cn6.getPath());
  assertEquals("",cn7.getPath());
  assertEquals("",cn8.getPath());
  assertEquals("/foo",cn9.getPath());
  assertEquals("/foo/bar",cn10.getPath());
  assertEquals("",cn11.getPath());
  assertEquals("/foo",cn12.getPath());
  assertEquals("/foo/bar",cn13.getPath());
  assertEquals("",cn14.getPath());
  assertEquals("/foo",cn15.getPath());
  assertEquals("/foo/bar",cn16.getPath());
  assertEquals("",cn17.getPath());
  assertEquals("/ROOT/bar",cn18.getPath());
  assertEquals("/ROOT/bar",cn19.getPath());
  assertEquals("",cn20.getPath());
  assertEquals("/foo.war",cn21.getPath());
  assertEquals("/foo",cn22.getPath());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetName(){
  assertEquals("",cn1.getName());
  assertEquals("",cn2.getName());
  assertEquals("",cn3.getName());
  assertEquals("/foo",cn4.getName());
  assertEquals("/foo/bar",cn5.getName());
  assertEquals("##A",cn6.getName());
  assertEquals("##B",cn7.getName());
  assertEquals("##C",cn8.getName());
  assertEquals("/foo##D",cn9.getName());
  assertEquals("/foo/bar##E",cn10.getName());
  assertEquals("",cn11.getName());
  assertEquals("/foo",cn12.getName());
  assertEquals("/foo/bar",cn13.getName());
  assertEquals("##A",cn14.getName());
  assertEquals("/foo##D",cn15.getName());
  assertEquals("/foo/bar##E",cn16.getName());
  assertEquals("",cn17.getName());
  assertEquals("/ROOT/bar",cn18.getName());
  assertEquals("/ROOT/bar##A",cn19.getName());
  assertEquals("##A",cn20.getName());
  assertEquals("/foo.war",cn21.getName());
  assertEquals("/foo",cn22.getName());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetBaseName(){
  assertEquals("ROOT",cn1.getBaseName());
  assertEquals("ROOT",cn2.getBaseName());
  assertEquals("ROOT",cn3.getBaseName());
  assertEquals("foo",cn4.getBaseName());
  assertEquals("foo#bar",cn5.getBaseName());
  assertEquals("ROOT##A",cn6.getBaseName());
  assertEquals("ROOT##B",cn7.getBaseName());
  assertEquals("ROOT##C",cn8.getBaseName());
  assertEquals("foo##D",cn9.getBaseName());
  assertEquals("foo#bar##E",cn10.getBaseName());
  assertEquals("ROOT",cn11.getBaseName());
  assertEquals("foo",cn12.getBaseName());
  assertEquals("foo#bar",cn13.getBaseName());
  assertEquals("ROOT##A",cn14.getBaseName());
  assertEquals("foo##D",cn15.getBaseName());
  assertEquals("foo#bar##E",cn16.getBaseName());
  assertEquals("ROOT",cn17.getBaseName());
  assertEquals("ROOT#bar",cn18.getBaseName());
  assertEquals("ROOT#bar##A",cn19.getBaseName());
  assertEquals("ROOT##A",cn20.getBaseName());
  assertEquals("foo.war",cn21.getBaseName());
  assertEquals("foo",cn22.getBaseName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.util.TestConversions </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteArrayToLong() throws IOException {
  assertEquals(0L,Conversions.byteArrayToLong(new byte[]{0}));
  assertEquals(1L,Conversions.byteArrayToLong(new byte[]{1}));
  assertEquals(0xFF,Conversions.byteArrayToLong(new byte[]{-1}));
  assertEquals(0xFFFF,Conversions.byteArrayToLong(new byte[]{-1,-1}));
  assertEquals(0xFFFFFF,Conversions.byteArrayToLong(new byte[]{-1,-1,-1}));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.util.TestRequestUtil </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidUtf8Start(){
  String result=RequestUtil.URLDecode("%c3%aaxxxx","UTF-8");
  assertEquals("\u00eaxxxx",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidUtf8End(){
  String result=RequestUtil.URLDecode("xxxx%c3%aa","UTF-8");
  assertEquals("xxxx\u00ea",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidUtf8Middle(){
  String result=RequestUtil.URLDecode("xx%c3%aaxx","UTF-8");
  assertEquals("xx\u00eaxx",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidIso88591Start(){
  String result=RequestUtil.URLDecode("%41xxxx","ISO-8859-1");
  assertEquals("Axxxx",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidIso88591Middle(){
  String result=RequestUtil.URLDecode("xx%41xx","ISO-8859-1");
  assertEquals("xxAxx",result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testURLDecodeStringValidIso88591End(){
  String result=RequestUtil.URLDecode("xxxx%41","ISO-8859-1");
  assertEquals("xxxxA",result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestAccessLogValve </h4><pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54044() throws Exception {
  final int cacheSize=10;
  SimpleDateFormat sdf=new SimpleDateFormat("[dd/MMM/yyyy:HH:mm:ss Z]",Locale.US);
  sdf.setTimeZone(TimeZone.getDefault());
  AccessLogValve.DateFormatCache dfc=new AccessLogValve.DateFormatCache(cacheSize,Locale.US,null);
  String[] expected=new String[cacheSize];
  for (int secs=0; secs < (cacheSize); secs++) {
    dfc.getFormat(secs * 1000);
    expected[secs]=generateExpected(sdf,secs);
  }
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat(cacheSize * 1000);
  expected[0]=generateExpected(sdf,cacheSize);
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat((cacheSize + 2) * 1000);
  expected[1]=null;
  expected[2]=generateExpected(sdf,cacheSize + 2);
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat((cacheSize + 1) * 1000);
  expected[1]=generateExpected(sdf,cacheSize + 1);
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat(1 * 1000);
  expected[1]=generateExpected(sdf,1);
  expected[2]=null;
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat(0);
  expected[0]=generateExpected(sdf,0);
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
  dfc.getFormat(42 * 1000);
  for (int i=0; i < cacheSize; i++) {
    expected[i]=null;
  }
  expected[0]=generateExpected(sdf,42);
  Assert.assertArrayEquals(expected,dfc.cLFCache.cache);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestErrorReportValve </h4><pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Custom error/status codes should not result in a blank response.
 */
@Test public void testBug54536() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54536",new Bug54536Servlet());
  ctx.addServletMapping("/","bug54536");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertEquals(Bug54536Servlet.ERROR_STATUS,rc);
  String body=res.toString();
  Assert.assertNotNull(body);
  Assert.assertTrue(body,body.contains(Bug54536Servlet.ERROR_MESSAGE));
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54220SetNotFound() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54220",new Bug54220Servlet(true));
  ctx.addServletMapping("/","bug54220");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertNull(res.toString());
  Assert.assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-4 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54220DoNotSetNotFound() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"bug54220",new Bug54220Servlet(false));
  ctx.addServletMapping("/","bug54220");
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort(),res,null);
  Assert.assertNull(res.toString());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug56042() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Bug56042Servlet bug56042Servlet=new Bug56042Servlet();
  Wrapper wrapper=Tomcat.addServlet(ctx,"bug56042Servlet",bug56042Servlet);
  wrapper.setAsyncSupported(true);
  ctx.addServletMapping("/bug56042Servlet","bug56042Servlet");
  tomcat.start();
  StringBuilder url=new StringBuilder(48);
  url.append("http://localhost:");
  url.append(getPort());
  url.append("/bug56042Servlet");
  ByteChunk res=new ByteChunk();
  int rc=getUrl(url.toString(),res,null);
  Assert.assertEquals(HttpServletResponse.SC_BAD_REQUEST,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestExtendedAccessLogValve </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doubleQuoteStart(){
  Assert.assertEquals("\"\"\"foobar\"",ExtendedAccessLogValve.wrap("\"foobar"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doubleQuoteMiddle(){
  Assert.assertEquals("\"foo\"\"bar\"",ExtendedAccessLogValve.wrap("foo\"bar"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNull(){
  Assert.assertEquals("-",ExtendedAccessLogValve.wrap(null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doubleQuoteEnd(){
  Assert.assertEquals("\"foobar\"\"\"",ExtendedAccessLogValve.wrap("foobar\""));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void empty(){
  Assert.assertEquals("\"\"",ExtendedAccessLogValve.wrap(""));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void alpha(){
  Assert.assertEquals("\"foo\"",ExtendedAccessLogValve.wrap("foo"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void singleQuoteMiddle(){
  Assert.assertEquals("\"foo'bar\"",ExtendedAccessLogValve.wrap("foo'bar"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void doubleQuote(){
  Assert.assertEquals("\"\"\"\"",ExtendedAccessLogValve.wrap("\""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestRemoteIpValve </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArrayNullList(){
  String actual=RemoteIpValve.listToCommaDelimitedString(null);
  assertEquals("",actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedAndRemoteAddrMatchRegexp() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("127\\.0\\.0\\.1|192\\.168\\..*|another-internal-proxy");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("proxy1");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeUntrustedProxyInTheChain() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, untrusted-proxy, proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertEquals("ip/host before untrusted-proxy must appear in x-forwarded-for","140.211.11.130, proxy1",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("ip/host after untrusted-proxy must appear in  x-forwarded-by","proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","untrusted-proxy",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","untrusted-proxy",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpsForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("https");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says https","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says https",443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto says https",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrustedOrInternal() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2, 192.168.0.10, 192.168.0.11");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoSaysHttpForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-proto").setString("http");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto says http","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto says http",80,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto says http",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRequestAttributesForAccessLog() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  Assert.assertEquals("org.apache.catalina.AccessLog.ServerPort",Integer.valueOf(8080),request.getAttribute(AccessLog.SERVER_PORT_ATTRIBUTE));
  Assert.assertEquals("org.apache.catalina.AccessLog.RemoteAddr","140.211.11.130",request.getAttribute(AccessLog.REMOTE_ADDR_ATTRIBUTE));
  Assert.assertEquals("org.apache.catalina.AccessLog.RemoteHost","140.211.11.130",request.getAttribute(AccessLog.REMOTE_HOST_ATTRIBUTE));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListToCommaDelimitedStringEmptyList(){
  List<String> elements=new ArrayList<String>();
  String actual=RemoteIpValve.listToCommaDelimitedString(elements);
  assertEquals("",actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreInternal() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, 192.168.0.10, 192.168.0.11");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are internal, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("all proxies are internal, x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArrayMixedSpaceChars(){
  String[] actual=RemoteIpValve.commaDelimitedListToStringArray("element1  , element2,\t element3");
  String[] expected=new String[]{"element1","element2","element3"};
  assertArrayEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllProxiesAreTrusted() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("all proxies are trusted, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertEquals("all proxies are trusted, they must appear in x-forwarded-by","proxy1, proxy2",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpsRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(true);
  request.setServerPort(8443);
  request.getCoyoteRequest().scheme().setString("https");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","https",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8443,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertTrue("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertTrue("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8443,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","https",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeNotAllowedRemoteAddr() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10|192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1|proxy2|proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("not-allowed-internal-proxy");
  request.setRemoteHost("not-allowed-internal-proxy-host");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130, proxy1, proxy2");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertEquals("x-forwarded-for must be unchanged","140.211.11.130, proxy1, proxy2",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","not-allowed-internal-proxy",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","not-allowed-internal-proxy-host",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","not-allowed-internal-proxy",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","not-allowed-internal-proxy-host",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCommaDelimitedListToStringArray(){
  String[] actual=RemoteIpValve.commaDelimitedListToStringArray("element1, element2, element3");
  String[] expected=new String[]{"element1","element2","element3"};
  assertArrayEquals(expected,actual);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeAllowedRemoteAddrWithNullRemoteIpHeader() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setInternalProxies("192\\.168\\.0\\.10, 192\\.168\\.0\\.11");
  remoteIpValve.setTrustedProxies("proxy1, proxy2, proxy3");
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProxiesHeader("x-forwarded-by");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("remote-host-original-value");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("x-forwarded-by must be null",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","192.168.0.10",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","remote-host-original-value",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","remote-host-original-value",actualPostInvokeRemoteHost);
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvokeXforwardedProtoIsNullForIncomingHttpRequest() throws Exception {
  RemoteIpValve remoteIpValve=new RemoteIpValve();
  remoteIpValve.setRemoteIpHeader("x-forwarded-for");
  remoteIpValve.setProtocolHeader("x-forwarded-proto");
  RemoteAddrAndHostTrackerValve remoteAddrAndHostTrackerValve=new RemoteAddrAndHostTrackerValve();
  remoteIpValve.setNext(remoteAddrAndHostTrackerValve);
  Request request=new MockRequest();
  request.setCoyoteRequest(new org.apache.coyote.Request());
  request.setRemoteAddr("192.168.0.10");
  request.setRemoteHost("192.168.0.10");
  request.getCoyoteRequest().getMimeHeaders().addValue("x-forwarded-for").setString("140.211.11.130");
  request.setSecure(false);
  request.setServerPort(8080);
  request.getCoyoteRequest().scheme().setString("http");
  remoteIpValve.invoke(request,null);
  String actualXForwardedFor=request.getHeader("x-forwarded-for");
  assertNull("no intermediate non-trusted proxy, x-forwarded-for must be null",actualXForwardedFor);
  String actualXForwardedBy=request.getHeader("x-forwarded-by");
  assertNull("no intermediate trusted proxy",actualXForwardedBy);
  String actualRemoteAddr=remoteAddrAndHostTrackerValve.getRemoteAddr();
  assertEquals("remoteAddr","140.211.11.130",actualRemoteAddr);
  String actualRemoteHost=remoteAddrAndHostTrackerValve.getRemoteHost();
  assertEquals("remoteHost","140.211.11.130",actualRemoteHost);
  String actualPostInvokeRemoteAddr=request.getRemoteAddr();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteAddr);
  String actualPostInvokeRemoteHost=request.getRemoteHost();
  assertEquals("postInvoke remoteAddr","192.168.0.10",actualPostInvokeRemoteHost);
  String actualScheme=remoteAddrAndHostTrackerValve.getScheme();
  assertEquals("x-forwarded-proto is null","http",actualScheme);
  int actualServerPort=remoteAddrAndHostTrackerValve.getServerPort();
  assertEquals("x-forwarded-proto is null",8080,actualServerPort);
  boolean actualSecure=remoteAddrAndHostTrackerValve.isSecure();
  assertFalse("x-forwarded-proto is null",actualSecure);
  boolean actualPostInvokeSecure=request.isSecure();
  assertFalse("postInvoke secure",actualPostInvokeSecure);
  int actualPostInvokeServerPort=request.getServerPort();
  assertEquals("postInvoke serverPort",8080,actualPostInvokeServerPort);
  String actualPostInvokeScheme=request.getScheme();
  assertEquals("postInvoke scheme","http",actualPostInvokeScheme);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListToCommaDelimitedString(){
  List<String> elements=Arrays.asList("element1","element2","element3");
  String actual=RemoteIpValve.listToCommaDelimitedString(elements);
  assertEquals("element1, element2, element3",actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.valves.TestStuckThreadDetectionValve </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInterruption() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(TimeUnit.SECONDS.toMillis(20L));
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  valve.setInterruptThreadThreshold(5);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(4000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertTrue(stuckingServlet.wasInterrupted);
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDetection() throws Exception {
  StuckingServlet stuckingServlet=new StuckingServlet(8000L);
  Wrapper servlet=Tomcat.addServlet(context,"myservlet",stuckingServlet);
  servlet.addMapping("/myservlet");
  StuckThreadDetectionValve valve=new StuckThreadDetectionValve();
  valve.setThreshold(2);
  context.addValve(valve);
  context.setBackgroundProcessorDelay(1);
  tomcat.start();
  Assert.assertEquals(0,valve.getStuckThreadIds().length);
  final ByteChunk result=new ByteChunk();
  Thread asyncThread=new Thread(){
    @Override public void run(){
      try {
        getUrl("http://localhost:" + getPort() + "/myservlet",result,null);
      }
 catch (      IOException e) {
        e.printStackTrace();
      }
    }
  }
;
  asyncThread.start();
  try {
    Thread.sleep(500L);
    Assert.assertEquals(0,valve.getStuckThreadIds().length);
    Thread.sleep(5000L);
    Assert.assertEquals(1,valve.getStuckThreadIds().length);
  }
  finally {
    asyncThread.join(20000);
    Assert.assertFalse(asyncThread.isAlive());
  }
  Assert.assertFalse(stuckingServlet.wasInterrupted);
  Assert.assertTrue(result.toString().startsWith("OK"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.catalina.websocket.TestWebSocket </h4><pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53339() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug53339",new Bug53339Servlet());
  ctx.addServletMapping("/*","Bug53339");
  ContextEnvironment env=new ContextEnvironment();
  env.setName(Bug53339WsInbound.JNDI_NAME);
  env.setType(String.class.getName());
  env.setValue(Bug53339WsInbound.TEST_MESSAGE);
  ctx.getNamingResources().addEnvironment(env);
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET / HTTP/1.1" + CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  String msg=client.readMessage();
  assertEquals(Bug53339WsInbound.TEST_MESSAGE,msg);
  client.close();
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testKey() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String accept=null;
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    if (responseHeaderLine.startsWith("Sec-WebSocket-Accept: ")) {
      accept=responseHeaderLine.substring(responseHeaderLine.indexOf(':') + 2);
      break;
    }
    responseHeaderLine=client.reader.readLine();
  }
  assertTrue(accept != null);
  MessageDigest sha1Helper=MessageDigest.getInstance("SHA1");
  sha1Helper.reset();
  sha1Helper.update("TODO".getBytes(B2CConverter.ISO_8859_1));
  String source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertEquals(source,accept);
  sha1Helper.reset();
  sha1Helper.update("TOD".getBytes(B2CConverter.ISO_8859_1));
  source=Base64.encode(sha1Helper.digest(WS_ACCEPT));
  assertFalse(source.equals(accept));
  client.close();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(new ApplicationListener(TesterEchoServer.Config.class.getName(),false));
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketClient client=new WebSocketClient(getPort());
  client.writer.write("GET " + TesterEchoServer.Config.PATH_BASIC + " HTTP/1.1"+ CRLF);
  client.writer.write("Host: foo" + CRLF);
  client.writer.write("Upgrade: websocket" + CRLF);
  client.writer.write("Connection: keep-alive, upgrade" + CRLF);
  client.writer.write("Sec-WebSocket-Version: 13" + CRLF);
  client.writer.write("Sec-WebSocket-Key: TODO" + CRLF);
  client.writer.write(CRLF);
  client.writer.flush();
  String responseLine=client.reader.readLine();
  assertTrue(responseLine.startsWith("HTTP/1.1 101"));
  String responseHeaderLine=client.reader.readLine();
  while (!responseHeaderLine.equals("")) {
    responseHeaderLine=client.reader.readLine();
  }
  client.sendMessage("foo",false);
  client.sendMessage("foo",true);
  assertEquals("foofoo",client.readMessage());
  client.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestAbstractHttp11Processor </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoChunking11NoContentLengthConnectionClose() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthConnectionCloseFlushingServlet",new NoContentLengthConnectionCloseFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthConnectionCloseFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Connection"));
  List<String> connections=responseHeaders.get("Connection");
  assertEquals(1,connections.size());
  assertEquals("close",connections.get(0));
  assertFalse(responseHeaders.containsKey("Transfer-Encoding"));
  assertEquals("OK",responseBody.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChunking11NoContentLength() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"NoContentLengthFlushingServlet",new NoContentLengthFlushingServlet());
  ctxt.addServletMapping("/test","NoContentLengthFlushingServlet");
  tomcat.start();
  ByteChunk responseBody=new ByteChunk();
  Map<String,List<String>> responseHeaders=new HashMap<String,List<String>>();
  int rc=getUrl("http://localhost:" + getPort() + "/test",responseBody,responseHeaders);
  assertEquals(HttpServletResponse.SC_OK,rc);
  assertTrue(responseHeaders.containsKey("Transfer-Encoding"));
  List<String> encodings=responseHeaders.get("Transfer-Encoding");
  assertEquals(1,encodings.size());
  assertEquals("chunked",encodings.get(0));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipelining() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctxt=tomcat.addContext("",null);
  Tomcat.addServlet(ctxt,"TesterServlet",new TesterServlet());
  ctxt.addServletMapping("/foo","TesterServlet");
  tomcat.start();
  String requestPart1="GET /foo HTTP/1.1" + SimpleHttpClient.CRLF;
  String requestPart2="Host: any" + SimpleHttpClient.CRLF + SimpleHttpClient.CRLF;
  final Client client=new Client(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{requestPart1,requestPart2});
  client.setRequestPause(1000);
  client.setUseContentLength(true);
  client.connect();
  Runnable send=new Runnable(){
    @Override public void run(){
      try {
        client.sendRequest();
        client.sendRequest();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException(e);
      }
catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
;
  Thread t=new Thread(send);
  t.start();
  Thread.sleep(1500);
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
  client.readResponse(true);
  assertFalse(client.isResponse50x());
  assertTrue(client.isResponse200());
  assertEquals("OK",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.TestInternalInputBuffer </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryStart(){
  Bug51557Client client=new Bug51557Client("=X-Bug51557","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557NoColon(){
  Bug51557Client client=new Bug51557Client("X-Bug51557NoColon");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557Continuation(){
  Bug51557Client client=new Bug51557Client("X-Bug=51557NoColon","foo" + SimpleHttpClient.CRLF + " bar");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug51557BoundaryEnd(){
  Bug51557Client client=new Bug51557Client("X-Bug51557=","invalid");
  client.doRequest();
  assertTrue(client.isResponse200());
  assertEquals("abcd",client.getResponseBody());
  assertTrue(client.isResponseBodyOK());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.filters.TestChunkedInputFilter </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoTrailingHeaders() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"servlet",new EchoHeaderServlet(true));
  ctx.addServletMapping("/","servlet");
  tomcat.start();
  String request="POST /echo-params.jsp HTTP/1.1" + SimpleHttpClient.CRLF + "Host: any"+ SimpleHttpClient.CRLF+ "Transfer-encoding: chunked"+ SimpleHttpClient.CRLF+ "Content-Type: application/x-www-form-urlencoded"+ SimpleHttpClient.CRLF+ "Connection: close"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF+ "3"+ SimpleHttpClient.CRLF+ "a=0"+ SimpleHttpClient.CRLF+ "4"+ SimpleHttpClient.CRLF+ "&b=1"+ SimpleHttpClient.CRLF+ "0"+ SimpleHttpClient.CRLF+ SimpleHttpClient.CRLF;
  TrailerClient client=new TrailerClient(tomcat.getConnector().getLocalPort());
  client.setRequest(new String[]{request});
  client.connect();
  client.processRequest();
  assertEquals("nullnull7nullnull",client.getResponseBody());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.coyote.http11.filters.TestFlushableGZIPOutputStream </h4><pre class="type-8 type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test for {@code write(int)}.
 */
@Test public void testWriteChar() throws Exception {
  String phrase="Apache Tomcat " + "\u0410\u043f\u0430\u0447\u0435 \u0422\u043e\u043c\u043a\u0430\u0442 ";
  byte[] data=phrase.getBytes("UTF-8");
  ByteArrayOutputStream byteOutStream=new ByteArrayOutputStream();
  OutputStream output=new FlushableGZIPOutputStream(byteOutStream);
  output.write(data);
  for (int i=0; i < data.length; i++) {
    output.write(data[i]);
  }
  output.flush();
  for (int i=0; i < data.length; i++) {
    output.write(data[i]);
  }
  output.write(data);
  output.close();
  ByteArrayInputStream byteInStream=new ByteArrayInputStream(byteOutStream.toByteArray());
  GZIPInputStream inflaterStream=new GZIPInputStream(byteInStream);
  ByteArrayOutputStream sink=new ByteArrayOutputStream();
  try {
    IOTools.flow(inflaterStream,sink);
  }
  finally {
    sink.close();
  }
  byte[] decompressedBytes=sink.toByteArray();
  assertEquals(data.length * 4,decompressedBytes.length);
  for (int i=0; i < 4; i++) {
    assertArrayEquals(data,Arrays.copyOfRange(decompressedBytes,data.length * i,data.length * (i + 1)));
  }
}

</code></pre>

<br>
<pre class="type-4 type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testBug52121() throws Exception {
  ByteArrayOutputStream byteOutStream=new ByteArrayOutputStream();
  OutputStream output=new FlushableGZIPOutputStream(byteOutStream);
  File sourcesDir=new File("test/org/apache/coyote/http11/filters/");
  List<byte[]> parts=new ArrayList<byte[]>();
  byte[] part;
  part=loadFile(new File(sourcesDir,"bug52121-part1"));
  parts.add(part);
  flowBytes(part,output);
  output.flush();
  part=loadFile(new File(sourcesDir,"bug52121-part2"));
  parts.add(part);
  flowBytes(part,output);
  output.flush();
  part="data2".getBytes("ASCII");
  parts.add(part);
  output.write(part);
  output.flush();
  output.close();
  ByteArrayInputStream byteInStream=new ByteArrayInputStream(byteOutStream.toByteArray());
  GZIPInputStream inflaterStream=new GZIPInputStream(byteInStream);
  ByteArrayOutputStream sink=new ByteArrayOutputStream();
  try {
    IOTools.flow(inflaterStream,sink);
  }
  finally {
    sink.close();
  }
  byte[] decompressedBytes=sink.toByteArray();
  int originalLength=0;
  for (  byte[] bytes : parts) {
    assertArrayEquals(bytes,Arrays.copyOfRange(decompressedBytes,originalLength,originalLength + bytes.length));
    originalLength+=bytes.length;
  }
  assertEquals(originalLength,decompressedBytes.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestELEvaluation </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParserBug45511(){
  assertEquals("true",evaluateExpression("${empty ('')}"));
  assertEquals("true",evaluateExpression("${empty('')}"));
  assertEquals("false",evaluateExpression("${(true) and (false)}"));
  assertEquals("false",evaluateExpression("${(true)and(false)}"));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParserStringLiteral(){
  assertEquals("\\",evaluateExpression("${'\\\\'}"));
  assertEquals("\\",evaluateExpression("${\"\\\\\"}"));
  assertEquals("\\\"'$#",evaluateExpression("${'\\\\\\\"\\'$#'}"));
  assertEquals("\\\"'$#",evaluateExpression("${\"\\\\\\\"\\'$#\"}"));
  Exception e=null;
  try {
    evaluateExpression("${'\\$'}");
  }
 catch (  ELException el) {
    e=el;
  }
  assertNotNull(e);
  assertEquals("\\$",evaluateExpression("${'\\\\$'}"));
  assertEquals("\\\\$",evaluateExpression("${'\\\\\\\\$'}"));
  assertEquals("\\\"",evaluateExpression("${'\\\\\"'}"));
  assertEquals("\"\\",evaluateExpression("${'\"\\\\'}"));
  assertEquals("\\'",evaluateExpression("${'\\\\\\''}"));
  assertEquals("'\\",evaluateExpression("${'\\'\\\\'}"));
  assertEquals("\\'",evaluateExpression("${\"\\\\'\"}"));
  assertEquals("'\\",evaluateExpression("${\"'\\\\\"}"));
  assertEquals("\\\"",evaluateExpression("${\"\\\\\\\"\"}"));
  assertEquals("\"\\",evaluateExpression("${\"\\\"\\\\\"}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test use of spaces in ternary expressions. This was primarily an EL
 * parser bug.
 */
@Test public void testBug42565(){
  assertEquals("false",evaluateExpression("${false?true:false}"));
  assertEquals("false",evaluateExpression("${false?true: false}"));
  assertEquals("false",evaluateExpression("${false?true :false}"));
  assertEquals("false",evaluateExpression("${false?true : false}"));
  assertEquals("false",evaluateExpression("${false? true:false}"));
  assertEquals("false",evaluateExpression("${false? true: false}"));
  assertEquals("false",evaluateExpression("${false? true :false}"));
  assertEquals("false",evaluateExpression("${false? true : false}"));
  assertEquals("false",evaluateExpression("${false ?true:false}"));
  assertEquals("false",evaluateExpression("${false ?true: false}"));
  assertEquals("false",evaluateExpression("${false ?true :false}"));
  assertEquals("false",evaluateExpression("${false ?true : false}"));
  assertEquals("false",evaluateExpression("${false ? true:false}"));
  assertEquals("false",evaluateExpression("${false ? true: false}"));
  assertEquals("false",evaluateExpression("${false ? true :false}"));
  assertEquals("false",evaluateExpression("${false ? true : false}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49081a(){
  Assert.assertEquals("$2",evaluateExpression("$${1+1}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug48112(){
  assertEquals("{world}",evaluateExpression("${fn:trim('{world}')}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEscape01(){
  Assert.assertEquals("$${",evaluateExpression("$\\${"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipleEscaping() throws Exception {
  assertEquals("''",evaluateExpression("${\"\'\'\"}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test use nested ternary expressions. This was primarily an EL parser bug.
 */
@Test public void testBug44994(){
  assertEquals("none",evaluateExpression("${0 lt 0 ? 1 lt 0 ? 'many': 'one': 'none'}"));
  assertEquals("one",evaluateExpression("${0 lt 1 ? 1 lt 1 ? 'many': 'one': 'none'}"));
  assertEquals("many",evaluateExpression("${0 lt 2 ? 1 lt 2 ? 'many': 'one': 'none'}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49081b(){
  Assert.assertEquals("#2",evaluateExpression("##{1+1}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParserLiteralExpression(){
  assertEquals("\\\\",evaluateExpression("\\\\"));
  assertEquals("\\",evaluateExpression("\\"));
  assertEquals("$",evaluateExpression("$"));
  assertEquals("#",evaluateExpression("#"));
  assertEquals("\\$",evaluateExpression("\\$"));
  assertEquals("\\#",evaluateExpression("\\#"));
  assertEquals("\\\\$",evaluateExpression("\\\\$"));
  assertEquals("\\\\#",evaluateExpression("\\\\#"));
  assertEquals("${",evaluateExpression("\\${"));
  assertEquals("#{",evaluateExpression("\\#{"));
  assertEquals("\\${",evaluateExpression("\\\\${"));
  assertEquals("\\#{",evaluateExpression("\\\\#{"));
  assertEquals("\\$",evaluateExpression("\\$"));
  assertEquals("${",evaluateExpression("\\${"));
  assertEquals("\\$a",evaluateExpression("\\$a"));
  assertEquals("\\a",evaluateExpression("\\a"));
  assertEquals("\\\\",evaluateExpression("\\\\"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49081c(){
  Assert.assertEquals("#2",evaluateExpression("#${1+1}"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49081d(){
  Assert.assertEquals("$2",evaluateExpression("$#{1+1}"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestMethodExpressionImpl </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABNoReturnTypeParamTypes(){
  MethodExpression me4=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanB)}",null,new Class<?>[]{TesterBeanA.class,TesterBeanB.class});
  Object r4=me4.invoke(context,null);
  assertEquals("AB: Hello A from B",r4.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53792c(){
  MethodExpression me=factory.createMethodExpression(context,"#{beanB.sayHello().length()}",null,new Class<?>[]{});
  Integer result=(Integer)me.invoke(context,null);
  assertEquals(beanB.sayHello().length(),result.intValue());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsAABB() throws Exception {
  MethodExpression me5=factory.createMethodExpression(context,"${beanC.sayHello(beanAA,beanBB,beanBB)}",null,null);
  Object r5=me5.invoke(context,null);
  assertEquals("ABB[]: Hello AA from BB, BB",r5.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50790a() throws Exception {
  ValueExpression ve=factory.createValueExpression(context,"#{beanAA.name.contains(beanA.name)}",java.lang.Boolean.class);
  Boolean actual=(Boolean)ve.getValue(context);
  assertEquals(Boolean.TRUE,actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53792b(){
  MethodExpression me=factory.createMethodExpression(context,"${beanA.setBean(beanB)}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  me=factory.createMethodExpression(context,"${beanB.setName('" + BUG53792 + "')}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"#{beanA.getBean().name.length()}",java.lang.Integer.class);
  Integer actual=(Integer)ve.getValue(context);
  assertEquals(Integer.valueOf(BUG53792.length()),actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug56797a(){
  MethodExpression me=factory.createMethodExpression(context,"${beanAA.echo1('Hello World!')}",null,null);
  Object r=me.invoke(context,null);
  assertEquals("AA1Hello World!",r.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50449b() throws Exception {
  MethodExpression me1=factory.createMethodExpression(context,"${beanB.sayHello('Tomcat')}",null,null);
  String actual=(String)me1.invoke(context,null);
  assertEquals("Hello Tomcat from B",actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABB(){
  MethodExpression me6=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanBB)}",null,null);
  Object r6=me6.invoke(context,null);
  assertEquals("ABB: Hello A from BB",r6.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperAABBB(){
  MethodExpression me10=factory.createMethodExpression(context,"${beanC.sayHello(beanAA,beanBBB)}",null,null);
  Object r10=me10.invoke(context,null);
  assertEquals("AAB: Hello AA from BBB",r10.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49655() throws Exception {
  MethodExpression me=factory.createMethodExpression(context,"#{beanA.setName('New value')}",null,null);
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"#{beanA.name}",java.lang.String.class);
  assertEquals("New value",ve.getValue(context));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsAAABBB() throws Exception {
  MethodExpression me9=factory.createMethodExpression(context,"${beanC.sayHello(beanAAA,beanBBB,beanBBB)}",null,null);
  Object r9=me9.invoke(context,null);
  assertEquals("ABB[]: Hello AAA from BBB, BBB",r9.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53792a(){
  MethodExpression me=factory.createMethodExpression(context,"${beanA.setBean(beanB)}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  me=factory.createMethodExpression(context,"${beanB.setName('" + BUG53792 + "')}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"#{beanA.getBean().name}",java.lang.String.class);
  String actual=(String)ve.getValue(context);
  assertEquals(BUG53792,actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsABBB() throws Exception {
  MethodExpression me3=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanBBB,beanBBB)}",null,null);
  Object r3=me3.invoke(context,null);
  assertEquals("ABB[]: Hello A from BBB, BBB",r3.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsAABBB() throws Exception {
  MethodExpression me6=factory.createMethodExpression(context,"${beanC.sayHello(beanAA,beanBBB,beanBBB)}",null,null);
  Object r6=me6.invoke(context,null);
  assertEquals("ABB[]: Hello AA from BBB, BBB",r6.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuper(){
  MethodExpression me=factory.createMethodExpression(context,"${beanA.setBean(beanBB)}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"${beanA.bean.name}",String.class);
  Object r=ve.getValue(context);
  assertEquals("BB",r);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBugPrimitives() throws Exception {
  MethodExpression me=factory.createMethodExpression(context,"${beanA.setValLong(5)}",null,null);
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"#{beanA.valLong}",java.lang.String.class);
  assertEquals("5",ve.getValue(context));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABBB(){
  MethodExpression me7=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanBBB)}",null,null);
  Object r7=me7.invoke(context,null);
  assertEquals("ABB: Hello A from BBB",r7.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug52970(){
  MethodExpression me=factory.createMethodExpression(context,"${beanEnum.submit('APPLE')}",null,new Class<?>[]{TesterBeanEnum.class});
  me.invoke(context,null);
  ValueExpression ve=factory.createValueExpression(context,"#{beanEnum.lastSubmitted}",TesterEnum.class);
  TesterEnum actual=(TesterEnum)ve.getValue(context);
  assertEquals(TesterEnum.APPLE,actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug52445a(){
  MethodExpression me=factory.createMethodExpression(context,"${beanA.setBean(beanBB)}",null,new Class<?>[]{TesterBeanB.class});
  me.invoke(context,null);
  MethodExpression me1=factory.createMethodExpression(context,"${beanA.bean.sayHello()}",null,null);
  String actual=(String)me1.invoke(context,null);
  assertEquals("Hello from BB",actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug57855d(){
  MethodExpression me=factory.createMethodExpression(context,"${beanB.echo}",null,new Class[]{String.class});
  Object r=me.invoke(context,new String[]{"aaa"});
  assertEquals("aaa",r.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperAAABB(){
  MethodExpression me12=factory.createMethodExpression(context,"${beanC.sayHello(beanAAA,beanBB)}",null,null);
  Object r12=me12.invoke(context,null);
  assertEquals("ABB: Hello AAA from BB",r12.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperAAAB(){
  MethodExpression me11=factory.createMethodExpression(context,"${beanC.sayHello(beanAAA,beanB)}",null,null);
  Object r11=me11.invoke(context,null);
  assertEquals("AAB: Hello AAA from B",r11.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsAAABB() throws Exception {
  MethodExpression me8=factory.createMethodExpression(context,"${beanC.sayHello(beanAAA,beanBB,beanBB)}",null,null);
  Object r8=me8.invoke(context,null);
  assertEquals("ABB[]: Hello AAA from BB, BB",r8.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABNoReturnTypeNoParamTypes(){
  MethodExpression me2=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanB)}",null,null);
  Object r2=me2.invoke(context,null);
  assertEquals("AB: Hello A from B",r2.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53792d(){
  MethodExpression me=factory.createMethodExpression(context,"#{beanB.sayHello().length()}",null,new Class<?>[]{});
  Integer result=(Integer)me.invoke(context,new Object[]{"foo"});
  assertEquals(beanB.sayHello().length(),result.intValue());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50790b() throws Exception {
  ValueExpression ve=factory.createValueExpression(context,"#{beanA.name.contains(beanAA.name)}",java.lang.Boolean.class);
  Boolean actual=(Boolean)ve.getValue(context);
  assertEquals(Boolean.FALSE,actual);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvoke(){
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("B");
  context.getVariableMapper().setVariable("beanB",factory.createValueExpression(beanB,TesterBeanB.class));
  MethodExpression me1=factory.createMethodExpression(context,"${beanB.getName}",String.class,new Class<?>[]{});
  MethodExpression me2=factory.createMethodExpression(context,"${beanB.sayHello('JUnit')}",String.class,new Class<?>[]{String.class});
  MethodExpression me3=factory.createMethodExpression(context,"${beanB.sayHello}",String.class,new Class<?>[]{String.class});
  assertEquals("B",me1.invoke(context,null));
  assertEquals("Hello JUnit from B",me2.invoke(context,null));
  assertEquals("Hello JUnit from B",me2.invoke(context,new Object[]{"JUnit2"}));
  assertEquals("Hello JUnit2 from B",me3.invoke(context,new Object[]{"JUnit2"}));
  assertEquals("Hello JUnit from B",me2.invoke(context,new Object[]{null}));
  assertEquals("Hello  from B",me3.invoke(context,new Object[]{null}));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABReturnTypeParamTypes(){
  MethodExpression me5=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanB)}",String.class,new Class<?>[]{TesterBeanA.class,TesterBeanB.class});
  Object r5=me5.invoke(context,null);
  assertEquals("AB: Hello A from B",r5.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithVarArgsABB() throws Exception {
  MethodExpression me2=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanBB,beanBB)}",null,null);
  Object r2=me2.invoke(context,null);
  assertEquals("ABB[]: Hello A from BB, BB",r2.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperABReturnTypeNoParamTypes(){
  MethodExpression me3=factory.createMethodExpression(context,"${beanC.sayHello(beanA,beanB)}",String.class,null);
  Object r3=me3.invoke(context,null);
  assertEquals("AB: Hello A from B",r3.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInvokeWithSuperAAB(){
  MethodExpression me8=factory.createMethodExpression(context,"${beanC.sayHello(beanAA,beanB)}",null,null);
  Object r8=me8.invoke(context,null);
  assertEquals("AAB: Hello AA from B",r8.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug57855e(){
  MethodExpression me=factory.createMethodExpression(context,"${beanB.echo}",null,new Class[]{String.class});
  Object r=me.invoke(context,new String[]{"aaa","bbb"});
  assertEquals("aaa, bbb",r.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug56797b(){
  MethodExpression me=factory.createMethodExpression(context,"${beanAA.echo2('Hello World!')}",null,null);
  Object r=me.invoke(context,null);
  assertEquals("AA2Hello World!",r.toString());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50449a() throws Exception {
  MethodExpression me1=factory.createMethodExpression(context,"${beanB.sayHello()}",null,null);
  String actual=(String)me1.invoke(context,null);
  assertEquals("Hello from B",actual);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.TestValueExpressionImpl </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test returning an empty list as a bean property.
 */
@Test public void testBug51544Bean() throws Exception {
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanA beanA=new TesterBeanA();
  beanA.setValList(Collections.emptyList());
  ValueExpression var=factory.createValueExpression(beanA,TesterBeanA.class);
  context.getVariableMapper().setVariable("beanA",var);
  ValueExpression ve=factory.createValueExpression(context,"${beanA.valList.size()}",Integer.class);
  Integer result=(Integer)ve.getValue(context);
  assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test using list directly as variable.
 */
@Test public void testBug51544Direct() throws Exception {
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  List<?> list=Collections.emptyList();
  ValueExpression var=factory.createValueExpression(list,List.class);
  context.getVariableMapper().setVariable("list",var);
  ValueExpression ve=factory.createValueExpression(context,"${list.size()}",Integer.class);
  Integer result=(Integer)ve.getValue(context);
  assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug49345(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanA beanA=new TesterBeanA();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  beanA.setBean(beanB);
  ValueExpression var=factory.createValueExpression(beanA,TesterBeanA.class);
  context.getVariableMapper().setVariable("beanA",var);
  ValueExpression ve=factory.createValueExpression(context,"${beanA.bean.name}",String.class);
  String result=(String)ve.getValue(context);
  assertEquals("Tomcat",result);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValueReference(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  ValueExpression var=factory.createValueExpression(beanB,TesterBeanB.class);
  context.getVariableMapper().setVariable("beanB",var);
  ValueExpression ve=factory.createValueExpression(context,"${beanB.name}",String.class);
  String result=(String)ve.getValue(context);
  assertEquals("Tomcat",result);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug50105(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterEnum testEnum=TesterEnum.APPLE;
  ValueExpression var=factory.createValueExpression(testEnum,TesterEnum.class);
  context.getVariableMapper().setVariable("testEnum",var);
  ValueExpression ve1=factory.createValueExpression(context,"${testEnum}",String.class);
  String result1=(String)ve1.getValue(context);
  assertEquals("APPLE",result1);
  ValueExpression ve2=factory.createValueExpression(context,"foo${testEnum}bar",String.class);
  String result2=(String)ve2.getValue(context);
  assertEquals("fooAPPLEbar",result2);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValueReferenceVariable(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanB beanB=new TesterBeanB();
  beanB.setName("Tomcat");
  ValueExpression var=factory.createValueExpression(beanB,TesterBeanB.class);
  context.getVariableMapper().setVariable("beanB",var);
  ValueExpression var2=factory.createValueExpression(context,"${beanB.name}",String.class);
  context.getVariableMapper().setVariable("foo",var2);
  ValueExpression ve=factory.createValueExpression(context,"${foo}",ValueExpression.class);
  ValueReference vr=ve.getValueReference(context);
  assertNotNull(vr);
  assertEquals(beanB,vr.getBase());
  assertEquals("name",vr.getProperty());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug51177ObjectMap(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  Object o1="String value";
  Object o2=Integer.valueOf(32);
  Map<Object,Object> map=new HashMap<Object,Object>();
  map.put("key1",o1);
  map.put("key2",o2);
  ValueExpression var=factory.createValueExpression(map,Map.class);
  context.getVariableMapper().setVariable("map",var);
  ValueExpression ve1=factory.createValueExpression(context,"${map.key1}",Object.class);
  ve1.setValue(context,o2);
  assertEquals(o2,ve1.getValue(context));
  ValueExpression ve2=factory.createValueExpression(context,"${map.key2}",Object.class);
  ve2.setValue(context,o1);
  assertEquals(o1,ve2.getValue(context));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug51177ObjectList(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  Object o1="String value";
  Object o2=Integer.valueOf(32);
  List list=new ArrayList();
  list.add(0,o1);
  list.add(1,o2);
  ValueExpression var=factory.createValueExpression(list,List.class);
  context.getVariableMapper().setVariable("list",var);
  ValueExpression ve1=factory.createValueExpression(context,"${list[0]}",Object.class);
  ve1.setValue(context,o2);
  assertEquals(o2,ve1.getValue(context));
  ValueExpression ve2=factory.createValueExpression(context,"${list[1]}",Object.class);
  ve2.setValue(context,o1);
  assertEquals(o1,ve2.getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.lang.TestELArithmetic </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371doubleString() throws Exception {
  assertEquals(Double.valueOf(2),ELArithmetic.add("","2."));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAdd() throws Exception {
  assertEquals("1000000000000000000001.1",String.valueOf(ELArithmetic.add(a,b)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDivide() throws Exception {
  assertEquals("0.0",String.valueOf(ELArithmetic.divide(a,b)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371double() throws Exception {
  assertEquals(Double.valueOf(7),ELArithmetic.add("",Double.valueOf(7)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371long() throws Exception {
  assertEquals(Long.valueOf(1),ELArithmetic.add("",Integer.valueOf(1)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371doubleString2() throws Exception {
  assertEquals(Double.valueOf(2),ELArithmetic.add("1.","1"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultiply() throws Exception {
  assertEquals("1100000000000000000000.0",String.valueOf(ELArithmetic.multiply(a,b)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371bigInteger() throws Exception {
  assertEquals(BigInteger.valueOf(0),ELArithmetic.multiply("",BigInteger.valueOf(1)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371long2() throws Exception {
  assertEquals(Long.valueOf(-3),ELArithmetic.subtract("1","4"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47371bigDecimal() throws Exception {
  assertEquals(BigDecimal.valueOf(1),ELArithmetic.add("",BigDecimal.valueOf(1)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubtract() throws Exception {
  assertEquals("-999999999999999999998.9",String.valueOf(ELArithmetic.subtract(a,b)));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMod() throws Exception {
  assertEquals("1.1",String.valueOf(ELArithmetic.mod(a,b)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.lang.TestELSupport </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType07(){
  Object result=ELSupport.coerceToType(null,char.class);
  Assert.assertEquals(Character.valueOf((char)0),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType03(){
  Object result=ELSupport.coerceToType(null,boolean.class);
  Assert.assertEquals(Boolean.valueOf(null),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType11(){
  Object result=ELSupport.coerceToType(null,boolean.class);
  Assert.assertEquals(Boolean.FALSE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceNullToNumber(){
  Object output=ELSupport.coerceToType(null,Number.class);
  assertEquals(Long.valueOf(0),output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType08(){
  Object result=ELSupport.coerceToType("",char.class);
  Assert.assertEquals(Character.valueOf((char)0),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceEnumAToEnumA(){
  Object output=null;
  try {
    output=ELSupport.coerceToEnum(TestEnumA.VALA1,TestEnumA.class);
  }
  finally {
    assertEquals(TestEnumA.VALA1,output);
  }
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType04(){
  Object result=ELSupport.coerceToType(null,String.class);
  Assert.assertEquals("",result);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceIntegerToNumber(){
  Integer input=Integer.valueOf(4390241);
  Object output=ELSupport.coerceToType(input,Number.class);
  assertEquals(input,output);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType12(){
  Object result=ELSupport.coerceToType("",boolean.class);
  Assert.assertEquals(Boolean.FALSE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType05(){
  Object result=ELSupport.coerceToType(null,Character.class);
  Assert.assertEquals(Character.valueOf((char)0),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType01(){
  Object result=ELSupport.coerceToType(null,Integer.class);
  Assert.assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCoerceToType14(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorNoError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType09(){
  Object result=ELSupport.coerceToType(null,Boolean.class);
  Assert.assertEquals(Boolean.FALSE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToNumber02(){
  Object result=ELSupport.coerceToNumber((Object)null,int.class);
  Assert.assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType06(){
  Object result=ELSupport.coerceToType("",Character.class);
  Assert.assertEquals(Character.valueOf((char)0),result);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ELException.class) public void testCoerceToType15(){
  PropertyEditorManager.registerEditor(TesterType.class,TesterTypeEditorError.class);
  Object result=ELSupport.coerceToType("Foo",TesterType.class);
  Assert.assertTrue(result instanceof TesterType);
  Assert.assertEquals("Foo",((TesterType)result).getValue());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType02(){
  Object result=ELSupport.coerceToType(null,int.class);
  Assert.assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToType10(){
  Object result=ELSupport.coerceToType("",Boolean.class);
  Assert.assertEquals(Boolean.FALSE,result);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCoerceToNumber01(){
  Object result=ELSupport.coerceToNumber((Object)null,Integer.class);
  Assert.assertEquals(Integer.valueOf(0),result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.el.parser.TestELParser </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bug56185(){
  ExpressionFactory factory=ExpressionFactory.newInstance();
  ELContext context=new ELContextImpl();
  TesterBeanC beanC=new TesterBeanC();
  ValueExpression var=factory.createValueExpression(beanC,TesterBeanC.class);
  context.getVariableMapper().setVariable("myBean",var);
  ValueExpression ve=factory.createValueExpression(context,"${(myBean.int1 > 1 and myBean.myBool) or " + "((myBean.myBool or myBean.myBool1) and myBean.int1 > 1)}",Boolean.class);
  assertEquals(Boolean.FALSE,ve.getValue(context));
  beanC.setInt1(2);
  beanC.setMyBool1(true);
  assertEquals(Boolean.TRUE,ve.getValue(context));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestAttributeParser </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLiteral(){
  assertEquals("\\",evalAttr("${'\\\\'}",'\"'));
  assertEquals("\\\"",evalAttr("${'\\\\\"'}",'\"'));
  assertEquals("\"\\",evalAttr("${'\\\"\\\\'}",'\"'));
  assertEquals("\\'",evalAttr("${'\\\\\\''}",'\"'));
  assertEquals("'\\",evalAttr("${'\\'\\\\'}",'\"'));
  assertEquals("hello <% world",evalAttr("hello <\\% world",'\"'));
  assertEquals("hello %> world",evalAttr("hello %> world",'\"'));
  assertEquals("foo\\bar\\baz",evalAttr("${\'foo\'}\\\\${\'bar\'}\\\\${\'baz\'}",'\"'));
  assertEquals("foo\\bar\\baz",evalAttr("${\'foo\'}\\\\${\"bar\"}\\\\${\'baz\'}",'\"'));
  assertEquals("foo\\bar\\baz",evalAttr("${\"foo\"}\\\\${\'bar\'}\\\\${\"baz\"}",'\"'));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test use of spaces in ternary expressions. This was primarily an EL
 * parser bug.
 */
@Test public void testBug42565(){
  assertEquals("false",evalAttr("${false?true:false}",'\"'));
  assertEquals("false",evalAttr("${false?true: false}",'\"'));
  assertEquals("false",evalAttr("${false?true :false}",'\"'));
  assertEquals("false",evalAttr("${false?true : false}",'\"'));
  assertEquals("false",evalAttr("${false? true:false}",'\"'));
  assertEquals("false",evalAttr("${false? true: false}",'\"'));
  assertEquals("false",evalAttr("${false? true :false}",'\"'));
  assertEquals("false",evalAttr("${false? true : false}",'\"'));
  assertEquals("false",evalAttr("${false ?true:false}",'\"'));
  assertEquals("false",evalAttr("${false ?true: false}",'\"'));
  assertEquals("false",evalAttr("${false ?true :false}",'\"'));
  assertEquals("false",evalAttr("${false ?true : false}",'\"'));
  assertEquals("false",evalAttr("${false ? true:false}",'\"'));
  assertEquals("false",evalAttr("${false ? true: false}",'\"'));
  assertEquals("false",evalAttr("${false ? true :false}",'\"'));
  assertEquals("false",evalAttr("${false ? true : false}",'\"'));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49081(){
  assertEquals("#2",evalAttr("#${1+1}",'\"'));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test use nested ternary expressions. Full tests in{@link org.apache.el.TestELEvaluation}. This is just a smoke test to
 * ensure JSP attribute processing doesn't cause any additional issues.
 */
@Test public void testBug44994(){
  assertEquals("none",evalAttr("${0 lt 0 ? 1 lt 0 ? 'many': 'one': 'none'}",'\"'));
  assertEquals("one",evalAttr("${0 lt 1 ? 1 lt 1 ? 'many': 'one': 'none'}",'\"'));
  assertEquals("many",evalAttr("${0 lt 2 ? 1 lt 2 ? 'many': 'one': 'none'}",'\"'));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug45451(){
  assertEquals("2",evalAttr("${1+1}",'\"'));
  assertEquals("${1+1}",evalAttr("\\${1+1}",'\"'));
  assertEquals("\\2",evalAttr("\\\\${1+1}",'\"'));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test the quoting requirements of JSP attributes. This doesn't make use of
 * EL. See {@link #testBug45451()} for a test that combines JSP attribute
 * quoting and EL quoting.
 */
@Test public void testBug45015(){
  assertEquals("hello 'world'",evalAttr("hello 'world'",'\"'));
  assertEquals("hello 'world",evalAttr("hello 'world",'\"'));
  assertEquals("hello world'",evalAttr("hello world'",'\"'));
  assertEquals("hello world'",evalAttr("hello world\\'",'\"'));
  assertEquals("hello world\"",evalAttr("hello world\\\"",'\"'));
  assertEquals("hello \"world\"",evalAttr("hello \"world\"",'\"'));
  assertEquals("hello \"world",evalAttr("hello \"world",'\"'));
  assertEquals("hello world\"",evalAttr("hello world\"",'\"'));
  assertEquals("hello world'",evalAttr("hello world\\'",'\"'));
  assertEquals("hello world\"",evalAttr("hello world\\\"",'\"'));
  assertEquals("hello 'world'",evalAttr("hello 'world'",'\''));
  assertEquals("hello 'world",evalAttr("hello 'world",'\''));
  assertEquals("hello world'",evalAttr("hello world'",'\''));
  assertEquals("hello world'",evalAttr("hello world\\'",'\''));
  assertEquals("hello world\"",evalAttr("hello world\\\"",'\''));
  assertEquals("hello \"world\"",evalAttr("hello \"world\"",'\''));
  assertEquals("hello \"world",evalAttr("hello \"world",'\''));
  assertEquals("hello world\"",evalAttr("hello world\"",'\''));
  assertEquals("hello world'",evalAttr("hello world\\'",'\''));
  assertEquals("hello world\"",evalAttr("hello world\\\"",'\''));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testScriptExpressionLiterals(){
  assertEquals(" \"hello world\" ",parseScriptExpression(" \"hello world\" ",(char)0));
  assertEquals(" \"hello \\\"world\" ",parseScriptExpression(" \"hello \\\\\"world\" ",(char)0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestCompiler </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug53257z() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug53257/foo%2525bar.jsp",res,null);
  assertEquals(404,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestGenerator </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug56529() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug56529.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String response=bc.toStringInternal();
  Assert.assertTrue(response,response.contains("[1:attribute1: '', attribute2: '']"));
  Assert.assertTrue(response,response.contains("[2:attribute1: '', attribute2: '']"));
}

</code></pre>

<br>
<pre class="type-10 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49799() throws Exception {
  String[] expected={"<p style=\"color:red\">00-Red</p>","<p>01-Not Red</p>","<p style=\"color:red\">02-Red</p>","<p>03-Not Red</p>","<p style=\"color:red\">04-Red</p>","<p>05-Not Red</p>"};
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49799.jsp",res,headers);
  String result=res.toString();
  String[] lines=result.split("\n|\r|\r\n");
  int i=0;
  for (  String line : lines) {
    if (line.length() > 0) {
      assertEquals(expected[i],line);
      i++;
    }
  }
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug45015c() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug45nnn/bug45015c.jsp",new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug45015b() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug45nnn/bug45015b.jsp",new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug48701Fail() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug48nnn/bug48701-fail.jsp",new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestJspDocumentParser </h4><pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54801() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54801a.jspx",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  bc.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54801b.jspx",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47977() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug47977.jspx",new ByteChunk(),null);
  Assert.assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54821() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54821a.jspx",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  bc.recycle();
  rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54821b.jspx",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestParser </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultiplePageEncoding2() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultiplePageEncoding2.jsp",res,new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultipleImport2() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultipleImport2.jsp",res,new HashMap<String,List<String>>());
  assertEquals(200,sc);
  assertEcho(res.toString(),"OK");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297DuplicateAttr() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297DuplicateAttr.jsp",new ByteChunk(),new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultipleImport1() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultipleImport1.jsp",res,new HashMap<String,List<String>>());
  assertEquals(200,sc);
  assertEcho(res.toString(),"OK");
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultiplePageEncoding1() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultiplePageEncoding1.jsp",res,new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultiplePageEncoding3() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultiplePageEncoding3.jsp",res,new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297NoSpaceStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297NoSpace.jsp",new ByteChunk(),new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297MultiplePageEncoding4() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297MultiplePageEncoding4.jsp",res,new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297Tag() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297Tag.jsp",res,new HashMap<String,List<String>>());
  assertEquals(200,sc);
  assertEcho(res.toString(),"OK");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestParserNoStrictWhitespace </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297NoSpaceNotStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297NoSpace.jsp",res,new HashMap<String,List<String>>());
  assertEquals(200,sc);
  assertEcho(res.toString(),"Hello World");
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug49297DuplicateAttr() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int sc=getUrl("http://localhost:" + getPort() + "/test/bug49nnn/bug49297DuplicateAttr.jsp",new ByteChunk(),new HashMap<String,List<String>>());
  assertEquals(500,sc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestTagPluginManager </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug54240() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  Context ctx=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ServletContext context=ctx.getServletContext();
  TagPluginManager manager=new TagPluginManager(context);
  Node.Nodes nodes=new Node.Nodes();
  Node.CustomTag c=new Node.CustomTag("test:ATag","test","ATag","http://tomcat.apache.org/jasper",null,null,null,null,null,new TagFileInfo("ATag","http://tomcat.apache.org/jasper",tagInfo));
  c.setTagHandlerClass(TesterTag.class);
  nodes.add(c);
  manager.apply(nodes,null,null);
  Node n=nodes.getNode(0);
  Assert.assertNotNull(n);
  Assert.assertTrue(n instanceof Node.CustomTag);
  Node.CustomTag t=(Node.CustomTag)n;
  Assert.assertNotNull(t.getAtSTag());
  Node.Nodes sTag=c.getAtSTag();
  Node scriptlet=sTag.getNode(0);
  Assert.assertNotNull(scriptlet);
  Assert.assertTrue(scriptlet instanceof Node.Scriptlet);
  Node.Scriptlet s=(Node.Scriptlet)scriptlet;
  Assert.assertEquals("//Just a comment",s.getText());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.compiler.TestValidator </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug47331() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug47331.jsp",new ByteChunk(),null);
  assertEquals(HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestCustomHttpJspPage </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCustomBasePageWhenUsingTagFiles() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58444.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("00-PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspContextWrapper </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testELTagFilePageContext() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  File lib=new File("webapps/examples/WEB-INF/lib");
  ctxt.setAliases("/WEB-INF/lib=" + lib.getCanonicalPath());
  tomcat.start();
  ByteChunk out=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug58178.jsp",out,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String result=out.toString();
  Assert.assertTrue(result,result.contains("PASS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestJspWriterImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void bug54241a() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54241a.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("01: null"));
  Assert.assertTrue(body.contains("02: null"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void bug54241b() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug54241b.jsp",res,null);
  Assert.assertEquals(res.toString(),HttpServletResponse.SC_INTERNAL_SERVER_ERROR,rc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.runtime.TestPageContextImpl </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoForward() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53545.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAIL"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIncludeThrowsIOException() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk res=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  String body=res.toString();
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
  res=new ByteChunk();
  rc=getUrl("http://localhost:" + getPort() + "/test/jsp/pageContext1.jsp?flush=true",res,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  body=res.toString();
  Assert.assertTrue(body.contains("Flush"));
  Assert.assertTrue(body.contains("OK"));
  Assert.assertFalse(body.contains("FAILED"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.jasper.util.TestFastRemovalDequeue </h4><pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.push(o1);
  Object r=q.pop();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushUnpush() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.push(o1);
  Object r=q.unpush();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoubleUnpopPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.unpop(o1);
  q.unpop(o2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  Object r2=q.pop();
  assertEquals(o2,r2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.pop();
  assertEquals(o1,r1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushUnpush() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.push(o1);
  q.push(o2);
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r2=q.unpush();
  assertEquals(o2,r2);
  assertEquals(o1,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.unpush();
  assertEquals(o1,r1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleUnpopPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  q.unpop(o1);
  Object r=q.pop();
  assertEquals(o1,r);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSinglePushRemove() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  FastRemovalDequeue.Entry e1=q.push(o1);
  assertEquals(o1,e1.getContent());
  q.remove(e1);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushPop() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  q.push(o1);
  q.push(o2);
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  Object r1=q.pop();
  assertEquals(o1,r1);
  assertEquals(o2,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  Object r2=q.pop();
  assertEquals(o2,r2);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDoublePushRemove() throws Exception {
  FastRemovalDequeue q=new FastRemovalDequeue(2);
  Object o1=new Object();
  Object o2=new Object();
  FastRemovalDequeue.Entry e1=q.push(o1);
  FastRemovalDequeue.Entry e2=q.push(o2);
  assertEquals(o1,e1.getContent());
  assertEquals(o2,e2.getContent());
  assertEquals(o2,q.first.getContent());
  assertEquals(o1,q.last.getContent());
  q.remove(e1);
  assertEquals(o2,q.first.getContent());
  assertEquals(o2,q.last.getContent());
  q.remove(e2);
  assertNull(q.first);
  assertNull(q.last);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juli.TestClassLoaderLogManager </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReplace(){
  ClassLoaderLogManager logManager=new ClassLoaderLogManager();
  Assert.assertEquals("",logManager.replace(""));
  Assert.assertEquals("${",logManager.replace("${"));
  Assert.assertEquals("${undefinedproperty}",logManager.replace("${undefinedproperty}"));
  Assert.assertEquals(System.getProperty("line.separator") + File.pathSeparator + File.separator,logManager.replace("${line.separator}${path.separator}${file.separator}"));
  Assert.assertEquals("foo" + File.separator + "bar"+ System.getProperty("line.separator")+ File.pathSeparator+ "baz",logManager.replace("foo${file.separator}bar${line.separator}${path.separator}baz"));
  Assert.assertEquals("%{file.separator}" + File.separator,logManager.replace("%{file.separator}${file.separator}"));
  Assert.assertEquals(File.separator + "${undefinedproperty}" + File.separator,logManager.replace("${file.separator}${undefinedproperty}${file.separator}"));
  Assert.assertEquals("${}" + File.pathSeparator,logManager.replace("${}${path.separator}"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.juli.TestDateFormatCache </h4><pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54044() throws Exception {
  final String timeFormat="dd-MMM-yyyy HH:mm:ss";
  final int cacheSize=10;
  SimpleDateFormat sdf=new SimpleDateFormat(timeFormat,Locale.US);
  sdf.setTimeZone(TimeZone.getDefault());
  DateFormatCache dfc=new DateFormatCache(cacheSize,timeFormat,null);
  Object dfcCache;
  Field dfcCacheArray;
{
    Field dfcCacheField=dfc.getClass().getDeclaredField("cache");
    dfcCacheField.setAccessible(true);
    dfcCache=dfcCacheField.get(dfc);
    dfcCacheArray=dfcCache.getClass().getDeclaredField("cache");
    dfcCacheArray.setAccessible(true);
  }
  String[] expected=new String[cacheSize];
  for (int secs=0; secs < (cacheSize); secs++) {
    dfc.getFormat(secs * 1000);
    expected[secs]=generateExpected(sdf,secs);
  }
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat(cacheSize * 1000);
  expected[0]=generateExpected(sdf,cacheSize);
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat((cacheSize + 2) * 1000);
  expected[1]=null;
  expected[2]=generateExpected(sdf,cacheSize + 2);
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat((cacheSize + 1) * 1000);
  expected[1]=generateExpected(sdf,cacheSize + 1);
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat(1 * 1000);
  expected[1]=generateExpected(sdf,1);
  expected[2]=null;
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat(0);
  expected[0]=generateExpected(sdf,0);
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
  dfc.getFormat(42 * 1000);
  for (int i=0; i < cacheSize; i++) {
    expected[i]=null;
  }
  expected[0]=generateExpected(sdf,42);
  Assert.assertArrayEquals(expected,(String[])dfcCacheArray.get(dfcCache));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.naming.resources.TestClasspathUrlStreamHandler </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClasspathURL01() throws IOException {
  URL u=new URL("classpath:/org/apache/naming/resources/LocalStrings.properties");
  InputStream is=null;
  Properties p=new Properties();
  try {
    is=u.openStream();
    p.load(is);
  }
  finally {
    if (is != null) {
      is.close();
    }
  }
  String msg=(String)p.get("resources.null");
  Assert.assertEquals("Document base cannot be null",msg);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.naming.resources.TestNamingContext </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53465() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  File appDir=new File("test/webapp-3.0");
  org.apache.catalina.Context ctxt=tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/bug5nnnn/bug53465.jsp",bc,null);
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("<p>10</p>"));
  ContextEnvironment ce=ctxt.getNamingResources().findEnvironment("bug53465");
  Assert.assertEquals("Bug53465MappedName",ce.getProperty("mappedName"));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListBindings() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  ContextResource cr=new ContextResource();
  cr.setName("list/foo");
  cr.setType("org.apache.naming.resources.TesterObject");
  cr.setProperty("factory","org.apache.naming.resources.TesterFactory");
  ctx.getNamingResources().addResource(cr);
  Bug23950Servlet bug23950Servlet=new Bug23950Servlet();
  Tomcat.addServlet(ctx,"bug23950Servlet",bug23950Servlet);
  ctx.addServletMapping("/","bug23950Servlet");
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("org.apache.naming.resources.TesterObject",bc.toString());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52830() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  ContextEnvironment env=new ContextEnvironment();
  env.setName("boolean");
  env.setType(Boolean.class.getName());
  env.setValue("true");
  ctx.getNamingResources().addEnvironment(env);
  Bug52830Servlet bug52830Servlet=new Bug52830Servlet();
  Tomcat.addServlet(ctx,"bug52830Servlet",bug52830Servlet);
  ctx.addServletMapping("/","bug52830Servlet");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/",bc,null);
  assertEquals(200,rc);
  assertTrue(bc.toString().contains("truetrue"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAliases() throws Exception {
  String foxText="The quick brown fox jumps over the lazy dog";
  String loremIpsum="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
  File tmpDir=new File(getTemporaryDirectory(),"tomcat-unit-test." + TestNamingContext.class.getName());
  ExpandWar.delete(tmpDir);
  File docBase=new File(tmpDir,"docBase");
  File alternate1=new File(tmpDir,"alternate1");
  File alternate2=new File(tmpDir,"alternate2");
  addDeleteOnTearDown(tmpDir);
  if (!tmpDir.mkdirs())   throw new IOException("Could not create temp directory " + tmpDir);
  if (!docBase.mkdir())   throw new IOException("Could not create temp directory " + docBase);
  if (!alternate1.mkdir())   throw new IOException("Could not create temp directory " + alternate1);
  if (!alternate2.mkdir())   throw new IOException("Could not create temp directory " + alternate2);
  FileOutputStream fos=new FileOutputStream(new File(alternate1,"test1.txt"));
  try {
    fos.write(foxText.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  fos=new FileOutputStream(new File(alternate2,"test2.txt"));
  try {
    fos.write(loremIpsum.getBytes("UTF-8"));
    fos.flush();
  }
  finally {
    fos.close();
  }
  FileDirContext ctx=new FileDirContext();
  ctx.setDocBase(docBase.getCanonicalPath());
  ctx.setAliases("/a1=" + alternate1.getCanonicalPath() + ",/a2="+ alternate2.getCanonicalPath());
  Object file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  byte[] buffer=new byte[4096];
  Resource res=(Resource)file;
  InputStream is=res.streamContent();
  int len;
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  String contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
  ctx.setAliases("   /a1= " + alternate1.getCanonicalPath() + "\n\n"+ ", /a2 =\n"+ alternate2.getCanonicalPath()+ ",");
  file=ctx.lookup("/a1/test1.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(foxText,contents);
  file=ctx.lookup("/a2/test2.txt");
  Assert.assertNotNull(file);
  Assert.assertTrue(file instanceof Resource);
  res=(Resource)file;
  is=res.streamContent();
  try {
    len=is.read(buffer);
  }
  finally {
    is.close();
  }
  contents=new String(buffer,0,len,"UTF-8");
  assertEquals(loremIpsum,contents);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBeanFactory() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  StandardContext ctx=(StandardContext)tomcat.addContext("",null);
  ContextResource cr=new ContextResource();
  cr.setName("bug50351");
  cr.setType("org.apache.naming.resources.TesterObject");
  cr.setProperty("factory","org.apache.naming.factory.BeanFactory");
  cr.setProperty("foo","value");
  ctx.getNamingResources().addResource(cr);
  Bug50351Servlet bug50351Servlet=new Bug50351Servlet();
  Tomcat.addServlet(ctx,"bug50351Servlet",bug50351Servlet);
  ctx.addServletMapping("/","bug50351Servlet");
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/");
  assertEquals("value",bc.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.naming.resources.TestWarDirContext </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Additional test following on from SPR-7350 above to check files that
 * contain JNDI reserved characters can be served when caching is disabled.
 */
@Test public void testReservedJNDIFileNamesNoCache() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setCachingAllowed(false);
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/test/'singlequote.jsp");
  assertEquals("<p>'singlequote.jsp in resources.jar</p>",bc.toString());
  bc=getUrl("http://localhost:" + getPort() + "/test/'singlequote2.jsp");
  assertEquals("<p>'singlequote2.jsp in file system</p>",bc.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Check https://jira.springsource.org/browse/SPR-7350 isn't really an issue
 */
@Test public void testLookupException() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/test/warDirContext.jsp");
  assertEquals("<p>java.lang.ClassNotFoundException</p>",bc.toString());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Additional test following on from SPR-7350 above to check files that
 * contain JNDI reserved characters can be served when caching is enabled.
 */
@Test public void testReservedJNDIFileNamesWithCache() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0-fragments");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setCachingAllowed(true);
  tomcat.start();
  ByteChunk bc=getUrl("http://localhost:" + getPort() + "/test/'singlequote.jsp");
  assertEquals("<p>'singlequote.jsp in resources.jar</p>",bc.toString());
  bc=getUrl("http://localhost:" + getPort() + "/test/'singlequote2.jsp");
  assertEquals("<p>'singlequote2.jsp in file system</p>",bc.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.bugs.Bug53367 </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPool() throws SQLException, InterruptedException {
  DriverManager.setLoginTimeout(1);
  PoolProperties poolProperties=new DefaultProperties();
  int threadsCount=3;
  poolProperties.setMaxActive(threadsCount);
  poolProperties.setMaxIdle(threadsCount);
  poolProperties.setMinIdle(0);
  poolProperties.setMaxWait(5000);
  poolProperties.setInitialSize(0);
  poolProperties.setRemoveAbandoned(true);
  poolProperties.setRemoveAbandonedTimeout(300);
  poolProperties.setRollbackOnReturn(true);
  poolProperties.setFairQueue(fairQueue);
  final DataSource ds=new DataSource(poolProperties);
  final CountDownLatch openedLatch=new CountDownLatch(threadsCount);
  final CountDownLatch closedLatch=new CountDownLatch(threadsCount);
  final CountDownLatch toCloseLatch=new CountDownLatch(1);
  for (int i=0; i < threadsCount; i++) {
    new Thread(new Runnable(){
      @Override public void run(){
        try {
          Connection connection=ds.getConnection();
          openedLatch.countDown();
          toCloseLatch.await();
          connection.close();
          closedLatch.countDown();
        }
 catch (        Exception e) {
          System.err.println("Step 1:" + e.getMessage());
        }
      }
    }
).start();
  }
  openedLatch.await();
  ConnectionPool pool=ds.getPool();
  Assert.assertEquals(0,pool.getIdle());
  Assert.assertEquals(threadsCount,pool.getActive());
  Assert.assertEquals(threadsCount,pool.getSize());
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < threadsCount; i++) {
    Thread thread=new Thread(new Runnable(){
      @Override public void run(){
        try {
          ds.getConnection();
        }
 catch (        Exception e) {
          System.err.println("Step 2:" + e.getMessage());
        }
      }
    }
);
    thread.start();
    threads.add(thread);
  }
  for (  Thread thread : threads) {
    thread.interrupt();
  }
  for (  Thread thread : threads) {
    thread.join();
  }
  Assert.assertEquals(0,pool.getIdle());
  Assert.assertEquals(threadsCount,pool.getActive());
  Assert.assertEquals(threadsCount,pool.getSize());
  toCloseLatch.countDown();
  closedLatch.await();
  Assert.assertEquals(threadsCount,pool.getIdle());
  Assert.assertEquals(0,pool.getActive());
  Assert.assertEquals(threadsCount,pool.getSize());
  final AtomicInteger failedCount=new AtomicInteger();
  final ArrayBlockingQueue<Connection> cons=new ArrayBlockingQueue<Connection>(threadsCount);
  threads.clear();
  for (int i=0; i < threadsCount; i++) {
    Thread thread=new Thread(new Runnable(){
      @Override public void run(){
        try {
          cons.add(ds.getConnection());
        }
 catch (        PoolExhaustedException e) {
          failedCount.incrementAndGet();
          System.err.println("Step 3:" + e.getMessage());
        }
catch (        Exception e) {
          System.err.println("Step 4:" + e.getMessage());
          throw new RuntimeException(e);
        }
      }
    }
);
    thread.start();
    threads.add(thread);
  }
  for (  Thread thread : threads) {
    thread.join();
  }
  Assert.assertEquals(0,failedCount.get());
  Assert.assertEquals(0,pool.getIdle());
  Assert.assertEquals(threadsCount,pool.getActive());
  Assert.assertEquals(threadsCount,pool.getSize());
  for (  Connection con : cons) {
    con.close();
  }
  Assert.assertEquals(threadsCount,pool.getIdle());
  Assert.assertEquals(0,pool.getActive());
  Assert.assertEquals(threadsCount,pool.getSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.AbandonPercentageTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxedOutAbandon() throws Exception {
  int size=100;
  this.datasource.setMaxActive(size);
  this.datasource.setMaxIdle(size);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(100);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  Thread.sleep(2000);
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  con.close();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResetConnection() throws Exception {
  int size=1;
  this.datasource.setMaxActive(size);
  this.datasource.setMaxIdle(size);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(100);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  this.datasource.getPoolProperties().setJdbcInterceptors(ResetAbandonedTimer.class.getName());
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  for (int i=0; i < 20; i++) {
    Thread.sleep(200);
    con.isClosed();
  }
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  con.close();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultAbandon() throws Exception {
  this.datasource.setMaxActive(100);
  this.datasource.setMaxIdle(100);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  Thread.sleep(2000);
  Assert.assertEquals("Number of connections active/busy should be 0",0,datasource.getPool().getActive());
  con.close();
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHalfway() throws Exception {
  int size=100;
  this.datasource.setMaxActive(size);
  this.datasource.setMaxIdle(size);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(50);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(500);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Connection[] con=new Connection[size];
  con[0]=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  for (int i=1; i < 25; i++) {
    con[i]=datasource.getConnection();
  }
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be 25",25,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  for (int i=25; i < con.length; i++) {
    con[i]=datasource.getConnection();
  }
  int active=datasource.getPool().getActive();
  System.out.println("Active:" + active);
  Assert.assertEquals("Number of connections active/busy should be " + con.length,con.length,datasource.getPool().getActive());
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(1);
  Thread.sleep(2500);
  Assert.assertTrue("Number of connections should be less than 50.",(datasource.getPool().getActive() < 50));
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  Thread.sleep(2500);
  Assert.assertEquals("Number of connections active/busy should be " + 0,0,datasource.getPool().getActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.Bug50805 </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test50805() throws Exception {
  this.datasource.setInitialSize(0);
  this.datasource.setMaxActive(10);
  this.datasource.setMinIdle(1);
  Assert.assertEquals("Current size should be 0.",0,this.datasource.getSize());
  this.datasource.getConnection().close();
  Assert.assertEquals("Current size should be 1.",1,this.datasource.getSize());
  Assert.assertEquals("Idle size should be 1.",1,this.datasource.getIdle());
  Assert.assertEquals("Busy size should be 0.",0,this.datasource.getActive());
  Future<Connection> fc=this.datasource.getConnectionAsync();
  Connection con=fc.get();
  Assert.assertEquals("Current size should be 1.",1,this.datasource.getSize());
  Assert.assertEquals("Idle size should be 0.",0,this.datasource.getIdle());
  Assert.assertEquals("Busy size should be 1.",1,this.datasource.getActive());
  con.close();
  Assert.assertEquals("Current size should be 1.",1,this.datasource.getSize());
  Assert.assertEquals("Idle size should be 1.",1,this.datasource.getIdle());
  Assert.assertEquals("Busy size should be 0.",0,this.datasource.getActive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.EqualsHashCodeTest </h4><pre class="type-14 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEquals() throws Exception {
  Connection con1=datasource.getConnection();
  Connection real1=((PooledConnection)con1).getConnection();
  Assert.assertEquals(con1,con1);
  con1.close();
  Assert.assertEquals(con1,con1);
  Connection con2=datasource.getConnection();
  Connection real2=((PooledConnection)con2).getConnection();
  Assert.assertEquals(real1,real2);
  Assert.assertEquals(con2,con2);
  Assert.assertNotSame(con1,con2);
  con2.close();
  Assert.assertEquals(con2,con2);
}

</code></pre>

<br>
<pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHashCode() throws Exception {
  Connection con1=datasource.getConnection();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  con1.close();
  Assert.assertEquals(con1.hashCode(),con1.hashCode());
  Connection con2=datasource.getConnection();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
  Assert.assertTrue(con1.hashCode() != con2.hashCode());
  con2.close();
  Assert.assertEquals(con2.hashCode(),con2.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.JmxPasswordTest </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassword() throws Exception {
  Assert.assertEquals("Passwords should match when not using JMX.",password,datasource.getPoolProperties().getPassword());
  MBeanServer mbs=ManagementFactory.getPlatformMBeanServer();
  ConnectionPoolMBean mbean=JMX.newMBeanProxy(mbs,oname,ConnectionPoolMBean.class);
  String jmxPassword=mbean.getPassword();
  Properties jmxProperties=mbean.getDbProperties();
  Assert.assertFalse("Passwords should not match.",password.equals(jmxPassword));
  Assert.assertFalse("Password property should be missing",jmxProperties.containsKey(PoolUtilities.PROP_PASSWORD));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.PoolCleanerTest </h4><pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test2PoolCleaners() throws Exception {
  datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(2000);
  datasource.getPoolProperties().setTestWhileIdle(true);
  DataSource ds2=new DataSource(datasource.getPoolProperties());
  Assert.assertEquals("Pool cleaner should not be started yet.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present.",0,countPoolCleanerThreads());
  datasource.getConnection().close();
  ds2.getConnection().close();
  Assert.assertEquals("Pool cleaner should have 2 cleaner.",2,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should be 1.",1,countPoolCleanerThreads());
  datasource.close();
  Assert.assertEquals("Pool cleaner should have 1 cleaner.",1,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  ds2.close();
  Assert.assertEquals("Pool shutdown, no cleaners should be present.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null after shutdown",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present after close.",0,countPoolCleanerThreads());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIdleTimeout() throws Exception {
  datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(2000);
  datasource.getPoolProperties().setTestWhileIdle(true);
  datasource.getPoolProperties().setMaxIdle(0);
  datasource.getPoolProperties().setInitialSize(0);
  datasource.getPoolProperties().setMinIdle(0);
  datasource.getPoolProperties().setMinEvictableIdleTimeMillis(1000);
  datasource.getConnection().close();
  Assert.assertEquals("Pool should have 1 idle.",1,datasource.getIdle());
  Thread.sleep(3000);
  Assert.assertEquals("Pool should have 0 idle.",0,datasource.getIdle());
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPoolCleaner() throws Exception {
  datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(2000);
  datasource.getPoolProperties().setTestWhileIdle(true);
  Assert.assertEquals("Pool cleaner should not be started yet.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present.",0,countPoolCleanerThreads());
  datasource.getConnection().close();
  Assert.assertEquals("Pool cleaner should have 1 cleaner.",1,ConnectionPool.getPoolCleaners().size());
  Assert.assertNotNull("Pool timer should not be null",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should be 1.",1,countPoolCleanerThreads());
  datasource.close();
  Assert.assertEquals("Pool shutdown, no cleaners should be present.",0,ConnectionPool.getPoolCleaners().size());
  Assert.assertNull("Pool timer should be null after shutdown",ConnectionPool.getPoolTimer());
  Assert.assertEquals("Pool cleaner threads should not be present after close.",0,countPoolCleanerThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.PoolPurgeTest </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPoolPurgeOnReturn() throws Exception {
  init();
  Connection con=datasource.getConnection();
  Assert.assertEquals("Nr of connections should be " + expectedSize,expectedSize,datasource.getSize());
  this.datasource.purgeOnReturn();
  Assert.assertEquals("Nr of connections should be " + expectedSize,expectedSize,datasource.getSize());
  con.close();
  Assert.assertEquals("Nr of connections should be " + (expectedSize - 1),(expectedSize - 1),datasource.getSize());
  tearDown();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPoolPurgeWithActive() throws Exception {
  Connection con=datasource.getConnection();
  Assert.assertEquals("Nr of connections should be " + expectedSize,expectedSize,datasource.getSize());
  this.datasource.purge();
  Assert.assertEquals("Nr of connections should be " + (expectedSize - 1),(expectedSize - 1),datasource.getSize());
  con.close();
  Assert.assertEquals("Nr of connections should be 0",0,datasource.getSize());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPoolPurge() throws Exception {
  this.datasource.getConnection().close();
  Assert.assertEquals("Nr of connections should be " + expectedSize,expectedSize,datasource.getSize());
  this.datasource.purge();
  Assert.assertEquals("Nr of connections should be 0",0,datasource.getSize());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestAsyncQueue </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAsyncPoll1() throws Exception {
  Object item=new Object();
  queue.offer(item);
  Future future=queue.pollAsync();
  Assert.assertEquals(future.get(),item);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAsyncPoll2() throws Exception {
  Object item=new Object();
  OfferThread thread=new OfferThread(item,5000);
  thread.start();
  Future future=queue.pollAsync();
  try {
    future.get(2000,TimeUnit.MILLISECONDS);
    Assert.assertFalse("Request should have timed out",true);
  }
 catch (  TimeoutException x) {
    Assert.assertTrue("Request timed out properly",true);
  }
catch (  Exception x) {
    Assert.assertTrue("Request threw an error",false);
    x.printStackTrace();
  }
  Assert.assertEquals(future.get(),item);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestConcurrency </h4><pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutalNonFair() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  ds.getConnection().close();
  final int iter=1000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          Thread.sleep(10);
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      if (debug) {
        System.out.println("Size: " + ds.getPool().getSize());
        System.out.println("Used: " + ds.getPool().getActive());
        System.out.println("Idle: " + ds.getPool().getIdle());
        System.out.println("Wait: " + ds.getPool().getWaitCount());
      }
      Thread.sleep(250);
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBrutal() throws Exception {
  ds.getPoolProperties().setRemoveAbandoned(false);
  ds.getPoolProperties().setRemoveAbandonedTimeout(1);
  ds.getPoolProperties().setMinEvictableIdleTimeMillis(100);
  ds.getPoolProperties().setTimeBetweenEvictionRunsMillis(10);
  ds.getConnection().close();
  final int iter=100000 * 10;
  final AtomicInteger loopcount=new AtomicInteger(0);
  final Runnable run=new Runnable(){
    @Override public void run(){
      try {
        while (loopcount.incrementAndGet() < iter) {
          Connection con=ds.getConnection();
          con.close();
        }
      }
 catch (      Exception x) {
        loopcount.set(iter);
        x.printStackTrace();
      }
    }
  }
;
  Thread[] threads=new Thread[20];
  for (int i=0; i < threads.length; i++) {
    threads[i]=new Thread(run);
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].start();
  }
  try {
    while (loopcount.get() < iter) {
      Assert.assertTrue("Size comparison(less than 11):",ds.getPool().getSize() <= 10);
      ds.getPool().testAllIdle();
      ds.getPool().checkAbandoned();
      ds.getPool().checkIdle();
    }
  }
 catch (  Exception x) {
    loopcount.set(iter);
    x.printStackTrace();
  }
  for (int i=0; i < threads.length; i++) {
    threads[i].join();
  }
  System.out.println("Connect count:" + Driver.connectCount.get());
  System.out.println("DisConnect count:" + Driver.disconnectCount.get());
  Assert.assertEquals("Size comparison:",10,ds.getPool().getSize());
  Assert.assertEquals("Idle comparison:",10,ds.getPool().getIdle());
  Assert.assertEquals("Used comparison:",0,ds.getPool().getActive());
  Assert.assertEquals("Connect count",10,Driver.connectCount.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestConnectionState </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultCatalog() throws Exception {
  DataSourceProxy d1=this.createDefaultDataSource();
  d1.setMaxActive(1);
  d1.setJdbcInterceptors(ConnectionState.class.getName());
  d1.setDefaultCatalog("information_schema");
  d1.setMinIdle(1);
  Connection c1=d1.getConnection();
  Assert.assertEquals("Catalog should be information_schema",c1.getCatalog(),"information_schema");
  c1.close();
  c1=d1.getConnection();
  Assert.assertEquals("Catalog should be information_schema",c1.getCatalog(),"information_schema");
  c1.setCatalog("mysql");
  Assert.assertEquals("Catalog should be information_schema",c1.getCatalog(),"mysql");
  c1.close();
  c1=d1.getConnection();
  Assert.assertEquals("Catalog should be information_schema",c1.getCatalog(),"information_schema");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestInterceptorShortName </h4><pre class="type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testShortInterceptor() throws Exception {
  this.datasource=this.createDefaultDataSource();
  this.datasource.setJdbcInterceptors("TestInterceptor");
  this.datasource.setUseDisposableConnectionFacade(false);
  this.datasource.setMaxActive(1);
  this.datasource.createPool();
  Assert.assertEquals("Only one interceptor should have been called setProperties[1]",1,TestInterceptor.instancecount.get());
  TestInterceptor.instancecount.set(0);
  Connection con=this.datasource.getConnection();
  Assert.assertTrue("Pool should have been started.",TestInterceptor.poolstarted);
  Assert.assertEquals("Only one interceptor should have been called setProperties[2]",1,TestInterceptor.instancecount.get());
  con.close();
  this.datasource.close();
  Assert.assertTrue("Pool should have been closed.",TestInterceptor.poolclosed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestQueryTimeoutInterceptor </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTimeout() throws Exception {
  int timeout=10;
  int withoutuser=10;
  int withuser=withoutuser;
  this.datasource.setMaxActive(withuser + withoutuser);
  this.datasource.setJdbcInterceptors(QueryTimeoutInterceptor.class.getName() + "(queryTimeout=" + timeout+ ")");
  this.datasource.setDriverClassName(Driver.class.getName());
  this.datasource.setUrl("jdbc:tomcat:test");
  Connection con=this.datasource.getConnection();
  Statement st=con.createStatement();
  Assert.assertEquals(st.getClass().getName(),timeout,st.getQueryTimeout());
  st.close();
  st=con.prepareStatement("");
  Assert.assertEquals(st.getClass().getName(),timeout,st.getQueryTimeout());
  st.close();
  st=con.prepareCall("");
  Assert.assertEquals(st.getClass().getName(),timeout,st.getQueryTimeout());
  st.close();
  con.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSlowQueryComparator </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQueryStatsBothWithSomeLastInvocation() throws Exception {
  Comparator<QueryStats> queryStatsComparator=createComparator();
  QueryStats q1=new QueryStats("abc");
  QueryStats q2=new QueryStats("abc");
  q1.add(0,100);
  q2.add(0,150);
  Assert.assertEquals(-1,queryStatsComparator.compare(q1,q2));
  Assert.assertEquals(1,queryStatsComparator.compare(q2,q1));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEqualQueryStatsWithNoLastInvocation() throws Exception {
  Comparator<QueryStats> queryStatsComparator=createComparator();
  QueryStats q1=new QueryStats("abc");
  Assert.assertEquals(0,queryStatsComparator.compare(q1,q1));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQueryStatsOneWithLastInvocation() throws Exception {
  Comparator<QueryStats> queryStatsComparator=createComparator();
  QueryStats q1=new QueryStats("abc");
  QueryStats q2=new QueryStats("def");
  q2.add(0,100);
  Assert.assertEquals(1,queryStatsComparator.compare(q1,q2));
  Assert.assertEquals(-1,queryStatsComparator.compare(q2,q1));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEqualQueryStatsWithLastInvocation() throws Exception {
  Comparator<QueryStats> queryStatsComparator=createComparator();
  QueryStats q1=new QueryStats("abc");
  q1.add(0,100);
  Assert.assertEquals(0,queryStatsComparator.compare(q1,q1));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQueryStatsBothWithSameLastInvocation() throws Exception {
  Comparator<QueryStats> queryStatsComparator=createComparator();
  QueryStats q1=new QueryStats("abc");
  QueryStats q2=new QueryStats("def");
  q1.add(0,100);
  q2.add(0,100);
  Assert.assertEquals(0,queryStatsComparator.compare(q1,q2));
  Assert.assertEquals(0,queryStatsComparator.compare(q2,q1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSlowQueryReport </h4><pre class="type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlowSqlJmx() throws Exception {
  int count=1;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReportJmx.class.getName() + "(threshold=50,notifyPool=false)");
  Connection con=this.datasource.getConnection();
  String slowSql="select count(1) from test where val1 like 'ewq%eq'";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(slowSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  ClientListener listener=new ClientListener();
  ConnectionPool pool=datasource.getPool();
  ManagementFactory.getPlatformMBeanServer().addNotificationListener(new SlowQueryReportJmx().getObjectName(SlowQueryReportJmx.class,pool.getName()),listener,null,null);
  for (int i=0; i < count; i++) {
    PreparedStatement st=con.prepareStatement(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    CallableStatement st=con.prepareCall(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  Assert.assertEquals("Expecting to have received " + (2 * count) + " notifications.",2 * count,listener.notificationCount.get());
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailedSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName());
  Connection con=this.datasource.getConnection();
  String slowSql="select 1 from non_existent";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    try {
      ResultSet rs=st.executeQuery(slowSql);
      rs.close();
    }
 catch (    Exception x) {
    }
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  ConnectionPool pool=datasource.getPool();
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFastSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName());
  Connection con=this.datasource.getConnection();
  String fastSql=this.datasource.getValidationQuery();
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(fastSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(0,map.size());
  ConnectionPool pool=datasource.getPool();
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<pre class="type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlowSql() throws Exception {
  int count=3;
  this.init();
  this.datasource.setMaxActive(1);
  this.datasource.setJdbcInterceptors(SlowQueryReport.class.getName() + "(threshold=50)");
  Connection con=this.datasource.getConnection();
  String slowSql="select count(1) from test where val1 like 'ewq%eq' and val2 = 'ew%rre' and val3 = 'sda%da' and val4 = 'dad%ada'";
  for (int i=0; i < count; i++) {
    Statement st=con.createStatement();
    ResultSet rs=st.executeQuery(slowSql);
    rs.close();
    st.close();
  }
  Map<String,SlowQueryReport.QueryStats> map=SlowQueryReport.getPoolStats(datasource.getPool().getName());
  Assert.assertNotNull(map);
  Assert.assertEquals(1,map.size());
  String key=map.keySet().iterator().next();
  SlowQueryReport.QueryStats stats=map.get(key);
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    PreparedStatement st=con.prepareStatement(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  for (int i=0; i < count; i++) {
    CallableStatement st=con.prepareCall(slowSql);
    ResultSet rs=st.executeQuery();
    rs.close();
    st.close();
  }
  System.out.println("Stats:" + stats);
  ConnectionPool pool=datasource.getPool();
  con.close();
  tearDown();
  Assert.assertNull(SlowQueryReport.getPoolStats(pool.getName()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestStatementCache </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache2() throws Exception {
  init();
  config(false,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(0,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStatementClose1() throws Exception {
  init();
  datasource.setJdbcInterceptors(TestStatementCacheInterceptor.class.getName() + "(prepared=true,callable=false,max=1);" + StatementCounterInterceptor.class.getName());
  Connection con=datasource.getConnection();
  StatementCounterInterceptor counter=findInterceptor(con,StatementCounterInterceptor.class);
  PreparedStatement ps1, ps2;
  ps1=con.prepareStatement("select 1");
  Assert.assertEquals(1,counter.getActiveCount());
  ps1.close();
  Assert.assertEquals("Statement goes into cache, not closed",1,counter.getActiveCount());
  ps1=con.prepareStatement("select 1");
  Assert.assertEquals("Reusing statement from cache",1,counter.getActiveCount());
  ps2=con.prepareStatement("select 1");
  Assert.assertEquals("Reusing statement from cache",2,counter.getActiveCount());
  ps2.close();
  Assert.assertEquals("Statement goes into cache, not closed",2,counter.getActiveCount());
  ps1.close();
  Assert.assertEquals("Statement does not go into cache, closed",1,counter.getActiveCount());
  con.close();
  Assert.assertEquals("Connection returned to the pool. Statement is in cache",1,counter.getActiveCount());
  datasource.close();
  Assert.assertEquals("Pool cleared. All statements in cache are closed",0,counter.getActiveCount());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreparedStatementCache() throws Exception {
  config(true,false,100);
  Connection con=datasource.getConnection();
  PreparedStatement ps1=con.prepareStatement("select 1");
  PreparedStatement ps2=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps1.close();
  Assert.assertTrue(ps1.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
  PreparedStatement ps3=con.prepareStatement("select 1");
  Assert.assertEquals(0,interceptor.getCacheSize().get());
  ps2.close();
  Assert.assertTrue(ps2.isClosed());
  ps3.close();
  Assert.assertTrue(ps3.isClosed());
  Assert.assertEquals(1,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties() throws Exception {
  config(true,true,50);
  datasource.getConnection().close();
  Assert.assertTrue(interceptor.isCacheCallable());
  Assert.assertTrue(interceptor.isCachePrepared());
  Assert.assertEquals(50,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMaxCacheSize() throws Exception {
  init();
  config(true,false,100);
  Connection con1=datasource.getConnection();
  Connection con2=datasource.getConnection();
  for (int i=0; i < 120; i++) {
    Connection con=(i % 2 == 0) ? con1 : con2;
    PreparedStatement ps=con.prepareStatement("select " + i);
    ps.close();
  }
  Assert.assertEquals(100,interceptor.getCacheSize().get());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheProperties2() throws Exception {
  config(false,false,100);
  datasource.getConnection().close();
  Assert.assertFalse(interceptor.isCacheCallable());
  Assert.assertFalse(interceptor.isCachePrepared());
  Assert.assertEquals(100,interceptor.getMaxCacheSize());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStatementClose2() throws Exception {
  init();
  datasource.setJdbcInterceptors(TestStatementCacheInterceptor.class.getName() + "(prepared=false,callable=false,max=10);" + StatementCounterInterceptor.class.getName());
  Connection con=datasource.getConnection();
  StatementCounterInterceptor counter=findInterceptor(con,StatementCounterInterceptor.class);
  PreparedStatement ps1=con.prepareStatement("select 1");
  Assert.assertEquals(1,counter.getActiveCount());
  ps1.close();
  Assert.assertEquals("Statement is not pooled, closes immediately",0,counter.getActiveCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestSuspectTimeout </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspect() throws Exception {
  this.datasource.setMaxActive(100);
  this.datasource.setMaxIdle(100);
  this.datasource.setInitialSize(0);
  this.datasource.getPoolProperties().setAbandonWhenPercentageFull(0);
  this.datasource.getPoolProperties().setTimeBetweenEvictionRunsMillis(100);
  this.datasource.getPoolProperties().setRemoveAbandoned(true);
  this.datasource.getPoolProperties().setRemoveAbandonedTimeout(100);
  this.datasource.getPoolProperties().setSuspectTimeout(1);
  this.datasource.getPoolProperties().setLogAbandoned(true);
  Connection con=datasource.getConnection();
  Assert.assertEquals("Number of connections active/busy should be 1",1,datasource.getPool().getActive());
  Thread.sleep(3000);
  PooledConnection pcon=con.unwrap(PooledConnection.class);
  Assert.assertTrue("Connection should be marked suspect",pcon.isSuspect());
  con.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.jdbc.test.TestValidationQueryTimeout </h4><pre class="type-4 type-3 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidationQueryTimeoutWithQueryTimeoutInterceptor() throws Exception {
  int interceptorTimeout=30;
  this.datasource.setJdbcInterceptors(QueryTimeoutInterceptor.class.getName() + "(queryTimeout=" + interceptorTimeout+ ")");
  Connection con=this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
  TIMEOUT=30;
  Statement st=con.createStatement();
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareStatement("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  st=con.prepareCall("");
  Assert.assertEquals(interceptorTimeout,st.getQueryTimeout());
  st.close();
  con.close();
  TIMEOUT=10;
  isTimeoutSet=false;
  this.datasource.getConnection();
  Assert.assertTrue(isTimeoutSet);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestAscii </h4><pre class="type-4 type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testParseLong1(){
  String value="9223372036854775807";
  byte[] bytes=value.getBytes();
  long result=Ascii.parseLong(bytes,0,bytes.length);
  Assert.assertEquals(value,String.valueOf(result));
}

</code></pre>

<br>
<pre class="type-4 type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testParseLong5(){
  String value="9223372036854775806";
  byte[] bytes=value.getBytes();
  long result=Ascii.parseLong(bytes,0,bytes.length);
  Assert.assertEquals(value,String.valueOf(result));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestByteChunk </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIndexOf_Char() throws UnsupportedEncodingException {
  byte[] bytes="Hello\u00a0world".getBytes("ISO-8859-1");
  final int len=bytes.length;
  ByteChunk bc=new ByteChunk();
  bc.setBytes(bytes,0,len);
  assertEquals(0,bc.indexOf('H',0));
  assertEquals(6,bc.indexOf('w',0));
  assertEquals(-1,bc.indexOf('\u00a0',0));
  bc.setBytes(bytes,6,5);
  assertEquals(1,bc.indexOf('o',0));
  bc.setBytes(bytes,6,2);
  assertEquals(0,bc.indexOf('w',0));
  assertEquals(-1,bc.indexOf('d',0));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIndexOf_String() throws UnsupportedEncodingException {
  byte[] bytes="Hello\u00a0world".getBytes("ISO-8859-1");
  final int len=bytes.length;
  ByteChunk bc=new ByteChunk();
  bc.setBytes(bytes,0,len);
  assertEquals(0,bc.indexOf("Hello",0,"Hello".length(),0));
  assertEquals(2,bc.indexOf("ll",0,2,0));
  assertEquals(2,bc.indexOf("Hello",2,2,0));
  assertEquals(7,bc.indexOf("o",0,1,5));
  assertEquals(-1,bc.indexOf("\u00a0",0,1,0));
  bc.setBytes(bytes,6,5);
  assertEquals(1,bc.indexOf("o",0,1,0));
  bc.setBytes(bytes,6,2);
  assertEquals(0,bc.indexOf("wo",0,1,0));
  assertEquals(-1,bc.indexOf("d",0,1,0));
}

</code></pre>

<br>
<pre class="type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test @Deprecated public void testFindNotBytes() throws UnsupportedEncodingException {
  byte[] bytes="Hello\u00a0world".getBytes("ISO-8859-1");
  final int len=bytes.length;
  assertEquals(4,ByteChunk.findNotBytes(bytes,0,len,new byte[]{'l','e','H'}));
  assertEquals(-1,ByteChunk.findNotBytes(bytes,0,len,bytes));
  assertEquals(-1,ByteChunk.findNotBytes(bytes,2,3,new byte[]{'l','e','H'}));
}

</code></pre>

<br>
<pre class="type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testFindBytes() throws UnsupportedEncodingException {
  byte[] bytes="Hello\u00a0world".getBytes("ISO-8859-1");
  final int len=bytes.length;
  assertEquals(0,ByteChunk.findBytes(bytes,0,len,new byte[]{'H'}));
  assertEquals(5,ByteChunk.findBytes(bytes,0,len,new byte[]{(byte)'\u00a0','x'}));
  assertEquals(5,ByteChunk.findBytes(bytes,0,len - 4,new byte[]{'x',(byte)'\u00a0'}));
  assertEquals(len - 1,ByteChunk.findBytes(bytes,2,len,new byte[]{'x','d'}));
  assertEquals(1,ByteChunk.findBytes(bytes,0,len,new byte[]{'o','e'}));
  assertEquals(-1,ByteChunk.findBytes(bytes,2,5,new byte[]{'w'}));
}

</code></pre>

<br>
<pre class="type-1 type-18 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
/** 
 * Test for {@code findByte} vs. {@code indexOf} methods difference.
 * <p>
 * As discussed in the "Re: r944918" thread on dev@, {@codeByteChunk.indexOf()} works for 0-127 ASCII chars only, and cannot find
 * any chars outside of the range. {@code ByteChunk.findByte()} works for
 * any ISO-8859-1 chars.
 */
@Test public void testFindByte() throws UnsupportedEncodingException {
  byte[] bytes="Hello\u00a0world".getBytes("ISO-8859-1");
  final int len=bytes.length;
  assertEquals(5,ByteChunk.findByte(bytes,0,len,(byte)'\u00a0'));
  assertEquals(-1,ByteChunk.indexOf(bytes,0,len,'\u00a0'));
  assertEquals(0,ByteChunk.findByte(bytes,0,len,(byte)'H'));
  assertEquals(0,ByteChunk.indexOf(bytes,0,len,'H'));
  assertEquals(len - 1,ByteChunk.findByte(bytes,0,len,(byte)'d'));
  assertEquals(len - 1,ByteChunk.indexOf(bytes,0,len,'d'));
  assertEquals(-1,ByteChunk.findByte(bytes,0,len,(byte)'x'));
  assertEquals(-1,ByteChunk.indexOf(bytes,0,len,'x'));
  assertEquals(7,ByteChunk.findByte(bytes,5,len,(byte)'o'));
  assertEquals(7,ByteChunk.indexOf(bytes,5,len,'o'));
  assertEquals(-1,ByteChunk.findByte(bytes,2,5,(byte)'w'));
  assertEquals(-1,ByteChunk.indexOf(bytes,5,5,'w'));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.buf.TestHexUtils </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetDec(){
  assertEquals(0,HexUtils.getDec('0'));
  assertEquals(9,HexUtils.getDec('9'));
  assertEquals(10,HexUtils.getDec('a'));
  assertEquals(15,HexUtils.getDec('f'));
  assertEquals(10,HexUtils.getDec('A'));
  assertEquals(15,HexUtils.getDec('F'));
  assertEquals(-1,HexUtils.getDec(0));
  assertEquals(-1,HexUtils.getDec('Z'));
  assertEquals(-1,HexUtils.getDec(255));
  assertEquals(-1,HexUtils.getDec(-60));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.descriptor.TestLocalResolver </h4><pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void absoluteSystemIdOverridesBaseURI() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,null,"http://example.com/home.html",XmlIdentifiers.WEB_30_XSD);
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals(WEB_30_LOCAL,source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownRelativeSystemId() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,null,"http://example.com/home.html","unknown");
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals("http://example.com/unknown",source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 type-6 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=FileNotFoundException.class) public void unknownSystemId() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,"unknown");
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals("unknown",source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void relativeSystemIdIsResolvedAgainstBaseURI() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,null,WEB_30_LOCAL,"web-common_3_0.xsd");
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals(WEBCOMMON_30_LOCAL,source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void systemIdIsIgnoredWhenPublicIdIsResolved() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(XmlIdentifiers.WEB_22_PUBLIC,"unknown");
  Assert.assertEquals(XmlIdentifiers.WEB_22_PUBLIC,source.getPublicId());
  Assert.assertEquals(WEB_22_LOCAL,source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void systemIdIsResolved() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(null,XmlIdentifiers.WEB_30_XSD);
  Assert.assertEquals(null,source.getPublicId());
  Assert.assertEquals(WEB_30_LOCAL,source.getSystemId());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void publicIdIsResolved() throws IOException, SAXException {
  InputSource source=resolver.resolveEntity(XmlIdentifiers.WEB_22_PUBLIC,XmlIdentifiers.WEB_22_SYSTEM);
  Assert.assertEquals(XmlIdentifiers.WEB_22_PUBLIC,source.getPublicId());
  Assert.assertEquals(WEB_22_LOCAL,source.getSystemId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestBug49158 </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Override @Test public void testCookiesInstance() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  addServlets(tomcat);
  tomcat.start();
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  ByteChunk res=new ByteChunk();
  getUrl("http://localhost:" + getPort() + "/"+ path,res,headers);
  List<String> cookieHeaders=headers.get("Set-Cookie");
  assertEquals("There should only be one Set-Cookie header in this test",1,cookieHeaders.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestCookiesDefaultSysProps </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Override @Test public void testCookiesInstance() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  addServlets(tomcat);
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/invalid");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/null");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/blank");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidFwd");
  assertEquals("Cookie name ok",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidStrict");
  assertEquals("Cookie name ok",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/valid");
  assertEquals("Cookie name ok",res.toString());
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/switch",res,headers);
  List<String> cookieHeaders=headers.get("Set-Cookie");
  for (  String cookieHeader : cookieHeaders) {
    assertEquals("name=\"val?ue\"; Version=1",cookieHeader);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestCookiesNoFwdStrictSysProps </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Override @Test public void testCookiesInstance() throws Exception {
  System.setProperty("org.apache.catalina.STRICT_SERVLET_COMPLIANCE","true");
  System.setProperty("org.apache.tomcat.util.http.ServerCookie.FWD_SLASH_IS_SEPARATOR","false");
  Tomcat tomcat=getTomcatInstance();
  addServlets(tomcat);
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/invalid");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/null");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/blank");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidFwd");
  assertEquals("Cookie name ok",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidStrict");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/valid");
  assertEquals("Cookie name ok",res.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestCookiesNoStrictNamingSysProps </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Override @Test public void testCookiesInstance() throws Exception {
  System.setProperty("org.apache.catalina.STRICT_SERVLET_COMPLIANCE","true");
  System.setProperty("org.apache.tomcat.util.http.ServerCookie.STRICT_NAMING","false");
  Tomcat tomcat=getTomcatInstance();
  addServlets(tomcat);
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/invalid");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/null");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/blank");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidFwd");
  assertEquals("Cookie name ok",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidStrict");
  assertEquals("Cookie name ok",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/valid");
  assertEquals("Cookie name ok",res.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestCookiesStrictSysProps </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Override @Test public void testCookiesInstance() throws Exception {
  System.setProperty("org.apache.catalina.STRICT_SERVLET_COMPLIANCE","true");
  Tomcat tomcat=getTomcatInstance();
  addServlets(tomcat);
  tomcat.start();
  ByteChunk res=getUrl("http://localhost:" + getPort() + "/invalid");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/null");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/blank");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidFwd");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/invalidStrict");
  assertEquals("Cookie name fail",res.toString());
  res=getUrl("http://localhost:" + getPort() + "/valid");
  assertEquals("Cookie name ok",res.toString());
  Map<String,List<String>> headers=new HashMap<String,List<String>>();
  getUrl("http://localhost:" + getPort() + "/switch",res,headers);
  List<String> cookieHeaders=headers.get("Set-Cookie");
  for (  String cookieHeader : cookieHeaders) {
    assertEquals("name=\"val?ue\"; Version=1",cookieHeader);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.TestParameters </h4><pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParametersLimit(){
  Parameters p=new Parameters();
  p.setLimit(2);
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo1");
  assertNull(values);
  p.addParameter("foo1","value1");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  p.addParameter("foo2","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
  IllegalStateException e=null;
  try {
    p.addParameter("foo3","value3");
  }
 catch (  IllegalStateException ise) {
    e=ise;
  }
  assertNotNull(e);
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo1",names.nextElement());
  assertEquals("foo2",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo1");
  assertEquals(1,values.length);
  assertEquals("value1",values[0]);
  values=p.getParameterValues("foo2");
  assertEquals(1,values.length);
  assertEquals("value2",values[0]);
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddParameters(){
  Parameters p=new Parameters();
  Enumeration<String> names=p.getParameterNames();
  assertFalse(names.hasMoreElements());
  String[] values=p.getParameterValues("foo");
  assertNull(values);
  p.addParameter("foo","value1");
  p.addParameter("foo","value2");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(2,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  p.addParameter("foo","value3");
  p.addParameter("foo","value4");
  names=p.getParameterNames();
  assertTrue(names.hasMoreElements());
  assertEquals("foo",names.nextElement());
  assertFalse(names.hasMoreElements());
  values=p.getParameterValues("foo");
  assertEquals(4,values.length);
  assertEquals("value1",values[0]);
  assertEquals("value2",values[1]);
  assertEquals("value3",values[2]);
  assertEquals("value4",values[3]);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInternal(){
  assertEquals("foo1=bar1",SIMPLE.toString());
  assertEquals("foo2=bar1&foo2=bar2&foo2=hello+world&foo2=%3F%25%40",SIMPLE_MULTIPLE.toString());
  assertEquals("foo3",NO_VALUE.toString());
  assertEquals("foo4=",EMPTY_VALUE.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapper </h4><pre class="type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddRemoveContextVersion() throws Exception {
  final String hostName="iowejoiejfoiew";
  final int iowPos=3;
  final String contextPath="/foo/bar";
  final int contextPos=2;
  MappingData mappingData=new MappingData();
  MessageBytes hostMB=MessageBytes.newInstance();
  MessageBytes uriMB=MessageBytes.newInstance();
  hostMB.setString(hostName);
  uriMB.setString("/foo/bar/blah/bobou/foo");
  Mapper.Host mappedHost=mapper.hosts[iowPos];
  assertEquals(hostName,mappedHost.name);
  Mapper.Context mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  Object oldHost=mappedHost.object;
  Object oldContext=mappedContext.versions[0].object;
  assertEquals("context2",oldContext.toString());
  Object oldContext1=mappedHost.contextList.contexts[contextPos - 1].versions[0].object;
  assertEquals("context1",oldContext1.toString());
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext2.map(uriMB,mappingData);
  assertEquals("wrapper5",mappingData.wrapper.toString());
  Object newContext="newContext";
  mapper.addContextVersion(hostName,oldHost,contextPath,"1",newContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newContext-default",false,false)}),false,false);
  assertEquals(2,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  assertEquals("1",mappedContext.versions[1].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-default",mappingData.wrapper.toString());
  mapper.removeContextVersion(hostName,contextPath,"0");
  assertEquals(1,mappedContext.versions.length);
  assertEquals("1",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-default",mappingData.wrapper.toString());
  mapper.removeContextVersion(hostName,contextPath,"1");
  assertNotSame(mappedContext,mappedHost.contextList.contexts[contextPos]);
  assertEquals("/foo/bar/bla",mappedHost.contextList.contexts[contextPos].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("context1",mappingData.context.toString());
  assertEquals("context1-defaultWrapper",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext1.map(uriMB,mappingData);
  assertEquals("context1-defaultWrapper",mappingData.wrapper.toString());
  mapper.addContextVersion(hostName,oldHost,contextPath,"0",newContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newContext-defaultWrapper2",false,false)}),false,false);
  mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("newContext",mappingData.context.toString());
  assertEquals("newContext-defaultWrapper2",mappingData.wrapper.toString());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMap() throws Exception {
  MappingData mappingData=new MappingData();
  MessageBytes host=MessageBytes.newInstance();
  host.setString("iowejoiejfoiew");
  MessageBytes alias=MessageBytes.newInstance();
  alias.setString("iowejoiejfoiew_alias");
  MessageBytes uri=MessageBytes.newInstance();
  uri.setString("/foo/bar/blah/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context2",mappingData.context);
  assertEquals("wrapper5",mappingData.wrapper);
  assertEquals("/foo/bar",mappingData.contextPath.toString());
  assertEquals("/blah/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(host,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
  mappingData.recycle();
  uri.setString("/foo/bar/bla/bobou/foo");
  uri.toChars();
  uri.getCharChunk().setLimit(-1);
  mapper.map(alias,uri,null,mappingData);
  assertEquals("blah7",mappingData.host);
  assertEquals("context3",mappingData.context);
  assertEquals("wrapper7",mappingData.wrapper);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  assertEquals("/bobou",mappingData.wrapperPath.toString());
  assertEquals("/foo",mappingData.pathInfo.toString());
  assertTrue(mappingData.redirectPath.isNull());
}

</code></pre>

<br>
<pre class="type-8 type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddHost() throws Exception {
  mapper.addHost("iowejoiejfoiew",new String[0],"blah17");
  mapper.addHostAlias("iowejoiejfoiew","qwigqwiwoih");
  mapper.addHostAlias("sjbjdvwsbvhrb","iowejoiejfoiew_alias");
  mapper.addHostAlias("qwigqwiwoih","qwigqwiwoih");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  assertEquals("blah7",mapper.hosts[iowPos].object);
  final int qwigPos=8;
  assertEquals("blah14",mapper.hosts[qwigPos].object);
  String previous;
  String current=mapper.hosts[0].name;
  for (int i=1; i < mapper.hosts.length; i++) {
    previous=current;
    current=mapper.hosts[i].name;
    assertTrue(previous.compareTo(current) < 0);
  }
  Mapper.Host host=mapper.hosts[iowPos];
  Mapper.Host alias=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew",host.name);
  assertEquals("iowejoiejfoiew_alias",alias.name);
  assertFalse(host.isAlias());
  assertTrue(alias.isAlias());
  assertEquals(host.object,alias.object);
  Object hostZ="zzzz";
  Object contextZ="contextZ";
  assertEquals(16,mapper.hosts.length);
  mapper.addContextVersion("zzzz",hostZ,"/","",contextZ,null,null,null,false,false);
  assertEquals(17,mapper.hosts.length);
  mapper.addHost("zzzz",new String[]{"zzzz_alias1","zzzz_alias2"},hostZ);
  assertEquals(19,mapper.hosts.length);
  assertEquals("zzzz",mapper.hosts[16].name);
  assertEquals("zzzz_alias1",mapper.hosts[17].name);
  assertEquals("zzzz_alias2",mapper.hosts[18].name);
  assertEquals(2,mapper.hosts[16].getAliases().size());
  assertSame(contextZ,mapper.hosts[16].contextList.contexts[0].versions[0].object);
  assertSame(contextZ,mapper.hosts[18].contextList.contexts[0].versions[0].object);
}

</code></pre>

<br>
<pre class="type-8 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContextListConcurrencyBug56653() throws Exception {
  final Object host=new Object();
  final Object contextRoot=new Object();
  final Object context1=new Object();
  final Object context2=new Object();
  final Object context3=new Object();
  final Object context4=new Object();
  mapper.addHost("localhost",new String[]{"alias"},host);
  mapper.setDefaultHostName("localhost");
  mapper.addContextVersion("localhost",host,"","0",contextRoot,new String[0],null,null,false,false);
  mapper.addContextVersion("localhost",host,"/foo","0",context1,new String[0],null,null,false,false);
  mapper.addContextVersion("localhost",host,"/foo/bar","0",context2,new String[0],null,null,false,false);
  mapper.addContextVersion("localhost",host,"/foo/bar/bla","0",context3,new String[0],null,null,false,false);
  mapper.addContextVersion("localhost",host,"/foo/bar/bla/baz","0",context4,new String[0],null,null,false,false);
  final AtomicBoolean running=new AtomicBoolean(true);
  Thread t=new Thread(){
    @Override public void run(){
      for (int i=0; i < 100000; i++) {
        mapper.removeContextVersion("localhost","/foo/bar/bla/baz","0");
        mapper.addContextVersion("localhost",host,"/foo/bar/bla/baz","0",context4,new String[0],null,null,false,false);
      }
      running.set(false);
    }
  }
;
  MappingData mappingData=new MappingData();
  MessageBytes hostMB=MessageBytes.newInstance();
  hostMB.setString("localhost");
  MessageBytes aliasMB=MessageBytes.newInstance();
  aliasMB.setString("alias");
  MessageBytes uriMB=MessageBytes.newInstance();
  char[] uri="/foo/bar/bla/bobou/foo".toCharArray();
  uriMB.setChars(uri,0,uri.length);
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  mappingData.recycle();
  uriMB.setChars(uri,0,uri.length);
  mapper.map(aliasMB,uriMB,null,mappingData);
  assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  t.start();
  while (running.get()) {
    mappingData.recycle();
    uriMB.setChars(uri,0,uri.length);
    mapper.map(hostMB,uriMB,null,mappingData);
    assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
    mappingData.recycle();
    uriMB.setChars(uri,0,uri.length);
    mapper.map(aliasMB,uriMB,null,mappingData);
    assertEquals("/foo/bar/bla",mappingData.contextPath.toString());
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 type-5 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReloadContextVersion() throws Exception {
  final String hostName="iowejoiejfoiew";
  final int iowPos=3;
  final String contextPath="/foo/bar";
  final int contextPos=2;
  MappingData mappingData=new MappingData();
  MessageBytes hostMB=MessageBytes.newInstance();
  MessageBytes uriMB=MessageBytes.newInstance();
  hostMB.setString(hostName);
  uriMB.setString("/foo/bar/blah/bobou/foo");
  Mapper.Host mappedHost=mapper.hosts[iowPos];
  assertEquals(hostName,mappedHost.name);
  Mapper.Context mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  Object oldHost=mappedHost.object;
  Object oldContext=mappedContext.versions[0].object;
  assertEquals("context2",oldContext.toString());
  Object oldContext1=mappedHost.contextList.contexts[contextPos - 1].versions[0].object;
  assertEquals("context1",oldContext1.toString());
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mappingData.recycle();
  mapperForContext2.map(uriMB,mappingData);
  assertEquals("wrapper5",mappingData.wrapper.toString());
  mapper.pauseContextVersion(oldContext,hostName,contextPath,"0");
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertNull(mappingData.wrapper);
  mapper.addContextVersion(hostName,oldHost,contextPath,"0",oldContext,null,null,Arrays.asList(new WrapperMappingInfo[]{new WrapperMappingInfo("/","newDefaultWrapper",false,false)}),false,false);
  mappedContext=mappedHost.contextList.contexts[contextPos];
  assertEquals(contextPath,mappedContext.name);
  assertEquals(1,mappedContext.versions.length);
  assertEquals("0",mappedContext.versions[0].name);
  mappingData.recycle();
  mapper.map(hostMB,uriMB,null,mappingData);
  assertEquals("blah7",mappingData.host.toString());
  assertEquals("context2",mappingData.context.toString());
  assertEquals("newDefaultWrapper",mappingData.wrapper.toString());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-14 type-1 type-18 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveHost(){
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew");
  mapper.removeHost("iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  mapper.removeHostAlias("iowejoiejfoiew_alias");
  assertEquals(15,mapper.hosts.length);
  mapper.addHostAlias("iowejoiejfoiew","iowejoiejfoiew_alias");
  assertEquals(16,mapper.hosts.length);
  final int iowPos=3;
  Mapper.Host hostMapping=mapper.hosts[iowPos];
  Mapper.Host aliasMapping=mapper.hosts[iowPos + 1];
  assertEquals("iowejoiejfoiew_alias",aliasMapping.name);
  assertTrue(aliasMapping.isAlias());
  assertSame(hostMapping.object,aliasMapping.object);
  assertEquals("iowejoiejfoiew",hostMapping.getRealHostName());
  assertEquals("iowejoiejfoiew",aliasMapping.getRealHostName());
  assertSame(hostMapping,hostMapping.getRealHost());
  assertSame(hostMapping,aliasMapping.getRealHost());
  mapper.removeHost("iowejoiejfoiew");
  assertEquals(14,mapper.hosts.length);
  for (  Mapper.Host host : mapper.hosts) {
    assertTrue(host.name,!host.name.startsWith("iowejoiejfoiew"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.mapper.TestMapperWebapps </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileNotStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("Servlet"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWelcomeFileStrict() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  File appDir=new File("test/webapp-3.0");
  StandardContext ctxt=(StandardContext)tomcat.addWebapp(null,"/test",appDir.getAbsolutePath());
  ctxt.setReplaceWelcomeFiles(true);
  ctxt.addWelcomeFile("index.jsp");
  ctxt.addWelcomeFile("index.do");
  ctxt.setResourceOnlyServlets("");
  tomcat.start();
  ByteChunk bc=new ByteChunk();
  int rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_OK,rc);
  Assert.assertTrue(bc.toString().contains("JSP"));
  rc=getUrl("http://localhost:" + getPort() + "/test/welcome-files/sub",bc,new HashMap<String,List<String>>());
  Assert.assertEquals(HttpServletResponse.SC_NOT_FOUND,rc);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContextRoot_Bug53339() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  tomcat.enableNaming();
  Context ctx=tomcat.addContext("",null);
  Tomcat.addServlet(ctx,"Bug53356",new Bug53356Servlet());
  ctx.addServletMapping("","Bug53356");
  tomcat.start();
  ByteChunk body=getUrl("http://localhost:" + getPort());
  Assert.assertEquals("OK",body.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.parser.TestAuthorizationDigest </h4><pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEndWithLhex() throws Exception {
  String header="Digest nc=00000001";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("00000001",result.get("nc"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54060b() throws Exception {
  String header="Digest username=\"mthornton\", " + "realm=\"optrak.com\", " + "nonce=\"1351427480964:a01c16fed5168d72a2b5267395a2022e\", "+ "uri=\"/files\", "+ "algorithm=MD5, "+ "response=\"f310c44b87efc0bc0a7aab7096fd36b6\", "+ "opaque=\"DB85C1A73933A7EB586D10E4BF2924EF\", "+ "cnonce=\"MHg3ZjA3ZGMwMTUwMTA6NzI2OToxMzUxNDI3NDgw\", "+ "nc=00000001, "+ "qop=auth";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("mthornton",result.get("username"));
  Assert.assertEquals("optrak.com",result.get("realm"));
  Assert.assertEquals("1351427480964:a01c16fed5168d72a2b5267395a2022e",result.get("nonce"));
  Assert.assertEquals("/files",result.get("uri"));
  Assert.assertEquals("MD5",result.get("algorithm"));
  Assert.assertEquals("f310c44b87efc0bc0a7aab7096fd36b6",result.get("response"));
  Assert.assertEquals("DB85C1A73933A7EB586D10E4BF2924EF",result.get("opaque"));
  Assert.assertEquals("MHg3ZjA3ZGMwMTUwMTA6NzI2OToxMzUxNDI3NDgw",result.get("cnonce"));
  Assert.assertEquals("00000001",result.get("nc"));
  Assert.assertEquals("auth",result.get("qop"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthParamB() throws Exception {
  String header="Digest a=\"b\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("b",result.get("a"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54060a() throws Exception {
  String header="Digest username=\"mthornton\", " + "realm=\"optrak.com\", " + "nonce=\"1351427243671:c1d6360150712149bae931a3ed7cb498\", "+ "uri=\"/files/junk.txt\", "+ "response=\"c5c2410bfc46753e83a8f007888b0d2e\", "+ "opaque=\"DB85C1A73933A7EB586D10E4BF2924EF\", "+ "qop=auth, "+ "nc=00000001, "+ "cnonce=\"9926cb3c334ede11\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("mthornton",result.get("username"));
  Assert.assertEquals("optrak.com",result.get("realm"));
  Assert.assertEquals("1351427243671:c1d6360150712149bae931a3ed7cb498",result.get("nonce"));
  Assert.assertEquals("/files/junk.txt",result.get("uri"));
  Assert.assertEquals("c5c2410bfc46753e83a8f007888b0d2e",result.get("response"));
  Assert.assertEquals("DB85C1A73933A7EB586D10E4BF2924EF",result.get("opaque"));
  Assert.assertEquals("auth",result.get("qop"));
  Assert.assertEquals("00000001",result.get("nc"));
  Assert.assertEquals("9926cb3c334ede11",result.get("cnonce"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQuotedLhex() throws Exception {
  String header="Digest nc=\"09abcdef\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("09abcdef",result.get("nc"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTokenQop() throws Exception {
  String header="Digest qop=auth";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("auth",result.get("qop"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54060d() throws Exception {
  String header="Digest username=\"mthornton\"," + "qop=auth," + "cnonce=\"9926cb3c334ede11\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("mthornton",result.get("username"));
  Assert.assertEquals("auth",result.get("qop"));
  Assert.assertEquals("9926cb3c334ede11",result.get("cnonce"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseAuthParamA() throws Exception {
  String header="Digest a=b";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("b",result.get("a"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQuotedLhexUppercase() throws Exception {
  String header="Digest nc=\"00ABCDEF\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("00abcdef",result.get("nc"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQuotedTokenQop() throws Exception {
  String header="Digest qop=\"auth\"";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("auth",result.get("qop"));
}

</code></pre>

<br>
<pre class="type-4 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54060c() throws Exception {
  String header="Digest username=\"mthornton\", qop=auth";
  StringReader input=new StringReader(header);
  Map<String,String> result=HttpParser.parseAuthorizationDigest(input);
  Assert.assertEquals("mthornton",result.get("username"));
  Assert.assertEquals("auth",result.get("qop"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.http.parser.TestMediaType </h4><pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug53353() throws IOException {
  String input="text/html; UTF-8;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 2);
  assertEquals("",m.getParameterValue("UTF-8"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
  assertEquals("UTF-8",m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug52811() throws IOException {
  String input="multipart/related;boundary=1_4F50BD36_CDF8C28;" + "Start=\"<31671603.smil>\";" + "Type=\"application/smil;charset=UTF-8\"";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("multipart",m.getType());
  assertEquals("related",m.getSubtype());
  assertTrue(m.getParameterCount() == 3);
  assertEquals("1_4F50BD36_CDF8C28",m.getParameterValue("boundary"));
  assertEquals("\"<31671603.smil>\"",m.getParameterValue("Start"));
  assertEquals("\"application/smil;charset=UTF-8\"",m.getParameterValue("Type"));
  String expected="multipart/related; boundary=1_4F50BD36_CDF8C28; " + "start=\"<31671603.smil>\"; " + "type=\"application/smil;charset=UTF-8\"";
  assertEquals(expected,m.toString());
  assertEquals(expected,m.toStringNoCharset());
  assertNull(m.getCharset());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCharset() throws IOException {
  StringBuilder sb=new StringBuilder();
  sb.append(TYPES);
  sb.append(PARAM_CHARSET);
  sb.append(PARAM_TOKEN);
  StringReader sr=new StringReader(sb.toString());
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("foo/bar; charset=UTF-8; a=b",m.toString());
  assertEquals(CHARSET,m.getCharset());
  assertEquals("foo/bar; a=b",m.toStringNoCharset());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCase() throws Exception {
  StringReader sr=new StringReader("type/sub-type;a=1;B=2");
  MediaType m=HttpParser.parseMediaType(sr);
  Assert.assertEquals("1",m.getParameterValue("A"));
  Assert.assertEquals("1",m.getParameterValue("a"));
  Assert.assertEquals("2",m.getParameterValue("B"));
  Assert.assertEquals("2",m.getParameterValue("b"));
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug55454() throws IOException {
  String input="text/html;;charset=UTF-8";
  StringReader sr=new StringReader(input);
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals("text",m.getType());
  assertEquals("html",m.getSubtype());
  assertTrue(m.getParameterCount() == 1);
  assertEquals("UTF-8",m.getParameterValue("charset"));
  assertEquals("UTF-8",m.getCharset());
  assertEquals("text/html; charset=UTF-8",m.toString());
}

</code></pre>

<br>
<pre class="type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCharsetQuoted() throws IOException {
  StringBuilder sb=new StringBuilder();
  sb.append(TYPES);
  sb.append(PARAM_CHARSET_QUOTED);
  StringReader sr=new StringReader(sb.toString());
  MediaType m=HttpParser.parseMediaType(sr);
  assertEquals(CHARSET_WS,m.getCharset());
  assertEquals(TYPES.replaceAll(" ",""),m.toStringNoCharset());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.util.threads.TestLimitLatch </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadWaitCountUp() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.countDown();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTenWait() throws Exception {
  LimitLatch latch=new LimitLatch(10);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread[] testThread=new TestThread[30];
  for (int i=0; i < 30; i++) {
    testThread[i]=new TestThread(latch,1000);
    testThread[i].start();
  }
  Thread.sleep(50);
  assertEquals("20 threads should be waiting",20,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertEquals("10 threads should be waiting",10,latch.getQueuedThreads().size());
  Thread.sleep(1000);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneThreadNoWait() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  testThread.start();
  Thread.sleep(50);
  assertEquals("0 threads should be waiting",0,latch.getQueuedThreads().size());
  latch.countUpOrAwait();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneRelease() throws Exception {
  LimitLatch latch=new LimitLatch(1);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
  Thread testThread=new TestThread(latch);
  latch.countUpOrAwait();
  testThread.start();
  Thread.sleep(50);
  assertEquals("1 threads should be waiting",1,latch.getQueuedThreads().size());
  latch.releaseAll();
  Thread.sleep(50);
  assertFalse("No threads should be waiting",latch.hasQueuedThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestUtil </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeGenericMultipleSubclassSwap(){
  Assert.assertEquals(String.class,Util.getEncoderType(GenericMultipleSubSubSwapEncoder.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeGenericMultipleSubclass(){
  Assert.assertEquals(String.class,Util.getEncoderType(GenericMultipleSubSubEncoder.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessageTypeSubclass(){
  Assert.assertEquals(String.class,Util.getMessageType(new SubSimpleMessageHandler()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeSubclass(){
  Assert.assertEquals(String.class,Util.getEncoderType(SubSimpleEncoder.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessageTypeGenericMultipleSubclass(){
  Assert.assertEquals(String.class,Util.getMessageType(new GenericMultipleSubSubMessageHandler()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenericArraySubEncoderString(){
  Assert.assertEquals(String[][].class,Util.getEncoderType(GenericArraySubEncoderString.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeGenericSubclass(){
  Assert.assertEquals(String.class,Util.getEncoderType(GenericSubEncoder.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessageTypeSimple(){
  Assert.assertEquals(String.class,Util.getMessageType(new SimpleMessageHandler()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeSimpleWithGenericType(){
  Assert.assertEquals(List.class,Util.getEncoderType(SimpleEncoderWithGenericType.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessageTypeGenericMultipleSubclassSwap(){
  Assert.assertEquals(String.class,Util.getMessageType(new GenericMultipleSubSubSwapMessageHandler()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenericArrayEncoderString(){
  Assert.assertEquals(String[].class,Util.getEncoderType(GenericArrayEncoderString.class));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMessageTypeGenericSubclass(){
  Assert.assertEquals(String.class,Util.getMessageType(new GenericSubMessageHandler()));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetEncoderTypeSimple(){
  Assert.assertEquals(String.class,Util.getEncoderType(SimpleEncoder.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWebSocketFrameClient </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConnectToServerEndpoint() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterFirehoseServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  ClientEndpointConfig clientEndpointConfig=ClientEndpointConfig.Builder.create().build();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,clientEndpointConfig,new URI("ws://localhost:" + getPort() + TesterFirehoseServer.Config.PATH));
  CountDownLatch latch=new CountDownLatch(TesterFirehoseServer.MESSAGE_COUNT);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText("Hello");
  System.out.println("Sent Hello message, waiting for data");
  handler.getLatch().await(TesterFirehoseServer.WAIT_TIME_MILLIS,TimeUnit.MILLISECONDS);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(TesterFirehoseServer.MESSAGE_COUNT,messages.size());
  for (  String message : messages) {
    Assert.assertEquals(TesterFirehoseServer.MESSAGE,message);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWebSocketFrameClientSSL </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testConnectToServerEndpointSSL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterFirehoseServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  ClientEndpointConfig clientEndpointConfig=ClientEndpointConfig.Builder.create().build();
  URL truststoreUrl=this.getClass().getClassLoader().getResource("org/apache/tomcat/util/net/ca.jks");
  File truststoreFile=new File(truststoreUrl.toURI());
  clientEndpointConfig.getUserProperties().put(WsWebSocketContainer.SSL_TRUSTSTORE_PROPERTY,truststoreFile.getAbsolutePath());
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,clientEndpointConfig,new URI("wss://localhost:" + getPort() + TesterFirehoseServer.Config.PATH));
  CountDownLatch latch=new CountDownLatch(TesterFirehoseServer.MESSAGE_COUNT);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText("Hello");
  System.out.println("Sent Hello message, waiting for data");
  handler.getLatch().await(TesterFirehoseServer.WAIT_TIME_MILLIS,TimeUnit.MILLISECONDS);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(TesterFirehoseServer.MESSAGE_COUNT,messages.size());
  for (  String message : messages) {
    Assert.assertEquals(TesterFirehoseServer.MESSAGE,message);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsFrame </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteArrayToLong() throws IOException {
  Assert.assertEquals(0L,WsFrameBase.byteArrayToLong(new byte[]{0},0,1));
  Assert.assertEquals(1L,WsFrameBase.byteArrayToLong(new byte[]{1},0,1));
  Assert.assertEquals(0xFF,WsFrameBase.byteArrayToLong(new byte[]{-1},0,1));
  Assert.assertEquals(0xFFFF,WsFrameBase.byteArrayToLong(new byte[]{-1,-1},0,2));
  Assert.assertEquals(0xFFFFFF,WsFrameBase.byteArrayToLong(new byte[]{-1,-1,-1},0,3));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testByteArrayToLongOffset() throws IOException {
  Assert.assertEquals(0L,WsFrameBase.byteArrayToLong(new byte[]{20,0},1,1));
  Assert.assertEquals(1L,WsFrameBase.byteArrayToLong(new byte[]{20,1},1,1));
  Assert.assertEquals(0xFF,WsFrameBase.byteArrayToLong(new byte[]{20,-1},1,1));
  Assert.assertEquals(0xFFFF,WsFrameBase.byteArrayToLong(new byte[]{20,-1,-1},1,2));
  Assert.assertEquals(0xFFFFFF,WsFrameBase.byteArrayToLong(new byte[]{20,-1,-1,-1},1,3));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsPingPongMessages </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPingPongMessages() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://localhost:" + getPort() + TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  TesterEndpoint tep=(TesterEndpoint)wsSession.getUserProperties().get("endpoint");
  tep.setLatch(latch);
  PongMessageHandler handler=new PongMessageHandler(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendPing(applicationData);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Assert.assertArrayEquals(applicationData.array(),(handler.getMessages().peek()).getApplicationData().array());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsSubprotocols </h4><pre class="type-10 type-3 type-11 type-1 type-5 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWsSubprotocols() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp3")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  if (wsSession.getNegotiatedSubprotocol() != null) {
    Assert.assertTrue(wsSession.getNegotiatedSubprotocol().isEmpty());
  }
  wsSession.close();
  SubProtocolsEndpoint.recycle();
  wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().preferredSubprotocols(Arrays.asList("sp2")).build(),new URI("ws://localhost:" + getPort() + SubProtocolsEndpoint.PATH_BASIC));
  Assert.assertTrue(wsSession.isOpen());
  Assert.assertEquals("sp2",wsSession.getNegotiatedSubprotocol());
  int count=0;
  while (count < 50 && SubProtocolsEndpoint.subprotocols == null) {
    count++;
    Thread.sleep(100);
  }
  Assert.assertNotNull(SubProtocolsEndpoint.subprotocols);
  Assert.assertArrayEquals(new String[]{"sp1","sp2"},SubProtocolsEndpoint.subprotocols.toArray(new String[2]));
  wsSession.close();
  SubProtocolsEndpoint.recycle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.TestWsWebSocketContainer </h4><pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpoint() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxBinaryMessageBufferSize(64);
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,ClientEndpointConfig.Builder.create().build(),new URI("ws://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
  ((WsWebSocketContainer)wsContainer).destroy();
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectToServerEndpointSSL() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  TesterSupport.initSsl(tomcat);
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  ClientEndpointConfig clientEndpointConfig=ClientEndpointConfig.Builder.create().build();
  URL truststoreUrl=this.getClass().getClassLoader().getResource("org/apache/tomcat/util/net/ca.jks");
  File truststoreFile=new File(truststoreUrl.toURI());
  clientEndpointConfig.getUserProperties().put(WsWebSocketContainer.SSL_TRUSTSTORE_PROPERTY,truststoreFile.getAbsolutePath());
  Session wsSession=wsContainer.connectToServer(TesterProgrammaticEndpoint.class,clientEndpointConfig,new URI("wss://" + getHostName() + ":"+ getPort()+ TesterEchoServer.Config.PATH_ASYNC));
  CountDownLatch latch=new CountDownLatch(1);
  BasicText handler=new BasicText(latch);
  wsSession.addMessageHandler(handler);
  wsSession.getBasicRemote().sendText(MESSAGE_STRING_1);
  boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
  Assert.assertTrue(latchResult);
  Queue<String> messages=handler.getMessages();
  Assert.assertEquals(1,messages.size());
  Assert.assertEquals(MESSAGE_STRING_1,messages.peek());
}

</code></pre>

<br>
<pre class="type-4 type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetOpenSessions() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  EndpointA endpointA=new EndpointA();
  Session s1a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s2a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  EndpointB endpointB=new EndpointB();
  Session s1b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Session s2b=connectToEchoServer(wsContainer,endpointB,TesterEchoServer.Config.PATH_BASIC);
  Set<Session> setA=s3a.getOpenSessions();
  Assert.assertEquals(3,setA.size());
  Assert.assertTrue(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  s1a.close();
  setA=s3a.getOpenSessions();
  Assert.assertEquals(2,setA.size());
  Assert.assertFalse(setA.remove(s1a));
  Assert.assertTrue(setA.remove(s2a));
  Assert.assertTrue(setA.remove(s3a));
  Set<Session> setB=s1b.getOpenSessions();
  Assert.assertEquals(2,setB.size());
  Assert.assertTrue(setB.remove(s1b));
  Assert.assertTrue(setB.remove(s2b));
}

</code></pre>

<br>
<pre class="type-4 type-10 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSessionExpiryContainer() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WsWebSocketContainer wsContainer=(WsWebSocketContainer)ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxSessionIdleTimeout(5000);
  wsContainer.setProcessPeriod(1);
  EndpointA endpointA=new EndpointA();
  connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  Set<Session> setA=s3a.getOpenSessions();
  Assert.assertEquals(3,setA.size());
  int count=0;
  boolean isOpen=true;
  while (isOpen && count < 8) {
    count++;
    Thread.sleep(1000);
    isOpen=false;
    for (    Session session : setA) {
      if (session.isOpen()) {
        isOpen=true;
        break;
      }
    }
  }
  if (isOpen) {
    for (    Session session : setA) {
      if (session.isOpen()) {
        System.err.println("Session with ID [" + session.getId() + "] is open");
      }
    }
    Assert.fail("There were open sessions");
  }
}

</code></pre>

<br>
<pre class="type-8 type-4 type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSessionExpirySession() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(TesterEchoServer.Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  WsWebSocketContainer wsContainer=(WsWebSocketContainer)ContainerProvider.getWebSocketContainer();
  wsContainer.setDefaultMaxSessionIdleTimeout(5000);
  wsContainer.setProcessPeriod(1);
  EndpointA endpointA=new EndpointA();
  Session s1a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  s1a.setMaxIdleTimeout(3000);
  Session s2a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  s2a.setMaxIdleTimeout(6000);
  Session s3a=connectToEchoServer(wsContainer,endpointA,TesterEchoServer.Config.PATH_BASIC);
  s3a.setMaxIdleTimeout(9000);
  Set<Session> setA=s3a.getOpenSessions();
  int expected=3;
  while (expected > 0) {
    Assert.assertEquals(expected,getOpenCount(setA));
    int count=0;
    while (getOpenCount(setA) == expected && count < 5) {
      count++;
      Thread.sleep(1000);
    }
    expected--;
  }
  Assert.assertEquals(0,getOpenCount(setA));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.pojo.TestEncodingDecoding </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAnnotatedEndPoints() throws Exception {
  Server server=new Server();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(Server.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Client client=new Client();
  URI uri=new URI("ws://localhost:" + getPort() + PATH_ANNOTATED_EP);
  Session session=wsContainer.connectToServer(client,uri);
  MsgString msg1=new MsgString();
  msg1.setData(MESSAGE_ONE);
  session.getBasicRemote().sendObject(msg1);
  int i=0;
  while (i < 20) {
    if (server.received.size() > 0 && client.received.size() > 0) {
      break;
    }
    Thread.sleep(100);
  }
  Assert.assertEquals(1,server.received.size());
  Assert.assertEquals(1,client.received.size());
  Assert.assertEquals(MESSAGE_ONE,((MsgString)server.received.peek()).getData());
  Assert.assertEquals(MESSAGE_ONE,((MsgString)client.received.peek()).getData());
  session.close();
  i=testEvent(MsgStringEncoder.class.getName() + ":init",0);
  i=testEvent(MsgStringDecoder.class.getName() + ":init",i);
  i=testEvent(MsgByteEncoder.class.getName() + ":init",i);
  i=testEvent(MsgByteDecoder.class.getName() + ":init",i);
  i=testEvent(MsgStringEncoder.class.getName() + ":destroy",i);
  i=testEvent(MsgStringDecoder.class.getName() + ":destroy",i);
  i=testEvent(MsgByteEncoder.class.getName() + ":destroy",i);
  i=testEvent(MsgByteDecoder.class.getName() + ":destroy",i);
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProgrammaticEndPoints() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ProgramaticServerEndpointConfig.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Client client=new Client();
  URI uri=new URI("ws://localhost:" + getPort() + PATH_PROGRAMMATIC_EP);
  Session session=wsContainer.connectToServer(client,uri);
  MsgString msg1=new MsgString();
  msg1.setData(MESSAGE_ONE);
  session.getBasicRemote().sendObject(msg1);
  int i=0;
  while (i < 20) {
    if (MsgStringMessageHandler.received.size() > 0 && client.received.size() > 0) {
      break;
    }
    Thread.sleep(100);
    i++;
  }
  Assert.assertEquals(1,MsgStringMessageHandler.received.size());
  Assert.assertEquals(1,client.received.size());
  Assert.assertEquals(MESSAGE_ONE,((MsgString)MsgStringMessageHandler.received.peek()).getData());
  Assert.assertEquals(MESSAGE_ONE,new String(((MsgByte)client.received.peek()).getData()));
  session.close();
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGenericsCoders() throws Exception {
  GenericsServer server=new GenericsServer();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(GenericsServer.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  GenericsClient client=new GenericsClient();
  URI uri=new URI("ws://localhost:" + getPort() + PATH_GENERICS_EP);
  Session session=wsContainer.connectToServer(client,uri);
  ArrayList<String> list=new ArrayList<String>(2);
  list.add("str1");
  list.add("str2");
  session.getBasicRemote().sendObject(list);
  int i=0;
  while (i < 20) {
    if (server.received.size() > 0 && client.received.size() > 0) {
      break;
    }
    Thread.sleep(100);
  }
  Assert.assertEquals(1,server.received.size());
  Assert.assertEquals(server.received.peek().toString(),"[str1, str2]");
  Assert.assertEquals(1,client.received.size());
  Assert.assertEquals(client.received.peek().toString(),"[str1, str2]");
  session.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.pojo.TestPojoMethodMapping </h4><pre class="type-4 type-10 type-12 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  Server server=new Server();
  SingletonConfigurator.setInstance(server);
  ServerConfigListener.setPojoClazz(Server.class);
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(ServerConfigListener.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  SimpleClient client=new SimpleClient();
  URI uri=new URI("ws://localhost:" + getPort() + "/"+ PARAM_ONE+ "/"+ PARAM_TWO+ "/"+ PARAM_THREE);
  Session session=wsContainer.connectToServer(client,uri);
  session.getBasicRemote().sendText("NO-OP");
  session.close();
  int count=0;
  while (count < 200) {
    if (server.isClosed()) {
      break;
    }
    count++;
    Thread.sleep(100);
  }
  if (count == 50) {
    Assert.fail("Server did not process an onClose event within 5 " + "seconds of the client sending a close message");
  }
  List<String> errors=server.getErrors();
  for (  String error : errors) {
    System.err.println(error);
  }
  Assert.assertEquals("Found errors",0,errors.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestUriTemplate </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecExample2_01() throws Exception {
  UriTemplate t=new UriTemplate("/a/{var}");
  Map<String,String> result=t.match(new UriTemplate("/a/b"));
  Assert.assertEquals(1,result.size());
  Assert.assertEquals("b",result.get("var"));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDuplicate02() throws Exception {
  UriTemplate t=new UriTemplate("/{a}/{b}");
  Map<String,String> result=t.match(new UriTemplate("/x/x"));
  Assert.assertEquals(2,result.size());
  Assert.assertEquals("x",result.get("a"));
  Assert.assertEquals("x",result.get("b"));
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasic() throws Exception {
  UriTemplate t=new UriTemplate("/{a}/{b}");
  Map<String,String> result=t.match(new UriTemplate("/foo/bar"));
  Assert.assertEquals(2,result.size());
  Assert.assertTrue(result.containsKey("a"));
  Assert.assertTrue(result.containsKey("b"));
  Assert.assertEquals("foo",result.get("a"));
  Assert.assertEquals("bar",result.get("b"));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecExample2_02() throws Exception {
  UriTemplate t=new UriTemplate("/a/{var}");
  Map<String,String> result=t.match(new UriTemplate("/a/apple"));
  Assert.assertEquals(1,result.size());
  Assert.assertEquals("apple",result.get("var"));
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecExample1_01() throws Exception {
  UriTemplate t=new UriTemplate("/a/b");
  Map<String,String> result=t.match(new UriTemplate("/a/b"));
  Assert.assertEquals(0,result.size());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNoParams() throws Exception {
  UriTemplate t=new UriTemplate("/foo/bar");
  Map<String,String> result=t.match(new UriTemplate("/foo/bar"));
  Assert.assertEquals(0,result.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.tomcat.websocket.server.TestWsServerContainer </h4><pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDuplicatePaths_04() throws Exception {
  WsServerContainer sc=new WsServerContainer(new TesterServletContext());
  ServerEndpointConfig configA=ServerEndpointConfig.Builder.create(Object.class,"/a/{var1}/{var2}").build();
  ServerEndpointConfig configB=ServerEndpointConfig.Builder.create(Object.class,"/a/b/{var2}").build();
  sc.addEndpoint(configA);
  sc.addEndpoint(configB);
  Assert.assertEquals(configA,sc.findMapping("/a/x/y").getConfig());
  Assert.assertEquals(configB,sc.findMapping("/a/b/y").getConfig());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecExample4() throws Exception {
  WsServerContainer sc=new WsServerContainer(new TesterServletContext());
  ServerEndpointConfig configA=ServerEndpointConfig.Builder.create(Object.class,"/{var1}/d").build();
  ServerEndpointConfig configB=ServerEndpointConfig.Builder.create(Object.class,"/b/{var2}").build();
  sc.addEndpoint(configA);
  sc.addEndpoint(configB);
  Assert.assertEquals(configB,sc.findMapping("/b/d").getConfig());
}

</code></pre>

<br>
<pre class="type-3 type-11 type-1 type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBug58232() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Bug54807Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  WebSocketContainer wsContainer=ContainerProvider.getWebSocketContainer();
  tomcat.start();
  Assert.assertEquals(LifecycleState.STARTED,ctx.getState());
  SimpleClient client=new SimpleClient();
  URI uri=new URI("ws://localhost:" + getPort() + "/echoBasic");
  Session session=null;
  try {
    session=wsContainer.connectToServer(client,uri);
    CountDownLatch latch=new CountDownLatch(1);
    BasicText handler=new BasicText(latch);
    session.addMessageHandler(handler);
    session.getBasicRemote().sendText("echoBasic");
    boolean latchResult=handler.getLatch().await(10,TimeUnit.SECONDS);
    Assert.assertTrue(latchResult);
    Queue<String> messages=handler.getMessages();
    Assert.assertEquals(1,messages.size());
    for (    String message : messages) {
      Assert.assertEquals("echoBasic",message);
    }
  }
  finally {
    if (session != null) {
      session.close();
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecExample3() throws Exception {
  WsServerContainer sc=new WsServerContainer(new TesterServletContext());
  ServerEndpointConfig configA=ServerEndpointConfig.Builder.create(Object.class,"/a/{var}/c").build();
  ServerEndpointConfig configB=ServerEndpointConfig.Builder.create(Object.class,"/a/b/c").build();
  ServerEndpointConfig configC=ServerEndpointConfig.Builder.create(Object.class,"/a/{var1}/{var2}").build();
  sc.addEndpoint(configA);
  sc.addEndpoint(configB);
  sc.addEndpoint(configC);
  Assert.assertEquals(configB,sc.findMapping("/a/b/c").getConfig());
  Assert.assertEquals(configA,sc.findMapping("/a/d/c").getConfig());
  Assert.assertEquals(configC,sc.findMapping("/a/x/y").getConfig());
}

</code></pre>

<br>
<pre class="type-11 type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBug54807() throws Exception {
  Tomcat tomcat=getTomcatInstance();
  Context ctx=tomcat.addContext("",null);
  ctx.addApplicationListener(Bug54807Config.class.getName());
  Tomcat.addServlet(ctx,"default",new DefaultServlet());
  ctx.addServletMapping("/","default");
  tomcat.start();
  Assert.assertEquals(LifecycleState.STARTED,ctx.getState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: util.TestCookieFilter </h4><pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test07(){
  Assert.assertEquals(Constants.SINGLE_SIGN_ON_COOKIE + "=[obfuscated]",CookieFilter.filter(Constants.SINGLE_SIGN_ON_COOKIE + "=0123456789",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test02(){
  Assert.assertEquals("a=b;c=d",CookieFilter.filter("a=b;c=d",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test04(){
  Assert.assertEquals("=b",CookieFilter.filter("=b",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test08(){
  String id="0123456789";
  String cookie="JSESSIONID=" + id;
  Assert.assertEquals(cookie,CookieFilter.filter(cookie,id));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test03(){
  Assert.assertEquals(" a=b  ;   c=d    ",CookieFilter.filter(" a=b  ;   c=d    ",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test05(){
  Assert.assertEquals("a=",CookieFilter.filter("a=",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test09(){
  String id="0123456789";
  String cookie=Constants.SINGLE_SIGN_ON_COOKIE + "=" + id;
  Assert.assertEquals(cookie,CookieFilter.filter(cookie,id));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test06(){
  Assert.assertEquals("JSESSIONID=[obfuscated]",CookieFilter.filter("JSESSIONID=0123456789",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test10(){
  Assert.assertEquals("a=\"xx;x\"",CookieFilter.filter("a=\"xx;x\"",null));
}

</code></pre>

<br>
<pre class="type-1 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test01(){
  Assert.assertEquals("a=b",CookieFilter.filter("a=b",null));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
