<h3><span class=" glyphicon glyphicon-tag"/>&nbspTestInitializer</h3><kbd>Allocates resources before the execution of the test cases</kbd><br><br><br><h4 style="margin:0px">Class: de.sandroboehme.jsnodetypes.ChildNodeDefGenerationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException, IOException {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: de.sandroboehme.jsnodetypes.DefaultNodeTypeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException, IOException {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: de.sandroboehme.jsnodetypes.NodeTypeGenerationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException, IOException {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: de.sandroboehme.jsnodetypes.PropertyDefGenerationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException, IOException {
  super.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: de.sandroboehme.jsnodetypes.downloaddefaultbinary.DownloadDefaultBinaryValueTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException, IOException {
  request=mock(SlingHttpServletRequest.class);
  response=mock(SlingHttpServletResponse.class);
  resourceResolver=mock(ResourceResolver.class);
  resource=mock(Resource.class);
  rootNode=mock(Node.class);
  session=mock(Session.class);
  workspace=mock(Workspace.class);
  ntManager=mock(NodeTypeManager.class);
  outStream=new ByteArrayOutputStream();
  when(request.getMethod()).thenReturn(HttpConstants.METHOD_GET);
  when(request.getResourceResolver()).thenReturn(resourceResolver);
  when(resourceResolver.getResource("/")).thenReturn(resource);
  when(resource.adaptTo(Node.class)).thenReturn(rootNode);
  when(rootNode.getSession()).thenReturn(session);
  when(session.getWorkspace()).thenReturn(workspace);
  when(workspace.getNodeTypeManager()).thenReturn(ntManager);
  when(response.getWriter()).thenReturn(new PrintWriter(outStream,true));
  propDefGenerator=new MockPropertyDefGenerator();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.wrappers.ValueMapDecoratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  map=new HashMap<String,Object>();
  valueMap=new ValueMapDecorator(map);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.storage.JobStorageImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws NoSuchFieldException {
  storage=new JobStorageImpl();
  final Hashtable<String,Object> props=new Hashtable<String,Object>();
  props.put("job.storage.path","/var/test");
  final ComponentContext ctx=mockery.mock(ComponentContext.class);
  mockery.checking(new Expectations(){
{
      allowing(ctx).getProperties();
      will(returnValue(props));
    }
  }
);
  final SlingSettingsService sss=mockery.mock(SlingSettingsService.class);
  mockery.checking(new Expectations(){
{
      allowing(sss).getSlingId();
      will(returnValue(instanceId));
    }
  }
);
  PrivateAccessor.setField(storage,"slingSettings",sss);
  storage.activate(ctx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.it.BackgroundRequestIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  T.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.it.JobConsoleIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  T.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.CacheConfigTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException {
  cacheManagerService=new CacheManagerServiceImpl();
  Map<String,Object> properties=MapBuilder.getMap(CacheManagerServiceImpl.CACHE_STORE,(Object)"target/ehcache/store",CacheManagerServiceImpl.BIND_ADDRESS,"127.0.0.1",CacheManagerServiceImpl.CACHE_CONFIG,"src/test/resources/testconfig/simple-ehcacheConfig.xml");
  cacheManagerService.activate(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.TestCache </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException {
  cacheManagerService=new CacheManagerServiceImpl();
  Map<String,Object> properties=MapBuilder.getMap("cache-store",(Object)"target/ehcache/store","bind-address","127.0.0.1");
  cacheManagerService.activate(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.CacheConfigTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException {
  cacheManagerService=new CacheManagerServiceImpl();
  Map<String,Object> properties=MapBuilder.getMap(CacheManagerServiceImpl.CACHE_STORE,(Object)"target/ehcache/store",CacheManagerServiceImpl.BIND_ADDRESS,"127.0.0.1",CacheManagerServiceImpl.CACHE_CONFIG,"src/test/resources/testconfig/simple-ehcacheConfig.xml");
  cacheManagerService.activate(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.TestCache </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, InstantiationException, IllegalAccessException, ClassNotFoundException {
  cacheManagerService=new CacheManagerServiceImpl();
  Map<String,Object> properties=MapBuilder.getMap("cache-store",(Object)"target/infinispan/store","bind-address","127.0.0.1");
  cacheManagerService.activate(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.contentdetection.internal.ContentAwareMimeTypeServiceImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws NoSuchFieldException {
  contentAwareMimeTypeService=new ContentAwareMimeTypeServiceImpl();
  PrivateAccessor.setField(contentAwareMimeTypeService,"mimeTypeService",mimeTypeService);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONObjectToStringTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws JSONException {
  j=new TestJSONObject();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONWriterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  output=new StringWriter();
  w=new JSONWriter(output);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.sling.JsonObjectCreatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  props=new HashMap<String,Object>();
  props.put("defaultProperty","defaultValue");
  final List<Resource> empty=new ArrayList<Resource>();
  when(childResourceResolver.listChildren(any(Resource.class))).thenReturn(empty.iterator());
  final List<Resource> children=new ArrayList<Resource>();
  for (int i=0; i < NCHILDREN; i++) {
    final Map<String,Object> childProps=new HashMap<String,Object>();
    final String id="child" + i;
    childProps.put("id",id);
    final Resource r=Mockito.mock(Resource.class);
    when(r.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(childProps));
    when(r.getResourceResolver()).thenReturn(childResourceResolver);
    when(r.getPath()).thenReturn(PATH + "/" + id);
    children.add(r);
  }
  when(resourceResolver.listChildren(any(Resource.class))).thenReturn(children.iterator());
  when(resource.getResourceResolver()).thenReturn(resourceResolver);
  when(resource.getPath()).thenReturn(PATH);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITWebConsoleRemote </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareWebClient(){
  webClient=new WebClient();
  ((DefaultCredentialsProvider)webClient.getCredentialsProvider()).addCredentials("admin","admin");
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  if (testContainer == null) {
    ExamSystem system=DefaultExamSystem.create(config());
    testContainer=PaxExamRuntime.createContainer(system);
    testContainer.start();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.logservice.internal.LogSupportTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before @SuppressWarnings("unchecked") public void prepare() throws Exception {
  bundle=Mockito.mock(Bundle.class);
  Mockito.when(bundle.getSymbolicName()).thenReturn("foo.bundle");
  Mockito.when(bundle.getBundleId()).thenReturn(42L);
  StartLevel startLevel=Mockito.mock(StartLevel.class);
  logSupport=new LogSupport(startLevel);
  Field loggerField=LogSupport.class.getDeclaredField("loggers");
  loggerField.setAccessible(true);
  Map<Long,Logger> loggers=(Map<Long,Logger>)loggerField.get(logSupport);
  testLogger=getMockInfoLogger();
  loggers.put(bundle.getBundleId(),testLogger);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.BundleBundleVersionInfoTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context=new JUnit4Mockery();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzJobExecutorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context=MockOsgi.newBundleContext();
  jobExecutor=new QuartzJobExecutor();
  quartzScheduler=ActivatedQuartzSchedulerFactory.create(context,"testName");
  Field schedulerField=QuartzScheduler.class.getDeclaredField("scheduler");
  schedulerField.setAccessible(true);
  scheduler=(Scheduler)schedulerField.get(quartzScheduler);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzSchedulerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context=MockOsgi.newBundleContext();
  quartzScheduler=ActivatedQuartzSchedulerFactory.create(context,"testName");
  s=quartzScheduler.getScheduler();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.SettingsSupportTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  context=MockOsgi.newBundleContext();
  listener=new SettingsSupport.Listener(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.TopologyHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init(){
  underTest=new TopologyHandler();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.WebConsolePrinterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  consolePrinter=new WebConsolePrinter();
  context=MockOsgi.newBundleContext();
  quartzScheduler=ActivatedQuartzSchedulerFactory.create(context,"testName");
  Field quartzSchedulerField=WebConsolePrinter.class.getDeclaredField("scheduler");
  quartzSchedulerField.setAccessible(true);
  quartzSchedulerField.set(consolePrinter,quartzScheduler);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.WhiteboardHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context=MockOsgi.newBundleContext();
  handler=new WhiteboardHandler();
  Field schedulerField=WhiteboardHandler.class.getDeclaredField("scheduler");
  schedulerField.setAccessible(true);
  quartzScheduler=ActivatedQuartzSchedulerFactory.create(context,"testName");
  schedulerField.set(handler,quartzScheduler);
  handler.activate(context);
  Field trackerField=WhiteboardHandler.class.getDeclaredField("serviceTracker");
  trackerField.setAccessible(true);
  ServiceTracker serviceTracker=(ServiceTracker)trackerField.get(handler);
  Field customizerField=ServiceTracker.class.getDeclaredField("customizer");
  customizerField.setAccessible(true);
  customizer=(ServiceTrackerCustomizer)customizerField.get(serviceTracker);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.jcr.RepositoryProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void getRepo() throws Exception {
  repo=RepositoryProvider.instance().getRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.junit.RetryRuleTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  setupCounter=0;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.BasicLauncherIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  client=new DefaultHttpClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.RunModeAIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  osgiConsole=new WebconsoleClient(C.getBaseUrl(),U.ADMIN,U.ADMIN);
  client=new DefaultHttpClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.RunModeBIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  osgiConsole=new WebconsoleClient(C.getBaseUrl(),U.ADMIN,U.ADMIN);
  client=new DefaultHttpClient();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.LargeTopologyWithHubTest </h4><pre class="type-15 type-11 type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Throwable {
  instances=new LinkedList<VirtualInstance>();
  final int defaultHeartbeatTimeout=3600;
  final int heartbeatTimeout=TimeoutsProvider.getInstance().getTimeout(defaultHeartbeatTimeout);
  VirtualInstanceBuilder hubBuilder=newBuilder().newRepository("/var/discovery/impl/",true).setDebugName("hub").setConnectorPingInterval(5).setConnectorPingTimeout(heartbeatTimeout);
  hub=hubBuilder.build();
  instances.add(hub);
  hub.getConfig().setViewCheckTimeout(heartbeatTimeout);
  hub.heartbeatsAndCheckView();
  hub.heartbeatsAndCheckView();
  assertNotNull(hub.getClusterViewService().getLocalClusterView());
  hub.startViewChecker(1);
  hub.dumpRepo();
  slingIds=new LinkedList<String>();
  slingIds.add(hub.getSlingId());
  logger.info("setUp: using heartbeatTimeout of " + heartbeatTimeout + "sec "+ "(default: "+ defaultHeartbeatTimeout+ ")");
  for (int i=0; i < TEST_SIZE; i++) {
    logger.info("setUp: creating instance" + i);
    VirtualInstanceBuilder builder2=newBuilder().newRepository("/var/discovery/impl/",false).setDebugName("instance" + i).setConnectorPingInterval(5).setConnectorPingTimeout(heartbeatTimeout);
    VirtualInstance instance=builder2.build();
    instances.add(instance);
    instance.getConfig().setViewCheckTimeout(heartbeatTimeout);
    instance.heartbeatsAndCheckView();
    instance.heartbeatsAndCheckView();
    ClusterView clusterView=instance.getClusterViewService().getLocalClusterView();
    assertNotNull(clusterView);
    new VirtualConnector(instance,hub);
    slingIds.add(instance.getSlingId());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.announcement.AnnouncementRegistryImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  resourceResolverFactory=MockFactory.mockResourceResolverFactory();
  config=new SimpleConnectorConfig(){
    public long getConnectorPingTimeout(){
      return 10;
    }
  }
;
  slingId=UUID.randomUUID().toString();
  Session l=RepositoryProvider.instance().getRepository().loginAdministrative(null);
  try {
    l.removeItem("/var");
    l.save();
    l.logout();
  }
 catch (  Exception e) {
    l.refresh(false);
    l.logout();
  }
  registry=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(slingId),config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.ConnectorRegistryImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  VirtualInstanceBuilder builder=newBuilder().newRepository("/var/discovery/impl/",true).setDebugName("i").setConnectorPingInterval(20).setConnectorPingTimeout(20);
  i=builder.build();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyConnectorServletTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  servlet=new TopologyConnectorServlet();
  BaseConfig config=mock(BaseConfig.class);
  PrivateAccessor.setField(servlet,"config",config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyRequestValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws SecurityException, IllegalArgumentException, NoSuchFieldException, IllegalAccessException {
  BaseConfig config=new SimpleConnectorConfig();
  setPrivate(config,"sharedKey","testKey");
  setPrivate(config,"hmacEnabled",true);
  setPrivate(config,"encryptionEnabled",true);
  setPrivate(config,"keyInterval",3600 * 100 * 4);
  topologyRequestValidator=new TopologyRequestValidator(config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractClusterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.TRACE);
  logger.debug("here we are");
  instance1=newBuilder().setDebugName("firstInstance").newRepository("/var/discovery/impl/",true).build();
  instance2=newBuilder().setDebugName("secondInstance").useRepositoryOf(instance1).build();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractDiscoveryServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  testers.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractSingleInstanceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
  logger.info("setup: creating new standalone instance");
  instance=newBuilder().setDebugName("standaloneInstance").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(20).setConnectorPingInterval(999).setMinEventDelay(3).build();
  logger.info("setup: creating new standalone instance done.");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractTopologyEventTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.ClusterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  mgrList=new LinkedList<ViewStateManagerImpl>();
  defaultRandom=new Random(1234123412);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestMinEventDelayHandler </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  mgr=new ViewStateManagerImpl(new ReentrantLock(),new ClusterSyncService(){
    public void sync(    BaseTopologyView view,    Runnable callback){
      callback.run();
    }
    @Override public void cancelSync(){
    }
  }
);
  defaultRandom=new Random(1234123412);
  scheduler=new DummyScheduler();
  sds=new DummyDiscoveryService();
  mgr.installMinEventDelayHandler(sds,scheduler,1);
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestViewStateManager </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  mgr=new ViewStateManagerImpl(new ReentrantLock(),new ClusterSyncService(){
    public void sync(    BaseTopologyView view,    Runnable callback){
      callback.run();
    }
    @Override public void cancelSync(){
    }
  }
);
  defaultRandom=new Random(1234123412);
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.INFO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.spi.base.TestOakSyncTokenService </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  logger.info("setup: start");
  RepositoryTestHelper.resetRepo();
  memoryNS=new MemoryNodeStore();
  repository1=RepositoryTestHelper.newOakRepository(memoryNS);
  RepositoryTestHelper.initSlingNodeTypes(repository1);
  repository2=RepositoryTestHelper.newOakRepository(memoryNS);
  factory1=RepositoryTestHelper.mockResourceResolverFactory(repository1);
  factory2=RepositoryTestHelper.mockResourceResolverFactory(repository2);
  slingId1=UUID.randomUUID().toString();
  idMapService1=IdMapService.testConstructor(new SimpleCommonsConfig(),new DummySlingSettingsService(slingId1),factory1);
  logger.info("setup: end");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.DiscoveryWithSyncTokenTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  logger.info("setup: start");
  instances=new LinkedList<VirtualInstance>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.RepositoryDelaysTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.TRACE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.voting.VotingHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  slingId1=UUID.randomUUID().toString();
  slingId2=UUID.randomUUID().toString();
  slingId3=UUID.randomUUID().toString();
  slingId4=UUID.randomUUID().toString();
  slingId5=UUID.randomUUID().toString();
  factory=new DummyResourceResolverFactory();
  resetRepo();
  config=new TestConfig("/var/discovery/impltesting/");
  config.setHeartbeatInterval(999);
  config.setHeartbeatTimeout(60);
  votingHandler1=VotingHandler.testConstructor(new DummySlingSettingsService(slingId1),factory,config);
  votingHandler2=VotingHandler.testConstructor(new DummySlingSettingsService(slingId2),factory,config);
  votingHandler3=VotingHandler.testConstructor(new DummySlingSettingsService(slingId3),factory,config);
  votingHandler4=VotingHandler.testConstructor(new DummySlingSettingsService(slingId4),factory,config);
  votingHandler5=VotingHandler.testConstructor(new DummySlingSettingsService(slingId5),factory,config);
  resourceResolver=factory.getAdministrativeResourceResolver(null);
  ModifiableThreadPoolConfig tpConfig=new ModifiableThreadPoolConfig();
  tpConfig.setMinPoolSize(80);
  tpConfig.setMaxPoolSize(80);
  threadPool=new DefaultThreadPool("testing",tpConfig);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.common.heartbeat.HeartbeatTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.TRACE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.oak.its.OakDiscoveryServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.INFO);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.avro.AvroDistributionPackageBuilderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  helper=MockHelper.create(resourceResolver).resource("/libs").p("prop","value").resource("sub").p("sub","hello").resource(".sameLevel").resource("/apps").p("foo","baa");
  helper.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.kryo.KryoResourceDistributionPackageBuilderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  helper=MockHelper.create(resourceResolver).resource("/libs").p("prop","value").resource("sub").p("sub","hello").resource(".sameLevel").resource("/apps").p("foo","baa");
  helper.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.log.ClientAbortExceptionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  context=new JUnit4Mockery(){
{
      setImposteriser(ClassImposteriser.INSTANCE);
    }
  }
;
  final ServletOutputStream sos=new ServletOutputStream(){
    @Override public void write(    int b) throws IOException {
      throw new IOException("Always fails, on purpose");
    }
    @Override public void flush() throws IOException {
      throw new IOException("Always fails, on purpose");
    }
    @Override public void close() throws IOException {
      throw new IOException("Always fails, on purpose");
    }
  }
;
  final HttpServletResponse raw=context.mock(HttpServletResponse.class);
  context.checking(new Expectations(){
{
      allowing(raw).getOutputStream();
      will(returnValue(sos));
    }
  }
);
  r=new RequestLoggerResponse(raw);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.request.InitResourceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  context=new JUnit4Mockery(){
{
      setImposteriser(ClassImposteriser.INSTANCE);
    }
  }
;
  req=context.mock(HttpServletRequest.class);
  resp=context.mock(HttpServletResponse.class);
  resourceResolver=context.mock(ResourceResolver.class);
  context.checking(new Expectations(){
{
      allowing(req).getRequestURL();
      will(returnValue(new StringBuffer(requestURL)));
      allowing(req).getRequestURI();
      allowing(req).getPathInfo();
      will(returnValue(pathInfo));
      allowing(req).getServletPath();
      will(returnValue("/"));
      allowing(req).getMethod();
      will(returnValue("GET"));
      allowing(req).getAttribute(RequestData.REQUEST_RESOURCE_PATH_ATTR);
      will(returnValue(null));
      allowing(req).setAttribute(with(equal(RequestData.REQUEST_RESOURCE_PATH_ATTR)),with(any(Object.class)));
      allowing(resourceResolver).resolve(with(any(HttpServletRequest.class)),with(equal(expectedResolvePath)));
    }
  }
);
  requestData=new RequestData(null,req,resp);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.request.RequestDataTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  context=new JUnit4Mockery(){
{
      setImposteriser(ClassImposteriser.INSTANCE);
    }
  }
;
  req=context.mock(HttpServletRequest.class);
  resp=context.mock(HttpServletResponse.class);
  final ContentData contentData=context.mock(ContentData.class);
  final Servlet servlet=context.mock(Servlet.class);
  final ServletConfig servletConfig=context.mock(ServletConfig.class);
  context.checking(new Expectations(){
{
      allowing(req).getServletPath();
      will(returnValue("/"));
      allowing(req).getPathInfo();
      will(returnValue(""));
      allowing(req).getMethod();
      will(returnValue("GET"));
      allowing(req).setAttribute(with(any(String.class)),with(any(Object.class)));
      allowing(contentData).getServlet();
      will(returnValue(servlet));
      allowing(servlet).getServletConfig();
      will(returnValue(servletConfig));
      allowing(servlet).service(with(any(ServletRequest.class)),with(any(ServletResponse.class)));
      allowing(servletConfig).getServletName();
      will(returnValue("SERVLET_NAME"));
    }
  }
);
  requestData=new RequestData(null,req,resp){
    @Override public ContentData getContentData(){
      return contentData;
    }
  }
;
  slingRequest=new SlingHttpServletRequestImpl(requestData,req);
  slingResponse=new SlingHttpServletResponseImpl(requestData,resp);
  RequestData.setMaxCallCounter(2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.dea.impl.DistributingEventHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before public void setup() throws Exception {
  final BundleContext bc=Mockito.mock(BundleContext.class);
  Mockito.when(bc.registerService(Mockito.any(String[].class),Mockito.any(),Mockito.any(Dictionary.class))).thenReturn(null);
  final SlingSettingsService otherSettings=Mockito.mock(SlingSettingsService.class);
  Mockito.when(otherSettings.getSlingId()).thenReturn(OTHER_APP_ID);
  final EventAdmin ea=new EventAdmin(){
    @Override public void sendEvent(    final Event event){
      this.postEvent(event);
    }
    @Override public void postEvent(    final Event event){
      final String topic=event.getTopic();
      if (topic.equals(SlingConstants.TOPIC_RESOURCE_ADDED)) {
        sender.handleEvent(event);
      }
 else       if (topic.startsWith(TOPIC_PREFIX)) {
        events.add(event);
      }
    }
  }
;
  final MockResourceResolverFactoryOptions opts=new MockResourceResolverFactoryOptions();
  opts.setEventAdmin(ea);
  final ResourceResolverFactory factory=new MockResourceResolverFactory(opts);
  this.sender=new DistributedEventSender(bc,DistributedEventAdminImpl.DEFAULT_REPOSITORY_PATH,DistributedEventAdminImpl.DEFAULT_REPOSITORY_PATH + "/" + MY_APP_ID,factory,ea);
  this.receiver=new DistributedEventReceiver(bc,DistributedEventAdminImpl.DEFAULT_REPOSITORY_PATH,DistributedEventAdminImpl.DEFAULT_REPOSITORY_PATH + "/" + OTHER_APP_ID,15,factory,otherSettings);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.config.TopologyCapabilitiesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  final ClusterView cv=Mockito.mock(ClusterView.class);
  Mockito.when(cv.getId()).thenReturn("cluster");
  final InstanceDescription local=Mockito.mock(InstanceDescription.class);
  Mockito.when(local.isLeader()).thenReturn(true);
  Mockito.when(local.getSlingId()).thenReturn("local");
  Mockito.when(local.getProperty(TopologyCapabilities.PROPERTY_TOPICS)).thenReturn("foo,bar/*,a/**,d/1/2,d/1/*,d/**");
  Mockito.when(local.getClusterView()).thenReturn(cv);
  final TopologyView tv=Mockito.mock(TopologyView.class);
  Mockito.when(tv.getInstances()).thenReturn(Collections.singleton(local));
  Mockito.when(tv.getLocalInstance()).thenReturn(local);
  final JobManagerConfiguration config=Mockito.mock(JobManagerConfiguration.class);
  caps=new TopologyCapabilities(tv,config);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.jmx.AllJobStatisticsMBeanTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws NoSuchFieldException {
  mbean=new AllJobStatisticsMBean();
  TestUtil.setFieldValue(mbean,"jobManager",jobManager);
  seed=System.currentTimeMillis();
  Mockito.when(jobManager.getStatistics()).thenReturn(new DummyStatistics(seed));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.jmx.QueuesMBeanImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws NoSuchFieldException {
  mbean=new QueuesMBeanImpl();
  mbean.activate(bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.tasks.HistoryCleanUpTaskTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setUpJob();
  setupConfiguration();
  task=ctx.registerInjectActivateService(new HistoryCleanUpTask());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.ChaosTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration orderedConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> orderedProps=new Hashtable<String,Object>();
  orderedProps.put(ConfigurationConstants.PROP_NAME,"chaos-ordered");
  orderedProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.ORDERED.name());
  orderedProps.put(ConfigurationConstants.PROP_TOPICS,ORDERED_TOPICS);
  orderedProps.put(ConfigurationConstants.PROP_RETRIES,2);
  orderedProps.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  orderedConfig.update(orderedProps);
  final org.osgi.service.cm.Configuration rrConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> rrProps=new Hashtable<String,Object>();
  rrProps.put(ConfigurationConstants.PROP_NAME,"chaos-roundrobin");
  rrProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.TOPIC_ROUND_ROBIN.name());
  rrProps.put(ConfigurationConstants.PROP_TOPICS,ROUND_TOPICS);
  rrProps.put(ConfigurationConstants.PROP_RETRIES,2);
  rrProps.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  rrProps.put(ConfigurationConstants.PROP_MAX_PARALLEL,5);
  rrConfig.update(rrProps);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.ClassloadingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration orderedConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> orderedProps=new Hashtable<String,Object>();
  orderedProps.put(ConfigurationConstants.PROP_NAME,QUEUE_NAME);
  orderedProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.UNORDERED.name());
  orderedProps.put(ConfigurationConstants.PROP_TOPICS,TOPIC);
  orderedConfig.update(orderedProps);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.HistoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration config=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(ConfigurationConstants.PROP_NAME,"test");
  props.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.ORDERED.name());
  props.put(ConfigurationConstants.PROP_TOPICS,new String[]{TOPIC});
  props.put(ConfigurationConstants.PROP_RETRIES,2);
  props.put(ConfigurationConstants.PROP_RETRY_DELAY,2L);
  props.put(ConfigurationConstants.PROP_KEEP_JOBS,true);
  config.update(props);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.JobHandlingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration config=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(ConfigurationConstants.PROP_NAME,"test");
  props.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.UNORDERED.name());
  props.put(ConfigurationConstants.PROP_TOPICS,new String[]{TOPIC,TOPIC + "2"});
  props.put(ConfigurationConstants.PROP_RETRIES,2);
  props.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  config.update(props);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.OrderedQueueTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration orderedConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> orderedProps=new Hashtable<String,Object>();
  orderedProps.put(ConfigurationConstants.PROP_NAME,"orderedtest");
  orderedProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.ORDERED.name());
  orderedProps.put(ConfigurationConstants.PROP_TOPICS,"sling/orderedtest/*");
  orderedProps.put(ConfigurationConstants.PROP_RETRIES,2);
  orderedProps.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  orderedConfig.update(orderedProps);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.RoundRobinQueueTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration rrConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> rrProps=new Hashtable<String,Object>();
  rrProps.put(ConfigurationConstants.PROP_NAME,QUEUE_NAME);
  rrProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.TOPIC_ROUND_ROBIN.name());
  rrProps.put(ConfigurationConstants.PROP_TOPICS,TOPIC + "/*");
  rrProps.put(ConfigurationConstants.PROP_RETRIES,2);
  rrProps.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  rrProps.put(ConfigurationConstants.PROP_MAX_PARALLEL,MAX_PAR);
  rrConfig.update(rrProps);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.SchedulingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.TimedJobsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.TopicMatchingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.UnorderedQueueTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws IOException {
  super.setup();
  final org.osgi.service.cm.Configuration rrConfig=this.configAdmin.createFactoryConfiguration("org.apache.sling.event.jobs.QueueConfiguration",null);
  final Dictionary<String,Object> rrProps=new Hashtable<String,Object>();
  rrProps.put(ConfigurationConstants.PROP_NAME,QUEUE_NAME);
  rrProps.put(ConfigurationConstants.PROP_TYPE,QueueConfiguration.Type.UNORDERED.name());
  rrProps.put(ConfigurationConstants.PROP_TOPICS,TOPIC + "/*");
  rrProps.put(ConfigurationConstants.PROP_RETRIES,2);
  rrProps.put(ConfigurationConstants.PROP_RETRY_DELAY,2000L);
  rrProps.put(ConfigurationConstants.PROP_MAX_PARALLEL,MAX_PAR);
  rrConfig.update(rrProps);
  this.sleep(1000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.extensions.mdc.integration.ITMDCFilter </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void startContainer() throws Exception {
  if (testContainer == null) {
    ServerConfiguration sc=new ServerConfiguration();
    ExamSystem system=DefaultExamSystem.create(sc.config());
    testContainer=PaxExamRuntime.createContainer(system);
    testContainer.start();
    new RetryLoop(new RetryLoop.Condition(){
      public String getDescription(){
        return "Check if MDCTestServlet is up";
      }
      public boolean isTrue() throws Exception {
        RequestBuilder rb=new RequestBuilder(ServerConfiguration.getServerUrl());
        executor.execute(rb.buildGetRequest("/mdc")).assertStatus(200);
        rb=new RequestBuilder(ServerConfiguration.getServerUrl());
        executor.execute(rb.buildGetRequest("/mdc","createTestConfig","true"));
        TimeUnit.SECONDS.sleep(1);
        return true;
      }
    }
,5,100);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.api.ResultLogTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  log=new ResultLog();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.CompositeHealthCheckTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  MockitoAnnotations.initMocks(this);
  compositeHealthCheck.setHealthCheckExecutor(healthCheckExecutor);
  compositeHealthCheck.setFilterTags(new String[]{});
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.ScriptableHealthCheckTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  hc=new ScriptableHealthCheck();
  ctx=Mockito.mock(ComponentContext.class);
  props=new Hashtable<String,String>();
  hc.bindBindingsValuesProvider(jmxScriptBindingsProvider);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.executor.HealthCheckExecutorImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  MockitoAnnotations.initMocks(this);
  when(future.getHealthCheckMetadata()).thenReturn(HealthCheckMetadata);
  when(HealthCheckMetadata.getTitle()).thenReturn("Test Check");
  healthCheckExecutorImpl=new HealthCheckExecutorImpl();
  healthCheckExecutorImpl.setTimeoutInMs(2000L);
  healthCheckExecutorImpl.setLongRunningFutureThresholdForRedMs(10000L);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.servlet.HealthCheckExecutorServletTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  healthCheckExecutorServlet=new HealthCheckExecutorServlet();
  MockitoAnnotations.initMocks(this);
  healthCheckExecutorServlet.healthCheckExecutor=healthCheckExecutor;
  healthCheckExecutorServlet.htmlSerializer=htmlSerializer;
  healthCheckExecutorServlet.jsonSerializer=jsonSerializer;
  healthCheckExecutorServlet.txtSerializer=txtSerializer;
  doReturn(500L).when(hcServiceRef).getProperty(Constants.SERVICE_ID);
  doReturn(writer).when(response).getWriter();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.healthchecks.SlingRequestStatusHealthCheckTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  hc=new SlingRequestStatusHealthCheck();
  final ResourceResolverFactory rrf=Mockito.mock(ResourceResolverFactory.class);
  SetField.set(hc,"resolverFactory",rrf);
  final Answer<Void> a=new Answer<Void>(){
    @Override public Void answer(    InvocationOnMock invocation){
      final HttpServletRequest request=(HttpServletRequest)invocation.getArguments()[0];
      final HttpServletResponse response=(HttpServletResponse)invocation.getArguments()[1];
      final String path=request.getPathInfo();
      if (path.length() > 0) {
        final String status=path.substring(0,path.indexOf('.'));
        response.setStatus(Integer.valueOf(status));
      }
      return null;
    }
  }
;
  final SlingRequestProcessor srp=Mockito.mock(SlingRequestProcessor.class);
  SetField.set(hc,"requestProcessor",srp);
  Mockito.doAnswer(a).when(srp).processRequest(Matchers.any(HttpServletRequest.class),Matchers.any(HttpServletResponse.class),Matchers.any(ResourceResolver.class));
  final Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("path",paths);
  hc.activate(properties);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckExecutorSelectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  options=new HealthCheckExecutionOptions();
  U.expectHealthChecks(0,executor,idA);
  U.expectHealthChecks(0,executor,idB);
  registerHC(idA);
  registerHC(idB);
  registerHC(idB);
  registerHC(idA,idB);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckFilterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  testServices.add(new TestHealthCheck("foo"));
  testServices.add(new TestHealthCheck("bar"));
  testServices.add(new TestHealthCheck("foo","bar"));
  testServices.add(new TestHealthCheck("other","thing"));
  testServices.add(new TestHealthCheck());
  filter=new HealthCheckFilter(bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckServletTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  httpService=new MockHttpService();
  reg=bundleContext.registerService(HttpService.class,httpService,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.junitbridge.tests.HealthCheckTestsProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws InvalidSyntaxException {
  setupTimestamp=System.currentTimeMillis();
  final ComponentContext ctx=Mockito.mock(ComponentContext.class);
  final Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(HealthCheckTestsProvider.PROP_TAG_GROUPS,TAG_GROUPS);
  props.put(Constants.SERVICE_PID,getClass().getName());
  Mockito.when(ctx.getProperties()).thenReturn(props);
  final BundleContext bc=Mockito.mock(BundleContext.class);
  Mockito.when(ctx.getBundleContext()).thenReturn(bc);
  Mockito.when(bc.getServiceReferences(Mockito.anyString(),Mockito.anyString())).thenAnswer(new Answer<ServiceReference[]>(){
    @Override public ServiceReference[] answer(    InvocationOnMock invocation) throws Throwable {
      return getMockReferences(bc,(String)invocation.getArguments()[1]);
    }
  }
);
  provider=new HealthCheckTestsProvider(){
{
      activate(ctx);
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.util.SimpleConstraintCheckerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  resultLog=new ResultLog();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.i18n.impl.ConcurrentJcrResourceBundleLoadingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  provider=spy(new JcrResourceBundleProvider());
  Hashtable<String,Object> properties=new Hashtable<String,Object>();
  properties.put("locale.default","en");
  provider.activate(createComponentContext(properties));
  doReturn(english).when(provider,"createResourceBundle",eq(null),eq(Locale.ENGLISH));
  doReturn(german).when(provider,"createResourceBundle",eq(null),eq(Locale.GERMAN));
  Mockito.when(german.getLocale()).thenReturn(Locale.GERMAN);
  Mockito.when(english.getLocale()).thenReturn(Locale.ENGLISH);
  Mockito.when(german.getParent()).thenReturn(english);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.i18n.it.ResourceBundleProviderIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  session=repository.loginAdministrative(null);
  final Node root=session.getRootNode();
  Node libs=null;
  if (root.hasNode("libs")) {
    libs=root.getNode("libs");
  }
 else {
    libs=root.addNode("libs","nt:unstructured");
  }
  i18nRoot=libs.addNode("i18n","nt:unstructured");
  deRoot=addLanguageNode(i18nRoot,"de");
  frRoot=addLanguageNode(i18nRoot,"fr");
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.eclipse.m2e.EmbeddedArchetypeInstallerTest </h4><pre class="type-16 type-2 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Allocates resources before the execution of the test cases
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before @After public void deleteInstalledArtifact() throws CoreException, IOException {
  File artifactPathLocation=getInstalledArchetypeLocation();
  File artifactDirLocation=artifactPathLocation.getParentFile();
  FileUtils.deleteDirectory(artifactDirLocation);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.resource.serialization.SimpleXmlSerializationManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare(){
  sm=new SimpleXmlSerializationManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.serialization.VltSerializationManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init(){
  serializationManager=new VltSerializationManager();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.transport.DefaultBatcherTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare(){
  mockRepo=createMock(Repository.class);
  credentials=createMock(Credentials.class);
  batcher=new DefaultBatcher();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.serialization.SerializationKindManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void init() throws RepositoryException {
  skm=new SerializationKindManager();
  skm.init(new StubRepository());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ContentImportTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content","nt:folder");
  repo.createNode("/content/test-root","nt:folder");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.JcrContentContentProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareProject() throws Exception {
  contentProject=projectRule.getProject();
  project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.JcrNodeCreationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareProjectAndContent() throws Exception {
  wstServer.waitForServerToStart();
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  InputStream contentXml=getClass().getResourceAsStream("content-nested-structure.xml");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/en.xml"),contentXml);
  syncDirNode=new SyncDir((IFolder)contentProject.findMember("jcr_root"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.JcrPartialCoverageAggregatesDeploymentTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void ensureCleanState() throws Exception {
  new RepositoryAccessor(config).tryDeleteResource("/content/test-root");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ProjectUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createEmptyContentProject() throws Exception {
  contentProject=projectRule.getProject();
  project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createVltFilterWithRoots();
  project.ensureDirectoryExists(Path.fromPortableString("jcr_root"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ResourceChangeCommandFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  contentProject=projectRule.getProject();
  project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  factory=new ResourceChangeCommandFactory(Activator.getDefault().getSerializationManager());
  spyRepo=new SpyRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.InternalResourceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setDataStore(){
  MockFileDataStore.set();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.util.RefreshDependenciesUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  jmock=new Mockery();
  pa=jmock.mock(PackageAdmin.class);
  rdu=new RefreshDependenciesUtil(pa);
  target=setupBundle("testBundle","com.targetImportsOne;com.targetImportsTwo",null);
  A=setupBundle("A",null,"com.targetImportsOne");
  B=setupBundle("B","some.import","some.export");
  C=setupBundle("C","com.CimportsOne","com.targetImportsTwo");
  D=setupBundle("D",null,"com.CimportsOne");
  E=setupBundle("E",null,null);
  F=setupBundle("F","foo","foo");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleDependenciesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleInstallStressTest </h4><pre class="type-11 type-2 type-12 type-6 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setUp(){
  setupInstaller();
  final String bf=System.getProperty(PROP_BUNDLES_FOLDER);
  if (bf == null) {
    fail("Missing system property: " + PROP_BUNDLES_FOLDER);
  }
  bundlesFolder=new File(bf);
  if (!bundlesFolder.isDirectory()) {
    fail("Bundles folder '" + bundlesFolder.getAbsolutePath() + "' not found");
  }
  final String cc=System.getProperty(PROP_CYCLE_COUNT);
  if (cc == null) {
    fail("Missing system property:" + PROP_CYCLE_COUNT);
  }
  cycleCount=Integer.parseInt(cc);
  final String et=System.getProperty(PROP_EXPECT_TIMEOUT_SECONDS);
  if (et == null) {
    fail("Missing system property:" + PROP_EXPECT_TIMEOUT_SECONDS);
  }
  expectBundlesTimeoutMsec=Integer.parseInt(et) * 1000L;
  log(LogService.LOG_INFO,getClass().getSimpleName() + ": cycle count=" + cycleCount+ ", expect timeout (msec)="+ expectBundlesTimeoutMsec+ ", test bundles folder="+ bundlesFolder.getAbsolutePath());
  testBundles=new LinkedList<File>();
  final String[] files=bundlesFolder.list();
  for (  String filename : files) {
    if (filename.endsWith(".jar")) {
      testBundles.add(new File(bundlesFolder,filename));
    }
  }
  if (testBundles.size() < MIN_TEST_BUNDLES) {
    fail("Found only " + testBundles.size() + " bundles in test folder, expected at least "+ MIN_TEST_BUNDLES+ " (test folder="+ bundlesFolder.getAbsolutePath()+ ")");
  }
  random=new Random(42 + cycleCount);
  eventsDetector=new EventsDetector(bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleInstallUpgradeDowngradeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundlePrioritiesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleSnapshotUpdateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleStatePreservedTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.ConfigInstallTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  installationEvents=0;
  setupInstaller();
  events.clear();
  serviceRegistrations.clear();
  serviceRegistrations.add(bundleContext.registerService(ConfigurationListener.class.getName(),this,null));
  final InstallationListener il=new InstallationListener(){
    public void onEvent(    InstallationEvent event){
      installationEvents++;
    }
  }
;
  serviceRegistrations.add(bundleContext.registerService(InstallationListener.class.getName(),il,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.ConfigPrioritiesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.ContextBundleUpdateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.FragmentInstallTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.InvalidBundlesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.OsgiInstallerTestBase </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  configAdminTracker=new ServiceTracker(bundleContext,ConfigurationAdmin.class.getName(),null);
  configAdminTracker.open();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.RegisterResourcesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.RemovedResourceDetectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.UpdateHandlerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  setupInstaller();
  serviceRegistrations.clear();
  final Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(Constants.SERVICE_RANKING,1000);
  serviceRegistrations.add(this.bundleContext.registerService(ResourceTransformer.class,new ResourceTransformer(){
    public TransformationResult[] transform(    final RegisteredResource resource){
      final int lastDot=resource.getURL().lastIndexOf('.');
      final int lastSlash=resource.getURL().lastIndexOf('/');
      if (resource.getURL().substring(lastDot + 1).equals(TYPE)) {
        final String id=resource.getURL().substring(lastSlash + 1,lastDot);
        final TransformationResult tr=new TransformationResult();
        tr.setId(id);
        tr.setResourceType(TYPE);
        return new TransformationResult[]{tr};
      }
      return null;
    }
  }
,props));
  serviceRegistrations.add(this.bundleContext.registerService(InstallTaskFactory.class,new InstallTaskFactory(){
    public InstallTask createTask(    final TaskResourceGroup toActivate){
      final TaskResource tr=toActivate.getActiveResource();
      if (tr != null && tr.getEntityId().startsWith(TYPE)) {
        if (tr.getState() == ResourceState.INSTALL) {
          installed.put(tr.getEntityId(),tr.getDictionary());
          return new ChangeStateTask(toActivate,ResourceState.INSTALLED);
        }
 else {
          installed.remove(tr.getEntityId());
          return new ChangeStateTask(toActivate,ResourceState.UNINSTALLED);
        }
      }
      return null;
    }
  }
,props));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.provider.jcr.impl.RootFolderMoveListenerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  contentModificationSession=RepositoryProvider.instance().getRepository().loginAdministrative(null);
  moveListenerSession=RepositoryProvider.instance().getRepository().loginAdministrative(null);
  rmlt=new RootFolderMoveListener(moveListenerSession,ROOTS,timer);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.base.RepositoryInitializersTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  repoTracker=new SortingServiceTracker<SlingRepository>(context.bundleContext(),SlingRepository.class.getName());
  repoTracker.open();
  repository=MockJcr.newRepository();
  session=repository.login();
  asrm=new MockSlingRepositoryManager(repository);
  initialRepoServicesCount=countRepositoryServices();
  assertAdditionalRepositoryServices(0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.BundleContentLoaderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepareContentLoader() throws Exception {
  context.registerInjectActivateService(new JsonReader());
  context.registerInjectActivateService(new XmlReader());
  context.registerInjectActivateService(new ZipReader());
  context.registerInjectActivateService(new ContentReaderWhiteboard());
  Session session=context.resourceResolver().adaptTo(Session.class);
  RepositoryUtil.registerSlingNodeTypes(session);
  BundleHelper bundleHelper=context.registerInjectActivateService(new ContentLoaderService());
  ContentReaderWhiteboard whiteboard=context.getService(ContentReaderWhiteboard.class);
  contentLoader=new BundleContentLoader(bundleHelper,whiteboard);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.ContentLoaderServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  context.registerInjectActivateService(new ContentReaderWhiteboard());
  session=context.resourceResolver().adaptTo(Session.class);
  RepositoryUtil.registerSlingNodeTypes(session);
  underTest=context.registerInjectActivateService(new ContentLoaderService());
  contentLoader=(BundleContentLoader)PrivateAccessor.getField(underTest,"bundleContentLoader");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.CreateNodeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final SlingRepository repo=RepositoryProvider.instance().getRepository();
  session=repo.loginAdministrative(null);
  contentCreator=new DefaultContentCreator(null);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,true,true,false,false),new HashMap<String,ContentReader>(),null,null);
  testRoot=session.getRootNode().addNode(getClass().getSimpleName()).addNode(uniqueId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.DefaultContentCreatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final SlingRepository repo=RepositoryProvider.instance().getRepository();
  session=repo.loginAdministrative(null);
  contentCreator=new DefaultContentCreator(null);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,true,true,false,false),new HashMap<String,ContentReader>(),null,null);
  parentNode=session.getRootNode().addNode(getClass().getSimpleName()).addNode(uniqueId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.it.ContentBundleTestBase </h4><pre class="type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  registerStartupHandler();
  session=repository.loginAdministrative(null);
  if (!bundlesToRemove.isEmpty()) {
    return;
  }
  assertFalse("Expecting no content before test",session.itemExists(contentRootPath));
  final InputStream is=getTestBundleStream();
  try {
    final Bundle b=bundleContext.installBundle(bundleSymbolicName,is);
    bundlesToRemove.add(b);
    b.start();
  }
  finally {
    is.close();
  }
  maybeDumpTestBundle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.repository.it.JackrabbitRepositoryIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws Exception {
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.repository.it.OakRepositoryIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Override @Before public void setup() throws Exception {
  final org.osgi.service.cm.Configuration cf=this.configAdmin.getConfiguration("org.apache.jackrabbit.oak.plugins.segment.SegmentNodeStoreService",null);
  final Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put("name","Default NodeStore");
  p.put("repository.home","sling/oak/repository");
  cf.update(p);
  try {
    Thread.sleep(1500);
  }
 catch (  InterruptedException e) {
  }
  super.setup();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.JcrResourceListenerScalabilityTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("deprecation") @Before public void setUp() throws RepositoryException, InvalidSyntaxException {
  ObservationManager observationManager=mock(ObservationManager.class);
  Workspace workspace=mock(Workspace.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  Session session=mock(Session.class);
  when(session.getWorkspace()).thenReturn(workspace);
  SlingRepository repository=mock(SlingRepository.class);
  when(repository.loginAdministrative(null)).thenReturn(session);
  jcrResourceListener=new JcrResourceListener(new SimpleProviderContext(),"/",new PathMapperImpl(),RepositoryUtil.getRepository());
  Event event=mock(MockEvent.class);
  events=mock(EventIterator.class);
  when(events.hasNext()).thenReturn(true);
  when(event.getPath()).thenCallRealMethod();
  when(event.getType()).thenReturn(Event.NODE_ADDED);
  when(events.nextEvent()).thenReturn(event);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.JcrResourceListenerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("deprecation") @Before public void setUp() throws Exception {
  RepositoryUtil.startRepository();
  this.adminSession=RepositoryUtil.getRepository().loginAdministrative(null);
  RepositoryUtil.registerSlingNodeTypes(adminSession);
  this.listener=new JcrResourceListener(new ProviderContext(){
    @Override public ObservationReporter getObservationReporter(){
      return JcrResourceListenerTest.this.getObservationReporter();
    }
    @Override public PathSet getExcludedPaths(){
      return PathSet.fromPaths();
    }
  }
,"/",new PathMapperImpl(),RepositoryUtil.getRepository());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.JcrSystemUserValidatorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IllegalArgumentException, IllegalAccessException, RepositoryException, NamingException, NoSuchFieldException, SecurityException {
  jcrSystemUserValidator=new JcrSystemUserValidator();
  Field repositoryField=jcrSystemUserValidator.getClass().getDeclaredField("repository");
  repositoryField.setAccessible(true);
  repositoryField.set(jcrSystemUserValidator,getRepository());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.OakResourceListenerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  executor=Executors.newSingleThreadExecutor();
  final Oak oak=new Oak(new SegmentNodeStore());
  this.whiteboard=oak.getWhiteboard();
  final Repository repository=new Jcr(oak).createRepository();
  this.slingRepository=new RepositoryWrapper(repository);
  BundleContext bundleContext=mock(BundleContext.class);
  when(bundleContext.registerService(any(String.class),any(Object.class),any(Dictionary.class))).thenAnswer(new Answer<ServiceRegistration>(){
    public ServiceRegistration answer(    InvocationOnMock invocation) throws Throwable {
      Object[] arguments=invocation.getArguments();
      if (arguments[1] instanceof Observer) {
        registerObserver(whiteboard,(Observer)arguments[1]);
      }
      return mock(ServiceRegistration.class);
    }
  }
);
  listener=new OakResourceListener("/",new ProviderContext(){
    @Override public ObservationReporter getObservationReporter(){
      return OakResourceListenerTest.this.getObservationReporter();
    }
    @Override public PathSet getExcludedPaths(){
      return PathSet.fromPaths();
    }
  }
,bundleContext,executor,new PathMapperImpl(),1000,slingRepository);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.it.ResourceVersioningTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  resolver=MockResolverProvider.getResourceResolver();
  session=resolver.adaptTo(Session.class);
  versionManager=session.getWorkspace().getVersionManager();
  registerNamespace("sling","http://sling.apache.org/jcr/sling/1.0");
  Node testRoot=session.getRootNode().addNode("content");
  testNode=testRoot.addNode("test");
  testNode.addMixin(JcrConstants.MIX_VERSIONABLE);
  session.save();
  versionManager.checkout(testNode.getPath());
  testNode.setProperty("prop","oldvalue");
  testNode.addNode("x").addNode("y").setProperty("child_prop","child_old_value");
  session.save();
  versionManager.checkin(testNode.getPath());
  versionManager.checkout(testNode.getPath());
  testNode.setProperty("prop","newvalue");
  testNode.getProperty("x/y/child_prop").setValue("child_new_value");
  session.save();
  versionManager.checkin(testNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.performance.runner.PerformanceRunnerDynamicsTest.ExistingJUnitAnnotations </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before(){
  executions.add("junit before");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.ClassLoaderResourceProviderChildrenTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws MalformedURLException, IOException {
  classLoader=mockClassLoader(TEST_PATHS);
  provider=new ClassLoaderResourceProvider(classLoader);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.SlingFelixTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  startSling();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.StartupManagerTimestampTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws IOException {
  final File tmpFile=File.createTempFile(getClass().getSimpleName(),"tmp");
  final String tmpDirName=tmpFile.getParentFile().getAbsolutePath();
  try {
    final Map<String,String> properties=new HashMap<String,String>();
    properties.put(SharedConstants.SLING_HOME,tmpDirName);
    properties.put(Constants.FRAMEWORK_STORAGE,tmpDirName);
    properties.put(Constants.FRAMEWORK_BEGINNING_STARTLEVEL,"42");
    final Logger logger=new Logger();
    startupManager=new StartupManager(properties,logger);
  }
  finally {
    tmpFile.delete();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.bootstrapcommands.BootstrapCommandFileTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, BundleException {
  dataFile=File.createTempFile(getClass().getSimpleName(),"txt");
  final Bundle b1=mockery.mock(Bundle.class);
  mockery.checking(new Expectations(){
{
      allowing(b1).getSymbolicName();
      will(returnValue("somebundle"));
      allowing(b1).getHeaders();
      will(returnValue(new Hashtable<String,String>()));
      allowing(b1).getVersion();
      will(returnValue(new Version("1.0.0")));
      allowing(b1).uninstall();
    }
  }
);
  final Bundle[] bundles={b1};
  bundleContext=mockery.mock(BundleContext.class);
  mockery.checking(new Expectations(){
{
      allowing(bundleContext).getDataFile(with(any(String.class)));
      will(returnValue(dataFile));
      allowing(bundleContext).getBundles();
      will(returnValue(bundles));
      allowing(bundleContext).getServiceReference(with(any(String.class)));
      will(returnValue(null));
    }
  }
);
  cmdFile=File.createTempFile(getClass().getSimpleName(),"cmd");
  final PrintWriter w=new PrintWriter(new FileWriter(cmdFile));
  w.println("# Test command file, this is a comment");
  w.println("uninstall somebundle 1.0");
  w.println("#another comment");
  w.println("uninstall otherbundle 1.0");
  w.flush();
  w.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.bootstrapcommands.UninstallBundleCommandTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  final Bundle[] b=new Bundle[3];
  for (int i=0; i < b.length; i++) {
    b[i]=mockery.mock(Bundle.class,"bundle" + i);
  }
  mockery.checking(new Expectations(){
{
      allowing(b[0]).getSymbolicName();
      will(returnValue("testbundle"));
      allowing(b[0]).getHeaders();
      will(returnValue(new Hashtable<String,String>()));
      allowing(b[0]).getVersion();
      will(returnValue(new Version("1.0.0")));
      exactly(1).of(b[0]).uninstall();
    }
  }
);
  mockery.checking(new Expectations(){
{
      allowing(b[1]).getSymbolicName();
      will(returnValue("testbundle"));
      allowing(b[1]).getHeaders();
      will(returnValue(new Hashtable<String,String>()));
      allowing(b[1]).getVersion();
      will(returnValue(new Version("2.0.0")));
    }
  }
);
  mockery.checking(new Expectations(){
{
      allowing(b[2]).getSymbolicName();
      will(returnValue("otherbundle"));
      allowing(b[2]).getHeaders();
      will(returnValue(new Hashtable<String,String>()));
      allowing(b[2]).getVersion();
      will(returnValue(new Version("1.0.0")));
    }
  }
);
  bundleContext=mockery.mock(BundleContext.class);
  mockery.checking(new Expectations(){
{
      allowing(bundleContext).getBundles();
      will(returnValue(b));
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.installer.impl.LaunchpadConfigInstallerTest </h4><pre class="type-2 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup(){
  installer=Mockito.mock(OsgiInstaller.class);
  registered=new HashSet<String>();
  getChildrenReturnsNull=false;
  checkResourceTypes=false;
  final Answer<Void> rCollector=new Answer<Void>(){
    public Void answer(    InvocationOnMock invocation) throws Throwable {
      assertEquals("launchpad",invocation.getArguments()[0]);
      final InstallableResource[] resources=(InstallableResource[])invocation.getArguments()[1];
      for (      InstallableResource r : resources) {
        String value=r.getId();
        final Object hint=r.getDictionary() == null ? null : r.getDictionary().get(InstallableResource.INSTALLATION_HINT);
        if (hint != null) {
          value+="-H" + hint;
        }
        value+="-P" + r.getPriority();
        if (checkResourceTypes) {
          value+="-T" + r.getType();
        }
        registered.add(value);
      }
      return null;
    }
  }
;
  Mockito.doAnswer(rCollector).when(installer).registerResources(Matchers.anyString(),Matchers.any(InstallableResource[].class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.MappingEventsTest </h4><pre class="type-2 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public synchronized void setup() throws Exception {
  session=repository.loginAdministrative(null);
  final Node rootNode=maybeCreateNode(session.getRootNode(),"content","nt:unstructured");
  session.save();
  assertTrue("toDelete should be empty before test",toDelete.isEmpty());
  mapRoot=maybeCreateNode(session.getRootNode(),"etc","nt:folder");
  final Node map=maybeCreateNode(mapRoot,"map","sling:Mapping");
  final Node http=maybeCreateNode(map,"http","sling:Mapping");
  maybeCreateNode(http,"localhost.80","sling:Mapping");
  final Node https=maybeCreateNode(map,"https","sling:Mapping");
  maybeCreateNode(https,"localhost.443","sling:Mapping");
  toDelete.add(map.getPath());
  toDelete.add(rootNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void setup() throws Exception {
  closeResolver();
  resResolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  cleanupResolverFactory=resourceResolverFactory;
  session=resResolver.adaptTo(Session.class);
  mappingsFacade=new MappingsFacade(eventsCounter);
  rootNode=maybeCreateNode(session.getRootNode(),"content","nt:unstructured");
  rootPath=rootNode.getPath();
  session.save();
  if (toDelete.isEmpty()) {
    final Node mapRoot=maybeCreateNode(session.getRootNode(),"etc","nt:folder");
    final Node map=maybeCreateNode(mapRoot,"map","sling:Mapping");
    final Node http=maybeCreateNode(map,"http","sling:Mapping");
    maybeCreateNode(http,"localhost.80","sling:Mapping");
    final Node https=maybeCreateNode(map,"https","sling:Mapping");
    maybeCreateNode(https,"localhost.443","sling:Mapping");
    toDelete.add(map.getPath());
    toDelete.add(rootNode.getPath());
  }
  mapRoot=session.getNode("/etc");
  session.save();
  vanity=new String[]{"testVanity","testV","testVanityToUpdate"};
  rootNode.setProperty("sling:vanityPath",vanity);
  rootNode.addMixin("sling:VanityPath");
  saveMappings(session);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverWithVanityBloomFilterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public synchronized void setup() throws Exception {
  closeResolver();
  resResolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  setMaxCachedVanityPathEntries(0);
  cleanupResolverFactory=resourceResolverFactory;
  session=resResolver.adaptTo(Session.class);
  mappingsFacade=new MappingsFacade(eventsCounter);
  rootNode=maybeCreateNode(session.getRootNode(),"content","nt:unstructured");
  rootPath=rootNode.getPath();
  session.save();
  if (toDelete.isEmpty()) {
    final Node mapRoot=maybeCreateNode(session.getRootNode(),"etc","nt:folder");
    final Node map=maybeCreateNode(mapRoot,"map","sling:Mapping");
    final Node http=maybeCreateNode(map,"http","sling:Mapping");
    maybeCreateNode(http,"localhost.80","sling:Mapping");
    final Node https=maybeCreateNode(map,"https","sling:Mapping");
    maybeCreateNode(https,"localhost.443","sling:Mapping");
    toDelete.add(map.getPath());
    toDelete.add(rootNode.getPath());
  }
  mapRoot=session.getNode("/etc");
  session.save();
  vanity=new String[]{"testVanity","testV","testVanityToUpdate"};
  rootNode.setProperty("sling:vanityPath",vanity);
  rootNode.addMixin("sling:VanityPath");
  saveMappings(session);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  resolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspForwardTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  H.setUp();
  final String url=HttpTest.HTTP_BASE_URL + "/" + getClass().getSimpleName()+ "/"+ System.currentTimeMillis()+ SlingPostConstants.DEFAULT_CREATE_SUFFIX;
  final Map<String,String> props=new HashMap<String,String>();
  testTextA="Text A " + System.currentTimeMillis();
  props.put("text",testTextA);
  nodeUrlA=H.getTestClient().createNode(url,props);
  String pathToInclude=nodeUrlA.substring(HttpTest.HTTP_BASE_URL.length());
  testTextB="Text B " + System.currentTimeMillis();
  props.put("text",testTextB);
  props.put("pathToInclude",pathToInclude);
  nodeUrlB=H.getTestClient().createNode(url,props);
  props.put("pathToInclude",pathToInclude + ".html");
  nodeUrlE=H.getTestClient().createNode(url,props);
  props.put("pathToInclude",pathToInclude + ".html");
  props.put("forwardStyle","jsp");
  nodeUrlF=H.getTestClient().createNode(url,props);
  props.remove("pathToInclude");
  props.remove("forwardStyle");
  props.put("testInfiniteLoop","true");
  nodeUrlC=H.getTestClient().createNode(url,props);
  forcedResourceType=getClass().getSimpleName() + "/" + System.currentTimeMillis();
  props.remove("testInfiniteLoop");
  props.put("forceResourceType",forcedResourceType);
  props.put("pathToInclude",pathToInclude);
  nodeUrlD=H.getTestClient().createNode(url,props);
  scriptPath="/apps/" + forcedResourceType;
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,scriptPath);
  toDelete.add(H.uploadTestScript(scriptPath,"forward-forced.jsp","html.jsp"));
  scriptPath="/apps/nt/unstructured";
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,scriptPath);
  toDelete.add(H.uploadTestScript(scriptPath,"forward-test.jsp","html.jsp"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspIncludeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  H.setUp();
  final String url=HttpTest.HTTP_BASE_URL + "/" + getClass().getSimpleName()+ "/"+ System.currentTimeMillis()+ SlingPostConstants.DEFAULT_CREATE_SUFFIX;
  final Map<String,String> props=new HashMap<String,String>();
  testTextA="Text A " + System.currentTimeMillis();
  props.put("text",testTextA);
  nodeUrlA=H.getTestClient().createNode(url,props);
  String pathToInclude=nodeUrlA.substring(HttpTest.HTTP_BASE_URL.length());
  testTextB="Text B " + System.currentTimeMillis();
  props.put("text",testTextB);
  props.put("pathToInclude",pathToInclude);
  nodeUrlB=H.getTestClient().createNode(url,props);
  props.put("pathToInclude",pathToInclude + ".html");
  nodeUrlE=H.getTestClient().createNode(url,props);
  props.put("testMaxCalls","true");
  nodeUrlF=H.getTestClient().createNode(url,props);
  props.remove("pathToInclude");
  props.remove("testMaxCalls");
  props.put("testInfiniteLoop","true");
  nodeUrlC=H.getTestClient().createNode(url,props);
  forcedResourceType=getClass().getSimpleName() + "/" + System.currentTimeMillis();
  props.remove("testInfiniteLoop");
  props.put("forceResourceType",forcedResourceType);
  props.put("pathToInclude",pathToInclude);
  nodeUrlD=H.getTestClient().createNode(url,props);
  props.remove("forceResourceType");
  props.remove("pathToInclude");
  props.put("testCallScript","called-test.jsp");
  nodeUrlG=H.getTestClient().createNode(url,props);
  props.remove("forceResourceType");
  props.remove("testCallScript");
  props.put("testVarInclude","true");
  props.put("pathToInclude",pathToInclude);
  props.put("VAR_INCLUDE","VALUE");
  nodeUrlI=H.getTestClient().createNode(url,props);
  H.setScriptPath("/apps/" + forcedResourceType);
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,H.getScriptPath());
  toDelete.add(H.uploadTestScript(H.getScriptPath(),"include-forced.jsp","html.jsp"));
  H.setScriptPath("/apps/nt/unstructured");
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,H.getScriptPath());
  toDelete.add(H.uploadTestScript(H.getScriptPath(),"include-test.jsp","html.jsp"));
  toDelete.add(H.uploadTestScript(H.getScriptPath(),"called-test.jsp","called-test.jsp"));
  String nodeHResourceType=getClass().getSimpleName() + "/" + System.currentTimeMillis();
  String nodeHSuperResourceType=getClass().getSimpleName() + "/super" + System.currentTimeMillis();
  props.put("sling:resourceType",nodeHResourceType);
  props.put("sling:resourceSuperType",nodeHSuperResourceType);
  nodeUrlH=H.getTestClient().createNode(url,props);
  H.setScriptPath("/apps/" + nodeHResourceType);
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,H.getScriptPath());
  toDelete.add(H.uploadTestScript(H.getScriptPath(),"calling-test.jsp","html.jsp"));
  H.setScriptPath("/apps/" + nodeHSuperResourceType);
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,H.getScriptPath());
  toDelete.add(H.uploadTestScript(H.getScriptPath(),"called-test.jsp","called-test.jsp"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspScriptingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  H.setUp();
  final String testRootPath=HttpTest.HTTP_BASE_URL + "/" + getClass().getSimpleName()+ "/"+ System.currentTimeMillis();
  testRootUrl=H.getTestClient().createNode(testRootPath + SlingPostConstants.DEFAULT_CREATE_SUFFIX,null);
  rtNode=new HttpTestNode(H.getTestClient(),testRootPath + "/rt",null);
  unstructuredNode=new HttpTestNode(H.getTestClient(),testRootPath + "/unstructured",null);
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void tearDown() throws Exception {
  H.getTestClient().delete(testRootUrl);
  H.tearDown();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.ServerSideScriptsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  slingClient.mkdirs("/apps/" + RESOURCE_TYPE_PREFIX);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.WebDavDoubleSlashTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
  testPath="/test/" + getClass().getSimpleName() + "/"+ UUID.randomUUID();
  toDelete=H.getTestClient().createNode(HttpTest.HTTP_BASE_URL + testPath,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.AccessPrivilegesInfoTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
  String scriptPath="/apps/nt/unstructured";
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,scriptPath);
  toDelete.add(H.uploadTestScript(scriptPath,"accessmanager/privileges-info.json.esp","privileges-info.json.esp"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.AuthenticationResponseCodeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.SelectorAuthenticationResponseCodeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.indexing.FullTextIndexingTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  H.setUp();
  H.getTestClient().delete(HttpTest.WEBDAV_BASE_URL + uploadPath);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.installer.ServerSideInstallerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException {
  ip=teleporter.getService(InfoProvider.class);
  is=ip.getInstallationState();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.login.RedirectOnLogoutTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.provisioning.EmbeddedModelTest </h4><pre class="type-11 type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws IOException {
  final InputStream modelStream=teleporter.getService(LaunchpadContentProvider.class).getResourceAsStream(MODEL_RESOURCE_PATH);
  assertNotNull("Expecting embedded model resource at " + MODEL_RESOURCE_PATH,modelStream);
  try {
    modelContent=new String(IOUtils.toByteArray(modelStream));
  }
  finally {
    modelStream.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.repository.RepositoryInitializersTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.repository.RepositoryNameTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.resourceresolver.ResourceResolverApiTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException {
  final ResourceResolverFactory rrf=teleporter.getService(ResourceResolverFactory.class);
  resResolver=rrf.getAdministrativeResourceResolver(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteParentTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletPrivilegesUpdateTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
  postUrl=HttpTest.HTTP_BASE_URL + TEST_BASE_PATH + "/"+ System.currentTimeMillis();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.teleporter.LocalServiceTeleporterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  value=UUID.randomUUID().toString();
  final BundleContext bc=teleporter.getService(BundleContext.class);
  final SomeService s=new SomeService(){
    @Override public String getValue(){
      return LocalServiceTeleporterTest.this.value;
    }
  }
;
  reg=bc.registerService(SomeService.class.getName(),s,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.CreateUserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.UpdateUserTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.UserPrivilegesInfoTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  H.setUp();
  String scriptPath="/apps/sling/servlet/default";
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,scriptPath);
  toDelete.add(H.uploadTestScript(scriptPath,"usermanager/privileges-info.json.esp","privileges-info.json.esp"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.MessageStoreImplAttachmentsTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Some code is taken from http://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java
 */
@Before public void setup() throws Exception {
  resolver=new MockedResourceResolver();
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
  resolver.commit();
  store=new MessageStoreImpl(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  store.threadKeyGen=new ThreadKeyGeneratorImpl();
  store.attachmentFilter=new AttachmentFilterImpl();
  store.archivePath=testRoot.getPath() + "/";
  store.resourceTypeKey=MessageStoreImplRepositoryTest.TEST_RT_KEY;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.MessageStoreImplRepositoryTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Some code is taken from http://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java
 */
@Before public void setup() throws Exception {
  resolver=new MockedResourceResolver();
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
  resolver.commit();
  store=new MessageStoreImpl(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  store.threadKeyGen=new ThreadKeyGeneratorImpl();
  store.archivePath=testRoot.getPath() + "/";
  store.resourceTypeKey=TEST_RT_KEY;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.maven.projectsupport.BundleListContentProviderTest </h4><pre class="type-11 type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTemporaryFiles() throws IOException {
  TemporaryFolder configRoot=new TemporaryFolder(tempFolder.getRoot());
  configRoot.create();
  for (  String filename : CONFIG_FILES) {
    final File f=getConfigFile(configRoot,filename);
    f.createNewFile();
    assertTrue("Expecting temporary config file to have been created: " + f.getAbsolutePath(),f.exists());
  }
  configDirectory=configRoot.getRoot();
  resourceProviderRoot=new File(tempFolder.getRoot(),"RESOURCE_PROVIDER_ROOT");
  resourceProviderRoot.mkdirs();
  resourceProviderFile=new File(resourceProviderRoot,"RP_FILE_" + System.currentTimeMillis());
  resourceProviderFile.createNewFile();
  fakeBundlePath=getFakeBundlePath();
}

</code></pre>

<br>
<pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupProvider(){
  final Log log=Mockito.mock(Log.class);
  final Answer<Void> countWarningAnswers=new Answer<Void>(){
    public Void answer(    InvocationOnMock invocation) throws Throwable {
      logWarningsCount++;
      return null;
    }
  }
;
  Mockito.doAnswer(countWarningAnswers).when(log).warn(Matchers.any(String.class));
  Mockito.doAnswer(countWarningAnswers).when(log).warn(Matchers.any(Throwable.class));
  Mockito.doAnswer(countWarningAnswers).when(log).warn(Matchers.any(String.class),Matchers.any(Throwable.class));
  provider=new BundleListContentProvider(resourceProviderRoot){
    @Override BundleList getInitializedBundleList(){
      return bundleList;
    }
    @Override File getConfigDirectory(){
      return configDirectory;
    }
    @Override Artifact getArtifact(    ArtifactDefinition def) throws MojoExecutionException {
      final Artifact a=Mockito.mock(Artifact.class);
      final String fakeName=new StringBuilder().append("/FAKE_BUNDLE/").append(def.getArtifactId()).append("/").append(def.getStartLevel()).append("/").append(def.getRunModes()).toString();
      Mockito.when(a.getFile()).thenReturn(new File(fakeName));
      return a;
    }
    @Override Log getLog(){
      return log;
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.AdapterFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(0,0));
  factory.bindInjector(new SelfInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(DefaultStringModel.class,ConstructorWithExceptionModel.class,NestedModel.class,NestedModelWithInvalidAdaptable.class,NestedModelWithInvalidAdaptable2.class,ResourceModelWithRequiredField.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.AdapterImplementationsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  underTest=new AdapterImplementations();
  underTest.setImplementationPickers(Arrays.asList(new ImplementationPicker[]{new FirstImplementationPicker()}));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ConstructorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  when(request.getAttribute("attribute")).thenReturn(INT_VALUE);
  when(request.getAttribute("attribute2")).thenReturn(STRING_VALUE);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new RequestAttributeInjector(),new ServicePropertiesMap(1,1));
  factory.bindInjector(new SelfInjector(),new ServicePropertiesMap(2,2));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(WithOneConstructorModel.class,WithThreeConstructorsModel.class,WithTwoConstructorsModel.class,SuperclassConstructorModel.class,InvalidConstructorModel.class,WithThreeConstructorsOneInjectModel.class,NoNameModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.CustomInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(TestModel.class,CustomAnnotationModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.DefaultTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(0,0));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(DefaultStringModel.class,PropertyModelWithDefaults.class,DefaultPrimitivesModel.class,DefaultWrappersModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultPrimitivesModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultStringModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultWrappersModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ExtraDefaultTests </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(EmptyDefaultsModel.class,WrongTypeDefaultsModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ImplementsExtendsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before public void setup() throws ClassNotFoundException, MalformedURLException {
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  when(bundleContext.registerService(anyString(),anyObject(),any(Dictionary.class))).then(new Answer<ServiceRegistration>(){
    @Override public ServiceRegistration answer(    InvocationOnMock invocation) throws Throwable {
      final Dictionary<String,Object> props=(Dictionary<String,Object>)invocation.getArguments()[2];
      ServiceRegistration reg=mock(ServiceRegistration.class);
      ServiceReference ref=mock(ServiceReference.class);
      when(reg.getReference()).thenReturn(ref);
      when(ref.getProperty(anyString())).thenAnswer(new Answer(){
        @Override public Object answer(        InvocationOnMock invocation) throws Throwable {
          String key=(String)invocation.getArguments()[0];
          return props.get(key);
        }
      }
);
      return reg;
    }
  }
);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(2,2));
  factory.bindImplementationPicker(firstImplementationPicker,firstImplementationPickerProps);
  Dictionary<String,String> headers=new Hashtable<String,String>();
  headers.put(ModelPackageBundleListener.HEADER,"org.apache.sling.models.testmodels.classes.implextend");
  when(bundle.getHeaders()).thenReturn(headers);
  Vector<URL> classUrls=new Vector<URL>();
  classUrls.add(getClassUrl(ExtendsClassPropertyModel.class));
  classUrls.add(getClassUrl(ImplementsInterfacePropertyModel.class));
  classUrls.add(getClassUrl(ImplementsInterfacePropertyModel2.class));
  classUrls.add(getClassUrl(InvalidImplementsInterfacePropertyModel.class));
  classUrls.add(getClassUrl(InvalidSampleServiceInterface.class));
  classUrls.add(getClassUrl(SampleServiceInterface.class));
  classUrls.add(getClassUrl(SimplePropertyModel.class));
  when(bundle.findEntries(anyString(),anyString(),anyBoolean())).thenReturn(classUrls.elements());
  when(bundle.loadClass(anyString())).then(new Answer<Class<?>>(){
    @Override public Class<?> answer(    InvocationOnMock invocation) throws ClassNotFoundException {
      String className=(String)invocation.getArguments()[0];
      return ImplementsExtendsTest.this.getClass().getClassLoader().loadClass(className);
    }
  }
);
  registeredAdapterFactories=(ServiceRegistration[])factory.listener.addingBundle(bundle,bundleEvent);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.InjectorSpecificAnnotationTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  osgiInjector=new OSGiServiceInjector();
  osgiInjector.activate(componentCtx);
  BindingsInjector bindingsInjector=new BindingsInjector();
  ValueMapInjector valueMapInjector=new ValueMapInjector();
  ChildResourceInjector childResourceInjector=new ChildResourceInjector();
  RequestAttributeInjector requestAttributeInjector=new RequestAttributeInjector();
  factory.bindInjector(bindingsInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,1L));
  factory.bindInjector(valueMapInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,2L));
  factory.bindInjector(childResourceInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,3L));
  factory.bindInjector(requestAttributeInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,4L));
  factory.bindInjector(osgiInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,5L));
  factory.bindStaticInjectAnnotationProcessorFactory(bindingsInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,1L));
  factory.bindInjectAnnotationProcessorFactory(valueMapInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,2L));
  factory.bindInjectAnnotationProcessorFactory2(childResourceInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,3L));
  factory.bindStaticInjectAnnotationProcessorFactory(requestAttributeInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,4L));
  factory.bindStaticInjectAnnotationProcessorFactory(osgiInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,5L));
  SlingBindings bindings=new SlingBindings();
  bindings.setLog(log);
  Mockito.when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(InjectorSpecificAnnotationModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.InvalidAdaptationsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(1,1));
  factory.bindInjector(new ChildResourceInjector(),new ServicePropertiesMap(2,0));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(NonModel.class,RequestModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.MultipleInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  bindings=new SlingBindings();
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(bindingsInjector,new ServicePropertiesMap(1,1));
  factory.bindInjector(attributesInjector,new ServicePropertiesMap(2,2));
  factory.bindStaticInjectAnnotationProcessorFactory(bindingsInjector,new ServicePropertiesMap(1,1));
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(ForTwoInjectorsWithSource.class,ForTwoInjectors.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.OSGiInjectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  OSGiServiceInjector injectorFactory=new OSGiServiceInjector();
  injectorFactory.activate(componentCtx);
  factory.bindInjector(injectorFactory,new ServicePropertiesMap(1,1));
  bindings.setSling(helper);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(SimpleOSGiModel.class,ListOSGiModel.class,RequestOSGiModel.class,ArrayOSGiModel.class,SetOSGiModel.class,OptionalListOSGiModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.ListOSGiModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.SimpleOSGiModel.class,CollectionOSGiModel.class,OptionalArrayOSGiModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.OptionalPrimitivesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(2,2));
  factory.bindInjector(new ChildResourceInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(org.apache.sling.models.testmodels.classes.OptionalPrimitivesModel.class,org.apache.sling.models.testmodels.interfaces.OptionalPrimitivesModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.OptionalPrimitivesModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ParameterizedTypeFromRequestAttributeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  RequestAttributeInjector injector=new RequestAttributeInjector();
  factory.bindInjector(injector,new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(TestModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.PostConstructTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory.activate(componentCtx);
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(SubClass.class,SubClassOverriddenPostConstruct.class,FailingPostConstuctModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.RequestInjectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  SlingBindings bindings=new SlingBindings();
  bindings.setSling(sling);
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new BindingsInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(BindingsModel.class,org.apache.sling.models.testmodels.classes.constructorinjection.BindingsModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelClassesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  ValueMapInjector valueMapInjector=new ValueMapInjector();
  factory.bindInjector(valueMapInjector,new ServicePropertiesMap(2,2));
  factory.bindInjector(new ChildResourceInjector(),new ServicePropertiesMap(1,1));
  factory.bindInjectAnnotationProcessorFactory(valueMapInjector,Collections.<String,Object>singletonMap(Constants.SERVICE_ID,2L));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(SimplePropertyModel.class,ArrayWrappersModel.class,ResourceModelWithRequiredField.class,ChildValueMapModel.class,ArrayPrimitivesModel.class,ChildResourceModel.class,ResourceModelWithRequiredFieldOptionalStrategy.class,ParentModel.class,ChildModel.class,ListModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelConstructorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(2,2));
  factory.bindInjector(new ChildResourceInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(ParentModel.class,ChildModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelInterfacesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(2,2));
  factory.bindInjector(new ChildResourceInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(SimplePropertyModel.class,ResourceModelWithRequiredField.class,ChildResourceModel.class,ChildValueMapModel.class,ParentModel.class,ChildModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourcePathInjectionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("propertyContainingAPath","/some/other/path");
  map.put("anotherPropertyContainingAPath","/some/other/path2");
  String[] paths=new String[2];
  paths[0]="/some/other/path";
  paths[1]="/some/other/path2";
  String[] invalidPaths=new String[3];
  invalidPaths[0]="/does/not/exist";
  invalidPaths[1]="/does/not/exist2";
  invalidPaths[2]="/some/other/path";
  map.put("propertyWithSeveralPaths",paths);
  map.put("propertyWithMissingPaths",invalidPaths);
  ValueMap properties=new ValueMapDecorator(map);
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  when(adaptable.getResourceResolver()).thenReturn(resourceResolver);
  when(adaptable.adaptTo(ValueMap.class)).thenReturn(properties);
  when(resourceResolver.getResource("/some/path")).thenReturn(byPathResource);
  when(resourceResolver.getResource("/some/path2")).thenReturn(byPathResource2);
  when(resourceResolver.getResource("/some/other/path")).thenReturn(byPropertyValueResource);
  when(resourceResolver.getResource("/some/other/path2")).thenReturn(byPropertyValueResource2);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new SelfInjector(),new ServicePropertiesMap(1,Integer.MAX_VALUE));
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(2,2000));
  factory.bindInjector(new ResourcePathInjector(),new ServicePropertiesMap(3,2500));
  factory.bindStaticInjectAnnotationProcessorFactory(new ResourcePathInjector(),new ServicePropertiesMap(3,2500));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(ResourcePathModel.class,ResourcePathPartialModel.class,ResourcePathAllOptionalModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.SelfDependencyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  when(request.adaptTo(any(Class.class))).then(new Answer(){
    @Override public Object answer(    InvocationOnMock invocation) throws Throwable {
      Class<?> clazz=(Class<?>)invocation.getArguments()[0];
      return factory.getAdapter(request,clazz);
    }
  }
);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new SelfInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(SelfDependencyModelA.class,SelfDependencyModelB.class,DirectCyclicSelfDependencyModel.class,IndirectCyclicSelfDependencyModelA.class,IndirectCyclicSelfDependencyModelB.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.StaticInjectionAPFLoadOrderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  registerModelAdapterFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ViaTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(componentCtx.getBundleContext()).thenReturn(bundleContext);
  when(componentCtx.getProperties()).thenReturn(new Hashtable<String,Object>());
  when(request.getResource()).thenReturn(resource);
  factory=new ModelAdapterFactory();
  factory.activate(componentCtx);
  factory.bindInjector(new ValueMapInjector(),new ServicePropertiesMap(1,1));
  factory.adapterImplementations.addClassesAsAdapterAndImplementation(ViaModel.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.implpicker.FirstImplementationPickerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  underTest=new FirstImplementationPicker();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.BindingsInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  when(bindings.get(STRING_PARAM)).thenReturn(STRING_VALUE);
  when(bindings.get(INTEGER_PARAM)).thenReturn(INTEGER_VALUE);
  when(bindings.get(CLASS_PARAM)).thenReturn(CLASS_INSTANCE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.RequestAttributeInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  when(request.getAttribute(STRING_PARAM)).thenReturn(STRING_VALUE);
  when(request.getAttribute(INTEGER_PARAM)).thenReturn(INTEGER_VALUE);
  when(request.getAttribute(CLASS_PARAM)).thenReturn(CLASS_INSTANCE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SelfInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(modelAnnotation.defaultInjectionStrategy()).thenReturn(DefaultInjectionStrategy.REQUIRED);
  firstConstructorParameter=new ConstructorParameter(new Annotation[0],Object.class,Object.class,true,0,new StaticInjectAnnotationProcessorFactory[0],null);
  secondConstructorParameter=new ConstructorParameter(new Annotation[0],Object.class,Object.class,true,1,new StaticInjectAnnotationProcessorFactory[0],null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SlingObjectInjectorRequestTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  SlingBindings bindings=new SlingBindings();
  bindings.put(SlingBindings.SLING,this.scriptHelper);
  when(this.request.getResourceResolver()).thenReturn(this.resourceResolver);
  when(this.request.getResource()).thenReturn(this.resource);
  when(this.request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  when(this.scriptHelper.getResponse()).thenReturn(this.response);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SlingObjectInjectorResourceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  when(this.resource.getResourceResolver()).thenReturn(this.resourceResolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.ValueMapInjectorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  when(valueMap.get(STRING_PARAM,String.class)).thenReturn(STRING_VALUE);
  when(valueMap.get(INTEGER_PARAM,Integer.class)).thenReturn(INTEGER_VALUE);
  when(valueMap.get(CLASS_PARAM,ResourceResolver.class)).thenReturn(CLASS_INSTANCE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ImplementsExtendsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  firstValue=RandomStringUtils.randomAlphanumeric(10);
  thirdValue=RandomStringUtils.randomAlphanumeric(10);
  resolver=rrFactory.getAdministrativeResourceResolver(null);
  Session session=resolver.adaptTo(Session.class);
  Node rootNode=session.getRootNode();
  createdNode=rootNode.addNode("test_" + RandomStringUtils.randomAlphanumeric(10));
  createdNode.setProperty("first",firstValue);
  createdNode.setProperty("third",thirdValue);
  session.save();
  resource=resolver.getResource(createdNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ModelFactorySimpleTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  value=RandomStringUtils.randomAlphanumeric(10);
  resolver=rrFactory.getAdministrativeResourceResolver(null);
  Session session=resolver.adaptTo(Session.class);
  Node rootNode=session.getRootNode();
  createdNode=rootNode.addNode("test_" + RandomStringUtils.randomAlphanumeric(10));
  createdNode.setProperty("testProperty",value);
  session.save();
  resource=resolver.getResource(createdNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.SimpleTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  value=RandomStringUtils.randomAlphanumeric(10);
  resolver=rrFactory.getAdministrativeResourceResolver(null);
  Session session=resolver.adaptTo(Session.class);
  Node rootNode=session.getRootNode();
  createdNode=rootNode.addNode("test_" + RandomStringUtils.randomAlphanumeric(10));
  createdNode.setProperty("testProperty",value);
  session.save();
  resource=resolver.getResource(createdNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderRootTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  registerResourceProviderFactoryAsRoot();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  registerResourceProviderFactory();
  Resource rootNode=testRoot();
  Map<String,Object> props=new HashMap<String,Object>();
  props.put(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED);
  props.put("stringProp",STRING_VALUE);
  props.put("stringArrayProp",STRING_ARRAY_VALUE);
  props.put("integerProp",INTEGER_VALUE);
  props.put("doubleProp",DOUBLE_VALUE);
  props.put("booleanProp",BOOLEAN_VALUE);
  props.put("dateProp",DATE_VALUE);
  props.put("calendarProp",CALENDAR_VALUE);
  props.put("binaryProp",new ByteArrayInputStream(BINARY_VALUE));
  Resource node1=context.resourceResolver().create(rootNode,"node1",props);
  context.resourceResolver().create(node1,"node11",ImmutableMap.<String,Object>builder().put("stringProp11",STRING_VALUE).build());
  context.resourceResolver().create(node1,"node12",ValueMap.EMPTY);
  context.resourceResolver().commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTransactionalTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  registerResourceProviderFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.simple.SimpleNoSqlResourceProviderQueryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context.registerInjectActivateService(new SimpleNoSqlResourceProviderFactory(),ImmutableMap.<String,Object>builder().put(ResourceProvider.ROOTS,"/nosql-simple").build());
  Map<String,Object> props=new HashMap<String,Object>();
  props.put(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED);
  final Resource root=context.resourceResolver().getResource("/");
  Resource noSqlRoot=context.resourceResolver().create(root,"nosql-simple",props);
  this.testRoot=context.resourceResolver().create(noSqlRoot,"test",props);
  context.resourceResolver().create(testRoot,"node1",ImmutableMap.<String,Object>of("prop1","value1"));
  context.resourceResolver().create(testRoot,"node2",ImmutableMap.<String,Object>of("prop1","value2"));
  context.resourceResolver().commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.mongodb.resourceprovider.integration.IndexCreationIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  String connectionString=System.getProperty("connectionString","localhost:27017");
  database=System.getProperty("database","sling") + "_indextest";
  collection=System.getProperty("collection","resources");
  mongoClient=new MongoClient(connectionString);
  underTest=new MongoDBNoSqlAdapter(mongoClient,database,collection);
  underTest.checkConnection();
  underTest.createIndexDefinitions();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.paxexam.util.SlingSetupTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  final StartupHandler h=new StartupHandler(){
    public void waitWithStartup(    boolean b){
    }
    public boolean isFinished(){
      return true;
    }
    public StartupMode getMode(){
      return StartupMode.INSTALL;
    }
  }
;
  startupHandlerRegistration=bundleContext.registerService(StartupHandler.class.getName(),h,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.performance.tests.ResolveNonExistingWithManyAliasTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before protected void beforeSuite() throws Exception {
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/folder.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/resource.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/vanitypath.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/mapping.cnd"));
  rootPath="/test" + System.currentTimeMillis();
  rootNode=getSession().getRootNode().addNode(rootPath.substring(1),JcrConstants.NT_UNSTRUCTURED);
  mapRoot=getSession().getRootNode().addNode("etc","nt:folder");
  Node map=mapRoot.addNode("map","sling:Mapping");
  Node http=map.addNode("http","sling:Mapping");
  http.addNode("localhost.80","sling:Mapping");
  Node https=map.addNode("https","sling:Mapping");
  https.addNode("localhost.443","sling:Mapping");
  SecureRandom random=new SecureRandom();
  for (int j=0; j < nodeCount; j++) {
    Node content=rootNode.addNode("a" + j,JcrConstants.NT_UNSTRUCTURED);
    String alias=new BigInteger(130,random).toString(32);
    content.setProperty(PN_SLING_ALIAS,alias);
    if (j % 10 == 0) {
      session.save();
    }
  }
  session.save();
  helper.init(rootPath,session,getRepository());
  resResolver=helper.getResourceResolver();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.performance.tests.ResolveNonExistingWithManyVanityPathTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before protected void beforeSuite() throws Exception {
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/folder.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/resource.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/vanitypath.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/mapping.cnd"));
  rootPath="/test" + System.currentTimeMillis();
  rootNode=getSession().getRootNode().addNode(rootPath.substring(1),"nt:unstructured");
  mapRoot=getSession().getRootNode().addNode("etc",JcrConstants.NT_FOLDER);
  Node map=mapRoot.addNode("map","sling:Mapping");
  Node http=map.addNode("http","sling:Mapping");
  http.addNode("localhost.80","sling:Mapping");
  Node https=map.addNode("https","sling:Mapping");
  https.addNode("localhost.443","sling:Mapping");
  SecureRandom random=new SecureRandom();
  for (int j=0; j < nodeCount; j++) {
    Node content=rootNode.addNode("a" + j,JcrConstants.NT_UNSTRUCTURED);
    String s=new BigInteger(130,random).toString(32);
    content.addMixin(NT_VANITY_PATH);
    content.setProperty(PN_VANITY_PATH,s);
    for (int k=0; k < childNodeCount; k++) {
      Node content2=content.addNode("b" + k,JcrConstants.NT_UNSTRUCTURED);
      String ss=new BigInteger(130,random).toString(32);
      content2.addMixin(NT_VANITY_PATH);
      content2.setProperty(PN_VANITY_PATH,ss);
    }
    if (j % 10 == 0) {
      session.save();
    }
  }
  session.save();
  helper.init(rootPath,session,getRepository());
  resResolver=helper.getResourceResolver();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.performance.tests.StartupWithManyAliasTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before protected void beforeSuite() throws Exception {
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/folder.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/resource.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/vanitypath.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/mapping.cnd"));
  rootPath="/test" + System.currentTimeMillis();
  rootNode=getSession().getRootNode().addNode(rootPath.substring(1),"nt:unstructured");
  mapRoot=getSession().getRootNode().addNode("etc",JcrConstants.NT_FOLDER);
  Node map=mapRoot.addNode("map","sling:Mapping");
  Node http=map.addNode("http","sling:Mapping");
  Node aliasNode=map.addNode("alias","nt:unstructured");
  Node localhost80=http.addNode("localhost.80","sling:Mapping");
  Node https=map.addNode("https","sling:Mapping");
  https.addNode("localhost.443","sling:Mapping");
  SecureRandom random=new SecureRandom();
  for (int j=0; j < nodeCount; j++) {
    Node content=rootNode.addNode("a" + j,JcrConstants.NT_UNSTRUCTURED);
    String alias=new BigInteger(130,random).toString(32);
    content.setProperty(PN_SLING_ALIAS,alias);
    if (j % 10 == 0) {
      session.save();
    }
  }
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.performance.tests.StartupWithManyVanityTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before protected void beforeSuite() throws Exception {
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/folder.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/resource.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/vanitypath.cnd"));
  RepositoryUtil.registerNodeType(getSession(),this.getClass().getResourceAsStream("/SLING-INF/nodetypes/mapping.cnd"));
  rootPath="/test" + System.currentTimeMillis();
  rootNode=getSession().getRootNode().addNode(rootPath.substring(1),"nt:unstructured");
  mapRoot=getSession().getRootNode().addNode("etc",JcrConstants.NT_FOLDER);
  Node map=mapRoot.addNode("map","sling:Mapping");
  Node http=map.addNode("http","sling:Mapping");
  Node aliasNode=map.addNode("alias","nt:unstructured");
  Node localhost80=http.addNode("localhost.80","sling:Mapping");
  Node https=map.addNode("https","sling:Mapping");
  https.addNode("localhost.443","sling:Mapping");
  SecureRandom random=new SecureRandom();
  for (int j=0; j < nodeCount; j++) {
    Node content=rootNode.addNode("a" + j,JcrConstants.NT_UNSTRUCTURED);
    String s=new BigInteger(130,random).toString(32);
    content.addMixin(NT_VANITY_PATH);
    content.setProperty(PN_VANITY_PATH,s);
    for (int k=0; k < childNodeCount; k++) {
      Node content2=content.addNode("b" + k,JcrConstants.NT_UNSTRUCTURED);
      String ss=new BigInteger(130,random).toString(32);
      content2.addMixin(NT_VANITY_PATH);
      content2.setProperty(PN_VANITY_PATH,ss);
    }
    if (j % 10 == 0) {
      session.save();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.AbstractPipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  PlumberImpl plumberImpl=new PlumberImpl();
  plumberImpl.activate();
  plumberImpl.registerPipe("slingPipes/dummyNull",DummyNull.class);
  plumberImpl.registerPipe("slingPipes/dummySearch",DummySearch.class);
  plumber=plumberImpl;
  context.load().json("/fruits.json",PATH_FRUITS);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.ContainerPipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/container.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.JsonPipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/json.json","/content/json");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MovePipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/move.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MultiPropertyPipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/multiProperty.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.PipeBindingsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/container.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.PlumberServletTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/plumber.json",PATH_PIPE);
  context.load().json("/container.json",containersPath);
  context.load().json("/write.json",writePath);
  servlet.plumber=plumber;
  stringResponse=new StringWriter();
  try {
    response=mockPlumberServletResponse(stringResponse);
  }
 catch (  Exception e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.RemovePipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context.load().json("/remove.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.SlingQueryPipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/users.json","/content/users");
  context.load().json("/slingQuery.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.WritePipeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  super.setup();
  context.load().json("/write.json",PATH_PIPE);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelProcessorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  testModel=new Model();
  testModel.setLocation("LocM1");
  Feature feature1=testModel.getOrCreateFeature("feature1");
  feature1.setLocation("LocF1");
  feature1.setComment("ComF1");
  feature1.setType(FeatureTypes.SUBSYSTEM_COMPOSITE);
  feature1.getVariables().setLocation("LocFV1");
  feature1.getVariables().setComment("ComFV1");
  feature1.getVariables().put("k1","v1");
  feature1.getVariables().put("k2","v2");
  RunMode runMode11=feature1.getOrCreateRunMode(new String[]{"rm1","rm2"});
  runMode11.setLocation("LocRM11");
  RunMode runMode12=feature1.getOrCreateRunMode(new String[]{"rm2"});
  ArtifactGroup group12=runMode12.getOrCreateArtifactGroup(10);
  group12.setLocation("LocRMG11");
  group12.setComment("ComRMG11");
  group12.add(new Artifact("g1","a1","v1","c1","t1"));
  group12.add(new Artifact("g2","a2","v2",null,null));
  runMode12.getConfigurations().setLocation("LocConf12");
  runMode12.getConfigurations().setComment("ComConf12");
  Configuration conf121=runMode12.getOrCreateConfiguration("pid1",null);
  conf121.setLocation("LocConf121");
  conf121.setComment("ComConf121");
  conf121.getProperties().put("conf1","v1");
  conf121.getProperties().put("conf2","v2");
  Configuration conf122=runMode12.getOrCreateConfiguration("pid2","fac2");
  conf122.setLocation("LocConf122");
  conf122.setComment("ComConf122");
  conf122.getProperties().put("conf3","v3");
  runMode12.getSettings().setLocation("LocSet12");
  runMode12.getSettings().setComment("ComSet12");
  runMode12.getSettings().put("set1","v1");
  runMode12.getSettings().put("set2","v2");
  Feature feature2=testModel.getOrCreateFeature("feature1");
  RunMode runMode21=feature2.getOrCreateRunMode(new String[0]);
  ArtifactGroup group21=runMode21.getOrCreateArtifactGroup(20);
  group21.add(new Artifact("g3","a3",null,null,null));
  underTest=new TestModelProcessor();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelUtilityApplyArtifactVersionsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  testModel=new Model();
  Feature feature=testModel.getOrCreateFeature("feature1");
  RunMode runMode=feature.getOrCreateRunMode(new String[]{"rm1"});
  ArtifactGroup group=runMode.getOrCreateArtifactGroup(10);
  group.add(new Artifact("g1","a1","v1","c1","t1"));
  group.add(new Artifact("g2","a2","LATEST",null,null));
  group.add(new Artifact("g3","a3","LATEST",null,null));
  testArtifactVersionResolver=new ArtifactVersionResolver(){
    @Override public String resolve(    Artifact artifact){
      if ("g2".equals(artifact.getGroupId()) && "a2".equals(artifact.getArtifactId())) {
        return "v2";
      }
      return null;
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelUtilityApplyVariablesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  testModel=new Model();
  Feature feature=testModel.getOrCreateFeature("feature1");
  feature.getVariables().put("param1","v1");
  feature.getVariables().put("extparam2","v2");
  RunMode runMode=feature.getOrCreateRunMode(new String[]{"rm1"});
  ArtifactGroup group=runMode.getOrCreateArtifactGroup(10);
  group.add(new Artifact("g1","a1","${param1}","c1","t1"));
  group.add(new Artifact("g2","a2","${extparam2}",null,null));
  Configuration conf=runMode.getOrCreateConfiguration("pid1",null);
  conf.getProperties().put(ModelConstants.CFG_UNPROCESSED,"conf1=\"${extparam1}\"\n" + "conf2=\"${extparam2}\"");
  runMode.getSettings().put("set1","${param1}");
  testVariableResolver=new VariableResolver(){
    @Override public String resolve(    Feature feature,    String name){
      if ("extparam1".equals(name)) {
        return "extvalue1";
      }
      if ("extparam2".equals(name)) {
        return "extvalue2";
      }
      return feature.getVariables().get(name);
    }
  }
;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.it.RepoInitIT </h4><pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  WaitFor.services(teleporter,SlingRepository.class,RepoInitParser.class);
  session=teleporter.getService(SlingRepository.class).loginAdministrative(null);
  try {
    session.getRootNode().addNode("acltest").addNode("A").addNode("B").save();
    ;
  }
 catch (  RepositoryException ignore) {
  }
  assertTrue("Expecting test nodes to be created",session.itemExists("/acltest/A/B"));
  final InputStream is=getClass().getResourceAsStream(REPO_INIT_FILE);
  assertNotNull("Expecting " + REPO_INIT_FILE,is);
  try {
    final RepoInitParser parser=teleporter.getService(RepoInitParser.class);
    final OperationVisitor v=new JcrRepoInitOpVisitor(session);
    for (    Operation op : parser.parse(new InputStreamReader(is,"UTF-8"))) {
      op.accept(v);
    }
    session.save();
  }
  finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.jcr.CreateServiceUsersTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException {
  U=new TestUtil(context);
  namePrefix="user_" + random.nextInt();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.jcr.GeneralAclTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException, RepoInitParsingException {
  U=new TestUtil(context);
  U.parseAndExecute("create service user " + U.username);
  s=U.loginService(U.username);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.jcr.NonExistentPathTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException, RepoInitParsingException {
  U=new TestUtil(context);
  U.parseAndExecute("create service user " + U.username);
  s=U.loginService(U.username);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resource.collection.impl.ResourceCollectionImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  resResolver=new MockResourceResolverFactory().getAdministrativeResourceResolver(null);
  rcm=new ResourceCollectionManagerImpl();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceaccesssecurity.impl.ResourceAccessSecurityImplTests </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  resourceAccessSecurity=new ProviderResourceAccessSecurityImpl();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.impl.ResourceBuilderImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  testRootPath="/" + UUID.randomUUID().toString();
  resourceResolver=context.resourceResolver();
  A=new ResourceAssertions(testRootPath,resourceResolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.it.FileRetrievalIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException, PersistenceException {
  E=new TestEnvironment(teleporter);
  A=new ResourceAssertions(E.testRootPath,E.resolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.it.ResourceBuilderIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException, PersistenceException {
  E=new TestEnvironment(teleporter);
  A=new ResourceAssertions(E.testRootPath,E.resolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.MergedResourceProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final MockResourceResolverFactoryOptions options=new MockResourceResolverFactoryOptions();
  options.setSearchPaths(new String[]{"/apps/","/libs/"});
  final ResourceResolverFactory factory=new MockResourceResolverFactory(options);
  this.resolver=factory.getResourceResolver(null);
  MockHelper.create(this.resolver).resource("/apps").resource("a").p(MergedResourceConstants.PN_HIDE_CHILDREN,new String[]{"Z","x","y"}).resource("1").p("a","1").p("b","2").resource(".2").p(ResourceResolver.PROPERTY_RESOURCE_TYPE,"apps").resource(".3").p("e","2").p(MergedResourceConstants.PN_HIDE_PROPERTIES,"*").p("b","x").p("d","1").resource(".4").p("e","2").p(MergedResourceConstants.PN_HIDE_PROPERTIES,new String[]{"a","c"}).p("b","x").p("d","1").resource(".X").resource("/apps/b").resource("c").resource("d").resource("e").resource("f").resource("/libs").resource("deleteTest").resource(".mvmTest").p("a","1").p("b","2").resource(".a").resource("1").p("a","5").p("c","2").resource(".2").p(ResourceResolver.PROPERTY_RESOURCE_TYPE,"libs").resource(".3").p("a","1").p("b","2").p("c","3").resource(".4").p("a","1").p("b","2").p("c","3").resource(".Y").resource(".Z").resource("/libs/a/Y/a").resource("/libs/a/Y/b").resource("/libs/a/Y/c").resource("/libs/b").resource("c").resource("d").resource("e").resource("f").commit();
  this.provider=new CRUDMergingResourceProvider("/merged",new MergingResourcePicker(),false);
  this.ctx=new BasicResolveContext(resolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.OverridingResourceProviderTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  final MockResourceResolverFactoryOptions options=new MockResourceResolverFactoryOptions();
  options.setSearchPaths(new String[]{"/apps","/libs"});
  final ResourceResolverFactory factory=new MockResourceResolverFactory(options);
  this.resolver=factory.getAdministrativeResourceResolver(null);
  MockHelper.create(this.resolver).resource("/apps").resource("a").resource("1").p("a","1").p("b","1").resource("a").p("1","a").p("2","b").resource(".b").p("1","a").p("2","b").resource("1").resource("/apps/a/1/d").p("a","1").p("b","2").resource("1").p("1","a").p("2","b").resource("a").resource("/apps/a/1/d/1/b").resource("1").resource("/apps/a/1/c").p("1","a").p("2","b").resource("/apps/a/2").p(SUPER_TYPE,"a/1").p("b","2").p(MergedResourceConstants.PN_HIDE_CHILDREN,new String[]{"b"}).resource("c").p("1","c").resource("/apps/a/3").p(SUPER_TYPE,"a/2").resource("/apps/a/4").p(SUPER_TYPE,"/apps/a/4/b/4").resource("b").resource("4").resource("d").resource("/apps/x").p(SUPER_TYPE,"x/y").resource("y").resource("z").commit();
  this.provider=new MergingResourceProvider("/override",new OverridingResourcePicker(),false,true);
  this.ctx=new BasicResolveContext(resolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.MockedResourceResolverImplTest </h4><pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Before public void before() throws LoginException {
  activator=new ResourceResolverFactoryActivator();
  Mockito.when(componentContext.getProperties()).thenReturn(buildBundleProperties());
  Mockito.when(componentContext.getBundleContext()).thenReturn(bundleContext);
  activator.resourceAccessSecurityTracker=new ResourceAccessSecurityTracker();
  activator.resourceProviderTracker=resourceProviderTracker;
  activator.changeListenerWhiteboard=resourceChangeListenerWhiteboard;
  handlers.add(createRPHandler(resourceProvider,"org.apache.sling.resourceresolver.impl.DummyTestProvider",10L,"/single"));
  buildMappingResource("/etc/map",mappingResourceProvider,null);
  handlers.add(createRPHandler(mappingResourceProvider,"org.apache.sling.resourceresolver.impl.MapProvider",11L,"/etc"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",12L,"/libs"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",13L,"/apps"));
  handlers.add(createRPHandler(queriableResourceProviderA,"org.apache.sling.resourceresolver.impl.QueriableResourceProviderA",14L,"/searchA"));
  Mockito.when(queriableResourceProviderA.getQueryLanguageProvider()).thenReturn(queryProvider);
  ResourceProviderStorage storage=new ResourceProviderStorage(handlers);
  Mockito.when(resourceProviderTracker.getResourceProviderStorage()).thenReturn(storage);
  activator.activate(componentContext);
  Mockito.when(usingBundle.getBundleContext()).thenReturn(usingBundleContext);
  Mockito.when(usingBundleContext.getBundle()).thenReturn(usingBundle);
  ArgumentCaptor<String> classesCaptor=ArgumentCaptor.forClass(String.class);
  ArgumentCaptor serviceCaptor=ArgumentCaptor.forClass(Object.class);
  @SuppressWarnings("rawtypes") ArgumentCaptor<Dictionary> propertiesCaptor=ArgumentCaptor.forClass(Dictionary.class);
  Mockito.verify(bundleContext,Mockito.atLeastOnce()).registerService(classesCaptor.capture(),serviceCaptor.capture(),propertiesCaptor.capture());
  int si=0;
  List serviceList=serviceCaptor.getAllValues();
  @SuppressWarnings({"unused","rawtypes"}) List<Dictionary> servicePropertiesList=propertiesCaptor.getAllValues();
  for (  String serviceName : classesCaptor.getAllValues()) {
    services.put(serviceName,serviceList.get(si));
    serviceProperties.put(serviceName,serviceProperties.get(si));
    si++;
  }
  Assert.assertNotNull(services.get(ResourceResolverFactory.class.getName()));
  Object rrf=services.get(ResourceResolverFactory.class.getName());
  if (rrf instanceof ServiceFactory) {
    rrf=((ServiceFactory)rrf).getService(usingBundle,null);
  }
  Assert.assertTrue(rrf instanceof ResourceResolverFactoryImpl);
  resourceResolverFactory=(ResourceResolverFactoryImpl)rrf;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceDecoratorReturnsNullTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException {
  super.setup();
  pathsThatReturnNull.add("/tmp/D");
  pathsThatReturnNull.add("/var/two");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceDecoratorTestBase </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException {
  final ResourceDecorator d=new ResourceDecorator(){
    @Override public Resource decorate(    Resource resource){
      return ResourceDecoratorTestBase.this.wrapResourceForTest(resource);
    }
    @Override public Resource decorate(    Resource resource,    HttpServletRequest request){
      throw new UnsupportedOperationException("Not supposed to be used in these tests");
    }
  }
;
  final ResourceDecoratorTracker t=new ResourceDecoratorTracker();
  t.bindResourceDecorator(d,null);
  final ResourceProvider<?> provider=new ResourceProvider(){
    @Override public QueryLanguageProvider getQueryLanguageProvider(){
      return new QueryLanguageProvider(){
        @Override public String[] getSupportedLanguages(        ResolverContext ctx){
          return new String[]{QUERY_LANGUAGE};
        }
        @Override public Iterator<Resource> findResources(        ResolverContext ctx,        String query,        String language){
          final List<Resource> found=new ArrayList<Resource>();
          found.add(mockResource("/tmp/C"));
          found.add(mockResource("/tmp/D"));
          found.add(mockResource("/var/one"));
          found.add(mockResource("/var/two"));
          return found.iterator();
        }
        @Override public Iterator<ValueMap> queryResources(        ResolverContext ctx,        String query,        String language){
          return null;
        }
      }
;
    }
    @Override public Resource getResource(    ResolverContext ctx,    String path,    final ResourceContext rCtx,    Resource parent){
      if (path.equals("/") || path.startsWith("/tmp") || path.startsWith("/var")) {
        return mockResource(path);
      }
      return null;
    }
    @Override public Iterator<Resource> listChildren(    ResolverContext ctx,    Resource parent){
      final List<Resource> children=new ArrayList<Resource>();
      if ("/".equals(parent.getPath())) {
        children.add(mockResource("/tmp"));
        children.add(mockResource("/var"));
      }
 else       if ("/var".equals(parent.getPath())) {
        children.add(mockResource("/var/one"));
        children.add(mockResource("/var/two"));
        children.add(mockResource("/var/three"));
      }
 else       if ("/tmp".equals(parent.getPath())) {
        children.add(mockResource("/tmp/A"));
        children.add(mockResource("/tmp/B"));
        children.add(mockResource("/tmp/C"));
        children.add(mockResource("/tmp/D"));
      }
      return children.iterator();
    }
  }
;
  ResourceResolverFactoryActivator activator=new ResourceResolverFactoryActivator();
  final CommonResourceResolverFactoryImpl crf=new CommonResourceResolverFactoryImpl(activator){
    @Override public ResourceDecoratorTracker getResourceDecoratorTracker(){
      return t;
    }
  }
;
  List<ResourceProviderHandler> list=Arrays.asList(MockedResourceResolverImplTest.createRPHandler(provider,"A-provider",0L,"/"));
  resolver=new ResourceResolverImpl(crf,false,null,new ResourceProviderStorage(list));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceProviderEntryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.mockedRootResolver=Mockito.mock(ResourceResolver.class);
  this.providersBasedResolver=null;
  this.providers.clear();
  final ResourceProvider<?> rootProvider=Mockito.mock(ResourceProvider.class);
  Mockito.when(rootProvider.getResource(Mockito.any(ResolverContext.class),Mockito.anyString(),Mockito.any(ResourceContext.class),Mockito.any(Resource.class))).thenReturn(new TestResource(this.mockedRootResolver));
  providers.add(createRPHandler(rootProvider,"rp0",0,"/"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  ResourceResolverFactoryActivator activator=new ResourceResolverFactoryActivator();
  activator.resourceProviderTracker=new ResourceProviderTracker();
  commonFactory=new CommonResourceResolverFactoryImpl(activator);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws LoginException {
  ResourceProvider<?> rp=new ResourceProvider(){
    @Override public Resource getResource(    ResolverContext ctx,    String path,    ResourceContext rCtx,    Resource parent){
      return null;
    }
    @Override public Iterator<Resource> listChildren(    ResolverContext ctx,    Resource parent){
      return null;
    }
  }
;
  List<ResourceProviderHandler> handlers=asList(createRPHandler(rp,"rp1",0,"/"));
  resourceProviderTracker=mock(ResourceProviderTracker.class);
  ResourceProviderStorage storage=new ResourceProviderStorage(handlers);
  when(resourceProviderTracker.getResourceProviderStorage()).thenReturn(storage);
  ResourceResolverFactoryActivator activator=new ResourceResolverFactoryActivator();
  activator.resourceProviderTracker=resourceProviderTracker;
  commonFactory=new CommonResourceResolverFactoryImpl(activator);
  resFac=new ResourceResolverFactoryImpl(commonFactory,null,null);
  resResolver=resFac.getAdministrativeResourceResolver(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverMangleNamespacesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws RepositoryException, LoginException {
  MockitoAnnotations.initMocks(this);
  activeSession=mockedSession;
  final ResourceResolverFactoryActivator act=new ResourceResolverFactoryActivator(){
    @Override public boolean isMangleNamespacePrefixes(){
      return true;
    }
  }
;
  Mockito.when(mockedSession.getNamespacePrefix(NS_PREFIX)).thenReturn(NS_URL);
  final ResourceProvider<?> rp=new ResourceProvider(){
    @SuppressWarnings("unchecked") @Override public @CheckForNull <AdapterType>AdapterType adaptTo(    final @Nonnull ResolverContext ctx,    final @Nonnull Class<AdapterType> type){
      if (type.equals(Session.class)) {
        return (AdapterType)activeSession;
      }
 else {
        return null;
      }
    }
    @Override public Resource getResource(    ResolverContext ctx,    String path,    ResourceContext rCtx,    Resource parent){
      return null;
    }
    @SuppressWarnings("unchecked") @Override public Iterator<Resource> listChildren(    ResolverContext ctx,    Resource parent){
      return IteratorUtils.emptyIterator();
    }
  }
;
  final CommonResourceResolverFactoryImpl fac=new CommonResourceResolverFactoryImpl(act);
  rr=new ResourceResolverImpl(fac,false,null,new ResourceProviderStorage(Arrays.asList(MockedResourceResolverImplTest.createRPHandler(rp,"rp1",0,"/"))));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.helper.ResourceResolverControlTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare() throws Exception {
  BundleContext bc=MockOsgi.newBundleContext();
  Fixture fixture=new Fixture(bc);
  subProvider=Mockito.mock(ResourceProvider.class);
  ResourceProviderInfo info=fixture.registerResourceProvider(subProvider,"/some/path",AuthType.required);
  ResourceProviderHandler handler=new ResourceProviderHandler(bc,info);
  when(subProvider.getQueryLanguageProvider()).thenReturn(new SimpleQueryLanguageProvider(QL_MOCK,QL_ANOTHER_MOCK){
    @Override public Iterator<ValueMap> queryResources(    ResolverContext ctx,    String query,    String language){
      if (query.equals(QUERY_MOCK_FIND_ALL) && language.equals(QL_MOCK)) {
        SimpleValueMapImpl valueMap=new SimpleValueMapImpl();
        valueMap.put("key","value");
        return Collections.<ValueMap>singletonList(valueMap).iterator();
      }
      throw new UnsupportedOperationException();
    }
    @Override public Iterator<Resource> findResources(    ResolverContext ctx,    String query,    String language){
      if (query.equals(QUERY_MOCK_FIND_ALL) && language.equals(QL_MOCK)) {
        return Collections.<Resource>singletonList(newMockResource("/some/path/object")).iterator();
      }
      throw new UnsupportedOperationException();
    }
  }
);
  handler.activate();
  rootProvider=mock(ResourceProvider.class);
  ResourceProviderInfo rootInfo=fixture.registerResourceProvider(rootProvider,"/",AuthType.required);
  ResourceProviderHandler rootHandler=new ResourceProviderHandler(bc,rootInfo);
  when(rootProvider.getQueryLanguageProvider()).thenReturn(new SimpleQueryLanguageProvider(QL_NOOP));
  rootHandler.activate();
  Resource root=configureResourceAt(rootProvider,"/");
  somethingResource=configureResourceAt(rootProvider,"/something");
  subProviderResource=configureResourceAt(subProvider,"/some/path/object");
  when(rootProvider.listChildren((ResolverContext)Mockito.anyObject(),Mockito.eq(root))).thenReturn(Collections.singleton(somethingResource).iterator());
  ResourceResolver rr=mock(ResourceResolver.class);
  ResourceAccessSecurityTracker securityTracker=Mockito.mock(ResourceAccessSecurityTracker.class);
  authInfo=Collections.emptyMap();
  handlers=Arrays.asList(rootHandler,handler);
  ResourceProviderStorage storage=new ResourceProviderStorage(handlers);
  authenticator=new ResourceProviderAuthenticator(rr,authInfo,securityTracker);
  crp=new ResourceResolverControl(false,authInfo,storage,authenticator);
  context=new ResourceResolverContext(rr);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.MapEntriesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("deprecation") @Before public void setup() throws Exception {
  MockitoAnnotations.initMocks(this);
  final List<VanityPathConfig> configs=new ArrayList<MapConfigurationProvider.VanityPathConfig>();
  configs.add(new VanityPathConfig("/libs/",false));
  configs.add(new VanityPathConfig("/libs/denied",true));
  configs.add(new VanityPathConfig("/foo/",false));
  configs.add(new VanityPathConfig("/baa/",false));
  configs.add(new VanityPathConfig("/justVanityPath",false));
  configs.add(new VanityPathConfig("/justVanityPath2",false));
  configs.add(new VanityPathConfig("/badVanityPath",false));
  configs.add(new VanityPathConfig("/redirectingVanityPath",false));
  configs.add(new VanityPathConfig("/redirectingVanityPath301",false));
  configs.add(new VanityPathConfig("/vanityPathOnJcrContent",false));
  Collections.sort(configs);
  vanityBloomFilterFile=new File("src/main/resourcesvanityBloomFilter.txt");
  when(bundleContext.getDataFile("vanityBloomFilter.txt")).thenReturn(vanityBloomFilterFile);
  when(resourceResolverFactory.getAdministrativeResourceResolver(null)).thenReturn(resourceResolver);
  when(resourceResolverFactory.isVanityPathEnabled()).thenReturn(true);
  when(resourceResolverFactory.getVanityPathConfig()).thenReturn(configs);
  when(resourceResolverFactory.isOptimizeAliasResolutionEnabled()).thenReturn(true);
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenReturn(Collections.<Resource>emptySet().iterator());
  mapEntries=new MapEntries(resourceResolverFactory,bundleContext,eventAdmin);
  Field field0=MapEntries.class.getDeclaredField("mapRoot");
  field0.setAccessible(true);
  field0.set(mapEntries,MapEntries.DEFAULT_MAP_ROOT);
  Field field1=MapEntries.class.getDeclaredField("maxCachedVanityPathEntries");
  field1.setAccessible(true);
  field1.set(mapEntries,-1);
  Field field2=MapEntries.class.getDeclaredField("maxCachedVanityPathEntriesStartup");
  field2.setAccessible(true);
  field2.set(mapEntries,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.providers.ResourceProviderTrackerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare() throws Exception {
  BundleContext bundleContext=MockOsgi.newBundleContext();
  fixture=new Fixture(bundleContext);
  EventAdmin eventAdmin=mock(EventAdmin.class);
  @SuppressWarnings("unchecked") ResourceProvider rp=mock(ResourceProvider.class);
  @SuppressWarnings("unchecked") ResourceProvider rp2=mock(ResourceProvider.class);
  @SuppressWarnings("unchecked") ResourceProvider rp3=mock(ResourceProvider.class);
  fixture.registerResourceProvider(rp,"/",AuthType.no);
  rp2Info=fixture.registerResourceProvider(rp2,"/path",AuthType.lazy);
  fixture.registerResourceProvider(rp3,"invalid",AuthType.no);
  tracker=new ResourceProviderTracker();
  tracker.setObservationReporterGenerator(new SimpleObservationReporterGenerator(new NoDothingObservationReporter()));
  tracker.activate(bundleContext,eventAdmin,new DoNothingChangeListener());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.providers.tree.PathTreeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void createTree(){
  Pathable root=new StringPath("/");
  Pathable libs=new StringPath("/libs");
  Pathable libsSling=new StringPath("/libs/sling");
  Pathable apps=new StringPath("/apps");
  tree=new PathTree<Pathable>(asList(root,libs,libsSling,apps));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.stateful.SecureResourceProviderDecoratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void prepare() throws PersistenceException {
  rr=mock(ResourceResolver.class);
  security=mock(ResourceAccessSecurity.class);
  first=mock(Resource.class);
  second=mock(Resource.class);
  when(security.getReadableResource(first)).thenReturn(first);
  when(security.getReadableResource(second)).thenReturn(null);
  rp=mock(StatefulResourceProvider.class);
  when(rp.create(rr,"/some/path",Collections.<String,Object>emptyMap())).thenReturn(mock(Resource.class));
  when(rp.findResources("FIND ALL","MockQueryLanguage")).thenReturn(Arrays.asList(first,second).iterator());
  ResourceAccessSecurityTracker securityTracker=new ResourceAccessSecurityTracker(){
    @Override public ResourceAccessSecurity getApplicationResourceAccessSecurity(){
      return security;
    }
  }
;
  src=new SecureResourceProviderDecorator(rp,securityTracker);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.rewriter.impl.ProcessorConfigurationImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  when(processingContext.getContentType()).thenReturn("text/html");
  when(processingContext.getRequest()).thenReturn(context.request());
  when(processingContext.getResponse()).thenReturn(context.response());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.sample.slingshot.SlingshotUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void loadData(){
  context.load().json("/slingshot.json",SlingshotConstants.APP_ROOT_PATH);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.dependenciesinstall.MultiValuedResourceTypeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  resourceResolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  Session session=resourceResolver.adaptTo(Session.class);
  testPath="/test_" + new Date().getTime();
  Node testNode=session.getRootNode().addNode(testPath.substring(1),"nt:unstructured");
  testNode.setProperty("sling:resourceType",new String[]{"foo/bar","bar/foo"});
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.urlfilter.impl.UrlFilterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  properties=new ValueMapDecorator(new HashMap<String,Object>());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  regs.clear();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.ScriptEngineManagerFactoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  componentCtx=context.mock(ComponentContext.class);
  bundleCtx=context.mock(BundleContext.class);
  context.checking(new Expectations(){
{
      atLeast(1).of(componentCtx).getBundleContext();
      will(returnValue(bundleCtx));
      allowing(bundleCtx).createFilter(with(any(String.class)));
      allowing(bundleCtx).addServiceListener(with(any(ServiceListener.class)));
      allowing(bundleCtx).addServiceListener(with(any(ServiceListener.class)),with(any(String.class)));
      allowing(bundleCtx).getServiceReferences(with(any(String.class)),with(aNull(String.class)));
      allowing(bundleCtx).getServiceReferences(with(aNull(String.class)),with(aNull(String.class)));
      allowing(bundleCtx).getServiceReferences(with(any(String.class)),with(any(String.class)));
      allowing(bundleCtx).getServiceReferences(with(aNull(String.class)),with(any(String.class)));
      one(bundleCtx).addBundleListener(with(any(BundleListener.class)));
      one(bundleCtx).getBundles();
      will(returnValue(new Bundle[0]));
      allowing(bundleCtx).registerService(with(equal("org.apache.sling.scripting.core.impl.ScriptEngineConsolePlugin")),with(any(Object.class)),with(any(Dictionary.class)));
      will(returnValue(new MockServiceRegistration()));
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.helper.ProtectedBindingsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  SimpleBindings inner=new SimpleBindings();
  inner.put("test1","value1");
  this.bindings=new ProtectedBindings(inner,Collections.singleton("test1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.javascript.wrapper.ScriptableMapTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  super.setUp();
  valueMap=new ValueMapDecorator(new HashMap<String,Object>(){
{
      put("a","a");
      put("b",1);
    }
  }
);
  data=new ScriptEngineHelper.Data();
  data.put("properties",valueMap);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestAdaptObjectTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@SuppressWarnings("serial") @Before public void init(){
  log.info("init");
  adaptToTag=new AdaptToTag(){
    protected ClassLoader getClassLoader(){
      return TestAdaptObjectTag.class.getClassLoader();
    }
  }
;
  pageContext=new MockPageContext();
  adaptToTag.setPageContext(pageContext);
  ResourceResolver resolver=new MockResourceResolver();
  resource=new MockResource(resolver,"/","test");
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestEncodeTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@SuppressWarnings("serial") @Before public void init(){
  log.info("init");
  encodeTag=new EncodeTag();
  sb=new StringBuilder();
  final JspWriter w=new JspWriter(0,false){
    public void newLine() throws IOException {
      throw new UnsupportedOperationException();
    }
    public void print(    boolean paramBoolean) throws IOException {
      sb.append(paramBoolean);
    }
    public void print(    char paramChar) throws IOException {
      sb.append(paramChar);
    }
    public void print(    int paramInt) throws IOException {
      sb.append(paramInt);
    }
    public void print(    long paramLong) throws IOException {
      sb.append(paramLong);
    }
    public void print(    float paramFloat) throws IOException {
      sb.append(paramFloat);
    }
    public void print(    double paramDouble) throws IOException {
      sb.append(paramDouble);
    }
    public void print(    char[] paramArrayOfChar) throws IOException {
      sb.append(paramArrayOfChar);
    }
    public void print(    String paramString) throws IOException {
      sb.append(paramString);
    }
    public void print(    Object paramObject) throws IOException {
      sb.append(paramObject);
    }
    public void println() throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    boolean paramBoolean) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    char paramChar) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    int paramInt) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    long paramLong) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    float paramFloat) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    double paramDouble) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    char[] paramArrayOfChar) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    String paramString) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void println(    Object paramObject) throws IOException {
      throw new UnsupportedOperationException();
    }
    public void clear() throws IOException {
      throw new UnsupportedOperationException();
    }
    public void clearBuffer() throws IOException {
      throw new UnsupportedOperationException();
    }
    public void flush() throws IOException {
      throw new UnsupportedOperationException();
    }
    public void close() throws IOException {
      throw new UnsupportedOperationException();
    }
    public int getRemaining(){
      throw new UnsupportedOperationException();
    }
    public void write(    char[] cbuf,    int off,    int len) throws IOException {
      sb.append(cbuf);
    }
  }
;
  pageContext=new MockPageContext(){
    public JspWriter getOut(){
      return w;
    }
  }
;
  encodeTag.setPageContext(pageContext);
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestFindResourceTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@SuppressWarnings("serial") @Before public void init(){
  log.info("init");
  final MockResourceResolver resolver=new MockResourceResolver(){
    @Override public Iterator<Resource> findResources(    String query,    String language){
      if (query.equals("query") && language.equals("language")) {
        List<Resource> resources=new ArrayList<Resource>();
        resources.add(resource);
        return resources.iterator();
      }
 else {
        return null;
      }
    }
  }
;
  resource=new MockResource(resolver,TEST_PATH,"test");
  resolver.addResource(resource);
  getResourceTag=new FindResourcesTag(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  pageContext=new MockPageContext();
  getResourceTag.setPageContext(pageContext);
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestGetPropertyTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@SuppressWarnings("serial") @Before public void init(){
  log.info("init");
  getPropertyTag=new GetPropertyTag(){
    protected ClassLoader getClassLoader(){
      return TestGetPropertyTag.class.getClassLoader();
    }
  }
;
  pageContext=new MockPageContext();
  getPropertyTag.setPageContext(pageContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestGetResourceTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@SuppressWarnings("serial") @Before public void init(){
  log.info("init");
  final MockResourceResolver resolver=new MockResourceResolver();
  resource=new MockResource(resolver,TEST_ABSOLUTE_PATH,"test");
  resolver.addResource(resource);
  MockResource child=new MockResource(resolver,TEST_ABSOLUTE_PATH + "/" + TEST_RELATIVE_PATH,"test");
  resolver.addResource(child);
  getResourceTag=new GetResourceTag(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  pageContext=new MockPageContext();
  getResourceTag.setPageContext(pageContext);
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestListChildrenTag </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@Before public void init(){
  log.info("init");
  log.info("Creating Resource Structure");
  final MockResourceResolver resolver=new MockResourceResolver();
  resource=new MockResource(resolver,TEST_PATH,"test");
  resolver.addResource(resource);
  MockResource child1=new MockResource(resolver,TEST_PATH + "/child1","test");
  resolver.addResource(child1);
  MockResource child2=new MockResource(resolver,TEST_PATH + "/child2","test");
  resolver.addResource(child2);
  log.info("Adding page context");
  pageContext=new MockPageContext();
  listChildrenTag.setPageContext(pageContext);
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestSlingFunctions </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
/** 
 * Initializes the fields for this test.
 */
@Before public void init(){
  log.info("init");
  resolver=new MockResourceResolver(){
    @Override public Iterator<Resource> findResources(    String query,    String language){
      if (query.equals("query") && language.equals("language")) {
        List<Resource> resources=new ArrayList<Resource>();
        resources.add(resource);
        return resources.iterator();
      }
 else {
        return null;
      }
    }
  }
;
  resource=new MockResource(resolver,TEST_PATH,"test");
  this.date=new Date();
  resource.addProperty("date",date);
  resource.addProperty("long",new Long(0L));
  resolver.addResource(resource);
  MockResource child1=new MockResource(resolver,TEST_PATH + "/child1","test");
  resolver.addResource(child1);
  MockResource child2=new MockResource(resolver,TEST_PATH + "/child2","test");
  resolver.addResource(child2);
  log.info("init Complete");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.impl.compiler.SightlyJavaCompilerServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  compiler=new SightlyJavaCompilerService();
  ucm=spy(new UnitChangeMonitor());
  SightlyEngineConfiguration sightlyEngineConfiguration=mock(SightlyEngineConfiguration.class);
  when(sightlyEngineConfiguration.isDevMode()).thenReturn(false);
  Whitebox.setInternalState(compiler,"sightlyEngineConfiguration",sightlyEngineConfiguration);
  Whitebox.setInternalState(compiler,"unitChangeMonitor",ucm);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  Bindings bindings=new SimpleBindings();
  Map<String,RuntimeExtension> extensionsMap=new HashMap<String,RuntimeExtension>();
  renderContext=new RenderContextImpl(bindings,extensionsMap,resolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.security.impl.ReferrerFilterTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  filter=new ReferrerFilter();
  final ComponentContext ctx=mock(ComponentContext.class);
  final BundleContext bundleCtx=mock(BundleContext.class);
  final ServiceRegistration reg=mock(ServiceRegistration.class);
  final Dictionary<String,Object> props=new Hashtable<String,Object>(){
{
      put("allow.hosts",new String[]{"relhost"});
      put("allow.hosts.regexp",new String[]{"http://([^.]*.)?abshost:80"});
    }
  }
;
  doReturn(props).when(ctx).getProperties();
  doReturn(bundleCtx).when(ctx).getBundleContext();
  doReturn(reg).when(bundleCtx).registerService(any(String[].class),any(),any(Dictionary.class));
  doNothing().when(reg).unregister();
  filter.activate(ctx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockHttpSessionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  httpSession=new MockHttpSession();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockRequestPathInfoTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.requestPathInfo=new MockRequestPathInfo();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockServletContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.servletContext=new MockServletContext();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletRequestTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  request=new MockSlingHttpServletRequest(resourceResolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletResponseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.response=new MockSlingHttpServletResponse();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.get.impl.helpers.JsonRendererServletTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  request=Mockito.mock(SlingHttpServletRequest.class);
  final RequestPathInfo rpi=Mockito.mock(RequestPathInfo.class);
  Mockito.when(request.getRequestPathInfo()).thenReturn(rpi);
  Mockito.when(rpi.getSelectors()).thenAnswer(new Answer<String[]>(){
    public String[] answer(    InvocationOnMock invocation){
      return selectors;
    }
  }
);
  final Resource resource=Mockito.mock(Resource.class);
  Mockito.when(request.getResource()).thenReturn(resource);
  response=Mockito.mock(SlingHttpServletResponse.class);
  jrs=new JsonRendererServlet(42);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.resolver.internal.SlingServletResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  mockResourceResolver=new MockResourceResolver(){
    @Override public void close(){
    }
    @Override public <AdapterType>AdapterType adaptTo(    Class<AdapterType> type){
      return null;
    }
    @Override public ResourceResolver clone(    Map<String,Object> authenticationInfo) throws LoginException {
      throw new LoginException("MockResourceResolver can't be cloned - excepted for this test!");
    }
    @Override public void refresh(){
    }
  }
;
  mockResourceResolver.setSearchPath("/");
  final ResourceResolverFactory factory=new ResourceResolverFactory(){
    @Override public ResourceResolver getAdministrativeResourceResolver(    Map<String,Object> authenticationInfo) throws LoginException {
      return mockResourceResolver;
    }
    @Override public ResourceResolver getResourceResolver(    Map<String,Object> authenticationInfo) throws LoginException {
      return mockResourceResolver;
    }
    @Override public ResourceResolver getServiceResourceResolver(    Map<String,Object> authenticationInfo) throws LoginException {
      return null;
    }
    @Override public ResourceResolver getThreadResourceResolver(){
      return null;
    }
  }
;
  servlet=new MockSlingRequestHandlerServlet();
  servletResolver=new SlingServletResolver();
  Class<?> resolverClass=servletResolver.getClass();
  final Field resolverField=resolverClass.getDeclaredField("resourceResolverFactory");
  resolverField.setAccessible(true);
  resolverField.set(servletResolver,factory);
  MockBundle bundle=new MockBundle(1L);
  MockBundleContext bundleContext=new MockBundleContext(bundle){
    @Override public ServiceRegistration registerService(    String s,    Object o,    Dictionary dictionary){
      return null;
    }
    @Override public ServiceRegistration registerService(    String[] strings,    Object o,    Dictionary dictionary){
      return null;
    }
  }
;
  MockComponentContext mockComponentContext=new MockComponentContext(bundleContext,SlingServletResolverTest.this.servlet);
  MockServiceReference serviceReference=new MockServiceReference(bundle);
  serviceReference.setProperty(Constants.SERVICE_ID,1L);
  serviceReference.setProperty(SLING_SERLVET_NAME,SERVLET_NAME);
  serviceReference.setProperty(ServletResolverConstants.SLING_SERVLET_PATHS,SERVLET_PATH);
  serviceReference.setProperty(ServletResolverConstants.SLING_SERVLET_EXTENSIONS,SERVLET_EXTENSION);
  mockComponentContext.locateService(SERVLET_NAME,serviceReference);
  configureComponentContext(mockComponentContext);
  servletResolver.bindServlet(serviceReference);
  servletResolver.activate(mockComponentContext);
  String path="/" + MockSlingHttpServletRequest.RESOURCE_TYPE + "/"+ ResourceUtil.getName(MockSlingHttpServletRequest.RESOURCE_TYPE)+ ".servlet";
  MockServletResource res=new MockServletResource(mockResourceResolver,servlet,path);
  mockResourceResolver.addResource(res);
  MockResource parent=new MockResource(mockResourceResolver,ResourceUtil.getParent(res.getPath()),"nt:folder");
  mockResourceResolver.addResource(parent);
  List<Resource> childRes=new ArrayList<Resource>();
  childRes.add(res);
  mockResourceResolver.addChildren(parent,childRes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.settings.impl.SlingSettingsServiceImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void before() throws IOException {
  slingIdFile=File.createTempFile(SLING_ID_FILE_NAME,"");
  optionsFile=File.createTempFile(OPTIONS_FILE_NAME,"");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.startupfilter.impl.StartupFilterImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  activeFilterCount=new AtomicInteger();
  mockery=new Mockery();
  request=mockery.mock(HttpServletRequest.class);
  response=mockery.mock(HttpServletResponse.class);
  chain=mockery.mock(FilterChain.class);
  serviceRegistration=mockery.mock(ServiceRegistration.class);
  filter=new TestFilterImpl();
  requestPath="/NO_PATH_YET";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingManagerImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@SuppressWarnings("unchecked") @Before public void setUp() throws LoginException {
  when(componentContext.getBundleContext()).thenReturn(bundleContext);
  when(componentContext.getProperties()).thenReturn(componentContextProperties);
  when(componentContextProperties.get(SuperimposingManagerImpl.OBSERVATION_PATHS_PROPERTY)).thenReturn(new String[]{OBSERVATION_PATH});
  when(resourceResolverFactory.getAdministrativeResourceResolver(any(Map.class))).thenReturn(resourceResolver);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(bundleContext.registerService(anyString(),anyObject(),any(Dictionary.class))).thenAnswer(new Answer<ServiceRegistration>(){
    public ServiceRegistration answer(    InvocationOnMock invocation){
      final ServiceRegistration mockRegistration=mock(ServiceRegistration.class);
      serviceRegistrations.add(mockRegistration);
      doAnswer(new Answer(){
        public Object answer(        InvocationOnMock invocation){
          return serviceRegistrations.remove(mockRegistration);
        }
      }
).when(mockRegistration).unregister();
      return mockRegistration;
    }
  }
);
  try {
    when(session.itemExists(anyString())).thenAnswer(new Answer<Boolean>(){
      public Boolean answer(      InvocationOnMock invocation) throws Throwable {
        final String absolutePath=(String)invocation.getArguments()[0];
        final String nodePath=ResourceUtil.getParent(absolutePath);
        final String propertyName=ResourceUtil.getName(absolutePath);
        Resource resource=resourceResolver.getResource(nodePath);
        if (resource != null) {
          ValueMap props=resource.adaptTo(ValueMap.class);
          return props.containsKey(propertyName);
        }
 else {
          return false;
        }
      }
    }
);
    when(session.getProperty(anyString())).thenAnswer(new Answer<Property>(){
      public Property answer(      InvocationOnMock invocation) throws Throwable {
        final String absolutePath=(String)invocation.getArguments()[0];
        final String nodePath=ResourceUtil.getParent(absolutePath);
        final String propertyName=ResourceUtil.getName(absolutePath);
        Resource resource=resourceResolver.getResource(nodePath);
        if (resource != null) {
          ValueMap props=resource.adaptTo(ValueMap.class);
          Object value=props.get(propertyName);
          if (value == null) {
            throw new PathNotFoundException();
          }
          Property prop=mock(Property.class);
          when(prop.getName()).thenReturn(propertyName);
          if (value instanceof String) {
            when(prop.getString()).thenReturn((String)value);
          }
 else           if (value instanceof Boolean) {
            when(prop.getBoolean()).thenReturn((Boolean)value);
          }
          return prop;
        }
 else {
          throw new PathNotFoundException();
        }
      }
    }
);
  }
 catch (  RepositoryException ex) {
    throw new RuntimeException(ex);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceIteratorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  this.superimposingResourceProvider=new SuperimposingResourceProviderImpl(SUPERIMPOSED_PATH,ORIGINAL_PATH,false);
  when(this.originalResource1.getPath()).thenReturn(ORIGINAL_PATH + "/node1");
  when(this.originalResource2.getPath()).thenReturn(ORIGINAL_PATH + "/node2");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceProviderImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  underTest=new SuperimposingResourceProviderImpl(SUPERIMPOSED_PATH,ORIGINAL_PATH,false);
  when(bundleContext.registerService(anyString(),eq(underTest),any(Dictionary.class))).thenReturn(serviceRegistration);
  underTest.registerService(bundleContext);
  underTestOverlay=new SuperimposingResourceProviderImpl(SUPERIMPOSED_PATH,ORIGINAL_PATH,true);
  when(bundleContext.registerService(anyString(),eq(underTestOverlay),any(Dictionary.class))).thenReturn(serviceRegistrationOverlay);
  underTestOverlay.registerService(bundleContext);
  prepareOriginalResource(originalRootResource,ORIGINAL_PATH);
  prepareOriginalResource(originalSubResource,ORIGINAL_PATH + "/sub1");
  when(resourceResolver.listChildren(originalRootResource)).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation){
      return Arrays.asList(new Resource[]{originalSubResource}).iterator();
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  when(originalResource.getPath()).thenReturn(ORIGINAL_PATH);
  when(originalResource.getResourceType()).thenReturn(RESOURCE_TYPE);
  when(originalResource.getResourceSuperType()).thenReturn(null);
  when(originalResource.getResourceMetadata()).thenReturn(this.resourceMetadata);
  when(originalResource.getResourceResolver()).thenReturn(this.resourceResolver);
  resourceMetadata.setResolutionPath(ORIGINAL_PATH);
  underTest=new SuperimposingResource(this.originalResource,SUPERIMPOSED_PATH);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.AbstractItemTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException {
  this.session=MockJcr.newSession();
  this.rootNode=this.session.getRootNode();
  this.node1=this.rootNode.addNode("node1");
  this.prop1=this.node1.setProperty("prop1","value1");
  this.node11=this.node1.addNode("node11");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockNodeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException {
  this.session=MockJcr.newSession();
  this.rootNode=this.session.getRootNode();
  this.node1=this.rootNode.addNode("node1");
  this.prop1=this.node1.setProperty("prop1","value1");
  this.node11=this.node1.addNode("node11");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockPropertyTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException {
  this.session=MockJcr.newSession();
  this.rootNode=this.session.getRootNode();
  this.node1=this.rootNode.addNode("node1");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockQueryManagerTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws RepositoryException {
  session=MockJcr.newSession();
  queryManager=session.getWorkspace().getQueryManager();
  Node rootNode=session.getRootNode();
  sampleNodes=ImmutableList.of(rootNode.addNode("node1"),rootNode.addNode("node2"),rootNode.addNode("node3"));
  for (int i=0; i < sampleNodes.size(); i++) {
    Node node=sampleNodes.get(i);
    node.setProperty("stringProp","value" + (i + 1));
    node.setProperty("intProp",i + 1);
  }
  sampleNodes.get(0).setProperty("optionalStringProp","optValue1");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockRepositoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  repository=MockJcr.newRepository();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockSessionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  this.session=MockJcr.newSession();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockWorkspaceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  underTest=MockJcr.newSession().getWorkspace();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleContextDynamicReferncesOsgiR6Test </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  bundleContext=MockOsgi.newBundleContext();
  reg1a=bundleContext.registerService(ServiceInterface1.class.getName(),dependency1a,null);
  reg2a=bundleContext.registerService(ServiceInterface2.class.getName(),dependency2a,null);
  service=new Service3OsgiR6();
  MockOsgi.injectServices(service,bundleContext);
  MockOsgi.activate(service,bundleContext);
  bundleContext.registerService(Service3OsgiR6.class.getName(),service,null);
  assertDependency1(dependency1a);
  assertDependency1Optional(null);
  assertDependencies2(dependency2a);
  assertDependencies3();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleContextDynamicReferncesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  bundleContext=MockOsgi.newBundleContext();
  reg1a=bundleContext.registerService(ServiceInterface1.class.getName(),dependency1a,null);
  reg2a=bundleContext.registerService(ServiceInterface2.class.getName(),dependency2a,null);
  service=new Service3();
  MockOsgi.injectServices(service,bundleContext);
  MockOsgi.activate(service,bundleContext);
  bundleContext.registerService(Service3.class.getName(),service,null);
  assertDependency1(dependency1a);
  assertDependency1Optional(null);
  assertDependencies2(dependency2a);
  assertDependencies3();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  bundleContext=MockOsgi.newBundleContext();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  bundle=(MockBundle)MockOsgi.newBundleContext().getBundle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockComponentContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  underTest=MockOsgi.newComponentContext();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockEventAdminTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  eventHandler1=(DummyEventHandler)context.registerService(EventHandler.class,new DummyEventHandler(),ImmutableMap.<String,Object>of(EventConstants.EVENT_TOPIC,TOPIC_SAMPLE_1));
  eventHandler12=(DummyEventHandler)context.registerService(EventHandler.class,new DummyEventHandler(),ImmutableMap.<String,Object>of(EventConstants.EVENT_TOPIC,new String[]{TOPIC_SAMPLE_1,TOPIC_SAMPLE_2}));
  eventHandlerSampleAll=(DummyEventHandler)context.registerService(EventHandler.class,new DummyEventHandler(),ImmutableMap.<String,Object>of(EventConstants.EVENT_TOPIC,TOPIC_SAMPLE_ALL));
  eventHandlerAll=(DummyEventHandler)context.registerService(EventHandler.class,new DummyEventHandler());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockLogServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.logService=new MockLogService(getClass());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockServiceReferenceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  this.bundleContext=MockOsgi.newBundleContext();
  this.service=new Object();
  String clazz=String.class.getName();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("customProp1","value1");
  this.bundleContext.registerService(clazz,this.service,props);
  this.serviceReference=this.bundleContext.getServiceReference(clazz);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockServiceReferencesSortTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  bundleContext=MockOsgi.newBundleContext();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiServiceUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  service1=new Service1();
  service2=new Service2();
  bundleContext.registerService(ServiceInterface1.class.getName(),service1,null);
  bundleContext.registerService(ServiceInterface2.class.getName(),service2,null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.context.OsgiContextImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.context=new OsgiContextImpl();
  this.context.setUp();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.junit.OsgiContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException {
  verify(contextSetup).execute(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.MockJcrSlingRepositoryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  this.repository=context.registerInjectActivateService(new MockJcrSlingRepository());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.MockSlingScriptHelperTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.bundleContext=MockOsgi.newBundleContext();
  this.resourceResolver=MockSling.newResourceResolver(bundleContext);
  this.request=new MockSlingHttpServletRequest(this.resourceResolver,bundleContext);
  this.response=new MockSlingHttpServletResponse();
  this.scriptHelper=MockSling.newSlingScriptHelper(this.request,this.response,this.bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.context.AbstractSlingContextImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context.addModelsForPackage("org.apache.sling.testing.mock.sling.context");
  ContentLoader contentLoader=this.context.load();
  contentLoader.json("/json-import-samples/content.json","/content/sample/en");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.context.ModelAdapterFactoryUtilTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  context.addModelsForPackage("org.apache.sling.testing.mock.sling.context");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.jcrmock.resource.FindResourcesTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  Resource resource=context.create().resource("test",ImmutableMap.<String,Object>builder().put("prop1","value1").put("prop2","value2").build());
  Node node=resource.adaptTo(Node.class);
  Session session=context.resourceResolver().adaptTo(Session.class);
  MockJcr.setQueryResult(session,Collections.singletonList(node));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.junit.SlingContextTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws IOException, PersistenceException {
  verify(contextSetup).execute(context);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderBinaryTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  path=context.uniqueRoot().content();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonDamTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  path=context.uniqueRoot().content() + "/dam";
  try {
    NodeTypeDefinitionScanner.get().register(context.resourceResolver().adaptTo(Session.class),ImmutableList.of("SLING-INF/nodetypes/app.cnd"),getResourceResolverType().getNodeTypeMode());
  }
 catch (  RepositoryException ex) {
    throw new RuntimeException("Unable to register namespaces.",ex);
  }
  context.load().json("/json-import-samples/dam.json",path + "/sample");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  path=context.uniqueRoot().content();
  try {
    NodeTypeDefinitionScanner.get().register(context.resourceResolver().adaptTo(Session.class),ImmutableList.of("SLING-INF/nodetypes/app.cnd"),getResourceResolverType().getNodeTypeMode());
  }
 catch (  RepositoryException ex) {
    throw new RuntimeException("Unable to register namespaces.",ex);
  }
  context.load().json("/json-import-samples/content.json",path + "/sample/en");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractJcrResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws RepositoryException {
  session=context.resourceResolver().adaptTo(Session.class);
  Node rootNode=getTestRootNode();
  Node node1=rootNode.addNode("node1",JcrConstants.NT_UNSTRUCTURED);
  node1.setProperty("stringProp",STRING_VALUE);
  node1.setProperty("stringArrayProp",STRING_ARRAY_VALUE);
  node1.setProperty("integerProp",INTEGER_VALUE);
  node1.setProperty("doubleProp",DOUBLE_VALUE);
  node1.setProperty("booleanProp",BOOLEAN_VALUE);
  node1.setProperty("dateProp",DateUtils.toCalendar(DATE_VALUE));
  node1.setProperty("calendarProp",CALENDAR_VALUE);
  node1.setProperty("binaryProp",session.getValueFactory().createBinary(new ByteArrayInputStream(BINARY_VALUE)));
  node1.addNode("node11",JcrConstants.NT_UNSTRUCTURED);
  node1.addNode("node12",JcrConstants.NT_UNSTRUCTURED);
  session.save();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractSlingCrudResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException {
  Resource rootNode=getTestRootResource();
  Map<String,Object> props=new HashMap<String,Object>();
  props.put(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED);
  props.put("stringProp",STRING_VALUE);
  props.put("stringArrayProp",STRING_ARRAY_VALUE);
  props.put("integerProp",INTEGER_VALUE);
  props.put("doubleProp",DOUBLE_VALUE);
  props.put("booleanProp",BOOLEAN_VALUE);
  props.put("dateProp",DATE_VALUE);
  props.put("calendarProp",CALENDAR_VALUE);
  props.put("binaryProp",new ByteArrayInputStream(BINARY_VALUE));
  Resource node1=context.resourceResolver().create(rootNode,"node1",props);
  context.resourceResolver().create(node1,"node11",ImmutableMap.<String,Object>builder().put("stringProp11",STRING_VALUE).build());
  context.resourceResolver().create(node1,"node12",ValueMap.EMPTY);
  context.resourceResolver().commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.services.MockMimeTypeServiceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.mimeTypeService=new MockMimeTypeService();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockHttpSessionTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  httpSession=new MockHttpSession();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockSlingHttpServletRequestTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  request=new MockSlingHttpServletRequest(resourceResolver,bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockSlingHttpServletResponseTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  this.response=new MockSlingHttpServletResponse();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.CreateDeleteResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException, LoginException {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  Resource root=resourceResolver.getResource("/");
  testRoot=resourceResolver.create(root,"test",ValueMap.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.NamespaceManglingResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws Exception {
  MockResourceResolverFactoryOptions options=new MockResourceResolverFactoryOptions();
  options.setMangleNamespacePrefixes(true);
  ResourceResolverFactory factory=new MockResourceResolverFactory(options);
  resolver=factory.getResourceResolver(null);
  Resource res1=resolver.create(resolver.getResource("/"),"res1",ValueMap.EMPTY);
  Resource content=resolver.create(res1,"jcr:content",ValueMap.EMPTY);
  resolver.create(content,"res2",ValueMap.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.NtFileResourceTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException, LoginException {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  Resource root=resourceResolver.getResource("/");
  testRoot=resourceResolver.create(root,"test",ValueMap.EMPTY);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.ResourceResolverLoginTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  factory=new MockResourceResolverFactory();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.RootResourceTypeTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException, LoginException {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.SlingCrudResourceResolverTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException, LoginException {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  Resource root=resourceResolver.getResource("/");
  testRoot=resourceResolver.create(root,"test",ValueMap.EMPTY);
  Resource node1=resourceResolver.create(testRoot,"node1",ImmutableMap.<String,Object>builder().put(MockResource.JCR_PRIMARYTYPE,NT_UNSTRUCTURED).put("stringProp",STRING_VALUE).put("stringArrayProp",STRING_ARRAY_VALUE).put("integerProp",INTEGER_VALUE).put("doubleProp",DOUBLE_VALUE).put("booleanProp",BOOLEAN_VALUE).put("dateProp",DATE_VALUE).put("calendarProp",CALENDAR_VALUE).put("binaryProp",new ByteArrayInputStream(BINARY_VALUE)).build());
  resourceResolver.create(node1,"node11",ImmutableMap.<String,Object>builder().put("stringProp11",STRING_VALUE).build());
  resourceResolver.create(node1,"node12",ValueMap.EMPTY);
  resourceResolver.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.ValueMapTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public final void setUp() throws IOException, LoginException {
  resourceResolver=new MockResourceResolverFactory().getResourceResolver(null);
  Resource root=resourceResolver.getResource("/");
  testRoot=resourceResolver.create(root,"test",ValueMap.EMPTY);
  resourceResolver.create(testRoot,"node1",ImmutableMap.<String,Object>builder().put("prop1","value1").build());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.bundlewit.ResourceMimeTypeDetectorIT </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  detector=teleporter.getService(ResourceMimeTypeDetector.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.integrationtests.serverside.scriptable.ScriptableTestsTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setupContent() throws Exception {
  slingClient=new SlingClient(getServerBaseUrl(),getServerUsername(),getServerPassword());
  testClient=new RemoteTestHttpClient(getServerBaseUrl() + JUNIT_SERVLET_PATH,getServerUsername(),getServerPassword(),true);
  cleanupContent();
  slingClient.createNode(TEST_NODE_PATH,"sling:resourceType",RESOURCE_TYPE,"jcr:mixinTypes","sling:Test");
  slingClient.upload(TEST_NODES_BASE + "/test.txt.esp",new ByteArrayInputStream(testScript.getBytes()),-1,true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.sampletests.JUnit4Test </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setTitle(){
  title="FOO";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.teleporter.client.ClassResourceVisitorTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  resources=new HashMap<String,String>();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.tools.test.ServerSetupSingletonTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup() throws Exception {
  props=new Properties();
  props.setProperty(ServerSetupSingleton.CLASS_NAME_PROP,TestServerSetup.class.getName());
  props.setProperty(ServerSetup.PHASES_TO_RUN_PROP,"one, \t\n two, three, four, five  \t");
  serverSetup=ServerSetupSingleton.instance(props);
  serverSetup.setConfig(props);
  TestSetupPhase.clearExecutionLog();
  TestSetupPhase.failingPhases="";
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.ValidationModelRetrieverImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  dateValidator=new DateValidator();
  applicablePathPerResourceType=new MultiHashMap();
  validationModelRetriever=new ValidationModelRetrieverImpl();
  modelProvider=new TestModelProvider();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(Constants.SERVICE_ID,1L);
  validationModelRetriever.bindModelProvider(modelProvider,properties);
  validationModelRetriever.bindValidator(dateValidator);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.ValidationServiceImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws LoginException, PersistenceException, RepositoryException {
  validationService=new ValidationServiceImpl();
  validationService.searchPaths=Arrays.asList(context.resourceResolver().getSearchPath());
  modelBuilder=new ValidationModelBuilder();
  propertyBuilder=new ResourcePropertyBuilder();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.model.MergedValidationModelTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  modelBuilder=new ValidationModelBuilder();
  propertyBuilder=new ResourcePropertyBuilder();
  childResourceBuilder=new ChildResourceBuilder();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.resourcemodel.ResourceValidationModelProviderImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp() throws LoginException, PersistenceException, RepositoryException {
  primaryTypeUnstructuredMap=new HashMap<String,Object>();
  primaryTypeUnstructuredMap.put(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED);
  modelProvider=new ResourceValidationModelProviderImpl();
  validatorMap=new HashMap<String,Validator<?>>();
  validatorMap.put("org.apache.sling.validation.impl.validators.RegexValidator",new RegexValidator());
  modelBuilder=new ValidationModelBuilder();
  modelBuilder.setApplicablePath("/content/site1");
  ResourcePropertyBuilder propertyBuilder=new ResourcePropertyBuilder();
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"prefix.*");
  ResourceProperty property=propertyBuilder.build("field1");
  modelBuilder.resourceProperty(property);
  prefixBasedResultHandler=new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (!"xpath".equals(query.getLanguage())) {
        return null;
      }
      String statement=query.getStatement();
      if (statement.startsWith("/jcr:root/")) {
        statement=statement.substring("/jcr:root/".length() - 1);
      }
      String prefix=Text.getAbsoluteParent(statement,0);
      Matcher matcher=RESOURCE_TYPE_PATTERN.matcher(statement);
      if (!matcher.matches()) {
        throw new IllegalArgumentException("Can only process query statements which contain a validatedResourceType but the statement is: " + statement);
      }
      String resourceType=matcher.group(1);
      PrefixAndResourceType prefixAndResourceType=new PrefixAndResourceType(prefix,resourceType);
      if (validatorModelNodesPerPrefixAndResourceType.keySet().contains(prefixAndResourceType)) {
        return new MockQueryResult(validatorModelNodesPerPrefixAndResourceType.get(prefixAndResourceType));
      }
      return null;
    }
  }
;
  rr=context.resourceResolver();
  MockJcr.addQueryResultHandler(rr.adaptTo(Session.class),prefixBasedResultHandler);
  validatorModelNodesPerPrefixAndResourceType=new HashMap<PrefixAndResourceType,List<Node>>();
  appsValidatorsRoot=ResourceUtil.getOrCreateResource(rr,APPS + "/" + VALIDATION_MODELS_RELATIVE_PATH,(Map<String,Object>)null,"sling:Folder",true);
  libsValidatorsRoot=ResourceUtil.getOrCreateResource(rr,LIBS + "/" + VALIDATION_MODELS_RELATIVE_PATH,(Map<String,Object>)null,"sling:Folder",true);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.util.TrieTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setUp(){
  dictionary=new Trie<String>();
  dictionary.insert("/apps/example","/apps/example");
  dictionary.insert("/apps/examples/node/jcr:content","/apps/examples/node/jcr:content");
  dictionary.insert("/apps/examples/node/jcr:content/nodes","/apps/examples/node/jcr:content/nodes");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.xss.impl.XSSAPIImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  try {
    XSSFilterImpl xssFilter=new XSSFilterImpl();
    setDefaultHandler(xssFilter,"./src/main/resources/SLING-INF/content/config.xml");
    xssAPI=new XSSAPIImpl();
    Whitebox.invokeMethod(xssAPI,"activate");
    Field filterField=XSSAPIImpl.class.getDeclaredField("xssFilter");
    filterField.setAccessible(true);
    filterField.set(xssAPI,xssFilter);
    ResourceResolver mockResolver=mock(ResourceResolver.class);
    when(mockResolver.map(anyString())).thenAnswer(new Answer(){
      public Object answer(      InvocationOnMock invocation){
        Object[] args=invocation.getArguments();
        String url=(String)args[0];
        return url.replaceAll("jcr:","_jcr_");
      }
    }
);
    SlingHttpServletRequest mockRequest=mock(SlingHttpServletRequest.class);
    when(mockRequest.getResourceResolver()).thenReturn(mockResolver);
    xssAPI=xssAPI.getRequestSpecificAPI(mockRequest);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.xss.impl.XSSProtectionServiceImplTest </h4><pre class="type-2 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
"></span><br>
@Before public void setup(){
  xssFilter=new XSSFilterImpl();
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
