<h3><span class=" glyphicon glyphicon-tag"/>&nbspInternalCallVerifier</h3><kbd>Verifies values of objects/variables related to AUT calls</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.sling.api.resource.ResourceMetadataTest </h4><pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLockedClone(){
  final ResourceMetadata m1=new ResourceMetadata();
  m1.put("key","value");
  m1.lock();
  m1.keySet();
  final ResourceMetadata m2=(ResourceMetadata)m1.clone();
  assertNotSame(m1,m2);
  assertEquals(m1,m2);
  assertNotSame(m1.keySet(),m2.keySet());
  assertEquals(m1.keySet(),m2.keySet());
  assertNotSame(m1.entrySet(),m2.entrySet());
  assertEquals(m1.entrySet(),m2.entrySet());
  assertNotSame(m1.values(),m2.values());
  assertEquals(new ArrayList(m1.values()),new ArrayList(m2.values()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.resource.ResourceUtilTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_getValueMap_direct(){
  final ValueMap valueMap=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap.put("sample",true);
  final Resource resource=new SyntheticResource(null,"/","sample"){
    @Override @SuppressWarnings("unchecked") public <Type>Type adaptTo(    Class<Type> type){
      if (type == ValueMap.class) {
        return (Type)valueMap;
      }
      return super.adaptTo(type);
    }
  }
;
  final ValueMap adapted=ResourceUtil.getValueMap(resource);
  assertEquals(valueMap,adapted);
  assertNotNull(adapted);
  assertEquals(1,adapted.size());
  assertEquals(true,adapted.get("sample"));
  assertEquals(Boolean.valueOf(true),adapted.get("sample",Boolean.class));
  assertEquals(Boolean.TRUE.toString(),adapted.get("sample",String.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_getValueMap_no_adapter(){
  final ValueMap valueMap=ResourceUtil.getValueMap(null);
  assertNotNull(valueMap);
  assertEquals(0,valueMap.size());
  final Object replaced=valueMap.put("sample",1);
  assertNull(replaced);
  assertEquals(1,valueMap.size());
  assertEquals(1,valueMap.get("sample"));
  assertEquals(Integer.valueOf(1),valueMap.get("sample",Integer.class));
  assertEquals("1",valueMap.get("sample",String.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsStarResource(){
  final Resource nonStar=context.mock(Resource.class,"nonStarResource");
  final String starPath="/foo/*";
  final Resource star=context.mock(Resource.class,"starResource");
  final String nonStarPath="/foo/*";
  this.context.checking(new Expectations(){
{
      allowing(star).getPath();
      will(returnValue(starPath));
      allowing(nonStar).getPath();
      will(returnValue(nonStarPath));
    }
  }
);
  assertTrue("expecting star==true for path" + starPath,ResourceUtil.isStarResource(star));
  assertTrue("expecting star==false for path" + starPath,ResourceUtil.isStarResource(nonStar));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsSyntheticResource(){
  final Resource synth=new SyntheticResource(null,"foo","bar");
  final Resource star=context.mock(Resource.class);
  this.context.checking(new Expectations(){
{
      allowing(star).getPath();
      will(returnValue("/foo/*"));
    }
  }
);
  final Resource wrapped=new ResourceWrapper(synth);
  assertTrue("expecting synthetic==true for SyntheticResource",ResourceUtil.isSyntheticResource(synth));
  assertFalse("expecting synthetic==false for star resource",ResourceUtil.isSyntheticResource(star));
  assertTrue("expecting synthetic==true for wrapped Resource",ResourceUtil.isSyntheticResource(wrapped));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_getValueMap_decorated_map(){
  final Map<String,Object> map=new HashMap<String,Object>();
  map.put("sample",true);
  final Resource resource=new SyntheticResource(null,"/","sample"){
    @Override @SuppressWarnings("unchecked") public <Type>Type adaptTo(    Class<Type> type){
      if (type == Map.class) {
        return (Type)map;
      }
      if (type == ValueMap.class) {
        return null;
      }
      return super.adaptTo(type);
    }
  }
;
  final ValueMap adapted=ResourceUtil.getValueMap(resource);
  assertNotNull(adapted);
  assertEquals(1,adapted.size());
  assertEquals(true,adapted.get("sample"));
  assertEquals(Boolean.valueOf(true),adapted.get("sample",Boolean.class));
  assertEquals(Boolean.TRUE.toString(),adapted.get("sample",String.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_getValueMap_null_resource(){
  final ValueMap valueMap=ResourceUtil.getValueMap(null);
  assertNotNull(valueMap);
  assertEquals(0,valueMap.size());
  final Object replaced=valueMap.put("sample",1);
  assertNull(replaced);
  assertEquals(1,valueMap.size());
  assertEquals(1,valueMap.get("sample"));
  assertEquals(Integer.valueOf(1),valueMap.get("sample",Integer.class));
  assertEquals("1",valueMap.get("sample",String.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.resource.util.PathSetTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMatching(){
  final PathSet set=PathSet.fromStrings("/a","/x/y");
  assertNull(set.matches("/"));
  assertEquals(new Path("/a"),set.matches("/a"));
  assertEquals(new Path("/a"),set.matches("/a/b"));
  assertEquals(new Path("/a"),set.matches("/a/b/c"));
  assertNull(set.matches("/a2"));
  assertNull(set.matches("/c"));
  assertNull(set.matches("/d/g"));
  assertNull(set.matches("/x"));
  assertNull(set.matches("/x/y2"));
  assertEquals(new Path("/x/y"),set.matches("/x/y"));
  assertEquals(new Path("/x/y"),set.matches("/x/y/1"));
  assertEquals(new Path("/x/y"),set.matches("/x/y/g/e"));
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToStringSet(){
  final PathSet set=PathSet.fromStrings("/a","/x/y");
  final Set<String> stringSet=set.toStringSet();
  assertEquals(2,stringSet.size());
  assertTrue(stringSet.contains("/a"));
  assertTrue(stringSet.contains("/x/y"));
  try {
    stringSet.add("foo");
    fail();
  }
 catch (  final UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.resource.util.PathTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPathMatching(){
  final Path path=new Path("/content");
  assertFalse(path.matches("/"));
  assertFalse(path.matches("/foo"));
  assertFalse(path.matches("/foo/bar"));
  assertTrue(path.matches("/content"));
  assertTrue(path.matches("/content/a"));
  assertTrue(path.matches("/content/a/b"));
  assertFalse(path.matches("/content1"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRootMatching(){
  final Path path=new Path("/");
  assertTrue(path.matches("/"));
  assertTrue(path.matches("/foo"));
  assertTrue(path.matches("/foo/bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.wrappers.ValueMapDecoratorTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testIncompatibleTypeInArray(){
  map.put("prop1",new String[]{"test","test2"});
  map.put("prop2","test");
  Assert.assertNull("Not convertible type should return null",valueMap.get("prop1",Integer[].class));
  Assert.assertNull("Not convertible type should return null",valueMap.get("prop2",Integer[].class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGettingSingleValuesFromMultiValueEntries(){
  map.put("prop1",new String[]{"test","test2"});
  map.put("prop2",new String[]{"1","2"});
  Assert.assertEquals("First element from underlying array should be returned","test",valueMap.get("prop1",String.class));
  Assert.assertEquals("First element from underlying array should be returned",Integer.valueOf(1),valueMap.get("prop2",Integer.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("SLING-4784") @Test public void testEqualsAndHashCodeOfEqualValueMapsWithArrayTypes(){
  map.put("prop1",new String[]{"1","2"});
  ValueMapDecorator valueMap2=new ValueMapDecorator(map);
  Assert.assertTrue("Two ValueMapDecorators based on the same map should be equal",valueMap.equals(valueMap2));
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap2.hashCode());
  ValueMapDecorator valueMap3=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap3.put("prop1",new String[]{"1","2"});
  Assert.assertEquals(valueMap,valueMap3);
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap3.hashCode());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEqualsOfInequalValueMapsWithNonArrayTypes(){
  valueMap.put("prop","value");
  ValueMapDecorator valueMap2=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap2.put("prop","value2");
  Assert.assertFalse("Two ValueMapDecorators based on maps with different entries should not be equal",valueMap.equals(valueMap2));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEqualsAndHashCodeOfEqualValueMapsWithNonArrayTypes(){
  map.put("prop1","some string");
  ValueMapDecorator valueMap2=new ValueMapDecorator(map);
  Assert.assertTrue("Two ValueMapDecorators based on the same map should be equal",valueMap.equals(valueMap2));
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap2.hashCode());
  ValueMapDecorator valueMap3=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap3.put("prop1","some string");
  Assert.assertEquals(valueMap,valueMap3);
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap3.hashCode());
  Assert.assertEquals(map,valueMap);
  Assert.assertEquals(valueMap,map);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGettingArraysFromMultiValueEntries(){
  map.put("prop1",new String[]{"test","test2"});
  map.put("prop2",new String[]{"1","2"});
  Assert.assertArrayEquals("Could not get values from underlying array",new String[]{"test","test2"},valueMap.get("prop1",String[].class));
  Assert.assertArrayEquals("Conversion to Integer was not possible",new Integer[]{1,2},valueMap.get("prop2",Integer[].class));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEqualsOfInequalValueMapsWithArrayTypes(){
  valueMap.put("prop",new String[]{"1","2"});
  ValueMapDecorator valueMap2=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap2.put("prop",new String[]{"3","4"});
  Assert.assertFalse("Two ValueMapDecorators based on maps with different entries should not be equal",valueMap.equals(valueMap2));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGettingInvalidEntryWithDefaultValue(){
  Assert.assertEquals(Integer.valueOf(1),valueMap.get("prop1",1));
  Assert.assertEquals("test",valueMap.get("prop1","test"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPrimitiveTypes(){
  map.put("prop1",new String[]{"1","2"});
  Assert.assertNull("ValueMap should not support conversion to primitive type",valueMap.get("prop1",int.class));
  Assert.assertNull("ValueMap should not support conversion to array of primitive type",valueMap.get("prop1",int[].class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGettingArraysFromSingleValueEntries(){
  map.put("prop1","test");
  map.put("prop2","1");
  Assert.assertArrayEquals("Even though the underlying entry is single-value if should be enclosed in a single element array",new String[]{"test"},valueMap.get("prop1",String[].class));
  Assert.assertArrayEquals("Even though the underlying entry is single-value if should be enclosed in a single element array",new Integer[]{1},valueMap.get("prop2",Integer[].class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.auth.core.spi.AuthenticationInfoTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testSetCredentials(){
  final Credentials creds=new SimpleCredentials("user",new char[0]);
  final AuthenticationInfo info=new AuthenticationInfo("test");
  info.put(CREDENTIALS,creds);
  Assert.assertSame(creds,info.get(CREDENTIALS));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationInfoString(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  Assert.assertEquals("test",info.getAuthType());
  assertNull(info.getUser());
  assertNull(info.getPassword());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveObject(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  final Object value="test";
  info.put("test",value);
  assertSame(value,info.get("test"));
  final Object removed=info.remove("test");
  assertSame(value,removed);
  assertFalse(info.containsKey("test"));
  assertNull(info.remove(AuthenticationInfo.AUTH_TYPE));
  Assert.assertEquals("test",info.get("sling.authType"));
  assertNull(info.remove("sling.authType"));
  Assert.assertEquals("test",info.getAuthType());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFAIL_AUTH(){
  final AuthenticationInfo fa=AuthenticationInfo.FAIL_AUTH;
  Assert.assertEquals("FAIL_AUTH",fa.getAuthType());
  fa.clear();
  Assert.assertEquals("FAIL_AUTH",fa.getAuthType());
  fa.put("test","test");
  assertFalse(fa.containsKey("test"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationInfoStringString(){
  final AuthenticationInfo info=new AuthenticationInfo("test","name");
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("name",info.getUser());
  assertNull(info.getPassword());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClear(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name",pwd);
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("name",info.getUser());
  assertSame(pwd,info.getPassword());
  info.clear();
  Assert.assertEquals(1,info.size());
  Assert.assertEquals("test",info.getAuthType());
  assertFalse(info.containsKey(ResourceResolverFactory.USER));
  assertFalse(info.containsKey(ResourceResolverFactory.PASSWORD));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetAuthType(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("test",info.get(AuthenticationInfo.AUTH_TYPE));
  Assert.assertEquals(info.get(AuthenticationInfo.AUTH_TYPE),info.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetAuthType(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  Assert.assertEquals("test",info.getAuthType());
  info.setAuthType(null);
  Assert.assertEquals("test",info.getAuthType());
  info.setAuthType("dummy");
  Assert.assertEquals("dummy",info.getAuthType());
  info.setAuthType("");
  Assert.assertEquals("",info.getAuthType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetUser(){
  final AuthenticationInfo info=new AuthenticationInfo("test","user");
  Assert.assertEquals("user",info.getUser());
  info.setUser(null);
  Assert.assertEquals("user",info.getUser());
  info.setUser("dummy");
  Assert.assertEquals("dummy",info.getUser());
  info.setUser("");
  Assert.assertEquals("",info.getUser());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDOING_AUTH(){
  final AuthenticationInfo da=AuthenticationInfo.DOING_AUTH;
  Assert.assertEquals("DOING_AUTH",da.getAuthType());
  da.clear();
  Assert.assertEquals("DOING_AUTH",da.getAuthType());
  da.put("test","test");
  assertFalse(da.containsKey("test"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetUser(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  info.put(ResourceResolverFactory.USER,"name");
  Assert.assertEquals("name",info.getUser());
  Assert.assertEquals("name",info.get(ResourceResolverFactory.USER));
  Assert.assertEquals(info.get(ResourceResolverFactory.USER),info.getUser());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCredentials(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  assertNull(info.get(CREDENTIALS));
  assertFalse(info.containsKey(CREDENTIALS));
  final Credentials creds=new SimpleCredentials("user",new char[0]);
  info.put(CREDENTIALS,creds);
  assertSame(creds,info.get(CREDENTIALS));
  final String user="user";
  final char[] pwd=new char[5];
  final AuthenticationInfo infoCred=new AuthenticationInfo("TEST",user,pwd);
  assertFalse(infoCred.containsKey(CREDENTIALS));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPassword(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name");
  assertFalse(info.containsKey(ResourceResolverFactory.PASSWORD));
  info.setPassword(pwd);
  assertSame(pwd,info.get(ResourceResolverFactory.PASSWORD));
  info.setPassword(null);
  assertSame(pwd,info.get(ResourceResolverFactory.PASSWORD));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetPassword(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name",pwd);
  assertSame(pwd,info.getPassword());
  assertEquals(pwd,(char[])info.get(ResourceResolverFactory.PASSWORD));
  Assert.assertEquals(info.get(ResourceResolverFactory.PASSWORD),info.getPassword());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationInfoStringStringCharArray(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name",pwd);
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("name",info.getUser());
  assertSame(pwd,info.getPassword());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAuthenticationInfoStringStringCharArrayString(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name",pwd);
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("name",info.getUser());
  assertSame(pwd,info.getPassword());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.auth.form.impl.FormAuthenticationHandlerTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_getUserid(){
  final FormAuthenticationHandler handler=new FormAuthenticationHandler();
  assertEquals(null,handler.getUserId(null));
  assertEquals(null,handler.getUserId(""));
  assertEquals(null,handler.getUserId("field0"));
  assertEquals(null,handler.getUserId("field0@field1"));
  assertEquals("field3",handler.getUserId("field0@field1@field3"));
  assertEquals("field3@field4",handler.getUserId("field0@field1@field3@field4"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_getTokenFile(){
  final File root=new File("bundle999").getAbsoluteFile();
  final SlingHomeAction slingHome=new SlingHomeAction();
  slingHome.setSlingHome(new File("sling").getAbsolutePath());
  Mockery context=new Mockery();
  final BundleContext bundleContext=context.mock(BundleContext.class);
  context.checking(new Expectations(){
{
      allowing(bundleContext).getProperty("sling.home");
      will(slingHome);
      allowing(bundleContext).getDataFile(with(new StringStartsWith("sl")));
      will(returnValue(null));
      allowing(bundleContext).getDataFile(with(any(String.class)));
      will(new RVA(root));
    }
  }
);
  final FormAuthenticationHandler handler=new FormAuthenticationHandler();
  File relFile0=handler.getTokenFile("",bundleContext);
  assertEquals(root,relFile0);
  String relName1="rel/path";
  File relFile1=handler.getTokenFile(relName1,bundleContext);
  assertEquals(new File(root,relName1),relFile1);
  String relName2="sl/rel_to_sling.home";
  File relFile2=handler.getTokenFile(relName2,bundleContext);
  assertEquals(new File(slingHome.getSlingHome(),relName2),relFile2);
  String relName3="sl/test";
  slingHome.setSlingHome(null);
  File relFile3=handler.getTokenFile(relName3,bundleContext);
  assertEquals(new File(relName3).getAbsoluteFile(),relFile3);
  File absFile=new File("test").getAbsoluteFile();
  File absFile0=handler.getTokenFile(absFile.getPath(),bundleContext);
  assertEquals(absFile,absFile0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.DeepNodeCreatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateWithVariousTypes() throws Exception {
  final Mockery mockery=new Mockery();
  final String fooPath="/foo";
  final String barPath="/foo/bar";
  final String wiiPath="/foo/bar/wii";
  final Session s=mockery.mock(Session.class);
  final Node foo=mockery.mock(Node.class,fooPath);
  final Node bar=mockery.mock(Node.class,barPath);
  final Node wii=mockery.mock(Node.class,wiiPath);
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(wiiPath);
      will(returnValue(false));
      allowing(s).itemExists(barPath);
      will(returnValue(false));
      allowing(s).itemExists(fooPath);
      will(returnValue(true));
      allowing(s).getItem(fooPath);
      will(returnValue(foo));
      allowing(foo).isNode();
      will(returnValue(true));
      allowing(foo).getPath();
      will(returnValue(fooPath));
      allowing(foo).addNode("bar","NT_/foo.bar");
      will(returnValue(bar));
      allowing(bar).getPath();
      will(returnValue(barPath));
      allowing(bar).addNode("wii","NT_/foo/bar.wii");
      will(returnValue(wii));
      allowing(s).getRootNode();
      allowing(s).save();
    }
  }
);
  final AtomicInteger counter=new AtomicInteger();
  final DeepNodeCreator c=new DeepNodeCreator(){
    @Override protected String getNodeType(    Node parent,    String childPath,    String suggestedNodeType) throws RepositoryException {
      return "NT_" + parent.getPath() + "."+ childPath;
    }
    @Override protected void nodeCreated(    Node n) throws RepositoryException {
      counter.addAndGet(1);
    }
  }
;
  final Node result=c.deepCreateNode(wiiPath,s,null);
  assertTrue("Expecting deepCreate to return created node",result == wii);
  assertEquals("Expecting correct count of nodeCreated calls",2,counter.get());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCreateFromRoot() throws Exception {
  final Mockery mockery=new Mockery();
  final DeepNodeCreator c=new DeepNodeCreator();
  final String rootPath="/";
  final String fooPath="/foo";
  final String barPath="/foo/bar";
  final Session s=mockery.mock(Session.class);
  final Node root=mockery.mock(Node.class,rootPath);
  final Node foo=mockery.mock(Node.class,fooPath);
  final Node bar=mockery.mock(Node.class,barPath);
  final String testNodeType="NT_TEST";
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(barPath);
      will(returnValue(false));
      allowing(s).itemExists(fooPath);
      will(returnValue(false));
      allowing(s).itemExists(rootPath);
      will(returnValue(true));
      allowing(s).getItem(rootPath);
      will(returnValue(root));
      allowing(root).isNode();
      will(returnValue(true));
      allowing(root).addNode("foo",testNodeType);
      will(returnValue(foo));
      allowing(foo).addNode("bar",testNodeType);
      will(returnValue(bar));
      allowing(s).getRootNode();
      will(returnValue(root));
      allowing(s).save();
    }
  }
);
  final Node result=c.deepCreateNode(barPath,s,testNodeType);
  assertTrue("Expecting deepCreate to return created node",result == bar);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testExistingNode() throws Exception {
  final Mockery mockery=new Mockery();
  final DeepNodeCreator c=new DeepNodeCreator();
  final String path="/foo/bar";
  final Session s=mockery.mock(Session.class);
  final Node n=mockery.mock(Node.class);
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(path);
      will(returnValue(true));
      allowing(s).getItem(path);
      will(returnValue(n));
      allowing(n).isNode();
      will(returnValue(true));
    }
  }
);
  final Node result=c.deepCreateNode(path,s,null);
  assertTrue("Expecting deepCreate to return existing node",result == n);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.SuspendableOutputStreamTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspend() throws Exception {
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  f.requestStateChange(JobStatus.State.RUNNING);
  final WriterThread t=new WriterThread(f);
  t.setDaemon(true);
  t.start();
  final long delay=WriterThread.WRITE_DELAY * 3;
  Thread.sleep(delay);
  assertTrue("Expecting data to be written by WriterThread",bos.size() > 0);
  f.requestStateChange(JobStatus.State.SUSPENDED);
  Thread.sleep(delay);
  assertEquals("Expecting SUSPEND state after a few writes",JobStatus.State.SUSPENDED,f.getState());
  final int count=bos.size();
  Thread.sleep(delay);
  assertEquals("Expecting no writes in SUSPEND state",count,bos.size());
  f.requestStateChange(JobStatus.State.RUNNING);
  Thread.sleep(delay);
  assertEquals("Expecting RUNNING state",JobStatus.State.RUNNING,f.getState());
  assertTrue("Expecting data to be written after resuming",bos.size() > count);
  f.close();
  Thread.sleep(delay);
  assertFalse("Expecting WriterThread to end after closing stream",t.isAlive());
  assertNotNull("Expecting non-null Exception in WriterThread",t.runException);
  assertTrue("Expecting IOException in WriterThread",t.runException instanceof IOException);
}

</code></pre>

<br>
<pre class="type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStop() throws IOException {
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  assertEquals("Expecting NEW state first",JobStatus.State.NEW,f.getState());
  f.requestStateChange(JobStatus.State.RUNNING);
  f.write(TEST.getBytes());
  f.flush();
  f.requestStateChange(JobStatus.State.STOPPED);
  assertEquals("Expecting STOP_REQUESTED state before write",JobStatus.State.STOP_REQUESTED,f.getState());
  try {
    f.write("nothing".getBytes());
    fail("Expected StreamStoppedException when writing to STOPPED stream");
  }
 catch (  SuspendableOutputStream.StreamStoppedException asExpected) {
  }
  assertEquals("Expecting STOPPED state after write",JobStatus.State.STOPPED,f.getState());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDone(){
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  f.requestStateChange(JobStatus.State.DONE);
  assertEquals("Expecting DONE state (1)",JobStatus.State.DONE,f.getState());
  f.requestStateChange(JobStatus.State.SUSPENDED);
  assertEquals("Expecting DONE state (2)",JobStatus.State.DONE,f.getState());
  f.requestStateChange(JobStatus.State.STOPPED);
  assertEquals("Expecting DONE state (3)",JobStatus.State.DONE,f.getState());
}

</code></pre>

<br>
<pre class="type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspendThenStop() throws Exception {
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  assertEquals("Expecting NEW state first",JobStatus.State.NEW,f.getState());
  final WriterThread t=new WriterThread(f);
  t.setDaemon(true);
  t.start();
  f.requestStateChange(JobStatus.State.SUSPENDED);
  final long delay=WriterThread.WRITE_DELAY * 3;
  Thread.sleep(delay);
  assertEquals("Expecting SUSPEND state after a few writes",JobStatus.State.SUSPENDED,f.getState());
  f.requestStateChange(JobStatus.State.STOPPED);
  assertEquals("Expecting STOP_REQUESTED state before write",JobStatus.State.STOP_REQUESTED,f.getState());
  try {
    f.write("nothing".getBytes());
    fail("Expected StreamStoppedException when writing to STOPPED stream");
  }
 catch (  SuspendableOutputStream.StreamStoppedException asExpected) {
  }
  assertEquals("Expecting STOPPED state after write",JobStatus.State.STOPPED,f.getState());
  f.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreationToRunningState(){
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  assertEquals("Expecting NEW state initially",JobStatus.State.NEW,f.getState());
  f.requestStateChange(JobStatus.State.QUEUED);
  assertEquals("Expecting QUEUED state as requests",JobStatus.State.QUEUED,f.getState());
  f.requestStateChange(JobStatus.State.RUNNING);
  assertEquals("Expecting RUNNING state as requested",JobStatus.State.RUNNING,f.getState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.nodestream.NodeStreamPathTest </h4><pre class="type-15 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPaths(){
  final String[] data={"1","1","9","9","99","99","100","10/0","199","19/9","200","20/0","1234","12/34"};
  for (int i=0; i < data.length; i+=2) {
    final NodeStreamPath nsp=new NodeStreamPath();
    for (int j=0; j < Integer.parseInt(data[i]); j++) {
      nsp.selectNextPath();
    }
    final String exp=data[i + 1];
    assertEquals("At index " + i + ", expected "+ exp,exp,nsp.getNodePath());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.cassandra.test.data.populator.CassandraModifyResourceProviderAddTest </h4><pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddData(){
  String cf="p2";
  try {
    String path1="/content/cassandra/" + cf + "/c1";
    CassandraResourceProvider cassandraResourceProvider=new CassandraResourceProvider();
    createColumnFamily(cf,cassandraResourceProvider.getKeyspace(),new StringSerializer());
    cassandraResourceProvider.setColumnFamily(cf);
    Map<String,Object> map1=new HashMap<String,Object>();
    map1.put("metadata","resolutionPathInfo=json");
    map1.put("resourceType","nt:cassandra0");
    map1.put("resourceSuperType","nt:supercass1");
    CassandraResourceResolver resolver=new CassandraResourceResolver();
    cassandraResourceProvider.create(resolver,path1,map1);
    Assert.assertNull("Before Commiting Resource should be null",cassandraResourceProvider.getResource(resolver,path1));
    cassandraResourceProvider.commit(resolver);
    Assert.assertNotNull("Commited Resource cannot be null",cassandraResourceProvider.getResource(resolver,path1));
  }
 catch (  Exception e) {
    LOGGER.info("Ignore err" + e.getMessage());
    Assert.fail("Failed to add data to cassandra");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.cassandra.test.data.populator.CassandraModifyResourceProviderDeleteTest </h4><pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteData(){
  String cf="p3";
  try {
    String path1="/content/cassandra/" + cf + "/c1";
    CassandraResourceProvider cassandraResourceProvider=new CassandraResourceProvider();
    createColumnFamily(cf,cassandraResourceProvider.getKeyspace(),new StringSerializer());
    cassandraResourceProvider.setColumnFamily(cf);
    Map<String,Object> map1=new HashMap<String,Object>();
    map1.put("metadata","resolutionPathInfo=json");
    map1.put("resourceType","nt:cassandra0");
    map1.put("resourceSuperType","nt:supercass1");
    CassandraResourceResolver resolver=new CassandraResourceResolver();
    cassandraResourceProvider.create(resolver,path1,map1);
    Assert.assertNull("Before Commiting Resource should be null",cassandraResourceProvider.getResource(resolver,path1));
    cassandraResourceProvider.commit(resolver);
    Assert.assertNotNull("Commited Resource cannot be null",cassandraResourceProvider.getResource(resolver,path1));
    cassandraResourceProvider.delete(resolver,path1);
    Assert.assertNotNull("Uncommited deleted resource cannot be null",cassandraResourceProvider.getResource(resolver,path1));
    cassandraResourceProvider.commit(resolver);
    Assert.assertNull("Deleted resource should be null",cassandraResourceProvider.getResource(resolver,path1));
  }
 catch (  Exception e) {
    LOGGER.info("Ignore err" + e.getMessage());
    Assert.fail("Failed to add data to cassandra");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.cassandra.test.data.populator.CassandraModifyResourceProviderRevertTest </h4><pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRevertData(){
  String cf="p4";
  try {
    String path1="/content/cassandra/" + cf + "/c1";
    CassandraResourceProvider cassandraResourceProvider=new CassandraResourceProvider();
    createColumnFamily(cf,cassandraResourceProvider.getKeyspace(),new StringSerializer());
    cassandraResourceProvider.setColumnFamily(cf);
    Map<String,Object> map1=new HashMap<String,Object>();
    map1.put("metadata","resolutionPathInfo=json");
    map1.put("resourceType","nt:cassandra0");
    map1.put("resourceSuperType","nt:supercass1");
    CassandraResourceResolver resolver=new CassandraResourceResolver();
    cassandraResourceProvider.create(resolver,path1,map1);
    Assert.assertNull("Before Commiting resource should be null",cassandraResourceProvider.getResource(resolver,path1));
    cassandraResourceProvider.revert(resolver);
    Assert.assertNull("Reverted resource should be null",cassandraResourceProvider.getResource(resolver,path1));
  }
 catch (  Exception e) {
    LOGGER.info("Ignore err" + e.getMessage());
    Assert.fail("Failed to add data to cassandra");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.CacheConfigTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.CacheIT </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerInvalidated(){
  String cacheName="string-cache-invalidated";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERINVALIDATED);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERINVALIDATED);
  Assert.assertNotNull(c);
  Assert.assertEquals(v,c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerReplicated(){
  String cacheName="string-cache-replicated";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERREPLICATED);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERREPLICATED);
  Assert.assertNotNull(c);
  Assert.assertEquals(v,c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerThread(){
  String cacheName="string-cache-thread";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.THREAD);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.THREAD);
  Assert.assertNotNull(c);
  Assert.assertNull(c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerRequest(){
  String cacheName="string-cache-request";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.REQUEST);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.REQUEST);
  Assert.assertNotNull(c);
  Assert.assertNull(c.get("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.TestCache </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.CacheConfigTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.CacheIT </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerInstance(){
  String cacheName="string-cache-instance";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.INSTANCE);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.INSTANCE);
  Assert.assertNotNull(c);
  Assert.assertEquals(v,c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerInvalidated(){
  String cacheName="string-cache-invalidated";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERINVALIDATED);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERINVALIDATED);
  Assert.assertNotNull(c);
  Assert.assertEquals(v,c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerThread(){
  String cacheName="string-cache-thread";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.THREAD);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.THREAD);
  Assert.assertNotNull(c);
  Assert.assertNull(c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerRequest(){
  String cacheName="string-cache-request";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.REQUEST);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.REQUEST);
  Assert.assertNotNull(c);
  Assert.assertNull(c.get("key"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheManagerReplicated(){
  check();
  String cacheName="string-cache-replicated";
  Assert.assertNotNull(cacheManagerService);
  Cache<String> c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERREPLICATED);
  Assert.assertNotNull(c);
  String v=cacheName + String.valueOf(System.currentTimeMillis());
  c.put("key",v);
  Assert.assertEquals(v,c.get("key"));
  cacheManagerService.unbind(CacheScope.CLUSTERREPLICATED);
  cacheManagerService.unbind(CacheScope.CLUSTERINVALIDATED);
  cacheManagerService.unbind(CacheScope.INSTANCE);
  cacheManagerService.unbind(CacheScope.REQUEST);
  cacheManagerService.unbind(CacheScope.THREAD);
  c=cacheManagerService.getCache(cacheName,CacheScope.CLUSTERREPLICATED);
  Assert.assertNotNull(c);
  Assert.assertEquals(v,c.get("key"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.TestCache </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.classloader.impl.ClassLoadingTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * This method tests the dynamic class loading through the package admin.
 * The returned class changes from map to array list.
 */
@Test public void testLoading() throws Exception {
  final Sequence sequence=this.context.sequence("load-sequence");
  final BundleContext bundleContext=this.context.mock(BundleContext.class);
  final PackageAdmin packageAdmin=this.context.mock(PackageAdmin.class);
  final ExportedPackage ep=this.context.mock(ExportedPackage.class);
  final Bundle bundle=this.context.mock(Bundle.class);
  this.context.checking(new Expectations(){
{
      allowing(bundleContext).createFilter(with(any(String.class)));
      will(returnValue(null));
      allowing(bundleContext).addServiceListener(with(any(ServiceListener.class)),with(any(String.class)));
      allowing(bundleContext).removeServiceListener(with(any(ServiceListener.class)));
      allowing(bundleContext).getServiceReferences(with(any(String.class)),with(any(String.class)));
      will(returnValue(null));
      allowing(packageAdmin).getExportedPackage("org.apache.sling.test");
      will(returnValue(ep));
      allowing(ep).getExportingBundle();
      will(returnValue(bundle));
      allowing(ep).isRemovalPending();
      will(returnValue(false));
      allowing(bundle).getBundleId();
      will(returnValue(2L));
      allowing(bundle).getState();
      will(returnValue(Bundle.ACTIVE));
      one(bundle).loadClass("org.apache.sling.test.A");
      inSequence(sequence);
      will(returnValue(java.util.Map.class));
      one(bundle).loadClass("org.apache.sling.test.A");
      inSequence(sequence);
      will(returnValue(java.util.Map.class));
      one(bundle).loadClass("org.apache.sling.test.A");
      inSequence(sequence);
      will(returnValue(java.util.ArrayList.class));
    }
  }
);
  DynamicClassLoaderManagerImpl manager=new DynamicClassLoaderManagerImpl(bundleContext,packageAdmin,null,new DynamicClassLoaderManagerFactory(bundleContext,packageAdmin));
  final ClassLoader cl=manager.getDynamicClassLoader();
  final Class<?> c1=cl.loadClass("org.apache.sling.test.A");
  Assert.assertEquals("java.util.Map",c1.getName());
  final Class<?> c2=cl.loadClass("org.apache.sling.test.A");
  Assert.assertEquals("java.util.Map",c2.getName());
  final Class<?> c3=cl.loadClass("org.apache.sling.test.A");
  Assert.assertEquals("java.util.Map",c3.getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.classloader.it.DynamicClassLoaderIT </h4><pre class="type-11 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdminClassLoader() throws Exception {
  assertNotNull(getDynamicClassLoader());
  final URL url=new URL(mavenBundle("org.apache.sling","org.apache.sling.commons.osgi","2.1.0").getURL());
  final InputStream is=url.openStream();
  Bundle osgiBundle=null;
  try {
    osgiBundle=this.bundleContext.installBundle(url.toExternalForm(),is);
  }
  finally {
    try {
      is.close();
    }
 catch (    final IOException ignore) {
    }
  }
  assertNotNull(osgiBundle);
  assertEquals(Bundle.INSTALLED,osgiBundle.getState());
  final String className="org.apache.sling.commons.osgi.PropertiesUtil";
  try {
    getDynamicClassLoader().loadClass(className);
    fail("Class should not be available");
  }
 catch (  final ClassNotFoundException expected) {
  }
  osgiBundle.getResource("/something");
  assertEquals(Bundle.RESOLVED,osgiBundle.getState());
  try {
    getDynamicClassLoader().loadClass(className);
    fail("Class should not be available");
  }
 catch (  final ClassNotFoundException expected) {
  }
  osgiBundle.start();
  assertEquals(Bundle.ACTIVE,osgiBundle.getState());
  try {
    getDynamicClassLoader().loadClass(className);
  }
 catch (  final ClassNotFoundException expected) {
    fail("Class should be available");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.contentdetection.internal.ContentAwareMimeTypeServiceImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMimeTypeWithNullContent() throws IOException {
  final String filename="test.txt";
  final String mimeType=contentAwareMimeTypeService.getMimeType(filename,null);
  Assert.assertEquals("MT_test.txt",mimeType);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetExtension(){
  final String ext=contentAwareMimeTypeService.getExtension("foo");
  Assert.assertEquals("EXT_foo",ext);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetMimeTypeByString(){
  String mimeTypeName="testName.txt";
  final String mimeType=contentAwareMimeTypeService.getMimeType(mimeTypeName);
  Assert.assertEquals("MT_testName.txt",mimeType);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.contentdetection.internal.it.ContentAwareMimeTypeServiceImplIT </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void detectFromExtension() throws IOException {
  String mimeTypeName="test.mp3";
  String mimeType="audio/mpeg";
  assertEquals("Expecting mp3 type without InputStream parameter",mimeType,contentAwaremimeTypeService.getMimeType(mimeTypeName));
  assertEquals("Expecting mp3 type with null InputStream parameter",mimeType,contentAwaremimeTypeService.getMimeType(mimeTypeName,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONArrayToStringTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJsonArraySingle() throws JSONException {
  final JSONArray a=new JSONArray();
  a.put("foo");
  assertEquals("[\"foo\"]",a.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONObjectTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNull() throws JSONException {
  JSONObject obj=new JSONObject();
  obj.put(KEY,JSONObject.NULL);
  TestCase.assertTrue(obj.has(KEY));
  TestCase.assertTrue(obj.get(KEY).equals(null));
  TestCase.assertEquals("{\"" + KEY + "\":null}",obj.toString());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullValueInMap() throws JSONException {
  Map<String,Object> map=new LinkedHashMap<String,Object>();
  map.put("abc","123456");
  List<String> list=new ArrayList<String>();
  list.add("Admin");
  list.add("password");
  map.put("groups",list);
  map.put("id",null);
  JSONObject response=new JSONObject();
  response.put("key",map);
  assertNotNull(response.get("key"));
  assertEquals("{\"abc\":\"123456\",\"groups\":\"[Admin, password]\",\"id\":null}",response.get("key").toString());
  assertEquals("123456",response.getJSONObject("key").get("abc"));
  assertEquals(list,response.getJSONObject("key").get("groups"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * See <a href="https://issues.apache.org/jira/browse/SLING-929">SLING-929</a>
 */
@Test public void testAppend() throws JSONException {
  JSONObject obj=new JSONObject();
  obj.append(KEY,"value1");
  obj.append(KEY,"value2");
  Object result=obj.get(KEY);
  assertTrue("Did not create an array",result instanceof JSONArray);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONObjectToStringTest </h4><pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJSONStringException() throws JSONException {
  final JSONString js=new JSONString(){
    @Override public String toString(){
      return toJSONString();
    }
    public String toJSONString(){
      throw new UnsupportedOperationException("toJSONString");
    }
  }
;
  j.put("should.fail",js);
  assertNull("Expecting null output for toString()",j.toString());
  try {
    assertNull("Expecting null output for toString(2)",j.toString(2));
    fail("Expected UnsupportedOperationException");
  }
 catch (  UnsupportedOperationException uso) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONWriterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetTidy(){
  assertFalse(w.isTidy());
  w.setTidy(true);
  assertTrue(w.isTidy());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.io.JSONRendererTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testArraysPrettyPrint() throws JSONException {
  final JSONObject jo=new TestJSONObject();
  final String json=renderer.prettyPrint(jo,renderer.options().withArraysForChildren(true));
  final JSONObject copy=new JSONObject(json);
  final JSONArray a=copy.getJSONArray(JSONRenderer.Options.DEFAULT_CHILDREN_KEY);
  final String str=renderer.toString(a);
  final String expected="[{\"__name__\":\"k0\",\"name\":\"k0\",\"this is\":\"k0\"},{\"__name__\":\"k1\",\"name\":\"k1\",\"this is\":\"k1\"}]";
  assertEquals(expected,str);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSingleJSONArray() throws JSONException {
  final JSONArray ja=new JSONArray();
  ja.put(42);
  assertEquals("[42]",renderer.prettyPrint(ja,renderer.options()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.jcr.JsonItemWriterTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBasicJson() throws RepositoryException, JSONException {
  final Node n=new MockNode("/test");
  n.setProperty("testprop","1234");
  assertEquals("{\"testprop\":\"1234\"}",getJson(n,0));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultivalued() throws RepositoryException, JSONException {
  final Node n=new MockNode("/test");
  final String[] values={"1234","yes"};
  n.setProperty("testprop",values);
  assertEquals("{\"testprop\":[\"1234\",\"yes\"]}",getJson(n,0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.jcr.JsonJcrNodeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testJcrJsonObject() throws RepositoryException, JSONException {
  MockNode node=new MockNode("/node1");
  node.setProperty("prop1","value1");
  node.setProperty("prop2","value2");
  Set<String> ignoredProperties=new HashSet<String>();
  ignoredProperties.add("prop2");
  JsonJcrNode json=new JsonJcrNode(node,ignoredProperties);
  assertTrue("Did not create property",json.has("prop1"));
  assertFalse("Created ignored property",json.has("prop2"));
  assertTrue("Did not create jcr:name",json.has("jcr:name"));
  assertTrue("Did not create jcr:path",json.has("jcr:path"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.sling.JsonObjectCreatorTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringArray() throws JSONException {
  final String[] values={"A","B"};
  when(resource.adaptTo(String[].class)).thenReturn(values);
  final JSONObject j=JsonObjectCreator.create(resource,1);
  assertEquals("A",j.getJSONArray(RESOURCE_NAME).get(0));
  assertEquals("B",j.getJSONArray(RESOURCE_NAME).get(1));
}

</code></pre>

<br>
<pre class="type-15 type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testChildren() throws JSONException {
  when(resource.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(props));
  final JSONObject j=JsonObjectCreator.create(resource,2);
  for (int i=0; i < NCHILDREN; i++) {
    final String id="child" + i;
    assertEquals(id,j.getJSONObject(id).get("id"));
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringValue() throws JSONException {
  final String value="the string";
  when(resource.adaptTo(String.class)).thenReturn(value);
  final JSONObject j=JsonObjectCreator.create(resource,1);
  assertEquals(value,j.get(RESOURCE_NAME));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITAppenderServices </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppenderServiceModified() throws Exception {
  TestAppender ta=registerAppender("foo.bar","foo.baz");
  delay();
  Logger bar=(Logger)LoggerFactory.getLogger("foo.bar");
  bar.setLevel(Level.DEBUG);
  Logger baz=(Logger)LoggerFactory.getLogger("foo.baz");
  baz.setLevel(Level.INFO);
  bar.debug("Test message");
  baz.debug("Test message");
  assertEquals(1,ta.events.size());
  ta.reset();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("loggers",new String[]{"foo.bar2"});
  sr.setProperties(props);
  delay();
  LoggerFactory.getLogger("foo.bar2").info("foo.bar2");
  LoggerFactory.getLogger("foo.baz").info("foo.baz");
  assertEquals(1,ta.msgs.size());
  assertTrue(ta.msgs.contains("foo.bar2"));
  assertFalse(ta.msgs.contains("foo.baz"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITConfigAdminSupport </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testChangeLogLevelWithConfig() throws Exception {
  Configuration config=ca.createFactoryConfiguration(FACTORY_PID_CONFIGS,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_LOGGERS,new String[]{"foo1.bar"});
  p.put(LOG_LEVEL,"DEBUG");
  config.update(p);
  delay();
  Logger slf4jLogger=LoggerFactory.getLogger("foo1.bar");
  assertTrue(slf4jLogger.isDebugEnabled());
  assertTrue(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isInfoEnabled());
  assertFalse(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isDebugEnabled());
  Iterator<Appender<ILoggingEvent>> itr=((ch.qos.logback.classic.Logger)slf4jLogger).iteratorForAppenders();
  assertFalse(itr.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResetToDefault() throws Exception {
  ch.qos.logback.classic.Logger lgLog=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo2.bar");
  lgLog.setLevel(Level.TRACE);
  assertEquals(Level.TRACE,lgLog.getLevel());
  Configuration config=ca.createFactoryConfiguration(FACTORY_PID_CONFIGS,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_LOGGERS,new String[]{"foo2.bar"});
  p.put(LOG_LEVEL,"DEFAULT");
  config.update(p);
  delay();
  Logger slf4jLogger=LoggerFactory.getLogger("foo2.bar");
  assertFalse(slf4jLogger.isDebugEnabled());
  assertFalse(slf4jLogger.isTraceEnabled());
  assertTrue(lgLog.isAdditive());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITConfigFragments </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigProvider() throws Exception {
  bundleContext.registerService(ConfigProvider.class.getName(),new FileConfigProvider(),null);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo2.bar.include");
  assertTrue(logger.isDebugEnabled());
  assertNotNull("Appender FOO2FILE must be attached",logger.getAppender("FOO2FILE"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigFragment() throws Exception {
  Properties props=new Properties();
  props.setProperty("logbackConfig","true");
  String config="<included>\n" + "  <appender name=\"FOOFILE\" class=\"ch.qos.logback.core.FileAppender\">\n" + "    <file>${sling.home}/logs/foo.log</file>\n"+ "    <encoder>\n"+ "      <pattern>%d %-5level %logger{35} - %msg %n</pattern>\n"+ "    </encoder>\n"+ "  </appender>\n"+ "\n"+ "  <logger name=\"foo.bar.include\" level=\"DEBUG\">\n"+ "       <appender-ref ref=\"FOOFILE\" />\n"+ "  </logger>\n"+ "\n"+ "</included>";
  bundleContext.registerService(String.class.getName(),config,props);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo.bar.include");
  assertTrue(logger.isDebugEnabled());
  assertNotNull("Appender FOOFILE must be attached",logger.getAppender("FOOFILE"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigProviderWithListener() throws Exception {
  FileConfigProvider fcp=new FileConfigProvider();
  fcp.fileName="test-reset-config-1.xml";
  bundleContext.registerService(ConfigProvider.class.getName(),fcp,null);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo.reset.1");
  assertTrue(logger.isDebugEnabled());
  assertNotNull(logger.getAppender("FOO-RESET-FILE-1"));
  fcp.fileName="test-reset-config-2.xml";
  eventAdmin.sendEvent(new Event(RESET_EVENT_TOPIC,(Dictionary)null));
  delay();
  assertFalse(logger.isDebugEnabled());
  assertTrue(logger.isInfoEnabled());
  assertNotNull(logger.getAppender("FOO-RESET-FILE-2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITDefaultConfig </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks the default settings. It runs the bundle with minimum dependencies
 */
@Test public void testDefaultSettings() throws Exception {
  Logger slf4jLogger=LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);
  assertTrue("Default Log level should be INFO",slf4jLogger.isInfoEnabled());
  assertTrue(LoggerFactory.getILoggerFactory() instanceof LoggerContext);
  assertTrue(slf4jLogger instanceof ch.qos.logback.classic.Logger);
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)slf4jLogger;
  Iterator<Appender<ILoggingEvent>> itr=logger.iteratorForAppenders();
  assertTrue("One appender should be attached with root logger",itr.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITFilterSupport </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalFilter(){
  TestAppender ta=registerAppender("filter","TestAppender");
  org.slf4j.Logger bar=LoggerFactory.getLogger("filter.foo.bar");
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
  SimpleFilter stf=new SimpleFilter();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("appenders","TestAppender");
  ServiceRegistration sr=bundleContext.registerService(Filter.class.getName(),stf,props);
  delay();
  assertNotNull("Filter should have context set",stf.getContext());
  assertTrue("Filter should be started",stf.isStarted());
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertTrue(ta.events.isEmpty());
  sr.unregister();
  delay();
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTurboFilter() throws Exception {
  TestAppender ta=registerAppender("turbofilter","TestAppender");
  org.slf4j.Logger bar=LoggerFactory.getLogger("turbofilter.foo.bar");
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
  SimpleTurboFilter stf=new SimpleTurboFilter();
  ServiceRegistration sr=bundleContext.registerService(TurboFilter.class.getName(),stf,null);
  delay();
  assertNotNull("Filter should have context set",stf.getContext());
  assertTrue("Filter should be started",stf.isStarted());
  ta.events.clear();
  assertFalse(bar.isDebugEnabled());
  bar.debug("Test");
  assertTrue(ta.events.isEmpty());
  sr.unregister();
  delay();
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITWebConsoleRemote </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void tailerHeader() throws Exception {
  Page page=webClient.getPage(prepareUrl("slinglog/tailer.txt?name=webconsoletest1.log"));
  String nosniffHeader=page.getWebResponse().getResponseHeaderValue("X-Content-Type-Options");
  assertEquals("nosniff",nosniffHeader);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWebConsolePlugin() throws IOException {
  final HtmlPage page=webClient.getPage(prepareUrl(PLUGIN_SUFFIX));
  String text=page.asText();
  assertTrue(text.contains("WebConsoleTestTurboFilter"));
  assertTrue(text.contains("WebConsoleTestAppender"));
  assertTrue(text.contains("testremote.log"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPrinter() throws IOException {
  final HtmlPage page=webClient.getPage(prepareUrl(PRINTER_SUFFIX));
  String text=page.asText();
  assertTrue(text.contains("testremote.log"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.internal.TestLogWriter </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSizeBasedLegacyPattern(){
  LogWriter lw=new LogWriter("foo","target/foo",5,"4k");
  Appender<ILoggingEvent> a=createappender(lw);
  assertInstanceOf(a,SlingRollingFileAppender.class);
  SlingRollingFileAppender sr=(SlingRollingFileAppender)a;
  assertInstanceOf(sr.getTriggeringPolicy(),SizeBasedTriggeringPolicy.class);
  assertInstanceOf(sr.getRollingPolicy(),FixedWindowRollingPolicy.class);
  SizeBasedTriggeringPolicy sbtp=(SizeBasedTriggeringPolicy)sr.getTriggeringPolicy();
  FixedWindowRollingPolicy fwRp=(FixedWindowRollingPolicy)sr.getRollingPolicy();
  assertEquals(5,fwRp.getMaxIndex());
  assertEquals(String.valueOf(4 * FileUtils.ONE_KB),sbtp.getMaxFileSize());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRotationBasedLegacyPattern(){
  LogWriter lw=new LogWriter("foo","target/foo",5,"'.'yyyy-MM");
  Appender<ILoggingEvent> a=createappender(lw);
  assertInstanceOf(a,SlingRollingFileAppender.class);
  SlingRollingFileAppender sr=(SlingRollingFileAppender)a;
  assertInstanceOf(sr.getTriggeringPolicy(),TimeBasedRollingPolicy.class);
  TimeBasedRollingPolicy tbrp=(TimeBasedRollingPolicy)sr.getTriggeringPolicy();
  assertEquals(5,tbrp.getMaxHistory());
  assertEquals("target/foo.%d{yyyy-MM}",tbrp.getFileNamePattern());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.internal.TestTailer </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testLessAndMore() throws Exception {
  File f1=tempFolder.newFile();
  writeToFile(f1,asList("a","b","c","d"));
  new Tailer(listener,2).tail(f1);
  assertThat(listener.lines,contains("c","d"));
  listener.reset();
  new Tailer(listener,10).tail(f1);
  assertThat(listener.lines,contains("a","b","c","d"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.logservice.internal.LogSupportTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetLevels(){
  Logger traceLogger=Mockito.mock(Logger.class);
  Mockito.when(traceLogger.isTraceEnabled()).thenReturn(true);
  assertEquals(5,LogSupport.getLevel(traceLogger));
  Logger debugLogger=Mockito.mock(Logger.class);
  Mockito.when(debugLogger.isDebugEnabled()).thenReturn(true);
  assertEquals(LogService.LOG_DEBUG,LogSupport.getLevel(debugLogger));
  Logger infoLogger=Mockito.mock(Logger.class);
  Mockito.when(infoLogger.isInfoEnabled()).thenReturn(true);
  assertEquals(LogService.LOG_INFO,LogSupport.getLevel(infoLogger));
  Logger warnLogger=Mockito.mock(Logger.class);
  Mockito.when(warnLogger.isWarnEnabled()).thenReturn(true);
  assertEquals(LogService.LOG_WARNING,LogSupport.getLevel(warnLogger));
  Logger errorLogger=Mockito.mock(Logger.class);
  Mockito.when(errorLogger.isErrorEnabled()).thenReturn(true);
  assertEquals(LogService.LOG_ERROR,LogSupport.getLevel(errorLogger));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.metrics.internal.MetricServiceTest </h4><pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void timer() throws Exception {
  activate();
  Timer timer=service.timer("test");
  assertNotNull(timer);
  assertTrue(getRegistry().getTimers().containsKey("test"));
  assertSame(timer,service.timer("test"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void jmxRegistration() throws Exception {
  MBeanServer server=ManagementFactory.getPlatformMBeanServer();
  activate();
  Meter meter=service.meter("test");
  assertNotNull(meter);
  QueryExp q=Query.isInstanceOf(Query.value(JmxReporter.JmxMeterMBean.class.getName()));
  Set<ObjectName> names=server.queryNames(new ObjectName("org.apache.sling:name=*"),q);
  assertThat(names,is(not(empty())));
  MockOsgi.deactivate(service);
  names=server.queryNames(new ObjectName("org.apache.sling:name=*"),q);
  assertThat(names,is(empty()));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void meter() throws Exception {
  activate();
  Meter meter=service.meter("test");
  assertNotNull(meter);
  assertTrue(getRegistry().getMeters().containsKey("test"));
  assertSame(meter,service.meter("test"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void defaultSetup() throws Exception {
  activate();
  assertNotNull(context.getService(MetricRegistry.class));
  assertNotNull(context.getService(MetricsService.class));
  assertNotNull(service.adaptTo(MetricRegistry.class));
  MockOsgi.deactivate(service);
  assertNull(context.getService(MetricRegistry.class));
  assertNull(context.getService(MetricsService.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void counter() throws Exception {
  activate();
  Counter counter=service.counter("test");
  assertNotNull(counter);
  assertTrue(getRegistry().getCounters().containsKey("test"));
  assertSame(counter,service.counter("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void histogram() throws Exception {
  activate();
  Histogram histo=service.histogram("test");
  assertNotNull(histo);
  assertTrue(getRegistry().getHistograms().containsKey("test"));
  assertSame(histo,service.histogram("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.metrics.internal.MetricWebConsolePluginTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void consolidatedRegistry() throws Exception {
  MetricRegistry reg1=new MetricRegistry();
  reg1.meter("test1");
  context.registerService(MetricRegistry.class,reg1,regProps("foo"));
  activatePlugin();
  MetricRegistry consolidated=plugin.getConsolidatedRegistry();
  assertEquals(1,consolidated.getMetrics().size());
  assertTrue(consolidated.getMeters().containsKey("foo:test1"));
  MetricRegistry reg2=new MetricRegistry();
  reg2.meter("test2");
  context.registerService(MetricRegistry.class,reg2);
  consolidated=plugin.getConsolidatedRegistry();
  assertEquals(2,consolidated.getMetrics().size());
  assertTrue(consolidated.getMeters().containsKey("test2"));
  MetricRegistry reg3=new MetricRegistry();
  reg3.meter("test2");
  context.registerService(MetricRegistry.class,reg3);
  consolidated=plugin.getConsolidatedRegistry();
  assertEquals(2,consolidated.getMetrics().size());
  MetricRegistry reg4=new MetricRegistry();
  reg4.meter("test1");
  context.registerService(MetricRegistry.class,reg4,regProps("bar"));
  consolidated=plugin.getConsolidatedRegistry();
  assertTrue(consolidated.getMeters().containsKey("foo:test1"));
  assertTrue(consolidated.getMeters().containsKey("bar:test1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.metrics.internal.MetricWrapperTest </h4><pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void timer() throws Exception {
  Timer time=registry.timer("test");
  TimerImpl timerStats=new TimerImpl(time);
  timerStats.update(100,TimeUnit.SECONDS);
  assertEquals(1,time.getCount());
  assertEquals(TimeUnit.SECONDS.toNanos(100),time.getSnapshot().getMax());
  timerStats.update(100,TimeUnit.SECONDS);
  assertEquals(2,timerStats.getCount());
  assertSame(time,timerStats.adaptTo(Timer.class));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void meter() throws Exception {
  Meter meter=registry.meter("test");
  MeterImpl meterStats=new MeterImpl(meter);
  meterStats.mark();
  assertEquals(1,meterStats.getCount());
  assertEquals(1,meter.getCount());
  meterStats.mark(5);
  assertEquals(6,meterStats.getCount());
  assertEquals(6,meter.getCount());
  assertSame(meter,meterStats.adaptTo(Meter.class));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void counter() throws Exception {
  Counter counter=registry.counter("test");
  CounterImpl counterStats=new CounterImpl(counter);
  counterStats.increment();
  assertEquals(1,counterStats.getCount());
  assertEquals(1,counter.getCount());
  assertEquals(1,counterStats.getCount());
  counterStats.increment();
  counterStats.increment();
  assertEquals(3,counterStats.getCount());
  counterStats.decrement();
  assertEquals(2,counterStats.getCount());
  assertEquals(2,counter.getCount());
  counterStats.increment(7);
  assertEquals(9,counterStats.getCount());
  assertEquals(9,counter.getCount());
  counterStats.decrement(5);
  assertEquals(4,counterStats.getCount());
  assertEquals(4,counter.getCount());
  assertSame(counter,counterStats.adaptTo(Counter.class));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void histogram() throws Exception {
  Histogram histo=registry.histogram("test");
  HistogramImpl histoStats=new HistogramImpl(histo);
  histoStats.update(100);
  assertEquals(1,histo.getCount());
  assertEquals(1,histoStats.getCount());
  assertEquals(100,histo.getSnapshot().getMax());
  assertSame(histo,histoStats.adaptTo(Histogram.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void timerContext() throws Exception {
  VirtualClock clock=new VirtualClock();
  Timer time=new Timer(new ExponentiallyDecayingReservoir(),clock);
  TimerImpl timerStats=new TimerImpl(time);
  org.apache.sling.commons.metrics.Timer.Context context=timerStats.time();
  clock.tick=TimeUnit.SECONDS.toNanos(314);
  context.close();
  assertEquals(1,time.getCount());
  assertEquals(TimeUnit.SECONDS.toNanos(314),time.getSnapshot().getMax());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.RankedServicesTest </h4><pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSortedServicesAscending(){
  RankedServices<Comparable> underTest=new RankedServices<Comparable>();
  assertEquals(0,underTest.get().size());
  underTest.bind(SERVICE_1,SERVICE_1_PROPS);
  assertEquals(1,underTest.get().size());
  Comparable[] services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_1,services[0]);
  underTest.bind(SERVICE_2,SERVICE_2_PROPS);
  underTest.bind(SERVICE_3,SERVICE_3_PROPS);
  assertEquals(3,underTest.get().size());
  services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_2,services[0]);
  assertSame(SERVICE_1,services[1]);
  assertSame(SERVICE_3,services[2]);
  underTest.unbind(SERVICE_2,SERVICE_2_PROPS);
  assertEquals(2,underTest.get().size());
  services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_1,services[0]);
  assertSame(SERVICE_3,services[1]);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSortedServicesDescending(){
  RankedServices<Comparable> underTest=new RankedServices<Comparable>(Order.DESCENDING);
  assertEquals(0,underTest.get().size());
  underTest.bind(SERVICE_1,SERVICE_1_PROPS);
  assertEquals(1,underTest.get().size());
  Comparable[] services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_1,services[0]);
  underTest.bind(SERVICE_2,SERVICE_2_PROPS);
  underTest.bind(SERVICE_3,SERVICE_3_PROPS);
  assertEquals(3,underTest.get().size());
  services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_3,services[0]);
  assertSame(SERVICE_1,services[1]);
  assertSame(SERVICE_2,services[2]);
  underTest.unbind(SERVICE_2,SERVICE_2_PROPS);
  assertEquals(2,underTest.get().size());
  services=Iterators.toArray(underTest.get().iterator(),Comparable.class);
  assertSame(SERVICE_3,services[0]);
  assertSame(SERVICE_1,services[1]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.BundleBundleVersionInfoTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSnapshot(){
  final String name="some.bundle";
  final Version version=new Version("1.0.4.SNAPSHOT");
  final long lastMod=0;
  final Bundle b=getMockBundle(name,version,lastMod);
  BundleVersionInfo<?> vi=new BundleBundleVersionInfo(b);
  assertEquals("Symbolic name matches",name,vi.getBundleSymbolicName());
  assertEquals("Version matches",version,vi.getVersion());
  assertTrue("isBundle",vi.isBundle());
  assertTrue("Bundle is a snapshot",vi.isSnapshot());
  assertEquals("Last-Modified matches",BundleVersionInfo.BND_LAST_MODIFIED_MISSING,vi.getBundleLastModified());
  assertTrue("Bundle is stored as source",vi.getSource() == b);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVersionInfo(){
  final String name="some.bundle";
  final Version version=new Version("1.0.4");
  final long lastMod=1234L;
  final Bundle b=getMockBundle(name,version,lastMod);
  BundleVersionInfo<?> vi=new BundleBundleVersionInfo(b);
  assertEquals("Symbolic name matches",name,vi.getBundleSymbolicName());
  assertEquals("Version matches",version,vi.getVersion());
  assertTrue("isBundle",vi.isBundle());
  assertFalse("Not a snapshot",vi.isSnapshot());
  assertEquals("Last-Modified matches",lastMod,vi.getBundleLastModified());
  assertTrue("Bundle is stored as source",vi.getSource() == b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.FileBundleVersionInfoTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlingApiJar() throws IOException {
  final File testJar=getTestJar("org.apache.sling.api");
  final BundleVersionInfo<?> vi=new FileBundleVersionInfo(testJar);
  assertEquals("org.apache.sling.api",vi.getBundleSymbolicName());
  assertEquals(vi.getVersion(),new Version("2.0.6"));
  assertFalse(vi.isSnapshot());
  assertEquals(1250080966786L,vi.getBundleLastModified());
  assertTrue(vi.isBundle());
  final Object src=vi.getSource();
  assertTrue(src instanceof File);
  assertEquals(testJar.getAbsolutePath(),((File)src).getAbsolutePath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlf4jJar() throws IOException {
  final File testJar=getTestJar("jcr");
  final BundleVersionInfo<?> vi=new FileBundleVersionInfo(testJar);
  assertFalse(vi.isBundle());
  assertNull(vi.getBundleSymbolicName());
  assertNull(vi.getVersion());
  assertEquals(BundleVersionInfo.BND_LAST_MODIFIED_MISSING,vi.getBundleLastModified());
  final Object src=vi.getSource();
  assertTrue(src instanceof File);
  assertEquals(testJar.getAbsolutePath(),((File)src).getAbsolutePath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.InternalScheduleOptionsTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReferences(){
  TriggerBuilder<? extends Trigger> trigger=TriggerBuilder.newTrigger();
  test=new InternalScheduleOptions(trigger);
  assertTrue(trigger == test.trigger);
  assertNull("If trigger was set, argumentException must be null",test.argumentException);
  String[] onLeader=new String[]{Scheduler.VALUE_RUN_ON_LEADER};
  test.onLeaderOnly(true);
  assertArrayEquals(onLeader,test.runOn);
  test.onLeaderOnly(false);
  assertNull(test.runOn);
  String[] onSingle=new String[]{Scheduler.VALUE_RUN_ON_SINGLE};
  test.onSingleInstanceOnly(true);
  assertArrayEquals(onSingle,test.runOn);
  test.onSingleInstanceOnly(false);
  assertNull(test.runOn);
  Map<String,Serializable> config=new HashMap<String,Serializable>();
  test.config(config);
  assertEquals(config,test.configuration);
  String testName="testName";
  test.name(testName);
  assertEquals(testName,test.name);
  test.canRunConcurrently(true);
  assertTrue(test.canRunConcurrently);
  String[] testStringArray=new String[]{"test1","test2","test3"};
  test.onInstancesOnly(testStringArray);
  assertArrayEquals(testStringArray,test.runOn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzJobExecutorTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testReferences(){
  String testName="testName";
  Map<String,Serializable> testMap=new HashMap<String,Serializable>();
  QuartzJobExecutor.JobContextImpl underTest=new QuartzJobExecutor.JobContextImpl(testName,testMap);
  assertTrue(underTest.getConfiguration().equals(testMap));
  assertTrue(underTest.getName().equals(testName));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzSchedulerTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithStoppedBundle() throws SchedulerException {
  String firstJob="testName1";
  String secondJob="testName2";
  when(bundle.getBundleId()).thenReturn(2L);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(2L,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  BundleEvent event=new BundleEvent(BundleEvent.STOPPED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertFalse(s.checkExists(JobKey.jobKey(secondJob)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithoutScheduler() throws Exception {
  String firstJob="testName1";
  String secondJob="testName2";
  Long bundleIdToRemove=2L;
  when(bundle.getBundleId()).thenReturn(bundleIdToRemove);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(bundleIdToRemove,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  setInternalSchedulerToNull();
  BundleEvent event=new BundleEvent(BundleEvent.STOPPED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertTrue(s.checkExists(JobKey.jobKey(secondJob)));
  returnInternalSchedulerBack();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithStartedBundle() throws SchedulerException {
  String firstJob="testName1";
  String secondJob="testName2";
  when(bundle.getBundleId()).thenReturn(2L);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(2L,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  BundleEvent event=new BundleEvent(BundleEvent.STARTED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertTrue(s.checkExists(JobKey.jobKey(secondJob)));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunNow(){
  InternalScheduleOptions scheduleOptions=(InternalScheduleOptions)quartzScheduler.NOW();
  assertNotNull("Trigger cannot be null",scheduleOptions.trigger);
  assertNull("IllegalArgumentException must be null",scheduleOptions.argumentException);
  scheduleOptions=(InternalScheduleOptions)quartzScheduler.NOW(1,1);
  assertEquals("Times argument must be higher than 1 or -1",scheduleOptions.argumentException.getMessage());
  scheduleOptions=(InternalScheduleOptions)quartzScheduler.NOW(-1,0);
  assertEquals("Period argument must be higher than 0",scheduleOptions.argumentException.getMessage());
  scheduleOptions=(InternalScheduleOptions)quartzScheduler.NOW(-1,2);
  assertNull(scheduleOptions.argumentException);
  assertNotNull(scheduleOptions.trigger);
  scheduleOptions=(InternalScheduleOptions)quartzScheduler.NOW(2,2);
  assertNull(scheduleOptions.argumentException);
  assertNotNull(scheduleOptions.trigger);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testUnschedule() throws Exception {
  String jobName="jobToUnschedule";
  quartzScheduler.addJob(6L,6L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(quartzScheduler.unschedule(6L,jobName));
  quartzScheduler.addJob(6L,6L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertFalse(quartzScheduler.unschedule(6L,null));
  assertFalse(quartzScheduler.unschedule(6L,"incorrectName"));
  setInternalSchedulerToNull();
  assertFalse(quartzScheduler.unschedule(6L,jobName));
  returnInternalSchedulerBack();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveJob() throws SchedulerException {
  String jobName="testName";
  quartzScheduler.addJob(1L,1L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey(jobName)));
  quartzScheduler.removeJob(1L,jobName);
  assertFalse(s.checkExists(JobKey.jobKey(jobName)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddJobTwice() throws SchedulerException {
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPeriodic() throws SchedulerException {
  String jobName="anyName";
  String otherJobName="anyOtherName";
  quartzScheduler.addPeriodicJob(4L,4L,jobName,new Thread(),new HashMap(),2L,true,true);
  assertTrue("Job must exists",s.checkExists(JobKey.jobKey(jobName)));
  quartzScheduler.addPeriodicJob(5L,5L,otherJobName,new Thread(),new HashMap(),2L,true,false);
  assertTrue("Job must exists",s.checkExists(JobKey.jobKey(otherJobName)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSchedule(){
  assertTrue(quartzScheduler.schedule(2L,2L,new Thread(),new InternalScheduleOptions(TriggerBuilder.newTrigger())));
  assertFalse(quartzScheduler.schedule(2L,2L,new Thread(),new InternalScheduleOptions(new IllegalArgumentException())));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddJob() throws SchedulerException {
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
  assertFalse(s.checkExists(JobKey.jobKey("wrongName")));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAtDateTime(){
  InternalScheduleOptions options=(InternalScheduleOptions)quartzScheduler.AT(null,2,1);
  assertEquals("Date can't be null",options.argumentException.getMessage());
  options=(InternalScheduleOptions)quartzScheduler.AT(new Date(),1,1);
  assertEquals("Times argument must be higher than 1 or -1",options.argumentException.getMessage());
  options=(InternalScheduleOptions)quartzScheduler.AT(new Date(),2,0);
  assertEquals("Period argument must be higher than 0",options.argumentException.getMessage());
  options=(InternalScheduleOptions)quartzScheduler.AT(new Date(),2,1);
  assertNull("IllegalArgumentException must be null",options.argumentException);
  assertNotNull("Trigger cannot be null",options.trigger);
  options=(InternalScheduleOptions)quartzScheduler.AT(new Date(),-1,1);
  assertNull("IllegalArgumentException must be null",options.argumentException);
  assertNotNull("Trigger cannot be null",options.trigger);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAtTime(){
  InternalScheduleOptions options=(InternalScheduleOptions)quartzScheduler.AT(null);
  assertNotNull(options.argumentException);
  assertEquals("Date can't be null",options.argumentException.getMessage());
  assertNull(options.trigger);
  options=(InternalScheduleOptions)quartzScheduler.AT(new Date());
  assertNotNull(options.trigger);
  assertNull(options.argumentException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.SettingsSupportTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testActivateDeactivate() throws NoSuchFieldException, IllegalAccessException {
  SettingsSupport support=new SettingsSupport();
  support.activate(context);
  Field settingsListenerPrivateField=SettingsSupport.class.getDeclaredField("settingsListener");
  settingsListenerPrivateField.setAccessible(true);
  assertNotNull(settingsListenerPrivateField.get(support));
  support.deactivate();
  assertNull(settingsListenerPrivateField.get(support));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStartAndStop() throws NoSuchFieldException, IllegalAccessException {
  listener.start();
  Field activeField=listener.getClass().getDeclaredField("active");
  activeField.setAccessible(true);
  AtomicBoolean isActive=(AtomicBoolean)activeField.get(listener);
  assertTrue(isActive.get());
  listener.stop();
  assertFalse(isActive.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.WhiteboardHandlerTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testUnregisterService() throws SchedulerException {
  org.quartz.Scheduler s=quartzScheduler.getScheduler();
  Thread service=new Thread();
  String serviceName="serviceName";
  String schedulerName="testScheduler";
  Long period=1L;
  Integer times=2;
  Dictionary<String,Object> serviceProps=new Hashtable<String,Object>();
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_RUN_ON,Scheduler.VALUE_RUN_ON_LEADER);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_EXPRESSION,"0 * * * * ?");
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_CONCURRENT,Boolean.FALSE);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_IMMEDIATE,Boolean.FALSE);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_NAME,schedulerName);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_PERIOD,period);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_TIMES,times);
  serviceProps.put(Constants.SERVICE_PID,"1");
  serviceProps.put(Constants.SERVICE_ID,1L);
  context.registerService(serviceName,service,serviceProps);
  ServiceReference reference=context.getServiceReference(serviceName);
  JobKey jobKey=JobKey.jobKey(schedulerName + "." + reference.getProperty(Constants.SERVICE_ID));
  assertNull(s.getJobDetail(jobKey));
  customizer.addingService(reference);
  assertNotNull(s.getJobDetail(jobKey));
  customizer.removedService(reference,service);
  assertNull(s.getJobDetail(jobKey));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testAddingService() throws SchedulerException {
  org.quartz.Scheduler s=quartzScheduler.getScheduler();
  Thread service=new Thread();
  String serviceName="serviceName";
  String schedulerName="testScheduler";
  Long period=1L;
  Integer times=2;
  Dictionary<String,Object> serviceProps=new Hashtable<String,Object>();
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_RUN_ON,Scheduler.VALUE_RUN_ON_LEADER);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_CONCURRENT,Boolean.FALSE);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_IMMEDIATE,Boolean.FALSE);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_NAME,schedulerName);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_PERIOD,period);
  serviceProps.put(Scheduler.PROPERTY_SCHEDULER_TIMES,times);
  serviceProps.put(Constants.SERVICE_PID,"1");
  serviceProps.put(Constants.SERVICE_ID,1L);
  context.registerService(serviceName,service,serviceProps);
  ServiceReference reference=context.getServiceReference(serviceName);
  JobKey jobKey=JobKey.jobKey(schedulerName + "." + reference.getProperty(Constants.SERVICE_ID));
  assertNull(s.getJobDetail(jobKey));
  customizer.addingService(reference);
  assertNotNull(s.getJobDetail(jobKey));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.jcr.MockPropertyTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleFalse() throws Exception {
  MockProperty prop=new MockProperty("prop");
  prop.setValue(new String[]{"val"});
  assertFalse(prop.isMultiple());
  assertFalse(prop.getDefinition().isMultiple());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleTrue() throws Exception {
  MockProperty prop=new MockProperty("prop");
  prop.setValue(new String[]{"val1","val2"});
  assertTrue(prop.isMultiple());
  assertTrue(prop.getDefinition().isMultiple());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.jcr.RepositoryProviderTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRootNode() throws Exception {
  final Session s=repo.loginAdministrative(null);
  try {
    assertNotNull("Expecting a non-null Session",s);
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.junit.RetryRuleTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultDefaultTimings(){
  final RetryRule r=new RetryRule();
  assertEquals("Expecting default default timeout",RetryRule.DEFAULT_DEFAULT_TIMEOUT_MSEC,r.getTimeout(-1));
  assertEquals("Expecting default default interval",RetryRule.DEFAULT_DEFAULT_INTERVAL_MSEC,r.getInterval(-1));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSpecifiedDefaultTimings(){
  final RetryRule r=new RetryRule(12,42);
  assertEquals("Expecting specified default timeout",12,r.getTimeout(-1));
  assertEquals("Expecting specified default interval",42,r.getInterval(-1));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRuleTimings(){
  final RetryRule r=new RetryRule(12,42);
  assertEquals("Expecting timeout from Rule",1012,r.getTimeout(1012));
  assertEquals("Expecting interval from Rule",1024,r.getInterval(1024));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.sling.MockResourceTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicTest() throws Exception {
  final MockResource r=new MockResource(null,PATH,RT);
  r.addProperty("1",Integer.MAX_VALUE);
  r.addProperty("2","two");
  assertTrue(r instanceof Resource);
  assertEquals(PATH,r.getPath());
  assertEquals(RT,r.getResourceType());
  assertNull(r.getResourceSuperType());
  final ValueMap m=r.adaptTo(ValueMap.class);
  assertEquals(Integer.MAX_VALUE,m.get("1"));
  assertEquals("two",m.get("2"));
  assertNull(m.get("third"));
  r.getProperties().put("third","trois");
  assertNull(m.get("third"));
  assertEquals("trois",r.adaptTo(ValueMap.class).get("third"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.util.JavascriptEngineTest </h4><pre class="type-15 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleScripts() throws IOException {
  final String[] data={"{}","out.print('hello')","hello","{ i:26, j:'a' }","out.print(data.i + data.j)","26a","{ i:'ab', j:'cd' }","out.print(data.i) ; out.print('+') ; out.print(data.j)","ab+cd"};
  for (int i=0; i < data.length; i+=3) {
    final String json=data[i];
    final String code=data[i + 1];
    final String expected=data[i + 2];
    final String actual=engine.execute(code,json);
    assertEquals("At index " + i,expected,actual);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.threads.impl.ExtendedThreadFactoryTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void informativeThreadNames(){
  final ExtendedThreadFactory tf=factory("Test Pool");
  assertEquals("Thread name","sling-test-pool-1",tf.newThread(null).getName());
  assertEquals("Thread name","sling-test-pool-2",tf.newThread(null).getName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.threads.impl.ThreadExpiringThreadPoolTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void shouldLetMultipleThreadsDieAfterExpiry() throws ExecutionException, InterruptedException {
  final TrackingThreadFactory threadFactory=context.getThreadFactory();
  final ThreadExpiringThreadPool pool=context.getPool();
  pool.setCorePoolSize(3);
  pool.setMaximumPoolSize(3);
  assertParallelExecutionsByThread(pool,"test-thread-0","test-thread-1","test-thread-2");
  assertThat(threadFactory.getThreadCount(),is(3));
  letThreadsDie();
  executeParallelTasks(pool,3);
  assertParallelExecutionsByThread(pool,"test-thread-3","test-thread-4","test-thread-5");
  assertThat(threadFactory.getThreadCount(),is(6));
  assertActiveThreads(threadFactory,"test-thread-3","test-thread-4","test-thread-5");
  assertExpiredThreads(threadFactory,"test-thread-0","test-thread-1","test-thread-2");
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void shouldCreateNewThreadAfterExpiryForFailingTasks() throws InterruptedException, ExecutionException {
  final TrackingThreadFactory threadFactory=context.getThreadFactory();
  final ThreadExpiringThreadPool pool=context.getPool();
  assertThat(threadFactory.getThreadCount(),is(0));
  assertFailingSubmitThreadName(pool,"test-thread-0");
  assertFailingSubmitThreadName(pool,"test-thread-0");
  assertFailingSubmitThreadName(pool,"test-thread-0");
  assertThat(threadFactory.getThreadCount(),is(1));
  letThreadsDie();
  assertFailingSubmitThreadName(pool,"test-thread-0");
  assertFailingSubmitThreadName(pool,"test-thread-1");
  assertThat(threadFactory.getThreadCount(),is(2));
  assertActiveThreads(threadFactory,"test-thread-1");
  assertExpiredThreads(threadFactory,"test-thread-0");
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void shouldCreateNewThreadAfterExpiry() throws InterruptedException, ExecutionException {
  final TrackingThreadFactory threadFactory=context.getThreadFactory();
  final ThreadExpiringThreadPool pool=context.getPool();
  assertThat(threadFactory.getThreadCount(),is(0));
  assertExecutionByThread(pool,"test-thread-0");
  assertExecutionByThread(pool,"test-thread-0");
  assertExecutionByThread(pool,"test-thread-0");
  assertThat(threadFactory.getThreadCount(),is(1));
  letThreadsDie();
  assertExecutionByThread(pool,"test-thread-0");
  assertExecutionByThread(pool,"test-thread-1");
  assertThat(threadFactory.getThreadCount(),is(2));
  assertActiveThreads(threadFactory,"test-thread-1");
  assertExpiredThreads(threadFactory,"test-thread-0");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.BasicLauncherIT </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testHttpRoot() throws Exception {
  final HttpUriRequest get=new HttpGet(C.getBaseUrl());
  HttpResponse response=null;
  try {
    response=client.execute(get);
    assertEquals("Expecting page not found at " + get.getURI(),404,response.getStatusLine().getStatusCode());
  }
  finally {
    U.closeConnection(response);
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testConfigFactoryServlet() throws Exception {
  final String[] paths={"/foo","/bar/test"};
  for (  String path : paths) {
    final HttpUriRequest get=new HttpGet(C.getBaseUrl() + path);
    HttpResponse response=null;
    try {
      response=client.execute(get);
      assertEquals("Expecting success for " + get.getURI(),200,response.getStatusLine().getStatusCode());
    }
  finally {
      U.closeConnection(response);
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testJUnitServlet() throws Exception {
  final String path="/system/sling/junit";
  final HttpUriRequest get=new HttpGet(C.getBaseUrl() + path);
  HttpResponse response=null;
  try {
    response=client.execute(get);
    assertEquals("Expecting JUnit servlet to be installed via sling extension command, at " + get.getURI(),200,response.getStatusLine().getStatusCode());
  }
  finally {
    U.closeConnection(response);
  }
}

</code></pre>

<br>
<pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testSpecificStartLevel() throws Exception {
  final String symbolicName="org.apache.commons.collections";
  assertEquals("Expecting bundle " + symbolicName + " to be installed","Installed",osgiConsole.getBundleState(symbolicName));
  final JSONObject status=U.getBundleData(C,client,symbolicName);
  final JSONArray props=status.getJSONArray("data").getJSONObject(0).getJSONArray("props");
  final String KEY="key";
  final String SL="Start Level";
  boolean found=false;
  for (int i=0; i < props.length(); i++) {
    final JSONObject o=props.getJSONObject(i);
    if (o.has(KEY) && SL.equals(o.getString(KEY))) {
      found=true;
      assertEquals("Expecting the start level that's set in provisioning model","99",o.getString("value"));
    }
  }
  assertTrue("Expecting start level to be found in JSON output",found);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testSingleConfigServlet() throws Exception {
  final HttpUriRequest get=new HttpGet(C.getBaseUrl() + "/single");
  HttpResponse response=null;
  try {
    response=client.execute(get);
    assertEquals("Expecting success for " + get.getURI(),200,response.getStatusLine().getStatusCode());
  }
  finally {
    U.closeConnection(response);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.NestedModelsMergerTest </h4><pre class="type-12 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNestedModelOrNot(){
  if (expectNestedModel) {
    assertTrue("Expecting a nested model for " + testArtifact,merger.isNestedModel(testArtifact));
  }
 else {
    assertFalse("Not expecting a nested model for " + testArtifact,merger.isNestedModel(testArtifact));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.datasource.DataSourceIT </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testDataSourceAsService() throws Exception {
  Configuration config=ca.createFactoryConfiguration(PID,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put("url","jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE");
  p.put("datasource.name","test");
  p.put("initialSize","5");
  p.put("defaultAutoCommit","default");
  p.put("defaultReadOnly","false");
  p.put("datasource.svc.properties",new String[]{"initSQL=SELECT 1"});
  p.put("maxActive",70);
  config.update(p);
  Filter filter=context.createFilter("(&(objectclass=javax.sql.DataSource)(datasource.name=test))");
  ServiceTracker<DataSource,DataSource> st=new ServiceTracker<DataSource,DataSource>(context,filter,null);
  st.open();
  DataSource ds=st.waitForService(10000);
  assertNotNull(ds);
  Connection conn=ds.getConnection();
  assertNotNull(conn);
  assertEquals("70",getProperty(ds,"poolProperties.maxActive"));
  assertEquals("5",getProperty(ds,"poolProperties.initialSize"));
  assertEquals("SELECT 1",getProperty(ds,"poolProperties.initSQL"));
  assertEquals("false",getProperty(ds,"poolProperties.defaultReadOnly"));
  assertNull(getProperty(ds,"poolProperties.defaultAutoCommit"));
  config=ca.listConfigurations("(datasource.name=test)")[0];
  Dictionary dic=config.getProperties();
  dic.put("defaultReadOnly",Boolean.TRUE);
  config.update(dic);
  TimeUnit.MILLISECONDS.sleep(100);
  assertEquals("true",getProperty(ds,"poolProperties.defaultReadOnly"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.commons.DefaultTopologyViewTest </h4><pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetInstances() throws Exception {
  DefaultTopologyView newView=TopologyHelper.createTopologyView(UUID.randomUUID().toString(),UUID.randomUUID().toString());
  Set<InstanceDescription> instances=newView.getInstances();
  assertNotNull(instances);
  try {
    instances.remove(instances.iterator().next());
    fail("list should not be modifiable");
  }
 catch (  Exception e) {
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComparelocalClusterSyncTokenId() throws Exception {
  String clusterViewId=UUID.randomUUID().toString();
  String slingId=UUID.randomUUID().toString();
  String syncTokenId=UUID.randomUUID().toString();
  DefaultTopologyView t1=createSingleInstanceTopology(slingId,clusterViewId,syncTokenId);
  DefaultTopologyView t2=createSingleInstanceTopology(slingId,clusterViewId,syncTokenId);
  assertNull(t1.compareTopology(t2));
  assertNull(t2.compareTopology(t1));
  DefaultTopologyView t3=createSingleInstanceTopology(slingId,clusterViewId,UUID.randomUUID().toString());
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t1.compareTopology(t3));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t3.compareTopology(t1));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t2.compareTopology(t3));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t3.compareTopology(t2));
  DefaultTopologyView t4=createSingleInstanceTopology(slingId,clusterViewId,null);
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t1.compareTopology(t4));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t4.compareTopology(t1));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t2.compareTopology(t4));
  assertEquals(TopologyEvent.Type.TOPOLOGY_CHANGED,t4.compareTopology(t2));
  DefaultTopologyView t5=createSingleInstanceTopology(slingId,clusterViewId,null);
  assertNull(t5.compareTopology(t4));
  assertNull(t4.compareTopology(t5));
}

</code></pre>

<br>
<pre class="type-11 type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFind() throws Exception {
  DefaultTopologyView newView=TopologyHelper.createTopologyView(UUID.randomUUID().toString(),UUID.randomUUID().toString());
  TopologyHelper.createAndAddInstanceDescription(newView,newView.getClusterViews().iterator().next());
  try {
    newView.findInstances(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  final DefaultInstanceDescription id=TopologyHelper.createAndAddInstanceDescription(newView,newView.getClusterViews().iterator().next());
  TopologyHelper.createAndAddInstanceDescription(newView,newView.getClusterViews().iterator().next());
  assertEquals(4,newView.findInstances(new InstanceFilter(){
    public boolean accept(    InstanceDescription instance){
      return true;
    }
  }
).size());
  assertEquals(1,newView.findInstances(new InstanceFilter(){
    public boolean accept(    InstanceDescription instance){
      return instance.getSlingId().equals(id.getSlingId());
    }
  }
).size());
  assertEquals(1,newView.findInstances(new InstanceFilter(){
    public boolean accept(    InstanceDescription instance){
      return instance.isLeader();
    }
  }
).size());
  assertEquals(1,newView.findInstances(new InstanceFilter(){
    boolean first=true;
    public boolean accept(    InstanceDescription instance){
      if (!first) {
        return false;
      }
      first=false;
      return true;
    }
  }
).size());
}

</code></pre>

<br>
<pre class="type-11 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCompare() throws Exception {
  DefaultTopologyView newView=TopologyHelper.createTopologyView(UUID.randomUUID().toString(),UUID.randomUUID().toString());
  try {
    newView.compareTopology(null);
    fail("Should complain about null");
  }
 catch (  Exception e) {
  }
  DefaultTopologyView oldView=TopologyHelper.cloneTopologyView(newView);
  assertNull(newView.compareTopology(oldView));
  DefaultInstanceDescription id=TopologyHelper.createInstanceDescription(newView.getClusterViews().iterator().next());
  TopologyHelper.addInstanceDescription(newView,id);
  assertEquals(Type.TOPOLOGY_CHANGED,newView.compareTopology(oldView));
  assertEquals(2,newView.getInstances().size());
  TopologyHelper.addInstanceDescription(newView,id);
  assertEquals(2,newView.getInstances().size());
  oldView=TopologyHelper.cloneTopologyView(newView);
  assertNull(newView.compareTopology(oldView));
  DefaultInstanceDescription instance=(DefaultInstanceDescription)newView.getInstances().iterator().next();
  instance.setProperty("a","b");
  assertEquals(Type.PROPERTIES_CHANGED,newView.compareTopology(oldView));
  oldView=TopologyHelper.cloneTopologyView(newView);
  assertNull(newView.compareTopology(oldView));
  instance.setProperty("a","B");
  assertEquals(Type.PROPERTIES_CHANGED,newView.compareTopology(oldView));
  oldView=TopologyHelper.cloneTopologyView(newView);
  assertNull(newView.compareTopology(oldView));
  instance.setProperty("a","B");
  assertNull(newView.compareTopology(oldView));
  Iterator<InstanceDescription> it=newView.getInstances().iterator();
  DefaultInstanceDescription firstInstance=(DefaultInstanceDescription)it.next();
  assertNotNull(firstInstance);
  DefaultInstanceDescription secondInstance=(DefaultInstanceDescription)it.next();
  assertNotNull(secondInstance);
  firstInstance.setProperty("c","d");
  DefaultClusterView cluster=new DefaultClusterView(UUID.randomUUID().toString());
  PrivateAccessor.setField(secondInstance,"clusterView",null);
  cluster.addInstanceDescription(secondInstance);
  assertEquals(Type.TOPOLOGY_CHANGED,newView.compareTopology(oldView));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForcedLeaderChangeCompare() throws Exception {
  final String slingId1=UUID.randomUUID().toString();
  final DefaultTopologyView view1=TopologyHelper.createTopologyView(UUID.randomUUID().toString(),slingId1);
  final DefaultInstanceDescription id2=TopologyHelper.addInstanceDescription(view1,TopologyHelper.createInstanceDescription(view1.getClusterViews().iterator().next()));
  final String slingId2=id2.getSlingId();
  final DefaultInstanceDescription id3=TopologyHelper.addInstanceDescription(view1,TopologyHelper.createInstanceDescription(view1.getClusterViews().iterator().next()));
  final String slingId3=id3.getSlingId();
  DefaultTopologyView view2=TopologyHelper.cloneTopologyView(view1,slingId2);
  assertNotEquals(view1.getClusterViews().iterator().next().getLeader().getSlingId(),view2.getClusterViews().iterator().next().getLeader().getSlingId());
  assertTrue(view1.compareTopology(view2) == Type.TOPOLOGY_CHANGED);
  DefaultTopologyView view3=TopologyHelper.cloneTopologyView(view1,slingId3);
  assertNotEquals(view1.getClusterViews().iterator().next().getLeader().getSlingId(),view3.getClusterViews().iterator().next().getLeader().getSlingId());
  assertTrue(view1.compareTopology(view3) == Type.TOPOLOGY_CHANGED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.LargeTopologyWithHubTest </h4><pre class="type-15 type-11 type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Throwable {
  instances=new LinkedList<VirtualInstance>();
  final int defaultHeartbeatTimeout=3600;
  final int heartbeatTimeout=TimeoutsProvider.getInstance().getTimeout(defaultHeartbeatTimeout);
  VirtualInstanceBuilder hubBuilder=newBuilder().newRepository("/var/discovery/impl/",true).setDebugName("hub").setConnectorPingInterval(5).setConnectorPingTimeout(heartbeatTimeout);
  hub=hubBuilder.build();
  instances.add(hub);
  hub.getConfig().setViewCheckTimeout(heartbeatTimeout);
  hub.heartbeatsAndCheckView();
  hub.heartbeatsAndCheckView();
  assertNotNull(hub.getClusterViewService().getLocalClusterView());
  hub.startViewChecker(1);
  hub.dumpRepo();
  slingIds=new LinkedList<String>();
  slingIds.add(hub.getSlingId());
  logger.info("setUp: using heartbeatTimeout of " + heartbeatTimeout + "sec "+ "(default: "+ defaultHeartbeatTimeout+ ")");
  for (int i=0; i < TEST_SIZE; i++) {
    logger.info("setUp: creating instance" + i);
    VirtualInstanceBuilder builder2=newBuilder().newRepository("/var/discovery/impl/",false).setDebugName("instance" + i).setConnectorPingInterval(5).setConnectorPingTimeout(heartbeatTimeout);
    VirtualInstance instance=builder2.build();
    instances.add(instance);
    instance.getConfig().setViewCheckTimeout(heartbeatTimeout);
    instance.heartbeatsAndCheckView();
    instance.heartbeatsAndCheckView();
    ClusterView clusterView=instance.getClusterViewService().getLocalClusterView();
    assertNotNull(clusterView);
    new VirtualConnector(instance,hub);
    slingIds.add(instance.getSlingId());
  }
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test @Retry(timeoutMsec=30000,intervalMsec=500) public void testLargeTopologyWithHub() throws Exception {
  hub.dumpRepo();
  final TopologyView tv=hub.getDiscoveryService().getTopology();
  assertNotNull(tv);
  logger.info("testLargeTopologyWithHub: checking if all connectors are registered, TopologyView has {} Instances",tv.getInstances().size());
  TopologyHelper.assertTopologyConsistsOf(tv,slingIds.toArray(new String[slingIds.size()]));
  logger.info("testLargeTopologyWithHub: test passed");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.announcement.AnnouncementRegistryImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCluster() throws Exception {
  ClusterView cluster1=createCluster(2);
  ClusterView cluster2=createCluster(4);
  ClusterView cluster3=createCluster(7);
  Announcement ann1=createAnnouncement(cluster1,1,true);
  Announcement ann2=createAnnouncement(cluster2,2,true);
  Announcement ann3=createAnnouncement(cluster3,3,false);
  final String instance1=UUID.randomUUID().toString();
  final String instance2=UUID.randomUUID().toString();
  final String instance3=UUID.randomUUID().toString();
  ClusterView myCluster=createCluster(instance1,instance2,instance3);
  AnnouncementRegistryImpl registry1=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance1),config);
  AnnouncementRegistryImpl registry2=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance2),config);
  AnnouncementRegistryImpl registry3=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance3),config);
  assertTrue(registry1.registerAnnouncement(ann1) != -1);
  assertTrue(registry2.registerAnnouncement(ann2) != -1);
  assertTrue(registry3.registerAnnouncement(ann3) != -1);
  assertTrue(registry1.hasActiveAnnouncement(cluster1.getInstances().get(1).getSlingId()));
  assertTrue(registry2.hasActiveAnnouncement(cluster2.getInstances().get(2).getSlingId()));
  assertTrue(registry3.hasActiveAnnouncement(cluster3.getInstances().get(3).getSlingId()));
  assertEquals(3,registry1.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry1.listLocalAnnouncements().size());
  assertEquals(0,registry1.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry1,myCluster,4,16);
  assertEquals(3,registry2.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry2.listLocalAnnouncements().size());
  assertEquals(0,registry2.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry2,myCluster,4,16);
  assertEquals(3,registry3.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry3.listLocalAnnouncements().size());
  assertEquals(1,registry3.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry3,myCluster,4,16);
  myCluster=createCluster(instance1,instance2);
  VirtualInstanceHelper.dumpRepo(resourceResolverFactory);
  assertEquals(2,registry1.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry1.listLocalAnnouncements().size());
  assertEquals(0,registry1.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry1,myCluster,3,8);
  assertEquals(2,registry2.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry2.listLocalAnnouncements().size());
  assertEquals(0,registry2.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry2,myCluster,3,8);
  Thread.sleep(10500);
  assertAnnouncements(registry1,myCluster,3,8);
  assertAnnouncements(registry2,myCluster,3,8);
  registry1.checkExpiredAnnouncements();
  registry2.checkExpiredAnnouncements();
  assertAnnouncements(registry1,myCluster,1,2);
  assertAnnouncements(registry2,myCluster,1,2);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExpiry() throws InterruptedException, NoSuchFieldException {
  ClusterView cluster1=createCluster(4);
  ClusterView cluster2=createCluster(3);
  ClusterView cluster3=createCluster(5);
  ClusterView myCluster=createCluster(slingId);
  Announcement ann1=createAnnouncement(cluster1,0,true);
  Announcement ann2=createAnnouncement(cluster2,1,true);
  Announcement ann3=createAnnouncement(cluster3,1,false);
  assertTrue(registry.registerAnnouncement(ann1) != -1);
  assertTrue(registry.registerAnnouncement(ann2) != -1);
  assertTrue(registry.registerAnnouncement(ann3) != -1);
  assertTrue(registry.hasActiveAnnouncement(cluster1.getInstances().get(0).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster2.getInstances().get(1).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster3.getInstances().get(1).getSlingId()));
  assertEquals(3,registry.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(3,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  Thread.sleep(10500);
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  assertTrue(registry.registerAnnouncement(ann3) != -1);
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  registry.checkExpiredAnnouncements();
  assertEquals(1,registry.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(cluster1.getInstances().get(0).getSlingId()));
  assertFalse(registry.hasActiveAnnouncement(cluster2.getInstances().get(1).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster3.getInstances().get(1).getSlingId()));
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(6,testAnn.listInstances().size());
  }
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLists() throws Exception {
  try {
    registry.listAnnouncementsInSameCluster(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.listAnnouncementsInSameCluster(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  DefaultClusterView localCluster=new DefaultClusterView(UUID.randomUUID().toString());
  DefaultInstanceDescription instance=TopologyHelper.createInstanceDescription(slingId,true,localCluster);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  Announcement ann=new Announcement(slingId);
  ann.setLocalCluster(localCluster);
  ann.setInherited(true);
  registry.registerAnnouncement(ann);
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  ann.setInherited(true);
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertTrue(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  registry.unregisterAnnouncement(slingId);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  ann.setInherited(false);
  registry.registerAnnouncement(ann);
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
  assertTrue(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  registry.unregisterAnnouncement(slingId);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  assertEquals(1,ann.listInstances().size());
  registry.addAllExcept(ann,localCluster,new AnnouncementFilter(){
    public boolean accept(    String receivingSlingId,    Announcement announcement){
      assertNotNull(receivingSlingId);
      assertNotNull(announcement);
      return true;
    }
  }
);
  assertEquals(1,ann.listInstances().size());
  registry.registerAnnouncement(createAnnouncement(createCluster(3),1,false));
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(3,registry.listInstances(localCluster).size());
  registry.addAllExcept(ann,localCluster,new AnnouncementFilter(){
    public boolean accept(    String receivingSlingId,    Announcement announcement){
      assertNotNull(receivingSlingId);
      assertNotNull(announcement);
      return true;
    }
  }
);
  assertEquals(4,ann.listInstances().size());
  registry.registerAnnouncement(ann);
  assertEquals(2,registry.listAnnouncementsInSameCluster(localCluster).size());
}

</code></pre>

<br>
<pre class="type-11 type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterUnregister() throws Exception {
  try {
    registry.registerAnnouncement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.unregisterAnnouncement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.unregisterAnnouncement("");
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    new Announcement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    new Announcement("");
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  Announcement ann=new Announcement(slingId);
  assertFalse(ann.isValid());
  assertFalse(registry.registerAnnouncement(ann) != -1);
  DefaultClusterView localCluster=new DefaultClusterView(UUID.randomUUID().toString());
  ann.setLocalCluster(localCluster);
  assertFalse(ann.isValid());
  assertFalse(registry.registerAnnouncement(ann) != -1);
  try {
    registry.listInstances(localCluster);
    fail("doing getInstances() on an empty cluster should throw an illegalstateexception");
  }
 catch (  IllegalStateException ise) {
  }
  DefaultInstanceDescription instance=TopologyHelper.createInstanceDescription(ann.getOwnerId(),true,localCluster);
  assertEquals(instance.getSlingId(),ann.getOwnerId());
  assertTrue(ann.isValid());
  assertTrue(registry.registerAnnouncement(ann) != -1);
  assertEquals(1,registry.listInstances(localCluster).size());
  registry.checkExpiredAnnouncements();
  assertEquals(1,registry.listInstances(localCluster).size());
  registry.unregisterAnnouncement(ann.getOwnerId());
  assertEquals(0,registry.listInstances(localCluster).size());
  assertTrue(ann.isValid());
  assertTrue(registry.registerAnnouncement(ann) != -1);
  assertEquals(1,registry.listInstances(localCluster).size());
  Thread.sleep(10500);
  assertEquals(0,registry.listInstances(localCluster).size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyConnectorServletTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPlaintextWhitelist_disabled() throws Exception {
  servlet.initWhitelist(new String[]{});
  assertFalse(servlet.isWhitelisted(getRequest("foo","x")));
  assertFalse(servlet.isWhitelisted(getRequest("bar","x")));
  assertFalse(servlet.isWhitelisted(getRequest("y","foo")));
  assertFalse(servlet.isWhitelisted(getRequest("y","bar")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWildcardWhitelist() throws Exception {
  servlet.initWhitelist(new String[]{"foo*","b?r","test"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("fooo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("foooo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("x","foo")));
  assertTrue(servlet.isWhitelisted(getRequest("x","fooo")));
  assertTrue(servlet.isWhitelisted(getRequest("x","foooo")));
  assertTrue(servlet.isWhitelisted(getRequest("bur","x")));
  assertTrue(servlet.isWhitelisted(getRequest("x","bur")));
  assertTrue(servlet.isWhitelisted(getRequest("x","test")));
  assertFalse(servlet.isWhitelisted(getRequest("fo","x")));
  assertFalse(servlet.isWhitelisted(getRequest("x","testy")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSubnetMaskWhitelist() throws Exception {
  servlet.initWhitelist(new String[]{"1.2.3.4/24","2.3.4.1/30","3.4.5.6/31"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.4")));
  assertFalse(servlet.isWhitelisted(getRequest("1.2.3.4","1.2.4.3")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.1")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.254")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","1.2.4.5")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","2.3.4.1")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","2.3.4.2")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","2.3.4.3")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","2.3.4.4")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.1")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.2")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.3")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.4")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.5")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.6")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.7")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPlaintextWhitelist_enabled() throws Exception {
  servlet.initWhitelist(new String[]{"foo","bar"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("bar","x")));
  assertTrue(servlet.isWhitelisted(getRequest("y","foo")));
  assertTrue(servlet.isWhitelisted(getRequest("y","bar")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyRequestValidatorTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrustRequest() throws IOException {
  final HttpPut method=new HttpPut("/TestUri");
  String clearMessage="TestMessage";
  final String message=topologyRequestValidator.encodeMessage(clearMessage);
  Assert.assertNotNull(message);
  Assert.assertNotEquals(message,clearMessage);
  topologyRequestValidator.trustMessage(method,message);
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER));
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue());
  Assert.assertTrue(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue().length() > 0);
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER));
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue());
  Assert.assertTrue(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue().length() > 0);
  final HttpServletRequest request=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with(TopologyRequestValidator.HASH_HEADER));
      will(returnValue(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue()));
      allowing(request).getHeader(with(TopologyRequestValidator.SIG_HEADER));
      will(returnValue(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue()));
      allowing(request).getHeader(with("Content-Encoding"));
      will(returnValue(""));
      allowing(request).getRequestURI();
      will(returnValue(method.getURI().getPath()));
      allowing(request).getReader();
      will(returnValue(new BufferedReader(new StringReader(message))));
    }
  }
);
  Assert.assertTrue(topologyRequestValidator.isTrusted(request));
  Assert.assertEquals(clearMessage,topologyRequestValidator.decodeMessage(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractClusterLoadTest </h4><pre class="type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFramework() throws Exception {
  logger.info("testFramework: building 1st instance..");
  VirtualInstanceBuilder builder=newBuilder().newRepository("/var/discovery/impl/ClusterLoadTest/testFramework/",true).setDebugName("firstInstance").setConnectorPingTimeout(3).setConnectorPingInterval(20).setMinEventDelay(0);
  VirtualInstance firstInstance=builder.build();
  instances.add(firstInstance);
  Thread.sleep(2000);
  try {
    firstInstance.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  firstInstance.startViewChecker(1);
  Thread.sleep(4000);
  firstInstance.dumpRepo();
  firstInstance.assertEstablishedView();
  VirtualInstanceBuilder builder2=newBuilder().useRepositoryOf(builder).setDebugName("secondInstance").setConnectorPingTimeout(3).setConnectorPingInterval(20).setMinEventDelay(0);
  firstInstance.dumpRepo();
  logger.info("testFramework: building 2nd instance..");
  VirtualInstance secondInstance=builder2.build();
  instances.add(secondInstance);
  secondInstance.startViewChecker(1);
  Thread.sleep(4000);
  firstInstance.dumpRepo();
  assertEquals(firstInstance.getClusterViewService().getLocalClusterView().getInstances().size(),2);
  assertEquals(secondInstance.getClusterViewService().getLocalClusterView().getInstances().size(),2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractClusterTest </h4><pre class="type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdditionalInstance() throws Throwable {
  logger.info("testAdditionalInstance: start");
  assertNotNull(instance1);
  assertNotNull(instance2);
  assertEquals(instance1.getSlingId(),instance1.getClusterViewService().getSlingId());
  assertEquals(instance2.getSlingId(),instance2.getClusterViewService().getSlingId());
  try {
    instance1.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  try {
    instance2.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance1.dumpRepo();
  logger.info("testAdditionalInstance: 1st 2s sleep");
  Thread.sleep(2000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  logger.info("testAdditionalInstance: 2nd 2s sleep");
  Thread.sleep(2000);
  instance1.dumpRepo();
  String clusterId1=instance1.getClusterViewService().getLocalClusterView().getId();
  logger.info("clusterId1=" + clusterId1);
  String clusterId2=instance2.getClusterViewService().getLocalClusterView().getId();
  logger.info("clusterId2=" + clusterId2);
  assertEquals(clusterId1,clusterId2);
  assertEquals(2,instance1.getClusterViewService().getLocalClusterView().getInstances().size());
  assertEquals(2,instance2.getClusterViewService().getLocalClusterView().getInstances().size());
  AssertingTopologyEventListener assertingTopologyEventListener=new AssertingTopologyEventListener();
  assertingTopologyEventListener.addExpected(Type.TOPOLOGY_INIT);
  assertEquals(1,assertingTopologyEventListener.getRemainingExpectedCount());
  instance1.bindTopologyEventListener(assertingTopologyEventListener);
  Thread.sleep(500);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  AcceptsMultiple acceptsMultiple=new AcceptsMultiple(Type.TOPOLOGY_CHANGING,Type.TOPOLOGY_CHANGED);
  assertingTopologyEventListener.addExpected(acceptsMultiple);
  assertingTopologyEventListener.addExpected(acceptsMultiple);
  instance3=newBuilder().setDebugName("thirdInstance").useRepositoryOf(instance1).build();
  for (int i=0; i < 4; i++) {
    instance1.heartbeatsAndCheckView();
    instance2.heartbeatsAndCheckView();
    instance3.heartbeatsAndCheckView();
    logger.info("testAdditionalInstance: i=" + i + ", 2s sleep");
    Thread.sleep(2000);
  }
  assertEquals(1,acceptsMultiple.getEventCnt(Type.TOPOLOGY_CHANGING));
  assertEquals(1,acceptsMultiple.getEventCnt(Type.TOPOLOGY_CHANGED));
  logger.info("testAdditionalInstance: end");
}

</code></pre>

<br>
<pre class="type-15 type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectorSwitching4139() throws Throwable {
  final int MIN_EVENT_DELAY=1;
  tearDown();
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
  instance1=newBuilder().setDebugName("instance1").newRepository("/var/discovery/clusterA/",true).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance2=newBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance3=newBuilder().setDebugName("instance3").newRepository("/var/discovery/clusterB/",false).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance4=newBuilder().setDebugName("instance4").useRepositoryOf(instance3).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance5=newBuilder().setDebugName("instance5").newRepository("/var/discovery/clusterC/",false).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  assertSameTopology(new SimpleClusterView(instance1,instance2));
  assertSameTopology(new SimpleClusterView(instance3,instance4));
  assertSameTopology(new SimpleClusterView(instance5));
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  Thread.sleep(500);
  logger.info("testConnectorSwitching4139: instance1.slingId=" + instance1.slingId);
  logger.info("testConnectorSwitching4139: instance2.slingId=" + instance2.slingId);
  logger.info("testConnectorSwitching4139: instance3.slingId=" + instance3.slingId);
  logger.info("testConnectorSwitching4139: instance4.slingId=" + instance4.slingId);
  logger.info("testConnectorSwitching4139: instance5.slingId=" + instance5.slingId);
  instance1.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance1,instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  boolean success=false;
  for (int i=0; i < 25; i++) {
    runHeartbeatOnceWith(instance2,instance3,instance4,instance5);
    final boolean ping1=pingConnector(instance3,instance2);
    final boolean ping2=pingConnector(instance5,instance2);
    if (ping1 && ping2) {
      success=true;
      logger.info("testConnectorSwitching4139: successfully switched all pings to instance2 after " + i + " rounds.");
      if (i < 20) {
        logger.info("testConnectorSwitching4139: min loop cnt not yet reached: i=" + i);
        Thread.sleep(1000);
        continue;
      }
      break;
    }
    logger.info("testConnectorSwitching4139: looping cos ping1=" + ping1 + ", ping2="+ ping2);
    Thread.sleep(1000);
  }
  assertTrue(success);
  runHeartbeatOnceWith(instance2,instance3,instance4,instance5);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  instance2.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  instance4.stopViewChecker();
  instance1Restarted=newBuilder().setDebugName("instance1").useRepositoryOf(instance2).setConnectorPingTimeout(Integer.MAX_VALUE).setMinEventDelay(1).setSlingId(instance1.getSlingId()).build();
  runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance5);
  Thread.sleep(2000);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  success=false;
  for (int i=0; i < 40; i++) {
    runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance5);
    instance1.getViewChecker().checkView();
    try {
      pingConnector(instance3,instance2);
    }
 catch (    UndefinedClusterViewException ucve) {
    }
    pingConnector(instance5,instance2);
    final TopologyView topology=instance3.getDiscoveryService().getTopology();
    InstanceDescription i3=null;
    for (Iterator<InstanceDescription> it=topology.getInstances().iterator(); it.hasNext(); ) {
      final InstanceDescription id=it.next();
      if (id.getSlingId().equals(instance3.slingId)) {
        i3=id;
        break;
      }
    }
    assertNotNull(i3);
    assertEquals(instance3.slingId,i3.getSlingId());
    final ClusterView i3Cluster=i3.getClusterView();
    final int i3ClusterSize=i3Cluster.getInstances().size();
    if (i3ClusterSize == 1) {
      if (i < 30) {
        logger.info("testConnectorSwitching4139: [2] min loop cnt not yet reached: i=" + i);
        Thread.sleep(500);
        continue;
      }
      success=true;
      logger.info("testConnectorSwitching4139: i3ClusterSize: " + i3ClusterSize + ", i="+ i+ " (success)");
      break;
    }
    logger.info("testConnectorSwitching4139: i3ClusterSize: " + i3ClusterSize + ", i="+ i);
    Thread.sleep(500);
  }
  logger.info("testConnectorSwitching4139: instance1Restarted.slingId=" + instance1Restarted.slingId);
  logger.info("testConnectorSwitching4139: instance2.slingId=" + instance2.slingId);
  logger.info("testConnectorSwitching4139: instance3.slingId=" + instance3.slingId);
  logger.info("testConnectorSwitching4139: instance4.slingId=" + instance4.slingId);
  logger.info("testConnectorSwitching4139: instance5.slingId=" + instance5.slingId);
  instance1Restarted.dumpRepo();
  assertTrue(success);
  assertSameTopology(new SimpleClusterView(instance1Restarted,instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1Restarted.stop();
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPropertyProviders() throws Throwable {
  logger.info("testPropertyProviders: start");
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  assertNull(instance3);
  instance3=newBuilder().setDebugName("thirdInstance").useRepositoryOf(instance1).build();
  instance3.heartbeatsAndCheckView();
  logger.info("testPropertyProviders: 1st 2s sleep");
  Thread.sleep(2000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance3.heartbeatsAndCheckView();
  logger.info("testPropertyProviders: 2nd 2s sleep");
  Thread.sleep(2000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance3.heartbeatsAndCheckView();
  logger.info("testPropertyProviders: 3rd 2s sleep");
  Thread.sleep(2000);
  property1Value=UUID.randomUUID().toString();
  property1Name=UUID.randomUUID().toString();
  PropertyProviderImpl pp1=new PropertyProviderImpl();
  pp1.setProperty(property1Name,property1Value);
  instance1.bindPropertyProvider(pp1,property1Name);
  property2Value=UUID.randomUUID().toString();
  property2Name=UUID.randomUUID().toString();
  PropertyProviderImpl pp2=new PropertyProviderImpl();
  pp2.setProperty(property2Name,property2Value);
  instance2.bindPropertyProvider(pp2,property2Name);
  assertPropertyValues();
  property1Value=UUID.randomUUID().toString();
  pp1.setProperty(property1Name,property1Value);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  assertPropertyValues();
  assertNull(instance1.getClusterViewService().getLocalClusterView().getInstances().get(0).getProperty(UUID.randomUUID().toString()));
  assertNull(instance2.getClusterViewService().getLocalClusterView().getInstances().get(0).getProperty(UUID.randomUUID().toString()));
  logger.info("testPropertyProviders: end");
}

</code></pre>

<br>
<pre class="type-15 type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDuplicateInstance3726() throws Throwable {
  logger.info("testDuplicateInstance3726: start");
  final int MIN_EVENT_DELAY=1;
  tearDown();
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
  instance1=newBuilder().setDebugName("instance1").newRepository("/var/discovery/clusterA/",true).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance2=newBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance3=newBuilder().setDebugName("instance3").newRepository("/var/discovery/clusterB/",false).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance5=newBuilder().setDebugName("instance5").newRepository("/var/discovery/clusterC/",false).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  assertSameTopology(new SimpleClusterView(instance1,instance2));
  assertSameTopology(new SimpleClusterView(instance3));
  assertSameTopology(new SimpleClusterView(instance5));
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  logger.info("testDuplicateInstance3726: instance1.slingId=" + instance1.slingId);
  logger.info("testDuplicateInstance3726: instance2.slingId=" + instance2.slingId);
  logger.info("testDuplicateInstance3726: instance3.slingId=" + instance3.slingId);
  logger.info("testDuplicateInstance3726: instance5.slingId=" + instance5.slingId);
  instance1.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance1,instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1.stopViewChecker();
  boolean success=false;
  for (int i=0; i < 25; i++) {
    runHeartbeatOnceWith(instance2,instance3,instance5);
    final boolean ping1=pingConnector(instance3,instance2);
    final boolean ping2=pingConnector(instance5,instance2);
    if (ping1 && ping2) {
      success=true;
      logger.info("testDuplicateInstance3726: successfully switched all pings to instance2 after " + i + " rounds.");
      if (i < 20) {
        logger.info("testDuplicateInstance3726: min loop cnt not yet reached: i=" + i);
        Thread.sleep(1000);
        continue;
      }
      break;
    }
    logger.info("testDuplicateInstance3726: looping");
    Thread.sleep(1000);
  }
  assertTrue(success);
  runHeartbeatOnceWith(instance2,instance3,instance5);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  instance2.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1Restarted=newBuilder().setDebugName("instance1").useRepositoryOf(instance2).setConnectorPingTimeout(Integer.MAX_VALUE).setMinEventDelay(1).setSlingId(instance1.getSlingId()).build();
  instance4=newBuilder().setDebugName("instance4").useRepositoryOf(instance3).setConnectorPingTimeout(30).setMinEventDelay(MIN_EVENT_DELAY).build();
  for (int i=0; i < 3; i++) {
    runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance4,instance5);
    Thread.sleep(250);
    try {
      pingConnector(instance3,instance2);
    }
 catch (    UndefinedClusterViewException ucve) {
    }
    assertTrue(pingConnector(instance5,instance2));
  }
  instance1Restarted.dumpRepo();
  logger.info("testDuplicateInstance3726: instance1Restarted.slingId=" + instance1Restarted.slingId);
  logger.info("testDuplicateInstance3726: instance2.slingId=" + instance2.slingId);
  logger.info("testDuplicateInstance3726: instance3.slingId=" + instance3.slingId);
  logger.info("testDuplicateInstance3726: instance4.slingId=" + instance4.slingId);
  logger.info("testDuplicateInstance3726: instance5.slingId=" + instance5.slingId);
  assertTrue(success);
  assertSameTopology(new SimpleClusterView(instance1Restarted,instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  instance1Restarted.stop();
  logger.info("testDuplicateInstance3726: end");
}

</code></pre>

<br>
<pre class="type-11 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterView() throws Exception {
  logger.info("testClusterView: start");
  assertNotNull(instance1);
  assertNotNull(instance2);
  assertNull(instance3);
  instance3=newBuilder().setDebugName("thirdInstance").useRepositoryOf(instance1).build();
  assertNotNull(instance3);
  assertEquals(instance1.getSlingId(),instance1.getClusterViewService().getSlingId());
  assertEquals(instance2.getSlingId(),instance2.getClusterViewService().getSlingId());
  assertEquals(instance3.getSlingId(),instance3.getClusterViewService().getSlingId());
  try {
    instance1.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  try {
    instance2.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  try {
    instance3.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance1.dumpRepo();
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance3.heartbeatsAndCheckView();
  instance1.dumpRepo();
  logger.info("testClusterView: 1st 2s sleep");
  Thread.sleep(2000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance3.heartbeatsAndCheckView();
  logger.info("testClusterView: 2nd 2s sleep");
  Thread.sleep(2000);
  instance1.dumpRepo();
  String clusterId1=instance1.getClusterViewService().getLocalClusterView().getId();
  logger.info("clusterId1=" + clusterId1);
  String clusterId2=instance2.getClusterViewService().getLocalClusterView().getId();
  logger.info("clusterId2=" + clusterId2);
  String clusterId3=instance3.getClusterViewService().getLocalClusterView().getId();
  logger.info("clusterId3=" + clusterId3);
  assertEquals(clusterId1,clusterId2);
  assertEquals(clusterId1,clusterId3);
  assertEquals(3,instance1.getClusterViewService().getLocalClusterView().getInstances().size());
  assertEquals(3,instance2.getClusterViewService().getLocalClusterView().getInstances().size());
  assertEquals(3,instance3.getClusterViewService().getLocalClusterView().getInstances().size());
  logger.info("testClusterView: end");
}

</code></pre>

<br>
<pre class="type-11 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStableClusterId() throws Throwable {
  logger.info("testStableClusterId: start");
  instance2.stopViewChecker();
  instance1.stopViewChecker();
  instance2.stop();
  instance1.stop();
  instance1=newBuilder().setDebugName("firstInstance").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(100).setMinEventDelay(1).build();
  instance2=newBuilder().setDebugName("secondInstance").useRepositoryOf(instance1).setConnectorPingTimeout(100).setMinEventDelay(1).build();
  assertNotNull(instance1);
  assertNotNull(instance2);
  try {
    instance1.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  try {
    instance2.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  String newClusterId1=instance1.getClusterViewService().getLocalClusterView().getId();
  String newClusterId2=instance2.getClusterViewService().getLocalClusterView().getId();
  assertEquals(newClusterId1,newClusterId1);
  instance1.dumpRepo();
  assertEquals(2,instance1.getClusterViewService().getLocalClusterView().getInstances().size());
  assertEquals(2,instance2.getClusterViewService().getLocalClusterView().getInstances().size());
  instance2.getConfig().setViewCheckTimeout(1);
  instance1.getConfig().setViewCheckTimeout(1);
  instance2.stopViewChecker();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  assertEquals(1,instance1.getClusterViewService().getLocalClusterView().getInstances().size());
  try {
    instance2.getViewChecker().checkView();
    instance2.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance1.dumpRepo();
  String actualClusterId=instance1.getClusterViewService().getLocalClusterView().getId();
  logger.info("expected cluster id: " + newClusterId1);
  logger.info("actual   cluster id: " + actualClusterId);
  assertEquals(newClusterId1,actualClusterId);
  logger.info("testStableClusterId: end");
}

</code></pre>

<br>
<pre class="type-11 type-12 type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test plan:
 * * have a discoveryservice with two listeners registered
 * * one of them (the 'first' one) is long running
 * * during one of the topology changes, when the first
 * one is hit, deactivate the discovery service
 * * that deactivation used to block (SLING-4755) due
 * to synchronized(lock) which was blocked by the
 * long running listener. With having asynchronous
 * event sending this should no longer be the case
 * * also, once asserted that deactivation finished,
 * and that the first listener is still busy, make
 * sure that once the first listener finishes, that
 * the second listener still gets the event
 * @throws Throwable 
 */
@Test public void testLongRunningListener() throws Throwable {
  instance1.getConfig().setViewCheckTimeout(2);
  instance2.getConfig().setViewCheckTimeout(2);
  logger.info("testLongRunningListener : letting instance2 remain silent from now on");
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  logger.info("testLongRunningListener : instance 2 should now be considered dead");
  LongRunningListener longRunningListener1=new LongRunningListener();
  AssertingTopologyEventListener fastListener2=new AssertingTopologyEventListener();
  fastListener2.addExpected(Type.TOPOLOGY_INIT);
  longRunningListener1.assertNoFail();
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  logger.info("testLongRunningListener : binding longRunningListener1 ...");
  instance1.bindTopologyEventListener(longRunningListener1);
  logger.info("testLongRunningListener : binding fastListener2 ...");
  instance1.bindTopologyEventListener(fastListener2);
  logger.info("testLongRunningListener : waiting a bit for longRunningListener1 to receive the TOPOLOGY_INIT event");
  Thread.sleep(2500);
  assertEquals(0,fastListener2.getRemainingExpectedCount());
  assertTrue(longRunningListener1.initReceived);
  fastListener2.addExpected(Type.TOPOLOGY_CHANGING);
  fastListener2.addExpected(Type.TOPOLOGY_CHANGED);
  instance1.getConfig().setViewCheckTimeout(10);
  instance2.getConfig().setViewCheckTimeout(10);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.dumpRepo();
  longRunningListener1.assertNoFail();
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  assertEquals(1,longRunningListener1.noninitReceived);
  Thread.sleep(2000);
  assertTrue(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
  Thread.sleep(2000);
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  assertEquals(1,longRunningListener1.noninitReceived);
  assertTrue(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
  final List<Exception> asyncException=new LinkedList<Exception>();
  Thread th=new Thread(new Runnable(){
    public void run(){
      try {
        instance1.stop();
      }
 catch (      Exception e) {
synchronized (asyncException) {
          asyncException.add(e);
        }
      }
    }
  }
);
  th.start();
  logger.info("Waiting max 4 sec...");
  th.join(4000);
  logger.info("Done waiting max 4 sec...");
  if (th.isAlive()) {
    logger.warn("Thread still alive: " + th.isAlive());
    longRunningListener1.getChangedSemaphore().release();
    fail("Thread was still alive");
  }
  logger.info("Thread was no longer alive: " + th.isAlive());
synchronized (asyncException) {
    logger.info("Async exceptions: " + asyncException.size());
    if (asyncException.size() != 0) {
      longRunningListener1.getChangedSemaphore().release();
      fail("async exceptions: " + asyncException.size() + ", first: "+ asyncException.get(0));
    }
  }
  longRunningListener1.getChangedSemaphore().release();
  Thread.sleep(500);
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(0,fastListener2.getRemainingExpectedCount());
  assertEquals(2,longRunningListener1.noninitReceived);
  assertFalse(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractSingleInstanceTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPropertyProviders() throws Throwable {
  logger.info("testPropertyProviders: start");
  final String propertyName=UUID.randomUUID().toString();
  propertyValue=UUID.randomUUID().toString();
  PropertyProviderImpl pp=new PropertyProviderImpl();
  pp.setProperty(propertyName,propertyValue);
  instance.bindPropertyProvider(pp,propertyName);
  instance.heartbeatsAndCheckView();
  Thread.sleep(4000);
  assertEquals(propertyValue,instance.getClusterViewService().getLocalClusterView().getInstances().get(0).getProperty(propertyName));
  propertyValue=UUID.randomUUID().toString();
  pp.setProperty(propertyName,propertyValue);
  instance.heartbeatsAndCheckView();
  assertEquals(propertyValue,instance.getClusterViewService().getLocalClusterView().getInstances().get(0).getProperty(propertyName));
  assertNull(instance.getClusterViewService().getLocalClusterView().getInstances().get(0).getProperty(UUID.randomUUID().toString()));
  logger.info("testPropertyProviders: end");
}

</code></pre>

<br>
<pre class="type-11 type-6 type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetters() throws UndefinedClusterViewException, InterruptedException {
  logger.info("testGetters: start");
  assertNotNull(instance);
  logger.info("sling id=" + instance.getSlingId());
  try {
    instance.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance.heartbeatsAndCheckView();
  Thread.sleep(4000);
  assertNotNull(instance.getClusterViewService().getLocalClusterView());
  ClusterView cv=instance.getClusterViewService().getLocalClusterView();
  logger.info("cluster view: id=" + cv.getId());
  assertNotNull(cv.getId());
  assertNotSame(cv.getId(),"");
  List<InstanceDescription> instances=cv.getInstances();
  assertNotNull(instances);
  assertTrue(instances.size() == 1);
  InstanceDescription myInstance=instances.get(0);
  assertNotNull(myInstance);
  assertTrue(myInstance.getClusterView() == cv);
  logger.info("instance id: " + myInstance.getSlingId());
  assertEquals(instance.getSlingId(),myInstance.getSlingId());
  Map<String,String> properties=myInstance.getProperties();
  assertNotNull(properties);
  assertNull(myInstance.getProperty("foo"));
  assertTrue(myInstance.isLeader());
  assertTrue(myInstance.isLocal());
  logger.info("testGetters: end");
}

</code></pre>

<br>
<pre class="type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBootstrap() throws Throwable {
  logger.info("testBootstrap: start");
  try {
    instance.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  AssertingTopologyEventListener ada=new AssertingTopologyEventListener();
  instance.bindTopologyEventListener(ada);
  assertEquals(0,ada.getEvents().size());
  assertEquals(0,ada.getUnexpectedCount());
  try {
    instance.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  ada.addExpected(Type.TOPOLOGY_INIT);
  instance.heartbeatsAndCheckView();
  Thread.sleep(1000);
  instance.heartbeatsAndCheckView();
  Thread.sleep(1000);
  logger.info("testBoostrap: dumping repo...");
  instance.dumpRepo();
  logger.info("testBoostrap: dumping listener...");
  ada.dump();
  assertEquals(0,ada.getUnexpectedCount());
  assertEquals(1,ada.getEvents().size());
  TopologyEvent initEvent=ada.getEvents().remove(0);
  assertNotNull(initEvent);
  assertNotNull(initEvent.getNewView());
  assertNotNull(initEvent.getNewView().getClusterViews());
  instance.assertEstablishedView();
  logger.info("testBootstrap: end");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTopologyEventListeners() throws Throwable {
  logger.info("testTopologyEventListeners: start");
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 1st sleep 2s");
  Thread.sleep(2000);
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 2nd sleep 2s");
  Thread.sleep(2000);
  AssertingTopologyEventListener assertingTopologyEventListener=new AssertingTopologyEventListener();
  assertingTopologyEventListener.addExpected(Type.TOPOLOGY_INIT);
  logger.info("testTopologyEventListeners: binding the event listener");
  instance.bindTopologyEventListener(assertingTopologyEventListener);
  Thread.sleep(1000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  final String propertyName=UUID.randomUUID().toString();
  propertyValue=UUID.randomUUID().toString();
  PropertyProviderImpl pp=new PropertyProviderImpl();
  pp.setProperty(propertyName,propertyValue);
  assertingTopologyEventListener.addExpected(Type.PROPERTIES_CHANGED);
  assertEquals(1,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(0,pp.getGetCnt());
  instance.bindPropertyProvider(pp,propertyName);
  logger.info("testTopologyEventListeners: 3rd sleep 1.5s");
  Thread.sleep(1500);
  logger.info("testTopologyEventListeners: dumping due to failure: ");
  assertingTopologyEventListener.dump();
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertTrue(pp.getGetCnt() > 0);
  assertingTopologyEventListener.addExpected(Type.PROPERTIES_CHANGED);
  assertEquals(1,assertingTopologyEventListener.getRemainingExpectedCount());
  pp.setGetCnt(0);
  propertyValue=UUID.randomUUID().toString();
  pp.setProperty(propertyName,propertyValue);
  assertEquals(0,pp.getGetCnt());
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 4th sleep 2s");
  Thread.sleep(2000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(2,pp.getGetCnt());
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 5th sleep 2s");
  Thread.sleep(2000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(3,pp.getGetCnt());
  logger.info("testTopologyEventListeners: done");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractTopologyEventTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDuringDelay() throws Throwable {
  instance1=newBuilder().setDebugName("firstInstanceA").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(20).setMinEventDelay(6).build();
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  TopologyView earlyTopo=instance1.getDiscoveryService().getTopology();
  assertNotNull(earlyTopo);
  assertFalse(earlyTopo.isCurrent());
  assertEquals(1,earlyTopo.getInstances().size());
  for (int i=0; i < 4; i++) {
    instance1.heartbeatsAndCheckView();
    Thread.sleep(125);
  }
  TopologyView secondTopo=instance1.getDiscoveryService().getTopology();
  assertEquals(1,secondTopo.getInstances().size());
  assertEquals(instance1.getSlingId(),secondTopo.getInstances().iterator().next().getSlingId());
  assertTrue(secondTopo.isCurrent());
  instance1.dumpRepo();
  assertEarlyAndFirstClusterViewIdMatches(earlyTopo,secondTopo);
  Thread.sleep(500);
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_CHANGING);
  instance2=newBuilder().setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(20).setMinEventDelay(1).build();
  AssertingTopologyEventListener l2=new AssertingTopologyEventListener("instance2.l1");
  l2.addExpected(TopologyEvent.Type.TOPOLOGY_INIT);
  instance2.bindTopologyEventListener(l2);
  for (int i=0; i < 4; i++) {
    instance2.heartbeatsAndCheckView();
    instance1.heartbeatsAndCheckView();
    Thread.sleep(750);
  }
  assertEquals(0,l1.getUnexpectedCount());
  TopologyView topo2=instance2.getDiscoveryService().getTopology();
  assertTrue(topo2.isCurrent());
  assertEquals(2,topo2.getInstances().size());
  TopologyView topo1=instance1.getDiscoveryService().getTopology();
  assertTrue(topo1.isCurrent());
  assertEquals(2,topo1.getInstances().size());
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_CHANGED);
  Thread.sleep(5000);
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  assertEquals(0,l2.getRemainingExpectedCount());
  assertEquals(0,l2.getUnexpectedCount());
  assertTrue(instance2.getDiscoveryService().getTopology().isCurrent());
  assertEquals(2,instance2.getDiscoveryService().getTopology().getInstances().size());
  assertTrue(instance1.getDiscoveryService().getTopology().isCurrent());
  assertEquals(2,instance1.getDiscoveryService().getTopology().getInstances().size());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Tests the fact that the INIT event is delayed until voting has succeeded
 * (which is the default with SLIGN-5030 and SLING-4959
 * @throws Throwable 
 */
@Test public void testDelayedInitEvent() throws Throwable {
  logger.info("testDelayedInitEvent: start");
  instance1=newBuilder().setDebugName("firstInstanceA").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(3).setMinEventDelay(3).build();
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  logger.info("testDelayedInitEvent: instance1 created, no events expected yet. slingId=" + instance1.slingId);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  logger.info("testDelayedInitEvent: 2nd/3rd heartbeat sent - now expecting a TOPOLOGY_INIT");
  instance1.dumpRepo();
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  logger.info("testDelayedInitEvent: creating instance2");
  instance2=newBuilder().setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(20).setMinEventDelay(3).build();
  logger.info("testDelayedInitEvent: instance2 created with slingId=" + instance2.slingId);
  AssertingTopologyEventListener l2=new AssertingTopologyEventListener("instance2.l2");
  instance2.bindTopologyEventListener(l2);
  logger.info("testDelayedInitEvent: listener instance2.l2 added - it should not get any events though");
  AssertingTopologyEventListener l1Two=new AssertingTopologyEventListener("instance1.l1Two");
  l1Two.addExpected(Type.TOPOLOGY_INIT);
  logger.info("testDelayedInitEvent: listener instance1.l1Two added - it expects an INIT now");
  instance1.bindTopologyEventListener(l1Two);
  Thread.sleep(500);
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  assertEquals(0,l2.getEvents().size());
  assertEquals(0,l2.getUnexpectedCount());
  assertEquals(1,l1Two.getEvents().size());
  assertEquals(0,l1Two.getRemainingExpectedCount());
  assertEquals(0,l1Two.getUnexpectedCount());
  logger.info("testDelayedInitEvent: two more heartbeats should trigger events");
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  l1Two.addExpected(Type.TOPOLOGY_CHANGING);
  Thread.sleep(500);
  l2.addExpected(Type.TOPOLOGY_INIT);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  logger.info("testDelayedInitEvent: instance1: " + instance1.slingId);
  logger.info("testDelayedInitEvent: instance2: " + instance2.slingId);
  instance1.dumpRepo();
  assertEquals(0,l1.getUnexpectedCount());
  assertEquals(2,l1.getEvents().size());
  assertEquals(0,l2.getUnexpectedCount());
  assertEquals(0,l1Two.getUnexpectedCount());
  assertEquals(2,l1Two.getEvents().size());
  l1.addExpected(Type.TOPOLOGY_CHANGED);
  l1Two.addExpected(Type.TOPOLOGY_CHANGED);
  Thread.sleep(4000);
  assertEquals(0,l1.getUnexpectedCount());
  assertEquals(3,l1.getEvents().size());
  assertEquals(0,l2.getUnexpectedCount());
  assertEquals(1,l2.getEvents().size());
  assertEquals(0,l1Two.getUnexpectedCount());
  assertEquals(3,l1Two.getEvents().size());
  logger.info("testDelayedInitEvent: end");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.TopologyTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testTwoNodes() throws Throwable {
  VirtualInstanceBuilder builder1=newBuilder().newRepository("/var/discovery/impl/",true).setDebugName("instance1").setConnectorPingInterval(20).setConnectorPingTimeout(200);
  VirtualInstance instance1=builder1.build();
  instances.add(instance1);
  VirtualInstanceBuilder builder2=newBuilder().useRepositoryOf(builder1).setDebugName("instance2").setConnectorPingInterval(20).setConnectorPingTimeout(200);
  VirtualInstance instance2=builder2.build();
  instances.add(instance2);
  instance1.getConfig().setViewCheckTimeout(8);
  instance1.getConfig().setViewCheckInterval(1);
  instance2.getConfig().setViewCheckTimeout(2);
  instance2.getConfig().setViewCheckInterval(1);
  for (int i=0; i < 5; i++) {
    instance1.heartbeatsAndCheckView();
    instance2.heartbeatsAndCheckView();
    Thread.sleep(500);
  }
  Set<InstanceDescription> instances1=instance1.getDiscoveryService().getTopology().getInstances();
  Set<InstanceDescription> instances2=instance2.getDiscoveryService().getTopology().getInstances();
  assertEquals(1,instances1.size());
  assertEquals(1,instances2.size());
  assertEquals(instance1.getSlingId(),instances1.iterator().next().getSlingId());
  assertEquals(instance2.getSlingId(),instances2.iterator().next().getSlingId());
  new VirtualConnector(instance1,instance2);
  Collection<Announcement> instance1LocalAnnouncements=instance1.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(1,instance1LocalAnnouncements.size());
  Announcement instance1LocalAnnouncement=instance1LocalAnnouncements.iterator().next();
  assertEquals(instance2.getSlingId(),instance1LocalAnnouncement.getOwnerId());
  assertEquals(true,instance1LocalAnnouncement.isInherited());
  Collection<Announcement> instance2LocalAnnouncements=instance2.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(1,instance2LocalAnnouncements.size());
  Announcement instance2LocalAnnouncement=instance2LocalAnnouncements.iterator().next();
  assertEquals(instance1.getSlingId(),instance2LocalAnnouncement.getOwnerId());
  assertEquals(false,instance2LocalAnnouncement.isInherited());
  TopologyHelper.assertTopologyConsistsOf(instance1.getDiscoveryService().getTopology(),instance1.getSlingId(),instance2.getSlingId());
  TopologyHelper.assertTopologyConsistsOf(instance2.getDiscoveryService().getTopology(),instance1.getSlingId(),instance2.getSlingId());
  instance1LocalAnnouncements=instance1.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(1,instance1LocalAnnouncements.size());
  instance2LocalAnnouncements=instance2.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(1,instance2LocalAnnouncements.size());
  Thread.sleep(2200);
  instance1LocalAnnouncements=instance1.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(1,instance1LocalAnnouncements.size());
  instance2LocalAnnouncements=instance2.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(0,instance2LocalAnnouncements.size());
  logger.info("testTwoNodes: instance1: " + instance1.getSlingId());
  instance1.dumpRepo();
  logger.info("testTwoNodes: instance2: " + instance2.getSlingId());
  instance2.dumpRepo();
  TopologyHelper.assertTopologyConsistsOf(instance1.getDiscoveryService().getTopology(),instance1.getSlingId(),instance2.getSlingId());
  TopologyHelper.assertTopologyConsistsOf(instance2.getDiscoveryService().getTopology(),instance2.getSlingId());
  Thread.sleep(6000);
  instance1LocalAnnouncements=instance1.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(0,instance1LocalAnnouncements.size());
  instance2LocalAnnouncements=instance2.getAnnouncementRegistry().listLocalAnnouncements();
  assertEquals(0,instance2LocalAnnouncements.size());
  TopologyHelper.assertTopologyConsistsOf(instance1.getDiscoveryService().getTopology(),instance1.getSlingId());
  TopologyHelper.assertTopologyConsistsOf(instance2.getDiscoveryService().getTopology(),instance2.getSlingId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.InstancesDiffTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRetainedByProperties() throws Exception {
  InstancesDiff diff=new InstancesDiff(Arrays.asList(new Instance("one",Collections.singletonMap("p1","v1")),new Instance("two",Collections.singletonMap("p1","v1"))),Arrays.asList(new Instance("one",Collections.singletonMap("p1","v2")),new Instance("two",Collections.singletonMap("p1","v1"))));
  TestCase.assertEquals(1,diff.retained(true,false).get().size());
  TestCase.assertEquals("two",diff.retained(true,false).get().iterator().next().getSlingId());
  TestCase.assertEquals(1,diff.retained(true,true).get().size());
  TestCase.assertEquals("one",diff.retained(true,true).get().iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddedWithIntersection() throws Exception {
  InstancesDiff diff=new InstancesDiff(Arrays.asList(new Instance("one"),new Instance("two")),Arrays.asList(new Instance("two"),new Instance("three")));
  TestCase.assertEquals(1,diff.added().get().size());
  TestCase.assertEquals("three",diff.added().get().iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEmptyCollections(){
  InstancesDiff diff=new InstancesDiff(empty(),empty());
  TestCase.assertEquals(0,diff.all(true).get().size());
  TestCase.assertEquals(0,diff.added().get().size());
  TestCase.assertEquals(0,diff.removed().get().size());
  TestCase.assertEquals(0,diff.retained(true).get().size());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemovedWithIntersection() throws Exception {
  InstancesDiff diff=new InstancesDiff(Arrays.asList(new Instance("one"),new Instance("two")),Arrays.asList(new Instance("two"),new Instance("three")));
  TestCase.assertEquals(1,diff.removed().get().size());
  TestCase.assertEquals("one",diff.removed().get().iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRemovedWithoutIntersection() throws Exception {
  InstancesDiff diff=new InstancesDiff(Collections.singletonList(new Instance("one")),Collections.singletonList(new Instance("two")));
  TestCase.assertEquals(1,diff.removed().get().size());
  TestCase.assertEquals("one",diff.removed().get().iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAllRetainedCollection() throws Exception {
  Instance oldInstance=new Instance("one");
  Instance newInstance=new Instance("one");
  InstancesDiff diff=new InstancesDiff(Collections.singletonList(oldInstance),Collections.singletonList(newInstance));
  TestCase.assertEquals(1,diff.all(true).get().size());
  TestCase.assertEquals(newInstance,diff.all(true).get().iterator().next());
  TestCase.assertEquals(1,diff.all(false).get().size());
  TestCase.assertEquals(oldInstance,diff.all(false).get().iterator().next());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRetainedCollection() throws Exception {
  Instance oldInstance=new Instance("one");
  Instance newInstance=new Instance("one");
  InstancesDiff diff=new InstancesDiff(Collections.singletonList(oldInstance),Collections.singletonList(newInstance));
  TestCase.assertEquals(1,diff.retained(true).get().size());
  TestCase.assertEquals(newInstance,diff.retained(true).get().iterator().next());
  TestCase.assertEquals(oldInstance,diff.retained(false).get().iterator().next());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRetainedWithIntersection() throws Exception {
  InstancesDiff diff=new InstancesDiff(Arrays.asList(new Instance("one"),new Instance("two")),Arrays.asList(new Instance("two"),new Instance("three")));
  TestCase.assertEquals(1,diff.retained(true).get().size());
  TestCase.assertEquals("two",diff.retained(true).get().iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFilterWith() throws Exception {
  Collection<InstanceDescription> instances=new InstancesDiff(Arrays.asList(new Instance("one"),new Instance("two")),empty()).all(true).filterWith(new InstanceFilter(){
    public boolean accept(    InstanceDescription instanceDescription){
      return "one".equals(instanceDescription.getSlingId());
    }
  }
).get();
  TestCase.assertEquals(1,instances.size());
  TestCase.assertEquals("one",instances.iterator().next().getSlingId());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddedWithoutIntersection() throws Exception {
  InstancesDiff diff=new InstancesDiff(Collections.singletonList(new Instance("one")),Collections.singletonList(new Instance("two")));
  TestCase.assertEquals(1,diff.added().get().size());
  TestCase.assertEquals("two",diff.added().get().iterator().next().getSlingId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.BaseTopologyViewTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCurrent() throws Exception {
  BaseTopologyView view=newView();
  assertTrue(view.isCurrent());
  view.setNotCurrent();
  assertTrue(!view.isCurrent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.DefaultClusterViewTest </h4><pre class="type-6 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructor() throws Exception {
  try {
    new DefaultClusterView(null);
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  try {
    new DefaultClusterView("");
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  final String slingId=UUID.randomUUID().toString();
  DefaultClusterView cv=new DefaultClusterView(slingId);
  assertEquals(slingId,cv.getId());
  try {
    cv.getInstances();
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  try {
    cv.getLeader();
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  try {
    cv.getInstances();
    fail("should complain that there were never any instances added...");
  }
 catch (  Exception e) {
  }
  DefaultInstanceDescription id0=new DefaultInstanceDescription(null,false,false,UUID.randomUUID().toString(),null);
  try {
    cv.getInstances();
    fail("should complain that there were never any instances added...");
  }
 catch (  Exception e) {
  }
  cv.addInstanceDescription(id0);
  assertEquals(1,cv.getInstances().size());
  assertSame(id0,cv.getInstances().get(0));
  try {
    cv.addInstanceDescription(id0);
    fail("can only set clusterview once");
  }
 catch (  Exception e) {
  }
  assertEquals(1,cv.getInstances().size());
  DefaultInstanceDescription id=new DefaultInstanceDescription(cv,true,false,UUID.randomUUID().toString(),null);
  assertEquals(2,cv.getInstances().size());
  try {
    cv.addInstanceDescription(id);
    fail("can only set clusterview once - already set in constructor above");
  }
 catch (  Exception e) {
  }
  assertEquals(2,cv.getInstances().size());
  assertSame(id,cv.getInstances().get(1));
  assertSame(id,cv.getLeader());
  DefaultInstanceDescription id2=new DefaultInstanceDescription(cv,false,false,UUID.randomUUID().toString(),null);
  try {
    cv.addInstanceDescription(id2);
    fail("can only set clusterview once - already set in constructor above");
  }
 catch (  Exception e) {
  }
  assertEquals(3,cv.getInstances().size());
  assertSame(id,cv.getLeader());
  try {
    cv.addInstanceDescription(id);
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  try {
    cv.addInstanceDescription(id2);
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
  try {
    DefaultInstanceDescription id3=new DefaultInstanceDescription(cv,true,false,UUID.randomUUID().toString(),null);
    cv.addInstanceDescription(id3);
    fail("should throw an exception");
  }
 catch (  Exception e) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestMinEventDelayHandler </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLongMinDelay() throws Exception {
  mgr.installMinEventDelayHandler(sds,scheduler,5);
  final DummyListener listener=new DummyListener();
  logger.info("testLongMinDelay: calling handleActivated...");
  mgr.handleActivated();
  assertNoEvents(listener);
  logger.info("testLongMinDelay: calling bind...");
  mgr.bind(listener);
  assertNoEvents(listener);
  logger.info("testLongMinDelay: calling handleChanging...");
  mgr.handleChanging();
  assertNoEvents(listener);
  final DummyTopologyView view=new DummyTopologyView().addInstance();
  DummyTopologyView clonedView=view.clone();
  logger.info("testLongMinDelay: calling handleNewView...");
  mgr.handleNewView(view);
  TestHelper.assertEvents(mgr,listener,EventHelper.newInitEvent(view));
  final DummyTopologyView view2=new DummyTopologyView().addInstance();
  view2.addInstance(UUID.randomUUID().toString(),(DefaultClusterView)view2.getLocalInstance().getClusterView(),false,false);
  logger.info("testLongMinDelay: calling handleNewView...");
  clonedView.setNotCurrent();
  mgr.handleNewView(view2);
  TestHelper.assertEvents(mgr,listener,EventHelper.newChangingEvent(clonedView));
  assertFalse(view.isCurrent());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReactivate() throws Exception {
  logger.info("testReactivate: start");
  mgr.installMinEventDelayHandler(sds,scheduler,2);
  final DummyListener listener=new DummyListener();
  logger.info("testReactivate: calling handleActivated");
  mgr.bind(listener);
  mgr.handleActivated();
  TestHelper.assertNoEvents(listener);
  final DummyTopologyView view1=new DummyTopologyView().addInstance();
  final DummyTopologyView view2=DummyTopologyView.clone(view1).addInstance(UUID.randomUUID().toString(),(DefaultClusterView)view1.getLocalInstance().getClusterView(),false,false);
  final DummyTopologyView view3=DummyTopologyView.clone(view1).addInstance(UUID.randomUUID().toString(),(DefaultClusterView)view1.getLocalInstance().getClusterView(),false,false);
  logger.info("testReactivate: calling handleNewView...");
  mgr.handleNewView(view1);
  logger.info("testReactivate: asserting init event");
  TestHelper.assertEvents(mgr,listener,EventHelper.newInitEvent(view1));
  logger.info("testReactivate: calling handleChanging...");
  mgr.handleChanging();
  TestHelper.assertEvents(mgr,listener,EventHelper.newChangingEvent(view1));
  logger.info("testReactivate: calling handleNewView 2nd time...");
  mgr.handleNewView(view2);
  TestHelper.assertNoEvents(listener);
  sds.setTopoology(view2);
  logger.info("testReactivate: waiting for async events to have been processed - 4sec");
  Thread.sleep(4000);
  logger.info("testReactivate: waiting for async events to have been processed - max another 2sec");
  assertEquals(0,mgr.waitForAsyncEvents(2000));
  logger.info("testReactivate: asserting CHANGED event");
  TestHelper.assertEvents(mgr,listener,EventHelper.newChangedEvent(view1,view2));
  logger.info("testReactivate: calling handleChanging...");
  mgr.handleChanging();
  TestHelper.assertEvents(mgr,listener,EventHelper.newChangingEvent(view2));
  logger.info("testReactivate: calling handleNewView 2nd time...");
  mgr.handleNewView(view3);
  TestHelper.assertNoEvents(listener);
  sds.setTopoology(view3);
  logger.info("testReactivate: doing handleDeactivated");
  final AsyncEventSender asyncEventSender=mgr.getAsyncEventSender();
  Field field=mgr.getClass().getDeclaredField("minEventDelayHandler");
  field.setAccessible(true);
  MinEventDelayHandler minEventDelayHandler=(MinEventDelayHandler)field.get(mgr);
  assertNotNull(minEventDelayHandler);
  view3.setNotCurrent();
  sds.setTopoology(view3);
  mgr.handleDeactivated();
  TestHelper.assertNoEvents(listener);
  logger.info("testReactivate: now waiting 5 sec to make sure the MinEventDelayHandler would be finished");
  TestHelper.assertNoEvents(listener);
  Thread.sleep(5000);
  logger.info("testReactivate: after those 5 sec there should however still not be any new event");
  TestHelper.assertNoEvents(listener);
  int cnt=asyncEventSender.getInFlightEventCnt();
  if (minEventDelayHandler != null && minEventDelayHandler.isDelaying()) {
    cnt++;
  }
  assertEquals(0,cnt);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestViewStateManager </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDuplicateListeners() throws Exception {
  final DummyListener listener=new DummyListener();
  mgr.bind(listener);
  mgr.bind(listener);
  assertTrue(mgr.unbind(listener));
  assertFalse(mgr.unbind(listener));
  mgr.handleActivated();
  assertFalse(mgr.unbind(listener));
  mgr.bind(listener);
  mgr.bind(listener);
  assertTrue(mgr.unbind(listener));
  assertFalse(mgr.unbind(listener));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterSyncService_withConcurrency() throws Exception {
  final org.apache.log4j.Logger commonsLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery.commons.providers");
  final org.apache.log4j.Level logLevel=commonsLogger.getLevel();
  commonsLogger.setLevel(Level.INFO);
  final Semaphore serviceSemaphore=new Semaphore(0);
  final Semaphore testSemaphore=new Semaphore(0);
  final ReentrantLock lock=new ReentrantLock();
  final ClusterSyncServiceWithSemaphore cs=new ClusterSyncServiceWithSemaphore(lock,serviceSemaphore);
  mgr=new ViewStateManagerImpl(lock,cs);
  final DummyListener listener=new DummyListener();
  mgr.bind(listener);
  TestHelper.assertNoEvents(listener);
  mgr.handleActivated();
  TestHelper.assertNoEvents(listener);
  final String slingId1=UUID.randomUUID().toString();
  final String slingId2=UUID.randomUUID().toString();
  final String slingId3=UUID.randomUUID().toString();
  final String clusterId=UUID.randomUUID().toString();
  final DefaultClusterView cluster=new DefaultClusterView(clusterId);
  final DummyTopologyView view1=new DummyTopologyView().addInstance(slingId1,cluster,true,true).addInstance(slingId2,cluster,false,false).addInstance(slingId3,cluster,false,false);
  final DummyTopologyView view2=DummyTopologyView.clone(view1).removeInstance(slingId2);
  final DummyTopologyView view3=DummyTopologyView.clone(view1).removeInstance(slingId2).removeInstance(slingId3);
  async(new Runnable(){
    public void run(){
      mgr.handleNewView(view1);
    }
  }
);
  Thread.sleep(1000);
  TestHelper.assertNoEvents(listener);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  serviceSemaphore.release(1);
  Thread.sleep(1000);
  assertEvents(listener,EventHelper.newInitEvent(view1));
  mgr.handleChanging();
  assertEquals(0,mgr.waitForAsyncEvents(500));
  assertEvents(listener,EventHelper.newChangingEvent(view1));
  async(new Runnable(){
    public void run(){
      mgr.handleNewView(view2);
    }
  }
);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  logger.debug("run: asserting no events");
  TestHelper.assertNoEvents(listener);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  assertFalse("should not be locked",lock.isLocked());
  logger.debug("run: issuing a second event");
  async(new Runnable(){
    public void run(){
      logger.debug("run2: calling handleChanging...");
      mgr.handleChanging();
      try {
        logger.debug("run2: done with handleChanging, acquiring testSemaphore...");
        testSemaphore.acquire();
        logger.debug("run2: calling handleNewView...");
        mgr.handleNewView(view3);
        logger.debug("run2: done with handleNewView...");
      }
 catch (      InterruptedException e) {
        logger.error("interrupted: " + e,e);
      }
    }
  }
);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  int remainingAsyncEvents=mgr.waitForAsyncEvents(2000);
  logger.info("run: result of waitForAsyncEvent is: " + remainingAsyncEvents);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  assertEquals("should be acquiring (by thread2)",1,testSemaphore.getQueueLength());
  testSemaphore.release();
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  assertEquals("should have two async events now in the queue or being sent",2,mgr.waitForAsyncEvents(500));
  assertEquals("but should only have 1 thread actually sitting on the semaphore waiting",1,serviceSemaphore.getQueueLength());
  logger.debug("run: releasing consistencyService");
  serviceSemaphore.release(1);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  assertFalse("should not be locked",lock.isLocked());
  TestHelper.assertNoEvents(listener);
  serviceSemaphore.release(1);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  logger.debug("run: asserting 1 event");
  final TopologyEvent changedEvent=EventHelper.newChangedEvent(view1,view3);
  assertEvents(listener,changedEvent);
  commonsLogger.setLevel(Level.INFO);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOnlyDiffersInProperties() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.DEBUG);
  logger.info("testOnlyDiffersInProperties: start");
  final String slingId1=UUID.randomUUID().toString();
  final String slingId2=UUID.randomUUID().toString();
  final String slingId3=UUID.randomUUID().toString();
  final String clusterId=UUID.randomUUID().toString();
  final DefaultClusterView cluster=new DefaultClusterView(clusterId);
  final DummyTopologyView view1=new DummyTopologyView().addInstance(slingId1,cluster,true,true).addInstance(slingId2,cluster,false,false).addInstance(slingId3,cluster,false,false);
  final DummyTopologyView view2=DummyTopologyView.clone(view1).removeInstance(slingId2);
  final DummyTopologyView view3=DummyTopologyView.clone(view1).removeInstance(slingId2).removeInstance(slingId3);
  DummyTopologyView view1Cloned=DummyTopologyView.clone(view1);
  logger.info("testOnlyDiffersInProperties: handleNewView(view1)");
  mgr.handleNewView(view1);
  logger.info("testOnlyDiffersInProperties: handleActivated()");
  mgr.handleActivated();
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  logger.info("testOnlyDiffersInProperties: handleNewView(view2)");
  mgr.handleNewView(view2);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  logger.info("testOnlyDiffersInProperties: handleNewView(view3)");
  mgr.handleNewView(view3);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  final DummyTopologyView view4=DummyTopologyView.clone(view1Cloned);
  final DummyTopologyView view5=DummyTopologyView.clone(view1Cloned);
  final DummyTopologyView view6=DummyTopologyView.clone(view1Cloned);
  logger.info("testOnlyDiffersInProperties: handleNewView(view1cloned)");
  mgr.handleNewView(view1Cloned);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  DefaultInstanceDescription i4_1=(DefaultInstanceDescription)view4.getInstance(slingId1);
  i4_1.setProperty("a","b");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view4)");
  assertTrue(mgr.onlyDiffersInProperties(view4));
  DefaultInstanceDescription i5_1=(DefaultInstanceDescription)view5.getInstance(slingId1);
  i5_1.setProperty("a","b");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view5)");
  assertTrue(mgr.onlyDiffersInProperties(view5));
  DummyTopologyView view4Cloned=DummyTopologyView.clone(view4);
  mgr.handleNewView(view4);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view4Cloned)");
  assertFalse(mgr.onlyDiffersInProperties(view4Cloned));
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view5)");
  assertFalse(mgr.onlyDiffersInProperties(view5));
  DefaultInstanceDescription i6_1=(DefaultInstanceDescription)view6.getInstance(slingId1);
  i6_1.setProperty("a","c");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6)");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  String originalId=view6.getLocalClusterSyncTokenId();
  view6.setId(UUID.randomUUID().toString());
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [2]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [3]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view6.setId(null);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [4]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [5]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view4.setId(null);
  view6.setId(null);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [6]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [7]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCancelSync() throws Exception {
  final List<Runnable> syncCallbacks=new LinkedList<Runnable>();
  mgr=new ViewStateManagerImpl(new ReentrantLock(),new ClusterSyncService(){
    public void sync(    BaseTopologyView view,    Runnable callback){
synchronized (syncCallbacks) {
        syncCallbacks.add(callback);
      }
    }
    @Override public void cancelSync(){
synchronized (syncCallbacks) {
        syncCallbacks.clear();
      }
    }
  }
);
  mgr.handleActivated();
  final DummyListener listener=new DummyListener();
  mgr.bind(listener);
  mgr.handleChanging();
  final BaseTopologyView view=new DummyTopologyView().addInstance();
  mgr.handleNewView(view);
  assertEquals(0,mgr.waitForAsyncEvents(1000));
  TestHelper.assertNoEvents(listener);
synchronized (syncCallbacks) {
    assertEquals(1,syncCallbacks.size());
  }
  String id1=UUID.randomUUID().toString();
  String id2=UUID.randomUUID().toString();
  final BaseTopologyView view2=TestHelper.newView(true,id1,id1,id1,id2);
  mgr.handleNewView(view2);
  assertEquals(0,mgr.waitForAsyncEvents(1000));
  TestHelper.assertNoEvents(listener);
synchronized (syncCallbacks) {
    assertEquals(1,syncCallbacks.size());
    syncCallbacks.get(0).run();
    syncCallbacks.clear();
  }
  assertEquals(0,mgr.waitForAsyncEvents(1000));
  assertEvents(listener,EventHelper.newInitEvent(view2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.spi.base.TestOakSyncTokenService </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneNode() throws Exception {
  logger.info("testOneNode: start");
  DummyTopologyView one=TestHelper.newView(true,slingId1,slingId1,slingId1);
  Lock lock=new ReentrantLock();
  OakBacklogClusterSyncService cs=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService1,new DummySlingSettingsService(slingId1),factory1);
  ViewStateManager vsm=ViewStateManagerFactory.newViewStateManager(lock,cs);
  DummyListener l=new DummyListener();
  assertEquals(0,l.countEvents());
  vsm.bind(l);
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  vsm.handleActivated();
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  vsm.handleNewView(one);
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  cs.triggerBackgroundCheck();
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().me(1).seq(1).activeIds(1).setFinal(true));
  assertTrue(idMapService1.waitForInit(5000));
  cs.triggerBackgroundCheck();
  assertEquals(0,vsm.waitForAsyncEvents(1000));
  assertEquals(1,l.countEvents());
  logger.info("testOneNode: end");
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-19 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTwoNodesOneLeaving() throws Exception {
  logger.info("testTwoNodesOneLeaving: start");
  String slingId2=UUID.randomUUID().toString();
  DummyTopologyView two1=TestHelper.newView(true,slingId1,slingId1,slingId1,slingId2);
  Lock lock1=new ReentrantLock();
  OakBacklogClusterSyncService cs1=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService1,new DummySlingSettingsService(slingId1),factory1);
  ViewStateManager vsm1=ViewStateManagerFactory.newViewStateManager(lock1,cs1);
  DummyListener l=new DummyListener();
  vsm1.bind(l);
  vsm1.handleActivated();
  vsm1.handleNewView(two1);
  cs1.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(1).activeIds(1).deactivatingIds(2));
  cs1.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  logger.info("testTwoNodesOneLeaving: sync service should be waiting for backlog to disappear");
  Thread.sleep(2000);
  BackgroundCheckRunnable backgroundCheckRunnable=cs1.backgroundCheckRunnable;
  assertNotNull(backgroundCheckRunnable);
  assertFalse(backgroundCheckRunnable.isDone());
  assertFalse(backgroundCheckRunnable.cancelled());
  logger.info("testTwoNodesOneLeaving: freeing backlog - sync service should finish up");
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(2).activeIds(1));
  cs1.triggerBackgroundCheck();
  Thread.sleep(2000);
  backgroundCheckRunnable=cs1.backgroundCheckRunnable;
  assertNotNull(backgroundCheckRunnable);
  assertFalse(backgroundCheckRunnable.cancelled());
  assertTrue(backgroundCheckRunnable.isDone());
  assertEquals(0,vsm1.waitForAsyncEvents(1000));
  logger.info("testTwoNodesOneLeaving: setting up 2nd node");
  Lock lock2=new ReentrantLock();
  IdMapService idMapService2=IdMapService.testConstructor(new SimpleCommonsConfig(),new DummySlingSettingsService(slingId2),factory2);
  OakBacklogClusterSyncService cs2=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService2,new DummySlingSettingsService(slingId2),factory2);
  ViewStateManager vsm2=ViewStateManagerFactory.newViewStateManager(lock2,cs2);
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory2,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(2).seq(3).activeIds(1,2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(3).activeIds(1,2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  vsm2.handleActivated();
  assertTrue(idMapService1.waitForInit(5000));
  assertTrue(idMapService2.waitForInit(5000));
  DummyTopologyView two2=TestHelper.newView(two1.getLocalClusterSyncTokenId(),two1.getLocalInstance().getClusterView().getId(),true,slingId1,slingId1,slingId1,slingId2);
  vsm2.handleNewView(two2);
  cs1.triggerBackgroundCheck();
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(1000));
  assertEquals(1,l.countEvents());
  logger.info("testTwoNodesOneLeaving: removing instance2 from the view - even though vsm1 didn't really know about it, it should send a TOPOLOGY_CHANGING - we leave it as deactivating for now...");
  DummyTopologyView oneLeaving=two1.clone();
  oneLeaving.removeInstance(slingId2);
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(1).activeIds(1).deactivatingIds(2));
  vsm1.handleNewView(oneLeaving);
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(5000));
  assertEquals(2,l.countEvents());
  logger.info("testTwoNodesOneLeaving: marking instance2 as no longer deactivating, so vsm1 should now send a TOPOLOGY_CHANGED");
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(2).activeIds(1).inactiveIds(2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(5000));
  RepositoryTestHelper.dumpRepo(factory1);
  assertEquals(3,l.countEvents());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.DiscoveryServiceImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLocalClusterSyncTokenIdChange() throws Exception {
  logger.info("testLocalClusterSyncTokenIdChange: start");
  logger.info("testLocalClusterSyncTokenIdChange: creating instance1...");
  FullJR2VirtualInstanceBuilder builder1=(FullJR2VirtualInstanceBuilder)new FullJR2VirtualInstanceBuilder().setDebugName("instance1").newRepository("/var/testLocalClusterSyncTokenIdChange/",true).setConnectorPingInterval(999).setConnectorPingTimeout(999).setMinEventDelay(0);
  VirtualInstance instance1=builder1.build();
  logger.info("testLocalClusterSyncTokenIdChange: creating instance2...");
  FullJR2VirtualInstanceBuilder builder2=(FullJR2VirtualInstanceBuilder)new FullJR2VirtualInstanceBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingInterval(999).setConnectorPingTimeout(999).setMinEventDelay(0);
  VirtualInstance instance2=builder2.build();
  logger.info("testLocalClusterSyncTokenIdChange: registering listener...");
  DummyListener listener=new DummyListener();
  DiscoveryServiceImpl discoveryService=(DiscoveryServiceImpl)instance1.getDiscoveryService();
  discoveryService.bindTopologyEventListener(listener);
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(0,listener.countEvents());
  logger.info("testLocalClusterSyncTokenIdChange: doing some heartbeating...");
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(1000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(2000);
  logger.info("testLocalClusterSyncTokenIdChange: expecting to have received the INIT...");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  ResourceResolverFactory factory=instance1.getResourceResolverFactory();
  ResourceResolver resolver=factory.getAdministrativeResourceResolver(null);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(1000);
  logger.info("testLocalClusterSyncTokenIdChange: after another heartbeat nothing more should have been triggered...");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  HeartbeatHandler heartbeatHandler=(HeartbeatHandler)instance1.getViewChecker();
  logger.info("testLocalClusterSyncTokenIdChange: forcing a new voting to start...");
  heartbeatHandler.startNewVoting();
  logger.info("testLocalClusterSyncTokenIdChange: doing some heartbeats to finish the voting...");
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(1000);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(3000);
  logger.info("testLocalClusterSyncTokenIdChange: now we should have gotten a CHANGING/CHANGED pair additionally...");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(3,listener.countEvents());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.RepositoryDelaysTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * SLING-5195 : simulate slow session.saves that block
 * the calling thread for non-trivial amounts of time,
 * typically for longer than the configured heartbeat
 * timeout
 */
@Test public void testSlowSessionSaves() throws Exception {
  VirtualInstanceBuilder builder1=newBuilder();
  instance1=(FullJR2VirtualInstance)builder1.setDebugName("firstInstance").newRepository("/var/discovery/impl/",true).setMinEventDelay(0).setConnectorPingInterval(1).setConnectorPingTimeout(3).build();
  VirtualInstanceBuilder builder2=newBuilder();
  instance2=(FullJR2VirtualInstance)builder2.setDebugName("secondInstance").useRepositoryOf(instance1).setMinEventDelay(0).setConnectorPingInterval(1).setConnectorPingTimeout(3).build();
  instance1.setDelay("pre.commit",12000);
  instance1.startViewChecker(1);
  instance2.startViewChecker(1);
  Thread.sleep(5000);
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  TopologyView t2=instance2.getDiscoveryService().getTopology();
  assertTrue(t2.isCurrent());
  assertEquals(1,t2.getInstances().size());
  instance1.setDelay("pre.commit",-1);
  Thread.sleep(3000);
  TopologyView t1b=instance1.getDiscoveryService().getTopology();
  assertTrue(t1b.isCurrent());
  assertEquals(2,t1b.getInstances().size());
  TopologyView t2b=instance2.getDiscoveryService().getTopology();
  assertTrue(t2b.isCurrent());
  assertEquals(2,t2b.getInstances().size());
  instance1.setDelay("pre.commit",59876);
  instance2.setDelay("pre.commit",60000);
  logger.info("<main> both instances marked as delaying 1min - but with new background checks we should go changing within 3sec");
  Thread.sleep(8000);
  TopologyView t1c=instance1.getDiscoveryService().getTopology();
  assertFalse(t1c.isCurrent());
  TopologyView t2c=instance2.getDiscoveryService().getTopology();
  assertFalse(t2c.isCurrent());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the not-current view returned by getTopology()
 * matches what listeners get in TOPOLOGY_CHANGING - it should
 * basically be the same.
 */
@Test public void testOldView() throws Throwable {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.INFO);
  FullJR2VirtualInstanceBuilder builder=newBuilder();
  builder.setDebugName("firstInstanceA").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance1=builder.fullBuild();
  instance1.stopVoting();
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  logger.info("testOldView: instance1 created, no events expected yet. slingId=" + instance1.slingId);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  logger.info("testOldView: 2nd/3rd heartbeat sent - now expecting a TOPOLOGY_INIT");
  instance1.dumpRepo();
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  logger.info("testOldView: creating instance2");
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  FullJR2VirtualInstanceBuilder builder2=newBuilder();
  builder2.setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance2=builder2.fullBuild();
  instance2.stopVoting();
  logger.info("testOldView: instance2 created, now issuing one heartbeat with instance2 first, so that instance1 can take note of it");
  instance2.heartbeatsAndCheckView();
  logger.info("testOldView: now instance1 is also doing a heartbeat and should see that a new instance is there");
  instance1.heartbeatsAndCheckView();
  logger.info("testOldView: 500ms sleep...");
  Thread.sleep(500);
  logger.info("testOldView: 500ms sleep done.");
  assertEquals(2,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  l1.addExpected(Type.TOPOLOGY_CHANGED);
  logger.info("testOldView: now issuing 3 rounds of heartbeats/checks and expecting a TOPOLOGY_CHANGED then");
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  assertEquals(3,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
  PrivateAccessor.setField(instance1.getHeartbeatHandler(),"votingHandler",null);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  for (int i=0; i < 8; i++) {
    instance1.getHeartbeatHandler().heartbeatAndCheckView();
    Thread.sleep(500);
  }
  assertEquals(4,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.voting.VotingHandlerTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVotingYesTwoNodes() throws Exception {
  VotingView voting=newVoting(slingId2,slingId1,slingId2);
  assertNotNull(voting);
  heartbeat(slingId1);
  heartbeat(slingId2);
  VirtualInstanceHelper.dumpRepo(factory);
  votingHandler1.activate(null);
  Map<VotingView,VotingDetail> result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.WINNING,result.values().iterator().next());
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.WINNING,result.values().iterator().next());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testActivateDeactivate() throws Exception {
  assertFalse((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
  votingHandler1.activate(null);
  assertTrue((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
  votingHandler1.deactivate();
  assertFalse((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVotingYesFiveNodes() throws Exception {
  VotingView voting=newVoting(slingId2,slingId1,slingId2,slingId3,slingId4,slingId5);
  assertNotNull(voting);
  heartbeat(slingId1);
  heartbeat(slingId2);
  heartbeat(slingId3);
  heartbeat(slingId4);
  heartbeat(slingId5);
  VirtualInstanceHelper.dumpRepo(factory);
  votingHandler1.activate(null);
  Map<VotingView,VotingDetail> result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.UNCHANGED,result.values().iterator().next());
  votingHandler3.activate(null);
  result=votingHandler3.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler3.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.UNCHANGED,result.values().iterator().next());
  votingHandler4.activate(null);
  result=votingHandler4.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler4.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.UNCHANGED,result.values().iterator().next());
  votingHandler5.activate(null);
  result=votingHandler5.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler5.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.WINNING,result.values().iterator().next());
  votingHandler2.activate(null);
  result=votingHandler2.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.PROMOTED,result.values().iterator().next());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPromotion() throws Exception {
  VotingView voting=newVoting(slingId1,slingId1);
  assertNotNull(voting);
  VirtualInstanceHelper.dumpRepo(factory);
  votingHandler1.activate(null);
  Map<VotingView,VotingDetail> result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.PROMOTED,result.values().iterator().next());
  result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(0,result.size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTimedout() throws Exception {
  config.setHeartbeatTimeout(1);
  VotingView voting=newVoting(slingId1,slingId1);
  assertNotNull(voting);
  Thread.sleep(1200);
  votingHandler1.activate(null);
  Map<VotingView,VotingDetail> result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.TIMEDOUT,result.values().iterator().next());
  result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(0,result.size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVotingYesThreeNodes() throws Exception {
  VotingView voting=newVoting(slingId2,slingId1,slingId2,slingId3);
  assertNotNull(voting);
  heartbeat(slingId1);
  heartbeat(slingId2);
  heartbeat(slingId3);
  VirtualInstanceHelper.dumpRepo(factory);
  votingHandler1.activate(null);
  Map<VotingView,VotingDetail> result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.VOTED_YES,result.values().iterator().next());
  result=votingHandler1.analyzeVotings(resourceResolver);
  assertNotNull(result);
  assertEquals(1,result.size());
  assertEquals(VotingDetail.UNCHANGED,result.values().iterator().next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.common.heartbeat.HeartbeatTest </h4><pre class="type-15 type-11 type-12 type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * SLING-5027 : test to reproduce the voting loop
 * (and verify that it's fixed)
 */
@Test public void testVotingLoop() throws Throwable {
  logger.info("testVotingLoop: creating slowMachine1...");
  FullJR2VirtualInstanceBuilder slowBuilder1=newBuilder();
  slowBuilder1.setDebugName("slow1").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance slowMachine1=slowBuilder1.fullBuild();
  instances.add(slowMachine1);
  SimpleTopologyEventListener slowListener1=new SimpleTopologyEventListener("slow1");
  slowMachine1.bindTopologyEventListener(slowListener1);
  logger.info("testVotingLoop: creating slowMachine2...");
  FullJR2VirtualInstanceBuilder slowBuilder2=newBuilder();
  slowBuilder2.setDebugName("slow2").useRepositoryOf(slowMachine1).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance slowMachine2=slowBuilder2.fullBuild();
  instances.add(slowMachine2);
  SimpleTopologyEventListener slowListener2=new SimpleTopologyEventListener("slow2");
  slowMachine2.bindTopologyEventListener(slowListener2);
  logger.info("testVotingLoop: creating fastMachine...");
  FullJR2VirtualInstanceBuilder fastBuilder=newBuilder();
  fastBuilder.setDebugName("fast").useRepositoryOf(slowMachine1).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance fastMachine=fastBuilder.fullBuild();
  instances.add(fastMachine);
  SimpleTopologyEventListener fastListener=new SimpleTopologyEventListener("fast");
  fastMachine.bindTopologyEventListener(fastListener);
  HeartbeatHandler hhSlow1=slowMachine1.getHeartbeatHandler();
  HeartbeatHandler hhSlow2=slowMachine2.getHeartbeatHandler();
  HeartbeatHandler hhFast=fastMachine.getHeartbeatHandler();
  Thread.sleep(1000);
  logger.info("testVotingLoop: after some initial 1sec sleep no event should yet have been sent");
  assertFalse(fastMachine.getDiscoveryService().getTopology().isCurrent());
  assertFalse(slowMachine1.getDiscoveryService().getTopology().isCurrent());
  assertFalse(slowMachine2.getDiscoveryService().getTopology().isCurrent());
  assertNull(fastListener.getLastEvent());
  assertNull(slowListener1.getLastEvent());
  assertNull(slowListener2.getLastEvent());
  logger.info("testVotingLoop: stopping voting of slowMachine1...");
  slowMachine1.stopVoting();
  logger.info("testVotingLoop: letting slow1, slow2 and fast all issue 1 heartbeat");
  hhSlow1.issueHeartbeat();
  hhSlow2.issueHeartbeat();
  hhFast.issueHeartbeat();
  logger.info("testVotingLoop: let the fast one do a checkView, thus initiate a voting");
  hhFast.doCheckView();
  Calendar previousVotedAt=null;
  for (int i=0; i < 5; i++) {
    logger.info("testVotingLoop: sleeping 1sec...");
    Thread.sleep(1000);
    logger.info("testVotingLoop: check to see that there is no voting loop...");
    ResourceResolverFactory factory=fastMachine.getResourceResolverFactory();
    ResourceResolver resourceResolver=factory.getAdministrativeResourceResolver(null);
    try {
      List<VotingView> ongoingVotings=VotingHelper.listOpenNonWinningVotings(resourceResolver,fastMachine.getFullConfig());
      assertNotNull(ongoingVotings);
      assertEquals(1,ongoingVotings.size());
      VotingView ongoingVote=ongoingVotings.get(0);
      assertFalse(ongoingVote.isWinning());
      assertFalse(ongoingVote.hasVotedYes(slowMachine1.getSlingId()));
      assertTrue(ongoingVote.hasVotedYes(slowMachine2.getSlingId()));
      final Resource memberResource=ongoingVote.getResource().getChild("members").getChild(slowMachine2.getSlingId());
      final ModifiableValueMap memberMap=memberResource.adaptTo(ModifiableValueMap.class);
      Property vote=(Property)memberMap.get("vote");
      assertEquals(Boolean.TRUE,vote.getBoolean());
      Property votedAt=(Property)memberMap.get("votedAt");
      if (previousVotedAt == null) {
        previousVotedAt=votedAt.getDate();
      }
 else {
        assertEquals(previousVotedAt,votedAt.getDate());
      }
    }
 catch (    Exception e) {
      resourceResolver.close();
      fail("Exception: " + e);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.common.resource.ResourceHelperWithoutJcrTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test moveResource method that normally relies to a JCR move operation without JCR = fallback to resource API.
 * @throws PersistenceException
 */
@Test public void testMoveResource() throws PersistenceException {
  Resource source=context.create().resource("/content/path1",VALUEMAP_1);
  context.create().resource("/content/path1/child1",VALUEMAP_1);
  context.create().resource("/content/path1/child1/child11",VALUEMAP_1);
  context.create().resource("/content/path1/child1/child12",VALUEMAP_2);
  context.create().resource("/content/path1/child2",VALUEMAP_2);
  ResourceHelper.moveResource(source,"/content/path2");
  assertNull(context.resourceResolver().getResource("/content/path1"));
  Resource target=context.resourceResolver().getResource("/content/path2");
  Resource target1=context.resourceResolver().getResource("/content/path2/child1");
  Resource target11=context.resourceResolver().getResource("/content/path2/child1/child11");
  Resource target12=context.resourceResolver().getResource("/content/path2/child1/child12");
  Resource target2=context.resourceResolver().getResource("/content/path2/child2");
  assertEquals(VALUEMAP_1,ResourceUtil.getValueMap(target));
  assertEquals(VALUEMAP_1,ResourceUtil.getValueMap(target1));
  assertEquals(VALUEMAP_1,ResourceUtil.getValueMap(target11));
  assertEquals(VALUEMAP_2,ResourceUtil.getValueMap(target12));
  assertEquals(VALUEMAP_2,ResourceUtil.getValueMap(target2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.standalone.NoClusterDiscoveryServiceTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasics() throws Exception {
  final DiscoveryService service=this.createService(true);
  assertNotNull(service.getTopology());
  assertTrue(service.getTopology().isCurrent());
  invoke(service,"deactivate");
  assertNull(service.getTopology());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.oak.OakDiscoveryServiceTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDescriptorSeqNumChange() throws Exception {
  logger.info("testDescriptorSeqNumChange: start");
  OakVirtualInstanceBuilder builder1=(OakVirtualInstanceBuilder)new OakVirtualInstanceBuilder().setDebugName("instance1").newRepository("/foo/barry/foo/",true).setConnectorPingInterval(999).setConnectorPingTimeout(999);
  VirtualInstance instance1=builder1.build();
  OakVirtualInstanceBuilder builder2=(OakVirtualInstanceBuilder)new OakVirtualInstanceBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingInterval(999).setConnectorPingTimeout(999);
  VirtualInstance instance2=builder2.build();
  logger.info("testDescriptorSeqNumChange: created both instances, binding listener...");
  DummyListener listener=new DummyListener();
  OakDiscoveryService discoveryService=(OakDiscoveryService)instance1.getDiscoveryService();
  discoveryService.bindTopologyEventListener(listener);
  logger.info("testDescriptorSeqNumChange: waiting 2sec, listener should not get anything yet");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(0,listener.countEvents());
  logger.info("testDescriptorSeqNumChange: issuing 2 heartbeats with each instance should let the topology get established");
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  logger.info("testDescriptorSeqNumChange: listener should get an event within 2sec from now at latest");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  ResourceResolverFactory factory=instance1.getResourceResolverFactory();
  ResourceResolver resolver=factory.getAdministrativeResourceResolver(null);
  instance1.heartbeatsAndCheckView();
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  SimulatedLeaseCollection c=builder1.getSimulatedLeaseCollection();
  c.incSeqNum(2);
  logger.info("testDescriptorSeqNumChange: incremented seqnum by 2 - issuing another heartbeat should trigger a topology change");
  instance1.heartbeatsAndCheckView();
  logger.info("testDescriptorSeqNumChange: sleeping 2sec for topology change to happen");
  Thread.sleep(2000);
  logger.info("testDescriptorSeqNumChange: ensuring no async events are still in the pipe - for another 2sec");
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  logger.info("testDescriptorSeqNumChange: now listener should have received 3 events, it got: " + listener.countEvents());
  assertEquals(3,listener.countEvents());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBindBeforeActivate() throws Exception {
  OakVirtualInstanceBuilder builder=(OakVirtualInstanceBuilder)new OakVirtualInstanceBuilder().setDebugName("test").newRepository("/foo/bar",true);
  String slingId=UUID.randomUUID().toString();
  ;
  DiscoveryLiteDescriptorBuilder discoBuilder=new DiscoveryLiteDescriptorBuilder();
  discoBuilder.id("id").me(1).activeIds(1);
  discoBuilder.setFinal(false);
  DescriptorHelper.setDiscoveryLiteDescriptor(builder.getResourceResolverFactory(),discoBuilder);
  IdMapService idMapService=IdMapService.testConstructor(new SimpleCommonsConfig(1000,-1),new DummySlingSettingsService(slingId),builder.getResourceResolverFactory());
  assertTrue(idMapService.waitForInit(2000));
  OakDiscoveryService discoveryService=(OakDiscoveryService)builder.getDiscoverService();
  assertNotNull(discoveryService);
  DummyListener listener=new DummyListener();
  for (int i=0; i < 100; i++) {
    discoveryService.bindTopologyEventListener(listener);
    discoveryService.unbindTopologyEventListener(listener);
  }
  discoveryService.bindTopologyEventListener(listener);
  assertEquals(0,listener.countEvents());
  discoveryService.activate(null);
  assertEquals(0,listener.countEvents());
  discoveryService.unbindTopologyEventListener(listener);
  discoveryService.bindTopologyEventListener(listener);
  discoBuilder.setFinal(true);
  DescriptorHelper.setDiscoveryLiteDescriptor(builder.getResourceResolverFactory(),discoBuilder);
  discoveryService.checkForTopologyChange();
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  discoveryService.unbindTopologyEventListener(listener);
  assertEquals(1,listener.countEvents());
  discoveryService.bindTopologyEventListener(listener);
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(2,listener.countEvents());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.oak.its.OakDiscoveryServiceTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the not-current view returned by getTopology()
 * matches what listeners get in TOPOLOGY_CHANGING - it should
 * basically be the same.
 */
@Test public void testOldView() throws Throwable {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.INFO);
  OakVirtualInstanceBuilder builder=newBuilder();
  builder.setDebugName("firstInstanceA").newRepository("/var/discovery/oak/",true).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance1=builder.build();
  instance1.stopViewChecker();
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  logger.info("testOldView: instance1 created, no events expected yet. slingId=" + instance1.slingId);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  logger.info("testOldView: 2nd/3rd heartbeat sent - now expecting a TOPOLOGY_INIT");
  instance1.dumpRepo();
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  logger.info("testOldView: creating instance2");
  builder.getSimulatedLeaseCollection().setFinal(false);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  VirtualInstanceBuilder builder2=newBuilder();
  builder2.setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance2=builder2.build();
  instance2.stopViewChecker();
  logger.info("testOldView: instance2 created, now issuing one heartbeat with instance2 first, so that instance1 can take note of it");
  instance2.getViewChecker().checkView();
  OakDiscoveryService oakDisco1=(OakDiscoveryService)instance2.getDiscoveryService();
  oakDisco1.checkForTopologyChange();
  logger.info("testOldView: now instance1 is also doing a heartbeat and should see that a new instance is there");
  instance1.getViewChecker().checkView();
  OakDiscoveryService oakDisco2=(OakDiscoveryService)instance1.getDiscoveryService();
  oakDisco2.checkForTopologyChange();
  logger.info("testOldView: 500ms sleep...");
  Thread.sleep(500);
  logger.info("testOldView: 500ms sleep done.");
  assertEquals(2,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  builder.getSimulatedLeaseCollection().setFinal(true);
  l1.addExpected(Type.TOPOLOGY_CHANGED);
  logger.info("testOldView: now issuing 3 rounds of heartbeats/checks and expecting a TOPOLOGY_CHANGED then");
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  assertEquals(3,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
  builder.getSimulatedLeaseCollection().setFinal(false);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  for (int i=0; i < 8; i++) {
    instance1.heartbeatsAndCheckView();
    Thread.sleep(500);
  }
  assertEquals(4,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.agent.impl.SimpleDistributionAgentTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDistributionWithDisallowedRoot() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy queueDistributionStrategy=mock(DistributionQueueDispatchingStrategy.class);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(queueDistributionStrategy.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.QUEUED,"default")));
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,queueDistributionStrategy,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,new String[]{"/content"},0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/home");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  when(distributionPackage.getInfo()).thenReturn(packageInfo);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  queueDistributionStrategy.add(distributionPackage,queueProvider);
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertFalse(response.isSuccessful());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDistributionWithAllowedRoot() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy queueDistributionStrategy=mock(DistributionQueueDispatchingStrategy.class);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(queueDistributionStrategy.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.QUEUED,"default")));
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,queueDistributionStrategy,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,new String[]{"/content"},0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/content");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  when(distributionPackage.getInfo()).thenReturn(packageInfo);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  queueDistributionStrategy.add(distributionPackage,queueProvider);
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertTrue(response.isSuccessful());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDistributionWithWorkingDistributionStrategy() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy distributionHandler=mock(DistributionQueueDispatchingStrategy.class);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"subServiceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,distributionHandler,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,null,0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  when(distributionPackage.getInfo()).thenReturn(new DistributionPackageInfo("type"));
  Iterable<DistributionQueueItemStatus> states=Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.QUEUED,DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME));
  when(distributionHandler.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(states);
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertNotNull(response);
  assertEquals("[QUEUED]",response.getMessage());
  assertEquals(DistributionRequestState.ACCEPTED,response.getState());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetExistingNamedQueue() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy authorizationStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy dispatchingStrategy=mock(DistributionQueueDispatchingStrategy.class);
  when(dispatchingStrategy.getQueueNames()).thenReturn(Arrays.asList(new String[]{"priority"}));
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,authorizationStrategy,queueProvider,dispatchingStrategy,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,null,0);
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queueProvider.getQueue("priority")).thenReturn(queue);
  assertNotNull(agent.getQueue("priority"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDistributionWithFailingDistributionStrategy() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy distributionHandler=mock(DistributionQueueDispatchingStrategy.class);
  Iterable<DistributionQueueItemStatus> states=Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.ERROR,DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME));
  when(distributionHandler.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(states);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,distributionHandler,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,null,0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  when(distributionPackage.getInfo()).thenReturn(new DistributionPackageInfo("type"));
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertNotNull(response);
  assertEquals("[ERROR]",response.getMessage());
  assertEquals(DistributionRequestState.DROPPED,response.getState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.it.MultipleForwardDistributionTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAddContentCheckPassiveQueue() throws Exception {
  String nodePath=createRandomNode(authorClient,"/content/forward_add_" + System.nanoTime());
  assertExists(authorClient,nodePath);
  distribute(author,"publish-multiple",DistributionRequestType.ADD,nodePath);
  assertExists(publishClient,nodePath);
{
    JSONObject json=getResource(author,queueUrl("publish-multiple") + "/passivequeue1");
    JSONArray queueItems=json.getJSONArray("items");
    assertEquals(1,queueItems.length());
    assertEquals(1,json.get("itemsCount"));
  }
  String content=doExport(author,"publish-multiple-passivequeue1",DistributionRequestType.PULL,null);
{
    JSONObject json=getResource(author,queueUrl("publish-multiple") + "/passivequeue1");
    JSONArray queueItems=json.getJSONArray("items");
    assertEquals(0,queueItems.length());
    assertEquals(0,json.get("itemsCount"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.monitor.DistributionQueueHealthCheckTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithOneOkItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem item=mock(DistributionQueueItem.class);
  DistributionQueueItemStatus status=mock(DistributionQueueItemStatus.class);
  when(status.getAttempts()).thenReturn(1);
  when(queue.getItem(any(String.class))).thenReturn(new DistributionQueueEntry(item,status));
  when(queue.getHead()).thenReturn(new DistributionQueueEntry(item,status));
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNotOkItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem item=mock(DistributionQueueItem.class);
  DistributionQueueItemStatus status=mock(DistributionQueueItemStatus.class);
  when(status.getAttempts()).thenReturn(10);
  when(queue.getItem(any(String.class))).thenReturn(new DistributionQueueEntry(item,status));
  when(queue.getHead()).thenReturn(new DistributionQueueEntry(item,status));
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertFalse(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNoDistributionQueueProvider() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNoItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queue.getHead()).thenReturn(null);
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.PriorityQueueDispatchingStrategyTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueueExpansion() throws Exception {
  PriorityQueueDispatchingStrategy dispatchingStrategy=new PriorityQueueDispatchingStrategy(selectors,queueNames);
  List<String> queues=dispatchingStrategy.getQueueNames();
  assertEquals(7,queues.size());
  assertTrue(queues.contains("publish1"));
  assertTrue(queues.contains("news-publish1"));
  assertTrue(queues.contains("publish2"));
  assertTrue(queues.contains("news-publish2"));
  assertTrue(queues.contains("notes-publish1"));
  assertTrue(queues.contains("important-publish1"));
  assertTrue(queues.contains("important-publish2"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPathQueueMatching() throws Exception {
  PriorityQueueDispatchingStrategy dispatchingStrategy=new PriorityQueueDispatchingStrategy(selectors,queueNames);
  Map<String,String> matchedQueues=dispatchingStrategy.getMatchingQueues(new String[]{"/content/news/a"});
  assertEquals(2,matchedQueues.size());
  assertEquals("publish1",matchedQueues.get("news-publish1"));
  assertEquals("publish2",matchedQueues.get("news-publish2"));
  matchedQueues=dispatchingStrategy.getMatchingQueues(new String[]{"/content/notes"});
  assertEquals(1,matchedQueues.size());
  assertEquals("publish1",matchedQueues.get("notes-publish1"));
  matchedQueues=dispatchingStrategy.getMatchingQueues(new String[]{"/content/notes/a"});
  assertEquals(0,matchedQueues.size());
  matchedQueues=dispatchingStrategy.getMatchingQueues(new String[]{"/content/other"});
  assertEquals(0,matchedQueues.size());
  matchedQueues=dispatchingStrategy.getMatchingQueues(new String[]{"/content/important"});
  assertEquals(2,matchedQueues.size());
  assertEquals("publish1",matchedQueues.get("important-publish1"));
  assertEquals("publish2",matchedQueues.get("important-publish2"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testQueueMatching() throws Exception {
  PriorityQueueDispatchingStrategy dispatchingStrategy=new PriorityQueueDispatchingStrategy(selectors,queueNames);
  Map<String,String> matchedQueues=dispatchingStrategy.getMatchingQueues(null);
  assertEquals(5,matchedQueues.size());
  assertEquals("publish1",matchedQueues.get("news-publish1"));
  assertEquals("publish1",matchedQueues.get("notes-publish1"));
  assertEquals("publish2",matchedQueues.get("news-publish2"));
  assertEquals("publish1",matchedQueues.get("important-publish1"));
  assertEquals("publish2",matchedQueues.get("important-publish2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.SingleQueueDistributionStrategyTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithFailingItemDelivery() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem queueItem=mock(DistributionQueueItem.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(queueItem)).thenReturn(new DistributionQueueEntry(queueItem,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithNotNullItemStateFromTheQueue() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(any(DistributionQueueItem.class))).thenReturn(new DistributionQueueEntry(null,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithSucceedingItemDelivery() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(any(DistributionQueueItem.class))).thenReturn(new DistributionQueueEntry(null,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.jobhandling.DistributionAgentJobConsumerTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJobWithSuccessfulAgent() throws Exception {
  DistributionQueueProcessor queueProcessor=mock(DistributionQueueProcessor.class);
  when(queueProcessor.process(anyString(),any(DistributionQueueEntry.class))).thenReturn(true);
  DistributionAgentJobConsumer distributionAgentJobConsumer=new DistributionAgentJobConsumer(queueProcessor);
  Job job=mock(Job.class);
  JobConsumer.JobResult jobResult=distributionAgentJobConsumer.process(job);
  assertEquals(JobConsumer.JobResult.OK,jobResult);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJobWithUnsuccessfulAgent() throws Exception {
  DistributionQueueProcessor queueProcessor=mock(DistributionQueueProcessor.class);
  when(queueProcessor.process(anyString(),any(DistributionQueueEntry.class))).thenReturn(false);
  DistributionAgentJobConsumer distributionAgentJobConsumer=new DistributionAgentJobConsumer(queueProcessor);
  Job job=mock(Job.class);
  JobConsumer.JobResult jobResult=distributionAgentJobConsumer.process(job);
  assertEquals(JobConsumer.JobResult.FAILED,jobResult);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.jobhandling.JobHandlingDistributionQueueProviderTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetOrCreateNamedQueue() throws Exception {
  JobManager jobManager=mock(JobManager.class);
  BundleContext context=mock(BundleContext.class);
  JobHandlingDistributionQueueProvider jobHandlingdistributionQueueProvider=new JobHandlingDistributionQueueProvider("dummy-agent",jobManager,context);
  DistributionQueue queue=jobHandlingdistributionQueueProvider.getQueue("default");
  assertNotNull(queue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.jobhandling.JobHandlingDistributionQueueTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPackageAddition() throws Exception {
  JobManager jobManager=mock(JobManager.class);
  JobBuilder builder=mock(JobBuilder.class);
  when(builder.properties(any(Map.class))).thenReturn(builder);
  Job job=mock(Job.class);
  when(job.getId()).thenReturn("id-123");
  when(builder.add()).thenReturn(job);
  String topic=JobHandlingDistributionQueue.DISTRIBUTION_QUEUE_TOPIC + "/aname";
  when(jobManager.createJob(topic)).thenReturn(builder);
  when(jobManager.findJobs(JobManager.QueryType.ALL,topic,-1)).thenReturn(Collections.<Job>emptySet());
  when(builder.properties(any(Map.class))).thenReturn(builder);
  DistributionQueue queue=new JobHandlingDistributionQueue("aname",topic,jobManager,true);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/foo"});
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  DistributionQueueItem distributionQueueItem=new DistributionQueueItem("an-id",packageInfo);
  assertNotNull(queue.add(distributionQueueItem));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testPackageAdditionAndStatusCheck() throws Exception {
  JobManager jobManager=mock(JobManager.class);
  JobBuilder builder=mock(JobBuilder.class);
  when(builder.properties(any(Map.class))).thenReturn(builder);
  Job job=mock(Job.class);
  when(job.getId()).thenReturn("id-123");
  when(builder.add()).thenReturn(job);
  String topic=JobHandlingDistributionQueue.DISTRIBUTION_QUEUE_TOPIC + "/aname";
  when(jobManager.createJob(topic)).thenReturn(builder);
  when(jobManager.getJob(anyString(),anyMap())).thenReturn(job);
  when(builder.properties(any(Map.class))).thenReturn(builder);
  DistributionQueue queue=new JobHandlingDistributionQueue("aname",topic,jobManager,true);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/foo"});
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  DistributionQueueItem distributionQueueItem=new DistributionQueueItem("an-id",packageInfo);
  assertNotNull(queue.add(distributionQueueItem));
  DistributionQueueItemStatus status=queue.getItem(distributionQueueItem.getId()).getStatus();
  assertNotNull(status);
  assertEquals(DistributionQueueItemState.QUEUED,status.getItemState());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.jobhandling.JobHandlingUtilsTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFullPropertiesFromPackageCreation() throws Exception {
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("vlt");
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/foo"});
  packageInfo.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  packageInfo.put(DistributionPackageInfo.PROPERTY_PACKAGE_TYPE,"vlt");
  DistributionQueueItem queueItem=new DistributionQueueItem("an-id",packageInfo);
  Map<String,Object> fullPropertiesFromPackage=JobHandlingUtils.createFullProperties(queueItem);
  assertNotNull(fullPropertiesFromPackage);
  assertEquals(4,fullPropertiesFromPackage.size());
  assertNotNull(fullPropertiesFromPackage.get("distribution.request.paths"));
  assertNotNull(fullPropertiesFromPackage.get("distribution.item.id"));
  assertNotNull(fullPropertiesFromPackage.get("distribution.package.type"));
  assertNotNull(fullPropertiesFromPackage.get("distribution.request.type"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testIdPropertiesFromPackageCreation() throws Exception {
  DistributionQueueItem distributionPackage=mock(DistributionQueueItem.class);
  when(distributionPackage.getId()).thenReturn("an-id");
  Map<String,Object> idPropertiesFromPackage=JobHandlingUtils.createIdProperties(distributionPackage.getId());
  assertNotNull(idPropertiesFromPackage);
  assertEquals(1,idPropertiesFromPackage.size());
  assertNotNull(idPropertiesFromPackage.get("distribution.item.id"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.simple.SimpleDistributionQueueProviderTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetOrCreateQueue() throws Exception {
  SimpleDistributionQueueProvider simpledistributionQueueProvider=new SimpleDistributionQueueProvider(mock(Scheduler.class),"agentName");
  DistributionQueue queue=simpledistributionQueueProvider.getQueue("default");
  assertNotNull(queue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.simple.SimpleDistributionQueueTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionAndRemoval() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  when(pkg.getId()).thenReturn("id");
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
  assertNotNull(queue.remove(pkg.getId()));
  assertTrue(queue.getStatus().isEmpty());
  DistributionQueueEntry entry=queue.getItem(pkg.getId());
  assertNull(entry);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAddition() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionRetrievalAndRemoval() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  when(pkg.getId()).thenReturn("id");
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
  assertEquals(pkg,queue.getHead().getItem());
  assertFalse(queue.getStatus().isEmpty());
  DistributionQueueItemStatus status=queue.getItem(pkg.getId()).getStatus();
  assertNotNull(queue.remove(pkg.getId()));
  assertTrue(queue.getStatus().isEmpty());
  assertNotNull(status);
  assertEquals(1,status.getAttempts());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.SimpleDistributionPackageTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreatedAndReadPackagesEquality() throws Exception {
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.DELETE,"/abc");
  SimpleDistributionPackage createdPackage=new SimpleDistributionPackage(request,"VOID");
  SimpleDistributionPackage readPackage=SimpleDistributionPackage.fromStream(new ByteArrayInputStream(("DSTRPCK:DELETE|/abc").getBytes()),"VOID");
  assertEquals(createdPackage.getType(),readPackage.getType());
  assertEquals(createdPackage.getInfo().getRequestType(),readPackage.getInfo().getRequestType());
  assertEquals(Arrays.toString(createdPackage.getInfo().getPaths()),Arrays.toString(readPackage.getInfo().getPaths()));
  assertEquals(createdPackage.getId(),readPackage.getId());
  assertTrue(IOUtils.contentEquals(createdPackage.createInputStream(),readPackage.createInputStream()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.avro.AvroDistributionPackageBuilderTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCreatePackage() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/libs");
  DistributionPackage avroPackage=avroDistributionPackageBuilder.createPackage(resourceResolver,request);
  assertNotNull(avroPackage);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetPackage() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  DistributionPackage aPackage=avroDistributionPackageBuilder.getPackage(resourceResolver,getClass().getResource("/avro/dp.avro").getFile());
  assertNotNull(aPackage);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testReadPackage() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  InputStream stream=getClass().getResourceAsStream("/avro/dp.avro");
  DistributionPackage distributionPackage=avroDistributionPackageBuilder.readPackage(resourceResolver,stream);
  assertNotNull(distributionPackage);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackage() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  File f=new File(getClass().getResource("/avro/dp.avro").getFile());
  DistributionPackage distributionPackage=new FileDistributionPackage(f,"avro");
  boolean success=avroDistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageLifecycle() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  DistributionPackage distributionPackage=avroDistributionPackageBuilder.createPackage(resourceResolver,new DistributionRequest(){
    @Nonnull public DistributionRequestType getRequestType(){
      return DistributionRequestType.ADD;
    }
    public String[] getPaths(){
      return new String[]{"/libs"};
    }
    public boolean isDeep(    String path){
      return false;
    }
    @Nonnull @Override public String[] getFilters(    String path){
      return new String[0];
    }
  }
);
  assertNotNull(distributionPackage);
  DistributionPackage readPackage=avroDistributionPackageBuilder.readPackage(resourceResolver,distributionPackage.createInputStream());
  assertTrue(avroDistributionPackageBuilder.installPackage(resourceResolver,readPackage));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.kryo.KryoResourceDistributionPackageBuilderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageLifecycle() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  DistributionPackage kryoPackage=kryoResourceDistributionPackageBuilder.createPackage(resourceResolver,new DistributionRequest(){
    @Nonnull public DistributionRequestType getRequestType(){
      return DistributionRequestType.ADD;
    }
    public String[] getPaths(){
      return new String[]{"/libs"};
    }
    public boolean isDeep(    String path){
      return true;
    }
    @Nonnull @Override public String[] getFilters(    String path){
      return new String[0];
    }
  }
);
  assertNotNull(kryoPackage);
  DistributionPackage readPackage=kryoResourceDistributionPackageBuilder.readPackage(resourceResolver,kryoPackage.createInputStream());
  assertTrue(kryoResourceDistributionPackageBuilder.installPackage(resourceResolver,readPackage));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testReadPackage() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  InputStream stream=getClass().getResourceAsStream("/kryo/dp.kryo");
  DistributionPackage distributionPackage=kryoResourceDistributionPackageBuilder.readPackage(resourceResolver,stream);
  assertNotNull(distributionPackage);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackage() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  File file=new File(getClass().getResource("/kryo/dp.kryo").getFile());
  DistributionPackage distributionPackage=new FileDistributionPackage(file,"kryo");
  boolean succes=kryoResourceDistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(succes);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCreatePackage() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  DistributionPackage kryoPackage=kryoResourceDistributionPackageBuilder.createPackage(resourceResolver,new DistributionRequest(){
    @Nonnull public DistributionRequestType getRequestType(){
      return DistributionRequestType.ADD;
    }
    public String[] getPaths(){
      return new String[]{"/libs"};
    }
    public boolean isDeep(    String path){
      return true;
    }
    @Nonnull @Override public String[] getFilters(    String path){
      return new String[0];
    }
  }
);
  assertNotNull(kryoPackage);
  assertNotNull(kryoPackage.getInfo());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetPackage() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  InputStream stream=getClass().getResourceAsStream("/kryo/dp.kryo");
  DistributionPackage distributionPackage=kryoResourceDistributionPackageBuilder.getPackage(resourceResolver,getClass().getResource("/kryo/dp.kryo").getFile());
  assertNotNull(distributionPackage);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.vlt.FileVaultDistributionPackageBuilderTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetPackageInternalWithNonExistingId() throws Exception {
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,null,null,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  String id="some-id";
  DistributionPackage packageInternal=fileVaultdistributionPackageBuilder.getPackageInternal(resourceResolver,id);
  assertNull(packageInternal);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackageInternal() throws Exception {
  File tempFile=File.createTempFile("testInstallPackageInternal","txt");
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  VaultPackage vaultPackage=mock(VaultPackage.class);
  when(packageManager.open(tempFile)).thenReturn(vaultPackage);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,null,null,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  Session session=mock(Session.class);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  when(distributionPackage.getId()).thenReturn(tempFile.getAbsolutePath());
  when(distributionPackage.getType()).thenReturn("filevlt");
  DistributionPackageInfo info=new DistributionPackageInfo("filevlt");
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/something"});
  when(distributionPackage.getInfo()).thenReturn(info);
  boolean success=fileVaultdistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCreatePackageForAdd() throws Exception {
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=mock(File.class);
  when(file.getAbsolutePath()).thenReturn("/path/to/file");
  when(vaultPackage.getFile()).thenReturn(file);
  MetaInf inf=mock(MetaInf.class);
  when(vaultPackage.getMetaInf()).thenReturn(inf);
  when(packageManager.assemble(any(Session.class),any(ExportOptions.class),any(File.class))).thenReturn(vaultPackage);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  Session session=mock(Session.class);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,null,null,null,null,null,false);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  DistributionPackage distributionPackage=fileVaultdistributionPackageBuilder.createPackageForAdd(resourceResolver,request);
  assertNotNull(distributionPackage);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallWithCustomImportModeAndACLHandling() throws Exception {
  File tempFile=File.createTempFile("testInstallPackageInternal","txt");
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  VaultPackage vaultPackage=mock(VaultPackage.class);
  when(packageManager.open(tempFile)).thenReturn(vaultPackage);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,ImportMode.MERGE,AccessControlHandling.MERGE,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  Session session=mock(Session.class);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  when(distributionPackage.getId()).thenReturn(tempFile.getAbsolutePath());
  when(distributionPackage.getType()).thenReturn("filevlt");
  DistributionPackageInfo info=new DistributionPackageInfo("filevlt");
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/something"});
  when(distributionPackage.getInfo()).thenReturn(info);
  boolean success=fileVaultdistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.vlt.FileVaultDistributionPackageTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetType() throws Exception {
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=mock(File.class);
  when(file.getAbsolutePath()).thenReturn("/path/to/file.txt");
  when(vaultPackage.getFile()).thenReturn(file);
  FileVaultDistributionPackage fileVaultdistributionPackage=new FileVaultDistributionPackage("filevlt",vaultPackage);
  assertNotNull(fileVaultdistributionPackage.getType());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetRequestType() throws Exception {
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=mock(File.class);
  when(file.getAbsolutePath()).thenReturn("/path/to/file.txt");
  when(vaultPackage.getFile()).thenReturn(file);
  FileVaultDistributionPackage fileVaultdistributionPackage=new FileVaultDistributionPackage("filevlt",vaultPackage);
  assertNotNull(fileVaultdistributionPackage.getInfo().getRequestType());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCreateInputStream() throws Exception {
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=File.createTempFile("sample","txt");
  when(vaultPackage.getFile()).thenReturn(file);
  FileVaultDistributionPackage fileVaultdistributionPackage=new FileVaultDistributionPackage("filevlt",vaultPackage);
  assertNotNull(fileVaultdistributionPackage.createInputStream());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetId() throws Exception {
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=mock(File.class);
  when(file.getAbsolutePath()).thenReturn("/path/to/file.txt");
  when(vaultPackage.getFile()).thenReturn(file);
  FileVaultDistributionPackage fileVaultdistributionPackage=new FileVaultDistributionPackage("filevlt",vaultPackage);
  assertNotNull(fileVaultdistributionPackage.getId());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetPaths() throws Exception {
  VaultPackage vaultPackage=mock(VaultPackage.class);
  File file=mock(File.class);
  when(file.getAbsolutePath()).thenReturn("/path/to/file.txt");
  when(vaultPackage.getFile()).thenReturn(file);
  FileVaultDistributionPackage fileVaultdistributionPackage=new FileVaultDistributionPackage("filevlt",vaultPackage);
  assertNull(fileVaultdistributionPackage.getInfo().getPaths());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.transport.impl.SimpleHttpDistributionTransportTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRetrievePackagesRemotelyWorking() throws Exception {
  DistributionTransportSecret secret=mock(DistributionTransportSecret.class);
  Map<String,String> credentialsMap=new HashMap<String,String>();
  credentialsMap.put("username","foo");
  credentialsMap.put("password","foo");
  when(secret.asCredentialsMap()).thenReturn(credentialsMap);
  DistributionTransportSecretProvider secretProvider=mock(DistributionTransportSecretProvider.class);
  when(secretProvider.getSecret(any(URI.class))).thenReturn(secret);
  Executor executor=mock(Executor.class);
  Response response=mock(Response.class);
  HttpResponse httpResponse=mock(HttpResponse.class);
  StatusLine statusLine=mock(StatusLine.class);
  when(statusLine.getStatusCode()).thenReturn(200);
  when(httpResponse.getStatusLine()).thenReturn(statusLine);
  HttpEntity entity=mock(HttpEntity.class);
  InputStream stream=new ByteArrayInputStream("package binary stuff".getBytes("UTF-8"));
  when(entity.getContent()).thenReturn(stream);
  when(httpResponse.getEntity()).thenReturn(entity);
  when(response.returnResponse()).thenReturn(httpResponse);
  when(executor.execute(any(Request.class))).thenReturn(response);
  DistributionEndpoint endpoint=new DistributionEndpoint("http://127.0.0.1:8080/some/resource");
  DistributionPackageBuilder packageBuilder=mock(DistributionPackageBuilder.class);
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  when(distributionPackage.getInfo()).thenReturn(new DistributionPackageInfo("type"));
  when(packageBuilder.readPackage(any(ResourceResolver.class),any(InputStream.class))).thenReturn(distributionPackage);
  SimpleHttpDistributionTransport simpleHttpDistributionTransport=new SimpleHttpDistributionTransport(mock(DefaultDistributionLog.class),endpoint,packageBuilder,secretProvider);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  DistributionRequest distributionRequest=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  DistributionPackageProxy retrievedPackage=simpleHttpDistributionTransport.retrievePackage(resourceResolver,distributionRequest,new DistributionTransportContext());
  assertNotNull(retrievedPackage);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRetrievePackagesRemotelyFailing() throws Exception {
  DistributionTransportSecret secret=mock(DistributionTransportSecret.class);
  Map<String,String> credentialsMap=new HashMap<String,String>();
  credentialsMap.put("username","foo");
  credentialsMap.put("password","foo");
  when(secret.asCredentialsMap()).thenReturn(credentialsMap);
  DistributionTransportSecretProvider secretProvider=mock(DistributionTransportSecretProvider.class);
  when(secretProvider.getSecret(any(URI.class))).thenReturn(secret);
  Executor executor=mock(Executor.class);
  Response response=mock(Response.class);
  HttpResponse httpResponse=mock(HttpResponse.class);
  StatusLine statusLine=mock(StatusLine.class);
  when(statusLine.getStatusCode()).thenReturn(404);
  when(httpResponse.getStatusLine()).thenReturn(statusLine);
  when(response.returnResponse()).thenReturn(httpResponse);
  when(executor.execute(any(Request.class))).thenReturn(response);
  DistributionEndpoint endpoint=new DistributionEndpoint("http://127.0.0.1:8080/some/resource");
  DistributionPackageBuilder packageBuilder=mock(DistributionPackageBuilder.class);
  SimpleHttpDistributionTransport simpleHttpDistributionTransport=new SimpleHttpDistributionTransport(mock(DefaultDistributionLog.class),endpoint,packageBuilder,secretProvider);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  DistributionRequest distributionRequest=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  DistributionPackageProxy retrievedPackage=simpleHttpDistributionTransport.retrievePackage(resourceResolver,distributionRequest,new DistributionTransportContext());
  assertNull(retrievedPackage);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.trigger.impl.JcrEventDistributionTriggerTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithPathProperty() throws Exception {
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  String path="/some/path";
  String serviceName="serviceId";
  JcrEventDistributionTrigger jcrEventdistributionTrigger=new JcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,null);
  Event event=mock(Event.class);
  when(event.getPath()).thenReturn("/some/path/generating/event");
  DistributionRequest distributionRequest=jcrEventdistributionTrigger.processEvent(event);
  assertNotNull(distributionRequest);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithoutPathProperty() throws Exception {
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  String path="/some/path";
  String serviceName="serviceId";
  JcrEventDistributionTrigger jcrEventdistributionTrigger=new JcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,null);
  Event event=mock(Event.class);
  DistributionRequest distributionRequest=jcrEventdistributionTrigger.processEvent(event);
  assertNull(distributionRequest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.trigger.impl.PersistingJcrEventDistributionTriggerTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithPrivilegesAndNoNuggetsNode() throws Exception {
  String nuggetsPath="/var/nuggets";
  String serviceName="serviceId";
  Session session=mock(Session.class);
  when(session.nodeExists("/var/nuggets")).thenReturn(false);
  when(session.nodeExists("/var/nuggets")).thenReturn(true);
  Node rootNode=mock(Node.class);
  Node varNode=mock(Node.class);
  Node nuggetsNode=mock(Node.class);
  when(varNode.addNode("nuggets","sling:Folder")).thenReturn(nuggetsNode);
  when(rootNode.addNode("var","sling:Folder")).thenReturn(varNode);
  when(session.getRootNode()).thenReturn(rootNode);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(session.hasPermission(any(String.class),eq(Session.ACTION_ADD_NODE))).thenReturn(true);
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(repository.loginService(serviceName,null)).thenReturn(session);
  String path="/some/path";
  PersistedJcrEventDistributionTrigger persistingJcrEventdistributionTrigger=new PersistedJcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,nuggetsPath);
  DistributionRequestHandler handler=mock(DistributionRequestHandler.class);
  persistingJcrEventdistributionTrigger.register(handler);
  Node eventNode=mock(Node.class);
  when(nuggetsNode.addNode(any(String.class),any(String.class))).thenReturn(eventNode);
  when(session.getNode(nuggetsPath)).thenReturn(nuggetsNode);
  Event event=mock(Event.class);
  when(event.getPath()).thenReturn("/some/path/generating/event");
  DistributionRequest distributionRequest=persistingJcrEventdistributionTrigger.processEvent(event);
  assertNotNull(distributionRequest);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithoutPrivileges() throws Exception {
  String serviceName="serviceId";
  Session session=mock(Session.class);
  when(session.nodeExists("/var/nuggets")).thenReturn(true);
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(repository.loginService(serviceName,null)).thenReturn(session);
  String path="/some/path";
  String nuggetsPath="/var/nuggets";
  PersistedJcrEventDistributionTrigger persistingJcrEventdistributionTrigger=new PersistedJcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,nuggetsPath);
  Event event=mock(Event.class);
  DistributionRequest distributionRequest=persistingJcrEventdistributionTrigger.processEvent(event);
  assertNull(distributionRequest);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithPrivileges() throws Exception {
  String nuggetsPath="/var/nuggets";
  String serviceName="serviceId";
  Session session=mock(Session.class);
  when(session.nodeExists("/var/nuggets")).thenReturn(true);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(session.hasPermission(nuggetsPath,Session.ACTION_ADD_NODE)).thenReturn(true);
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(repository.loginService(serviceName,null)).thenReturn(session);
  String path="/some/path";
  PersistedJcrEventDistributionTrigger persistingJcrEventdistributionTrigger=new PersistedJcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,nuggetsPath);
  DistributionRequestHandler handler=mock(DistributionRequestHandler.class);
  persistingJcrEventdistributionTrigger.register(handler);
  Node nuggetsNode=mock(Node.class);
  Node eventNode=mock(Node.class);
  when(nuggetsNode.addNode(any(String.class),any(String.class))).thenReturn(eventNode);
  when(session.getNode(nuggetsPath)).thenReturn(nuggetsNode);
  Event event=mock(Event.class);
  when(event.getPath()).thenReturn("/some/path/generating/event");
  DistributionRequest distributionRequest=persistingJcrEventdistributionTrigger.processEvent(event);
  assertNotNull(distributionRequest);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testProcessEventWithoutPrivilegesAndNuggetsPath() throws Exception {
  String serviceName="serviceId";
  Session session=mock(Session.class);
  when(session.hasPermission(eq("var"),eq(Session.ACTION_ADD_NODE))).thenReturn(true);
  when(session.hasPermission(eq("nuggets"),eq(Session.ACTION_ADD_NODE))).thenReturn(true);
  when(session.nodeExists("/var/nuggets")).thenReturn(false);
  when(session.nodeExists("/var/nuggets")).thenReturn(true);
  Node rootNode=mock(Node.class);
  Node varNode=mock(Node.class);
  Node nuggetsNode=mock(Node.class);
  when(varNode.addNode("nuggets","sling:Folder")).thenReturn(nuggetsNode);
  when(rootNode.addNode("var","sling:Folder")).thenReturn(varNode);
  when(session.getRootNode()).thenReturn(rootNode);
  SlingRepository repository=mock(SlingRepository.class);
  Scheduler scheduler=mock(Scheduler.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(repository.loginService(serviceName,null)).thenReturn(session);
  String path="/some/path";
  String nuggetsPath="/var/nuggets";
  PersistedJcrEventDistributionTrigger persistingJcrEventdistributionTrigger=new PersistedJcrEventDistributionTrigger(repository,scheduler,resolverFactory,path,serviceName,nuggetsPath);
  Event event=mock(Event.class);
  DistributionRequest distributionRequest=persistingJcrEventdistributionTrigger.processEvent(event);
  assertNull(distributionRequest);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.RequestProcessorMBeanImplTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Asserts that the simple standard deviation algorithm used by the
 * RequestProcessorMBeanImpl is equivalent to the Commons Math
 * SummaryStatistics implementation.
 * It also tests that resetStatistics method, actually resets all the statistics
 * @throws NotCompliantMBeanException not expected
 */
@Test public void test_statistics() throws NotCompliantMBeanException {
  final SummaryStatistics durationStats=new SummaryStatistics();
  final SummaryStatistics servletCallCountStats=new SummaryStatistics();
  final SummaryStatistics peakRecursionDepthStats=new SummaryStatistics();
  final RequestProcessorMBeanImpl bean=new RequestProcessorMBeanImpl();
  assertEquals(0l,bean.getRequestsCount());
  assertEquals(Long.MAX_VALUE,bean.getMinRequestDurationMsec());
  assertEquals(0l,bean.getMaxRequestDurationMsec());
  assertEquals(0.0,bean.getMeanRequestDurationMsec(),0);
  assertEquals(0.0,bean.getStandardDeviationDurationMsec(),0);
  assertEquals(Integer.MAX_VALUE,bean.getMinServletCallCount());
  assertEquals(0l,bean.getMaxServletCallCount());
  assertEquals(0.0,bean.getMeanServletCallCount(),0);
  assertEquals(0.0,bean.getStandardDeviationServletCallCount(),0);
  assertEquals(Integer.MAX_VALUE,bean.getMinPeakRecursionDepth());
  assertEquals(0l,bean.getMaxPeakRecursionDepth());
  assertEquals(0.0,bean.getMeanPeakRecursionDepth(),0);
  assertEquals(0.0,bean.getStandardDeviationPeakRecursionDepth(),0);
  final Random random=new Random(System.currentTimeMillis() / 17);
  final int num=10000;
  final int min=85;
  final int max=250;
  for (int i=0; i < num; i++) {
    final long durationValue=min + random.nextInt(max - min);
    final int callCountValue=min + random.nextInt(max - min);
    final int peakRecursionDepthValue=min + random.nextInt(max - min);
    durationStats.addValue(durationValue);
    servletCallCountStats.addValue(callCountValue);
    peakRecursionDepthStats.addValue(peakRecursionDepthValue);
    final RequestData requestData=context.mock(RequestData.class,"requestData" + i);
    context.checking(new Expectations(){
{
        one(requestData).getElapsedTimeMsec();
        will(returnValue(durationValue));
        one(requestData).getServletCallCount();
        will(returnValue(callCountValue));
        one(requestData).getPeakRecusionDepth();
        will(returnValue(peakRecursionDepthValue));
      }
    }
);
    bean.addRequestData(requestData);
  }
  assertEquals("Number of points must be the same",durationStats.getN(),bean.getRequestsCount());
  assertEquals("Min Duration must be equal",(long)durationStats.getMin(),bean.getMinRequestDurationMsec());
  assertEquals("Max Duration must be equal",(long)durationStats.getMax(),bean.getMaxRequestDurationMsec());
  assertAlmostEqual("Mean Duration",durationStats.getMean(),bean.getMeanRequestDurationMsec(),num);
  assertAlmostEqual("Standard Deviation Duration",durationStats.getStandardDeviation(),bean.getStandardDeviationDurationMsec(),num);
  assertEquals("Min Servlet Call Count must be equal",(long)servletCallCountStats.getMin(),bean.getMinServletCallCount());
  assertEquals("Max Servlet Call Count must be equal",(long)servletCallCountStats.getMax(),bean.getMaxServletCallCount());
  assertAlmostEqual("Mean Servlet Call Count",servletCallCountStats.getMean(),bean.getMeanServletCallCount(),num);
  assertAlmostEqual("Standard Deviation Servlet Call Count",servletCallCountStats.getStandardDeviation(),bean.getStandardDeviationServletCallCount(),num);
  assertEquals("Min Peak Recursion Depth must be equal",(long)peakRecursionDepthStats.getMin(),bean.getMinPeakRecursionDepth());
  assertEquals("Max Peak Recursion Depth must be equal",(long)peakRecursionDepthStats.getMax(),bean.getMaxPeakRecursionDepth());
  assertAlmostEqual("Mean Peak Recursion Depth",peakRecursionDepthStats.getMean(),bean.getMeanPeakRecursionDepth(),num);
  assertAlmostEqual("Standard Deviation Peak Recursion Depth",peakRecursionDepthStats.getStandardDeviation(),bean.getStandardDeviationPeakRecursionDepth(),num);
  bean.resetStatistics();
  final long durationValue=min + random.nextInt(max - min);
  final int callCountValue=min + random.nextInt(max - min);
  final int peakRecursionDepthValue=min + random.nextInt(max - min);
  final RequestData requestData=context.mock(RequestData.class,"requestDataAfterReset");
  context.checking(new Expectations(){
{
      one(requestData).getElapsedTimeMsec();
      will(returnValue(durationValue));
      one(requestData).getServletCallCount();
      will(returnValue(callCountValue));
      one(requestData).getPeakRecusionDepth();
      will(returnValue(peakRecursionDepthValue));
    }
  }
);
  bean.addRequestData(requestData);
  assertEquals("After resetStatistics Number of requests must be one",1,bean.getRequestsCount());
  assertEquals("After resetStatistics Min Duration must be equal",bean.getMinRequestDurationMsec(),(long)durationValue);
  assertEquals("After resetStatistics Max Duration must be equal",bean.getMaxRequestDurationMsec(),(long)durationValue);
  assertEquals("After resetStatistics Mean Duration must be equal",bean.getMeanRequestDurationMsec(),(double)durationValue,0d);
  assertEquals("After resetStatistics Min Servlet Call Count must be equal",bean.getMinServletCallCount(),callCountValue);
  assertEquals("After resetStatistics Max Servlet Call Count must be equal",bean.getMaxServletCallCount(),callCountValue);
  assertEquals("After resetStatistics Mean Servlet Call Count",bean.getMeanServletCallCount(),(double)callCountValue,0d);
  assertEquals("After resetStatistics Min Peak Recursion Depth must be equal",bean.getMinPeakRecursionDepth(),peakRecursionDepthValue);
  assertEquals("After resetStatistics Max Peak Recursion Depth must be equal",bean.getMinPeakRecursionDepth(),peakRecursionDepthValue);
  assertEquals("After resetStatistics Mean Peak Recursion Depth",bean.getMeanPeakRecursionDepth(),(double)peakRecursionDepthValue,0d);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.SlingHttpServletRequestImplTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void getUserPrincipal_test2(){
  final HttpServletRequest servletRequest=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      one(servletRequest).getServletPath();
      will(returnValue("/path"));
      allowing(servletRequest).getPathInfo();
      will(returnValue("/path"));
      allowing(servletRequest).getRemoteUser();
      will(returnValue(null));
    }
  }
);
  final RequestData requestData=context.mock(RequestData.class,"requestData");
  final ResourceResolver resourceResolver=context.mock(ResourceResolver.class);
  context.checking(new Expectations(){
{
      allowing(requestData).getResourceResolver();
      will(returnValue(resourceResolver));
      allowing(resourceResolver).adaptTo(Principal.class);
      will(returnValue(null));
    }
  }
);
  slingHttpServletRequestImpl=new SlingHttpServletRequestImpl(requestData,servletRequest);
  Assert.assertNull(slingHttpServletRequestImpl.getUserPrincipal());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getUserPrincipal_test(){
  final HttpServletRequest servletRequest=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      one(servletRequest).getServletPath();
      will(returnValue("/path"));
      allowing(servletRequest).getPathInfo();
      will(returnValue("/path"));
      allowing(servletRequest).getRemoteUser();
      will(returnValue("remoteUser"));
    }
  }
);
  final RequestData requestData=context.mock(RequestData.class,"requestData");
  final ResourceResolver resourceResolver=context.mock(ResourceResolver.class);
  context.checking(new Expectations(){
{
      allowing(requestData).getResourceResolver();
      will(returnValue(resourceResolver));
      allowing(resourceResolver).adaptTo(Principal.class);
      will(returnValue(null));
    }
  }
);
  slingHttpServletRequestImpl=new SlingHttpServletRequestImpl(requestData,servletRequest);
  Assert.assertEquals("UserPrincipal: remoteUser",slingHttpServletRequestImpl.getUserPrincipal().toString());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getUserPrincipal_test3(){
  final HttpServletRequest servletRequest=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      one(servletRequest).getServletPath();
      will(returnValue("/path"));
      allowing(servletRequest).getPathInfo();
      will(returnValue("/path"));
    }
  }
);
  final RequestData requestData=context.mock(RequestData.class,"requestData");
  final ResourceResolver resourceResolver=context.mock(ResourceResolver.class);
  final Principal principal=context.mock(Principal.class);
  context.checking(new Expectations(){
{
      allowing(requestData).getResourceResolver();
      will(returnValue(resourceResolver));
      allowing(resourceResolver).adaptTo(Principal.class);
      will(returnValue(principal));
    }
  }
);
  slingHttpServletRequestImpl=new SlingHttpServletRequestImpl(requestData,servletRequest);
  Assert.assertEquals(principal,slingHttpServletRequestImpl.getUserPrincipal());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.filter.SlingFilterChainHelperTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOrdering(){
  final SlingFilterChainHelper chain=new SlingFilterChainHelper();
  chain.addFilter(context.mock(Filter.class,"A"),null,1L,100,"1:100",null);
  chain.addFilter(context.mock(Filter.class,"B"),null,2L,100,"2:100",null);
  chain.addFilter(context.mock(Filter.class,"C"),null,3L,-100,"3:-100",null);
  chain.addFilter(context.mock(Filter.class,"D"),null,4L,-1000,"4:-1000",null);
  chain.addFilter(context.mock(Filter.class,"E"),null,5L,1000,"5:1000",null);
  final FilterHandle[] entries=chain.getFilters();
  assertEquals(5,entries.length);
  assertEquals("5:1000",entries[0].getOrderSource());
  assertEquals("1:100",entries[1].getOrderSource());
  assertEquals("2:100",entries[2].getOrderSource());
  assertEquals("3:-100",entries[3].getOrderSource());
  assertEquals("4:-1000",entries[4].getOrderSource());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.helper.ExternalServletContextWrapperTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a wrapped sling response should return the first-level response
 * wrapped by the sling response.
 */
@Test public void testUnwrappingWrappedSlingResponse(){
  final HttpServletResponse resp=context.mock(HttpServletResponse.class);
  final HttpServletResponseWrapper wrapper=new HttpServletResponseWrapper(resp);
  final HttpServletResponseWrapper wrapper2=new HttpServletResponseWrapper(wrapper);
  final SlingHttpServletResponseImpl slingResponse=new SlingHttpServletResponseImpl(null,wrapper2);
  final HttpServletResponseWrapper slingWrapper=new HttpServletResponseWrapper(slingResponse);
  ServletResponse unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletResponse(slingWrapper);
  assertEquals(wrapper2,unwrapped);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the RequestDispatcher is wrapped.
 */
@Test public void testGetRequestDispatcher(){
  final RequestDispatcher rd=context.mock(RequestDispatcher.class);
  final ServletContext ctx=context.mock(ServletContext.class);
  context.checking(new Expectations(){
{
      oneOf(ctx).getRequestDispatcher("foo.jsp");
      will(returnValue(rd));
    }
  }
);
  ExternalServletContextWrapper wrapper=new ExternalServletContextWrapper(ctx);
  RequestDispatcher dispatcher=wrapper.getRequestDispatcher("foo.jsp");
  assertTrue(dispatcher instanceof RequestDispatcherWrapper);
  assertEquals(rd,((RequestDispatcherWrapper)dispatcher).getDelegate());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a wrapped sling request should return the first-level request
 * wrapped by the sling request.
 */
@Test public void testUnwrappingWrappedSlingRequest(){
  final HttpServletRequest req=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      allowing(req).getServletPath();
      will(returnValue("/"));
      allowing(req).getPathInfo();
      will(returnValue("/test"));
    }
  }
);
  final HttpServletRequestWrapper wrapper=new HttpServletRequestWrapper(req);
  final HttpServletRequestWrapper wrapper2=new HttpServletRequestWrapper(wrapper);
  final SlingHttpServletRequestImpl slingRequest=new SlingHttpServletRequestImpl(null,wrapper2);
  final HttpServletRequestWrapper slingWrapper=new HttpServletRequestWrapper(slingRequest);
  ServletRequest unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletRequest(slingWrapper);
  assertEquals(wrapper2,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a non-wrapper request should return the request itself.
 */
@Test public void testUnwrappingRegularRequest(){
  final ServletRequest req=context.mock(ServletRequest.class);
  ServletRequest unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletRequest(req);
  assertEquals(req,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a non-wrapper response should return the response itself.
 */
@Test public void testUnwrappingRegularResponse(){
  final ServletResponse req=context.mock(ServletResponse.class);
  ServletResponse unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletResponse(req);
  assertEquals(req,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a wrapper response should return in the response.
 */
@Test public void testUnwrappingWrappedResponse(){
  final ServletResponse resp=context.mock(ServletResponse.class);
  final ServletResponseWrapper wrapper=new ServletResponseWrapper(resp);
  ServletResponse unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletResponse(wrapper);
  assertEquals(resp,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnwrappingDoubleWrappedResponse(){
  final ServletResponse resp=context.mock(ServletResponse.class);
  final ServletResponseWrapper wrapper=new ServletResponseWrapper(resp);
  final ServletResponseWrapper wrapper2=new ServletResponseWrapper(wrapper);
  ServletResponse unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletResponse(wrapper2);
  assertEquals(resp,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a sling request should return the first-level request wrapped
 * by the sling request.
 */
@Test public void testUnwrappingSlingRequest(){
  final HttpServletRequest req=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      allowing(req).getServletPath();
      will(returnValue("/"));
      allowing(req).getPathInfo();
      will(returnValue("/test"));
    }
  }
);
  final HttpServletRequestWrapper wrapper=new HttpServletRequestWrapper(req);
  final HttpServletRequestWrapper wrapper2=new HttpServletRequestWrapper(wrapper);
  final SlingHttpServletRequestImpl slingRequest=new SlingHttpServletRequestImpl(null,wrapper2);
  ServletRequest unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletRequest(slingRequest);
  assertEquals(wrapper2,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a sling response should return the first-level response wrapped
 * by the sling response.
 */
@Test public void testUnwrappingSlingResponse(){
  final HttpServletResponse resp=context.mock(HttpServletResponse.class);
  final HttpServletResponseWrapper wrapper=new HttpServletResponseWrapper(resp);
  final HttpServletResponseWrapper wrapper2=new HttpServletResponseWrapper(wrapper);
  final SlingHttpServletResponseImpl slingResponse=new SlingHttpServletResponseImpl(null,wrapper2);
  ServletResponse unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletResponse(slingResponse);
  assertEquals(wrapper2,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Unwrapping a wrapper request should return in the request.
 */
@Test public void testUnwrappingWrappedRequest(){
  final ServletRequest req=context.mock(ServletRequest.class);
  final ServletRequestWrapper wrapper=new ServletRequestWrapper(req);
  ServletRequest unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletRequest(wrapper);
  assertEquals(req,unwrapped);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnwrappingDoubleWrappedRequest(){
  final ServletRequest req=context.mock(ServletRequest.class);
  final ServletRequestWrapper wrapper=new ServletRequestWrapper(req);
  final ServletRequestWrapper wrapper2=new ServletRequestWrapper(wrapper);
  ServletRequest unwrapped=ExternalServletContextWrapper.RequestDispatcherWrapper.unwrapServletRequest(wrapper2);
  assertEquals(req,unwrapped);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.request.FastMessageFormatTest </h4><pre class="type-9 type-3 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
"></span><br>
@Test public void testFormat(){
  FormatTest[] tests={new FormatTest("{0}",1),new FormatTest("{0}",Integer.MAX_VALUE),new FormatTest("{0}",Long.MAX_VALUE),new FormatTest("{0}",Math.PI),new FormatTest("{0}",123456.123456),new FormatTest("{0}",Float.MAX_VALUE),new FormatTest("{0}",new Date()),new FormatTest("{0}",Calendar.getInstance()),new FormatTest("{0}",true),new FormatTest("{0}",false),new FormatTest("{0}",new int[]{1,2,3}),new FormatTest("{0}",(Object)new Integer[]{1,2,3}),new FormatTest("{0}",Arrays.asList(1,2,3)),new FormatTest("{0}","text"),new FormatTest("{0}{0}",1,2),new FormatTest("a{0}b{1}c",1,2),new FormatTest("a{0}b{1}c{2}d",1,2,3),new FormatTest("a{0}bb{1}ccc{2}dddd",10,20,30),new FormatTest("c{1}b{0}a",1,2),new FormatTest("c{1}b{0}a{1}c",1,2),new FormatTest("c{0,number,#.##}b{0}a{1}c",1,2),new FormatTest("{0,number,#.##}",1.2345),new FormatTest("'{0}'",1)};
  FastMessageFormat fastMessageFormat=new FastMessageFormat();
  for (  FormatTest test : tests) {
    String expected=MessageFormat.format(test.pattern,test.args);
    String actual=fastMessageFormat.format(test.pattern,test.args);
    assertEquals(expected,actual);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.request.SlingRequestProgressTrackerTest </h4><pre class="type-15 type-11 type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void messageFormatting(){
  final SlingRequestProgressTracker tracker=new SlingRequestProgressTracker();
  tracker.startTimer("foo");
  tracker.log("one {0}, two {1}, three {2}","eins","zwei","drei");
  tracker.startTimer("bar");
  tracker.logTimer("bar");
  tracker.logTimer("foo");
  tracker.done();
  final String[] expected={"TIMER_START{Request Processing}\n","COMMENT timer_end format is {<elapsed msec>,<timer name>} <optional message>\n","TIMER_START{foo}\n","LOG one eins, two zwei, three drei\n","TIMER_START{bar}\n","TIMER_END{?,bar}\n","TIMER_END{?,foo}\n","TIMER_END{?,Request Processing} Request Processing\n"};
  final Iterator<String> messages=tracker.getMessages();
  int messageCounter=0;
  while (messages.hasNext()) {
    final String m=messages.next();
    final String e=expected[messageCounter++];
    if (e.startsWith("TIMER_END{")) {
      assertEquals(substringAfter(e,','),substringAfter(m,','));
    }
 else {
      assertEquals(e,m.substring(8));
    }
  }
  assertEquals(expected.length,messageCounter);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.JobConsumerManagerTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSubCategoryMappingExecutor(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobExecutor jc1=Mockito.mock(JobExecutor.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/**");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobExecutor(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNotNull(jcs.getExecutor("a/c"));
  assertNotNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCategoryMappingExecutor(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobExecutor jc1=Mockito.mock(JobExecutor.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/*");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobExecutor(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNotNull(jcs.getExecutor("a/c"));
  assertNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRanking(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobExecutor jc1=Mockito.mock(JobExecutor.class);
  final JobExecutor jc2=Mockito.mock(JobExecutor.class);
  final JobExecutor jc3=Mockito.mock(JobExecutor.class);
  final JobExecutor jc4=Mockito.mock(JobExecutor.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobExecutor(ref1);
  assertEquals(jc1,jcs.getExecutor("a/b"));
  final ServiceReference ref2=Mockito.mock(ServiceReference.class);
  Mockito.when(ref2.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref2.getProperty(Constants.SERVICE_RANKING)).thenReturn(10);
  Mockito.when(ref2.getProperty(Constants.SERVICE_ID)).thenReturn(2L);
  Mockito.when(bc.getService(ref2)).thenReturn(jc2);
  jcs.bindJobExecutor(ref2);
  assertEquals(jc2,jcs.getExecutor("a/b"));
  final ServiceReference ref3=Mockito.mock(ServiceReference.class);
  Mockito.when(ref3.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref3.getProperty(Constants.SERVICE_RANKING)).thenReturn(5);
  Mockito.when(ref3.getProperty(Constants.SERVICE_ID)).thenReturn(3L);
  Mockito.when(bc.getService(ref3)).thenReturn(jc3);
  jcs.bindJobExecutor(ref3);
  assertEquals(jc2,jcs.getExecutor("a/b"));
  final ServiceReference ref4=Mockito.mock(ServiceReference.class);
  Mockito.when(ref4.getProperty(JobExecutor.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref4.getProperty(Constants.SERVICE_RANKING)).thenReturn(5);
  Mockito.when(ref4.getProperty(Constants.SERVICE_ID)).thenReturn(4L);
  Mockito.when(bc.getService(ref4)).thenReturn(jc4);
  jcs.bindJobExecutor(ref4);
  assertEquals(jc2,jcs.getExecutor("a/b"));
  jcs.unbindJobExecutor(ref2);
  assertEquals(jc3,jcs.getExecutor("a/b"));
  jcs.unbindJobExecutor(ref3);
  assertEquals(jc4,jcs.getExecutor("a/b"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCategoryMappingConsumer(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobConsumer jc1=Mockito.mock(JobConsumer.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobConsumer.PROPERTY_TOPICS)).thenReturn("a/*");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobConsumer(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNotNull(jcs.getExecutor("a/c"));
  assertNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSubCategoryMappingConsumer(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobConsumer jc1=Mockito.mock(JobConsumer.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobConsumer.PROPERTY_TOPICS)).thenReturn("a/**");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobConsumer(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNotNull(jcs.getExecutor("a/c"));
  assertNotNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSimpleMappingExecutor(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobExecutor jc1=Mockito.mock(JobExecutor.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobConsumer.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobExecutor(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNull(jcs.getExecutor("a/c"));
  assertNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSimpleMappingConsumer(){
  final BundleContext bc=Mockito.mock(BundleContext.class);
  final JobConsumerManager jcs=new JobConsumerManager();
  jcs.activate(bc,Collections.EMPTY_MAP);
  final JobConsumer jc1=Mockito.mock(JobConsumer.class);
  final ServiceReference ref1=Mockito.mock(ServiceReference.class);
  Mockito.when(ref1.getProperty(JobConsumer.PROPERTY_TOPICS)).thenReturn("a/b");
  Mockito.when(ref1.getProperty(Constants.SERVICE_RANKING)).thenReturn(1);
  Mockito.when(ref1.getProperty(Constants.SERVICE_ID)).thenReturn(1L);
  Mockito.when(bc.getService(ref1)).thenReturn(jc1);
  jcs.bindJobConsumer(ref1);
  assertNotNull(jcs.getExecutor("a/b"));
  assertNull(jcs.getExecutor("a"));
  assertNull(jcs.getExecutor("a/c"));
  assertNull(jcs.getExecutor("a/b/a"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.config.JobManagerConfigurationTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTopologyChange() throws Exception {
  final Scheduler scheduler=this.createScheduler();
  final ChangeListener ccl=new ChangeListener();
  ccl.init(1);
  final JobManagerConfiguration config=new JobManagerConfiguration();
  TestUtil.setFieldValue(config,"scheduler",scheduler);
  ((AtomicBoolean)TestUtil.getFieldValue(config,"active")).set(true);
  config.addListener(ccl);
  ccl.await();
  assertEquals(1,ccl.events.size());
  assertFalse(ccl.events.get(0));
  ccl.init(1);
  final TopologyView initView=createView();
  final TopologyEvent init=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_INIT,null,initView);
  config.handleTopologyEvent(init);
  ccl.await();
  assertEquals(1,ccl.events.size());
  assertTrue(ccl.events.get(0));
  ccl.init(2);
  final TopologyView view2=createView();
  Mockito.when(initView.isCurrent()).thenReturn(false);
  final TopologyEvent change1=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_CHANGED,initView,view2);
  final TopologyView view3=createView();
  final TopologyEvent change2=new TopologyEvent(TopologyEvent.Type.PROPERTIES_CHANGED,view2,view3);
  config.handleTopologyEvent(change1);
  Mockito.when(view2.isCurrent()).thenReturn(false);
  config.handleTopologyEvent(change2);
  ccl.await();
  assertEquals(2,ccl.events.size());
  assertFalse(ccl.events.get(0));
  assertTrue(ccl.events.get(1));
  Thread.sleep(4000);
  assertEquals(2,ccl.events.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.config.TopologyCapabilitiesTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMatching(){
  assertEquals(1,caps.getPotentialTargets("foo").size());
  assertEquals(0,caps.getPotentialTargets("foo/a").size());
  assertEquals(0,caps.getPotentialTargets("bar").size());
  assertEquals(1,caps.getPotentialTargets("bar/foo").size());
  assertEquals(0,caps.getPotentialTargets("bar/foo/a").size());
  assertEquals(1,caps.getPotentialTargets("a/b").size());
  assertEquals(1,caps.getPotentialTargets("a/b(c").size());
  assertEquals(0,caps.getPotentialTargets("x").size());
  assertEquals(0,caps.getPotentialTargets("x/y").size());
  assertEquals(1,caps.getPotentialTargets("d/1/2").size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.jmx.AllJobStatisticsMBeanTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStatistics(){
  Assert.assertEquals(seed + 1,mbean.getStartTime());
  Assert.assertEquals(seed + 2,mbean.getNumberOfFinishedJobs());
  Assert.assertEquals(seed + 3,mbean.getNumberOfCancelledJobs());
  Assert.assertEquals(seed + 4,mbean.getNumberOfFailedJobs());
  Assert.assertEquals(seed + 5,mbean.getNumberOfProcessedJobs());
  Assert.assertEquals(seed + 6,mbean.getNumberOfActiveJobs());
  Assert.assertEquals(seed + 7,mbean.getNumberOfQueuedJobs());
  Assert.assertEquals(seed + 8,mbean.getNumberOfJobs());
  Assert.assertEquals(seed + 9,mbean.getLastActivatedJobTime());
  Assert.assertEquals(new Date(seed + 9),mbean.getLastActivatedJobDate());
  Assert.assertEquals(seed + 10,mbean.getLastFinishedJobTime());
  Assert.assertEquals(new Date(seed + 10),mbean.getLastFinishedJobDate());
  Assert.assertEquals(seed + 11,mbean.getAverageWaitingTime());
  Assert.assertEquals(seed + 12,mbean.getAverageProcessingTime());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.ClassloadingTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testFailedClassloading() throws Exception {
  final AtomicInteger failedJobsCount=new AtomicInteger(0);
  final List<Event> finishedEvents=Collections.synchronizedList(new ArrayList<Event>());
  this.registerJobConsumer(TOPIC + "/failed",new JobConsumer(){
    @Override public JobResult process(    Job job){
      failedJobsCount.incrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    Event event){
      finishedEvents.add(event);
    }
  }
);
  final JobManager jobManager=this.getJobManager();
  final DataObject dao=new DataObject();
  final Map<String,Object> props=new HashMap<String,Object>();
  props.put("dao",dao);
  final String id=jobManager.addJob(TOPIC + "/failed",props).getId();
  new RetryLoop(new RetryLoop.Condition(){
    @Override public boolean isTrue() throws Exception {
      return failedJobsCount.get() == 0 && finishedEvents.size() == 0 && jobManager.findJobs(JobManager.QueryType.ALL,TOPIC + "/failed",-1,(Map<String,Object>[])null).size() == 1 && jobManager.getStatistics().getNumberOfQueuedJobs() == 0 && jobManager.getStatistics().getNumberOfActiveJobs() == 0;
    }
    @Override public String getDescription(){
      return "Waiting for job failure to be recorded. Conditions " + "faildJobsCount=" + failedJobsCount.get() + ", finishedEvents="+ finishedEvents.size()+ ", findJobs= "+ jobManager.findJobs(JobManager.QueryType.ALL,TOPIC + "/failed",-1,(Map<String,Object>[])null).size()+ ", queuedJobs="+ jobManager.getStatistics().getNumberOfQueuedJobs()+ ", activeJobs="+ jobManager.getStatistics().getNumberOfActiveJobs();
    }
  }
,CONDITION_TIMEOUT_SECONDS,CONDITION_INTERVAL_MILLIS);
  jobManager.removeJobById(id);
  assertEquals(0,jobManager.findJobs(JobManager.QueryType.ALL,TOPIC + "/failed",-1,(Map<String,Object>[])null).size());
  jobManager.removeJobById(id);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.HistoryTest </h4><pre class="type-11 type-12 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test history.
 * Start 10 jobs and cancel some of them and succeed others
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testHistory() throws Exception {
  this.registerJobExecutor(TOPIC,new JobExecutor(){
    @Override public JobExecutionResult process(    final Job job,    final JobExecutionContext context){
      sleep(5L);
      final long count=job.getProperty(PROP_COUNTER,Long.class);
      if (count == 2 || count == 5 || count == 7) {
        return context.result().message(Job.JobState.ERROR.name()).cancelled();
      }
      return context.result().message(Job.JobState.SUCCEEDED.name()).succeeded();
    }
  }
);
  for (int i=0; i < 10; i++) {
    this.addJob(i);
  }
  this.sleep(200L);
  while (this.getJobManager().findJobs(JobManager.QueryType.HISTORY,TOPIC,-1,(Map<String,Object>[])null).size() < 10) {
    this.sleep(20L);
  }
  Collection<Job> col=this.getJobManager().findJobs(JobManager.QueryType.HISTORY,TOPIC,-1,(Map<String,Object>[])null);
  assertEquals(10,col.size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.ACTIVE,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.QUEUED,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.ALL,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(3,this.getJobManager().findJobs(JobManager.QueryType.CANCELLED,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.DROPPED,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(3,this.getJobManager().findJobs(JobManager.QueryType.ERROR,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.GIVEN_UP,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(0,this.getJobManager().findJobs(JobManager.QueryType.STOPPED,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(7,this.getJobManager().findJobs(JobManager.QueryType.SUCCEEDED,TOPIC,-1,(Map<String,Object>[])null).size());
  assertEquals(7,this.getJobManager().findJobs(JobManager.QueryType.SUCCEEDED,null,-1,(Map<String,Object>[])null).size());
  long last=9;
  for (  final Job j : col) {
    assertNotNull(j.getFinishedDate());
    final long count=j.getProperty(PROP_COUNTER,Long.class);
    assertEquals(last,count);
    if (count == 2 || count == 5 || count == 7) {
      assertEquals(Job.JobState.ERROR,j.getJobState());
    }
 else {
      assertEquals(Job.JobState.SUCCEEDED,j.getJobState());
    }
    assertEquals(j.getJobState().name(),j.getResultMessage());
    last--;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.JobHandlingTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test get a job
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testGetJob() throws Exception {
  final Barrier cb=new Barrier(2);
  final Barrier cb2=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    Job job){
      cb.block();
      cb2.block();
      return JobResult.OK;
    }
  }
);
  final JobManager jobManager=this.getJobManager();
  final Job j=jobManager.addJob(TOPIC,null);
  cb.block();
  assertNotNull(jobManager.getJob(TOPIC,null));
  cb2.block();
  jobManager.removeJobById(j.getId());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test canceling a job
 * The job execution always fails
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testCancelJob() throws Exception {
  final Barrier cb=new Barrier(2);
  final Barrier cb2=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    Job job){
      cb.block();
      cb2.block();
      return JobResult.FAILED;
    }
  }
);
  final Map<String,Object> jobProperties=Collections.singletonMap("id",(Object)"cancelJobId");
  @SuppressWarnings("unchecked") final Map<String,Object>[] jobPropertiesAsArray=new Map[1];
  jobPropertiesAsArray[0]=jobProperties;
  final JobManager jobManager=this.getJobManager();
  jobManager.addJob(TOPIC,jobProperties);
  cb.block();
  assertEquals(1,jobManager.findJobs(JobManager.QueryType.ALL,TOPIC,-1,jobPropertiesAsArray).size());
  final Job e1=jobManager.getJob(TOPIC,jobProperties);
  assertNotNull(e1);
  cb2.block();
  sleep(200);
  final Job e2=jobManager.getJob(TOPIC,jobProperties);
  assertNotNull(e2);
  assertTrue(jobManager.removeJobById(e2.getId()));
  assertEquals(0,jobManager.findJobs(JobManager.QueryType.ALL,TOPIC,-1,jobPropertiesAsArray).size());
  final Collection<Job> col=jobManager.findJobs(JobManager.QueryType.HISTORY,TOPIC,-1,jobPropertiesAsArray);
  try {
    assertEquals(1,col.size());
  }
  finally {
    for (    final Job j : col) {
      jobManager.removeJobById(j.getId());
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test simple job execution.
 * The job is executed once and finished successfully.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testSimpleJobExecutionUsingJobExecutor() throws Exception {
  final Barrier cb=new Barrier(2);
  this.registerJobExecutor(TOPIC,new JobExecutor(){
    @Override public JobExecutionResult process(    final Job job,    final JobExecutionContext context){
      cb.block();
      return context.result().succeeded();
    }
  }
);
  this.getJobManager().addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test simple job execution.
 * The job is executed once and finished successfully.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testSimpleJobExecutionUsingJobConsumer() throws Exception {
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  this.getJobManager().addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test sending of jobs with and without a processor
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testNoJobProcessor() throws Exception {
  final AtomicInteger count=new AtomicInteger(0);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    final Job job){
      count.incrementAndGet();
      return JobResult.OK;
    }
  }
);
  final JobManager jobManager=this.getJobManager();
  final int COUNT=20;
  for (int i=0; i < COUNT; i++) {
    final String jobTopic=(i % 2 == 0 ? TOPIC : TOPIC + "2");
    jobManager.addJob(jobTopic,null);
  }
  while (jobManager.getStatistics().getNumberOfFinishedJobs() < COUNT / 2) {
    this.sleep(50);
  }
  assertEquals("Finished count",COUNT / 2,count.get());
  assertEquals("Unprocessed count",0,jobManager.getStatistics().getNumberOfJobs());
  assertEquals("Finished count",COUNT / 2,jobManager.getStatistics().getNumberOfFinishedJobs());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Reschedule test.
 * The job is rescheduled two times before it fails.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testStartJobAndReschedule() throws Exception {
  final List<Integer> retryCountList=new ArrayList<Integer>();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    int retryCount;
    @Override public JobResult process(    Job job){
      int retry=0;
      if (job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT) != null) {
        retry=(Integer)job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT);
      }
      if (retry == retryCount) {
        retryCountList.add(retry);
      }
      retryCount++;
      cb.block();
      return JobResult.FAILED;
    }
  }
);
  final JobManager jobManager=this.getJobManager();
  final Job job=jobManager.addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
  assertEquals("Unexpected number of retries",3,retryCountList.size());
  jobManager.removeJobById(job.getId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.OrderedQueueTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Ordered Queue Test
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testOrderedQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  this.registerJobConsumer("sling/orderedtest/*",new JobConsumer(){
    private volatile int lastCounter=-1;
    @Override public JobResult process(    final Job job){
      final int counter=job.getProperty("counter",-10);
      assertNotEquals("Counter property is missing",-10,counter);
      assertTrue("Counter should only increment by max of 1 " + counter + " - "+ lastCounter,counter == lastCounter || counter == lastCounter + 1);
      lastCounter=counter;
      if ("sling/orderedtest/start".equals(job.getTopic())) {
        cb.block();
        return JobResult.OK;
      }
      if (parallelCount.incrementAndGet() > 1) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
      final String topic=job.getTopic();
      if (topic.endsWith("sub1")) {
        final int i=(Integer)job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT);
        if (i == 0) {
          parallelCount.decrementAndGet();
          return JobResult.FAILED;
        }
      }
      try {
        Thread.sleep(30);
      }
 catch (      InterruptedException ie) {
      }
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  final Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("counter",-1);
  jobManager.addJob("sling/orderedtest/start",properties);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue("orderedtest");
  assertNotNull("Queue 'orderedtest' should exist!",q);
  q.suspend();
  final int NUM_JOBS=30;
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic="sling/orderedtest/sub" + (i % 10);
    properties.clear();
    properties.put("counter",i);
    jobManager.addJob(subTopic,properties);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    try {
      Thread.sleep(500);
    }
 catch (    InterruptedException ie) {
    }
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",NUM_JOBS / 10,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.RoundRobinQueueTest </h4><pre class="type-15 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testRoundRobinQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC + "/start",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  final Set<Integer> maxParticipants=new HashSet<Integer>();
  this.registerJobConsumer(TOPIC + "/*",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      final int max=parallelCount.incrementAndGet();
      if (max > MAX_PAR) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
synchronized (maxParticipants) {
        maxParticipants.add(max);
      }
      sleep(job.getProperty("sleep",30));
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  jobManager.addJob(TOPIC + "/start",null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue(QUEUE_NAME);
  assertNotNull("Queue '" + QUEUE_NAME + "' should exist!",q);
  q.suspend();
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic=TOPIC + "/sub" + (i % 10);
    final Map<String,Object> props=new HashMap<String,Object>();
    if (i < 10) {
      props.put("sleep",300);
    }
 else {
      props.put("sleep",30);
    }
    jobManager.addJob(subTopic,props);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
    assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
    sleep(300);
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
  for (int i=1; i <= MAX_PAR; i++) {
    assertTrue("# Participants " + String.valueOf(i) + " not in "+ maxParticipants,maxParticipants.contains(i));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.UnorderedQueueTest </h4><pre class="type-15 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testUnorderedQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC + "/start",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  final Set<Integer> maxParticipants=new HashSet<Integer>();
  this.registerJobConsumer(TOPIC + "/*",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      final int max=parallelCount.incrementAndGet();
      if (max > MAX_PAR) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
synchronized (maxParticipants) {
        maxParticipants.add(max);
      }
      sleep(job.getProperty("sleep",30));
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  jobManager.addJob(TOPIC + "/start",null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue(QUEUE_NAME);
  assertNotNull("Queue '" + QUEUE_NAME + "' should exist!",q);
  q.suspend();
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic=TOPIC + "/sub" + (i % 10);
    final Map<String,Object> props=new HashMap<String,Object>();
    if (i < 10) {
      props.put("sleep",300);
    }
 else {
      props.put("sleep",30);
    }
    jobManager.addJob(subTopic,props);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
    assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
    sleep(300);
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
  for (int i=1; i <= MAX_PAR; i++) {
    assertTrue("# Participants " + String.valueOf(i) + " not in "+ maxParticipants,maxParticipants.contains(i));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.extensions.mdc.integration.ITMDCFilter </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWihCustomData() throws Exception {
  RequestBuilder rb=new RequestBuilder(ServerConfiguration.getServerUrl());
  executor.execute(rb.buildGetRequest("/mdc","createTestConfig","true"));
  TimeUnit.SECONDS.sleep(1);
  BasicClientCookie cookie=new BasicClientCookie("mdc-test-cookie","foo-test-cookie");
  cookie.setPath("/");
  cookie.setDomain("localhost");
  httpClient.getCookieStore().addCookie(cookie);
  RequestExecutor result=executor.execute(rb.buildGetRequest("/mdc","mdc-test-param","foo-test-param","ignored-param","ignored-value").withHeader("X-Forwarded-For","foo-forwarded-for").withHeader("mdc-test-header","foo-test-header"));
  JSONObject jb=new JSONObject(result.getContent());
  log.info("Response  {}",result.getContent());
  assertEquals("/mdc",jb.getString("req.requestURI"));
  assertEquals(ServerConfiguration.getServerUrl() + "/mdc",jb.getString("req.requestURL"));
  assertEquals("foo-forwarded-for",jb.getString("req.xForwardedFor"));
  assertEquals("foo-test-header",jb.getString("mdc-test-header"));
  assertEquals("foo-test-param",jb.getString("mdc-test-param"));
  assertEquals("foo-test-cookie",jb.getString("mdc-test-cookie"));
  assertFalse(jb.has("ignored-param"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefault() throws Exception {
  RequestBuilder rb=new RequestBuilder(ServerConfiguration.getServerUrl());
  RequestExecutor result=executor.execute(rb.buildGetRequest("/mdc","foo","bar"));
  JSONObject jb=new JSONObject(result.getContent());
  assertEquals("/mdc",jb.getString("req.requestURI"));
  assertEquals("foo=bar",jb.getString("req.queryString"));
  assertEquals(ServerConfiguration.getServerUrl() + "/mdc",jb.getString("req.requestURL"));
  log.info("Response  {}",result.getContent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hapi.client.test.FormTest </h4><pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testForm() throws ClientException, URISyntaxException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString());
  Document doc=client.enter(GET_URL);
  Items items=doc.items();
  Assert.assertThat(items.length(),equalTo(1));
  Items form=doc.form("test");
  Assert.assertThat(form.length(),equalTo(2));
  List<NameValuePair> data=new ArrayList<NameValuePair>();
  data.add(new BasicNameValuePair("f1","val1"));
  Document doc2=form.at(0).submit(data);
  Assert.assertThat(doc2.items().length(),equalTo(1));
  Document doc3=form.at(1).submit(data);
  Assert.assertThat(doc3.items().length(),equalTo(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hapi.client.test.GetPostTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testRedirect() throws ClientException, URISyntaxException, UnsupportedEncodingException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString());
  Document doc=client.post(REDIRECT_URL,new StringEntity("test"));
  Assert.assertThat("POST request failed to redirect",doc.toString(),containsString(OK_RESPONSE));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testValidGet() throws ClientException, URISyntaxException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString());
  Document doc=client.get(GET_URL);
  Assert.assertThat("GET request failed",doc.toString(),new StringContains(OK_RESPONSE));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testValidAuthGet() throws ClientException, URISyntaxException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString(),USER,PASSWORD);
  Document doc=client.get(GET_AUTH_URL);
  Assert.assertThat("GET request failed with basic auth",doc.toString(),containsString(OK_RESPONSE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hapi.client.test.ItemsTest </h4><pre class="type-15 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testItems() throws ClientException, URISyntaxException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString());
  Document doc=client.enter(GET_URL);
  Items items=doc.items();
  Assert.assertThat(items.length(),equalTo(2));
  for (int i=0; i < 2; i++) {
    Assert.assertThat(items.at(i).prop("name").text(),equalTo("Avatar" + i));
    Assert.assertThat(items.at(i).prop("genre").text(),equalTo("Science fiction" + i));
    Assert.assertThat(items.at(i).prop("rank").number(),equalTo(i));
    Assert.assertThat(items.at(i).prop("director").prop("name").text(),equalTo("James Cameron" + i));
    Assert.assertThat(items.at(i).prop("director").prop("birthDate").text(),equalTo("August 16, 1954 - " + i));
  }
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testItemsLinks() throws ClientException, URISyntaxException {
  MicrodataHtmlClient client=new MicrodataHtmlClient(httpServer.getURI().toString());
  Document doc=client.enter(GET_LINKS_URL);
  Items items=doc.items();
  Assert.assertThat(items.length(),equalTo(1));
  Assert.assertThat(items.prop("name").text(),equalTo("Avatar"));
  Assert.assertThat(items.prop("genre").text(),equalTo("Science fiction"));
  Assert.assertThat(items.prop("rank").number(),equalTo(2));
  Assert.assertThat(items.prop("director").prop("name").text(),equalTo("James Cameron"));
  Assert.assertThat(items.prop("director").prop("birthDate").text(),equalTo("August 16, 1954"));
  Assert.assertThat(doc.link("test").length(),equalTo(2));
  Assert.assertThat(doc.items().link("test").length(),equalTo(1));
  Assert.assertThat(doc.items().prop("director").link("test").length(),equalTo(1));
  Items otherMovies=doc.link("test").follow().items();
  Assert.assertThat(otherMovies.length(),equalTo(2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.api.ResultLogTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatusGoingDownHCE(){
  log.add(new ResultLog.Entry(Result.Status.HEALTH_CHECK_ERROR,"argh"));
  assertEquals(Result.Status.HEALTH_CHECK_ERROR,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.CRITICAL,"argh"));
  assertEquals(Result.Status.HEALTH_CHECK_ERROR,log.getAggregateStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatusGoingUp(){
  log.add(new ResultLog.Entry(Result.Status.DEBUG,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.INFO,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.OK,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.WARN,"argh"));
  assertEquals(Result.Status.WARN,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.CRITICAL,"argh"));
  assertEquals(Result.Status.CRITICAL,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.HEALTH_CHECK_ERROR,"argh"));
  assertEquals(Result.Status.HEALTH_CHECK_ERROR,log.getAggregateStatus());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogEntries(){
  log.add(new ResultLog.Entry(Result.Status.OK,"ok 1"));
  log.add(new ResultLog.Entry(Result.Status.DEBUG,"debug 2"));
  log.add(new ResultLog.Entry(Result.Status.WARN,"warn 3"));
  log.add(new ResultLog.Entry(Result.Status.CRITICAL,"critical 4"));
  final Iterator<ResultLog.Entry> it=log.iterator();
  assertEquals("OK ok 1",it.next().toString());
  assertEquals("DEBUG debug 2",it.next().toString());
  assertEquals("WARN warn 3",it.next().toString());
  assertEquals("CRITICAL critical 4",it.next().toString());
  assertFalse(it.hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatusGoingDownOK(){
  log.add(new ResultLog.Entry(Result.Status.OK,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.INFO,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.DEBUG,"argh"));
  assertEquals(Result.Status.OK,log.getAggregateStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatusGoingDownCRIT(){
  log.add(new ResultLog.Entry(Result.Status.CRITICAL,"argh"));
  assertEquals(Result.Status.CRITICAL,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.WARN,"argh"));
  assertEquals(Result.Status.CRITICAL,log.getAggregateStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatusGoingDownWARN(){
  log.add(new ResultLog.Entry(Result.Status.WARN,"argh"));
  assertEquals(Result.Status.WARN,log.getAggregateStatus());
  log.add(new ResultLog.Entry(Result.Status.OK,"argh"));
  assertEquals(Result.Status.WARN,log.getAggregateStatus());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyLogIsNotOk(){
  assertEquals(Result.Status.WARN,log.getAggregateStatus());
  assertFalse(log.iterator().hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.api.ResultTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLog(){
  final ResultLog log=new ResultLog();
  log.add(new ResultLog.Entry(Result.Status.INFO,"argh"));
  log.add(new ResultLog.Entry(Result.Status.WARN,"bad stuff"));
  final Result result=new Result(log);
  assertEquals(Result.Status.WARN,result.getStatus());
  final StringBuilder sb=new StringBuilder();
  for (  ResultLog.Entry e : result) {
    sb.append(e.toString()).append("#");
  }
  assertEquals("INFO argh#WARN bad stuff#",sb.toString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.CompositeHealthCheckTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCyclicRecursion(){
  final String[] filterTags=new String[]{"check2"};
  final DummyHcServiceReference hcRef1=new DummyHcServiceReference("Check 1",new String[]{"check1"},filterTags);
  final DummyHcServiceReference hcRef2=new DummyHcServiceReference("Check 2",new String[]{"check2"},new String[]{"check3"});
  final DummyHcServiceReference hcRef3=new DummyHcServiceReference("Check 3",new String[]{"check3"},new String[]{"check1"});
  compositeHealthCheck.setReferenceToThis(hcRef1);
  compositeHealthCheck.setFilterTags(filterTags);
  compositeHealthCheck.setHealthCheckFilter(new HealthCheckFilter(null){
    @Override public ServiceReference[] getTaggedHealthCheckServiceReferences(    String... tags){
      ServiceReference[] result=new ServiceReference[]{};
      if (tags.length > 0) {
        if (tags[0].equals(filterTags[0])) {
          result=new ServiceReference[]{hcRef2};
        }
 else         if (tags[0].equals("check3")) {
          result=new ServiceReference[]{hcRef3};
        }
 else         if (tags[0].equals("check1")) {
          result=new ServiceReference[]{hcRef1};
        }
      }
      return result;
    }
  }
);
  Result result=compositeHealthCheck.execute();
  verify(healthCheckExecutor,never()).execute(Matchers.any(String[].class));
  assertEquals(Result.Status.HEALTH_CHECK_ERROR,result.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testExecution(){
  doReturn((Result)null).when(compositeHealthCheck).checkForRecursion(Matchers.<ServiceReference>any(),Matchers.<Set<String>>any());
  String[] testTags=new String[]{"tag1"};
  compositeHealthCheck.setFilterTags(testTags);
  List<HealthCheckExecutionResult> executionResults=new LinkedList<HealthCheckExecutionResult>();
  executionResults.add(createExecutionResult("Check 1",testTags,new Result(Result.Status.INFO,"Good")));
  executionResults.add(createExecutionResult("Check 2",testTags,new Result(Result.Status.CRITICAL,"Bad")));
  when(healthCheckExecutor.execute(testTags)).thenReturn(executionResults);
  Result result=compositeHealthCheck.execute();
  verify(healthCheckExecutor,times(1)).execute(testTags);
  assertEquals(Result.Status.CRITICAL,result.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleRecursion(){
  final String[] filterTags=new String[]{"check1"};
  final DummyHcServiceReference hcRef=new DummyHcServiceReference("Check 1",new String[]{"check1"},filterTags);
  compositeHealthCheck.setReferenceToThis(hcRef);
  compositeHealthCheck.setFilterTags(filterTags);
  compositeHealthCheck.setHealthCheckFilter(new HealthCheckFilter(null){
    @Override public ServiceReference[] getTaggedHealthCheckServiceReferences(    String... tags){
      ServiceReference[] result=new ServiceReference[]{};
      if (tags.length > 0) {
        if (tags[0].equals(filterTags[0])) {
          result=new ServiceReference[]{hcRef};
        }
      }
      return result;
    }
  }
);
  Result result=compositeHealthCheck.execute();
  verify(healthCheckExecutor,never()).execute(Matchers.any(String[].class));
  assertEquals(Result.Status.HEALTH_CHECK_ERROR,result.getStatus());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.JmxScriptBindingsProviderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJmxAttribute() throws Exception {
  final FormattingResultLog resultLog=new FormattingResultLog();
  final JmxScriptBindingsProvider.AttributeBinding b=new JmxScriptBindingsProvider.AttributeBinding(ManagementFactory.getPlatformMBeanServer(),resultLog);
  final Object value=b.attribute("java.lang:type=ClassLoading","LoadedClassCount");
  assertNotNull("Expecting non-null attribute value",value);
  assertTrue("Expecting non-empty value",value.toString().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.servlet.HealthCheckExecutorServletTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetStatusMapping() throws ServletException {
  Map<Status,Integer> statusMapping=healthCheckExecutorServlet.getStatusMapping("CRITICAL:503");
  assertEquals(statusMapping.get(Result.Status.OK),(Integer)200);
  assertEquals(statusMapping.get(Result.Status.WARN),(Integer)200);
  assertEquals(statusMapping.get(Result.Status.CRITICAL),(Integer)503);
  assertEquals(statusMapping.get(Result.Status.HEALTH_CHECK_ERROR),(Integer)503);
  statusMapping=healthCheckExecutorServlet.getStatusMapping("OK:333");
  assertEquals(statusMapping.get(Result.Status.OK),(Integer)333);
  assertEquals(statusMapping.get(Result.Status.WARN),(Integer)333);
  assertEquals(statusMapping.get(Result.Status.CRITICAL),(Integer)333);
  assertEquals(statusMapping.get(Result.Status.HEALTH_CHECK_ERROR),(Integer)333);
  statusMapping=healthCheckExecutorServlet.getStatusMapping("OK:200,WARN:418,CRITICAL:503,HEALTH_CHECK_ERROR:500");
  assertEquals(statusMapping.get(Result.Status.OK),(Integer)200);
  assertEquals(statusMapping.get(Result.Status.WARN),(Integer)418);
  assertEquals(statusMapping.get(Result.Status.CRITICAL),(Integer)503);
  assertEquals(statusMapping.get(Result.Status.HEALTH_CHECK_ERROR),(Integer)500);
  statusMapping=healthCheckExecutorServlet.getStatusMapping("CRITICAL:503,HEALTH_CHECK_ERROR:500");
  assertEquals(statusMapping.get(Result.Status.OK),(Integer)200);
  assertEquals(statusMapping.get(Result.Status.WARN),(Integer)200);
  assertEquals(statusMapping.get(Result.Status.CRITICAL),(Integer)503);
  assertEquals(statusMapping.get(Result.Status.HEALTH_CHECK_ERROR),(Integer)500);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.AsyncHealthCheckTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAsyncHealthCheck() throws InterruptedException {
  final String id=UUID.randomUUID().toString();
  final AtomicInteger counter=new AtomicInteger(Integer.MIN_VALUE);
  final HealthCheck hc=new HealthCheck(){
    @Override public Result execute(){
      final int v=counter.incrementAndGet();
      return new Result(Result.Status.OK,"counter is now " + v);
    }
  }
;
  final Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(HealthCheck.NAME,"name_" + id);
  props.put(HealthCheck.TAGS,id);
  props.put(HealthCheck.ASYNC_CRON_EXPRESSION,"*/1 * * * * ?");
  @SuppressWarnings("rawtypes") final ServiceRegistration reg=bundleContext.registerService(HealthCheck.class,hc,props);
  try {
    U.expectHealthChecks(1,executor,id);
{
      counter.set(0);
      final long timeout=System.currentTimeMillis() + 5000L;
      while (System.currentTimeMillis() < timeout) {
        if (counter.get() > 0) {
          break;
        }
        Thread.sleep(100L);
      }
      assertTrue("Expecting counter to be incremented",counter.get() > 0);
    }
    final String msg=executor.execute(id).get(0).getHealthCheckResult().iterator().next().getMessage();
    assertTrue("Expecting the right message: " + msg,msg.contains("counter is now"));
    final int previous=counter.get();
    final int n=100;
    for (int i=0; i < n; i++) {
      executor.execute(id);
    }
    assertTrue("Expecting counter to increment asynchronously",counter.get() < previous + n);
  }
  finally {
    reg.unregister();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckFilterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoResults(){
  final List<HealthCheck> s=filter.getTaggedHealthChecks("NOT A TAG");
  assertTrue("Expecting no services",s.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckServletTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServletBecomesActive() throws InvalidSyntaxException, IOException, InterruptedException {
  final String property="servletPath";
  final String path="/test/" + UUID.randomUUID();
  final String packagePrefix="org.apache.sling.hc";
  assertEquals("Initially expecting no servlet from " + packagePrefix,0,countServletServices(packagePrefix));
  final int pathsBefore=httpService.getPaths().size();
  final String pid="org.apache.sling.hc.core.impl.servlet.HealthCheckExecutorServlet";
  final org.osgi.service.cm.Configuration cfg=configAdmin.getConfiguration(pid,null);
  final Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(property,path);
  cfg.update(props);
  final long timeoutMsec=5000L;
  final long endTime=System.currentTimeMillis() + timeoutMsec;
  while (System.currentTimeMillis() < endTime) {
    if (countServletServices(packagePrefix) > 0) {
      break;
    }
    Thread.sleep(50L);
  }
  assertEquals("After adding configuration, expecting one servlet from " + packagePrefix,1,countServletServices(packagePrefix));
  final List<String> paths=httpService.getPaths();
  assertEquals("Expecting one new servlet registration",pathsBefore + 1,paths.size());
  assertEquals("Expecting the HC servlet to be registered at " + path,path,paths.get(paths.size() - 1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.SampleHealthChecksTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotatedHC(){
  final List<HealthCheckExecutionResult> results=executor.execute("annotation","sample");
  assertNotNull("Expecting non-null results");
  assertEquals("Expecting a single result",1,results.size());
  final HealthCheckExecutionResult r=results.get(0);
  assertTrue("Expecting non-empty HC log",r.getHealthCheckResult().iterator().hasNext());
  final String expected="All good";
  assertTrue("Expecting first log message to contain " + expected,r.getHealthCheckResult().iterator().next().getMessage().contains(expected));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotatedHCMBean() throws InvalidSyntaxException {
  final String filter="(jmx.objectname=org.apache.sling.healthcheck:type=HealthCheck,name=annotatedHC)";
  final ServiceReference<?>[] refs=bundleContext.getServiceReferences(DynamicMBean.class.getName(),filter);
  assertNotNull("Expecting non-null ServiceReferences for " + filter,refs);
  assertEquals("Expecting a single ServiceReference for " + filter,1,refs.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.junitbridge.tests.HealthCheckTestsProviderTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTestNames(){
  final List<String> names=provider.getTestNames();
  assertEquals(TAG_GROUPS.length,names.size());
  for (  String tag : TAG_GROUPS) {
    final String expected=testName(tag);
    assertTrue("Expecting test names to contain " + expected + ", "+ names,names.contains(expected));
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoFailuresHealthCheck() throws ClassNotFoundException {
  final Class<?> c=provider.createTestClass(testName("PASS_HC"));
  assertNotNull("Expecting non-null test class",c);
  final org.junit.runner.Result r=JUnitCore.runClasses(c);
  assertEquals(0,r.getFailureCount());
  assertEquals(1,r.getRunCount());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFailingHealthCheck() throws ClassNotFoundException {
  final Class<?> c=provider.createTestClass(testName("FAIL_HC and BAD_HC"));
  assertNotNull("Expecting non-null test class",c);
  final org.junit.runner.Result r=JUnitCore.runClasses(c);
  assertEquals(2,r.getFailureCount());
  assertEquals(2,r.getRunCount());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPassAndFailHealthCheck() throws ClassNotFoundException {
  final Class<?> c=provider.createTestClass(testName("FAIL_HC and PASS_HC and OK_HC and BAD_HC"));
  assertNotNull("Expecting non-null test class",c);
  final org.junit.runner.Result r=JUnitCore.runClasses(c);
  assertEquals(2,r.getFailureCount());
  assertEquals(4,r.getRunCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.samples.impl.OsgiScriptBindingsProviderTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInactiveBundles() throws Exception {
  final BundleContext ctx=Mockito.mock(BundleContext.class);
  final Bundle[] bundles={mockBundle(false,true),mockBundle(false,false),mockBundle(false,true),mockBundle(true,false)};
  Mockito.when(ctx.getBundles()).thenReturn(bundles);
  final FormattingResultLog resultLog=new FormattingResultLog();
  final OsgiScriptBindingsProvider.OsgiBinding b=new OsgiScriptBindingsProvider.OsgiBinding(ctx,resultLog);
  assertEquals(1,b.inactiveBundlesCount());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.samples.junit.SampleJUnitTest </h4><pre class="type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void checkSlingAPIBundleActive(){
  final String symbolicName="org.apache.sling.api";
  for (  Bundle b : bundleContext.getBundles()) {
    if (symbolicName.equals(b.getSymbolicName())) {
      assertEquals("Expecting " + symbolicName + " to be active",Bundle.ACTIVE,b.getState());
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.i18n.impl.ConcurrentJcrResourceBundleLoadingTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void loadBundlesOnlyOncePerLocale() throws Exception {
  assertEquals(english,provider.getResourceBundle(Locale.ENGLISH));
  assertEquals(english,provider.getResourceBundle(Locale.ENGLISH));
  assertEquals(german,provider.getResourceBundle(Locale.GERMAN));
  assertEquals(german,provider.getResourceBundle(Locale.GERMAN));
  verifyPrivate(provider,times(2)).invoke("createResourceBundle",eq(null),any(Locale.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.i18n.it.ResourceBundleProviderIT </h4><pre class="type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepositoryName(){
  final String name=repository.getDescriptor("jcr.repository.name");
  log.info("Test running on  {} repository {}",name,repository.getDescriptor("jcr.repository.version"));
  if (System.getProperty("sling.run.modes","").contains("oak")) {
    assertEquals("Apache Jackrabbit Oak",name);
  }
 else {
    assertEquals("Jackrabbit",name);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.filter.IgnoredResourcesTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void dotsAreEscaped(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/content","en.html");
  assertThat(r.isIgnored("/content/en.html"),equalTo(true));
  assertThat(r.isIgnored("/content/en-html"),equalTo(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void wildCardMatches(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/content","*sync");
  assertThat(r.isIgnored("/content/contentsync"),equalTo(true));
  assertThat(r.isIgnored("/content/content"),equalTo(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nameMatches(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/content","en");
  assertThat(r.isIgnored("/content/en"),equalTo(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void rulesWithRootPath(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/","en");
  assertThat(r.isIgnored("/en"),equalTo(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void questionMarksAreEscaped(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/content","?en");
  assertThat(r.isIgnored("/content/zen"),equalTo(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commentLinesAreIgnored(){
  IgnoredResources r=new IgnoredResources();
  r.registerRegExpIgnoreRule("/content","#en");
  assertThat(r.isIgnored("/content/#en"),equalTo(false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.resource.serialization.SimpleXmlSerializationManagerTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptySerializedData() throws SerializationException, SAXException {
  SerializationData serializationData=sm.newBuilder(null,null).buildSerializationData(null,newResourceWithProperties(new HashMap<String,Object>()));
  assertThat(serializationData,is(nullValue()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nullSerializedData() throws SerializationException, SAXException {
  SerializationData serializationData=sm.newBuilder(null,null).buildSerializationData(null,null);
  assertThat(serializationData,is(nullValue()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void baseResourcePath(){
  String basePath=sm.getBaseResourcePath("jcr_root" + File.separatorChar + ".content.xml");
  assertThat(basePath,is("jcr_root"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void serializationFileLocation(){
  String serializationFilePath=sm.getSerializationFilePath("jcr_root",SerializationKind.FOLDER);
  assertThat(serializationFilePath,is("jcr_root" + File.separatorChar + ".content.xml"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void baseResourcePathIsEmpty(){
  String basePath=sm.getBaseResourcePath(".content.xml");
  assertThat(basePath,is(""));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void readSerializedData() throws IOException, SAXException {
  Map<String,Object> serializationData=sm.readSerializationData(null,readSerializationDataFile("stringSerializedData")).getProperties();
  Map<String,Object> expected=new HashMap<>();
  expected.put("jcr:createdBy","admin");
  expected.put("jcr:lastModifiedBy","author");
  assertThat(serializationData,is(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.AddOrUpdateNodeCommandTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void autoCreatedPropertiesAreNotRemoved() throws Exception {
  doWithTransientRepository(new CallableWithSession(){
    @Override public Void call() throws Exception {
      Node content=session().getRootNode().addNode("content","nt:folder");
      session().save();
      ResourceProxy resource=newResource("/content","nt:folder");
      resource.addProperty("jcr:mixinTypes","mix:lastModified");
      AddOrUpdateNodeCommand cmd=new AddOrUpdateNodeCommand(repo(),credentials(),DEFAULT_CONTEXT,null,resource,logger);
      cmd.execute().get();
      cmd.execute().get();
      session().refresh(false);
      content=session().getRootNode().getNode("content");
      assertThat("jcr:lastModified property not present",content.hasProperty("jcr:lastModified"),equalTo(true));
      assertThat("jcr:lastModifiedBy property not present",content.hasProperty("jcr:lastModifiedBy"),equalTo(true));
      return null;
    }
  }
);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.serialization.ContentXmlHandlerTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void parseFullCoverageXmlFile() throws ParserConfigurationException, SAXException, IOException {
  ResourceProxy root=parseContentXmlFile("full-coverage.xml","/apps/full-coverage");
  assertThat("full-coverage path",root.getPath(),is("/apps/full-coverage"));
  assertThat("full-coverage properties.size",root.getProperties().size(),is(3));
  assertThat("full-coverage properties[jcr:title]",root.getProperties(),hasEntry("jcr:title",(Object)"Full coverage parent"));
  assertThat("full-coverage children.size",root.getChildren().size(),is(2));
  ResourceProxy parent1=root.getChildren().get(0);
  assertThat("parent-1 path",parent1.getPath(),is("/apps/full-coverage/parent-1"));
  assertThat("parent-1 properties[jcr:title]",parent1.getProperties(),hasEntry("jcr:title",(Object)"Parent 1"));
  assertThat("parent-1 children.size",parent1.getChildren().size(),is(2));
  ResourceProxy child11=parent1.getChildren().get(0);
  assertThat("child-1-1 path",child11.getPath(),is("/apps/full-coverage/parent-1/child-1-1"));
  assertThat("child-1-1 properties[jcr:title]",child11.getProperties(),hasEntry("jcr:title",(Object)"Child 1-1"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void emptyMultivaluedProperties() throws Exception {
  ResourceProxy root=parseContentXmlFile("empty-multivalued-property.xml","/");
  assertThat("properties[labels]",(String[])root.getProperties().get("labels"),Matchers.arrayWithSize(0));
  assertThat("properties[values]",(Long[])root.getProperties().get("values"),Matchers.arrayWithSize(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.serialization.VltSerializationManagerTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getSerializationFilePath_FullCoverageAggerate() throws IOException {
  File contentFile=trash.newFile("default.xml");
  try (InputStream in=getClass().getResourceAsStream("simple-content.xml");FileOutputStream out=new FileOutputStream(contentFile)){
    IOUtils.copy(in,out);
  }
   assertThat(serializationManager.getBaseResourcePath(contentFile.getAbsolutePath()),is(new File(contentFile.getParent(),"default").getAbsolutePath()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getSerializationFilePath_XmlFile() throws IOException {
  File contentFile=trash.newFile("file.xml");
  try (InputStream in=getClass().getResourceAsStream("file.xml");FileOutputStream out=new FileOutputStream(contentFile)){
    IOUtils.copy(in,out);
  }
   assertThat(serializationManager.getBaseResourcePath(contentFile.getAbsolutePath()),is(contentFile.getAbsolutePath()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.impl.vlt.transport.DefaultBatcherTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void dataIsClearedBetweenCalls(){
  batcher.add(new DeleteNodeCommand(mockRepo,credentials,"/content/branch",null));
  batcher.get();
  assertThat(batcher.get(),hasSize(0));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void identicalAddOrUpdatesAreCompacted(){
  AddOrUpdateNodeCommand first=new AddOrUpdateNodeCommand(mockRepo,credentials,null,null,new ResourceProxy("/content"),null);
  AddOrUpdateNodeCommand second=new AddOrUpdateNodeCommand(mockRepo,credentials,null,null,new ResourceProxy("/content"),null);
  batcher.add(first);
  batcher.add(second);
  List<Command<?>> batched=batcher.get();
  assertThat(batched,hasSize(1));
  Command<?> command=batched.get(0);
  assertThat(command,instanceOf(AddOrUpdateNodeCommand.class));
  assertThat(command.getPath(),equalTo("/content"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void identicalsReorderingsAreCompacted(){
  ReorderChildNodesCommand first=new ReorderChildNodesCommand(mockRepo,credentials,new ResourceProxy("/content"),null);
  ReorderChildNodesCommand second=new ReorderChildNodesCommand(mockRepo,credentials,new ResourceProxy("/content"),null);
  batcher.add(first);
  batcher.add(second);
  List<Command<?>> batched=batcher.get();
  assertThat(batched,hasSize(1));
  Command<?> command=batched.get(0);
  assertThat(command,instanceOf(ReorderChildNodesCommand.class));
  assertThat(command.getPath(),equalTo("/content"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ContentImportTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFilesAndFoldersRespectsVltIgnoreNotUnderImportRoot() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root/en");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/.vltignore"),new ByteArrayInputStream("content/test-root/en\n".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/en","nt:folder");
  repo.createNode("/content/test-root/en/files","nt:folder");
  repo.createFile("/content/test-root/en/files/first.txt","first file".getBytes());
  runImport(contentProject);
  assertThat(contentProject.findMember("jcr_root/content/test-root/en"),nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFileWithNamespacedName() throws Exception {
  RepositoryAccessor repo=new RepositoryAccessor(config);
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createVltFilterWithRoots("/content/test-root");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  wstServer.waitForServerToStart();
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  repo.createFile("/content/test-root/sling:file","some_content".getBytes());
  runImport(contentProject);
  assertThat(contentProject,hasFile("jcr_root/content/test-root/_sling_file"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFilesAndFoldersRespectsVltFilters() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root/en");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/en/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/de","nt:folder");
  repo.createNode("/content/test-root/de/files","nt:folder");
  repo.createFile("/content/test-root/de/files/first.txt","first file".getBytes());
  deh.clearUnexpectedEventsAfterSettling();
  runImport(contentProject);
  assertThat(contentProject.findMember("jcr_root/content/test-root/de"),nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFilesAndFolders() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root/en");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/en/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/en","nt:folder");
  repo.createNode("/content/test-root/en/files","nt:folder");
  repo.createFile("/content/test-root/en/files/first.txt","first file".getBytes());
  runImport(contentProject);
  assertThat(contentProject,hasFolder("jcr_root/content/test-root/en/files"));
  assertThat(contentProject,hasFile("jcr_root/content/test-root/en/files/first.txt","first file".getBytes()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFullCoverageNode() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.doWithSession(new SessionRunnable<Void>(){
    @Override public Void doWithSession(    Session session) throws RepositoryException {
      Node configNode=session.getRootNode().addNode("content/test-root/org.apache.sling.example.Component.config","sling:OsgiConfig");
      configNode.setProperty("enabled",Boolean.TRUE.toString());
      session.save();
      return null;
    }
  }
);
  runImport(contentProject);
  assertThat(contentProject,hasFile("jcr_root/content/test-root/org.apache.sling.example.Component.config.xml"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importDeletesNoLongerPresentFile() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/en","nt:folder");
  repo.createNode("/content/test-root/en/files","nt:folder");
  repo.createFile("/content/test-root/en/files/first.txt","first file".getBytes());
  repo.createFile("/content/test-root/en/files/second.txt","second file".getBytes());
  repo.tryDeleteResource("/content/test-root/hello.txt");
  runImport(contentProject);
  assertThat(contentProject,hasFile("jcr_root/content/test-root/en/files/first.txt"));
  assertThat(contentProject,hasFile("jcr_root/content/test-root/en/files/second.txt"));
  assertThat(contentProject,not(hasFile("jcr_root/content/test-root/hello.txt")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFromRepositoryWithNtUnstructuredNodeWithNoPropertiesCausesSpuriousLocalDeletion() throws Exception {
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/en","nt:folder");
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/en/hello.txt"),new ByteArrayInputStream("hello, world".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  repo.createNode("/content/test-root/folder","sling:Folder");
  repo.createNode("/content/test-root/folder/jcr:content","nt:unstructured");
  repo.createFile("/content/test-root/folder/jcr:content/some_file.txt","dummy contents".getBytes());
  repo.doWithSession(new SessionRunnable<Void>(){
    @Override public Void doWithSession(    Session session) throws RepositoryException {
      session.getRootNode().getNode("content/test-root/folder/jcr:content/some_file.txt/jcr:content").setProperty("jcr:mimeType","x-vendor-reserved");
      session.save();
      return null;
    }
  }
);
  runImport(contentProject);
  assertThat(contentProject,hasFile("jcr_root/content/test-root/folder/_jcr_content/some_file.txt.dir/.content.xml"));
  runImport(contentProject);
  assertThat(contentProject,hasFile("jcr_root/content/test-root/folder/_jcr_content/some_file.txt.dir/.content.xml"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFilesAndFoldersRespectsVltIgnore() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  wstServer.waitForServerToStart();
  project.createVltFilterWithRoots("/content/test-root/en");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/.vltignore"),new ByteArrayInputStream("en\n".getBytes()));
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.createNode("/content/test-root/en","nt:folder");
  repo.createNode("/content/test-root/en/files","nt:folder");
  repo.createFile("/content/test-root/en/files/first.txt","first file".getBytes());
  runImport(contentProject);
  assertThat(contentProject.findMember("jcr_root/content/test-root/en"),nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void importFilesWithExtraNodesUnderJcrContent() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createVltFilterWithRoots("/content/test-root");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/.content.xml"),getClass().getResourceAsStream("sling-folder-nodetype.xml"));
  wstServer.waitForServerToStart();
  ServerAdapter server=new ServerAdapter(wstServer.getServer());
  server.installModule(contentProject);
  deh.clearUnexpectedEventsAfterSettling();
  RepositoryAccessor repo=new RepositoryAccessor(config);
  repo.tryDeleteResource("/content/test-root");
  repo.createNode("/content/test-root","sling:Folder");
  repo.createFile("/content/test-root/file.txt","hello, world".getBytes());
  repo.doWithSession(new SessionRunnable<Void>(){
    @Override public Void doWithSession(    Session session) throws RepositoryException {
      ValueFactory valueFactory=session.getValueFactory();
      Node contentNode=session.getNode("/content/test-root/file.txt/jcr:content");
      contentNode.addMixin("sling:chunks");
      Node chunkNode=contentNode.addNode("firstChunk","sling:chunk");
      chunkNode.setProperty("sling:offset",valueFactory.createValue(0));
      chunkNode.setProperty("jcr:data",valueFactory.createValue(valueFactory.createBinary(new ByteArrayInputStream("hello, world".getBytes()))));
      session.save();
      return null;
    }
  }
);
  assertThat(repo.getNode("/content/test-root").getPrimaryNodeType().getName(),equalTo("sling:Folder"));
  runImport(contentProject);
  assertThat("File not properly imported",contentProject,hasFile("jcr_root/content/test-root/file.txt","hello, world".getBytes()));
  assertThat("File extra serialization dir not imported",contentProject,hasFolder("jcr_root/content/test-root/file.txt.dir"));
  assertThat("File jcr:content data not serialized in .content.xml",contentProject,hasFile("jcr_root/content/test-root/file.txt.dir/.content.xml"));
  assertThat("File jcr:content extra dir not serialized as _jcr_content",contentProject,hasFolder("jcr_root/content/test-root/file.txt.dir/_jcr_content"));
  assertThat("First chunk dir not serialized",contentProject,hasFolder("jcr_root/content/test-root/file.txt.dir/_jcr_content/firstChunk"));
  assertThat("First chunk properties not serialized",contentProject,hasFile("jcr_root/content/test-root/file.txt.dir/_jcr_content/firstChunk/.content.xml"));
  assertThat("Sling folder serialization file was deleted after import",contentProject,hasFile("jcr_root/content/test-root/.content.xml"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ContentResourceTesterTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slingContentProjectSyncedResourcesAreExportable() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  assertThat("Content sync dir can be exported",new ContentResourceTester().test(contentProject.findMember("jcr_root"),"canBeExported",null,null),equalTo(true));
  assertThat("Dir under sync dir can be exported",new ContentResourceTester().test(contentProject.findMember("jcr_root/test"),"canBeExported",null,null),equalTo(true));
  assertThat("File under sync dir can be exported",new ContentResourceTester().test(contentProject.findMember("jcr_root/test/hello.txt"),"canBeExported",null,null),equalTo(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void simpleFacetedProjectIsNotExportable() throws CoreException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  assertThat("Faceted project can not be exported",new ContentResourceTester().test(contentProject,"canBeExported",null,null),equalTo(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slingContentProjectUnrelatedResourcesAreNotExportable() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("res/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  assertThat("Dir not under content sync dir can not be exported",new ContentResourceTester().test(contentProject.findMember("res"),"canBeExported",null,null),equalTo(false));
  assertThat("File not under content sync dir can not be exported",new ContentResourceTester().test(contentProject.findMember("res/hello.txt"),"canBeExported",null,null),equalTo(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slingContentProjectIsExportable() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  assertThat("Sling content project can be exported",new ContentResourceTester().test(contentProject,"canBeExported",null,null),equalTo(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.JcrNodeCreationTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void createFullCoverageNodeUnderPartialCoverageNode() throws Exception {
  IProject project=projectRule.getProject();
  new ProjectAdapter(project).createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/holder/.content.xml"),getClass().getResourceAsStream("nt-unstructured-nodetype.xml"));
  JcrNode contentNode=syncDirNode.getNode("/content/test-root/holder");
  contentNode.createChild("org.apache.sling.SomeComponent","sling:OsgiConfig");
  assertThat(project,hasFile("/jcr_root/content/test-root/holder/org.apache.sling.SomeComponent.xml"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ProjectHelperTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void projectWithoutInstalledFacetIsNotCandidate() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/META-INF/vault/filter.xml"),new ByteArrayInputStream("<workspaceFilter version=\"1.0\"/>".getBytes()));
  assertThat(ProjectHelper.isPotentialContentProject(contentProject),CoreMatchers.equalTo(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void inferContentProjectContentMissingFilter() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  assertThat(ProjectHelper.getInferredContentProjectContentRoot(contentProject),CoreMatchers.nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void projectWithInstalledFacetIsCandidate() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/META-INF/vault/filter.xml"),new ByteArrayInputStream("<workspaceFilter version=\"1.0\"/>".getBytes()));
  assertThat(ProjectHelper.isPotentialContentProject(contentProject),CoreMatchers.equalTo(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void inferContentProjectContentRootNested() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/META-INF/vault/filter.xml"),new ByteArrayInputStream("<workspaceFilter version=\"1.0\"/>".getBytes()));
  assertThat(ProjectHelper.getInferredContentProjectContentRoot(contentProject),CoreMatchers.<IContainer>equalTo(contentProject.getFolder("src/main/content")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void inferContentProjectContentRootAtTheTopLevel() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  project.createOrUpdateFile(Path.fromPortableString("META-INF/vault/filter.xml"),new ByteArrayInputStream("<workspaceFilter version=\"1.0\"/>".getBytes()));
  assertThat(ProjectHelper.getInferredContentProjectContentRoot(contentProject),CoreMatchers.<IContainer>equalTo(contentProject));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void inferContentProjectContentMissingJcrRoot() throws CoreException, InterruptedException {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures("org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("src/main/content/META-INF/vault/filter.xml"),new ByteArrayInputStream("<workspaceFilter version=\"1.0\"/>".getBytes()));
  assertThat(ProjectHelper.getInferredContentProjectContentRoot(contentProject),CoreMatchers.nullValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ProjectUtilTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void oldContentSyncRootIsMigrated() throws Exception {
  QualifiedName oldPropertyQName=new QualifiedName("org.apache.sling.ide.eclipse-core","sync_root");
  IPath contentSyncPath=Path.fromPortableString("src/main/content/jcr_root");
  project.ensureDirectoryExists(contentSyncPath);
  contentProject.setPersistentProperty(oldPropertyQName,contentSyncPath.toString());
  assertThat("Old sync_root not obeyed",ProjectUtil.getSyncDirectory(contentProject).getProjectRelativePath(),equalTo(contentSyncPath));
  assertThat("Old property not removed",contentProject.getPersistentProperty(oldPropertyQName),nullValue());
  assertThat("sync_root not obeyed after old store for property was deleted",ProjectUtil.getSyncDirectory(contentProject).getProjectRelativePath(),equalTo(contentSyncPath));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void slingContentProjectSyncedResourcesAreExportable() throws CoreException, InterruptedException {
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/test/hello.txt"),new ByteArrayInputStream("goodbye, world".getBytes()));
  IPath filterPath=ProjectUtil.findFilterPath(contentProject);
  assertThat("filterPath.absolute",filterPath.isAbsolute(),equalTo(true));
  assertThat("filterPath",filterPath.makeRelativeTo(contentProject.getLocation()).toPortableString(),equalTo("META-INF/vault/filter.xml"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ResourceChangeCommandFactoryTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commandForSlingOrderedFolder_children() throws CoreException {
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/.content.xml"),getClass().getResourceAsStream("sling-ordered-folder-with-children.xml"));
  contentProject.getFolder("jcr_root/content/test-root/folder").create(true,true,new NullProgressMonitor());
  SpyCommand<?> command=(SpyCommand<?>)factory.newCommandForAddedOrUpdated(spyRepo,contentProject.findMember("jcr_root/content/test-root"));
  List<ResourceProxy> children=command.getResourceProxy().getChildren();
  assertThat("command.resource.children.size",children.size(),equalTo(2));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commandForAddedOrUpdatedNtFolder() throws CoreException {
  InputStream childContentXml=getClass().getResourceAsStream("sling-folder-nodetype.xml");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/nested/.content.xml"),childContentXml);
  SpyCommand<?> command=(SpyCommand<?>)factory.newCommandForAddedOrUpdated(spyRepo,contentProject.findMember("jcr_root/content/test-root"));
  assertThat("command.path",command.getPath(),nullValue());
  assertThat("command.resource.path",command.getResourceProxy().getPath(),equalTo("/content/test-root"));
  assertThat("command.resource.properties",command.getResourceProxy().getProperties(),equalTo(singletonMap("jcr:primaryType",(Object)"nt:folder")));
  assertThat("command.fileinfo",command.getFileInfo(),nullValue());
  assertThat("command.kind",command.getSpyKind(),equalTo(SpyCommand.Kind.ADD_OR_UPDATE));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commandForSlingOrderedFolder_extraChildrenInTheFilesystem() throws CoreException {
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/.content.xml"),getClass().getResourceAsStream("sling-ordered-folder-with-children.xml"));
  contentProject.getFolder("jcr_root/content/test-root/folder").create(true,true,new NullProgressMonitor());
  contentProject.getFolder("jcr_root/content/test-root/folder2").create(true,true,new NullProgressMonitor());
  SpyCommand<?> command=(SpyCommand<?>)factory.newCommandForAddedOrUpdated(spyRepo,contentProject.findMember("jcr_root/content/test-root"));
  List<ResourceProxy> children=command.getResourceProxy().getChildren();
  assertThat("command.resource.children.size",children.size(),equalTo(3));
  assertThat("command.resource.children[2].name",PathUtil.getName(children.get(2).getPath()),equalTo("folder2"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commandForSlingOrderedFolder_childrenMissingFromFilesystem() throws CoreException {
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/.content.xml"),getClass().getResourceAsStream("sling-ordered-folder-with-children.xml"));
  SpyCommand<?> command=(SpyCommand<?>)factory.newCommandForAddedOrUpdated(spyRepo,contentProject.findMember("jcr_root/content/test-root"));
  List<ResourceProxy> children=command.getResourceProxy().getChildren();
  assertThat("command.resource.children.size",children.size(),equalTo(1));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void commandForAddedOrUpdatedSlingFolder() throws CoreException {
  InputStream childContentXml=getClass().getResourceAsStream("sling-folder-nodetype-with-title.xml");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/test-root/nested/.content.xml"),childContentXml);
  SpyCommand<?> command=(SpyCommand<?>)factory.newCommandForAddedOrUpdated(spyRepo,contentProject.findMember("jcr_root/content/test-root/nested"));
  Map<String,Object> props=new HashMap<>();
  props.put("jcr:primaryType","sling:Folder");
  props.put("jcr:title","Some Folder");
  assertThat("command.path",command.getPath(),nullValue());
  assertThat("command.resource.path",command.getResourceProxy().getPath(),equalTo("/content/test-root/nested"));
  assertThat("command.resource.properties",command.getResourceProxy().getProperties(),equalTo(props));
  assertThat("command.fileinfo",command.getFileInfo(),nullValue());
  assertThat("command.kind",command.getSpyKind(),equalTo(SpyCommand.Kind.ADD_OR_UPDATE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ServiceComponentHeaderValidatorTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void presentDescriptorIsNotReported() throws CoreException, IOException, InterruptedException {
  createJavaProject("OSGI-INF/descriptor.xml");
  project.createOrUpdateFile(Path.fromPortableString("src/OSGI-INF/descriptor.xml"),new ByteArrayInputStream("<!-- does not matter -->".getBytes()));
  poller.pollUntil(new Callable<IProject>(){
    @Override public IProject call() throws Exception {
      return projectRule.getProject();
    }
  }
,hasFile("bin/OSGI-INF/descriptor.xml"));
  ServiceComponentHeaderValidator validator=new ServiceComponentHeaderValidator();
  List<IFile> missingDescriptors=validator.findMissingScrDescriptors(projectRule.getProject().getFile("bin/META-INF/MANIFEST.MF"));
  assertThat("missingDescriptors.size",missingDescriptors.size(),equalTo(0));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void wildCardHeaderIsIgnored() throws CoreException, IOException, InterruptedException {
  createJavaProject("OSGI-INF/*.xml");
  ServiceComponentHeaderValidator validator=new ServiceComponentHeaderValidator();
  List<IFile> missingDescriptors=validator.findMissingScrDescriptors(projectRule.getProject().getFile("bin/META-INF/MANIFEST.MF"));
  assertThat("missingDescriptors.size",missingDescriptors.size(),equalTo(0));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void missingDescriptorIsReported() throws CoreException, IOException, InterruptedException {
  String sch="OSGI-INF/descriptor1.xml, OSGI-INF/descriptor2.xml";
  createJavaProject(sch);
  ServiceComponentHeaderValidator validator=new ServiceComponentHeaderValidator();
  List<IFile> missingDescriptors=validator.findMissingScrDescriptors(projectRule.getProject().getFile("bin/META-INF/MANIFEST.MF"));
  assertThat("missingDescriptors.size",missingDescriptors.size(),equalTo(2));
  assertThat("missingDescriptors[0].projectRelativePath",missingDescriptors.get(0).getProjectRelativePath(),equalTo(Path.fromPortableString("bin/OSGI-INF/descriptor1.xml")));
  assertThat("missingDescriptors[0].projectRelativePath",missingDescriptors.get(1).getProjectRelativePath(),equalTo(Path.fromPortableString("bin/OSGI-INF/descriptor2.xml")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void manifestNotUnderOutputDirectoryIsIgnored() throws CoreException, IOException, InterruptedException {
  createJavaProject("OSGI-INF/descriptor.xml");
  ServiceComponentHeaderValidator validator=new ServiceComponentHeaderValidator();
  List<IFile> missingDescriptors=validator.findMissingScrDescriptors(projectRule.getProject().getFile("src/META-INF/MANIFEST.MF"));
  assertThat("missingDescriptors.size",missingDescriptors.size(),equalTo(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.SlingContentModuleAdapterTest </h4><pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void projectMembersContainContentXmlFirst() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/1_file.txt"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/2_folder/filler.txt"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/3_file.txt"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/4_folder/filler.txt"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/5_file.txt"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/.content.xml"),new ByteArrayInputStream(new byte[0]));
  IModule module=ServerUtil.getModule(contentProject);
  SlingContentModuleFactory moduleFactory=new SlingContentModuleFactory();
  ModuleDelegate moduleDelegate=moduleFactory.getModuleDelegate(module);
  IModuleResource[] members=moduleDelegate.members();
  assertThat("members[0].path",members[0].getModuleRelativePath().toPortableString(),equalTo(""));
  assertThat("members[1].path",members[1].getModuleRelativePath().toPortableString(),equalTo("content"));
  assertThat("members[2].path",members[2].getModuleRelativePath().toPortableString(),equalTo("content/.content.xml"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.ui.sightly.SightlyAutocompletionTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void tagNameAutocompletion() throws Exception {
  List<String> proposals=new AutocompletionCallable(){
    @Override protected void prepareEditor(    SWTBotEclipseEditor editor){
      editor.insertText("<html>\n\n</html>");
      editor.navigateTo(1,0);
    }
  }
.call();
  assertThat("proposal list does not contain 'sly'",proposals,hasItem("sly"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void attributeAutocompletion() throws Exception {
  List<String> proposals=new AutocompletionCallable(){
    @Override protected void prepareEditor(    SWTBotEclipseEditor editor){
      editor.insertText("<html>\n<div  ></div>\n</html>");
      editor.navigateTo(1,5);
    }
  }
.call();
  assertThat("proposal list does not contain 'data-sly-test'",proposals,hasItem("data-sly-test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.transport.FallbackNodeTypeRegistryTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void nodesuperTypesAreFound(){
  FallbackNodeTypeRegistry registry=FallbackNodeTypeRegistry.createRegistryWithDefaultNodeTypes();
  NodeType nodeType=registry.getNodeType("sling:Folder");
  assertThat("nodeType",nodeType,notNullValue());
  assertThat("nodeType.name",nodeType.getName(),equalTo("sling:Folder"));
  assertThat("nodeType.declaredSupertypeNames",nodeType.getDeclaredSupertypeNames(),equalTo(new String[]{"nt:folder"}));
  NodeType[] superTypes=nodeType.getSupertypes();
  assertThat("nodeType.superTypes",superTypes,notNullValue());
  assertThat("nodeType.superTypes.length",superTypes.length,equalTo(1));
  assertThat("nodeType.superTypes[0].name",superTypes[0].getName(),equalTo("nt:folder"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.transport.ResourceProxyTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void coveredChildren_notCoveredSecondLevel(){
  ResourceProxy r=new ResourceProxy("/content");
  ResourceProxy child=newResource("/content/test","nt:unstructured");
  r.addChild(child);
  child.addChild(new ResourceProxy("/content/test/en"));
  assertThat(r.covers("/content/test/en"),is(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void coveredChildren_notCoveredFirstLevel(){
  ResourceProxy r=new ResourceProxy("/content");
  r.addChild(new ResourceProxy("/content/test"));
  assertThat(r.covers("/content/test"),is(false));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getChild(){
  ResourceProxy r=new ResourceProxy("/content");
  ResourceProxy child=newResource("/content/test","nt:unstructured");
  r.addChild(child);
  ResourceProxy grandChild=newResource("/content/test/en","nt:unstructured");
  child.addChild(grandChild);
  ResourceProxy grandGrandChild=newResource("/content/test/en/welcome","nt:unstructured");
  grandChild.addChild(grandGrandChild);
  assertThat(r.getChild("/content/test"),is(child));
  assertThat(r.getChild("/content/test/en"),is(grandChild));
  assertThat(r.getChild("/content/test/en/welcome"),is(grandGrandChild));
  assertThat(r.getChild("/content/test/en2"),is(nullValue()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void coveredChildren_secondLevel(){
  ResourceProxy r=new ResourceProxy("/content");
  ResourceProxy child=newResource("/content/test","nt:unstructured");
  r.addChild(child);
  child.addChild(newResource("/content/test/en","nt:unstructured"));
  assertThat(r.covers("/content/test/en"),is(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void coveredChildren_thirdLevel(){
  ResourceProxy r=new ResourceProxy("/content");
  ResourceProxy child=newResource("/content/test","nt:unstructured");
  r.addChild(child);
  ResourceProxy grandChild=newResource("/content/test/en","nt:unstructured");
  child.addChild(grandChild);
  grandChild.addChild(newResource("/content/test/en/welcome","nt:unstructured"));
  assertThat(r.covers("/content/test/en/welcome"),is(true));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void coveredChildren_firstLevel(){
  ResourceProxy r=new ResourceProxy("/content");
  r.addChild(newResource("/content/test","nt:unstructured"));
  assertThat(r.covers("/content/test"),is(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.InternalResourceTest </h4><pre class="type-15 type-11 type-12 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProps() throws IOException {
  final String[] types=new String[]{InstallableResource.TYPE_CONFIG,InstallableResource.TYPE_PROPERTIES,null,"zip"};
  for (int i=0; i < types.length; i++) {
    final InstallableResource instRes=new InstallableResource("1",null,getSimpleDict(),null,types[i],null);
    final InternalResource ir=InternalResource.create(SCHEME,instRes);
    assertEquals(SCHEME + ":1",ir.getURL());
    assertEquals("1",ir.getId());
    assertNotNull(ir.getDictionary());
    assertIsSimpleDict(ir.getDictionary());
    assertNotNull(ir.getPrivateCopyOfDictionary());
    assertIsSimpleDict(ir.getPrivateCopyOfDictionary());
    assertNull(ir.getInputStream());
    assertNull(ir.getPrivateCopyOfFile());
    if ("zip".equals(types[i])) {
      assertEquals("zip",ir.getType());
    }
 else {
      assertEquals(InstallableResource.TYPE_PROPERTIES,ir.getType());
    }
    assertNotNull(ir.getDigest());
    assertEquals(InstallableResource.DEFAULT_PRIORITY,ir.getPriority());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.RegisteredResourceComparatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigDigests() throws IOException {
  final Dictionary<String,Object> data=new Hashtable<String,Object>();
  data.put("foo","bar");
  final RegisteredResourceImpl a=getConfig("pid",data,0);
  data.put("foo","changed");
  final RegisteredResourceImpl b=getConfig("pid",data,0);
  assertEquals("Entity urls must be the same",a.getEntityId(),b.getEntityId());
  assertTrue("Digests must be included in configs comparison",a.compareTo(b) != 0);
  final RegisteredResourceImpl a2=getConfig("pid",data,0);
  final RegisteredResourceImpl b2=getConfig("pid",data,0);
  assertEquals("Digests must be included in configs comparison",0,a2.compareTo(b2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.tasks.BundleTaskCreatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeSnapshot() throws IOException {
  final String v="2.0.7.SNAPSHOT";
  final TaskResource[] r={new MockBundleResource(SN,v)};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,v,Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task",1,s.size());
    assertTrue("Expected a BundleUpdateTask",s.first() instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleBundleAlreadyInstalled() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.0")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task, same version is active",1,s.size());
    assertTrue("Change state task expected.",s.first() instanceof ChangeStateTask);
  }
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.RESOLVED);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one tasks, same version is installed",1,s.size());
    assertTrue("Change state task expected.",s.first() instanceof ChangeStateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeBothRegisteredReversed() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.0"),new MockBundleResource(SN,"1.1")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    assertTrue("Expected a ChangeStateTask",s.first() instanceof ChangeStateTask);
    assertTrue("Expected a BundleUpdateTask",s.toArray()[1] instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRemoveSingle() throws IOException {
  final String version="1.0";
  final MockBundleResource[] r={new MockBundleResource(SN,version)};
  r[0].setState(ResourceState.UNINSTALL);
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task, remove bundle",1,s.size());
    assertTrue("Expected a BundleRemoveTask",s.first() instanceof BundleRemoveTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRemoveMultiple() throws IOException {
  final MockBundleResource[] r={new MockBundleResource(SN,"1.0"),new MockBundleResource(SN,"1.1"),new MockBundleResource(SN,"2.0")};
  for (  MockBundleResource x : r) {
    x.setState(ResourceState.UNINSTALL);
  }
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.1",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one tasks, bundle was not installed by us",2,s.size());
    final Iterator<InstallTask> i=s.iterator();
    final InstallTask first=i.next();
    final InstallTask second=i.next();
    assertTrue("Expected a ChangeStateTask",first instanceof ChangeStateTask);
    assertTrue("Expected a BundleRemoveTask",second instanceof BundleRemoveTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDowngradeOfRemovedResource() throws IOException {
  final MockBundleResource[] r={new MockBundleResource(SN,"1.0.0"),new MockBundleResource(SN,"1.1.0")};
  r[1].setState(ResourceState.UNINSTALL);
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    final Iterator<InstallTask> i=s.iterator();
    final InstallTask first=i.next();
    assertTrue("Expected a ChangeStateTask:" + first,first instanceof ChangeStateTask);
    final InstallTask second=i.next();
    assertTrue("Expected a BundleRemoveTask",second instanceof BundleRemoveTask);
    final BundleRemoveTask t=(BundleRemoveTask)second;
    assertEquals("Remove should be to V1.1",r[1].getEntityId(),t.getResource().getEntityId());
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeBothRegistered() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.1"),new MockBundleResource(SN,"1.0")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    assertTrue("Expected a ChangeStateTask",s.first() instanceof ChangeStateTask);
    assertTrue("Expected a BundleUpdateTask",s.toArray()[1] instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgrade() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.1")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task",1,s.size());
    assertTrue("Expected a BundleUpdateTask",s.first() instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.factories.subsystems.base.impl.SubsystemBaseTransformerTest </h4><pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOtherRunMode() throws Exception {
  SlingSettingsService slingSettings=Mockito.mock(SlingSettingsService.class);
  Mockito.when(slingSettings.getRunModes()).thenReturn(new HashSet<String>(Arrays.asList("bar","tar")));
  SubsystemBaseTransformer sbt=new SubsystemBaseTransformer(slingSettings);
  URL testArchive=getClass().getResource("/test1.subsystem-base");
  RegisteredResource resource=new TestRegisteredResource(testArchive);
  TransformationResult[] tra=sbt.transform(resource);
  assertEquals(1,tra.length);
  TransformationResult tr=tra[0];
  assertEquals("esa",tr.getResourceType());
  assertEquals("test1",tr.getId());
  DeleteOnCloseFileInputStream dcis=(DeleteOnCloseFileInputStream)tr.getInputStream();
  assertTrue("The file backing the stream should exist",dcis.file.exists());
  Set<String> foundBundles=new HashSet<>();
  try (ZipInputStream zis=new ZipInputStream(dcis);JarFile jf=new JarFile(testArchive.getFile())){
    ZipEntry ze=null;
    while ((ze=zis.getNextEntry()) != null) {
      foundBundles.add(ze.getName());
switch (ze.getName()) {
case "OSGI-INF/SUBSYSTEM.MF":
        Manifest mf=new Manifest(zis);
      Attributes attrs=mf.getMainAttributes();
    assertEquals("test1",attrs.getValue("Subsystem-SymbolicName"));
  assertEquals("osgi.subsystem.composite",attrs.getValue("Subsystem-Type"));
assertEquals("(c) 2015 yeah!",attrs.getValue("Subsystem-Copyright"));
assertEquals("Extra subsystem headers can go here including very long ones " + "that would span multiple lines in a manifest",attrs.getValue("Subsystem-Description"));
assertEquals("org.apache.sling.commons.osgi;version=2.3.0;type=osgi.bundle;start-order:=0," + "org.apache.sling.commons.json;version=2.0.12;type=osgi.bundle;start-order:=10," + "org.apache.sling.commons.mime;version=2.1.8;type=osgi.bundle;start-order:=10,"+ "org.apache.sling.commons.threads;version=3.2.0;type=osgi.bundle;start-order:=20,"+ "org.apache.sling.commons.contentdetection;version=1.0.2;type=osgi.bundle;start-order:=100",attrs.getValue("Subsystem-Content"));
break;
case "org.apache.sling.commons.osgi-2.3.0.jar":
ZipEntry oze=jf.getEntry("Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar");
assertArtifactsEqual(oze.getName(),jf.getInputStream(oze),zis);
break;
case "org.apache.sling.commons.json-2.0.12.jar":
ZipEntry jze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar");
assertArtifactsEqual(jze.getName(),jf.getInputStream(jze),zis);
break;
case "org.apache.sling.commons.mime-2.1.8.jar":
ZipEntry mze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar");
assertArtifactsEqual(mze.getName(),jf.getInputStream(mze),zis);
break;
case "org.apache.sling.commons.threads-3.2.0.jar":
ZipEntry tze=jf.getEntry("Potential_Bundles/20/org.apache.sling.commons.threads-3.2.0.jar");
assertArtifactsEqual(tze.getName(),jf.getInputStream(tze),zis);
break;
case "org.apache.sling.commons.contentdetection-1.0.2.jar":
ZipEntry cze=jf.getEntry("Potential_Bundles/100/org.apache.sling.commons.contentdetection-1.0.2.jar");
assertArtifactsEqual(cze.getName(),jf.getInputStream(cze),zis);
break;
}
}
}
 assertEquals(new HashSet<>(Arrays.asList("OSGI-INF/SUBSYSTEM.MF","org.apache.sling.commons.osgi-2.3.0.jar","org.apache.sling.commons.json-2.0.12.jar","org.apache.sling.commons.mime-2.1.8.jar","org.apache.sling.commons.threads-3.2.0.jar","org.apache.sling.commons.contentdetection-1.0.2.jar")),foundBundles);
assertFalse("After closing the stream the temp file should have been deleted.",dcis.file.exists());
}

</code></pre>

<br>
<pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTransformNoRunMode() throws Exception {
  SlingSettingsService slingSettings=Mockito.mock(SlingSettingsService.class);
  SubsystemBaseTransformer sbt=new SubsystemBaseTransformer(slingSettings);
  URL testArchive=getClass().getResource("/test1.subsystem-base");
  RegisteredResource resource=new TestRegisteredResource(testArchive);
  TransformationResult[] tra=sbt.transform(resource);
  assertEquals(1,tra.length);
  TransformationResult tr=tra[0];
  assertEquals("esa",tr.getResourceType());
  assertEquals("test1",tr.getId());
  DeleteOnCloseFileInputStream dcis=(DeleteOnCloseFileInputStream)tr.getInputStream();
  assertTrue("The file backing the stream should exist",dcis.file.exists());
  Set<String> foundBundles=new HashSet<>();
  try (ZipInputStream zis=new ZipInputStream(dcis);JarFile jf=new JarFile(testArchive.getFile())){
    ZipEntry ze=null;
    while ((ze=zis.getNextEntry()) != null) {
      foundBundles.add(ze.getName());
switch (ze.getName()) {
case "OSGI-INF/SUBSYSTEM.MF":
        Manifest mf=new Manifest(zis);
      Attributes attrs=mf.getMainAttributes();
    assertEquals("test1",attrs.getValue("Subsystem-SymbolicName"));
  assertEquals("osgi.subsystem.composite",attrs.getValue("Subsystem-Type"));
assertEquals("(c) 2015 yeah!",attrs.getValue("Subsystem-Copyright"));
assertEquals("Extra subsystem headers can go here including very long ones " + "that would span multiple lines in a manifest",attrs.getValue("Subsystem-Description"));
assertEquals("org.apache.sling.commons.osgi;version=2.3.0;type=osgi.bundle;start-order:=0," + "org.apache.sling.commons.json;version=2.0.12;type=osgi.bundle;start-order:=10," + "org.apache.sling.commons.mime;version=2.1.8;type=osgi.bundle;start-order:=10",attrs.getValue("Subsystem-Content"));
break;
case "org.apache.sling.commons.osgi-2.3.0.jar":
ZipEntry oze=jf.getEntry("Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar");
assertArtifactsEqual(oze.getName(),jf.getInputStream(oze),zis);
break;
case "org.apache.sling.commons.json-2.0.12.jar":
ZipEntry jze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar");
assertArtifactsEqual(jze.getName(),jf.getInputStream(jze),zis);
break;
case "org.apache.sling.commons.mime-2.1.8.jar":
ZipEntry mze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar");
assertArtifactsEqual(mze.getName(),jf.getInputStream(mze),zis);
break;
}
}
}
 assertEquals(new HashSet<>(Arrays.asList("OSGI-INF/SUBSYSTEM.MF","org.apache.sling.commons.osgi-2.3.0.jar","org.apache.sling.commons.json-2.0.12.jar","org.apache.sling.commons.mime-2.1.8.jar")),foundBundles);
assertFalse("After closing the stream the temp file should have been deleted.",dcis.file.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.BundleInstallUpgradeDowngradeTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstallUpgradeDowngradeBundle() throws Exception {
  final String symbolicName="osgi-installer-testbundle";
  assertNull("Test bundle must not be present before test",findBundle(symbolicName));
  long bundleId=0;
{
    assertNull("Test bundle must be absent before installing",findBundle(symbolicName));
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.1.jar")),null);
    this.waitForBundleEvents(symbolicName + " must be installed",listener,new BundleEvent(symbolicName,"1.1",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent(symbolicName,"1.1",org.osgi.framework.BundleEvent.STARTED));
    final Bundle b=assertBundle("After installing",symbolicName,"1.1",Bundle.ACTIVE);
    bundleId=b.getBundleId();
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar"),"digestA"),null);
    this.waitForBundleEvents(symbolicName + " must be installed",listener,new BundleEvent(symbolicName,"1.1",org.osgi.framework.BundleEvent.STOPPED),new BundleEvent(symbolicName,"1.2",org.osgi.framework.BundleEvent.STARTED));
    final Bundle b=assertBundle("After updating to 1.2",symbolicName,"1.2",Bundle.ACTIVE);
    assertEquals("Bundle ID must not change after update",bundleId,b.getBundleId());
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"),"digestA"),null);
    sleep(150);
    this.assertNoBundleEvents("Older bundle should not be installed.",listener,symbolicName);
    final Bundle b=assertBundle("After ignored downgrade",symbolicName,"1.2",Bundle.ACTIVE);
    assertEquals("Bundle ID must not change after ignored downgrade",bundleId,b.getBundleId());
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"),"digestB"),null);
    sleep(150);
    this.assertNoBundleEvents("Update to same version should generate no OSGi tasks.",listener,symbolicName);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,null,getNonInstallableResourceUrl(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar")));
    sleep(150);
    this.assertNoBundleEvents("Older bundle remove should not cause a remove",listener,symbolicName);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,null,getNonInstallableResourceUrl(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.1.jar")));
    this.assertNoBundleEvents("Older bundle remove should not cause a remove",listener,symbolicName);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,null,getNonInstallableResourceUrl(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar")));
    this.waitForBundleEvents(symbolicName + " must be installed",listener,new BundleEvent(symbolicName,"1.2",org.osgi.framework.BundleEvent.STOPPED),new BundleEvent(symbolicName,"1.2",org.osgi.framework.BundleEvent.UNINSTALLED));
    final Bundle b=findBundle(symbolicName);
    assertNull("Testbundle must be gone",b);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.1.jar")),null);
    this.waitForBundleEvents(symbolicName + " reinstall with lower version",listener,new BundleEvent(symbolicName,"1.1",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent(symbolicName,"1.1",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("After reinstalling 1.1",symbolicName,"1.1",Bundle.ACTIVE);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.RegisterResourcesTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void removeAndReaddBundlesTest() throws Exception {
{
    final Object listener=this.startObservingBundleEvents();
    final List<InstallableResource> r=new ArrayList<InstallableResource>();
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testB-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-needsB.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.1.jar"))[0]);
    installer.registerResources(URL_SCHEME,r.toArray(new InstallableResource[r.size()]));
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-needsB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-needsB","1.0",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testbundle","1.1",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testbundle","1.1",org.osgi.framework.BundleEvent.STARTED));
    final String info="After initial registration";
    assertBundle(info,"osgi-installer-testB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-needsB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-testbundle","1.1",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar")),null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testbundle","1.2",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("After adding testbundle V1.2","osgi-installer-testbundle","1.2",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources("anotherscheme",new InstallableResource[]{new MockInstallableResource("osgi-installer-testA.jar",new FileInputStream(getTestBundle(BUNDLE_BASE_NAME + "-testA-1.0.jar")),"digest1",null,null)},null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testA","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testA","1.0",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("testA bundle added","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    final List<InstallableResource> r=new ArrayList<InstallableResource>();
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-needsB.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-snap.jar"),"digest1")[0]);
    installer.registerResources(URL_SCHEME,r.toArray(new InstallableResource[r.size()]));
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-snapshot-test","1.0.0.SNAPSHOT",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-snapshot-test","1.0.0.SNAPSHOT",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testB",org.osgi.framework.BundleEvent.STOPPED),new BundleEvent("osgi-installer-testB",org.osgi.framework.BundleEvent.UNINSTALLED),new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.UPDATED),new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("Snapshot bundle must be started","osgi-installer-snapshot-test","1.0.0.SNAPSHOT",Bundle.ACTIVE);
    assertNull("Bundle testB must be gone",findBundle("osgi-installer-testB"));
    final Bundle b=assertBundle("Bundle needsB must still be present","osgi-installer-needsB","1.0",-1);
    refreshPackages();
    final int state=b.getState();
    assertFalse("Bundle needsB must not be active anymore, as testB is gone (" + state + ")",Bundle.ACTIVE == state);
    assertBundle("Testbundle must be back to 1.0 as 1.1 and 1.2 is gone","osgi-installer-testbundle","1.0",Bundle.ACTIVE);
    assertBundle("testA bundle should still be present","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testB-1.0.jar")),null);
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar")),null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.UPDATED),new BundleEvent("osgi-installer-testbundle","1.2",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.STARTED));
    final String info="After re-adding missing bundles";
    assertBundle(info,"osgi-installer-testB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-testbundle","1.2",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-snapshot-test","1.0.0.SNAPSHOT",Bundle.ACTIVE);
    final Bundle b=findBundle("osgi-installer-needsB");
    b.start();
    assertBundle("After reinstalling testB, needsB must be startable, ","osgi-installer-needsB","1.0",Bundle.ACTIVE);
    assertBundle("testA bundle should still be present","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.UpdateHandlerTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleUpdate() throws Exception {
  final UpdateHandlerImpl up=new UpdateHandlerImpl();
  final Dictionary<String,Object> dict=new Hashtable<String,Object>();
  dict.put(UpdateHandler.PROPERTY_SCHEMES,TYPE);
  this.serviceRegistrations.add(this.bundleContext.registerService(UpdateHandler.class,up,dict));
  final Dictionary<String,Object> data=new Hashtable<String,Object>();
  data.put("foo","bar");
  final InstallableResource ir=new InstallableResource("/resource/a." + TYPE,null,data,null,InstallableResource.TYPE_PROPERTIES,null);
  final Barrier b=this.getInstallerListenerBarrier();
  this.installer.registerResources(TYPE,new InstallableResource[]{ir});
  b.block();
  b.reg.unregister();
  assertNotNull("Resource should be installed: " + installed,installed.get(TYPE) + ":a");
  final Dictionary<String,Object> newData=new Hashtable<String,Object>();
  data.put("bar","foo");
  this.resourceChangeListener.resourceAddedOrUpdated(TYPE,"a",null,newData,null);
  final UpdateResult ur=up.waitForUpdate();
  assertNotNull(ur);
  assertEquals(TYPE + ":/resource/b/a." + TYPE,ur.getURL());
  this.resourceChangeListener.resourceRemoved(TYPE,"a");
  final UpdateResult r2=up.waitForUpdate();
  assertNotNull(r2);
  assertEquals(TYPE + ":/resource/b/a." + TYPE,r2.getURL());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.provider.jcr.impl.FolderNameFilterTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRootPriorities(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertEquals("/libs root",new Integer(100),(Integer)f.getPriority("/libs/install"));
  assertEquals("/apps root",new Integer(200),(Integer)f.getPriority("/apps/install"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAuthorPriorities(){
  final Set<String> m=new HashSet<String>();
  m.add("author");
  m.add("mycompany");
  m.add("dev");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,CONFIG_REGEXP,m);
  assertEquals("",new Integer(201),(Integer)f.getPriority("/apps/somewhere/runmodes/config.author"));
  assertEquals("",new Integer(202),(Integer)f.getPriority("/apps/somewhere/runmodes/config.author.dev"));
  assertEquals("",new Integer(203),(Integer)f.getPriority("/apps/somewhere/runmodes/config.author.dev.mycompany"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testThreeModes(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  m.add("web");
  m.add("staging");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
  assertTrue("Test 3",f.getPriority("/libs/install.dev") > 0);
  assertTrue("Test 4",f.getPriority("/libs/install.web") > 0);
  assertTrue("Test 5",f.getPriority("/libs/install.staging") > 0);
  assertFalse("Test 6",f.getPriority("/libs/install/dev") > 0);
  assertTrue("Test 7",f.getPriority("/libs/install.dev.web.staging") > 0);
  assertTrue("Test 8",f.getPriority("/libs/install.web.dev.staging") > 0);
  assertTrue("Test 9",f.getPriority("/libs/install.staging.web.dev") > 0);
  assertTrue("Test 10",f.getPriority("/libs/install.staging.dev.web") > 0);
  assertTrue("Test 11",f.getPriority("/libs/install.dev.dev.web.staging.web") > 0);
  assertFalse("Test 12",f.getPriority("/libs/install.dev.bar") > 0);
  assertFalse("Test 13",f.getPriority("/libs/install.bar.dev") > 0);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRunModePriorities(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  m.add("prod");
  m.add("staging");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertEquals("Matches no runmode",new Integer(100),(Integer)f.getPriority("/libs/install"));
  assertEquals("Matches dev runmode",new Integer(201),(Integer)f.getPriority("/apps/install.dev"));
  assertEquals("Matches staging runmode",new Integer(201),(Integer)f.getPriority("/apps/install.staging"));
  assertEquals("Matches three runmodes (A)",new Integer(203),(Integer)f.getPriority("/apps/install.dev.staging.prod"));
  assertEquals("Matches three runmodes (B)",new Integer(203),(Integer)f.getPriority("/apps/install.dev.prod.staging"));
  assertEquals("Matches three runmodes (C)",new Integer(103),(Integer)f.getPriority("/libs/install.dev.prod.staging"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParseRootPaths(){
{
    final String[] paths={"a","b/"};
    final FolderNameFilter f=new FolderNameFilter(paths,DEFAULT_REGEXP,new HashSet<String>());
    assertEquals("/a",f.getRootPaths()[0]);
    assertEquals("/b",f.getRootPaths()[1]);
    assertEquals(FolderNameFilter.DEFAULT_ROOT_PRIORITY,f.getRootPriority("/a/foo"));
    assertEquals(FolderNameFilter.DEFAULT_ROOT_PRIORITY,f.getRootPriority("/b/foo"));
    assertEquals(0,f.getRootPriority("/notInThoseRoots"));
  }
{
    final String[] paths={"a:100","/b/: 200 "};
    final FolderNameFilter f=new FolderNameFilter(paths,DEFAULT_REGEXP,new HashSet<String>());
    assertEquals("/b",f.getRootPaths()[0]);
    assertEquals("/a",f.getRootPaths()[1]);
    assertEquals(100,f.getRootPriority("/a/foo"));
    assertEquals(200,f.getRootPriority("/b/foo"));
  }
{
    final String[] paths={"a/:NOT_AN_INTEGER","/b/: 200 "};
    final FolderNameFilter f=new FolderNameFilter(paths,DEFAULT_REGEXP,new HashSet<String>());
    assertEquals("/b",f.getRootPaths()[0]);
    assertEquals("/a",f.getRootPaths()[1]);
    assertEquals(FolderNameFilter.DEFAULT_ROOT_PRIORITY,f.getRootPriority("/a/foo"));
    assertEquals(200,f.getRootPriority("/b/foo"));
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoRunMode(){
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,new HashSet<String>());
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSingleMode(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
  assertTrue("Test 3",f.getPriority("/libs/install.dev") > 0);
  assertFalse("Test 4",f.getPriority("/libs/install/dev") > 0);
  assertTrue("Test 5",f.getPriority("/libs/install.dev.dev") > 0);
  assertFalse("Test 6",f.getPriority("/libs/install.dev.bar") > 0);
  assertFalse("Test 7",f.getPriority("/libs/install.bar.dev") > 0);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDotsInPath(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  m.add("prod");
  m.add("staging");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertEquals("Matches no runmode",new Integer(100),(Integer)f.getPriority("/libs/foo.bar/install"));
  assertEquals("Matches dev runmode",new Integer(201),(Integer)f.getPriority("/apps/foo.bar/install.dev"));
  assertEquals("Matches staging runmode",new Integer(201),(Integer)f.getPriority("/apps/foo.bar/install.staging"));
  assertEquals("Matches three runmodes (A)",new Integer(203),(Integer)f.getPriority("/apps/foo.bar/install.dev.staging.prod"));
  assertEquals("Matches three runmodes (B)",new Integer(203),(Integer)f.getPriority("/apps/foo.bar/install.dev.prod.staging"));
  assertEquals("Matches three runmodes (C)",new Integer(103),(Integer)f.getPriority("/libs/foo.bar/install.dev.prod.staging"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.provider.jcr.impl.RootFolderMoveListenerTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMove() throws Exception {
  contentModificationSession.getRootNode().addNode(ROOT_1.substring(1));
  contentModificationSession.getNode(ROOT_1).addNode("one");
  contentModificationSession.save();
  waitForScanDelay();
  assertFalse("Expecting no scheduled scan before move",timer.expired());
  contentModificationSession.move(ROOT_1 + "/one",ROOT_1 + "/two");
  contentModificationSession.save();
  waitForScanDelay();
  assertTrue("Expecting scan to be triggered after move",timer.expired());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTimer(){
  assertFalse(timer.expired());
  timer.scheduleScan();
  waitForScanDelay();
  assertTrue(timer.expired());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testToString(){
  final String str=rmlt.toString();
  assertTrue("Expecting " + str + " to contain our list of paths",str.contains(ROOT_1 + ", " + ROOT_2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.base.SessionProxyHandlerTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Method verifies that session proxy with given repository manager could be created
 * and proxy instance is a kind of <code>SessionProxyHandler.SessionProxyInvocationHandler</code>
 * class.
 */
@Test public void testProxy() throws RepositoryException {
  Session session=Mockito.spy(MockJcr.newSession("admin","adminSpace"));
  Session imperSession=MockJcr.newSession("test","testSpace");
  doReturn(imperSession).when(session).impersonate(null);
  SessionProxyHandler proxyHandler=new SessionProxyHandler(new MockSlingRepositoryManager(null));
  Session proxySession=proxyHandler.createProxy(session);
  Session sessionForTest=proxySession.impersonate(null);
  InvocationHandler handler=Proxy.getInvocationHandler(sessionForTest);
  assertEquals(SessionProxyHandler.SessionProxyInvocationHandler.class,handler.getClass());
  assertNotNull(sessionForTest.getRootNode());
  assertNotNull(sessionForTest.getRepository());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.BundleContentLoaderTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void loadContentWithRootPath() throws Exception {
  Bundle mockBundle=newBundleWithInitialContent("SLING-INF/");
  contentLoader.registerBundle(context.resourceResolver().adaptTo(Session.class),mockBundle,false);
  Resource imported=context.resourceResolver().getResource("/libs/app");
  assertThat("Resource was not imported",imported,notNullValue());
  assertThat("sling:resourceType was not properly set",imported.getResourceType(),equalTo("sling:Folder"));
}

</code></pre>

<br>
<pre class="type-9 type-17 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Test @Ignore("TODO - unregister or somehow ignore the XmlReader component for this test") public void loadXmlAsIs() throws Exception {
  dumpRepo("/",2);
  Bundle mockBundle=newBundleWithInitialContent("SLING-INF/libs/app;path:=/libs/app;ignoreImportProviders:=xml");
  contentLoader.registerBundle(context.resourceResolver().adaptTo(Session.class),mockBundle,false);
  Resource imported=context.resourceResolver().getResource("/libs/app");
  assertThat("Resource was not imported",imported,notNullValue());
  assertThat("sling:resourceType was not properly set",imported.getResourceType(),equalTo("sling:Folder"));
  Resource xmlFile=context.resourceResolver().getResource("/libs/app.xml");
  dumpRepo("/",2);
  assertThat("XML file was was not imported",xmlFile,notNullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void loadContentWithSpecificPath() throws Exception {
  Bundle mockBundle=newBundleWithInitialContent("SLING-INF/libs/app;path:=/libs/app");
  contentLoader.registerBundle(context.resourceResolver().adaptTo(Session.class),mockBundle,false);
  Resource imported=context.resourceResolver().getResource("/libs/app");
  assertThat("Resource was not imported",imported,notNullValue());
  assertThat("sling:resourceType was not properly set",imported.getResourceType(),equalTo("sling:Folder"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.ContentLoaderServiceTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void getContentInfoFromNotLockableNode() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=(Node)session.getItem(ContentLoaderService.BUNDLE_CONTENT_NODE);
  bcNode.addNode(bundle.getSymbolicName());
  session.save();
  assertNull(underTest.getBundleContentInfo(session,bundle,false));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getContentInfo() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=(Node)session.getItem(ContentLoaderService.BUNDLE_CONTENT_NODE);
  final Node bundleContent=bcNode.addNode(bundle.getSymbolicName());
  bundleContent.addMixin("mix:lockable");
  Calendar now=Calendar.getInstance();
  bundleContent.setProperty(PROPERTY_CONTENT_LOADED_AT,now);
  final Boolean isLoaded=true;
  bundleContent.setProperty(PROPERTY_CONTENT_LOADED,isLoaded);
  final String[] paths={"foo","bar"};
  bundleContent.setProperty(PROPERTY_UNINSTALL_PATHS,paths);
  session.save();
  Map<String,Object> props=underTest.getBundleContentInfo(session,bundle,false);
  assertThat("ContentInfo should be provided",props,notNullValue());
  assertEquals(isLoaded,props.get(PROPERTY_CONTENT_LOADED));
  assertTrue(props.containsKey(PROPERTY_CONTENT_LOADED_AT));
  assertTrue(props.containsKey(PROPERTY_UNINSTALL_PATHS));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testContentIsUninstalled() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=session.getNode(BUNDLE_CONTENT_NODE).addNode(bundle.getSymbolicName());
  underTest.contentIsUninstalled(session,bundle);
  assertTrue(bcNode.hasProperty("content-unloaded-by"));
  assertTrue(bcNode.hasProperty("content-unload-time"));
  assertFalse(bcNode.hasProperty(PROPERTY_UNINSTALL_PATHS));
  assertFalse(bcNode.getProperty(PROPERTY_CONTENT_LOADED).getBoolean());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void getContentInfoFromLockedNode() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=(Node)session.getItem(ContentLoaderService.BUNDLE_CONTENT_NODE);
  bcNode.addNode(bundle.getSymbolicName()).addMixin("mix:lockable");
  session.save();
  bcNode.getNode(bundle.getSymbolicName()).lock(false,true);
  assertNull(underTest.getBundleContentInfo(session,bundle,false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.CreateNodeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCreateNode() throws Exception {
  contentCreator.prepareParsing(testRoot,DEFAULT_NAME);
  final String name=uniqueId();
  assertFalse("Expecting " + name + " child node to be absent before test",testRoot.hasNode(name));
  contentCreator.createNode(name,null,null);
  assertTrue("Expecting " + name + " child node to be created",testRoot.hasNode(name));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.DefaultContentCreatorTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void finishNodeWithSingleProperty() throws RepositoryException, NoSuchFieldException {
  final String propName=uniqueId();
  final String underTestNodeName=uniqueId();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      exactly(2).of(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,null);
  contentCreator.createProperty(propName,PropertyType.REFERENCE,underTestNodeName);
  contentCreator.createNode(underTestNodeName,null,null);
  Node underTest=parentNode.getNode(underTestNodeName);
  underTest.addMixin("mix:referenceable");
  contentCreator.finishNode();
  assertEquals(underTest.getUUID(),parentNode.getProperty(propName).getString());
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void propertyDoesntOverwritten() throws RepositoryException {
  final String newPropertyName=uniqueId();
  final String newPropertyValue=uniqueId();
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  parentNode.setProperty(newPropertyName,newPropertyValue);
  session.save();
  contentCreator.createProperty(newPropertyName,PropertyType.REFERENCE,new String[]{"bar1","bar2"});
  assertTrue(!parentNode.getProperty(newPropertyName).isNew());
  assertEquals(newPropertyValue,parentNode.getProperty(newPropertyName).getString());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createDateProperty() throws RepositoryException, ParseException {
  final String propName="dateProp";
  final String[] propValues={"2012-10-01T09:45:00.000+02:00","2011-02-13T09:45:00.000+02:00"};
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  parentNode.addMixin("mix:versionable");
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,true,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.DATE,propValues);
  assertTrue(parentNode.hasProperty(propName));
  Property dateProp=parentNode.getProperty(propName);
  assertTrue(dateProp.isNew());
  assertEquals(propValues.length,dateProp.getValues().length);
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createNodeWithPrimaryType() throws RepositoryException {
  final String newNodeName=uniqueId();
  final List<String> createdNodes=new ArrayList<String>();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,false,true,false,false),new HashMap<String,ContentReader>(),createdNodes,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  int createdNodesSize=createdNodes.size();
  contentCreator.createNode(newNodeName,NodeType.NT_UNSTRUCTURED,null);
  assertEquals(createdNodesSize + 1,createdNodes.size());
  Node createdNode=parentNode.getNode(newNodeName);
  assertNotNull(createdNode);
  assertTrue(createdNode.getPrimaryNodeType().isNodeType(NodeType.NT_UNSTRUCTURED));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateTrueCheckedOutPreperty() throws RepositoryException {
  parentNode=mockery.mock(Node.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(parentNode).hasProperty(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,null);
  int numberOfVersionablesNodes=contentCreator.getVersionables().size();
  contentCreator.createProperty("jcr:isCheckedOut",PropertyType.UNDEFINED,"true");
  assertEquals(numberOfVersionablesNodes,contentCreator.getVersionables().size());
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addMixinsToExistingNode() throws RepositoryException, NoSuchFieldException {
  final String newNodeName=uniqueId();
  final String[] mixins={"mix:versionable"};
  final List<Node> versionables=(List<Node>)PrivateAccessor.getField(contentCreator,"versionables");
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,true,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  Node newNode=parentNode.addNode(newNodeName);
  assertEquals(0,versionables.size());
  assertFalse(newNode.isNodeType(mixins[0]));
  contentCreator.createNode(newNodeName,null,mixins);
  assertEquals(1,versionables.size());
  assertTrue(newNode.isNodeType(mixins[0]));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreateFalseCheckedOutPreperty() throws RepositoryException {
  parentNode=mockery.mock(Node.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(parentNode).hasProperty(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,null);
  int numberOfVersionablesNodes=contentCreator.getVersionables().size();
  contentCreator.createProperty("jcr:isCheckedOut",PropertyType.UNDEFINED,"false");
  assertEquals(numberOfVersionablesNodes + 1,contentCreator.getVersionables().size());
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createNodeWithOverwrite() throws RepositoryException {
  final String newNodeName=uniqueId();
  final String propertyName=uniqueId();
  final String propertyValue=uniqueId();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,false,true,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  Node nodeToOverwrite=parentNode.addNode(newNodeName);
  nodeToOverwrite.setProperty(propertyName,propertyValue);
  assertTrue(parentNode.getNode(newNodeName).hasProperty(propertyName));
  contentCreator.createNode(newNodeName,null,null);
  assertFalse(parentNode.getNode(newNodeName).hasProperty(propertyName));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createOtherProperty() throws RepositoryException {
  final String propName=uniqueId();
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.STRING,new String[]{});
  assertTrue(parentNode.hasProperty(propName));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createReferenceProperty() throws RepositoryException, NoSuchFieldException {
  final String propName=uniqueId();
  final String[] propValues={uniqueId(),uniqueId()};
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  final Map<String,String[]> delayedMultipleReferences=(Map<String,String[]>)PrivateAccessor.getField(contentCreator,"delayedMultipleReferences");
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  contentCreator.createProperty(propName,PropertyType.REFERENCE,propValues);
  assertTrue(parentNode.hasProperty(propName));
  assertTrue(parentNode.getProperty(propName).isNew());
  String referencesKey=parentNode.getPath() + "/" + propName;
  String[] uuidsOrPaths=delayedMultipleReferences.get(referencesKey);
  assertNotNull(uuidsOrPaths);
  assertEquals(propValues.length,uuidsOrPaths.length);
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createUndefinedProperty() throws RepositoryException {
  final String propName=uniqueId();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.UNDEFINED,new String[]{});
  assertTrue(parentNode.hasProperty(propName));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.PathEntryTest </h4><pre class="type-15 type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetContentPaths(){
  final Bundle bundle=mockery.mock(Bundle.class);
  final Dictionary<String,String> dict=new Hashtable();
  dict.put("Bnd-LastModified","1258555936230");
  dict.put(PathEntry.CONTENT_HEADER,"test1, test2");
  final long lastModifiedValue=1258555936229L;
  mockery.checking(new Expectations(){
{
      allowing(bundle).getLastModified();
      will(returnValue(lastModifiedValue));
      allowing(bundle).getHeaders();
      will(returnValue(dict));
    }
  }
);
  int i=0;
  Iterator<PathEntry> paths=PathEntry.getContentPaths(bundle);
  assertNotNull(paths);
  while (paths.hasNext()) {
    i++;
    assertEquals(lastModifiedValue,paths.next().getLastModified());
  }
  assertEquals(2,i);
  dict.remove(PathEntry.CONTENT_HEADER);
  assertNull(PathEntry.getContentPaths(bundle));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructorSetup() throws NoSuchFieldException {
  final String overwriteDirective="true";
  final String overwritePropertiesDirective="true";
  final String uninstallDirective="true";
  final String pathDirective="PATH_DIRECTIVE";
  final String checkInDirective="true";
  final String autoCheckoutDirective="true";
  final String ignoreContentReadersDirective="mp3,txt,java";
  final String workspaceDirective="WORKSPACE_DIRECTIVE";
  final Long lastModified=1L;
  final Map<String,String> props=new HashMap<String,String>();
  props.put(PathEntry.OVERWRITE_DIRECTIVE,overwriteDirective);
  props.put(PathEntry.OVERWRITE_PROPERTIES_DIRECTIVE,overwritePropertiesDirective);
  props.put(PathEntry.UNINSTALL_DIRECTIVE,uninstallDirective);
  props.put(PathEntry.PATH_DIRECTIVE,pathDirective);
  props.put(PathEntry.CHECKIN_DIRECTIVE,checkInDirective);
  props.put(PathEntry.AUTOCHECKOUT_DIRECTIVE,autoCheckoutDirective);
  props.put(PathEntry.IGNORE_CONTENT_READERS_DIRECTIVE,ignoreContentReadersDirective);
  props.put(PathEntry.WORKSPACE_DIRECTIVE,workspaceDirective);
  final ManifestHeader.Entry entry=new TestEntry(props);
  final PathEntry pathEntry=new PathEntry(entry,lastModified);
  assertEquals(pathEntryPath,pathEntry.getPath());
  assertEquals(lastModified,pathEntry.getLastModified(),0);
  assertEquals(Boolean.valueOf(overwriteDirective),pathEntry.isOverwrite());
  assertEquals(Boolean.valueOf(overwritePropertiesDirective),pathEntry.isPropertyOverwrite());
  assertEquals(Boolean.valueOf(uninstallDirective),pathEntry.isUninstall());
  assertEquals(pathDirective,pathEntry.getTarget());
  assertEquals(Boolean.valueOf(checkInDirective),pathEntry.isCheckin());
  assertEquals(Boolean.valueOf(autoCheckoutDirective),pathEntry.isAutoCheckout());
  assertEquals(workspaceDirective,pathEntry.getWorkspace());
  assertTrue(pathEntry.isIgnoredImportProvider("mp3"));
  assertTrue(pathEntry.isIgnoredImportProvider(".mp3"));
  assertTrue(pathEntry.isIgnoredImportProvider(".txt"));
  assertTrue(pathEntry.isIgnoredImportProvider("java"));
  assertFalse(pathEntry.isIgnoredImportProvider("avi"));
  assertFalse(pathEntry.isIgnoredImportProvider(".avi"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.it.ContentBundleTestBase </h4><pre class="type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  registerStartupHandler();
  session=repository.loginAdministrative(null);
  if (!bundlesToRemove.isEmpty()) {
    return;
  }
  assertFalse("Expecting no content before test",session.itemExists(contentRootPath));
  final InputStream is=getTestBundleStream();
  try {
    final Bundle b=bundleContext.installBundle(bundleSymbolicName,is);
    bundlesToRemove.add(b);
    b.start();
  }
  finally {
    is.close();
  }
  maybeDumpTestBundle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.repository.it.CommonTests </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testAnonymousLoginB() throws RepositoryException {
  final Session s=repository.login(null,null);
  assertNotNull(s);
  s.logout();
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testAnonymousLoginA() throws RepositoryException {
  final Session s=repository.login();
  assertNotNull(s);
  s.logout();
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSingleValueInputStream() throws RepositoryException {
  Session s=repository.loginAdministrative(null);
  try {
    final String path=getClass().getSimpleName() + System.currentTimeMillis();
    final Node child=deleteAfterTests(s.getRootNode().addNode(path));
    final Property p=child.setProperty("foo","bar");
    s.save();
    assertNotNull(p.getBinary().getStream());
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testXpathQueryWithMixin() throws RepositoryException {
  Session s=repository.loginAdministrative(null);
  try {
    final String path="XPATH_QUERY_" + System.currentTimeMillis();
    final String absPath="/" + path;
    final Node n=deleteAfterTests(s.getRootNode().addNode(path));
    n.addMixin("mix:title");
    s.save();
    final String statement="/jcr:root//element(*, mix:title)";
    @SuppressWarnings("deprecation") final Query q=s.getWorkspace().getQueryManager().createQuery(statement,Query.XPATH);
    final NodeIterator it=q.execute().getNodes();
    assertTrue("Expecting a non-empty result",it.hasNext());
    boolean found=false;
    while (it.hasNext()) {
      if (it.nextNode().getPath().equals(absPath)) {
        found=true;
        break;
      }
    }
    assertTrue("Expecting test node " + absPath + " to be found",found);
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testLoginAdministrative() throws RepositoryException {
  final Session s=repository.loginAdministrative(null);
  assertNotNull(s);
  s.logout();
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnonymousHasReadAccess() throws RepositoryException {
  final String path=assertCreateRetrieveNode(null);
  final Session s=repository.login();
  try {
    assertTrue("Expecting anonymous to see " + path,s.itemExists(path));
    final Node n=s.getNode(path);
    assertEquals("Expecting anonymous to see the foo property",path,n.getProperty("foo").getString());
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.AbstractListenerTest </h4><pre class="type-12 type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleOperations() throws Exception {
  generateEvents();
  assertEquals("Received: " + events,5,events.size());
  final Set<String> addPaths=new HashSet<String>();
  final Set<String> modifyPaths=new HashSet<String>();
  final Set<String> removePaths=new HashSet<String>();
  for (  final ResourceChange event : events) {
    if (event.getType() == ChangeType.ADDED) {
      addPaths.add(event.getPath());
    }
 else     if (event.getType() == ChangeType.CHANGED) {
      modifyPaths.add(event.getPath());
      assertEquals(Collections.singleton("foo"),event.getAddedPropertyNames());
    }
 else     if (event.getType() == ChangeType.REMOVED) {
      removePaths.add(event.getPath());
    }
 else {
      fail("Unexpected event: " + event);
    }
    assertNotNull(event.getUserId());
  }
  assertEquals(3,addPaths.size());
  assertTrue("Added set should contain " + createdPath,addPaths.contains(createdPath));
  assertTrue("Added set should contain " + pathToDelete,addPaths.contains(pathToDelete));
  assertTrue("Added set should contain " + pathToModify,addPaths.contains(pathToModify));
  assertEquals(1,modifyPaths.size());
  assertTrue("Modified set should contain " + pathToModify,modifyPaths.contains(pathToModify));
  assertEquals(1,removePaths.size());
  assertTrue("Removed set should contain " + pathToDelete,removePaths.contains(pathToDelete));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.JcrSystemUserValidatorTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsValidWithEnforcementOfSystemUsersEnabled() throws Exception {
  Field allowOnlySystemUsersField=jcrSystemUserValidator.getClass().getDeclaredField("allowOnlySystemUsers");
  allowOnlySystemUsersField.setAccessible(true);
  allowOnlySystemUsersField.set(jcrSystemUserValidator,true);
  assertFalse(jcrSystemUserValidator.isValid(null,null,null));
  assertFalse(jcrSystemUserValidator.isValid("notExisting",null,null));
  assertFalse(jcrSystemUserValidator.isValid(GROUP_ADMINISTRATORS,null,null));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsValidWithEnforcementOfSystemUsersDisabled() throws Exception {
  Field allowOnlySystemUsersField=jcrSystemUserValidator.getClass().getDeclaredField("allowOnlySystemUsers");
  allowOnlySystemUsersField.setAccessible(true);
  allowOnlySystemUsersField.set(jcrSystemUserValidator,false);
  assertFalse(jcrSystemUserValidator.isValid(null,null,null));
  assertTrue(jcrSystemUserValidator.isValid("notExisting",null,null));
  assertTrue(jcrSystemUserValidator.isValid(GROUP_ADMINISTRATORS,null,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.helper.jcr.JcrPropertyResourceTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCorrectUTF8ByteLength() throws RepositoryException, UnsupportedEncodingException {
  final HashMap<Object,Integer> testData=new HashMap<Object,Integer>(){
{
      put("some random ascii string",PropertyType.STRING);
      put(" ",PropertyType.STRING);
      put("",PropertyType.STRING);
      put("string with mlaut",PropertyType.STRING);
      put(true,PropertyType.BOOLEAN);
      put(1000L,PropertyType.LONG);
      put(BigDecimal.TEN,PropertyType.DECIMAL);
    }
  }
;
  final ResourceResolver resolver=this.context.mock(ResourceResolver.class);
  for (  final Entry<Object,Integer> data : testData.entrySet()) {
    final String stringValue=data.getKey().toString();
    final long stringByteLength=stringValue.getBytes("UTF-8").length;
    final Property property=this.context.mock(Property.class,stringValue);
    this.context.checking(new Expectations(){
{
        ignoring(resolver);
        allowing(property).getParent();
        allowing(property).getName();
        allowing(property).isMultiple();
        will(returnValue(false));
        allowing(property).getLength();
        will(returnValue((long)stringValue.length()));
        allowing(property).getType();
        will(returnValue(data.getValue()));
        allowing(property).getString();
        will(returnValue(stringValue));
      }
    }
);
    final JcrPropertyResource propResource=new JcrPropertyResource(resolver,"/path/to/string-property",null,property);
    assertEquals("Byte length of " + stringValue,stringByteLength,propResource.getResourceMetadata().getContentLength());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.helper.jcr.PathMapperTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mappingTest() throws Throwable {
  final Map<String,Object> config=new HashMap<String,Object>();
  config.put("path.mapping",new String[]{"/libs:/foo","/hidden:.","/deep/node:/deep/resource"});
  final PathMapper pm=new PathMapper();
  PrivateAccessor.invoke(pm,"activate",new Class[]{Map.class},new Object[]{config});
  assertEquals("/",pm.mapResourcePathToJCRPath("/"));
  assertEquals("/",pm.mapJCRPathToResourcePath("/"));
  assertEquals("/unmapped",pm.mapResourcePathToJCRPath("/unmapped"));
  assertEquals("/unmapped",pm.mapJCRPathToResourcePath("/unmapped"));
  assertEquals("/unmapped/a",pm.mapResourcePathToJCRPath("/unmapped/a"));
  assertEquals("/unmapped/a",pm.mapJCRPathToResourcePath("/unmapped/a"));
  assertEquals("/libs",pm.mapResourcePathToJCRPath("/foo"));
  assertEquals("/foo",pm.mapJCRPathToResourcePath("/libs"));
  assertEquals("/foo1",pm.mapResourcePathToJCRPath("/foo1"));
  assertEquals("/libs1",pm.mapJCRPathToResourcePath("/libs1"));
  assertEquals("/libs/a",pm.mapResourcePathToJCRPath("/foo/a"));
  assertEquals("/foo/a",pm.mapJCRPathToResourcePath("/libs/a"));
  assertEquals("/deep/node",pm.mapResourcePathToJCRPath("/deep/resource"));
  assertEquals("/deep/resource",pm.mapJCRPathToResourcePath("/deep/node"));
  assertEquals("/deep/node/a",pm.mapResourcePathToJCRPath("/deep/resource/a"));
  assertEquals("/deep/resource/a",pm.mapJCRPathToResourcePath("/deep/node/a"));
  assertNull(pm.mapResourcePathToJCRPath("/hidden"));
  assertNull(pm.mapResourcePathToJCRPath("/hidden/a"));
  assertEquals("/hidden1",pm.mapResourcePathToJCRPath("/hidden1"));
  assertNull(pm.mapJCRPathToResourcePath("/hidden"));
  assertNull(pm.mapJCRPathToResourcePath("/hidden/a"));
  assertEquals("/hidden1",pm.mapJCRPathToResourcePath("/hidden1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.it.ResourceVersioningTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResourceOnVersionableNode() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test;v='1.0'");
  String prop=resource.adaptTo(ValueMap.class).get("prop",String.class);
  assertEquals("oldvalue",prop);
  assertEquals("/content/test;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getChildOnVersionableResource() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test;v='1.0'").getChild("x/y");
  String prop=resource.adaptTo(ValueMap.class).get("child_prop",String.class);
  assertEquals("child_old_value",prop);
  assertEquals("/content/test/x/y;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void resolveOnVersionableNode() throws RepositoryException, NamingException {
  for (  String path : Arrays.asList("/content/test;v='1.0'.html","/content/test.html;v=1.0","/content/test;v='1.0'.html/some/suffix","/content/test.html;v=1.0/some/suffix")) {
    Resource resource=resolver.resolve(path);
    String prop=resource.adaptTo(ValueMap.class).get("prop",String.class);
    assertEquals("oldvalue",prop);
    assertEquals("/content/test;v='1.0'",resource.getPath());
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResourceOnVersionableProperty() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test/prop;v='1.0'");
  String prop=resource.adaptTo(String.class);
  assertEquals("oldvalue",prop);
  assertEquals("/content/test/prop;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResourceOnVersionableDescendantProperty() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test/x/y/child_prop;v='1.0'");
  String prop=resource.adaptTo(String.class);
  assertEquals("child_old_value",prop);
  assertEquals("/content/test/x/y/child_prop;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getParentOnVersionableResource() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test/x;v='1.0'").getParent();
  String prop=resource.adaptTo(ValueMap.class).get("prop",String.class);
  assertEquals("newvalue",prop);
  assertEquals("/content/test",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void listChildrenOnVersionableResource() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test/x;v='1.0'").listChildren().next();
  String prop=resource.adaptTo(ValueMap.class).get("child_prop",String.class);
  assertEquals("child_old_value",prop);
  assertEquals("/content/test/x/y;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void getResourceOnVersionableDescendant() throws RepositoryException, NamingException {
  Resource resource=resolver.getResource("/content/test/x/y;v='1.0'");
  String prop=resource.adaptTo(ValueMap.class).get("child_prop",String.class);
  assertEquals("child_old_value",prop);
  assertEquals("/content/test/x/y;v='1.0'",resource.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.healthcheck.impl.JUnitTestSelectorTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoMethod(){
  final JUnitTestSelector s=new JUnitTestSelector("com.example.foo",null,null);
  assertTrue("Expecting package to be selected",s.acceptTestName("com.example.foo"));
  assertTrue("Expecting subpackage to be selected",s.acceptTestName("com.example.foo.bar"));
  assertTrue("Expecting class to be selected",s.acceptTestName("com.example.foo.some.ThisClass"));
  assertFalse("Expecting other package.accept to return false",s.acceptTestName("com.other.foo"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithMethod(){
  final JUnitTestSelector s=new JUnitTestSelector("com.example.foo","someMethod",null);
  assertTrue("Expecting package to be selected",s.acceptTestName("com.example.foo"));
  assertEquals("someMethod",s.getSelectedTestMethodName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.remote.testrunner.RemoteExecutionExceptionTest </h4><pre class="type-11 type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetStackTraceFromStringWithNestedException() throws NumberFormatException, IOException {
  String trace=null;
  try {
    try {
      throw new IllegalStateException("Some message");
    }
 catch (    Exception e) {
      throw new RuntimeException("Wrapper exception",e);
    }
  }
 catch (  Exception e) {
    StringWriter writer=new StringWriter();
    e.printStackTrace(new PrintWriter(writer));
    trace=writer.toString();
  }
  RemoteExecutionException e=RemoteExecutionException.getExceptionFromTrace(trace);
  Assert.assertThat(e.getMessage(),Matchers.equalTo("java.lang.RuntimeException: Wrapper exception"));
  List<StackTraceElement> stackTraceElements=Arrays.asList(e.getStackTrace());
  Assert.assertThat(stackTraceElements,Matchers.hasItem(new StackTraceElement("org.apache.sling.junit.remote.testrunner.RemoteExecutionExceptionTest","testGetStackTraceFromStringWithNestedException","RemoteExecutionExceptionTest.java",60)));
  Assert.assertThat(stackTraceElements,Matchers.not(Matchers.hasItem(new StackTraceElement("org.apache.sling.junit.remote.testrunner.RemoteExecutionExceptionTest","testGetStackTraceFromStringWithNestedException","RemoteExecutionExceptionTest.java",58))));
  Assert.assertNotNull("Cause must be set on the exception",e.getCause());
  Assert.assertThat(e.getCause().getMessage(),Matchers.equalTo("java.lang.IllegalStateException: Some message"));
  stackTraceElements=Arrays.asList(e.getCause().getStackTrace());
  Assert.assertThat(stackTraceElements,Matchers.hasItem(new StackTraceElement("org.apache.sling.junit.remote.testrunner.RemoteExecutionExceptionTest","testGetStackTraceFromStringWithNestedException","RemoteExecutionExceptionTest.java",58)));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.scriptable.TestAllPaths </h4><pre class="type-12 type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void verifyContent() throws Exception {
  final TestContext ctx=ScriptableTestsProvider.getTestContext();
  final HttpRequest req=new HttpRequest(path);
  final HttpResponse resp=new HttpResponse();
  ctx.requestProcessor.processRequest(req,resp,ctx.resourceResolver);
  final String content=resp.getContent();
  assertEquals("Expecting HTTP status 200 for path " + path,200,resp.getStatus());
  boolean testSuccess=checkTest(content);
  if (!testSuccess) {
    fail("Unexpected content at path " + path + ", should be just "+ PASSED+ " (lines starting with # and empty lines are ignored)"+ "\ncontent was:\n"+ content+ "\n");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.ClassLoaderResourceProviderChildrenTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoResults(){
  final Iterator<String> it=provider.getChildren("FOO");
  assertFalse("Expecting no children",it.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testException(){
  throwExceptionOnOpenConnection=true;
  final Iterator<String> it=provider.getChildren("resources/install");
  assertFalse("Expecting no results with ignored IOException",it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.SlingFelixTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void test_Felix_getBundle_Class_from_PackageAdmin(){
  PackageAdmin pa=getService(framework,PackageAdmin.class);
  assertNotNull(pa);
  assertNull("Integer class provided by the VM not from a bundle",pa.getBundle(Integer.class));
  assertEquals("BundleContext class must come from the framework",framework.getBundle(),pa.getBundle(BundleContext.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.StartupManagerTimestampTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testClassTimestamp(){
  final int defaultValue=Integer.MIN_VALUE;
  final long ts=startupManager.getTimeStampOfClass(getClass(),defaultValue);
  assertTrue("Expecting non-default timestamp, got " + ts,ts > defaultValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.bootstrapcommands.BootstrapCommandFileTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteOnceOnly() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  assertTrue("Expecting anythingToExecute true for existing file",bcf.anythingToExecute(bundleContext));
  assertEquals("Expecting two commands to be executed",false,bcf.execute(bundleContext));
  assertFalse("Expecting anythingToExecute false after execution",bcf.anythingToExecute(bundleContext));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsing() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  final String cmdString="# a comment\n" + "uninstall symbolicname1 1.0\n" + "\n"+ "# another comment\n"+ "uninstall symbolicname1 1.0\n";
  final List<Command> c=bcf.parse(new ByteArrayInputStream(cmdString.getBytes()));
  assertEquals("Expecting two commands after parsing",2,c.size());
  int index=0;
  for (  Command cmd : c) {
    assertTrue("Expecting an UninstallBundleCommand at index " + index,cmd instanceof UninstallBundleCommand);
    index++;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.bootstrapcommands.UninstallBundleCommandTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testVersionRange() throws Exception {
  final UninstallBundleCommand proto=new UninstallBundleCommand();
  final String from1Includedto2NotIncluded="[1,2)";
  final Command cmd=proto.parse("uninstall testbundle " + from1Includedto2NotIncluded);
  assertNotNull("Expecting parsing to succeed",cmd);
  cmd.execute(logger,bundleContext);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testExplicitVersion() throws Exception {
  final UninstallBundleCommand proto=new UninstallBundleCommand();
  final Command cmd=proto.parse("uninstall testbundle 1.0.0");
  assertNotNull("Expecting parsing to succeed",cmd);
  cmd.execute(logger,bundleContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.MappingEventsTest </h4><pre class="type-15 type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test SLING-4058 - unexpected timeouts in saveMappings 
 */
@Test public void testSaveMappings() throws Exception {
  final Node base=mapRoot.getNode("map/https/localhost.443");
  final MappingsFacade f=new MappingsFacade(eventsCounter);
  try {
    int count=N_STEPS;
    while (count-- > 0) {
      base.setProperty(PROP_REDIRECT_EXTERNAL,"http://somehost." + count);
      final String result=f.saveMappings(session);
      if (result != null) {
        fail(result);
      }
    }
  }
  finally {
    base.setProperty(PROP_REDIRECT_EXTERNAL,"");
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-15 type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testVanityPaths() throws Exception {
  final MappingsFacade f=new MappingsFacade(eventsCounter);
  final Node vanityTest=maybeCreateNode(session.getRootNode(),"vanityTest","sling:Folder");
  toDelete.add(vanityTest.getPath());
  int count=N_STEPS;
  while (count-- > 0) {
    final String[] paths={"one","two","three_" + count};
    vanityTest.setProperty("sling:vanityPath",paths);
    final String result=f.saveMappings(session);
    if (result != null) {
      fail(result);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:vanityPath").remove();
  saveMappings(session);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[0] + ".print.html",res.getPath());
  rootNode.setProperty("sling:vanityPath",vanity);
  saveMappings(session);
  Node childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
  childNode.setProperty("sling:vanityPath","childVanity");
  childNode.addMixin("sling:VanityPath");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(childNode.getPath(),res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/childVanity.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the order property of the vanity paths
 */
@Test public void test_resolve_with_sling_vanity_path_order() throws Exception {
  final String vanityPath="/ordering";
  Node child1=rootNode.addNode("child1");
  child1.addMixin("sling:VanityPath");
  child1.setProperty("sling:vanityPath",vanityPath);
  child1.setProperty("sling:vanityOrder",100);
  Node child2=rootNode.addNode("child2");
  child2.addMixin("sling:VanityPath");
  child2.setProperty("sling:vanityPath",vanityPath);
  child2.setProperty("sling:vanityOrder",200);
  try {
    saveMappings(session);
    Resource rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
    child2.remove();
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child1.getPath(),rsrc.getPath());
    child2=rootNode.addNode("child2");
    child2.addMixin("sling:VanityPath");
    child2.setProperty("sling:vanityPath",vanityPath);
    child2.setProperty("sling:vanityOrder",200);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
    child1.setProperty("sling:vanityOrder",300);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child1.getPath(),rsrc.getPath());
    child1.setProperty("sling:vanityOrder",50);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
  }
  finally {
    child1.remove();
    if (rootNode.hasNode("child2")) {
      rootNode.getNode("child2").remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedesourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    content.getProperty("sling:alias").remove();
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/" + alias + ".print.html",res.getPath());
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_multi_value() throws Exception {
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias",new String[]{"kind","enfant"});
  try {
    saveMappings(session);
    String path="/kind";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    String pathEnfant="/enfant";
    String mappedEnfant=resResolver.map(child.getPath());
    assertEquals(path,mappedEnfant);
    Resource resEnfant=resResolver.resolve(null,pathEnfant);
    assertNotNull(resEnfant);
    assertEquals(rootNode.getPath() + "/enfant",resEnfant.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnfant.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnfant=resEnfant.adaptTo(Node.class);
    assertNotNull(resNodeEnfant);
    assertEquals(child.getPath(),resNodeEnfant.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
    String pathEnfantEnkel="/enfant/enkel";
    String mappedEnfantEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnfantEnkel);
    Resource resEnfantEnkel=resResolver.resolve(null,pathEnfantEnkel);
    assertNotNull(resEnfantEnkel);
    assertEquals(rootNode.getPath() + "/enfant/enkel",resEnfantEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnfantEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnfantEnkel=resEnfantEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnfantEnkel);
    assertEquals(grandchild.getPath(),resNodeEnfantEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80Multiple() throws Exception {
  final String de="de";
  final String en="en";
  final String hostDE=de + ".host.com";
  final String hostEN=en + ".host.com";
  final String contentDE="/content/" + de;
  final String contentEN="/content/" + en;
  Node virtualhost80a=mapRoot.getNode("map/http").addNode(hostDE + ".80","sling:Mapping");
  virtualhost80a.setProperty(PROP_REDIRECT_INTERNAL,contentDE);
  Node virtualhost80=mapRoot.getNode("map/http").addNode(hostEN + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,contentEN);
  try {
    saveMappings(session);
    final HttpServletRequest requestDE=new FakeSlingHttpServletRequest(null,hostDE,-1,rootPath);
    final Resource resDE0=resResolver.resolve(requestDE,"/playground.html");
    assertNotNull(resDE0);
    assertEquals(contentDE + "/playground.html",resDE0.getPath());
    final Resource resDE1=resResolver.resolve(requestDE,"/playground/index.html");
    assertNotNull(resDE1);
    assertEquals(contentDE + "/playground/index.html",resDE1.getPath());
    final String mappedDE00=resResolver.map(resDE0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedDE00);
    final String mappedDE01=resResolver.map(requestDE,resDE0.getPath());
    assertEquals("/playground.html",mappedDE01);
    final String mappedDE10=resResolver.map(resDE1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedDE10);
    final String mappedDE11=resResolver.map(requestDE,resDE1.getPath());
    assertEquals("/playground/index.html",mappedDE11);
    final HttpServletRequest requestEN=new FakeSlingHttpServletRequest(null,hostEN,-1,rootPath);
    final Resource resEN0=resResolver.resolve(requestEN,"/playground.html");
    assertNotNull(resEN0);
    assertEquals(contentEN + "/playground.html",resEN0.getPath());
    final Resource resEN1=resResolver.resolve(requestEN,"/playground/index.html");
    assertNotNull(resEN1);
    assertEquals(contentEN + "/playground/index.html",resEN1.getPath());
    final String mappedEN00=resResolver.map(resEN0.getPath());
    assertEquals("http://" + hostEN + "/playground.html",mappedEN00);
    final String mappedEN01=resResolver.map(requestEN,resEN0.getPath());
    assertEquals("/playground.html",mappedEN01);
    final String mappedEN10=resResolver.map(resEN1.getPath());
    assertEquals("http://" + hostEN + "/playground/index.html",mappedEN10);
    final String mappedEN11=resResolver.map(requestEN,resEN1.getPath());
    assertEquals("/playground/index.html",mappedEN11);
  }
  finally {
    virtualhost80a.remove();
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_extension() throws Exception {
  final String selExt=".html";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp8080Root() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",8080,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.8080","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com:8080/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com:8080/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapContext() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    path="/child";
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapSelectorsExtension() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".sel1.sel2.html";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp8080() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",8080,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.8080","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com:8080/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com:8080/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMap() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    path="/child";
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResource() throws Exception {
  Resource res=resResolver.getResource(rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.getResource(path);
  assertNull(res);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",-1,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapNamespaceMangling() throws Exception {
  final String mapHost="virtual.host.com";
  final String mapRootPath="/content/virtual";
  final String contextPath="/context";
  Node virtualhost80=mapRoot.getNode("map/http").addNode(mapHost + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,mapRootPath);
  try {
    saveMappings(session);
    final HttpServletRequest virtualRequest=new FakeSlingHttpServletRequest(null,mapHost,-1,rootPath);
    final String pathv0="/sample";
    final String mappedv0=resResolver.map(virtualRequest,mapRootPath + pathv0);
    assertEquals("Expect unmangled path",pathv0,mappedv0);
    final String pathv1="/sample/jcr:content";
    final String mangledv1="/sample/_jcr_content";
    final String mappedv1=resResolver.map(virtualRequest,mapRootPath + pathv1);
    assertEquals("Expect mangled path",mangledv1,mappedv1);
    ((FakeSlingHttpServletRequest)virtualRequest).setContextPath(contextPath);
    final String pathvc0="/sample";
    final String mappedvc0=resResolver.map(virtualRequest,mapRootPath + pathvc0);
    assertEquals("Expect unmangled path",contextPath + pathv0,mappedvc0);
    final String pathvc1="/sample/jcr:content";
    final String mangledvc1="/sample/_jcr_content";
    final String mappedvc1=resResolver.map(virtualRequest,mapRootPath + pathvc1);
    assertEquals("Expect mangled path",contextPath + mangledvc1,mappedvc1);
    final HttpServletRequest foreignRequest=new FakeSlingHttpServletRequest(null,"foreign.host.com",-1,rootPath);
    final String pathf0="/sample";
    final String mappedf0=resResolver.map(foreignRequest,mapRootPath + pathf0);
    assertEquals("Expect unmangled absolute URI","http://" + mapHost + pathf0,mappedf0);
    final String pathf1="/sample/jcr:content";
    final String mangledf1="/sample/_jcr_content";
    final String mappedf1=resResolver.map(foreignRequest,mapRootPath + pathf1);
    assertEquals("Expect mangled absolute URI","http://" + mapHost + mangledf1,mappedf1);
    ((FakeSlingHttpServletRequest)foreignRequest).setContextPath(contextPath);
    final String pathfc0="/sample";
    final String mappedfc0=resResolver.map(foreignRequest,mapRootPath + pathfc0);
    assertEquals("Expect unmangled absolute URI","http://" + mapHost + contextPath+ pathfc0,mappedfc0);
    final String pathfc1="/sample/jcr:content";
    final String mangledfc1="/sample/_jcr_content";
    final String mappedfc1=resResolver.map(foreignRequest,mapRootPath + pathfc1);
    assertEquals("Expect mangled absolute URI","http://" + mapHost + contextPath+ mangledfc1,mappedfc1);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSlingFolder() throws Exception {
  String folderPath="folder";
  Node folder=rootNode.addNode(folderPath,"sling:Folder");
  rootNode.getSession().save();
  try {
    Node child=folder.addNode("child0");
    folder.getSession().save();
    assertEquals("sling:Folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child1","sling:Folder");
    folder.getSession().save();
    assertEquals("sling:Folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child2","nt:folder");
    folder.getSession().save();
    assertEquals("nt:folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child3","nt:unstructured");
    folder.getSession().save();
    assertEquals("nt:unstructured",child.getPrimaryNodeType().getName());
  }
  finally {
    folder.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtensionSuffix() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html/some/suffx.pdf";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=this.resourceResolverFactory.getResourceResolver(authInfo);
  final Session s=rr.adaptTo(Session.class);
  try {
    assertEquals("Expect 3 session attributes",3,s.getAttributeNames().length);
    assertEquals("AStringValue",s.getAttribute("testAttributeString"));
    assertEquals(999,s.getAttribute("testAttributeNumber"));
    assertEquals("admin",s.getAttribute(ResourceResolverFactory.USER));
    assertNull(session.getAttribute(ResourceResolverFactory.PASSWORD));
    assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
    assertEquals(999,rr.getAttribute("testAttributeNumber"));
    assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
    assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
    final HashSet<String> validNames=new HashSet<String>();
    validNames.add(ResourceResolverFactory.USER);
    validNames.add("testAttributeString");
    validNames.add("testAttributeNumber");
    final Iterator<String> names=rr.getAttributeNames();
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertFalse("Expect no more names",names.hasNext());
    assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  }
  finally {
    rr.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRemovesExtensionInResolution() throws Exception {
  final String path=rootPath + ".whatever";
  final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"GET"),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectUrl() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapFragment() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="#sec:1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_clone_based_on_anonymous() throws Exception {
  final ResourceResolver anon0=this.resourceResolverFactory.getResourceResolver((Map<String,Object>)null);
  final Session anon0Session=anon0.adaptTo(Session.class);
  assertEquals("anonymous",anon0.getUserID());
  final ResourceResolver anon1=anon0.clone(null);
  final Session anon1Session=anon1.adaptTo(Session.class);
  assertEquals(anon0.getUserID(),anon1.getUserID());
  assertEquals(anon0Session.getWorkspace().getName(),anon1Session.getWorkspace().getName());
  anon1.close();
  final Map<String,Object> admin0Cred=new HashMap<String,Object>();
  admin0Cred.put(ResourceResolverFactory.USER,"admin");
  admin0Cred.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  final ResourceResolver admin0=anon0.clone(admin0Cred);
  final Session admin0Session=admin0.adaptTo(Session.class);
  assertEquals("admin",admin0.getUserID());
  assertEquals(anon0Session.getWorkspace().getName(),admin0Session.getWorkspace().getName());
  admin0.close();
  final Map<String,Object> anon2Cred=new HashMap<String,Object>();
  final ResourceResolver anon2=anon0.clone(anon2Cred);
  assertEquals("anonymous",anon2.getUserID());
  anon2.close();
  final Map<String,Object> admin1Cred=new HashMap<String,Object>();
  admin1Cred.put(ResourceResolverFactory.USER,"admin");
  admin1Cred.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  final ResourceResolver admin1=anon0.clone(admin1Cred);
  assertEquals("admin",admin1.getUserID());
  admin1.close();
  anon0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapURLEscaping() throws Exception {
  final String mapHostInternal="internal.host.com";
  final String mapRootInternal="/content/internal";
  Node internalRedirect=mapRoot.getNode("map/http").addNode(mapHostInternal + ".80","sling:Mapping");
  internalRedirect.setProperty(PROP_REDIRECT_INTERNAL,mapRootInternal);
  try {
    saveMappings(session);
    final String path="/sample with spaces";
    final String escapedPath="/sample%20with%20spaces";
    String mapped=resResolver.map(mapRootInternal + path);
    assertEquals("http://" + mapHostInternal + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(rootPath),mapRootInternal + path);
    assertEquals("http://" + mapHostInternal + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(null,mapHostInternal,-1,rootPath),mapRootInternal + path);
    assertEquals(escapedPath,mapped);
    final String unmappedRoot="/unmappedRoot";
    mapped=resResolver.map(unmappedRoot + path);
    assertEquals(unmappedRoot + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(rootPath),unmappedRoot + path);
    assertEquals(unmappedRoot + escapedPath,mapped);
  }
  finally {
    internalRedirect.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResource() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(rootPath);
  Resource res=resResolver.resolve(request,rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  assertNull(res.adaptTo(Node.class));
  path=rootPath + ".print.a4.html";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=rootPath + System.currentTimeMillis();
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertTrue(ResourceUtil.isNonExistingResource(res));
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    Node child=rootNode.addNode("child","nt:unstructured");
    child.setProperty("sling:alias",alias);
    try {
      saveMappings(session);
      res=resResolver.resolve(request,path);
      assertEquals(child.getPath(),res.getPath());
    }
  finally {
      child.remove();
      session.save();
    }
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtension() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  try {
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias);
    String mapped=resResolver.map(rootNode.getPath());
    assertEquals(path,mapped);
    Node child=rootNode.addNode("child");
    session.save();
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/child");
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    if (rootNode.hasNode("child")) {
      rootNode.getNode("child").remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectDepthFirst() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"/content2");
  Node toContent=localhost443.addNode("virtual","sling:Mapping");
  toContent.setProperty("sling:match","virtual$");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content2/virtual.html");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/virtual");
    assertNotNull(res);
    assertEquals("/content2/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual.html");
    assertNotNull(res);
    assertEquals("/content2/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual/child.html");
    assertNotNull(res);
    assertEquals("/content2/virtual/child.html",res.getPath());
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectExact() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("virtual","sling:Mapping");
  toContent.setProperty("sling:match","virtual$");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual.html");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/virtual");
    assertNotNull(res);
    assertEquals("/content/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual.html");
    assertNotNull(res);
    assertEquals("/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual/child.html");
    assertNotNull(res);
    assertEquals("/virtual/child.html",res.getPath());
    String url=resResolver.map(null,"/content/virtual.html");
    assertNotNull(url);
    assertEquals("https://localhost/virtual",url);
    url=resResolver.map(request,"/content/virtual.html");
    assertNotNull(url);
    assertEquals("/virtual",url);
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    rootNode.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80MultipleRoot() throws Exception {
  final String de="de";
  final String en="en";
  final String fr="fr";
  final String hostDE=de + ".host.com";
  final String hostEN=en + ".host.com";
  final String hostFR=fr + ".host.com";
  Node virtualhost80a=mapRoot.getNode("map/http").addNode(hostDE + ".80","sling:Mapping");
  virtualhost80a.setProperty(PROP_REDIRECT_INTERNAL,"/");
  Node virtualhost80=mapRoot.getNode("map/http").addNode(hostEN + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/");
  try {
    saveMappings(session);
    final HttpServletRequest requestDE=new FakeSlingHttpServletRequest(null,hostDE,-1,rootPath);
    final Resource resDE0=resResolver.resolve(requestDE,"/playground.html");
    assertNotNull(resDE0);
    assertEquals("/playground.html",resDE0.getPath());
    final Resource resDE1=resResolver.resolve(requestDE,"/playground/index.html");
    assertNotNull(resDE1);
    assertEquals("/playground/index.html",resDE1.getPath());
    final String mappedDE00=resResolver.map(resDE0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedDE00);
    final String mappedDE01=resResolver.map(requestDE,resDE0.getPath());
    assertEquals("/playground.html",mappedDE01);
    final String mappedDE10=resResolver.map(resDE1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedDE10);
    final String mappedDE11=resResolver.map(requestDE,resDE1.getPath());
    assertEquals("/playground/index.html",mappedDE11);
    final HttpServletRequest requestEN=new FakeSlingHttpServletRequest(null,hostEN,-1,rootPath);
    final Resource resEN0=resResolver.resolve(requestEN,"/playground.html");
    assertNotNull(resEN0);
    assertEquals("/playground.html",resEN0.getPath());
    final Resource resEN1=resResolver.resolve(requestEN,"/playground/index.html");
    assertNotNull(resEN1);
    assertEquals("/playground/index.html",resEN1.getPath());
    final String mappedEN00=resResolver.map(resEN0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedEN00);
    final String mappedEN01=resResolver.map(requestEN,resEN0.getPath());
    assertEquals("/playground.html",mappedEN01);
    final String mappedEN10=resResolver.map(resEN1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedEN10);
    final String mappedEN11=resResolver.map(requestEN,resEN1.getPath());
    assertEquals("/playground/index.html",mappedEN11);
    final HttpServletRequest requestFR=new FakeSlingHttpServletRequest(null,hostFR,-1,rootPath);
    final Resource resFR1=resResolver.resolve(requestFR,"/playground/index.html");
    assertNotNull(resFR1);
    assertEquals("/playground/index.html",resFR1.getPath());
    final String mappedFR10=resResolver.map(resFR1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedFR10);
    final String mappedFR11=resResolver.map(requestFR,resFR1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedFR11);
  }
  finally {
    virtualhost80a.remove();
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_selectors_extension() throws Exception {
  final String selExt=".sel1.sel2.html";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttps4443() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https","virtual.host.com",4443,rootPath);
  Node virtualhost4443=mapRoot.getNode("map/https").addNode("virtual.host.com.4443","sling:Mapping");
  virtualhost4443.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("https://virtual.host.com:4443/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("https://virtual.host.com:4443/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost4443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_selectors_extension() throws Exception {
  final String selExt=".sel1.sel2.html";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_extension() throws Exception {
  final String selExt=".html";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testResolveRemovedMixinVanityPath() throws Exception {
  Node childNode=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode.removeMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
  }
  finally {
    if (childNode != null) {
      childNode.remove();
      saveMappings(session);
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttpVsHttps() throws Exception {
  final String host0="www.host.com";
  final String host1="secure.host.com";
  final String content="/content/page";
  Node virtualhost80=mapRoot.getNode("map/http").addNode(host0 + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,content);
  Node virtualhost443=mapRoot.getNode("map/https").addNode(host0 + ".443","sling:Mapping");
  virtualhost443.setProperty(PROP_REDIRECT_INTERNAL,content);
  try {
    saveMappings(session);
    final HttpServletRequest requestHttp0=new FakeSlingHttpServletRequest(null,host0,-1,rootPath);
    final Resource resHttp0=resResolver.resolve(requestHttp0,"/playground.html");
    assertNotNull(resHttp0);
    assertEquals(content + "/playground.html",resHttp0.getPath());
    final Resource resHttp1=resResolver.resolve(requestHttp0,"/playground/index.html");
    assertNotNull(resHttp1);
    assertEquals(content + "/playground/index.html",resHttp1.getPath());
    final HttpServletRequest requestHttps0=new FakeSlingHttpServletRequest("https",host0,-1,rootPath);
    final Resource resHttps0=resResolver.resolve(requestHttps0,"/playground.html");
    assertNotNull(resHttps0);
    assertEquals(content + "/playground.html",resHttps0.getPath());
    final Resource resHttps1=resResolver.resolve(requestHttps0,"/playground/index.html");
    assertNotNull(resHttps1);
    assertEquals(content + "/playground/index.html",resHttps1.getPath());
    final String mappedHttp00=resResolver.map(resHttp0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttp00);
    final String mappedHttp01=resResolver.map(requestHttp0,resHttp0.getPath());
    assertEquals("/playground.html",mappedHttp01);
    final String mappedHttp10=resResolver.map(resHttp1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttp10);
    final String mappedHttp11=resResolver.map(requestHttp0,resHttp1.getPath());
    assertEquals("/playground/index.html",mappedHttp11);
    final HttpServletRequest requestHttp1=new FakeSlingHttpServletRequest(null,host1,-1,rootPath);
    final HttpServletRequest requestHttps1=new FakeSlingHttpServletRequest("https",host1,-1,rootPath);
    final String mappedHttps00=resResolver.map(resHttps0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttps00);
    final String mappedHttps01=resResolver.map(requestHttps0,resHttps0.getPath());
    assertEquals("/playground.html",mappedHttps01);
    final String mappedHttps02=resResolver.map(requestHttp1,resHttps0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttps02);
    final String mappedHttps03=resResolver.map(requestHttps1,resHttps0.getPath());
    assertEquals("https://" + host0 + "/playground.html",mappedHttps03);
    final String mappedHttps10=resResolver.map(resHttps1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttps10);
    final String mappedHttps11=resResolver.map(requestHttps0,resHttps1.getPath());
    assertEquals("/playground/index.html",mappedHttps11);
    final String mappedHttps12=resResolver.map(requestHttp1,resHttps1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttps12);
    final String mappedHttps13=resResolver.map(requestHttps1,resHttps1.getPath());
    assertEquals("https://" + host0 + "/playground/index.html",mappedHttps13);
  }
  finally {
    virtualhost80.remove();
    virtualhost443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_extension_suffix() throws Exception {
  final String selExt=".html/some/suffx.pdf";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithUpdate() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String[] vanityPathUpdated=new String[]{"testVanity","testV","testVanityUpdated"};
  rootNode.setProperty("sling:vanityPath",vanityPathUpdated);
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[2] + ".print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPath() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("_playground_designground_","sling:Mapping");
  toContent.setProperty("sling:match","(playground|designground)");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/$1");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/playground.html");
    assertNotNull(res);
    assertEquals("/content/playground.html",res.getPath());
    res=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res);
    assertEquals("/content/playground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias() throws Exception {
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  saveMappings(session);
  try {
    String path="/kind";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContentWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    content.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapFragmentQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="#sec:1?a:b=1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:alias").remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + alias + ".print.html",res.getPath());
  String childNodeName="rootChildAlias";
  Node childNode=maybeCreateNode(rootNode,childNodeName,"nt:unstructured");
  childNode.setProperty("sling:alias","childAlias");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals(rootPath + "/childAlias.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_extension_suffix() throws Exception {
  final String selExt=".html/some/suffx.pdf";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="?a:b=2";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapEmptyPath() throws Exception {
  String mapped=resResolver.map("");
  assertEquals("/",mapped);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDoesNotGoUp() throws Exception {
  final String path=rootPath + "/nothing";
{
    final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"POST"),path);
    assertNotNull(res);
    assertEquals("POST request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  }
{
    final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"GET"),path);
    assertNotNull(res);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_clone_based_on_admin() throws Exception {
  final ResourceResolver admin0=this.resourceResolverFactory.getAdministrativeResourceResolver((Map<String,Object>)null);
  final Session admin0Session=admin0.adaptTo(Session.class);
  assertEquals("admin",admin0.getUserID());
  final ResourceResolver admin1=admin0.clone(null);
  final Session admin1Session=admin1.adaptTo(Session.class);
  assertEquals(admin0.getUserID(),admin1.getUserID());
  assertEquals(admin0Session.getWorkspace().getName(),admin1Session.getWorkspace().getName());
  admin1.close();
  final Map<String,Object> anon0Cred=new HashMap<String,Object>();
  anon0Cred.put(ResourceResolverFactory.USER,"anonymous");
  final ResourceResolver anon0=admin0.clone(anon0Cred);
  final Session anon0Session=anon0.adaptTo(Session.class);
  assertEquals("anonymous",anon0.getUserID());
  assertEquals(admin0Session.getWorkspace().getName(),anon0Session.getWorkspace().getName());
  anon0.close();
  final Map<String,Object> admin2Cred=new HashMap<String,Object>();
  final ResourceResolver admin2=admin0.clone(admin2Cred);
  assertEquals("admin",admin2.getUserID());
  admin2.close();
  final Map<String,Object> anon1Cred=new HashMap<String,Object>();
  anon1Cred.put(ResourceResolverFactory.USER,"anonymous");
  final ResourceResolver anon1=admin0.clone(anon1Cred);
  assertEquals("anonymous",anon1.getUserID());
  anon1.close();
  admin0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPathUpdate() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("_playground_designground_","sling:Mapping");
  toContent.setProperty("sling:match","(playground|designground)");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/$1");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/playground.html");
    assertNotNull(res);
    assertEquals("/content/playground.html",res.getPath());
    res=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res);
    assertEquals("/content/playground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
    toContent.setProperty("sling:match","(homeground|foreignground)");
    saveMappings(session);
    res=resResolver.resolve(request,"/homeground.html");
    assertNotNull(res);
    assertEquals("/content/homeground.html",res.getPath());
    res=resResolver.resolve(request,"/foreignground/en.html");
    assertNotNull(res);
    assertEquals("/content/foreignground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtensionFragmentQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html#sec:1?a:b=1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithVanityOrder() throws Exception {
  Node childNode=null;
  Node childNode2=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2=maybeCreateNode(rootNode,"rootChild2","nt:unstructured");
    childNode2.setProperty("sling:vanityPath","childVanity");
    childNode2.addMixin("sling:VanityPath");
    saveMappings(session);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2.setProperty("sling:vanityOrder",100);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode2.getPath(),res.getPath());
    assertEquals(childNode2.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode2.isSame(res.adaptTo(Node.class)));
    childNode.setProperty("sling:vanityOrder",1000);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    if (childNode != null) {
      childNode.remove();
    }
    if (childNode2 != null) {
      childNode2.remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  saveMappings(session);
  try {
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias);
    String mapped=resResolver.map(rootNode.getPath());
    assertEquals(path,mapped);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/_jcr_content");
    mapped=resResolver.map(content.getPath());
    assertEquals(path,mapped);
    Node child=content.addNode("child");
    session.save();
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/_jcr_content/child");
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPathAndVanityPath() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"/example");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,vanity[0]);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    res=resResolver.resolve(request,vanity[1]);
    assertNotNull(res);
    assertEquals("/example/" + vanity[1],res.getPath());
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceExternalRedirect() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_EXTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals("sling:redirect",res.getResourceType());
    assertNotNull(res.adaptTo(ValueMap.class));
    assertEquals("http://localhost" + rootPath,res.adaptTo(ValueMap.class).get("sling:target",String.class));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_EXTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttps443() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https","virtual.host.com",-1,rootPath);
  Node virtualhost443=mapRoot.getNode("map/https").addNode("virtual.host.com.443","sling:Mapping");
  virtualhost443.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("https://virtual.host.com/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("https://virtual.host.com/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve() throws Exception {
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverWithVanityBloomFilterTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContentWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    content.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapEmptyPath() throws Exception {
  String mapped=resResolver.map("");
  assertEquals("/",mapped);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_clone_based_on_anonymous() throws Exception {
  final ResourceResolver anon0=this.resourceResolverFactory.getResourceResolver((Map<String,Object>)null);
  final Session anon0Session=anon0.adaptTo(Session.class);
  assertEquals("anonymous",anon0.getUserID());
  final ResourceResolver anon1=anon0.clone(null);
  final Session anon1Session=anon1.adaptTo(Session.class);
  assertEquals(anon0.getUserID(),anon1.getUserID());
  assertEquals(anon0Session.getWorkspace().getName(),anon1Session.getWorkspace().getName());
  anon1.close();
  final Map<String,Object> admin0Cred=new HashMap<String,Object>();
  admin0Cred.put(ResourceResolverFactory.USER,"admin");
  admin0Cred.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  final ResourceResolver admin0=anon0.clone(admin0Cred);
  final Session admin0Session=admin0.adaptTo(Session.class);
  assertEquals("admin",admin0.getUserID());
  assertEquals(anon0Session.getWorkspace().getName(),admin0Session.getWorkspace().getName());
  admin0.close();
  final Map<String,Object> anon2Cred=new HashMap<String,Object>();
  final ResourceResolver anon2=anon0.clone(anon2Cred);
  assertEquals("anonymous",anon2.getUserID());
  anon2.close();
  final Map<String,Object> admin1Cred=new HashMap<String,Object>();
  admin1Cred.put(ResourceResolverFactory.USER,"admin");
  admin1Cred.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  final ResourceResolver admin1=anon0.clone(admin1Cred);
  assertEquals("admin",admin1.getUserID());
  admin1.close();
  anon0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttps443() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https","virtual.host.com",-1,rootPath);
  Node virtualhost443=mapRoot.getNode("map/https").addNode("virtual.host.com.443","sling:Mapping");
  virtualhost443.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("https://virtual.host.com/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("https://virtual.host.com/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_selectors_extension() throws Exception {
  final String selExt=".sel1.sel2.html";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=this.resourceResolverFactory.getResourceResolver(authInfo);
  final Session s=rr.adaptTo(Session.class);
  try {
    assertEquals("Expect 3 session attributes",3,s.getAttributeNames().length);
    assertEquals("AStringValue",s.getAttribute("testAttributeString"));
    assertEquals(999,s.getAttribute("testAttributeNumber"));
    assertEquals("admin",s.getAttribute(ResourceResolverFactory.USER));
    assertNull(session.getAttribute(ResourceResolverFactory.PASSWORD));
    assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
    assertEquals(999,rr.getAttribute("testAttributeNumber"));
    assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
    assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
    final HashSet<String> validNames=new HashSet<String>();
    validNames.add(ResourceResolverFactory.USER);
    validNames.add("testAttributeString");
    validNames.add("testAttributeNumber");
    final Iterator<String> names=rr.getAttributeNames();
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertFalse("Expect no more names",names.hasNext());
    assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  }
  finally {
    rr.close();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMap() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    path="/child";
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_extension_suffix() throws Exception {
  final String selExt=".html/some/suffx.pdf";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp8080() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",8080,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.8080","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com:8080/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com:8080/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtensionSuffix() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html/some/suffx.pdf";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPath() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("_playground_designground_","sling:Mapping");
  toContent.setProperty("sling:match","(playground|designground)");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/$1");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/playground.html");
    assertNotNull(res);
    assertEquals("/content/playground.html",res.getPath());
    res=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res);
    assertEquals("/content/playground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtension() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttpVsHttps() throws Exception {
  final String host0="www.host.com";
  final String host1="secure.host.com";
  final String content="/content/page";
  Node virtualhost80=mapRoot.getNode("map/http").addNode(host0 + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,content);
  Node virtualhost443=mapRoot.getNode("map/https").addNode(host0 + ".443","sling:Mapping");
  virtualhost443.setProperty(PROP_REDIRECT_INTERNAL,content);
  try {
    saveMappings(session);
    final HttpServletRequest requestHttp0=new FakeSlingHttpServletRequest(null,host0,-1,rootPath);
    final Resource resHttp0=resResolver.resolve(requestHttp0,"/playground.html");
    assertNotNull(resHttp0);
    assertEquals(content + "/playground.html",resHttp0.getPath());
    final Resource resHttp1=resResolver.resolve(requestHttp0,"/playground/index.html");
    assertNotNull(resHttp1);
    assertEquals(content + "/playground/index.html",resHttp1.getPath());
    final HttpServletRequest requestHttps0=new FakeSlingHttpServletRequest("https",host0,-1,rootPath);
    final Resource resHttps0=resResolver.resolve(requestHttps0,"/playground.html");
    assertNotNull(resHttps0);
    assertEquals(content + "/playground.html",resHttps0.getPath());
    final Resource resHttps1=resResolver.resolve(requestHttps0,"/playground/index.html");
    assertNotNull(resHttps1);
    assertEquals(content + "/playground/index.html",resHttps1.getPath());
    final String mappedHttp00=resResolver.map(resHttp0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttp00);
    final String mappedHttp01=resResolver.map(requestHttp0,resHttp0.getPath());
    assertEquals("/playground.html",mappedHttp01);
    final String mappedHttp10=resResolver.map(resHttp1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttp10);
    final String mappedHttp11=resResolver.map(requestHttp0,resHttp1.getPath());
    assertEquals("/playground/index.html",mappedHttp11);
    final HttpServletRequest requestHttp1=new FakeSlingHttpServletRequest(null,host1,-1,rootPath);
    final HttpServletRequest requestHttps1=new FakeSlingHttpServletRequest("https",host1,-1,rootPath);
    final String mappedHttps00=resResolver.map(resHttps0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttps00);
    final String mappedHttps01=resResolver.map(requestHttps0,resHttps0.getPath());
    assertEquals("/playground.html",mappedHttps01);
    final String mappedHttps02=resResolver.map(requestHttp1,resHttps0.getPath());
    assertEquals("http://" + host0 + "/playground.html",mappedHttps02);
    final String mappedHttps03=resResolver.map(requestHttps1,resHttps0.getPath());
    assertEquals("https://" + host0 + "/playground.html",mappedHttps03);
    final String mappedHttps10=resResolver.map(resHttps1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttps10);
    final String mappedHttps11=resResolver.map(requestHttps0,resHttps1.getPath());
    assertEquals("/playground/index.html",mappedHttps11);
    final String mappedHttps12=resResolver.map(requestHttp1,resHttps1.getPath());
    assertEquals("http://" + host0 + "/playground/index.html",mappedHttps12);
    final String mappedHttps13=resResolver.map(requestHttps1,resHttps1.getPath());
    assertEquals("https://" + host0 + "/playground/index.html",mappedHttps13);
  }
  finally {
    virtualhost80.remove();
    virtualhost443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias() throws Exception {
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  saveMappings(session);
  try {
    String path="/kind";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80Multiple() throws Exception {
  final String de="de";
  final String en="en";
  final String hostDE=de + ".host.com";
  final String hostEN=en + ".host.com";
  final String contentDE="/content/" + de;
  final String contentEN="/content/" + en;
  Node virtualhost80a=mapRoot.getNode("map/http").addNode(hostDE + ".80","sling:Mapping");
  virtualhost80a.setProperty(PROP_REDIRECT_INTERNAL,contentDE);
  Node virtualhost80=mapRoot.getNode("map/http").addNode(hostEN + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,contentEN);
  try {
    saveMappings(session);
    final HttpServletRequest requestDE=new FakeSlingHttpServletRequest(null,hostDE,-1,rootPath);
    final Resource resDE0=resResolver.resolve(requestDE,"/playground.html");
    assertNotNull(resDE0);
    assertEquals(contentDE + "/playground.html",resDE0.getPath());
    final Resource resDE1=resResolver.resolve(requestDE,"/playground/index.html");
    assertNotNull(resDE1);
    assertEquals(contentDE + "/playground/index.html",resDE1.getPath());
    final String mappedDE00=resResolver.map(resDE0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedDE00);
    final String mappedDE01=resResolver.map(requestDE,resDE0.getPath());
    assertEquals("/playground.html",mappedDE01);
    final String mappedDE10=resResolver.map(resDE1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedDE10);
    final String mappedDE11=resResolver.map(requestDE,resDE1.getPath());
    assertEquals("/playground/index.html",mappedDE11);
    final HttpServletRequest requestEN=new FakeSlingHttpServletRequest(null,hostEN,-1,rootPath);
    final Resource resEN0=resResolver.resolve(requestEN,"/playground.html");
    assertNotNull(resEN0);
    assertEquals(contentEN + "/playground.html",resEN0.getPath());
    final Resource resEN1=resResolver.resolve(requestEN,"/playground/index.html");
    assertNotNull(resEN1);
    assertEquals(contentEN + "/playground/index.html",resEN1.getPath());
    final String mappedEN00=resResolver.map(resEN0.getPath());
    assertEquals("http://" + hostEN + "/playground.html",mappedEN00);
    final String mappedEN01=resResolver.map(requestEN,resEN0.getPath());
    assertEquals("/playground.html",mappedEN01);
    final String mappedEN10=resResolver.map(resEN1.getPath());
    assertEquals("http://" + hostEN + "/playground/index.html",mappedEN10);
    final String mappedEN11=resResolver.map(requestEN,resEN1.getPath());
    assertEquals("/playground/index.html",mappedEN11);
  }
  finally {
    virtualhost80a.remove();
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapFragmentQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="#sec:1?a:b=1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithUpdate() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String[] vanityPathUpdated=new String[]{"testVanity","testV","testVanityUpdated"};
  rootNode.setProperty("sling:vanityPath",vanityPathUpdated);
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[2] + ".print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_multi_value() throws Exception {
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias",new String[]{"kind","enfant"});
  try {
    saveMappings(session);
    String path="/kind";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    String pathEnfant="/enfant";
    String mappedEnfant=resResolver.map(child.getPath());
    assertEquals(path,mappedEnfant);
    Resource resEnfant=resResolver.resolve(null,pathEnfant);
    assertNotNull(resEnfant);
    assertEquals(rootNode.getPath() + "/enfant",resEnfant.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnfant.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnfant=resEnfant.adaptTo(Node.class);
    assertNotNull(resNodeEnfant);
    assertEquals(child.getPath(),resNodeEnfant.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
    String pathEnfantEnkel="/enfant/enkel";
    String mappedEnfantEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnfantEnkel);
    Resource resEnfantEnkel=resResolver.resolve(null,pathEnfantEnkel);
    assertNotNull(resEnfantEnkel);
    assertEquals(rootNode.getPath() + "/enfant/enkel",resEnfantEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnfantEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnfantEnkel=resEnfantEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnfantEnkel);
    assertEquals(grandchild.getPath(),resNodeEnfantEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithVanityOrder() throws Exception {
  Node childNode=null;
  Node childNode2=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2=maybeCreateNode(rootNode,"rootChild2","nt:unstructured");
    childNode2.setProperty("sling:vanityPath","childVanity");
    childNode2.addMixin("sling:VanityPath");
    saveMappings(session);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2.setProperty("sling:vanityOrder",100);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode2.getPath(),res.getPath());
    assertEquals(childNode2.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode2.isSame(res.adaptTo(Node.class)));
    childNode.setProperty("sling:vanityOrder",1000);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    if (childNode != null) {
      childNode.remove();
    }
    if (childNode2 != null) {
      childNode2.remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80MultipleRoot() throws Exception {
  final String de="de";
  final String en="en";
  final String fr="fr";
  final String hostDE=de + ".host.com";
  final String hostEN=en + ".host.com";
  final String hostFR=fr + ".host.com";
  Node virtualhost80a=mapRoot.getNode("map/http").addNode(hostDE + ".80","sling:Mapping");
  virtualhost80a.setProperty(PROP_REDIRECT_INTERNAL,"/");
  Node virtualhost80=mapRoot.getNode("map/http").addNode(hostEN + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/");
  try {
    saveMappings(session);
    final HttpServletRequest requestDE=new FakeSlingHttpServletRequest(null,hostDE,-1,rootPath);
    final Resource resDE0=resResolver.resolve(requestDE,"/playground.html");
    assertNotNull(resDE0);
    assertEquals("/playground.html",resDE0.getPath());
    final Resource resDE1=resResolver.resolve(requestDE,"/playground/index.html");
    assertNotNull(resDE1);
    assertEquals("/playground/index.html",resDE1.getPath());
    final String mappedDE00=resResolver.map(resDE0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedDE00);
    final String mappedDE01=resResolver.map(requestDE,resDE0.getPath());
    assertEquals("/playground.html",mappedDE01);
    final String mappedDE10=resResolver.map(resDE1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedDE10);
    final String mappedDE11=resResolver.map(requestDE,resDE1.getPath());
    assertEquals("/playground/index.html",mappedDE11);
    final HttpServletRequest requestEN=new FakeSlingHttpServletRequest(null,hostEN,-1,rootPath);
    final Resource resEN0=resResolver.resolve(requestEN,"/playground.html");
    assertNotNull(resEN0);
    assertEquals("/playground.html",resEN0.getPath());
    final Resource resEN1=resResolver.resolve(requestEN,"/playground/index.html");
    assertNotNull(resEN1);
    assertEquals("/playground/index.html",resEN1.getPath());
    final String mappedEN00=resResolver.map(resEN0.getPath());
    assertEquals("http://" + hostDE + "/playground.html",mappedEN00);
    final String mappedEN01=resResolver.map(requestEN,resEN0.getPath());
    assertEquals("/playground.html",mappedEN01);
    final String mappedEN10=resResolver.map(resEN1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedEN10);
    final String mappedEN11=resResolver.map(requestEN,resEN1.getPath());
    assertEquals("/playground/index.html",mappedEN11);
    final HttpServletRequest requestFR=new FakeSlingHttpServletRequest(null,hostFR,-1,rootPath);
    final Resource resFR1=resResolver.resolve(requestFR,"/playground/index.html");
    assertNotNull(resFR1);
    assertEquals("/playground/index.html",resFR1.getPath());
    final String mappedFR10=resResolver.map(resFR1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedFR10);
    final String mappedFR11=resResolver.map(requestFR,resFR1.getPath());
    assertEquals("http://" + hostDE + "/playground/index.html",mappedFR11);
  }
  finally {
    virtualhost80a.remove();
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDoesNotGoUp() throws Exception {
  final String path=rootPath + "/nothing";
{
    final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"POST"),path);
    assertNotNull(res);
    assertEquals("POST request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  }
{
    final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"GET"),path);
    assertNotNull(res);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapSelectorsExtension() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".sel1.sel2.html";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    Node child=rootNode.addNode("child","nt:unstructured");
    child.setProperty("sling:alias",alias);
    try {
      saveMappings(session);
      res=resResolver.resolve(request,path);
      assertEquals(child.getPath(),res.getPath());
    }
  finally {
      child.remove();
      session.save();
    }
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectUrl() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResource() throws Exception {
  Resource res=resResolver.getResource(rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.getResource(path);
  assertNull(res);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedesourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    content.getProperty("sling:alias").remove();
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/" + alias + ".print.html",res.getPath());
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRemovesExtensionInResolution() throws Exception {
  final String path=rootPath + ".whatever";
  final Resource res=resResolver.resolve(new FakeSlingHttpServletRequest(path,"GET"),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_extension_suffix() throws Exception {
  final String selExt=".html/some/suffx.pdf";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPathAndVanityPath() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"/example");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,vanity[0]);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    res=resResolver.resolve(request,vanity[1]);
    assertNotNull(res);
    assertEquals("/example/" + vanity[1],res.getPath());
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_extension() throws Exception {
  final String selExt=".html";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="?a:b=2";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_clone_based_on_admin() throws Exception {
  final ResourceResolver admin0=this.resourceResolverFactory.getAdministrativeResourceResolver((Map<String,Object>)null);
  final Session admin0Session=admin0.adaptTo(Session.class);
  assertEquals("admin",admin0.getUserID());
  final ResourceResolver admin1=admin0.clone(null);
  final Session admin1Session=admin1.adaptTo(Session.class);
  assertEquals(admin0.getUserID(),admin1.getUserID());
  assertEquals(admin0Session.getWorkspace().getName(),admin1Session.getWorkspace().getName());
  admin1.close();
  final Map<String,Object> anon0Cred=new HashMap<String,Object>();
  anon0Cred.put(ResourceResolverFactory.USER,"anonymous");
  final ResourceResolver anon0=admin0.clone(anon0Cred);
  final Session anon0Session=anon0.adaptTo(Session.class);
  assertEquals("anonymous",anon0.getUserID());
  assertEquals(admin0Session.getWorkspace().getName(),anon0Session.getWorkspace().getName());
  anon0.close();
  final Map<String,Object> admin2Cred=new HashMap<String,Object>();
  final ResourceResolver admin2=admin0.clone(admin2Cred);
  assertEquals("admin",admin2.getUserID());
  admin2.close();
  final Map<String,Object> anon1Cred=new HashMap<String,Object>();
  anon1Cred.put(ResourceResolverFactory.USER,"anonymous");
  final ResourceResolver anon1=admin0.clone(anon1Cred);
  assertEquals("anonymous",anon1.getUserID());
  anon1.close();
  admin0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapURLEscaping() throws Exception {
  final String mapHostInternal="internal.host.com";
  final String mapRootInternal="/content/internal";
  Node internalRedirect=mapRoot.getNode("map/http").addNode(mapHostInternal + ".80","sling:Mapping");
  internalRedirect.setProperty(PROP_REDIRECT_INTERNAL,mapRootInternal);
  try {
    saveMappings(session);
    final String path="/sample with spaces";
    final String escapedPath="/sample%20with%20spaces";
    String mapped=resResolver.map(mapRootInternal + path);
    assertEquals("http://" + mapHostInternal + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(rootPath),mapRootInternal + path);
    assertEquals("http://" + mapHostInternal + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(null,mapHostInternal,-1,rootPath),mapRootInternal + path);
    assertEquals(escapedPath,mapped);
    final String unmappedRoot="/unmappedRoot";
    mapped=resResolver.map(unmappedRoot + path);
    assertEquals(unmappedRoot + escapedPath,mapped);
    mapped=resResolver.map(new FakeSlingHttpServletRequest(rootPath),unmappedRoot + path);
    assertEquals(unmappedRoot + escapedPath,mapped);
  }
  finally {
    internalRedirect.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResource() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(rootPath);
  Resource res=resResolver.resolve(request,rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  assertNull(res.adaptTo(Node.class));
  path=rootPath + ".print.a4.html";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=rootPath + System.currentTimeMillis();
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertTrue(ResourceUtil.isNonExistingResource(res));
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectExact() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("virtual","sling:Mapping");
  toContent.setProperty("sling:match","virtual$");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual.html");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/virtual");
    assertNotNull(res);
    assertEquals("/content/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual.html");
    assertNotNull(res);
    assertEquals("/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual/child.html");
    assertNotNull(res);
    assertEquals("/virtual/child.html",res.getPath());
    String url=resResolver.map(null,"/content/virtual.html");
    assertNotNull(url);
    assertEquals("https://localhost/virtual",url);
    url=resResolver.map(request,"/content/virtual.html");
    assertNotNull(url);
    assertEquals("/virtual",url);
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSlingFolder() throws Exception {
  String folderPath="folder";
  Node folder=rootNode.addNode(folderPath,"sling:Folder");
  rootNode.getSession().save();
  try {
    Node child=folder.addNode("child0");
    folder.getSession().save();
    assertEquals("sling:Folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child1","sling:Folder");
    folder.getSession().save();
    assertEquals("sling:Folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child2","nt:folder");
    folder.getSession().save();
    assertEquals("nt:folder",child.getPrimaryNodeType().getName());
    child=folder.addNode("child3","nt:unstructured");
    folder.getSession().save();
    assertEquals("nt:unstructured",child.getPrimaryNodeType().getName());
  }
  finally {
    folder.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapExtensionFragmentQuery() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt=".html#sec:1?a:b=1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapNamespaceMangling() throws Exception {
  final String mapHost="virtual.host.com";
  final String mapRootPath="/content/virtual";
  final String contextPath="/context";
  Node virtualhost80=mapRoot.getNode("map/http").addNode(mapHost + ".80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,mapRootPath);
  try {
    saveMappings(session);
    final HttpServletRequest virtualRequest=new FakeSlingHttpServletRequest(null,mapHost,-1,rootPath);
    final String pathv0="/sample";
    final String mappedv0=resResolver.map(virtualRequest,mapRootPath + pathv0);
    assertEquals("Expect unmangled path",pathv0,mappedv0);
    final String pathv1="/sample/jcr:content";
    final String mangledv1="/sample/_jcr_content";
    final String mappedv1=resResolver.map(virtualRequest,mapRootPath + pathv1);
    assertEquals("Expect mangled path",mangledv1,mappedv1);
    ((FakeSlingHttpServletRequest)virtualRequest).setContextPath(contextPath);
    final String pathvc0="/sample";
    final String mappedvc0=resResolver.map(virtualRequest,mapRootPath + pathvc0);
    assertEquals("Expect unmangled path",contextPath + pathv0,mappedvc0);
    final String pathvc1="/sample/jcr:content";
    final String mangledvc1="/sample/_jcr_content";
    final String mappedvc1=resResolver.map(virtualRequest,mapRootPath + pathvc1);
    assertEquals("Expect mangled path",contextPath + mangledvc1,mappedvc1);
    final HttpServletRequest foreignRequest=new FakeSlingHttpServletRequest(null,"foreign.host.com",-1,rootPath);
    final String pathf0="/sample";
    final String mappedf0=resResolver.map(foreignRequest,mapRootPath + pathf0);
    assertEquals("Expect unmangled absolute URI","http://" + mapHost + pathf0,mappedf0);
    final String pathf1="/sample/jcr:content";
    final String mangledf1="/sample/_jcr_content";
    final String mappedf1=resResolver.map(foreignRequest,mapRootPath + pathf1);
    assertEquals("Expect mangled absolute URI","http://" + mapHost + mangledf1,mappedf1);
    ((FakeSlingHttpServletRequest)foreignRequest).setContextPath(contextPath);
    final String pathfc0="/sample";
    final String mappedfc0=resResolver.map(foreignRequest,mapRootPath + pathfc0);
    assertEquals("Expect unmangled absolute URI","http://" + mapHost + contextPath+ pathfc0,mappedfc0);
    final String pathfc1="/sample/jcr:content";
    final String mangledfc1="/sample/_jcr_content";
    final String mappedfc1=resResolver.map(foreignRequest,mapRootPath + pathfc1);
    assertEquals("Expect mangled absolute URI","http://" + mapHost + contextPath+ mangledfc1,mappedfc1);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectPathUpdate() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  Node toContent=localhost443.addNode("_playground_designground_","sling:Mapping");
  toContent.setProperty("sling:match","(playground|designground)");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content/$1");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/playground.html");
    assertNotNull(res);
    assertEquals("/content/playground.html",res.getPath());
    res=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res);
    assertEquals("/content/playground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
    toContent.setProperty("sling:match","(homeground|foreignground)");
    saveMappings(session);
    res=resResolver.resolve(request,"/homeground.html");
    assertNotNull(res);
    assertEquals("/content/homeground.html",res.getPath());
    res=resResolver.resolve(request,"/foreignground/en.html");
    assertNotNull(res);
    assertEquals("/content/foreignground/en.html",res.getPath());
    res=resResolver.resolve(request,"/libs/nt/folder.html");
    assertNotNull(res);
    assertEquals("/libs/nt/folder.html",res.getPath());
  }
  finally {
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    rootNode.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttps4443() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https","virtual.host.com",4443,rootPath);
  Node virtualhost4443=mapRoot.getNode("map/https").addNode("virtual.host.com.4443","sling:Mapping");
  virtualhost4443.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("https://virtual.host.com:4443/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("https://virtual.host.com:4443/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost4443.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectDepthFirst() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"/content2");
  Node toContent=localhost443.addNode("virtual","sling:Mapping");
  toContent.setProperty("sling:match","virtual$");
  toContent.setProperty(PROP_REDIRECT_INTERNAL,"/content2/virtual.html");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,"/virtual");
    assertNotNull(res);
    assertEquals("/content2/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual.html");
    assertNotNull(res);
    assertEquals("/content2/virtual.html",res.getPath());
    res=resResolver.resolve(request,"/virtual/child.html");
    assertNotNull(res);
    assertEquals("/content2/virtual/child.html",res.getPath());
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    toContent.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:alias").remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + alias + ".print.html",res.getPath());
  String childNodeName="rootChildAlias";
  Node childNode=maybeCreateNode(rootNode,childNodeName,"nt:unstructured");
  childNode.setProperty("sling:alias","childAlias");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals(rootPath + "/childAlias.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_with_sling_alias_extension() throws Exception {
  final String selExt=".html";
  Node child=rootNode.addNode("child");
  child.setProperty("sling:alias","kind");
  try {
    saveMappings(session);
    String path="/kind" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/kind",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    grandchild.setProperty("sling:alias","enkel");
    saveMappings(session);
    String pathEnkel="/kind/enkel" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/kind/enkel",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  try {
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias);
    String mapped=resResolver.map(rootNode.getPath());
    assertEquals(path,mapped);
    Node child=rootNode.addNode("child");
    session.save();
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/child");
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    if (rootNode.hasNode("child")) {
      rootNode.getNode("child").remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve() throws Exception {
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child";
    String mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals("",res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild";
    String mappedEnkel=resResolver.map(grandchild.getPath());
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals("",resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapContext() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    path="/child";
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp8080Root() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",8080,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.8080","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com:8080/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com:8080/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  saveMappings(session);
  try {
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias);
    String mapped=resResolver.map(rootNode.getPath());
    assertEquals(path,mapped);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/_jcr_content");
    mapped=resResolver.map(content.getPath());
    assertEquals(path,mapped);
    Node child=content.addNode("child");
    session.save();
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/_jcr_content/child");
    mapped=resResolver.map(child.getPath());
    assertEquals(path,mapped);
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_resolve_selectors_extension() throws Exception {
  final String selExt=".sel1.sel2.html";
  Node child=rootNode.addNode("child");
  session.save();
  try {
    String path="/child" + selExt;
    String mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
    Resource res=resResolver.resolve(null,path);
    assertNotNull(res);
    assertEquals(rootNode.getPath() + "/child",res.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,res.getResourceMetadata().getResolutionPathInfo());
    Node resNode=res.adaptTo(Node.class);
    assertNotNull(resNode);
    assertEquals(child.getPath(),resNode.getPath());
    Node grandchild=child.addNode("grandchild");
    session.save();
    String pathEnkel="/child/grandchild" + selExt;
    String mappedEnkel=resResolver.map(grandchild.getPath() + selExt);
    assertEquals(pathEnkel,mappedEnkel);
    Resource resEnkel=resResolver.resolve(null,pathEnkel);
    assertNotNull(resEnkel);
    assertEquals(rootNode.getPath() + "/child/grandchild",resEnkel.getResourceMetadata().getResolutionPath());
    assertEquals(selExt,resEnkel.getResourceMetadata().getResolutionPathInfo());
    Node resNodeEnkel=resEnkel.adaptTo(Node.class);
    assertNotNull(resNodeEnkel);
    assertEquals(grandchild.getPath(),resNodeEnkel.getPath());
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVirtualHostHttp80() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(null,"virtual.host.com",-1,rootPath);
  Node virtualhost80=mapRoot.getNode("map/http").addNode("virtual.host.com.80","sling:Mapping");
  virtualhost80.setProperty(PROP_REDIRECT_INTERNAL,"/content/virtual");
  try {
    saveMappings(session);
    final Resource res0=resResolver.resolve(request,"/playground.html");
    assertNotNull(res0);
    assertEquals("/content/virtual/playground.html",res0.getPath());
    final Resource res1=resResolver.resolve(request,"/playground/en.html");
    assertNotNull(res1);
    assertEquals("/content/virtual/playground/en.html",res1.getPath());
    final String mapped00=resResolver.map(res0.getPath());
    assertEquals("http://virtual.host.com/playground.html",mapped00);
    final String mapped01=resResolver.map(request,res0.getPath());
    assertEquals("/playground.html",mapped01);
    final String mapped10=resResolver.map(res1.getPath());
    assertEquals("http://virtual.host.com/playground/en.html",mapped10);
    final String mapped11=resResolver.map(request,res1.getPath());
    assertEquals("/playground/en.html",mapped11);
  }
  finally {
    virtualhost80.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMapFragment() throws Exception {
  String path=rootNode.getPath();
  String mapped=resResolver.map(path);
  assertEquals(path,mapped);
  Node child=rootNode.addNode("child");
  session.save();
  try {
    final String selExt="#sec:1";
    path="/child" + selExt;
    mapped=resResolver.map(child.getPath() + selExt);
    assertEquals(path,mapped);
  }
  finally {
    child.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceExternalRedirect() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_EXTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals("sling:redirect",res.getResourceType());
    assertNotNull(res.adaptTo(ValueMap.class));
    assertEquals("http://localhost" + rootPath,res.adaptTo(ValueMap.class).get("sling:target",String.class));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_EXTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testResolveRemovedMixinVanityPath() throws Exception {
  Node childNode=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode.removeMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
  }
  finally {
    if (childNode != null) {
      childNode.remove();
      saveMappings(session);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.WriteableResourcesTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  resolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSimpleCRUD() throws Exception {
  final Props props=new Props("title","hello","text","world");
  final String fullPath=resolver.create(testRoot,"child_" + System.currentTimeMillis(),props).getPath();
  resolver.commit();
{
    final Resource r=resolver.getResource(fullPath);
    assertNotNull("Expecting Resource at " + fullPath,r);
    final ModifiableValueMap m=r.adaptTo(ModifiableValueMap.class);
    assertValueMap(m,"title","hello","text","world");
    m.put("more","fun");
    m.put("title","changed");
    resolver.commit();
  }
{
    final Resource r=resolver.getResource(fullPath);
    assertNotNull("Expecting modified Resource at " + fullPath,r);
    assertValueMap(r.adaptTo(ValueMap.class),"title","changed","more","fun","text","world");
  }
{
    final Resource r=resolver.getResource(fullPath);
    assertNotNull("Expecting non-null resource to delete, at " + fullPath,r);
    resolver.delete(r);
    resolver.commit();
    assertNull("Expecting " + fullPath + " to be deleted",resolver.getResource(fullPath));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspForwardTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testInfiniteLoopDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlC + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.RecursionTooDeepException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithForwardAndExtension() throws IOException {
  final String content=H.getContent(nodeUrlE + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithJspForward() throws IOException {
  final String content=H.getContent(nodeUrlF + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithoutForward() throws IOException {
  final String content=H.getContent(nodeUrlA + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithForward() throws IOException {
  final String content=H.getContent(nodeUrlB + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testForcedResourceType() throws IOException {
  final String content=H.getContent(nodeUrlD + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is included (" + content + ")",!content.contains(testTextB));
  assertTrue("Resource type has been forced (" + content + ")",content.contains("Forced resource type:" + forcedResourceType));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspIncludeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithoutInclude() throws IOException {
  final String content=H.getContent(nodeUrlA + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertFalse("Nothing has been included",content.contains("<p>Including"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testInfiniteLoopDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlC + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.RecursionTooDeepException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithInclude() throws IOException {
  final String content=H.getContent(nodeUrlB + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testVarInclude() throws IOException {
  final String content=H.getContent(nodeUrlI + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes Loaded test content:",content.contains("Loaded test content:"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithIncludeAndExtension() throws IOException {
  final String content=H.getContent(nodeUrlE + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testForcedResourceType() throws IOException {
  final String content=H.getContent(nodeUrlD + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
  assertTrue("Resource type has been forced (" + content + ")",content.contains("Forced resource type:" + forcedResourceType));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testMaxCallsDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlF + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.TooManyCallsException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testCall() throws IOException {
  final String content=H.getContent(nodeUrlG + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Call has been used",content.contains("<p>Calling"));
  assertTrue("Call has been made",content.contains("called"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testCallToSupertype() throws IOException {
  final String content=H.getContent(nodeUrlH + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Call has been made",content.contains("called"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspScriptingTest </h4><pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testEnum() throws Exception {
  String toDelete=null;
  try {
    toDelete=H.uploadTestScript(unstructuredNode.scriptPath,"enum-test.jsp","txt.jsp");
    final String content=H.getContent(unstructuredNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
    for (    String expected : new String[]{"FOO=FOO","BAR=BAR"}) {
      assertTrue("Content contains '" + expected + "'("+ content+ ")",content.contains(expected));
    }
  }
  finally {
    if (toDelete != null) {
      H.getTestClient().delete(toDelete);
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testRtNoScript() throws Exception {
  final String content=H.getContent(rtNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue(content.contains("PlainTextRendererServlet"));
  assertTrue("Content contains " + rtNode.testText + " ("+ content+ ")",content.contains(rtNode.testText));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testTagFile() throws Exception {
  String tagFile=null;
  String tagUsingScript=null;
  try {
    H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,"/apps/testing/tags");
    tagFile=H.uploadTestScript("/apps/testing/tags","example.tag","example.tag");
    tagUsingScript=H.uploadTestScript(unstructuredNode.scriptPath,"withtag.jsp","html.jsp");
    final String content=H.getContent(unstructuredNode.nodeUrl + ".html",HttpTest.CONTENT_TYPE_HTML);
    assertTrue("JSP script executed as expected (" + content + ")",content.contains("<h1>Hello, Sling User</h1>"));
  }
  finally {
    if (tagFile != null) {
      H.getTestClient().delete(tagFile);
    }
    if (tagUsingScript != null) {
      H.getTestClient().delete(tagUsingScript);
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testUnstructuredNoScript() throws Exception {
  final String content=H.getContent(unstructuredNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue(content.contains("PlainTextRendererServlet"));
  assertTrue("Content contains " + unstructuredNode.testText + " ("+ content+ ")",content.contains(unstructuredNode.testText));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.ServerSideScriptsTest </h4><pre class="type-12 type-6 type-9 type-3 type-19 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void runScripts() throws Exception {
  final String resourceType=RESOURCE_TYPE_PREFIX + '/' + test.testName;
  final String scriptPath="/apps/" + resourceType;
  String toDelete=null;
  try {
    this.slingClient.createNode(scriptPath,"jcr:primaryType","sling:Folder","jcr:mixinTypes","sling:Test","sling:resourceType",RESOURCE_TYPE_PREFIX + '/' + test.testName);
    toDelete=scriptPath;
    final String destPath=scriptPath + "/test.txt" + test.scriptExtension;
    logger.info("Setting up node {} for {}",destPath,test.testScriptFile.getAbsoluteFile());
    this.slingClient.upload(destPath,new FileInputStream(test.testScriptFile),-1,false);
    Thread.sleep(2000L);
    final long startTime=System.currentTimeMillis();
    final ServerSideTestClient.TestResults results=slingClient.runTests("org.apache.sling.junit.scriptable.ScriptableTestsProvider");
    assertEquals("Expecting 1 scriptable test",1,results.getTestCount());
    final int failureCount=test.willFail ? 1 : 0;
    if (results.getFailures().size() != failureCount) {
      fail("Expected " + failureCount + " failing tests but got "+ results.getFailures().size()+ " for "+ test.testScriptFile.getAbsolutePath()+ ": "+ results.getFailures());
    }
    logger.info("Execution of {} took {} msec",test,System.currentTimeMillis() - startTime);
  }
  finally {
    if (toDelete != null) {
      this.slingClient.delete(toDelete);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.AccessPrivilegesInfoTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the fix for SLING-1090
 */
@Test public void testSLING_1090() throws Exception {
  testUserId=H.createTestUser();
  ArrayList<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:removeChildNodes","granted"));
  Credentials adminCreds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(adminCreds,HttpTest.HTTP_BASE_URL + "/.modifyAce.html",HttpServletResponse.SC_OK,postParams,null);
  testFolderUrl=H.getTestClient().createNode(HttpTest.HTTP_BASE_URL + "/testFolder" + random.nextInt()+ SlingPostConstants.DEFAULT_CREATE_SUFFIX,null);
  String postUrl=testFolderUrl + ".modifyAce.html";
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","granted"));
  H.assertAuthenticatedPostStatus(adminCreds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(true,jsonObj.getBoolean("canDelete"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGrantedWriteForGroup() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  Credentials adminCreds=new UsernamePasswordCredentials("admin","admin");
  String groupPostUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/group/" + testGroupId+ ".update.html";
  List<NameValuePair> groupPostParams=new ArrayList<NameValuePair>();
  groupPostParams.add(new NameValuePair(":member",testUserId));
  H.assertAuthenticatedPostStatus(adminCreds,groupPostUrl,HttpServletResponse.SC_OK,groupPostParams,null);
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testGroupId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  postParams.add(new NameValuePair("privilege@jcr:readAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","granted"));
  H.assertAuthenticatedPostStatus(adminCreds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(true,jsonObj.getBoolean("canAddChildren"));
  assertEquals(true,jsonObj.getBoolean("canDeleteChildren"));
  assertEquals(false,jsonObj.getBoolean("canDelete"));
  assertEquals(true,jsonObj.getBoolean("canModifyProperties"));
  assertEquals(true,jsonObj.getBoolean("canReadAccessControl"));
  assertEquals(true,jsonObj.getBoolean("canModifyAccessControl"));
  String childFolderUrl=H.getTestClient().createNode(testFolderUrl + "/testFolder" + random.nextInt()+ SlingPostConstants.DEFAULT_CREATE_SUFFIX,null);
  String childPostUrl=childFolderUrl + ".modifyAce.html";
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testGroupId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","granted"));
  H.assertAuthenticatedPostStatus(adminCreds,childPostUrl,HttpServletResponse.SC_OK,postParams,null);
  String childGetUrl=childFolderUrl + ".privileges-info.json";
  String childJson=H.getAuthenticatedContent(testUserCreds,childGetUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(childJson);
  JSONObject childJsonObj=new JSONObject(childJson);
  assertEquals(true,childJsonObj.getBoolean("canDelete"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGrantedWriteForUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  postParams.add(new NameValuePair("privilege@jcr:readAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","granted"));
  Credentials adminCreds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(adminCreds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(true,jsonObj.getBoolean("canAddChildren"));
  assertEquals(true,jsonObj.getBoolean("canDeleteChildren"));
  assertEquals(false,jsonObj.getBoolean("canDelete"));
  assertEquals(true,jsonObj.getBoolean("canModifyProperties"));
  assertEquals(true,jsonObj.getBoolean("canReadAccessControl"));
  assertEquals(true,jsonObj.getBoolean("canModifyAccessControl"));
  String childFolderUrl=H.getTestClient().createNode(testFolderUrl + "/testFolder" + random.nextInt()+ SlingPostConstants.DEFAULT_CREATE_SUFFIX,null);
  String childPostUrl=childFolderUrl + ".modifyAce.html";
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","granted"));
  H.assertAuthenticatedPostStatus(adminCreds,childPostUrl,HttpServletResponse.SC_OK,postParams,null);
  String childGetUrl=childFolderUrl + ".privileges-info.json";
  String childJson=H.getAuthenticatedContent(testUserCreds,childGetUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(childJson);
  JSONObject childJsonObj=new JSONObject(childJson);
  assertEquals(true,childJsonObj.getBoolean("canDelete"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeniedWriteForUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:readAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  Credentials adminCreds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(adminCreds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canAddChildren"));
  assertEquals(false,jsonObj.getBoolean("canDeleteChildren"));
  assertEquals(false,jsonObj.getBoolean("canDelete"));
  assertEquals(false,jsonObj.getBoolean("canModifyProperties"));
  assertEquals(true,jsonObj.getBoolean("canReadAccessControl"));
  assertEquals(false,jsonObj.getBoolean("canModifyAccessControl"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeniedWriteForGroup() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  Credentials adminCreds=new UsernamePasswordCredentials("admin","admin");
  String groupPostUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/group/" + testGroupId+ ".update.html";
  List<NameValuePair> groupPostParams=new ArrayList<NameValuePair>();
  groupPostParams.add(new NameValuePair(":member",testUserId));
  H.assertAuthenticatedPostStatus(adminCreds,groupPostUrl,HttpServletResponse.SC_OK,groupPostParams,null);
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testGroupId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:readAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  H.assertAuthenticatedPostStatus(adminCreds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canAddChildren"));
  assertEquals(false,jsonObj.getBoolean("canDeleteChildren"));
  assertEquals(false,jsonObj.getBoolean("canDelete"));
  assertEquals(false,jsonObj.getBoolean("canModifyProperties"));
  assertEquals(true,jsonObj.getBoolean("canReadAccessControl"));
  assertEquals(false,jsonObj.getBoolean("canModifyAccessControl"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test @Ignore public void testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertTrue(grantedArray.length() >= 8);
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:all");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:write");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:readAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lockManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:nodeTypeManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:retentionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lifecycleManagement");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:modifyProperties");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:addChildNodes");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:removeNode");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:removeChildNodes");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:write");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild2() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertTrue(grantedArray.length() >= 11);
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:all");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:write");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:readAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lockManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:nodeTypeManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:retentionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lifecycleManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyProperties");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:addChildNodes");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:removeChildNodes");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:removeNode");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_ReplacePrivilegeOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:write");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNull(deniedArray);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_SupersetOfPrivilegesDeniedOnChild2() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:modifyProperties","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNull(grantedArray);
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:all");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_FewerPrivilegesGrantedOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:all");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNull(deniedArray);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_MorePrivilegesGrantedOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:all");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNull(deniedArray);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclForUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testUserId2=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId2));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId2));
  postParams.add(new NameValuePair("privilege@jcr:lockManagement","granted"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:write");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNull(deniedArray);
  JSONObject aceObject2=jsonObject.optJSONObject(testUserId2);
  assertNotNull(aceObject2);
  String principalString2=aceObject2.optString("principal");
  assertEquals(testUserId2,principalString2);
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(2,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:write");
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:lockManagement");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNull(deniedArray2);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_SupersetOfPrivilegesDeniedOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNull(grantedArray);
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:all");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to verify adding an ACE after an existing ACE 
 * the ACL
 */
@Test public void testAddAceOrderByAfter() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"after " + testUserId);
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(0,user.getInt("order"));
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(1,group.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-997, preserve privileges that were not posted with the modifyAce 
 * request.
 */
@Test public void testMergeAceForUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:readAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:addChildNodes","granted"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","denied"));
  postParams.add(new NameValuePair("privilege@jcr:removeChildNodes","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  int order=aceObject.optInt("order");
  assertEquals(0,order);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(3,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:readAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:addChildNodes");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(2,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:removeChildNodes");
  List<NameValuePair> postParams2=new ArrayList<NameValuePair>();
  postParams2.add(new NameValuePair("principalId",testUserId));
  postParams2.add(new NameValuePair("privilege@jcr:readAccessControl","none"));
  postParams2.add(new NameValuePair("privilege@jcr:modifyProperties","granted"));
  postParams2.add(new NameValuePair("privilege@jcr:modifyAccessControl","denied"));
  postParams2.add(new NameValuePair("privilege@jcr:removeChildNodes","none"));
  postParams2.add(new NameValuePair("privilege@jcr:removeNode","denied"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams2,null);
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(1,jsonObject2.length());
  JSONObject aceObject2=jsonObject2.optJSONObject(testUserId);
  assertNotNull(aceObject2);
  String principalString2=aceObject2.optString("principal");
  assertEquals(testUserId,principalString2);
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(3,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:addChildNodes");
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:modifyProperties");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNotNull(deniedArray2);
  assertEquals(2,deniedArray2.length());
  Set<String> deniedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < deniedArray2.length(); i++) {
    deniedPrivilegeNames2.add(deniedArray2.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:modifyAccessControl");
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:removeNode");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to verify adding an ACE at a specific index inside 
 * the ACL
 */
@Test public void testAddAceOrderByNumeric() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"0");
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(0,group.getInt("order"));
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(1,user.getInt("order"));
  testUserId2=H.createTestUser();
  addOrUpdateAce(testFolderUrl,testUserId2,true,"1");
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(3,jsonObject2.length());
  JSONObject group2=jsonObject2.getJSONObject(testGroupId);
  assertNotNull(group2);
  assertEquals(testGroupId,group2.getString("principal"));
  assertEquals(0,group2.getInt("order"));
  JSONObject user3=jsonObject2.getJSONObject(testUserId2);
  assertNotNull(user3);
  assertEquals(testUserId2,user3.getString("principal"));
  assertEquals(1,user3.getInt("order"));
  JSONObject user2=jsonObject2.getJSONObject(testUserId);
  assertNotNull(user2);
  assertEquals(testUserId,user2.getString("principal"));
  assertEquals(2,user2.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-997, preserve privileges that were not posted with the modifyAce 
 * request.
 */
@Test public void testMergeAceForUserCombineAggregatePrivilege() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.getJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  JSONArray deniedArray=aceObject.getJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:removeNode");
  List<NameValuePair> postParams2=new ArrayList<NameValuePair>();
  postParams2.add(new NameValuePair("principalId",testUserId));
  postParams2.add(new NameValuePair("privilege@jcr:write","denied"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams2,null);
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(1,jsonObject2.length());
  JSONObject aceObject2=jsonObject2.optJSONObject(testUserId);
  assertNotNull(aceObject2);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(1,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:read");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNotNull(deniedArray2);
  assertEquals(1,deniedArray2.length());
  Set<String> deniedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < deniedArray2.length(); i++) {
    deniedPrivilegeNames2.add(deniedArray2.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:write");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to verify adding an ACE in the first position of 
 * the ACL
 */
@Test public void testAddAceOrderByFirst() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"first");
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(0,group.getInt("order"));
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(1,user.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-3010
 */
@Test public void testMergeAceForUserGrantNestedAggregatePrivilegeAfterDenySuperAggregatePrivilege() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.json";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:versionManagement","denied"));
  postParams.add(new NameValuePair("privilege@jcr:read","denied"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","denied"));
  postParams.add(new NameValuePair("privilege@rep:write","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:versionManagement","granted"));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.getJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(4,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:write");
  JSONArray deniedArray=aceObject.getJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:nodeTypeManagement");
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test for SLING-1677
 */
@Test public void testModifyAceResponseAsJSON() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.json";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","bogus"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  JSONObject jsonObject=new JSONObject(json);
  assertNotNull(jsonObject);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyAceForUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","bogus"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  int order=aceObject.optInt("order");
  assertEquals(0,order);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  assertEquals("jcr:read",grantedArray.getString(0));
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  assertEquals("jcr:write",deniedArray.getString(0));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-3010
 */
@Test public void testMergeAceForUserGrantAggregatePrivilegePartsAfterDenyAggregatePrivilege() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.json";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:versionManagement","denied"));
  postParams.add(new NameValuePair("privilege@jcr:read","denied"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","denied"));
  postParams.add(new NameValuePair("privilege@rep:write","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:versionManagement","granted"));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","granted"));
  postParams.add(new NameValuePair("privilege@jcr:nodeTypeManagement","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.getJSONArray("granted");
  assertNotNull(grantedArray);
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"rep:write");
  assertEquals("Expecting the correct number of privileges in " + grantedPrivilegeNames,4,grantedPrivilegeNames.size());
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNull(deniedArray);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifyAceForGroup() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testGroupId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  postParams.add(new NameValuePair("privilege@jcr:modifyAccessControl","bogus"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testGroupId);
  assertNotNull(aceObject);
  int order=aceObject.optInt("order");
  assertEquals(0,order);
  String principalString=aceObject.optString("principal");
  assertEquals(testGroupId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  assertEquals("jcr:read",grantedArray.getString(0));
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals("jcr:write",deniedArray.getString(0));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test ACE update with a deny privilege for an ACE that already contains
 * a grant privilege 
 */
@Test public void testMergeAceForUserDenyPrivilegeAfterGrantPrivilege() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:write");
  assertFalse(aceObject.has("denied"));
  List<NameValuePair> postParams2=new ArrayList<NameValuePair>();
  postParams2.add(new NameValuePair("principalId",testUserId));
  postParams2.add(new NameValuePair("privilege@jcr:nodeTypeManagement","denied"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams2,null);
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(1,jsonObject2.length());
  JSONObject aceObject2=jsonObject2.optJSONObject(testUserId);
  assertNotNull(aceObject2);
  assertEquals(testUserId,aceObject2.optString("principal"));
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(1,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:write");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNotNull(deniedArray2);
  assertEquals(1,deniedArray2.length());
  Set<String> deniedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < deniedArray2.length(); i++) {
    deniedPrivilegeNames2.add(deniedArray2.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:nodeTypeManagement");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to verify adding an ACE at the end 
 * the ACL
 */
@Test public void testAddAceOrderByLast() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"last");
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(0,user.getInt("order"));
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(1,group.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to verify adding an ACE before an existing ACE 
 * the ACL
 */
@Test public void testAddAceOrderByBefore() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"before " + testUserId);
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(0,group.getInt("order"));
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(1,user.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to make sure modifying an existing ace without changing the order 
 * leaves the ACE in the same position in the ACL
 */
@Test public void testUpdateAcePreservePosition() throws IOException, JSONException {
  createAceOrderTestFolderWithOneAce();
  testGroupId=H.createTestGroup();
  addOrUpdateAce(testFolderUrl,testGroupId,true,"first");
  addOrUpdateAce(testFolderUrl,testGroupId,false,null);
  String getUrl=testFolderUrl + ".acl.json";
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(2,jsonObject.length());
  JSONObject group=jsonObject.getJSONObject(testGroupId);
  assertNotNull(group);
  assertEquals(testGroupId,group.getString("principal"));
  assertEquals(0,group.getInt("order"));
  JSONObject user=jsonObject.getJSONObject(testUserId);
  assertNotNull(user);
  assertEquals(testUserId,user.getString("principal"));
  assertEquals(1,user.getInt("order"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-997, preserve privileges that were not posted with the modifyAce 
 * request.
 */
@Test public void testMergeAceForUserSplitAggregatePrincipal() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:read","granted"));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:write");
  List<NameValuePair> postParams2=new ArrayList<NameValuePair>();
  postParams2.add(new NameValuePair("principalId",testUserId));
  postParams2.add(new NameValuePair("privilege@jcr:modifyProperties","granted"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams2,null);
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(1,jsonObject2.length());
  JSONObject aceObject2=jsonObject2.optJSONObject(testUserId);
  assertNotNull(aceObject2);
  assertEquals(testUserId,aceObject2.optString("principal"));
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(2,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:modifyProperties");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNotNull(deniedArray2);
  assertEquals(3,deniedArray2.length());
  Set<String> deniedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < deniedArray2.length(); i++) {
    deniedPrivilegeNames2.add(deniedArray2.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames2,false,"jcr:write");
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:addChildNodes");
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:removeNode");
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:removeChildNodes");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.AuthenticationResponseCodeTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testXRequestedWithIncorrectCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","garbage"));
  params.add(new NameValuePair("j_password","garbage"));
  List<Header> headers=new ArrayList<Header>();
  headers.add(new Header("X-Requested-With","XMLHttpRequest"));
  headers.add(new Header("User-Agent","Mozilla/5.0 Sling Integration Test"));
  HttpMethod post=assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_FORBIDDEN,params,headers,null);
  assertNotNull(post.getResponseHeader("X-Reason"));
  assertEquals("Username and Password do not match",post.getResponseHeader("X-Reason").getValue());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidatingCorrectHttpBasicCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertTrue(post.getResponseBodyAsString().length() == 0);
  HttpMethod get=H.assertHttpStatus(HttpTest.HTTP_BASE_URL + "/?j_validate=true",HttpServletResponse.SC_OK);
  assertTrue(get.getResponseBodyAsString().length() == 0);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPreventLoopIncorrectHttpBasicCredentials() throws Exception {
  URL url=new URL(HttpTest.HTTP_BASE_URL);
  Credentials defaultcreds=new UsernamePasswordCredentials("garbage","garbage");
  H.getHttpClient().getState().setCredentials(new AuthScope(url.getHost(),url.getPort(),AuthScope.ANY_REALM),defaultcreds);
  final String requestUrl=HttpTest.HTTP_BASE_URL + "/junk?param1=1";
  HttpMethod get=new GetMethod(requestUrl);
  get.setRequestHeader("Referer",requestUrl);
  get.setRequestHeader("User-Agent","Mozilla/5.0 Sling Integration Test");
  int status=H.getHttpClient().executeMethod(get);
  assertEquals(HttpServletResponse.SC_UNAUTHORIZED,status);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidatingCorrectFormCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","admin"));
  params.add(new NameValuePair("j_password","admin"));
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertTrue(post.getResponseBodyAsString().length() == 0);
  List<NameValuePair> params2=new ArrayList<NameValuePair>();
  params2.add(new NameValuePair("j_validate","true"));
  HttpMethod post2=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params2,null);
  assertTrue(post2.getResponseBodyAsString().length() == 0);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPreventLoopIncorrectFormCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","garbage"));
  params.add(new NameValuePair("j_password","garbage"));
  final String requestUrl=HttpTest.HTTP_BASE_URL + "/j_security_check";
  List<Header> headers=new ArrayList<Header>();
  headers.add(new Header("Referer",requestUrl));
  headers.add(new Header("User-Agent","Mozilla/5.0 Sling Integration Test"));
  HttpMethod post=assertPostStatus(requestUrl,HttpServletResponse.SC_FORBIDDEN,params,headers,null);
  assertNotNull(post.getResponseHeader("X-Reason"));
  assertEquals("Username and Password do not match",post.getResponseHeader("X-Reason").getValue());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testValidatingIncorrectCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","garbage"));
  params.add(new NameValuePair("j_password","garbage"));
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_FORBIDDEN,params,null);
  assertNotNull(post.getResponseHeader("X-Reason"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.SelectorAuthenticationResponseCodeTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithAcceptHeaderIncorrectCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","garbage"));
  params.add(new NameValuePair("j_password","garbage"));
  List<Header> headers=new ArrayList<Header>();
  headers.add(new Header("User-Agent","Mozilla/5.0 Sling Integration Test"));
  HttpMethod post=assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_MOVED_TEMPORARILY,params,headers,null);
  final String location=post.getResponseHeader("Location").getValue();
  assertNotNull(location);
  assertTrue(location.startsWith(HttpTest.HTTP_BASE_URL + "/system/sling/selector/login?"));
  assertTrue(location.contains("resource=%2F"));
  assertTrue(location.contains("j_reason=INVALID_CREDENTIALS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.indexing.FullTextIndexingTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUploadedPdfIsIndexed() throws Exception {
  final String queryUrl=HttpTest.WEBDAV_BASE_URL + "/content.query.json?queryType=xpath&statement=" + URLEncoder.encode("/jcr:root" + uploadPath + "//*[jcr:contains(.,'"+ expectedText+ "')]","UTF-8");
  final Condition c=new Condition(){
    public boolean isTrue() throws Exception {
      String result=H.getContent(queryUrl,HttpTest.CONTENT_TYPE_JSON);
      JSONArray results=new JSONArray(result);
      if (results.length() == 0) {
        return false;
      }
      String expectedPath=HttpTest.SERVLET_CONTEXT + uploadPath + "/"+ fileName+ "/jcr:content";
      for (int i=0; i < results.length(); i++) {
        JSONObject object=results.getJSONObject(i);
        if (expectedPath.equals(object.getString("jcr:path"))) {
          return true;
        }
      }
      return false;
    }
    public String getDescription(){
      return "A document containing '" + expectedText + "' is found under "+ uploadPath;
    }
  }
;
  assertFalse("Expecting search to return nothing before upload",c.isTrue());
  String localPath="/integration-test/indexing/" + fileName;
  InputStream resourceToUpload=getClass().getResourceAsStream(localPath);
  if (resourceToUpload == null)   throw new IllegalArgumentException("No resource to upload found at " + localPath);
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,uploadPath);
  final int status=H.getTestClient().upload(HttpTest.WEBDAV_BASE_URL + uploadPath + "/"+ fileName,resourceToUpload);
  assertEquals("Upload status code",201,status);
  new RetryLoop(c,45,50);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.installer.ServerSideInstallerTest </h4><pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void noUntransformedResources(){
  final List<?> utr=is.getUntransformedResources();
  if (utr.size() > 0) {
    fail("Untransformed resources found: " + utr);
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void noActiveResources(){
  final List<?> ar=is.getActiveResources();
  if (ar.size() > 0) {
    fail("Active resources found: " + ar);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.login.RedirectOnLogoutTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Test SLING-1847
 * @throws Exception
 */
@Test public void testRedirectToResourceAfterLogout() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","admin"));
  params.add(new NameValuePair("j_password","admin"));
  H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_MOVED_TEMPORARILY,params,null);
  String locationAfterLogout=HttpTest.SERVLET_CONTEXT + "/system/sling/info.sessionInfo.json";
  final GetMethod get=new GetMethod(HttpTest.HTTP_BASE_URL + "/system/sling/logout");
  NameValuePair[] logoutParams=new NameValuePair[1];
  logoutParams[0]=new NameValuePair("resource",locationAfterLogout);
  get.setQueryString(logoutParams);
  get.setFollowRedirects(false);
  final int status=H.getHttpClient().executeMethod(get);
  assertEquals("Expected redirect",HttpServletResponse.SC_MOVED_TEMPORARILY,status);
  Header location=get.getResponseHeader("Location");
  assertEquals(HttpTest.HTTP_BASE_URL + locationAfterLogout,location.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.provisioning.EmbeddedModelTest </h4><pre class="type-11 type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws IOException {
  final InputStream modelStream=teleporter.getService(LaunchpadContentProvider.class).getResourceAsStream(MODEL_RESOURCE_PATH);
  assertNotNull("Expecting embedded model resource at " + MODEL_RESOURCE_PATH,modelStream);
  try {
    modelContent=new String(IOUtils.toByteArray(modelStream));
  }
  finally {
    modelStream.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.repository.RepositoryInitializersTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void checkSignalProperty() throws IOException {
  final String path=FirstRepositoryInitializer.SIGNAL_NODE_PATH + "/" + SecondRepositoryInitializer.class.getSimpleName()+ ".txt";
  final String url=HttpTest.HTTP_BASE_URL + path;
  final String content=H.getContent(url,HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue("Expecting a numeric value at " + path + ", got "+ content,Long.valueOf(content) > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.resourceresolver.ResourceResolverApiTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testResolutionFailsB(){
  final HttpServletRequest req1=new FakeSlingHttpServletRequest(no_resource_path);
  final Resource res1=resResolver.resolve(req1);
  Assert.assertNotNull("Expecting resource if resolution fails",res1);
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res1));
  Assert.assertEquals("Path must be the original path",no_resource_path,res1.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolutionFailsA(){
  final Resource res0=resResolver.resolve(null,no_resource_path);
  Assert.assertNotNull("Expecting resource if resolution fails",res0);
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res0));
  Assert.assertEquals("Path must be the original path",no_resource_path,res0.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativePathsB(){
  final Resource res02=resResolver.resolve(no_resource_path);
  Assert.assertNotNull(res02);
  Assert.assertEquals("Expecting absolute path for relative path",no_resource_path,res02.getPath());
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res02));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativePathsA(){
  final String path01="relPath/relPath";
  final Resource res01=resResolver.resolve(path01);
  Assert.assertNotNull(res01);
  Assert.assertEquals("Expecting absolute path for relative path","/" + path01,res01.getPath());
  Assert.assertTrue("Resource must be NonExistingResource: " + res01.getClass().getName(),ResourceUtil.isNonExistingResource(res01));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testResolutionFailsC(){
  final HttpServletRequest req2=new FakeSlingHttpServletRequest(null);
  final Resource res2=resResolver.resolve(req2);
  Assert.assertNotNull("Expecting resource if resolution fails",res2);
  Assert.assertFalse("Resource must not be NonExistingResource was ",ResourceUtil.isNonExistingResource(res2));
  Assert.assertEquals("Path must be the the root path","/",res2.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDelete() throws PersistenceException {
  final String nodeName="node-" + UUID.randomUUID();
  final String nodePath="/" + nodeName;
  resResolver.create(resResolver.getResource("/"),nodeName,null);
  Assert.assertEquals(nodePath,resResolver.getResource(nodePath).getPath());
  resResolver.delete(resResolver.getResource(nodePath));
  resResolver.commit();
  Assert.assertNull(resResolver.getResource(nodePath));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullResourceMapsToRoot(){
  final Resource res00=resResolver.resolve((String)null);
  Assert.assertNotNull(res00);
  Assert.assertEquals("Null path is expected to return root","/",res00.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteParentTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteNonExisting() throws Exception {
  final String path=TEST_PATH + "/" + EXISTING_PATH;
  final String testNodeUrl=H.getTestClient().createNode(HttpTest.HTTP_BASE_URL + "/" + path,null);
  assertTrue("Expecting created node path to end with " + path,testNodeUrl.endsWith(path));
  H.assertHttpStatus(testNodeUrl + ".json",200,"Expecting test node to exist before test");
  final String selectorsPath=TEST_PATH + "/" + deletePath;
  final PostMethod post=new PostMethod(HttpTest.HTTP_BASE_URL + "/" + selectorsPath);
  post.setParameter(":operation","delete");
  final int status=H.getHttpClient().executeMethod(post);
  assertEquals("Expecting 403 status for delete operation",403,status);
  H.assertHttpStatus(testNodeUrl + ".json",200,"Expecting test node to exist after test");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletPrivilegesUpdateTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Test for SLING-897 fix: 
 * 1. Updating a property requires jcr:modifyProperties privilege on node.
 * 2. When changing an existing property observers should receive a PROPERTY_CHANGED event instead 
 * of a PROPERTY_REMOVED event and a PROPERTY_ADDED event
 */
@Test @Ignore public void testUpdatePropertyPrivilegesAndEvents() throws IOException, JSONException, RepositoryException, InterruptedException {
  testUserId=H.createTestUser();
  final String createTestNodeUrl=postUrl + SlingPostConstants.DEFAULT_CREATE_SUFFIX;
  NameValuePairList clientNodeProperties=new NameValuePairList();
  clientNodeProperties.add(SlingPostConstants.RP_NODE_NAME_HINT,testName.getMethodName());
  clientNodeProperties.add("propOne","propOneValue1");
  clientNodeProperties.add("propOne","propOneValue2");
  clientNodeProperties.add("propTwo","propTwoValue");
  String testNodeUrl=H.getTestClient().createNode(createTestNodeUrl,clientNodeProperties,null,false);
  String content=H.getContent(testNodeUrl + ".json",HttpTest.CONTENT_TYPE_JSON);
  JSONObject json=new JSONObject(content);
  Object propOneObj=json.opt("propOne");
  assertTrue(propOneObj instanceof JSONArray);
  assertEquals(2,((JSONArray)propOneObj).length());
  assertEquals("propOneValue1",((JSONArray)propOneObj).get(0));
  assertEquals("propOneValue2",((JSONArray)propOneObj).get(1));
  Object propTwoObj=json.opt("propTwo");
  assertTrue(propTwoObj instanceof String);
  assertEquals("propTwoValue",propTwoObj);
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("propOne","propOneValueChanged"));
  postParams.add(new NameValuePair("propTwo","propTwoValueChanged1"));
  postParams.add(new NameValuePair("propTwo","propTwoValueChanged2"));
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String expectedMessage="Expected javax.jcr.AccessDeniedException";
  H.assertAuthenticatedPostStatus(testUserCreds,testNodeUrl,HttpServletResponse.SC_INTERNAL_SERVER_ERROR,postParams,expectedMessage);
  Map<String,String> nodeAceProperties=new HashMap<String,String>();
  nodeAceProperties.put("principalId",testUserId);
  nodeAceProperties.put("privilege@jcr:modifyProperties","granted");
  H.getTestClient().createNode(testNodeUrl + ".modifyAce.html",nodeAceProperties);
  Repository repository=JcrUtils.getRepository(HttpTest.HTTP_BASE_URL + "/server/");
  Session jcrSession=null;
  TestEventListener listener=new TestEventListener();
  ObservationManager observationManager=null;
  try {
    jcrSession=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
    observationManager=jcrSession.getWorkspace().getObservationManager();
    String testNodePath=testNodeUrl.substring(HttpTest.HTTP_BASE_URL.length());
    observationManager.addEventListener(listener,Event.PROPERTY_ADDED | Event.PROPERTY_CHANGED | Event.PROPERTY_REMOVED,testNodePath,true,null,null,false);
    H.assertAuthenticatedPostStatus(testUserCreds,testNodeUrl,HttpServletResponse.SC_OK,postParams,expectedMessage);
    String afterUpdateContent=H.getContent(testNodeUrl + ".json",HttpTest.CONTENT_TYPE_JSON);
    JSONObject afterUpdateJson=new JSONObject(afterUpdateContent);
    Object afterUpdatePropOneObj=afterUpdateJson.opt("propOne");
    assertTrue(afterUpdatePropOneObj instanceof JSONArray);
    assertEquals(1,((JSONArray)afterUpdatePropOneObj).length());
    assertEquals("propOneValueChanged",((JSONArray)afterUpdatePropOneObj).get(0));
    Object afterUpdatePropTwoObj=afterUpdateJson.opt("propTwo");
    assertTrue(afterUpdatePropTwoObj instanceof JSONArray);
    assertEquals(2,((JSONArray)afterUpdatePropTwoObj).length());
    assertEquals("propTwoValueChanged1",((JSONArray)afterUpdatePropTwoObj).get(0));
    assertEquals("propTwoValueChanged2",((JSONArray)afterUpdatePropTwoObj).get(1));
    for (int second=0; second < 15; second++) {
      if (listener.getEventBundlesProcessed() > 0) {
        break;
      }
      Thread.sleep(1000);
    }
    assertEquals("One property added event was expected: " + listener.toString(),1,listener.addedProperties.size());
    assertEquals(testNodePath + "/propTwo",listener.addedProperties.get(0));
    assertEquals("One property removed event was expected: " + listener.toString(),1,listener.removedProperties.size());
    assertEquals(testNodePath + "/propTwo",listener.removedProperties.get(0));
    assertEquals("One property changed event was expected: " + listener.toString(),1,listener.changedProperties.size());
    assertEquals(testNodePath + "/propOne",listener.changedProperties.get(0));
  }
  finally {
    if (observationManager != null) {
      observationManager.removeEventListener(listener);
    }
    jcrSession.logout();
    repository=null;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.teleporter.BasicTeleporterTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigAdmin() throws IOException {
  final String pid="TEST_" + getClass().getName() + UUID.randomUUID();
  final ConfigurationAdmin ca=teleporter.getService(ConfigurationAdmin.class);
  assertNotNull("Teleporter should provide a ConfigurationAdmin",ca);
  final Configuration cfg=ca.getConfiguration(pid);
  assertNotNull("Expecting to get a Configuration",cfg);
  assertEquals("Expecting the correct pid",pid,cfg.getPid());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testBundleContext(){
  final BundleContext bc=teleporter.getService(BundleContext.class);
  assertNotNull("Teleporter should provide a BundleContext",bc);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.teleporter.LdapFilterTeleporterTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUppercase(){
  final StringTransformer t=teleporter.getService(StringTransformer.class,"(mode=uppercase)");
  assertNotNull("Expecting an uppercase transformer",t);
  assertEquals("FOOBAR",t.transform("fooBAR"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLowercase(){
  final StringTransformer t=teleporter.getService(StringTransformer.class,"(mode=lowercase)");
  assertNotNull("Expecting a lowercase transformer",t);
  assertEquals("foobar",t.transform("fooBAR"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.teleporter.LocalServiceTeleporterTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLocalService(){
  final SomeService s=teleporter.getService(SomeService.class);
  assertNotNull("Expecting to get a SomeService instance",s);
  assertEquals(value,s.getValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.teleporter.MultipleRulesTeleporterTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleContext(){
  final BundleContext bc=teleporter.getService(BundleContext.class);
  assertNotNull("Teleporter should provide a BundleContext",bc);
  assertEquals(lastValue * 2,g.getValue().intValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.CreateUserTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateUserWithExtraProperties() throws IOException, JSONException {
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user.create.html";
  testUserId="testUser" + random.nextInt();
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":name",testUserId));
  postParams.add(new NameValuePair("marker",testUserId));
  postParams.add(new NameValuePair("pwd","testPwd"));
  postParams.add(new NameValuePair("pwdConfirm","testPwd"));
  postParams.add(new NameValuePair("displayName","My Test User"));
  postParams.add(new NameValuePair("url","http://www.apache.org"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(testUserId,jsonObj.getString("marker"));
  assertEquals("My Test User",jsonObj.getString("displayName"));
  assertEquals("http://www.apache.org",jsonObj.getString("url"));
  assertFalse(jsonObj.has(":name"));
  assertFalse(jsonObj.has("pwd"));
  assertFalse(jsonObj.has("pwdConfirm"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateUser() throws IOException, JSONException {
  testUserId="testUser" + random.nextInt() + System.currentTimeMillis();
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user.create.html";
  final List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":name",testUserId));
  postParams.add(new NameValuePair("marker",testUserId));
  postParams.add(new NameValuePair("pwd","testPwd"));
  postParams.add(new NameValuePair("pwdConfirm","testPwd"));
  final Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
{
    final String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".json";
    final String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
    assertNotNull(json);
    final JSONObject jsonObj=new JSONObject(json);
    assertEquals(testUserId,jsonObj.getString("marker"));
    assertFalse(jsonObj.has(":name"));
    assertFalse(jsonObj.has("pwd"));
    assertFalse(jsonObj.has("pwdConfirm"));
  }
{
    final Credentials newUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
    final String getUrl=HttpTest.HTTP_BASE_URL + "/system/sling/info.sessionInfo.json";
    final String json=H.getAuthenticatedContent(newUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
    assertNotNull(json);
    final JSONObject jsonObj=new JSONObject(json);
    assertEquals(testUserId,jsonObj.getString("userID"));
  }
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test for SLING-1677
 */
@Test public void testCreateUserResponseAsJSON() throws IOException, JSONException {
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user.create.json";
  testUserId="testUser" + random.nextInt();
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":name",testUserId));
  postParams.add(new NameValuePair("marker",testUserId));
  postParams.add(new NameValuePair("pwd","testPwd"));
  postParams.add(new NameValuePair("pwdConfirm","testPwd"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  String json=H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  JSONObject jsonObj=new JSONObject(json);
  assertNotNull(jsonObj);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.UpdateUserTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test for SLING-1677
 */
@Test public void testUpdateUserResponseAsJSON() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".update.json";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("displayName","My Updated Test User"));
  postParams.add(new NameValuePair("url","http://www.apache.org/updated"));
  Credentials creds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedPostContent(creds,postUrl,HttpTest.CONTENT_TYPE_JSON,postParams,HttpServletResponse.SC_OK);
  JSONObject jsonObj=new JSONObject(json);
  assertNotNull(jsonObj);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test for SLING-2072
 * @throws IOException
 */
@Test public void testDisableUser() throws IOException {
  testUserId=H.createTestUser();
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username",testUserId));
  params.add(new NameValuePair("j_password","testPwd"));
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertNull(post.getResponseHeader("X-Reason"));
  H.getHttpClient().getState().clearCredentials();
  H.getHttpClient().getState().clearCookies();
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".update.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":disabled","true"));
  postParams.add(new NameValuePair(":disabledReason","Just Testing"));
  H.assertAuthenticatedAdminPostStatus(postUrl,HttpServletResponse.SC_OK,postParams,null);
  post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_FORBIDDEN,params,null);
  assertNotNull(post.getResponseHeader("X-Reason"));
  H.getHttpClient().getState().clearCredentials();
  H.getHttpClient().getState().clearCookies();
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":disabled","false"));
  H.assertAuthenticatedAdminPostStatus(postUrl,HttpServletResponse.SC_OK,postParams,null);
  post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertNull(post.getResponseHeader("X-Reason"));
  H.getHttpClient().getState().clearCredentials();
  H.getHttpClient().getState().clearCookies();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUpdateUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".update.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("displayName","My Updated Test User"));
  postParams.add(new NameValuePair("url","http://www.apache.org/updated"));
  Credentials creds=new UsernamePasswordCredentials(testUserId,"testPwd");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".json";
  H.assertAuthenticatedHttpStatus(creds,getUrl,HttpServletResponse.SC_OK,null);
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals("My Updated Test User",jsonObj.getString("displayName"));
  assertEquals("http://www.apache.org/updated",jsonObj.getString("url"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.UserPrivilegesInfoTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to update the membership of the specified group.
 */
@Test public void testCanUpdateGroupMembers() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/group/" + testGroupId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canUpdateGroupMembers"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to update the properties of the specified group.
 */
@Test public void testCanUpdateGroupProperties() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/group/" + testGroupId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canUpdateProperties"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to update the properties of the specified user.
 */
@Test public void testCanUpdateUserProperties() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(true,jsonObj.getBoolean("canUpdateProperties"));
  testUserId2=H.createTestUser();
  Credentials testUser2Creds=new UsernamePasswordCredentials(testUserId2,"testPwd");
  String json2=H.getAuthenticatedContent(testUser2Creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObj2=new JSONObject(json2);
  assertEquals(false,jsonObj2.getBoolean("canUpdateProperties"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to add a new group.
 */
@Test public void testCanAddGroup() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canAddGroup"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to add a new user.
 */
@Test public void testCanAddUser() throws JSONException, IOException {
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canAddUser"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to remove the specified group.
 */
@Test public void testCanRemoveGroup() throws IOException, JSONException {
  testGroupId=H.createTestGroup();
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/group/" + testGroupId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canRemove"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks whether the current user has been granted privileges
 * to remove the specified user.
 */
@Test public void testCanRemoveUser() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".privileges-info.json";
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String json=H.getAuthenticatedContent(testUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(false,jsonObj.getBoolean("canRemove"));
  testUserId2=H.createTestUser();
  Credentials testUser2Creds=new UsernamePasswordCredentials(testUserId2,"testPwd");
  String json2=H.getAuthenticatedContent(testUser2Creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObj2=new JSONObject(json2);
  assertEquals(false,jsonObj2.getBoolean("canRemove"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.MessageStoreImplAttachmentsTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Some code is taken from http://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java
 */
@Before public void setup() throws Exception {
  resolver=new MockedResourceResolver();
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
  resolver.commit();
  store=new MessageStoreImpl(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  store.threadKeyGen=new ThreadKeyGeneratorImpl();
  store.attachmentFilter=new AttachmentFilterImpl();
  store.archivePath=testRoot.getPath() + "/";
  store.resourceTypeKey=MessageStoreImplRepositoryTest.TEST_RT_KEY;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.MessageStoreImplRepositoryTest </h4><pre class="type-2 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Some code is taken from http://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java
 */
@Before public void setup() throws Exception {
  resolver=new MockedResourceResolver();
  assertNotNull("Expecting non-null ResourceResolver",resolver);
  final Resource root=resolver.getResource("/");
  assertNotNull("Expecting non-null root Resource",root);
  final String path=getClass().getSimpleName() + "_" + System.currentTimeMillis();
  testRoot=resolver.create(root,path,null);
  resolver.commit();
  store=new MessageStoreImpl(){
    protected ResourceResolver getResourceResolver(){
      return resolver;
    }
  }
;
  store.threadKeyGen=new ThreadKeyGeneratorImpl();
  store.archivePath=testRoot.getPath() + "/";
  store.resourceTypeKey=TEST_RT_KEY;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.Mime4jMboxParserImplStreamingTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTempFileIsDeleted() throws IOException {
  File testFile=new File(TU.TEST_FOLDER,TEST_FILE_NAME);
  Mime4jParserIterator iter=(Mime4jParserIterator)parser.parse(new FileInputStream(testFile));
  assertFalse("Expecting temp file to be deleted",new File(iter.tempFileAbsPath).exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.Mime4jMboxParserImplTest </h4><pre class="type-15 type-11 type-12 type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMboxParsing() throws IOException {
  Iterator<Message> iter=parser.parse(new FileInputStream(new File(TU.TEST_FOLDER,WRONGBODY_MBOX)));
  boolean fail=true;
  int i=1;
  while (iter.hasNext()) {
    final Message message=iter.next();
    File bodyFile=new File(TU.TEST_FOLDER,specialPathFromFilePath(WRONGBODY_MBOX,"_bodyOf" + i,"txt"));
    if (bodyFile.exists()) {
      final String actual=getPlainBody(message);
      final String expected=readTextFile(bodyFile);
      assertEquals("Body #" + i,expected,actual);
      fail=false;
    }
    i++;
  }
  if (fail) {
    fail("No file with expected body.");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.SearchServiceTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQueryPipeline(){
  String query=builder.buildQuery(parser.parse(searchPhrase),QueryBuilderImpl.SQL2);
  assertTrue(String.format("\nExpected: %s\n   Output: %s",expectedQuery,query),expectedQuery.equals(query));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.maven.projectsupport.BundleListContentProviderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClasspathResource() throws Exception {
  final URL url=provider.getResource(TEST_BUNDLE_LIST);
  assertNotNull("Expecting classpath resource to be found",url);
  assertTrue(url.toExternalForm().endsWith(TEST_BUNDLE_LIST));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testClasspathResourceAsStream() throws Exception {
  final InputStream is=provider.getResourceAsStream(TEST_BUNDLE_LIST);
  assertNotNull("Expecting classpath resource stream to be found",is);
  is.close();
}

</code></pre>

<br>
<pre class="type-11 type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTemporaryFiles() throws IOException {
  TemporaryFolder configRoot=new TemporaryFolder(tempFolder.getRoot());
  configRoot.create();
  for (  String filename : CONFIG_FILES) {
    final File f=getConfigFile(configRoot,filename);
    f.createNewFile();
    assertTrue("Expecting temporary config file to have been created: " + f.getAbsolutePath(),f.exists());
  }
  configDirectory=configRoot.getRoot();
  resourceProviderRoot=new File(tempFolder.getRoot(),"RESOURCE_PROVIDER_ROOT");
  resourceProviderRoot.mkdirs();
  resourceProviderFile=new File(resourceProviderRoot,"RP_FILE_" + System.currentTimeMillis());
  resourceProviderFile.createNewFile();
  fakeBundlePath=getFakeBundlePath();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testURLResource() throws Exception {
  final String urlStr="http://www.perdu.com";
  final URL url=provider.getResource(urlStr);
  assertNotNull("Expecting URL resource to be found",url);
  assertEquals(new URL(urlStr),url);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigResource() throws Exception {
  final URL url=provider.getResource("resources/config/file1.txt");
  assertNotNull("Expecting config resource to be found",url);
  assertEquals(getConfigFile(configDirectory,"file1.txt").toURI().toURL().toExternalForm(),url.toExternalForm());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceProviderResource() throws Exception {
  final URL url=provider.getResource(resourceProviderFile.getName());
  assertNotNull("Expecting resource provider file to be found",url);
  assertEquals(resourceProviderFile.toURI().toURL().toExternalForm(),url.toExternalForm());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNestedConfigResource() throws Exception {
  final URL url=provider.getResource("resources/config/dir1/file1.txt");
  assertNotNull("Expecting config resource to be found",url);
  assertEquals(getConfigFile(configDirectory,"dir1/file1.txt").toURI().toURL().toExternalForm(),url.toExternalForm());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testParsedBundlesCount(){
  int counter=0;
  for (  StartLevel level : bundleList.getStartLevels()) {
    counter+=level.getBundles().size();
  }
  assertEquals(BUNDLES_IN_TEST_BUNDLE_LIST,counter);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNotFoundStream() throws Exception {
  final InputStream is=provider.getResourceAsStream("resources/config/NOT_HERE.txt");
  assertNull("Expecting null stream for non-existent resource",is);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.maven.slingstart.PreparePackageMojoTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSubsystemBaseGeneration() throws Exception {
  PreparePackageMojo ppm=getMojoUnderTest("org.apache.sling/org.apache.sling.commons.classloader/1.3.2","org.apache.sling/org.apache.sling.commons.classloader/1.3.2/app","org.apache.sling/org.apache.sling.commons.contentdetection/1.0.2","org.apache.sling/org.apache.sling.commons.json/2.0.12","org.apache.sling/org.apache.sling.commons.mime/2.1.8","org.apache.sling/org.apache.sling.commons.osgi/2.3.0","org.apache.sling/org.apache.sling.commons.threads/3.2.0");
  try {
    String modelTxt="[feature name=:launchpad]\n" + "[artifacts]\n" + "  org.apache.sling/org.apache.sling.commons.classloader/1.3.2\n"+ ""+ "[feature name=test1 type=osgi.subsystem.composite]\n"+ ""+ "[:subsystem-manifest startLevel=123]\n"+ "  Subsystem-Description: Extra subsystem headers can go here including very long ones that would span multiple lines in a manifest\n"+ "  Subsystem-Copyright: (c) 2015 yeah!\n"+ ""+ "[artifacts]\n"+ "  org.apache.sling/org.apache.sling.commons.osgi/2.3.0\n"+ ""+ "[artifacts startLevel=10]\n"+ "  org.apache.sling/org.apache.sling.commons.json/2.0.12\n"+ "  org.apache.sling/org.apache.sling.commons.mime/2.1.8\n"+ ""+ "[artifacts startLevel=20 runModes=foo,bar,:blah]\n"+ "  org.apache.sling/org.apache.sling.commons.threads/3.2.0\n"+ ""+ "[artifacts startLevel=100 runModes=bar]\n"+ "  org.apache.sling/org.apache.sling.commons.contentdetection/1.0.2\n";
    Model model=ModelReader.read(new StringReader(modelTxt),null);
    ppm.execute(model);
    File generatedFile=new File(ppm.getTmpDir() + "/test1.subsystem-base");
    try (JarFile jf=new JarFile(generatedFile)){
      Manifest mf=jf.getManifest();
      Attributes attrs=mf.getMainAttributes();
      String expected="Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar|" + "Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar|" + "Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar";
      assertEquals(expected,attrs.getValue("_all_"));
      assertEquals("Potential_Bundles/20/org.apache.sling.commons.threads-3.2.0.jar",attrs.getValue("foo"));
      assertEquals("Potential_Bundles/20/org.apache.sling.commons.threads-3.2.0.jar|" + "Potential_Bundles/100/org.apache.sling.commons.contentdetection-1.0.2.jar",attrs.getValue("bar"));
      ZipEntry smbZE=jf.getEntry("SUBSYSTEM-MANIFEST-BASE.MF");
      try (InputStream smbIS=jf.getInputStream(smbZE)){
        Manifest smbMF=new Manifest(smbIS);
        Attributes smbAttrs=smbMF.getMainAttributes();
        assertEquals("test1",smbAttrs.getValue("Subsystem-SymbolicName"));
        assertEquals("osgi.subsystem.composite",smbAttrs.getValue("Subsystem-Type"));
        assertEquals("(c) 2015 yeah!",smbAttrs.getValue("Subsystem-Copyright"));
        assertEquals("Extra subsystem headers can go here including very long ones " + "that would span multiple lines in a manifest",smbAttrs.getValue("Subsystem-Description"));
      }
       File mrr=getMavenRepoRoot();
      File soj=getMavenArtifactFile(mrr,"org.apache.sling","org.apache.sling.commons.osgi","2.3.0");
      ZipEntry sojZE=jf.getEntry("Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar");
      try (InputStream is=jf.getInputStream(sojZE)){
        assertArtifactsEqual(soj,is);
      }
       File sjj=getMavenArtifactFile(mrr,"org.apache.sling","org.apache.sling.commons.json","2.0.12");
      ZipEntry sjZE=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar");
      try (InputStream is=jf.getInputStream(sjZE)){
        assertArtifactsEqual(sjj,is);
      }
       File smj=getMavenArtifactFile(mrr,"org.apache.sling","org.apache.sling.commons.mime","2.1.8");
      ZipEntry smjZE=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar");
      try (InputStream is=jf.getInputStream(smjZE)){
        assertArtifactsEqual(smj,is);
      }
       File stj=getMavenArtifactFile(mrr,"org.apache.sling","org.apache.sling.commons.threads","3.2.0");
      ZipEntry stjZE=jf.getEntry("Potential_Bundles/20/org.apache.sling.commons.threads-3.2.0.jar");
      try (InputStream is=jf.getInputStream(stjZE)){
        assertArtifactsEqual(stj,is);
      }
       File ctj=getMavenArtifactFile(mrr,"org.apache.sling","org.apache.sling.commons.contentdetection","1.0.2");
      ZipEntry ctjZE=jf.getEntry("Potential_Bundles/100/org.apache.sling.commons.contentdetection-1.0.2.jar");
      try (InputStream is=jf.getInputStream(ctjZE)){
        assertArtifactsEqual(ctj,is);
      }
     }
   }
  finally {
    FileUtils.deleteDirectory(new File(ppm.project.getBuild().getDirectory()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBSNRenaming() throws Exception {
  PreparePackageMojo ppm=getMojoUnderTest("org.apache.sling/org.apache.sling.commons.classloader/1.3.2","org.apache.sling/org.apache.sling.commons.classloader/1.3.2/app","org.apache.sling/org.apache.sling.commons.json/2.0.12");
  try {
    String modelTxt="[feature name=:launchpad]\n" + "[artifacts]\n" + "  org.apache.sling/org.apache.sling.commons.classloader/1.3.2\n"+ ""+ "[feature name=rename_test]\n"+ "  org.apache.sling/org.apache.sling.commons.json/2.0.12 [bundle:rename-bsn=r-foo.bar.renamed.sling.commons.json]\n";
    Model model=ModelReader.read(new StringReader(modelTxt),null);
    ppm.execute(model);
    File orgJar=getMavenArtifactFile(getMavenRepoRoot(),"org.apache.sling","org.apache.sling.commons.json","2.0.12");
    File generatedJar=new File(ppm.getTmpDir() + "/r-foo.bar.renamed.sling.commons.json-2.0.12.jar");
    compareJarContents(orgJar,generatedJar);
    try (JarFile jfOrg=new JarFile(orgJar);JarFile jfNew=new JarFile(generatedJar)){
      Manifest mfOrg=jfOrg.getManifest();
      Manifest mfNew=jfNew.getManifest();
      Attributes orgAttrs=mfOrg.getMainAttributes();
      Attributes newAttrs=mfNew.getMainAttributes();
      for (      Object key : orgAttrs.keySet()) {
        String orgVal=orgAttrs.getValue(key.toString());
        String newVal=newAttrs.getValue(key.toString());
        if ("Bundle-SymbolicName".equals(key.toString())) {
          assertEquals("Should have recorded the original Bundle-SymbolicName",orgVal,newAttrs.getValue("X-Original-Bundle-SymbolicName"));
          assertEquals("r-foo.bar.renamed.sling.commons.json",newVal);
        }
 else {
          assertEquals("Different keys: " + key,orgVal,newVal);
        }
      }
    }
   }
  finally {
    FileUtils.deleteDirectory(new File(ppm.project.getBuild().getDirectory()));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.AdapterFactoryTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @SuppressWarnings("deprecation") public void testIsModelClass(){
  Assert.assertTrue(factory.isModelClass(resource,DefaultStringModel.class));
  Assert.assertFalse(factory.isModelClass(resource,InvalidModelWithMissingAnnotation.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreatedNestedModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("required","required");
  ValueMap vm=new ValueMapDecorator(map);
  when(resource.adaptTo(ValueMap.class)).thenReturn(vm);
  NestedModel model=factory.createModel(resource,NestedModel.class);
  Assert.assertNotNull(model);
  Assert.assertEquals("required",model.getNestedModel().getRequired());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanCreateFromAdaptable(){
  Assert.assertTrue(factory.canCreateFromAdaptable(resource,DefaultStringModel.class));
  Assert.assertFalse(factory.canCreateFromAdaptable(request,DefaultStringModel.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.AdapterImplementationsTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleMappings(){
  underTest.add(SAMPLE_ADAPTER,String.class);
  underTest.add(SAMPLE_ADAPTER,Integer.class);
  underTest.add(SAMPLE_ADAPTER,Long.class);
  assertEquals(Integer.class,underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE).getType());
  underTest.remove(SAMPLE_ADAPTER.getName(),Integer.class.getName());
  assertEquals(Long.class,underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE).getType());
  underTest.remove(SAMPLE_ADAPTER.getName(),Long.class.getName());
  underTest.remove(SAMPLE_ADAPTER.getName(),String.class.getName());
  assertNull(underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSimpleModel(){
  underTest.add(SAMPLE_ADAPTER,SAMPLE_ADAPTER);
  assertEquals(SAMPLE_ADAPTER,underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE).getType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMultipleImplementationPickers(){
  underTest.setImplementationPickers(Arrays.asList(new NoneImplementationPicker(),new LastImplementationPicker(),new FirstImplementationPicker()));
  underTest.add(SAMPLE_ADAPTER,String.class);
  underTest.add(SAMPLE_ADAPTER,Integer.class);
  underTest.add(SAMPLE_ADAPTER,Long.class);
  assertEquals(String.class,underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE).getType());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRemoveAll(){
  underTest.add(SAMPLE_ADAPTER,String.class);
  underTest.add(SAMPLE_ADAPTER,Integer.class);
  underTest.add(SAMPLE_ADAPTER,Long.class);
  underTest.removeAll();
  assertNull(underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleMapping(){
  underTest.add(SAMPLE_ADAPTER,String.class);
  assertEquals(String.class,underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE).getType());
  underTest.remove(SAMPLE_ADAPTER.getName(),String.class.getName());
  assertNull(underTest.lookup(SAMPLE_ADAPTER,SAMPLE_ADAPTABLE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ConstructorTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructorInjection(){
  WithOneConstructorModel model=factory.getAdapter(request,WithOneConstructorModel.class);
  assertNotNull(model);
  assertEquals(request,model.getRequest());
  assertEquals(INT_VALUE,model.getAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testThreeConstructorsInjection(){
  WithThreeConstructorsModel model=factory.getAdapter(request,WithThreeConstructorsModel.class);
  assertNotNull(model);
  assertEquals(request,model.getRequest());
  assertEquals(INT_VALUE,model.getAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuperclassConstructorsInjection(){
  SuperclassConstructorModel model=factory.getAdapter(request,SuperclassConstructorModel.class);
  assertNotNull(model);
  assertEquals(request,model.getRequest());
  assertEquals(INT_VALUE,model.getAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNoNameModel(){
  NoNameModel model=factory.getAdapter(request,NoNameModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test model object with three constructors, and make sure that one with @Inject is picked for instantiation.
 * Test mixing of constructor injection and field injection as well.
 */
@Test public void testThreeConstructorsOneInjectInjection(){
  WithThreeConstructorsOneInjectModel model=factory.getAdapter(request,WithThreeConstructorsOneInjectModel.class);
  assertNotNull(model);
  assertNull(model.getRequest());
  assertEquals(INT_VALUE,model.getAttribute());
  assertEquals(STRING_VALUE,model.getAttribute2());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTwoConstructorsInjection(){
  WithTwoConstructorsModel model=factory.getAdapter(request,WithTwoConstructorsModel.class);
  assertNotNull(model);
  assertEquals(request,model.getRequest());
  assertEquals(INT_VALUE,model.getAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInvalidConstructorInjector(){
  InvalidConstructorModel model=factory.getAdapter(request,InvalidConstructorModel.class);
  assertNull(model);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.CustomInjectorTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInjectorWhichDoesNotImplementAnnotationProcessor(){
  factory.bindInjector(new SimpleInjector(),new ServicePropertiesMap(1,1));
  TestModel model=factory.getAdapter(new Object(),TestModel.class);
  assertNotNull(model);
  assertEquals("test string",model.getTestString());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInjectorWithCustomAnnotation(){
  CustomAnnotationInjector injector=new CustomAnnotationInjector();
  factory.bindInjector(new SimpleInjector(),new ServicePropertiesMap(1,1));
  factory.bindInjector(injector,new ServicePropertiesMap(1,1));
  factory.bindInjectAnnotationProcessorFactory(injector,new ServicePropertiesMap(1,1));
  CustomAnnotationModel model=factory.getAdapter(new Object(),CustomAnnotationModel.class);
  assertNotNull(model);
  assertEquals("default value",model.getDefaultString());
  assertEquals("custom value",model.getCustomString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.DefaultTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultWrappersConstructor(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.DefaultWrappersModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultWrappersModel.class);
  assertNotNull(model);
  assertEquals(Boolean.valueOf(true),model.getBooleanWrapperProperty());
  assertTrue(Arrays.equals(new Boolean[]{Boolean.TRUE,Boolean.TRUE},model.getBooleanWrapperArrayProperty()));
  assertEquals(Long.valueOf(1L),model.getLongWrapperProperty());
  assertArrayEquals(new Long[]{Long.valueOf(1L),Long.valueOf(1L)},model.getLongWrapperArrayProperty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultPrimitivesConstructor(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.DefaultPrimitivesModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(true,model.getBooleanProperty());
  assertTrue(Arrays.equals(new boolean[]{true,true},model.getBooleanArrayProperty()));
  assertEquals(1L,model.getLongProperty());
  assertArrayEquals(new long[]{1L,1L},model.getLongArrayProperty());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultStringValueConstructor(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.DefaultStringModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultStringModel.class);
  assertNotNull(model);
  assertEquals("firstDefault",model.getFirstProperty());
  assertEquals(2,model.getSecondProperty().length);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultStringValueField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  DefaultStringModel model=factory.getAdapter(res,DefaultStringModel.class);
  assertNotNull(model);
  assertEquals("firstDefault",model.getFirstProperty());
  assertEquals(2,model.getSecondProperty().length);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultWrappersField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  DefaultWrappersModel model=factory.getAdapter(res,DefaultWrappersModel.class);
  assertNotNull(model);
  assertEquals(Boolean.valueOf(true),model.getBooleanWrapperProperty());
  assertTrue(Arrays.equals(new Boolean[]{Boolean.TRUE,Boolean.TRUE},model.getBooleanWrapperArrayProperty()));
  assertEquals(Long.valueOf(1L),model.getLongWrapperProperty());
  assertArrayEquals(new Long[]{Long.valueOf(1L),Long.valueOf(1L)},model.getLongWrapperArrayProperty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultPrimitivesField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  DefaultPrimitivesModel model=factory.getAdapter(res,DefaultPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(true,model.getBooleanProperty());
  assertTrue(Arrays.equals(new boolean[]{true,true},model.getBooleanArrayProperty()));
  assertEquals(1L,model.getLongProperty());
  assertArrayEquals(new long[]{1L,1L},model.getLongArrayProperty());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultStringValueOnInterfaceField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>singletonMap("first","first value"));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  PropertyModelWithDefaults model=factory.getAdapter(res,PropertyModelWithDefaults.class);
  assertNotNull(model);
  assertEquals("first value",model.getFirst());
  assertEquals("second default",model.getSecond());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ExtraDefaultTests </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWrongDefaultValues(){
  WrongTypeDefaultsModel model=factory.getAdapter(resource,WrongTypeDefaultsModel.class);
  assertNotNull(model);
  assertNotNull(model.booleanArray);
  assertEquals(0,model.booleanArray.length);
  assertNotNull(model.doubleArray);
  assertEquals(0,model.doubleArray.length);
  assertNotNull(model.floatArray);
  assertEquals(0,model.floatArray.length);
  assertNotNull(model.intArray);
  assertEquals(0,model.intArray.length);
  assertNotNull(model.longArray);
  assertEquals(0,model.longArray.length);
  assertNotNull(model.shortArray);
  assertEquals(0,model.shortArray.length);
  assertNotNull(model.stringArray);
  assertEquals(0,model.stringArray.length);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyDefaults(){
  EmptyDefaultsModel model=factory.getAdapter(resource,EmptyDefaultsModel.class);
  assertNotNull(model);
  assertNotNull(model.booleanArray);
  assertEquals(0,model.booleanArray.length);
  assertNotNull(model.doubleArray);
  assertEquals(0,model.doubleArray.length);
  assertNotNull(model.floatArray);
  assertEquals(0,model.floatArray.length);
  assertNotNull(model.intArray);
  assertEquals(0,model.intArray.length);
  assertNotNull(model.longArray);
  assertEquals(0,model.longArray.length);
  assertNotNull(model.shortArray);
  assertEquals(0,model.shortArray.length);
  assertNotNull(model.booleanWrapperArray);
  assertEquals(0,model.booleanWrapperArray.length);
  assertNotNull(model.doubleWrapperArray);
  assertEquals(0,model.doubleWrapperArray.length);
  assertNotNull(model.floatWrapperArray);
  assertEquals(0,model.floatWrapperArray.length);
  assertNotNull(model.intWrapperArray);
  assertEquals(0,model.intWrapperArray.length);
  assertNotNull(model.longWrapperArray);
  assertEquals(0,model.longWrapperArray.length);
  assertNotNull(model.shortWrapperArray);
  assertEquals(0,model.shortWrapperArray.length);
  assertNotNull(model.stringArray);
  assertEquals(0,model.stringArray.length);
  assertEquals(false,model.singleBoolean);
  assertEquals(0d,model.singleDouble,0.0001);
  assertEquals(0f,model.singleFloat,0.0001);
  assertEquals(0,model.singleInt);
  assertEquals(0l,model.singleLong);
  assertEquals((short)0,model.singleShort);
  assertEquals(false,model.singleBooleanWrapper);
  assertEquals(0d,model.singleDoubleWrapper,0.0001);
  assertEquals(0f,model.singleFloatWrapper,0.0001);
  assertEquals(0,model.singleIntWrapper.intValue());
  assertEquals((short)0,model.singleShortWrapper.shortValue());
  assertEquals(0l,model.singleLongWrapper.longValue());
  assertEquals("",model.singleString);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ImplementsExtendsTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModel(){
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel.class,model.getClass());
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SampleServiceInterface.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to adapt to a superclass of the implementation class with the appropriate mapping in the @Model annotation.
 */
@Test public void testExtendsClassModel(){
  Resource res=getMockResourceWithProps();
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("!first-value|null|third-value!",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SimplePropertyModel.class));
  EvenSimplerPropertyModel simplerModel=factory.getAdapter(res,EvenSimplerPropertyModel.class);
  assertNotNull(simplerModel);
  assertEquals("first-value",model.getFirst());
  assertTrue(factory.canCreateFromAdaptable(res,EvenSimplerPropertyModel.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt in a case where there is no picker available.
 * This causes the extend adaptation to fail.
 */
@Test public void testImplementsNoPickerWithAdapterEqualsImplementation(){
  factory.unbindImplementationPicker(firstImplementationPicker,firstImplementationPickerProps);
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,ImplementsInterfacePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,ImplementsInterfacePropertyModel.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModelWithPickLastImplementationPicker(){
  factory.bindImplementationPicker(new AdapterImplementationsTest.LastImplementationPicker(),new ServicePropertiesMap(3,1));
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel2.class,model.getClass());
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SampleServiceInterface.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.InjectorSpecificAnnotationTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleValueModelField(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("second","second-value");
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  when(request.getResource()).thenReturn(res);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals("first-value",model.getFirst());
  assertEquals("second-value",model.getSecond());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildResourceConstructor(){
  Resource res=mock(Resource.class);
  Resource child=mock(Resource.class);
  when(res.getChild("child1")).thenReturn(child);
  when(request.getResource()).thenReturn(res);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(child,model.getChildResource());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleValueModelConstructor(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("second","second-value");
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  when(request.getResource()).thenReturn(res);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals("first-value",model.getFirst());
  assertEquals("second-value",model.getSecond());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestAttributeConstructor() throws InvalidSyntaxException {
  Object attribute=new Object();
  when(request.getAttribute("attribute")).thenReturn(attribute);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(attribute,model.getRequestAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScriptVariableConstructor() throws InvalidSyntaxException {
  SlingBindings bindings=new SlingBindings();
  SlingScriptHelper helper=mock(SlingScriptHelper.class);
  bindings.setSling(helper);
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(helper,model.getHelper());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testScriptVariableField() throws InvalidSyntaxException {
  SlingBindings bindings=new SlingBindings();
  SlingScriptHelper helper=mock(SlingScriptHelper.class);
  bindings.setSling(helper);
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(helper,model.getHelper());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOSGiServiceConstructor() throws InvalidSyntaxException {
  ServiceReference ref=mock(ServiceReference.class);
  Logger log=mock(Logger.class);
  when(bundleContext.getServiceReferences(Logger.class.getName(),null)).thenReturn(new ServiceReference[]{ref});
  when(bundleContext.getService(ref)).thenReturn(log);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(log,model.getService());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOSGiServiceField() throws InvalidSyntaxException {
  ServiceReference ref=mock(ServiceReference.class);
  Logger log=mock(Logger.class);
  when(bundleContext.getServiceReferences(Logger.class.getName(),null)).thenReturn(new ServiceReference[]{ref});
  when(bundleContext.getService(ref)).thenReturn(log);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(log,model.getService());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestAttributeField() throws InvalidSyntaxException {
  Object attribute=new Object();
  when(request.getAttribute("attribute")).thenReturn(attribute);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(attribute,model.getRequestAttribute());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderForValueAnnotationField(){
  Logger logFromValueMap=LoggerFactory.getLogger(this.getClass());
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("log",logFromValueMap);
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  when(request.getResource()).thenReturn(res);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals("first-value",model.getFirst());
  assertEquals(logFromValueMap,model.getLog());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrderForValueAnnotationConstructor(){
  Logger logFromValueMap=LoggerFactory.getLogger(this.getClass());
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("log",logFromValueMap);
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  when(request.getResource()).thenReturn(res);
  org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals("first-value",model.getFirst());
  assertEquals(logFromValueMap,model.getLog());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildResourceField(){
  Resource res=mock(Resource.class);
  Resource child=mock(Resource.class);
  when(res.getChild("child1")).thenReturn(child);
  when(request.getResource()).thenReturn(res);
  InjectorSpecificAnnotationModel model=factory.getAdapter(request,InjectorSpecificAnnotationModel.class);
  assertNotNull("Could not instanciate model",model);
  assertEquals(child,model.getChildResource());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.InvalidAdaptationsTest </h4><pre class="type-9 type-10 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=InvalidAdaptableException.class) public void testWrongAdaptableClassException(){
  Map<String,Object> emptyMap=Collections.<String,Object>emptyMap();
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(emptyMap));
  assertNull(factory.createModel(res,RequestModel.class));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNonModelClass(){
  Map<String,Object> emptyMap=Collections.<String,Object>emptyMap();
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(emptyMap));
  assertNull(factory.getAdapter(res,NonModel.class));
}

</code></pre>

<br>
<pre class="type-9 type-10 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ModelClassException.class) public void testNonModelClassException(){
  Map<String,Object> emptyMap=Collections.<String,Object>emptyMap();
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(emptyMap));
  assertNull(factory.createModel(res,NonModel.class));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testWrongAdaptableClass(){
  Map<String,Object> emptyMap=Collections.<String,Object>emptyMap();
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(new ValueMapDecorator(emptyMap));
  assertNull(factory.getAdapter(res,RequestModel.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.MultipleInjectorTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInjectorOrderWithSource(){
  String bindingsValue="bindings value";
  bindings.put("firstAttribute",bindingsValue);
  String attributeValue="attribute value";
  when(request.getAttribute("firstAttribute")).thenReturn(attributeValue);
  ForTwoInjectorsWithSource obj=factory.getAdapter(request,ForTwoInjectorsWithSource.class);
  assertNotNull(obj);
  assertEquals(obj.firstAttribute,attributeValue);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInjectorOrder(){
  String bindingsValue="bindings value";
  bindings.put("firstAttribute",bindingsValue);
  String attributeValue="attribute value";
  when(request.getAttribute("firstAttribute")).thenReturn(attributeValue);
  ForTwoInjectors obj=factory.getAdapter(request,ForTwoInjectors.class);
  assertNotNull(obj);
  assertEquals(obj.firstAttribute,bindingsValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.OSGiInjectionTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayOSGiModelField() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  ArrayOSGiModel model=factory.getAdapter(res,ArrayOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getServices());
  assertEquals(2,model.getServices().length);
  assertEquals(service1,model.getServices()[0]);
  assertEquals(service2,model.getServices()[1]);
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testOptionalListOSGiModelField() throws Exception {
  Resource res=mock(Resource.class);
  OptionalListOSGiModel model=factory.getAdapter(res,OptionalListOSGiModel.class);
  assertNotNull(model);
  assertNull(model.getServices());
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectionOSGiModelField() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  CollectionOSGiModel model=factory.getAdapter(res,CollectionOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getServices());
  assertEquals(2,model.getServices().size());
  assertTrue(model.getServices().contains(service1));
  assertTrue(model.getServices().contains(service2));
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestOSGiModelField() throws Exception {
  ServiceInterface service=mock(ServiceInterface.class);
  SlingHttpServletRequest request=mock(SlingHttpServletRequest.class);
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(bindings);
  when(helper.getServices(ServiceInterface.class,null)).thenReturn(new ServiceInterface[]{service});
  RequestOSGiModel model=factory.getAdapter(request,RequestOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getService());
  assertEquals(service,model.getService());
  verify(bundleContext).registerService(eq(Runnable.class.getName()),eq(factory),any(Dictionary.class));
  verify(bundleContext).addBundleListener(any(BundleListener.class));
  verify(bundleContext).registerService(eq(Object.class.getName()),any(Object.class),any(Dictionary.class));
  verify(bundleContext).getBundles();
  verifyNoMoreInteractions(bundleContext);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testOptionalArrayOSGiModelField() throws Exception {
  Resource res=mock(Resource.class);
  OptionalArrayOSGiModel model=factory.getAdapter(res,OptionalArrayOSGiModel.class);
  assertNotNull(model);
  assertNull(model.getServices());
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSetOSGiModelField() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  SetOSGiModel model=factory.getAdapter(res,SetOSGiModel.class);
  assertNull(model);
  verify(bundleContext).registerService(eq(Runnable.class.getName()),eq(factory),any(Dictionary.class));
  verify(bundleContext).addBundleListener(any(BundleListener.class));
  verify(bundleContext).registerService(eq(Object.class.getName()),any(Object.class),any(Dictionary.class));
  verify(bundleContext).getBundles();
  verifyNoMoreInteractions(res,bundleContext);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleOSGiModelConstructor() throws Exception {
  ServiceReference ref=mock(ServiceReference.class);
  ServiceInterface service=mock(ServiceInterface.class);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref});
  when(bundleContext.getService(ref)).thenReturn(service);
  Resource res=mock(Resource.class);
  org.apache.sling.models.testmodels.classes.constructorinjection.SimpleOSGiModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.SimpleOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getService());
  assertEquals(service,model.getService());
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListOSGiModelField() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  ListOSGiModel model=factory.getAdapter(res,ListOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getServices());
  assertEquals(2,model.getServices().size());
  assertEquals(service1,model.getServices().get(0));
  assertEquals(service2,model.getServices().get(1));
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleOSGiModelField() throws Exception {
  ServiceReference ref=mock(ServiceReference.class);
  ServiceInterface service=mock(ServiceInterface.class);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref});
  when(bundleContext.getService(ref)).thenReturn(service);
  Resource res=mock(Resource.class);
  SimpleOSGiModel model=factory.getAdapter(res,SimpleOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getService());
  assertEquals(service,model.getService());
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListOSGiModelConstructor() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  org.apache.sling.models.testmodels.classes.constructorinjection.ListOSGiModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.ListOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getServices());
  assertEquals(2,model.getServices().size());
  assertEquals(service1,model.getServices().get(0));
  assertEquals(service2,model.getServices().get(1));
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.OptionalPrimitivesTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldInjectionInterface(){
  ValueMap vm=ValueMap.EMPTY;
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.interfaces.OptionalPrimitivesModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.interfaces.OptionalPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(0,model.getByteValue());
  assertEquals(0,model.getShortValue());
  assertEquals(0,model.getIntValue());
  assertEquals(0L,model.getLongValue());
  assertEquals(0.0f,model.getFloatValue(),0.00001d);
  assertEquals(0.0d,model.getDoubleValue(),0.00001d);
  assertEquals('\u0000',model.getCharValue());
  assertEquals(false,model.getBooleanValue());
  assertNull(model.getByteObjectValue());
  assertNull(model.getShortObjectValue());
  assertNull(model.getIntObjectValue());
  assertNull(model.getLongObjectValue());
  assertNull(model.getFloatObjectValue());
  assertNull(model.getDoubleObjectValue());
  assertNull(model.getCharObjectValue());
  assertNull(model.getBooleanObjectValue());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructorInjection(){
  ValueMap vm=ValueMap.EMPTY;
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.OptionalPrimitivesModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.OptionalPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(0,model.getByteValue());
  assertEquals(0,model.getShortValue());
  assertEquals(0,model.getIntValue());
  assertEquals(0L,model.getLongValue());
  assertEquals(0.0f,model.getFloatValue(),0.00001d);
  assertEquals(0.0d,model.getDoubleValue(),0.00001d);
  assertEquals('\u0000',model.getCharValue());
  assertEquals(false,model.getBooleanValue());
  assertNull(model.getByteObjectValue());
  assertNull(model.getShortObjectValue());
  assertNull(model.getIntObjectValue());
  assertNull(model.getLongObjectValue());
  assertNull(model.getFloatObjectValue());
  assertNull(model.getDoubleObjectValue());
  assertNull(model.getCharObjectValue());
  assertNull(model.getBooleanObjectValue());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldInjectionClass(){
  ValueMap vm=ValueMap.EMPTY;
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.OptionalPrimitivesModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.OptionalPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(0,model.getByteValue());
  assertEquals(0,model.getShortValue());
  assertEquals(0,model.getIntValue());
  assertEquals(0L,model.getLongValue());
  assertEquals(0.0f,model.getFloatValue(),0.00001d);
  assertEquals(0.0d,model.getDoubleValue(),0.00001d);
  assertEquals('\u0000',model.getCharValue());
  assertEquals(false,model.getBooleanValue());
  assertNull(model.getByteObjectValue());
  assertNull(model.getShortObjectValue());
  assertNull(model.getIntObjectValue());
  assertNull(model.getLongObjectValue());
  assertNull(model.getFloatObjectValue());
  assertNull(model.getDoubleObjectValue());
  assertNull(model.getCharObjectValue());
  assertNull(model.getBooleanObjectValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ParameterizedTypeFromRequestAttributeTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test(){
  Iterator<Resource> it=Collections.<Resource>emptySet().iterator();
  when(request.getAttribute("someResources")).thenReturn(it);
  TestModel model=factory.getAdapter(request,TestModel.class);
  assertNotNull(model);
  assertEquals(it,model.getSomeResources());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.PostConstructTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testClassOrder(){
  SubClass sc=factory.getAdapter(resource,SubClass.class);
  assertTrue(sc.getPostConstructCalledTimestampInSub() > sc.getPostConstructCalledTimestampInSuper());
  assertTrue(sc.getPostConstructCalledTimestampInSuper() > 0);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPostConstructMethodWhichThrowsException(){
  FailingPostConstuctModel model=factory.getAdapter(resource,FailingPostConstuctModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testOverriddenPostConstruct(){
  SubClassOverriddenPostConstruct sc=factory.getAdapter(resource,SubClassOverriddenPostConstruct.class);
  assertEquals("Post construct not called exactly one time in sub class!",1,sc.getPostConstructorCalledCounter());
  assertEquals("Post construct was called on super class although overridden in sub class",0,sc.getPostConstructCalledTimestampInSuper());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostConstructMethodWhichThrowsExceptionThrowingException(){
  boolean thrown=false;
  try {
    factory.createModel(resource,FailingPostConstuctModel.class);
  }
 catch (  PostConstructException e) {
    assertTrue(e.getMessage().contains("Post-construct"));
    assertEquals("FAIL",e.getCause().getMessage());
    thrown=true;
  }
  assertTrue(thrown);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.RequestInjectionTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedInjectionField(){
  BindingsModel model=factory.getAdapter(request,BindingsModel.class);
  assertNotNull(model.getSling());
  assertEquals(sling,model.getSling());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNamedInjectionConstructor(){
  org.apache.sling.models.testmodels.classes.constructorinjection.BindingsModel model=factory.getAdapter(request,org.apache.sling.models.testmodels.classes.constructorinjection.BindingsModel.class);
  assertNotNull(model.getSling());
  assertEquals(sling,model.getSling());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelClassesTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequiredPropertyModelOptionalStrategy(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("required1","required value");
  map.put("required2","required value");
  map.put("required3","required value");
  ValueMap vm=spy(new ValueMapDecorator(map));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ResourceModelWithRequiredFieldOptionalStrategy model=factory.getAdapter(res,ResourceModelWithRequiredFieldOptionalStrategy.class);
  assertNotNull(model);
  assertEquals("required value",model.getRequired1());
  assertEquals("required value",model.getRequired2());
  verify(vm).get("optional1",String.class);
  verify(vm).get("required1",String.class);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequiredPropertyMissingModelOptionalStrategy(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  ValueMap vm=spy(new ValueMapDecorator(map));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ResourceModelWithRequiredFieldOptionalStrategy model=factory.getAdapter(res,ResourceModelWithRequiredFieldOptionalStrategy.class);
  assertNull(model);
  verify(vm).get("optional1",String.class);
  verify(vm).get("required1",String.class);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildResource(){
  Resource child=mock(Resource.class);
  Resource secondChild=mock(Resource.class);
  Resource emptyChild=mock(Resource.class);
  Resource firstGrandChild=mock(Resource.class);
  Resource secondGrandChild=mock(Resource.class);
  when(secondChild.listChildren()).thenReturn(Arrays.asList(firstGrandChild,secondGrandChild).iterator());
  when(emptyChild.listChildren()).thenReturn(Collections.<Resource>emptySet().iterator());
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(child);
  when(res.getChild("secondChild")).thenReturn(secondChild);
  when(res.getChild("emptyChild")).thenReturn(emptyChild);
  ChildResourceModel model=factory.getAdapter(res,ChildResourceModel.class);
  assertNotNull(model);
  assertEquals(child,model.getFirstChild());
  assertEquals(2,model.getGrandChildren().size());
  assertEquals(firstGrandChild,model.getGrandChildren().get(0));
  assertEquals(secondGrandChild,model.getGrandChildren().get(1));
  assertEquals(0,model.getEmptyGrandChildren().size());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequiredPropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  ValueMap vm=spy(new ValueMapDecorator(map));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ResourceModelWithRequiredField model=factory.getAdapter(res,ResourceModelWithRequiredField.class);
  assertNull(model);
  verify(vm).get("required",String.class);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayWrappersModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("intArray",new Integer[]{1,2,9,8});
  map.put("secondIntArray",new int[]{1,2,9,8});
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ArrayWrappersModel model=factory.getAdapter(res,ArrayWrappersModel.class);
  assertNotNull(model);
  Integer[] intArray=model.getIntArray();
  assertEquals(4,intArray.length);
  assertEquals(new Integer(2),intArray[1]);
  Integer[] secondIntArray=model.getSecondIntArray();
  assertEquals(4,secondIntArray.length);
  assertEquals(new Integer(2),secondIntArray[1]);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("intList",new Integer[]{1,2,9,8});
  map.put("stringList",new String[]{"hello","world"});
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ListModel model=factory.getAdapter(res,ListModel.class);
  assertNotNull(model);
  assertEquals(4,model.getIntList().size());
  assertEquals(new Integer(2),model.getIntList().get(1));
  assertEquals(2,model.getStringList().size());
  assertEquals("hello",model.getStringList().get(0));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildValueMap(){
  ValueMap map=ValueMapDecorator.EMPTY;
  Resource child=mock(Resource.class);
  when(child.adaptTo(ValueMap.class)).thenReturn(map);
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(child);
  ChildValueMapModel model=factory.getAdapter(res,ChildValueMapModel.class);
  assertNotNull(model);
  assertEquals(map,model.getFirstChild());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimplePropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  map.put("intProperty",new Integer(3));
  map.put("arrayProperty",new String[]{"three","four"});
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value",model.getFirst());
  assertNull(model.getSecond());
  assertEquals("third-value",model.getThirdProperty());
  assertEquals(3,model.getIntProperty());
  String[] array=model.getArrayProperty();
  assertEquals(2,array.length);
  assertEquals("three",array[0]);
  assertTrue(model.isPostConstructCalled());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testArrayPrimitivesModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("intArray",new int[]{1,2,9,8});
  map.put("secondIntArray",new Integer[]{1,2,9,8});
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ArrayPrimitivesModel model=factory.getAdapter(res,ArrayPrimitivesModel.class);
  assertNotNull(model);
  int[] primitiveIntArray=model.getIntArray();
  assertEquals(4,primitiveIntArray.length);
  assertEquals(2,primitiveIntArray[1]);
  int[] secondPrimitiveIntArray=model.getSecondIntArray();
  assertEquals(4,secondPrimitiveIntArray.length);
  assertEquals(2,secondPrimitiveIntArray[1]);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildModel(){
  Object firstValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap firstMap=new ValueMapDecorator(Collections.singletonMap("property",firstValue));
  final Resource firstChild=mock(Resource.class);
  when(firstChild.adaptTo(ValueMap.class)).thenReturn(firstMap);
  when(firstChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Object firstGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap firstGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",firstGrandChildValue));
  Object secondGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap secondGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",secondGrandChildValue));
  final Resource firstGrandChild=mock(Resource.class);
  when(firstGrandChild.adaptTo(ValueMap.class)).thenReturn(firstGrandChildMap);
  when(firstGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  final Resource secondGrandChild=mock(Resource.class);
  when(secondGrandChild.adaptTo(ValueMap.class)).thenReturn(secondGrandChildMap);
  when(secondGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Resource secondChild=mock(Resource.class);
  when(secondChild.listChildren()).thenReturn(Arrays.asList(firstGrandChild,secondGrandChild).iterator());
  Resource emptyChild=mock(Resource.class);
  when(emptyChild.listChildren()).thenReturn(Collections.<Resource>emptySet().iterator());
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(firstChild);
  when(res.getChild("secondChild")).thenReturn(secondChild);
  when(res.getChild("emptyChild")).thenReturn(emptyChild);
  ParentModel model=factory.getAdapter(res,ParentModel.class);
  assertNotNull(model);
  ChildModel childModel=model.getFirstChild();
  assertNotNull(childModel);
  assertEquals(firstValue,childModel.getProperty());
  assertEquals(2,model.getGrandChildren().size());
  assertEquals(firstGrandChildValue,model.getGrandChildren().get(0).getProperty());
  assertEquals(secondGrandChildValue,model.getGrandChildren().get(1).getProperty());
  assertEquals(0,model.getEmptyGrandChildren().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelConstructorTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildModel(){
  Object firstValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap firstMap=new ValueMapDecorator(Collections.singletonMap("property",firstValue));
  final Resource firstChild=mock(Resource.class);
  when(firstChild.adaptTo(ValueMap.class)).thenReturn(firstMap);
  when(firstChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Object firstGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap firstGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",firstGrandChildValue));
  Object secondGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap secondGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",secondGrandChildValue));
  final Resource firstGrandChild=mock(Resource.class);
  when(firstGrandChild.adaptTo(ValueMap.class)).thenReturn(firstGrandChildMap);
  when(firstGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  final Resource secondGrandChild=mock(Resource.class);
  when(secondGrandChild.adaptTo(ValueMap.class)).thenReturn(secondGrandChildMap);
  when(secondGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Resource secondChild=mock(Resource.class);
  when(secondChild.listChildren()).thenReturn(Arrays.asList(firstGrandChild,secondGrandChild).iterator());
  Resource emptyChild=mock(Resource.class);
  when(emptyChild.listChildren()).thenReturn(Collections.<Resource>emptySet().iterator());
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(firstChild);
  when(res.getChild("secondChild")).thenReturn(secondChild);
  when(res.getChild("emptyChild")).thenReturn(emptyChild);
  ParentModel model=factory.getAdapter(res,ParentModel.class);
  assertNotNull(model);
  ChildModel childModel=model.getFirstChild();
  assertNotNull(childModel);
  assertEquals(firstValue,childModel.getProperty());
  assertEquals(2,model.getGrandChildren().size());
  assertEquals(firstGrandChildValue,model.getGrandChildren().get(0).getProperty());
  assertEquals(secondGrandChildValue,model.getGrandChildren().get(1).getProperty());
  assertEquals(0,model.getEmptyGrandChildren().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelInterfacesTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequiredPropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  ValueMap vm=spy(new ValueMapDecorator(map));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  ResourceModelWithRequiredField model=factory.getAdapter(res,ResourceModelWithRequiredField.class);
  assertNull(model);
  verify(vm).get("required",String.class);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildResource(){
  Resource child=mock(Resource.class);
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(child);
  ChildResourceModel model=factory.getAdapter(res,ChildResourceModel.class);
  assertNotNull(model);
  assertEquals(child,model.getFirstChild());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimplePropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  map.put("fourth",true);
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value",model.getFirst());
  assertNull(model.getSecond());
  assertEquals("third-value",model.getThirdProperty());
  assertTrue(model.isFourth());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildValueMap(){
  ValueMap map=ValueMapDecorator.EMPTY;
  Resource child=mock(Resource.class);
  when(child.adaptTo(ValueMap.class)).thenReturn(map);
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(child);
  ChildValueMapModel model=factory.getAdapter(res,ChildValueMapModel.class);
  assertNotNull(model);
  assertEquals(map,model.getFirstChild());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildModel(){
  Object value=RandomStringUtils.randomAlphabetic(10);
  Map<String,Object> props=Collections.singletonMap("property",value);
  ValueMap map=new ValueMapDecorator(props);
  final Resource firstChild=mock(Resource.class);
  when(firstChild.adaptTo(ValueMap.class)).thenReturn(map);
  when(firstChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Object firstGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap firstGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",firstGrandChildValue));
  Object secondGrandChildValue=RandomStringUtils.randomAlphabetic(10);
  ValueMap secondGrandChildMap=new ValueMapDecorator(Collections.singletonMap("property",secondGrandChildValue));
  final Resource firstGrandChild=mock(Resource.class);
  when(firstGrandChild.adaptTo(ValueMap.class)).thenReturn(firstGrandChildMap);
  when(firstGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  final Resource secondGrandChild=mock(Resource.class);
  when(secondGrandChild.adaptTo(ValueMap.class)).thenReturn(secondGrandChildMap);
  when(secondGrandChild.adaptTo(ChildModel.class)).thenAnswer(new AdaptToChildModel());
  Resource secondChild=mock(Resource.class);
  when(secondChild.listChildren()).thenReturn(Arrays.asList(firstGrandChild,secondGrandChild).iterator());
  Resource emptyChild=mock(Resource.class);
  when(emptyChild.listChildren()).thenReturn(Collections.<Resource>emptySet().iterator());
  Resource res=mock(Resource.class);
  when(res.getChild("firstChild")).thenReturn(firstChild);
  when(res.getChild("secondChild")).thenReturn(secondChild);
  when(res.getChild("emptyChild")).thenReturn(emptyChild);
  ParentModel model=factory.getAdapter(res,ParentModel.class);
  assertNotNull(model);
  ChildModel childModel=model.getFirstChild();
  assertNotNull(childModel);
  assertEquals(value,childModel.getProperty());
  assertEquals(2,model.getGrandChildren().size());
  assertEquals(firstGrandChildValue,model.getGrandChildren().get(0).getProperty());
  assertEquals(secondGrandChildValue,model.getGrandChildren().get(1).getProperty());
  assertEquals(0,model.getEmptyGrandChildren().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourcePathInjectionTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPartialInjectionFailure1(){
  when(resourceResolver.getResource("/some/other/path")).thenReturn(null);
  ResourcePathPartialModel model=factory.getAdapter(adaptable,ResourcePathPartialModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testOptionalPathInjectionWithNonResourceAdaptable(){
  ResourcePathAllOptionalModel model=factory.getAdapter(nonResourceAdaptable,ResourcePathAllOptionalModel.class);
  assertNotNull(model);
  assertNull(model.getFromPath());
  assertNull(model.getByDerefProperty());
  assertNull(model.getFromPath2());
  assertNull(model.getByDerefProperty2());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPartialInjectionFailure2(){
  when(resourceResolver.getResource("/some/other/path")).thenReturn(null);
  when(resourceResolver.getResource("/some/other/path2")).thenReturn(null);
  ResourcePathPartialModel model=factory.getAdapter(adaptable,ResourcePathPartialModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPathInjection(){
  ResourcePathModel model=factory.getAdapter(adaptable,ResourcePathModel.class);
  assertNotNull(model);
  assertEquals(byPathResource,model.getFromPath());
  assertEquals(byPropertyValueResource,model.getByDerefProperty());
  assertEquals(byPathResource2,model.getFromPath2());
  assertEquals(byPropertyValueResource2,model.getByDerefProperty2());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testPathInjectionWithNonResourceAdaptable(){
  ResourcePathModel model=factory.getAdapter(nonResourceAdaptable,ResourcePathModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiplePathInjection(){
  ResourcePathModel model=factory.getAdapter(adaptable,ResourcePathModel.class);
  assertNotNull(model);
  List<Resource> resources=model.getMultipleResources();
  assertNotNull(resources);
  assertEquals(2,resources.size());
  assertEquals(byPropertyValueResource,resources.get(0));
  assertEquals(byPropertyValueResource2,resources.get(1));
  List<Resource> resourcesFromPathAnnotation=model.getManyFromPath();
  assertNotNull(resourcesFromPathAnnotation);
  assertEquals(byPathResource,resourcesFromPathAnnotation.get(0));
  assertEquals(byPathResource2,resourcesFromPathAnnotation.get(1));
  List<Resource> resourcesFromResourcePathAnnotation=model.getManyFromPath2();
  assertNotNull(resourcesFromResourcePathAnnotation);
  assertEquals(byPathResource2,resourcesFromResourcePathAnnotation.get(0));
  assertEquals(byPathResource,resourcesFromResourcePathAnnotation.get(1));
  assertNotNull(model.getPropertyWithSeveralPaths());
  assertEquals(byPropertyValueResource,model.getPropertyWithSeveralPaths().get(0));
  assertEquals(byPropertyValueResource2,model.getPropertyWithSeveralPaths().get(1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.SelfDependencyTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testDirectCyclicSelfDependency(){
  DirectCyclicSelfDependencyModel object=factory.getAdapter(request,DirectCyclicSelfDependencyModel.class);
  assertNull(object);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChainedSelfDependency(){
  SelfDependencyModelA objectA=factory.getAdapter(request,SelfDependencyModelA.class);
  assertNotNull(objectA);
  SelfDependencyModelB objectB=objectA.getDependencyB();
  assertNotNull(objectB);
  assertSame(request,objectB.getRequest());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInddirectCyclicSelfDependency(){
  IndirectCyclicSelfDependencyModelA object=factory.getAdapter(request,IndirectCyclicSelfDependencyModelA.class);
  assertNull(object);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ViaTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProjectionToResource(){
  String value=RandomStringUtils.randomAlphanumeric(10);
  ValueMap map=new ValueMapDecorator(Collections.<String,Object>singletonMap("firstProperty",value));
  when(resource.adaptTo(ValueMap.class)).thenReturn(map);
  ViaModel model=factory.getAdapter(request,ViaModel.class);
  assertNotNull(model);
  assertEquals(value,model.getFirstProperty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.BindingsInjectorTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequestThatDoesNotContainBindings(){
  when(request.getAttribute(SlingBindings.class.getName())).thenReturn(null);
  Object result=injector.getValue(request,STRING_PARAM,String.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntegerParam(){
  Object result=injector.getValue(request,INTEGER_PARAM,Integer.class,element,registry);
  assertEquals(INTEGER_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringParam(){
  Object result=injector.getValue(request,STRING_PARAM,String.class,element,registry);
  assertEquals(STRING_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testClassInstance(){
  Object result=injector.getValue(request,CLASS_PARAM,ResourceResolver.class,element,registry);
  assertSame(CLASS_INSTANCE,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNonRequestAdaptable(){
  Object result=injector.getValue(mock(ResourceResolver.class),STRING_PARAM,String.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.RequestAttributeInjectorTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testClassInstance(){
  Object result=injector.getValue(request,CLASS_PARAM,ResourceResolver.class,element,registry);
  assertSame(CLASS_INSTANCE,result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntegerParam(){
  Object result=injector.getValue(request,INTEGER_PARAM,Integer.class,element,registry);
  assertEquals(INTEGER_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringParam(){
  Object result=injector.getValue(request,STRING_PARAM,String.class,element,registry);
  assertEquals(STRING_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNonRequestAdaptable(){
  Object result=injector.getValue(mock(ResourceResolver.class),STRING_PARAM,String.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.ResourceResolverInjectorTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromResource(){
  Resource resource=mock(Resource.class);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  when(resource.getResourceResolver()).thenReturn(resourceResolver);
  Object result=injector.getValue(resource,"resourceResolver",ResourceResolver.class,element,registry);
  assertEquals(resourceResolver,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testFromSomethingElse(){
  SlingHttpServletResponse response=mock(SlingHttpServletResponse.class);
  Object result=injector.getValue(response,"resourceResolver",ResourceResolver.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFromRequest(){
  SlingHttpServletRequest request=mock(SlingHttpServletRequest.class);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  when(request.getResourceResolver()).thenReturn(resourceResolver);
  Object result=injector.getValue(request,"resourceResolver",ResourceResolver.class,element,registry);
  assertEquals(resourceResolver,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SelfInjectorTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testMatchingClassWithSelfAnnotation(){
  when(annotatedElement.isAnnotationPresent(Self.class)).thenReturn(true);
  Object result=injector.getValue(request,"notRelevant",SlingHttpServletRequest.class,annotatedElement,registry);
  assertSame(request,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testNotMatchingClassWithSelfAnnotation(){
  when(annotatedElement.isAnnotationPresent(Self.class)).thenReturn(true);
  Object result=injector.getValue(request,"notRelevant",ResourceResolver.class,annotatedElement,registry);
  assertSame(request,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNullName(){
  assertSame(request,injector.getValue(request,null,SlingHttpServletRequest.class,firstConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,null,SlingHttpServletRequest.class,secondConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,null,SlingHttpServletRequest.class,annotatedElement,registry));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMatchingSubClass(){
  assertSame(request,injector.getValue(request,"notRelevant",HttpServletRequest.class,firstConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",HttpServletRequest.class,secondConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",HttpServletRequest.class,annotatedElement,registry));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMatchingClass(){
  assertSame(request,injector.getValue(request,"notRelevant",SlingHttpServletRequest.class,firstConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",SlingHttpServletRequest.class,secondConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",SlingHttpServletRequest.class,annotatedElement,registry));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNotMatchingClass(){
  assertNull(injector.getValue(request,"notRelevant",ResourceResolver.class,firstConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",ResourceResolver.class,secondConstructorParameter.getAnnotatedElement(),registry));
  assertNull(injector.getValue(request,"notRelevant",ResourceResolver.class,annotatedElement,registry));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SlingObjectInjectorRequestTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testRequest(){
  Object result=this.injector.getValue(this.request,null,SlingHttpServletRequest.class,this.annotatedElement,registry);
  assertSame(this.request,result);
  result=this.injector.getValue(this.request,null,HttpServletRequest.class,this.annotatedElement,registry);
  assertSame(this.request,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testResponse(){
  Object result=this.injector.getValue(this.request,null,SlingHttpServletResponse.class,this.annotatedElement,registry);
  assertSame(this.response,result);
  result=this.injector.getValue(this.request,null,HttpServletResponse.class,this.annotatedElement,registry);
  assertSame(this.response,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInvalid(){
  Object result=this.injector.getValue(this,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testResourceResolver(){
  Object result=this.injector.getValue(this.request,null,ResourceResolver.class,this.annotatedElement,registry);
  assertSame(this.resourceResolver,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResource(){
  Object result=this.injector.getValue(this.request,null,Resource.class,this.annotatedElement,registry);
  assertNull(result);
  when(annotatedElement.isAnnotationPresent(SlingObject.class)).thenReturn(true);
  result=this.injector.getValue(this.request,null,Resource.class,this.annotatedElement,registry);
  assertSame(resource,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testScriptHelper(){
  Object result=this.injector.getValue(this.request,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertSame(this.scriptHelper,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SlingObjectInjectorResourceResolverTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testResource(){
  Object result=this.injector.getValue(this.resourceResolver,null,Resource.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInvalid(){
  Object result=this.injector.getValue(this,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testResourceResolver(){
  Object result=this.injector.getValue(this.resourceResolver,null,ResourceResolver.class,this.annotatedElement,registry);
  assertSame(this.resourceResolver,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequest(){
  Object result=this.injector.getValue(this.resourceResolver,null,SlingHttpServletResponse.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testResponse(){
  Object result=this.injector.getValue(this.resourceResolver,null,SlingHttpServletResponse.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testScriptHelper(){
  Object result=this.injector.getValue(this.resourceResolver,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.SlingObjectInjectorResourceTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testResponse(){
  Object result=this.injector.getValue(this.resource,null,SlingHttpServletResponse.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testResourceResolver(){
  Object result=this.injector.getValue(this.resource,null,ResourceResolver.class,this.annotatedElement,registry);
  assertSame(this.resourceResolver,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRequest(){
  Object result=this.injector.getValue(this.resource,null,SlingHttpServletResponse.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInvalid(){
  Object result=this.injector.getValue(this,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testScriptHelper(){
  Object result=this.injector.getValue(this.resource,null,SlingScriptHelper.class,this.annotatedElement,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResource(){
  Object result=this.injector.getValue(this.resource,null,Resource.class,this.annotatedElement,registry);
  assertNull(result);
  when(annotatedElement.isAnnotationPresent(SlingObject.class)).thenReturn(true);
  result=this.injector.getValue(this.resource,null,Resource.class,this.annotatedElement,registry);
  assertSame(resource,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.injectors.ValueMapInjectorTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNonValueMapAdaptable(){
  Object result=injector.getValue(mock(ResourceResolver.class),STRING_PARAM,String.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringParam(){
  Object result=injector.getValue(valueMap,STRING_PARAM,String.class,element,registry);
  assertEquals(STRING_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testIntegerParam(){
  Object result=injector.getValue(valueMap,INTEGER_PARAM,Integer.class,element,registry);
  assertEquals(INTEGER_VALUE,result);
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testClassInstance(){
  Object result=injector.getValue(valueMap,CLASS_PARAM,ResourceResolver.class,element,registry);
  assertSame(CLASS_INSTANCE,result);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNonMatchingClassInstance(){
  Object result=injector.getValue(valueMap,CLASS_PARAM,Resource.class,element,registry);
  assertNull(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ImplementsExtendsTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModelWithPickLastImplementationPicker() throws RepositoryException {
  Session session=resolver.adaptTo(Session.class);
  Node node=resource.adaptTo(Node.class);
  Node childNode=node.addNode(CustomLastImplementationPicker.CUSTOM_NAME);
  childNode.setProperty("first",firstValue);
  childNode.setProperty("third",thirdValue);
  session.save();
  Resource childResource=resolver.getResource(childNode.getPath());
  SampleServiceInterface model=adapterManager.getAdapter(childResource,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel2.class,model.getClass());
  assertEquals(firstValue + "|" + secondValue+ "|"+ thirdValue,model.getAllProperties());
  childNode.remove();
  session.save();
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Ensure that the implementation class itself cannot be adapted to if it is not part of the "adapter" property in the annotation.
 */
@Test public void testImplementsInterfaceModel_ImplClassNotMapped(){
  ImplementsInterfacePropertyModel model=adapterManager.getAdapter(resource,ImplementsInterfacePropertyModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModel(){
  SampleServiceInterface model=adapterManager.getAdapter(resource,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel.class,model.getClass());
  assertEquals(firstValue + "|" + secondValue+ "|"+ thirdValue,model.getAllProperties());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to adapt to a superclass of the implementation class with the appropriate mapping in the @Model annotation.
 */
@Test public void testExtendsClassModel(){
  SimplePropertyModel model=adapterManager.getAdapter(resource,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("!" + firstValue + "|"+ secondValue+ "|"+ thirdValue+ "!",model.getAllProperties());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test implementation class with a mapping that is not valid (an interface that is not implemented).
 */
@Test public void testInvalidImplementsInterfaceModel(){
  InvalidSampleServiceInterface model=adapterManager.getAdapter(resource,InvalidSampleServiceInterface.class);
  assertNull(model);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.InjectorSpecificAnnotationTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  String value=RandomStringUtils.randomAlphanumeric(10);
  ResourceResolver resolver=null;
  Node createdNode=null;
  try {
    resolver=rrFactory.getAdministrativeResourceResolver(null);
    Session session=resolver.adaptTo(Session.class);
    Node rootNode=session.getRootNode();
    createdNode=rootNode.addNode("test_" + RandomStringUtils.randomAlphanumeric(10));
    createdNode.setProperty("testProperty",value);
    session.save();
    Resource resource=resolver.getResource(createdNode.getPath());
    SlingPropertyAnnotationTestModel model=resource.adaptTo(SlingPropertyAnnotationTestModel.class);
    assertNotNull("Model is null",model);
    assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  }
  finally {
    if (createdNode != null) {
      createdNode.remove();
    }
    if (resolver != null) {
      resolver.close();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ModelFactorySimpleTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanCreateFromAdaptable(){
  assertTrue("Model is not detected as such",modelFactory.canCreateFromAdaptable(resource,ConstructorInjectionTestModel.class));
  assertTrue("Model is not detected as such",modelFactory.canCreateFromAdaptable(resource,SampleServiceInterface.class));
  assertFalse("Model is incorrectly detected",modelFactory.canCreateFromAdaptable(new String(),ConstructorInjectionTestModel.class));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateModel(){
  FieldInjectionTestModel model=modelFactory.createModel(resource,FieldInjectionTestModel.class);
  assertNotNull("Model is null",model);
  assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  assertNotNull("Filters is null",model.getFilters());
  assertSame("Adaptable is not injected",resource,model.getResource());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsModelClass(){
  assertTrue("Model is not detected as such",modelFactory.isModelClass(ConstructorInjectionTestModel.class));
  assertFalse("Dummy class incorrectly detected as model class",modelFactory.isModelClass(DummyClass.class));
  assertFalse("Model with invalid adaptable incorrectly detected as model class",modelFactory.isModelClass(InvalidImplementsInterfacePropertyModel.class));
  assertTrue("Model is not detected as such",modelFactory.isModelClass(SampleServiceInterface.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.SimpleTest </h4><pre class="type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructorInjection(){
  ConstructorInjectionTestModel model=resource.adaptTo(ConstructorInjectionTestModel.class);
  assertNotNull("Model is null",model);
  assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  assertNotNull("Filters is null",model.getFilters());
  assertSame("Adaptable is not injected",resource,model.getResource());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInterfaceInjection(){
  InterfaceInjectionTestModel model=resource.adaptTo(InterfaceInjectionTestModel.class);
  assertNotNull("Model is null",model);
  assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  assertNotNull("Filters is null",model.getFilters());
  assertSame("Adaptable is not injected",resource,model.getResource());
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFieldInjection(){
  FieldInjectionTestModel model=resource.adaptTo(FieldInjectionTestModel.class);
  assertNotNull("Model is null",model);
  assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  assertNotNull("Filters is null",model.getFilters());
  assertSame("Adaptable is not injected",resource,model.getResource());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ViaTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test() throws Exception {
  String value=RandomStringUtils.randomAlphanumeric(10);
  ResourceResolver resolver=null;
  Node createdNode=null;
  try {
    resolver=rrFactory.getAdministrativeResourceResolver(null);
    Session session=resolver.adaptTo(Session.class);
    Node rootNode=session.getRootNode();
    createdNode=rootNode.addNode("test_" + RandomStringUtils.randomAlphanumeric(10));
    createdNode.setProperty("testProperty",value);
    session.save();
    Resource resource=resolver.getResource(createdNode.getPath());
    SourceObject obj=new SourceObject(resource);
    ViaModel model=adapterManager.getAdapter(obj,ViaModel.class);
    assertNotNull("Model is null",model);
    assertEquals("Test Property is not set correctly",value,model.getTestProperty());
  }
  finally {
    if (createdNode != null) {
      createdNode.remove();
    }
    if (resolver != null) {
      resolver.close();
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderRootTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRoot(){
  Resource root=context.resourceResolver().getResource("/");
  assertNotNull(root);
  assertTrue(root instanceof NoSqlResource);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCreatePath() throws PersistenceException {
  ResourceUtil.getOrCreateResource(context.resourceResolver(),"/test/test1",ImmutableMap.<String,Object>of(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED),JcrConstants.NT_UNSTRUCTURED,true);
  Resource test=context.resourceResolver().getResource("/test");
  assertNotNull(test);
  Resource test1=context.resourceResolver().getResource("/test/test1");
  assertNotNull(test1);
  context.resourceResolver().delete(test);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testListChildren_RootNode() throws IOException {
  Resource testResource=ResourceUtil.getOrCreateResource(context.resourceResolver(),"/test",ImmutableMap.<String,Object>of(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED),JcrConstants.NT_UNSTRUCTURED,true);
  Resource root=context.resourceResolver().getResource("/");
  List<Resource> children=Lists.newArrayList(root.listChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,testResource));
  children=Lists.newArrayList(root.getChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,testResource));
  context.resourceResolver().delete(testResource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryData() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  InputStream is=ResourceUtil.getValueMap(resource1).get("binaryProp",InputStream.class);
  byte[] dataFromResource=IOUtils.toByteArray(is);
  is.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties_DeepPathAccess() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath());
  assertNotNull(resource1);
  assertEquals(testRoot().getName(),resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("node1/stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("node1/stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("node1/integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("node1/doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("node1/booleanProp",Boolean.class));
  assertEquals(STRING_VALUE,props.get("node1/node11/stringProp11",String.class));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCalendarPropertyToDate() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  Date dateValue=props.get("calendarProp",Date.class);
  assertNotNull(dateValue);
  assertEquals(CALENDAR_VALUE.getTime(),dateValue);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDatePropertyToCalendar() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  Calendar calendarValue=props.get("dateProp",Calendar.class);
  assertNotNull(calendarValue);
  assertEquals(DATE_VALUE,calendarValue.getTime());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrimaryTypeResourceType() throws PersistenceException {
  Resource resource=context.resourceResolver().getResource(testRoot().getPath());
  assertEquals(JcrConstants.NT_UNSTRUCTURED,resource.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDateProperty() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(DATE_VALUE,props.get("dateProp",Date.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListChildren() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  List<Resource> children=ImmutableList.copyOf(resource1.listChildren());
  assertEquals(2,children.size());
  assertEquals("node11",children.get(0).getName());
  assertEquals("node12",children.get(1).getName());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  assertTrue(resource1 instanceof NoSqlResource);
  assertNotNull(resource1);
  assertEquals("node1",resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("booleanProp",Boolean.class));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCalendarProperty() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(CALENDAR_VALUE.getTime(),props.get("calendarProp",Calendar.class).getTime());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTransactionalTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateWithCommit() throws PersistenceException {
  Resource node1=context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of("prop1","value1"));
  assertEquals("value1",node1.getValueMap().get("prop1",String.class));
  context.resourceResolver().commit();
  ModifiableValueMap props=node1.adaptTo(ModifiableValueMap.class);
  props.put("prop1","value2");
  context.resourceResolver().commit();
  node1=testRoot().getChild("node1");
  assertEquals("value2",node1.getValueMap().get("prop1",String.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUpdateWithoutCommit() throws PersistenceException {
  Resource node1=context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of("prop1","value1"));
  assertEquals("value1",node1.getValueMap().get("prop1",String.class));
  ModifiableValueMap props=node1.adaptTo(ModifiableValueMap.class);
  props.put("prop1","value2");
  node1=testRoot().getChild("node1");
  assertEquals("value2",node1.getValueMap().get("prop1",String.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddDeleteNodesPartialCommit() throws PersistenceException {
  context.resourceResolver().create(testRoot(),"node0",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  context.resourceResolver().create(testRoot(),"node2",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(testRoot(),"node3",ImmutableMap.<String,Object>of());
  assertTrue(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node0"));
  assertNotNull(testRoot().getChild("node1"));
  assertNotNull(testRoot().getChild("node2"));
  assertNotNull(testRoot().getChild("node3"));
  context.resourceResolver().delete(testRoot().getChild("node0"));
  context.resourceResolver().delete(testRoot().getChild("node2"));
  assertNull(testRoot().getChild("node0"));
  assertNotNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node2"));
  assertNotNull(testRoot().getChild("node3"));
  Iterator<Resource> children=testRoot().listChildren();
  assertEquals("node1",children.next().getName());
  assertEquals("node3",children.next().getName());
  assertFalse(children.hasNext());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().revert();
  assertFalse(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node2"));
  assertNull(testRoot().getChild("node3"));
  children=testRoot().listChildren();
  assertEquals("node0",children.next().getName());
  assertEquals("node1",children.next().getName());
  assertFalse(children.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursiveDeleteWithCommit() throws PersistenceException {
  Resource node1=context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of());
  Resource node11=context.resourceResolver().create(node1,"node11",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(node11,"node111",ImmutableMap.<String,Object>of());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node1"));
  assertNotNull(testRoot().getChild("node1/node11"));
  assertNotNull(testRoot().getChild("node1/node11/node111"));
  context.resourceResolver().delete(node1);
  assertNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node1/node11"));
  assertNull(testRoot().getChild("node1/node11/node111"));
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  assertNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node1/node11"));
  assertNull(testRoot().getChild("node1/node11/node111"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.simple.SimpleNoSqlResourceProviderQueryTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQueryResources_InvalidQuery(){
  Iterator<Map<String,Object>> result=context.resourceResolver().queryResources("all","invalid");
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFindResources_InvalidQuery(){
  Iterator<Resource> result=context.resourceResolver().findResources("all","invalid");
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindResources_ValidQuery(){
  Iterator<Resource> result=context.resourceResolver().findResources("all","simple");
  assertEquals("/nosql-simple",result.next().getPath());
  assertEquals("/nosql-simple/test",result.next().getPath());
  assertEquals("/nosql-simple/test/node1",result.next().getPath());
  assertEquals("/nosql-simple/test/node2",result.next().getPath());
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueryResources_ValidQuery(){
  Iterator<Map<String,Object>> result=context.resourceResolver().queryResources("all","simple");
  assertNull(result.next().get("prop1"));
  assertNull(result.next().get("prop1"));
  assertEquals("value1",result.next().get("prop1"));
  assertEquals("value2",result.next().get("prop1"));
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.paxexam.util.SlingRepositoryTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testLogin() throws RepositoryException {
  final Session s=repository.loginAdministrative(null);
  assertNotNull(s);
  s.logout();
}

</code></pre>

<br>
<pre class="type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNameDescriptor(){
  if (System.getProperty("sling.run.modes","").contains("oak")) {
    assertEquals("Apache Jackrabbit Oak",repository.getDescriptor("jcr.repository.name"));
  }
 else {
    assertEquals("Jackrabbit",repository.getDescriptor("jcr.repository.name"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.ContainerPipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOtherTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_OTHERTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be some results",resourceIterator.hasNext());
  Resource firstResource=resourceIterator.next();
  assertNotNull("First resource should not be null",firstResource);
  assertEquals("First resource should be instantiated path with apple & pea",PATH_FRUITS + "/apple/isnota/pea/buttheyhavesamecolor",firstResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource secondResource=resourceIterator.next();
  assertNotNull("Second resource should not be null",secondResource);
  assertEquals("Second resource should be instantiated path with banana & pea",PATH_FRUITS + "/banana/isnota/pea/andtheircolorisdifferent",secondResource.getPath());
  assertFalse("There should be no more items",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testOnePipe() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_ONEPIPE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be children",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRottenTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_ROTTENTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("There shouldn't be any resource",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDummyTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_DUMMYTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  assertNotNull("A container pipe should be built out from the given configuration",pipe);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be some results",resourceIterator.hasNext());
  Resource firstResource=resourceIterator.next();
  assertNotNull("First resource should not be null",firstResource);
  assertEquals("First resource should be instantiated path with apple & pea",PATH_FRUITS + "/apple/isnota/pea/buttheyhavesamecolor",firstResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource secondResource=resourceIterator.next();
  assertNotNull("Second resource should not be null",secondResource);
  assertEquals("Second resource should be instantiated path with apple & carrot",PATH_FRUITS + "/apple/isnota/carrot/andtheircolorisdifferent",secondResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource thirdResource=resourceIterator.next();
  assertNotNull("Third resource should not be null",thirdResource);
  assertEquals("Third resource should be instantiated path with banana & pea",PATH_FRUITS + "/banana/isnota/pea/andtheircolorisdifferent",thirdResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource fourthResource=resourceIterator.next();
  assertNotNull("Fourth resource should not be null",fourthResource);
  assertEquals("fourthResource resource should be instantiated path with banana & carrot",PATH_FRUITS + "/banana/isnota/carrot/andtheircolorisdifferent",fourthResource.getPath());
  assertFalse("There should be no more items",resourceIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.FilterPipeTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTestPasses(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_TEST);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterProperties(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_PROPERTIES);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
  ValueMap properties=resourceIterator.next().adaptTo(ValueMap.class);
  assertFalse("...and only One",resourceIterator.hasNext());
  assertEquals("output resource's color is green","green",properties.get("color",String.class));
  assertTrue("output resource's name is not void",StringUtils.isNotBlank(properties.get("name",String.class)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoChildrenPasses(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_NOCHILDREN);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
  resourceIterator.next().adaptTo(ValueMap.class);
  assertFalse("...and only One",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoChildrenFails(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_NOCHILDREN_FAILS);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("output has no resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTestFails(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_TEST_FAILS);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("output has no resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.JsonPipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipedArray() throws Exception {
  Resource resource=context.resourceResolver().getResource(ARRAY);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  Resource first=outputs.next();
  Resource second=outputs.next();
  Resource third=outputs.next();
  assertFalse("there should be only three elements",outputs.hasNext());
  assertEquals("first resource should be one","/content/json/array/one",first.getPath());
  assertEquals("second resource should be two","/content/json/array/two",second.getPath());
  assertEquals("third resource should be three","/content/json/array/three",third.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPipedJson() throws Exception {
  Resource resource=context.resourceResolver().getResource(CONF);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  outputs.next();
  Resource result=outputs.next();
  context.resourceResolver().commit();
  ValueMap properties=result.adaptTo(ValueMap.class);
  assertTrue("There should be a Paris property",properties.containsKey("Paris"));
  assertTrue("There should be a Bucharest property",properties.containsKey("Bucharest"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MovePipeTest </h4><pre class="type-11 type-13 type-9 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testMoveProperty() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + MOVEPROPERTY_PIPE);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> output=pipe.getOutput();
  Assert.assertTrue(output.hasNext());
  output.next();
  Session session=context.resourceResolver().adaptTo(Session.class);
  session.save();
  Assert.assertTrue("new property path should exists",session.propertyExists(PATH_FRUITS + MOVED_NODE_PATH));
  Assert.assertFalse("old property path should not",session.propertyExists(PATH_FRUITS + PN_INDEX));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testMoveNode() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + MOVENODE_PIPE);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> output=pipe.getOutput();
  Assert.assertTrue(output.hasNext());
  output.next();
  Session session=context.resourceResolver().adaptTo(Session.class);
  session.save();
  Assert.assertTrue("new node path should exists",session.nodeExists(PATH_FRUITS + MOVED_NODE_PATH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MultiPropertyPipeTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMV() throws Exception {
  Resource conf=context.resourceResolver().getResource(PATH_PIPE + "/working");
  Pipe pipe=plumber.getPipe(conf);
  Iterator<Resource> outputs=pipe.getOutput();
  Resource resource=outputs.next();
  assertNotNull(resource);
  assertEquals("Resource path should be the input",PATH_FRUITS + PN_INDEX,resource.getPath());
  String fruit=(String)pipe.getOutputBinding();
  assertEquals("First resource binding should be apple","apple",fruit);
  resource=outputs.next();
  assertNotNull(resource);
  assertEquals("Resource path should be the input",PATH_FRUITS + PN_INDEX,resource.getPath());
  fruit=(String)pipe.getOutputBinding();
  assertEquals("Second resource binding should be banana","banana",fruit);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.PipeBindingsTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAdditionalScript() throws Exception {
  context.load().binaryFile("/testSum.js","/content/test/testSum.js");
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_MOREBINDINGS);
  PipeBindings bindings=new PipeBindings(resource);
  Number expression=(Number)bindings.instantiateObject("${testSumFunction(1,2)}");
  assertEquals("computed expression have testSum script's functionavailable",3,expression.intValue());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEvaluateSimpleString() throws ScriptException {
  PipeBindings bindings=getDummyTreeBinding();
  String simple="simple string";
  String evaluated=(String)bindings.evaluate(simple);
  assertEquals("evaluated should be the same than input",evaluated,simple);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testInstantiateExpression() throws Exception {
  PipeBindings bindings=getDummyTreeBinding();
  Map<String,String> testMap=new HashMap<>();
  testMap.put("a","apricots");
  testMap.put("b","bananas");
  bindings.getBindings().put("test",testMap);
  String newExpression=bindings.instantiateExpression("${test.a} and ${test.b}");
  assertEquals("expression should be correctly instantiated","apricots and bananas",newExpression);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testEvaluateNull() throws Exception {
  PipeBindings bindings=getDummyTreeBinding();
  assertNull("${null}object should be instantiated as null",bindings.instantiateObject("${null}"));
  assertNull("${null}expression should be instantiated as null",bindings.instantiateExpression("${null}"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAdditionalBindings() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_MOREBINDINGS);
  PipeBindings bindings=new PipeBindings(resource);
  String expression=bindings.instantiateExpression("${three}");
  assertEquals("computed expression should be taking additional bindings 'three' in account","3",expression);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstantiateObject() throws Exception {
  PipeBindings bindings=getDummyTreeBinding();
  Map<String,String> testMap=new HashMap<>();
  testMap.put("a","apricots");
  testMap.put("b","bananas");
  bindings.getBindings().put("test",testMap);
  String newExpression=(String)bindings.instantiateObject("${test.a} and ${test.b}");
  assertEquals("expression should be correctly instantiated","apricots and bananas",newExpression);
  Calendar cal=(Calendar)bindings.instantiateObject("${new Date(2012,04,12)}");
  assertNotNull("calendar should be instantiated",cal);
  assertEquals("year should be correct",2012,cal.get(Calendar.YEAR));
  assertEquals("month should be correct",4,cal.get(Calendar.MONTH));
  assertEquals("date should be correct",11,cal.get(Calendar.DAY_OF_MONTH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.PlumberServletTest </h4><pre class="type-15 type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdditionalBindingsAndWriter() throws Exception {
  String testBinding="testBinding";
  String testBindingLength=testBinding + "Length";
  String bindingValue="testBindingValue";
  String pathLengthParam="pathLength";
  JSONObject bindings=new JSONObject("{'" + testBinding + "':'"+ bindingValue+ "'}");
  JSONObject respObject=new JSONObject("{'" + pathLengthParam + "':'${path.get(\"dummyGrandChild\").length}','"+ testBindingLength+ "':'${"+ testBinding+ ".length}'}");
  SlingHttpServletRequest request=mockPlumberServletRequest(context.resourceResolver(),dummyTreePath,null,bindings.toString(),respObject.toString(),null);
  servlet.execute(request,response,false);
  assertDummyTree();
  JSONObject response=new JSONObject(stringResponse.toString());
  JSONArray array=response.getJSONArray(PlumberServlet.KEY_ITEMS);
  for (int i=0; i < array.length(); i++) {
    JSONObject object=array.optJSONObject(i);
    assertNotNull("there should be an object returned at each time",object);
    String path=object.optString(PlumberServlet.PATH_KEY);
    assertNotNull("the string path should be returned for each item, containing the path of the resource");
    String pathLength=object.optString(pathLengthParam);
    assertNotNull("there should be a pathLength param, as specified in the writer",pathLength);
    assertEquals("Pathlength should be the string representation of the path length",path.length() + "",pathLength);
    String testBindingLengthValue=object.optString(testBindingLength);
    assertNotNull("testBindingLength should be there",testBindingLengthValue);
    assertEquals("testBindingLength should be the string representation of the additional binding length",bindingValue.length() + "",testBindingLengthValue);
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDryRun() throws Exception {
  SlingHttpServletRequest dryRunRequest=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,"true");
  servlet.execute(dryRunRequest,response,true);
  Resource resource=context.resourceResolver().getResource("/content/fruits");
  ValueMap properties=resource.adaptTo(ValueMap.class);
  assertFalse("property fruits shouldn't have been written",properties.containsKey("fruits"));
  SlingHttpServletRequest request=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,"false");
  servlet.execute(request,response,true);
  WritePipeTest.assertPiped(resource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.RemovePipeTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRemoveNode() throws Exception {
  ResourceResolver resolver=context.resourceResolver();
  Resource resource=resolver.getResource(PATH_PIPE + "/" + NN_SIMPLE);
  resource.adaptTo(Node.class).setProperty(Pipe.PN_PATH,PATH_BANANA);
  resolver.commit();
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  outputs.next();
  resolver.commit();
  resolver.refresh();
  assertNotNull("Apple should still be here",resolver.getResource(PATH_APPLE));
  assertNull("Banana should not",resolver.getResource(PATH_BANANA));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexRemove() throws Exception {
  ResourceResolver resolver=context.resourceResolver();
  Resource resource=resolver.getResource(PATH_PIPE + "/" + NN_COMPLEX);
  Pipe pipe=plumber.getPipe(resource);
  assertTrue("resource should be solved",pipe.getOutput().hasNext());
  pipe.getOutput().next();
  resolver.commit();
  assertNull("isnota carrot should be removed",resolver.getResource(PATH_APPLE + "/isnota/carrot"));
  Resource isNotAPea=resolver.getResource(PATH_APPLE + "/isnota/pea");
  assertNotNull("isnota pea should not be removed",isNotAPea);
  assertFalse("isnota pea color property should not be here",isNotAPea.adaptTo(ValueMap.class).containsKey("color"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testRemoveProperty() throws Exception {
  String indexPath=PATH_FRUITS + "/index";
  ResourceResolver resolver=context.resourceResolver();
  Resource resource=resolver.getResource(PATH_PIPE + "/" + NN_SIMPLE);
  resource.adaptTo(Node.class).setProperty(Pipe.PN_PATH,indexPath);
  resolver.commit();
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  outputs.next();
  resolver.commit();
  resolver.refresh();
  assertNull("Index property should not be here",resolver.getResource(indexPath));
  assertNotNull("Apple should still be here",resolver.getResource(PATH_APPLE));
  assertNotNull("Banana should still be here",resolver.getResource(PATH_BANANA));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.SlingQueryPipeTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildren() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLE);
  SlingQueryPipe pipe=(SlingQueryPipe)plumber.getPipe(resource);
  assertNotNull("A Sling query pipe should be built out from the given configuration",pipe);
  Iterator<Resource> it=pipe.getOutput();
  assertTrue("this pipe should have an output",it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.WritePipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLE);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  pipe.getOutput();
  context.resourceResolver().commit();
  ValueMap properties=context.resourceResolver().getResource("/content/fruits/apple").adaptTo(ValueMap.class);
  assertTrue("There should be hasSeed set to true",properties.get("hasSeed",false));
  assertArrayEquals("Colors should be correctly set",new String[]{"green","red"},properties.get("colors",String[].class));
  assertFalse("worm property should be gone (${null} conf)",properties.get("worm",false));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPiped() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_PIPED);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  Iterator<Resource> it=pipe.getOutput();
  assertTrue("There should be one result",it.hasNext());
  Resource resource=it.next();
  assertNotNull("The result should not be null",resource);
  assertEquals("The result should be the configured one in the piped write pipe","/content/fruits",resource.getPath());
  context.resourceResolver().commit();
  ValueMap properties=resource.adaptTo(ValueMap.class);
  assertArrayEquals("First fruit should have been correctly instantiated & patched from nothing",new String[]{"apple"},properties.get("fruits",String[].class));
  assertTrue("There should be a second result awaiting",it.hasNext());
  resource=it.next();
  assertNotNull("The second result should not be null",resource);
  assertEquals("The second result should be the configured one in the piped write pipe","/content/fruits",resource.getPath());
  context.resourceResolver().commit();
  assertPiped(resource);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVariablePiped() throws Exception {
  String pipePath=PATH_PIPE + "/" + NN_VARIABLE_PIPED;
  Resource confResource=context.resourceResolver().getResource(pipePath);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  Iterator<Resource> it=pipe.getOutput();
  Resource resource=it.next();
  assertEquals("path should be the one configured in first pipe",pipePath + "/conf/fruit/conf/apple",resource.getPath());
  context.resourceResolver().commit();
  assertEquals("Configured value should be written","apple is a fruit and its color is green",resource.adaptTo(ValueMap.class).get("jcr:description",""));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleTree() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLETREE);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  pipe.getOutput();
  context.resourceResolver().commit();
  Resource appleResource=context.resourceResolver().getResource("/content/fruits/apple");
  ValueMap properties=appleResource.adaptTo(ValueMap.class);
  assertTrue("There should be hasSeed set to true",properties.get("hasSeed",false));
  assertArrayEquals("Colors should be correctly set",new String[]{"green","red"},properties.get("colors",String[].class));
  Node appleNode=appleResource.adaptTo(Node.class);
  NodeIterator children=appleNode.getNodes();
  assertTrue("Apple node should have children",children.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.FeatureTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testFeatureType(){
  Feature f=new Feature("blah");
  assertEquals(FeatureTypes.PLAIN,f.getType());
  f.setType(FeatureTypes.SUBSYSTEM_APPLICATION);
  assertEquals(FeatureTypes.SUBSYSTEM_APPLICATION,f.getType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.MergeUtilityTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void mergeStartlevelTest() throws Exception {
  final Model model=U.readTestModel("merge/startlevel-base.txt");
  final Model merge=U.readTestModel("merge/startlevel-merge.txt");
  MergeUtility.merge(model,merge);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  final List<Artifact> list5=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),1);
  U.assertArtifact(list5.get(0),"g","a","2.0.0","jar",null);
  final List<Artifact> list3=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),1);
  U.assertArtifact(list3.get(0),"g","b","1.1.0","jar",null);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(0),1);
  U.assertArtifact(list.get(0),"g","c","1.6.0","jar",null);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void mergeArtifactsTestOptions1() throws Exception {
  final Model model=U.readTestModel("merge/artifact-base.txt");
  final Model merge=U.readTestModel("merge/artifact-merge.txt");
  final MergeOptions opts=new MergeOptions();
  opts.setLatestArtifactWins(false);
  MergeUtility.merge(model,merge,opts);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),0);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),1);
  U.assertArtifact(list.get(0),"g","a","2.0.0","jar",null);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeArtifactsTest2() throws Exception {
  final Model model=U.readTestModel("merge/artifact-base.txt");
  final Model merge=U.readTestModel("merge/artifact-merge2.txt");
  MergeUtility.merge(model,merge);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),0);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),1);
  U.assertArtifact(list.get(0),"g","a","0.5.0","jar",null);
  assertEquals(FeatureTypes.SUBSYSTEM_COMPOSITE,model.getFeature("f").getType());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void mergeArtifactsTestOptions2() throws Exception {
  final Model model=U.readTestModel("merge/artifact-base.txt");
  final Model merge=U.readTestModel("merge/artifact-merge2.txt");
  final MergeOptions opts=new MergeOptions();
  opts.setLatestArtifactWins(false);
  MergeUtility.merge(model,merge,opts);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),0);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),1);
  U.assertArtifact(list.get(0),"g","a","1.0.0","jar",null);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseRawTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  MergeUtility.merge(baseRaw,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseEffectiveTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  MergeUtility.merge(baseEffective,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeArtifactsTest() throws Exception {
  final Model model=U.readTestModel("merge/artifact-base.txt");
  final Model merge=U.readTestModel("merge/artifact-merge.txt");
  MergeUtility.merge(model,merge);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),0);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),1);
  U.assertArtifact(list.get(0),"g","a","2.0.0","jar",null);
  assertEquals(FeatureTypes.SUBSYSTEM_COMPOSITE,model.getFeature("f").getType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void removeTest() throws Exception {
  final Model model=U.readTestModel("merge/remove-base.txt");
  final Model merge=U.readTestModel("merge/remove-merge.txt");
  MergeUtility.merge(model,merge);
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(7));
  assertEquals(FeatureTypes.PLAIN,model.getFeature("f").getType());
  final List<Artifact> group5=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),1);
  U.assertArtifact(group5.get(0),"g","a","1.0.0","jar",null);
  final List<Artifact> group7=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(7),1);
  U.assertArtifact(group7.get(0),"g","c","1.0.0","jar",null);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(model.getFeature("f").getRunMode(),2);
  assertEquals("org.sling.service.A",cfgs.get(0).getPid());
  assertEquals("org.sling.service.C",cfgs.get(1).getPid());
  assertEquals(2,model.getFeature("f").getRunMode().getSettings().size());
  assertEquals("a",model.getFeature("f").getRunMode().getSettings().get("key.a"));
  assertEquals("c",model.getFeature("f").getRunMode().getSettings().get("key.c"));
  assertNotNull(model.getFeature("f").getRunMode("myrunmode"));
  final List<Configuration> cfgs2=U.assertConfigurationsInRunMode(model.getFeature("f").getRunMode("myrunmode"),2);
  assertEquals("org.sling.service.runmode.A",cfgs2.get(0).getPid());
  assertEquals("org.sling.service.runmode.C",cfgs2.get(1).getPid());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeEffectiveTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  MergeUtility.merge(baseEffective,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeRawTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  MergeUtility.merge(baseRaw,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelProcessorTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProcess(){
  Model model=underTest.process(testModel);
  assertEquals("LocM1",model.getLocation());
  Feature feature1=model.getFeature("feature1");
  assertNotNull(feature1);
  assertEquals("LocF1",feature1.getLocation());
  assertEquals("ComF1",feature1.getComment());
  assertEquals(FeatureTypes.SUBSYSTEM_COMPOSITE,feature1.getType());
  assertEquals("LocFV1",feature1.getVariables().getLocation());
  assertEquals("ComFV1",feature1.getVariables().getComment());
  assertEquals("#v1",feature1.getVariables().get("k1"));
  assertEquals("#v2",feature1.getVariables().get("k2"));
  RunMode runMode11=feature1.getRunMode("rm1","rm2");
  assertNotNull(runMode11);
  assertEquals("LocRM11",runMode11.getLocation());
  RunMode runMode12=feature1.getRunMode(new String[]{"rm2"});
  assertNotNull(runMode12);
  ArtifactGroup group12=runMode12.getArtifactGroup(10);
  assertNotNull(group12);
  assertEquals("LocRMG11",group12.getLocation());
  assertEquals("ComRMG11",group12.getComment());
  U.assertArtifactsInGroup(group12,2);
  U.assertArtifact(group12,"mvn:#g1/#a1/#v1/#t1/#c1");
  U.assertArtifact(group12,"mvn:#g2/#a2/#v2/#jar");
  assertEquals("LocConf12",runMode12.getConfigurations().getLocation());
  assertEquals("ComConf12",runMode12.getConfigurations().getComment());
  Configuration conf121=runMode12.getConfiguration("pid1",null);
  assertEquals("LocConf121",conf121.getLocation());
  assertEquals("ComConf121",conf121.getComment());
  assertEquals("#v1",conf121.getProperties().get("conf1"));
  assertEquals("#v2",conf121.getProperties().get("conf2"));
  Configuration conf122=runMode12.getConfiguration("pid2","fac2");
  assertEquals("LocConf122",conf122.getLocation());
  assertEquals("ComConf122",conf122.getComment());
  assertEquals("#v3",conf122.getProperties().get("conf3"));
  assertEquals("LocSet12",runMode12.getSettings().getLocation());
  assertEquals("ComSet12",runMode12.getSettings().getComment());
  assertEquals("#v1",runMode12.getSettings().get("set1"));
  assertEquals("#v2",runMode12.getSettings().get("set2"));
  Feature feature2=model.getFeature("feature1");
  assertNotNull(feature2);
  RunMode runMode21=feature2.getRunMode();
  assertNotNull(runMode21);
  ArtifactGroup group21=runMode21.getArtifactGroup(20);
  assertNotNull(group21);
  U.assertArtifactsInGroup(group21,1);
  U.assertArtifact(group21,"mvn:#g3/#a3/#LATEST/#jar");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelUtilityApplyVariablesTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testApplyVariables(){
  Model model=ModelUtility.applyVariables(testModel,testVariableResolver);
  Feature feature=model.getFeature("feature1");
  assertEquals("v1",feature.getVariables().get("param1"));
  assertEquals("extvalue1",feature.getVariables().get("extparam1"));
  assertEquals("extvalue2",feature.getVariables().get("extparam2"));
  assertEquals(3,feature.getVariables().size());
  Model effectiveModel=ModelUtility.getEffectiveModel(model);
  Feature effectiveFeature=effectiveModel.getFeature("feature1");
  RunMode runMode=effectiveFeature.getRunMode("rm1");
  ArtifactGroup group=runMode.getArtifactGroup(10);
  U.assertArtifactsInGroup(group,2);
  U.assertArtifact(group,"mvn:g1/a1/v1/t1/c1");
  U.assertArtifact(group,"mvn:g2/a2/extvalue2/jar");
  Configuration conf=runMode.getConfiguration("pid1",null);
  assertEquals("extvalue1",conf.getProperties().get("conf1"));
  assertEquals("extvalue2",conf.getProperties().get("conf2"));
  assertEquals("v1",runMode.getSettings().get("set1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelUtilityTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeArtifactsTest() throws Exception {
  final Model model=U.readCompleteTestModel(new String[]{"merge/artifact-base.txt","merge/artifact-merge.txt"});
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(3));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),0);
  final List<Artifact> list=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(3),1);
  U.assertArtifact(list.get(0),"g","a","2.0.0","jar",null);
  assertEquals(FeatureTypes.SUBSYSTEM_COMPOSITE,model.getFeature("f").getType());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseRawTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  ModelUtility.merge(baseRaw,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseEffectiveTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  ModelUtility.merge(baseEffective,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeRawTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  ModelUtility.merge(baseRaw,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeEffectiveTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  ModelUtility.merge(baseEffective,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void removeTest() throws Exception {
  final Model model=U.readCompleteTestModel(new String[]{"merge/remove-base.txt","merge/remove-merge.txt"});
  assertNotNull(model.getFeature("f"));
  assertNotNull(model.getFeature("f").getRunMode());
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(5));
  assertNotNull(model.getFeature("f").getRunMode().getArtifactGroup(7));
  assertEquals(FeatureTypes.PLAIN,model.getFeature("f").getType());
  final List<Artifact> group5=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(5),1);
  U.assertArtifact(group5.get(0),"g","a","1.0.0","jar",null);
  final List<Artifact> group7=U.assertArtifactsInGroup(model.getFeature("f").getRunMode().getArtifactGroup(7),1);
  U.assertArtifact(group7.get(0),"g","c","1.0.0","jar",null);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(model.getFeature("f").getRunMode(),2);
  assertEquals("org.sling.service.A",cfgs.get(0).getPid());
  assertEquals("org.sling.service.C",cfgs.get(1).getPid());
  assertEquals(2,model.getFeature("f").getRunMode().getSettings().size());
  assertEquals("a",model.getFeature("f").getRunMode().getSettings().get("key.a"));
  assertEquals("c",model.getFeature("f").getRunMode().getSettings().get("key.c"));
  assertNotNull(model.getFeature("f").getRunMode("myrunmode"));
  final List<Configuration> cfgs2=U.assertConfigurationsInRunMode(model.getFeature("f").getRunMode("myrunmode"),2);
  assertEquals("org.sling.service.runmode.A",cfgs2.get(0).getPid());
  assertEquals("org.sling.service.runmode.C",cfgs2.get(1).getPid());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.VersionTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSameVersion(){
  final String v1="1";
  final String v10="1.0";
  final String v100="1.0.0";
  final Version ve1=new Version(v1);
  final Version ve10=new Version(v10);
  final Version ve100=new Version(v100);
  assertEquals(0,ve1.compareTo(ve10));
  assertEquals(0,ve10.compareTo(ve100));
  assertEquals(0,ve1.compareTo(ve100));
  assertEquals(0,ve10.compareTo(ve1));
  assertEquals(0,ve100.compareTo(ve10));
  assertEquals(0,ve100.compareTo(ve1));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQualifiers(){
  final Version va=new Version("1-A");
  final Version vb=new Version("1-B");
  assertTrue(va.compareTo(vb) < 0);
  assertTrue(vb.compareTo(va) > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testVersions(){
  final String v1="1";
  final String v20="2.0";
  final String v150="1.5.0";
  final Version ve1=new Version(v1);
  final Version ve20=new Version(v20);
  final Version ve150=new Version(v150);
  assertTrue(ve1.compareTo(ve20) < 0);
  assertTrue(ve20.compareTo(ve150) > 0);
  assertTrue(ve1.compareTo(ve150) < 0);
  assertTrue(ve20.compareTo(ve1) > 0);
  assertTrue(ve150.compareTo(ve20) < 0);
  assertTrue(ve150.compareTo(ve1) > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSnapshotQualifier(){
  final Version v1=new Version("1");
  final Version v1snapshot=new Version("1-SNAPSHOT");
  final Version v1a=new Version("1-A");
  assertTrue(v1.compareTo(v1snapshot) > 0);
  assertTrue(v1snapshot.compareTo(v1) < 0);
  assertTrue(v1a.compareTo(v1) > 0);
  assertTrue(v1.compareTo(v1a) < 0);
  assertTrue(v1a.compareTo(v1snapshot) > 0);
  assertTrue(v1snapshot.compareTo(v1a) < 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.io.IOTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddition() throws Exception {
  final Model model=U.readCompleteTestModel(new String[]{"additional.txt"});
  final Feature f=model.getFeature("main");
  assertNotNull(f);
  assertEquals(1,f.getAdditionalSections().size());
  assertEquals(1,f.getAdditionalSections("additional").size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultilineConfiguration() throws Exception {
  final Model m=ModelUtility.getEffectiveModel(U.readCompleteTestModel(new String[]{"configadmin.txt"}));
  final List<Configuration> configs=new ArrayList<Configuration>();
  for (  final Configuration c : m.getFeature("configadmin").getRunMode().getConfigurations()) {
    configs.add(c);
  }
  assertEquals(4,configs.size());
  final Configuration cfgA=configs.get(0);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("A",cfgA.getProperties().get("name"));
  final Configuration cfgB=configs.get(1);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("B",cfgB.getProperties().get("name"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=configs.get(2);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(2,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
  final Configuration cfgD=configs.get(3);
  assertEquals("org.apache.test.D",cfgD.getPid());
  assertEquals("Here is\na multiline\nstring",cfgD.getProperties().get("textA"));
  assertEquals("Another one\nusing\nescaped newlines",cfgD.getProperties().get("textB"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.query.selector.parser.SelectorTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndPropertyAndFunctions(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value]:first:eq(12)");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(pp("key","value")),selector.getAttributes());
  Assert.assertEquals(Arrays.asList(f("first",null),f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndNameAndProperty(){
  SelectorSegment selector=getFirstSegment("my/resource/type#some-name[key=value]");
  Assert.assertEquals(Arrays.asList(pp("key","value")),selector.getAttributes());
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndPropertiesAndFunction(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value][key2=value2]:first");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(pp("key","value"),pp("key2","value2")),selector.getAttributes());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndProperty(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value]");
  Assert.assertEquals(Arrays.asList(pp("key","value")),selector.getAttributes());
  Assert.assertEquals("my/resource/type",selector.getType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndProperties(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value][key2=value2]");
  Assert.assertEquals(Arrays.asList(pp("key","value"),pp("key2","value2")),selector.getAttributes());
  Assert.assertEquals("my/resource/type",selector.getType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndPropertyAndFunction(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value]:first");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(pp("key","value")),selector.getAttributes());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseEscapedNameAndFunction(){
  SelectorSegment selector=getFirstSegment("#'jcr:content':eq(12)");
  Assert.assertEquals("jcr:content",selector.getName());
  Assert.assertEquals(Arrays.asList(f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parsePrimaryTypeAndFunction(){
  SelectorSegment selector=getFirstSegment("cq:Page:first");
  Assert.assertEquals("cq:Page",selector.getType());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndNameAndFunction(){
  SelectorSegment selector=getFirstSegment("my/resource/type#some-name:first");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseNameAndFunction(){
  SelectorSegment selector=getFirstSegment("#some-name:eq(12)");
  Assert.assertEquals("some-name",selector.getName());
  Assert.assertEquals(Arrays.asList(f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndName(){
  SelectorSegment selector=getFirstSegment("my/resource/type#some-name");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndNameAndProperties(){
  SelectorSegment selector=getFirstSegment("my/resource/type#some-name[key=value][key2=value2]");
  Assert.assertEquals(Arrays.asList(pp("key","value"),pp("key2","value2")),selector.getAttributes());
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndFunctions(){
  SelectorSegment selector=getFirstSegment("my/resource/type:first:eq(12)");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(f("first",null),f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndPropertiesAndFunctions(){
  SelectorSegment selector=getFirstSegment("my/resource/type[key=value][key2=value2]:first:eq(12)");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(pp("key","value"),pp("key2","value2")),selector.getAttributes());
  Assert.assertEquals(Arrays.asList(f("first",null),f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndNameAndPropertyAndFunction(){
  SelectorSegment selector=getFirstSegment("my/resource/type#some-name[key=value]:first");
  Assert.assertEquals(selector.getType(),"my/resource/type");
  Assert.assertEquals(Arrays.asList(pp("key","value")),selector.getAttributes());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseNameAndFunctionWithFilter(){
  SelectorSegment selector=getFirstSegment("#some-name:has([key=value])");
  Assert.assertEquals(Arrays.asList(f("has","[key=value]")),selector.getModifiers());
  Assert.assertEquals("some-name",selector.getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parseResourceTypeAndFunction(){
  SelectorSegment selector=getFirstSegment("my/resource/type:first");
  Assert.assertEquals("my/resource/type",selector.getType());
  Assert.assertEquals(Arrays.asList(f("first",null)),selector.getModifiers());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parsePrimaryTypeAndFunctions(){
  SelectorSegment selector=getFirstSegment("cq:Page:first:eq(12)");
  Assert.assertEquals("cq:Page",selector.getType());
  Assert.assertEquals(Arrays.asList(f("first",null),f("eq","12")),selector.getModifiers());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.it.RepoInitIT </h4><pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  WaitFor.services(teleporter,SlingRepository.class,RepoInitParser.class);
  session=teleporter.getService(SlingRepository.class).loginAdministrative(null);
  try {
    session.getRootNode().addNode("acltest").addNode("A").addNode("B").save();
    ;
  }
 catch (  RepositoryException ignore) {
  }
  assertTrue("Expecting test nodes to be created",session.itemExists("/acltest/A/B"));
  final InputStream is=getClass().getResourceAsStream(REPO_INIT_FILE);
  assertNotNull("Expecting " + REPO_INIT_FILE,is);
  try {
    final RepoInitParser parser=teleporter.getService(RepoInitParser.class);
    final OperationVisitor v=new JcrRepoInitOpVisitor(session);
    for (    Operation op : parser.parse(new InputStreamReader(is,"UTF-8"))) {
      op.accept(v);
    }
    session.save();
  }
  finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.jcr.GeneralAclTest </h4><pre class="type-6 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test public void readOnlyThenWriteThenDeny() throws Exception {
  final Node tmp=U.adminSession.getRootNode().addNode("tmp_" + U.id);
  U.adminSession.save();
  final String path=tmp.getPath();
  try {
    s.getNode(path);
    fail("Expected read access to be initially denied:" + path);
  }
 catch (  PathNotFoundException ignore) {
  }
  final String allowRead="set ACL for " + U.username + "\n"+ "allow jcr:read on "+ path+ "\n"+ "end";
  U.parseAndExecute(allowRead);
  final Node n=s.getNode(path);
  try {
    n.setProperty("U.id",U.id);
    s.save();
    fail("Expected write access to be initially denied:" + path);
  }
 catch (  AccessDeniedException ignore) {
  }
  s.refresh(false);
  final String allowWrite="set ACL for " + U.username + "\n"+ "allow jcr:write on "+ path+ "\n"+ "end";
  U.parseAndExecute(allowWrite);
  n.setProperty("U.id",U.id);
  s.save();
  final String deny="set ACL for " + U.username + "\n"+ "deny jcr:all on "+ path+ "\n"+ "end";
  U.parseAndExecute(deny);
  try {
    s.getNode(path);
    fail("Expected access to be denied again:" + path);
  }
 catch (  PathNotFoundException ignore) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test public void addChildAtRoot() throws Exception {
  final String nodename="test_" + U.id;
  final String path="/" + nodename;
  final String aclSetup="set ACL for " + U.username + "\n"+ "allow jcr:all on /\n"+ "end";
  U.parseAndExecute(aclSetup);
  try {
    assertFalse(s.itemExists(path));
    s.getRootNode().addNode(nodename);
    s.save();
    assertTrue(s.nodeExists(path));
    s.getNode(path).remove();
    s.save();
    assertFalse(s.itemExists(path));
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resource.collection.impl.ResourceCollectionImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListCollection() throws Exception {
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"collection1");
  final Resource res1=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(res1,null);
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res2",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,null);
  Assert.assertEquals(true,collection.contains(resource));
  final Iterator<Resource> resources=collection.getResources();
  int numOfRes=0;
  while (resources.hasNext()) {
    resources.next();
    numOfRes++;
  }
  Assert.assertEquals(2,numOfRes);
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddResourceWithProperties() throws Exception {
  final Map<String,Object> props=new HashMap<String,Object>();
  props.put("creator","slingdev");
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"collection3");
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,props);
  final Resource collectionRes=resResolver.getResource("/collection3");
  Assert.assertNotNull(collectionRes);
  Assert.assertEquals(true,collection.contains(resource));
  ValueMap vm=collection.getProperties(resource);
  if (vm != null) {
    Assert.assertEquals("slingdev",vm.get("creator",""));
  }
 else {
    Assert.fail("no resource entry in collection");
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCheckPath() throws Exception {
  final Resource rootResource=resResolver.create(resResolver.getResource("/"),"root",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  final ResourceCollection collection=rcm.createCollection(rootResource,"test1");
  Assert.assertEquals(rootResource.getPath() + "/" + "test1",collection.getPath());
}

</code></pre>

<br>
<pre class="type-15 type-11 type-6 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOrdering() throws Exception {
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"test1");
  String[] resPaths={"/res1","/res2"};
  final Resource resource=resResolver.create(resResolver.getResource("/"),resPaths[0].substring(1),Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,null);
  final Resource resource2=resResolver.create(resResolver.getResource("/"),resPaths[1].substring(1),Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource2,null);
  Assert.assertEquals(true,collection.contains(resource2));
  Assert.assertNotNull(resResolver.getResource("/test1"));
  Assert.assertEquals(ResourceCollection.RESOURCE_TYPE,resResolver.getResource("/test1").getResourceType());
  Iterator<Resource> resources=collection.getResources();
  int numOfRes=0;
  while (resources.hasNext()) {
    Resource entry=resources.next();
    Assert.assertEquals(resPaths[numOfRes],entry.getPath());
    numOfRes++;
  }
  try {
    collection.orderBefore(resource,resource);
    Assert.fail("should have thrown IllegalArgument");
  }
 catch (  IllegalArgumentException e) {
  }
  collection.orderBefore(resource2,resource);
  resources=collection.getResources();
  numOfRes=2;
  while (resources.hasNext()) {
    numOfRes--;
    Resource entry=resources.next();
    Assert.assertEquals(resPaths[numOfRes],entry.getPath());
  }
  Assert.assertEquals(0,numOfRes);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCollection() throws Exception {
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"test1");
  final Resource res1=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(res1,null);
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res2",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,null);
  Assert.assertEquals(true,collection.contains(resource));
  Assert.assertNotNull(resResolver.getResource("/test1"));
  Assert.assertEquals(ResourceCollection.RESOURCE_TYPE,resResolver.getResource("/test1").getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddResource() throws Exception {
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"test1");
  final Resource res1=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(res1);
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res2",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource);
  Assert.assertEquals(true,collection.contains(resource));
  Assert.assertEquals(true,collection.contains(resource));
  Assert.assertNotNull(resResolver.getResource("/test1"));
  Assert.assertEquals(ResourceCollection.RESOURCE_TYPE,resResolver.getResource("/test1").getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCollection() throws Exception {
  ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"test1");
  final Resource res1=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(res1,null);
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res2",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,null);
  collection=rcm.getCollection(resResolver.getResource(collection.getPath()));
  Assert.assertEquals(true,collection.contains(resource));
  Assert.assertNotNull(resResolver.getResource("/test1"));
  Assert.assertEquals(ResourceCollection.RESOURCE_TYPE,resResolver.getResource("/test1").getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCollectionWithProperties() throws Exception {
  final Map<String,Object> props=new HashMap<String,Object>();
  props.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"some/type");
  props.put("creator","slingdev");
  final ResourceCollection collection=rcm.createCollection(resResolver.getResource("/"),"collection3",props);
  final Resource resource=resResolver.create(resResolver.getResource("/"),"res1",Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"type"));
  collection.add(resource,null);
  final Resource collectionRes=resResolver.getResource("/collection3");
  Assert.assertNotNull(collectionRes);
  Assert.assertEquals(true,collection.contains(resource));
  Assert.assertEquals(ResourceCollection.RESOURCE_TYPE,collectionRes.getResourceSuperType());
  ValueMap vm=collectionRes.adaptTo(ValueMap.class);
  Assert.assertEquals("slingdev",vm.get("creator",""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceaccesssecurity.impl.ResourceAccessSecurityImplTests </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCannotUpdateWrongPath(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/wrongcontent");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  assertFalse(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanUpdate(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  assertTrue(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCannotUpdateUsingReadableResourceIfCannotRead(){
  initMocks("/content",new String[]{"read","update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  ModifiableValueMap valueMap=mock(ModifiableValueMap.class);
  when(resource.adaptTo(ModifiableValueMap.class)).thenReturn(valueMap);
  when(resourceAccessGate.canRead(resource)).thenReturn(ResourceAccessGate.GateResult.DENIED);
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  Resource readableResource=resourceAccessSecurity.getReadableResource(resource);
  assertNull(readableResource);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testCannotUpdateUsingReadableResourceIfCannotUpdate(){
  initMocks("/content",new String[]{"read","update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  ModifiableValueMap valueMap=mock(ModifiableValueMap.class);
  when(resource.adaptTo(ModifiableValueMap.class)).thenReturn(valueMap);
  when(resourceAccessGate.canRead(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.DENIED);
  Resource readableResource=resourceAccessSecurity.getReadableResource(resource);
  ModifiableValueMap resultValueMap=readableResource.adaptTo(ModifiableValueMap.class);
  assertNull(resultValueMap);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCannotUpdate(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.DENIED);
  assertFalse(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.impl.ResourceBuilderImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void deepResource() throws Exception {
  getBuilder(testRootPath).resource("a/b/c","title","foo").commit();
  A.assertProperties("a/b/c","title","foo");
  assertEquals(A.fullPath("a/b/c"),A.assertResource("a/b/c").getPath());
  A.assertResource("a/b");
  A.assertResource("a");
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void ensureResourceExists() throws Exception {
class MyResourceBuilder extends ResourceBuilderImpl {
    MyResourceBuilder(){
      super(resourceResolver.getResource("/"),null);
    }
    Resource r(    String path){
      return ensureResourceExists(path);
    }
  }
  ;
  final MyResourceBuilder b=new MyResourceBuilder();
  assertEquals("/",b.r(null).getPath());
  assertEquals("/",b.r("").getPath());
  assertEquals("/",b.r("/").getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void basicResource() throws Exception {
  getBuilder(testRootPath).resource("child","title","foo").commit();
  A.assertProperties("child","title","foo");
  assertEquals(A.fullPath("child"),A.assertResource("child").getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.it.FileRetrievalIT </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createAndeRtrieveFile() throws IOException, ServletException {
  final String expected="yes, it worked";
  final long startTime=System.currentTimeMillis();
  final String mimeType="application/javascript";
  E.builder.resource("somefolder").file("the-model.js",getClass().getResourceAsStream("/files/models.js")).commit();
  final Resource r=A.assertFile("somefolder/the-model.js",mimeType,expected,-1L);
  final ResourceMetadata meta=r.getResourceMetadata();
  assertTrue("Expecting a last modified time >= startTime",meta.getModificationTime() >= startTime);
  assertEquals("Expecting the correct mime-type",mimeType,meta.getContentType());
  final InputStream is=r.adaptTo(InputStream.class);
  assertNotNull("Expecting InputStream for file resource " + r.getPath(),is);
  try {
    final String content=A.readFully(is);
    assertTrue("Expecting [" + expected + "] in content",content.contains(expected));
  }
  finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.MergedResourceProviderTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildren(){
  final Resource rsrcA=this.provider.getResource(ctx,"/merged/a",ResourceContext.EMPTY_CONTEXT,null);
  assertNotNull(rsrcA);
  final Iterator<Resource> i=this.provider.listChildren(ctx,rsrcA);
  assertNotNull(i);
  final List<String> names=new ArrayList<String>();
  while (i.hasNext()) {
    names.add(i.next().getName());
  }
  assertEquals(6,names.size());
  assertTrue(names.contains("1"));
  assertTrue(names.contains("2"));
  assertTrue(names.contains("3"));
  assertTrue(names.contains("4"));
  assertTrue(names.contains("Y"));
  assertTrue(names.contains("X"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testProperties(){
  final Resource rsrcA1=this.provider.getResource(ctx,"/merged/a/1",ResourceContext.EMPTY_CONTEXT,null);
  final ValueMap vm=rsrcA1.adaptTo(ValueMap.class);
  assertNotNull(vm);
  assertEquals(3,vm.size());
  assertEquals("1",vm.get("a"));
  assertEquals("2",vm.get("b"));
  assertEquals("2",vm.get("c"));
}

</code></pre>

<br>
<pre class="type-12 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetWithRelatedResource(){
  final String path="/merged/b/c/d";
  String[] relatedPaths=new String[]{null,"/merged/a","/merged/b","/merged/b/c","/merged/b/c/d","/merged/b/c/d/e","/merged/b/c/d/e/f"};
  for (  String relatedPath : relatedPaths) {
    final Resource relatedResource;
    if (relatedPath != null) {
      relatedResource=provider.getResource(ctx,relatedPath,ResourceContext.EMPTY_CONTEXT,null);
      assertNotNull("Not found: " + relatedPath,relatedResource);
    }
 else {
      relatedResource=null;
    }
    Resource resource=provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,relatedResource);
    assertNotNull(resource);
    assertEquals(path,resource.getPath());
    assertTrue(resource instanceof MergedResource);
    MergedResource mergedResource=(MergedResource)resource;
    List<Resource> mappedResources=mergedResource.getMappedResources();
    assertEquals(2,mappedResources.size());
    assertEquals(mappedResources.get(0).getPath(),"/libs/b/c/d");
    assertEquals(mappedResources.get(1).getPath(),"/apps/b/c/d");
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteByHidingAndCreate() throws PersistenceException {
  final String path="/merged/deleteTest";
  try {
    assertNotNull(this.resolver.getResource("/libs/deleteTest"));
    assertNull(this.resolver.getResource("/apps/deleteTest"));
    final Resource rsrc=this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null);
    assertNotNull(rsrc);
    assertEquals(path,rsrc.getPath());
    this.provider.delete(ctx,rsrc);
    this.provider.create(ctx,path,Collections.singletonMap("foo",(Object)"bla"));
    assertNotNull(this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null));
    assertNotNull(this.resolver.getResource("/libs/deleteTest"));
    final Resource hidingRsrc=this.resolver.getResource("/apps/deleteTest");
    assertNotNull(hidingRsrc);
    final ValueMap vm=hidingRsrc.getValueMap();
    assertEquals("bla",vm.get("foo"));
  }
  finally {
    this.resolver.revert();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClearProperties(){
  final Resource rsrcA3=this.provider.getResource(ctx,"/merged/a/3",ResourceContext.EMPTY_CONTEXT,null);
  final ValueMap vm=rsrcA3.adaptTo(ValueMap.class);
  assertNotNull(vm);
  assertEquals(0,vm.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListSubChildren(){
  final Resource rsrcY=this.provider.getResource(ctx,"/merged/a/Y",ResourceContext.EMPTY_CONTEXT,null);
  assertNotNull(rsrcY);
  final Iterator<Resource> i=this.provider.listChildren(ctx,rsrcY);
  assertNotNull(i);
  final List<String> names=new ArrayList<String>();
  while (i.hasNext()) {
    names.add(i.next().getName());
  }
  assertEquals(3,names.size());
  assertTrue(names.contains("a"));
  assertTrue(names.contains("b"));
  assertTrue(names.contains("c"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResourceType(){
  final Resource rsrcA2=this.provider.getResource(ctx,"/merged/a/2",ResourceContext.EMPTY_CONTEXT,null);
  assertEquals("apps",rsrcA2.getResourceType());
  final Resource rsrcA1=this.provider.getResource(ctx,"/merged/a/1",ResourceContext.EMPTY_CONTEXT,null);
  assertEquals("a/1",rsrcA1.getResourceType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifiableValueMap() throws PersistenceException {
  final String path="/merged/mvmTest";
  try {
    assertNotNull(this.resolver.getResource("/libs/mvmTest"));
    assertNull(this.resolver.getResource("/apps/mvmTest"));
    final Resource rsrc=this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null);
    assertNotNull(rsrc);
    final ValueMap beforeVM=rsrc.getValueMap();
    assertEquals("1",beforeVM.get("a"));
    assertEquals("2",beforeVM.get("b"));
    final ModifiableValueMap mvm=rsrc.adaptTo(ModifiableValueMap.class);
    assertNotNull(mvm);
    assertEquals("1",mvm.get("a"));
    assertEquals("2",mvm.get("b"));
    mvm.put("c","3");
    mvm.remove("a");
    assertNotNull(this.resolver.getResource("/libs/mvmTest"));
    assertNotNull(this.resolver.getResource("/apps/mvmTest"));
    final Resource rsrc2=this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null);
    assertNotNull(rsrc2);
    final ValueMap afterVM=rsrc2.getValueMap();
    assertNull(afterVM.get("a"));
    assertEquals("2",afterVM.get("b"));
    assertEquals("3",afterVM.get("c"));
    final Resource rsrcL=this.resolver.getResource("/libs/mvmTest");
    assertEquals("1",rsrcL.getValueMap().get("a"));
    assertEquals("2",rsrcL.getValueMap().get("b"));
    assertNull(rsrcL.getValueMap().get("c"));
    final Resource rsrcA=this.resolver.getResource("/apps/mvmTest");
    assertNull(rsrcA.getValueMap().get("a"));
    assertNull(rsrcA.getValueMap().get("b"));
    assertEquals("3",rsrcA.getValueMap().get("c"));
    final String[] hidden=rsrcA.getValueMap().get(MergedResourceConstants.PN_HIDE_PROPERTIES,String[].class);
    assertNotNull(hidden);
    assertEquals(1,hidden.length);
    assertEquals("a",hidden[0]);
  }
  finally {
    this.resolver.revert();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteByHiding() throws PersistenceException {
  final String path="/merged/deleteTest";
  try {
    assertNotNull(this.resolver.getResource("/libs/deleteTest"));
    assertNull(this.resolver.getResource("/apps/deleteTest"));
    final Resource rsrc=this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null);
    assertNotNull(rsrc);
    assertEquals(path,rsrc.getPath());
    this.provider.delete(ctx,rsrc);
    assertNull(this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null));
    assertNotNull(this.resolver.getResource("/libs/deleteTest"));
    final Resource hidingRsrc=this.resolver.getResource("/apps/deleteTest");
    assertNotNull(hidingRsrc);
    final ValueMap vm=hidingRsrc.getValueMap();
    assertEquals(Boolean.TRUE,vm.get(MergedResourceConstants.PN_HIDE_RESOURCE));
  }
  finally {
    this.resolver.revert();
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHideProperties(){
  final Resource rsrcA4=this.provider.getResource(ctx,"/merged/a/4",ResourceContext.EMPTY_CONTEXT,null);
  final ValueMap vm=rsrcA4.adaptTo(ValueMap.class);
  assertNotNull(vm);
  assertEquals(3,vm.size());
  assertEquals("1",vm.get("d"));
  assertEquals("2",vm.get("e"));
  assertEquals("x",vm.get("b"));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleCreateAndDelete() throws PersistenceException {
  final String path="/merged/a/new";
  try {
    final Resource rsrc=this.provider.create(ctx,path,Collections.singletonMap("foo",(Object)"bla"));
    assertNotNull(rsrc);
    assertEquals(path,rsrc.getPath());
    final ValueMap vm=ResourceUtil.getValueMap(rsrc);
    assertEquals("bla",vm.get("foo"));
    final Resource realResource=this.resolver.getResource("/apps/a/new");
    assertNotNull(realResource);
    final ValueMap vmReal=ResourceUtil.getValueMap(realResource);
    assertEquals("bla",vmReal.get("foo"));
    assertNull(this.resolver.getResource("/libs/a/new"));
    this.provider.delete(ctx,rsrc);
    assertNull(this.provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,null));
    assertNull(this.resolver.getResource("/libs/a/new"));
    assertNull(this.resolver.getResource("/apps/a/new"));
  }
  finally {
    this.resolver.revert();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.MergedResourceTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testResourceTypeMixed() throws Exception {
  final ValueMap vm1=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vma"));
  final MockResource r1=new MockResource("/a",vm1,null){
    @Override public String getResourceType(){
      return "a";
    }
  }
;
  final ValueMap vm2=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vmb"));
  final MockResource r2=new MockResource("/b",vm2,null){
    @Override public String getResourceType(){
      return "b";
    }
  }
;
  final ValueMap vm3=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vmc"));
  final MockResource r3=new MockResource("/c",vm3,null){
    @Override public String getResourceType(){
      return "c";
    }
  }
;
  final List<Resource> resources=new ArrayList<Resource>();
  resources.add(r1);
  resources.add(r2);
  resources.add(r3);
  final List<ValueMap> valueMaps=new ArrayList<ValueMap>();
  valueMaps.add(vm1);
  valueMaps.add(vm2);
  valueMaps.add(vm3);
  final MergedResource mr1=new MergedResource(null,"/a","a",resources,valueMaps);
  assertEquals("c",mr1.getResourceType());
  assertEquals("vmc",mr1.getResourceSuperType());
  final MergedResource mr2=new MergedResource(null,"/a","a",resources,Collections.singletonList(vm2));
  assertEquals("c",mr2.getResourceType());
  assertEquals("vmb",mr2.getResourceSuperType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceTypeByMethod() throws Exception {
  final MockResource r1=new MockResource("/a",null,null){
    @Override public String getResourceType(){
      return "a";
    }
  }
;
  final MockResource r2=new MockResource("/b",null,null){
    @Override public String getResourceType(){
      return "b";
    }
  }
;
  final MockResource r3=new MockResource("/c",null,null){
    @Override public String getResourceType(){
      return "c";
    }
  }
;
  final List<Resource> resources=new ArrayList<Resource>();
  resources.add(r1);
  resources.add(r2);
  resources.add(r3);
  final MergedResource mr=new MergedResource(null,"/a","a",resources,Collections.EMPTY_LIST);
  assertEquals("c",mr.getResourceType());
  assertNull(mr.getResourceSuperType());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceTypeByValueMap() throws Exception {
  final ValueMap vm1=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vma"));
  final MockResource r1=new MockResource("/a",vm1,null);
  final ValueMap vm2=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vmb"));
  final MockResource r2=new MockResource("/b",vm2,null);
  final ValueMap vm3=new ValueMapDecorator(Collections.singletonMap(ResourceResolver.PROPERTY_RESOURCE_TYPE,(Object)"vmc"));
  final MockResource r3=new MockResource("/c",vm3,null);
  final List<Resource> resources=new ArrayList<Resource>();
  resources.add(r1);
  resources.add(r2);
  resources.add(r3);
  final List<ValueMap> valueMaps=new ArrayList<ValueMap>();
  valueMaps.add(vm1);
  valueMaps.add(vm2);
  valueMaps.add(vm3);
  final MergedResource mr=new MergedResource(null,"/a","a",resources,valueMaps);
  assertEquals("vmc",mr.getResourceType());
  assertNull(mr.getResourceSuperType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.OverridingResourceProviderTest </h4><pre class="type-11 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testOverriddenIncludesChildFromSuper(){
  final Resource rsrcA2=this.provider.getResource(ctx,"/override/apps/a/2",ResourceContext.EMPTY_CONTEXT,null);
  Resource d=getChildResource(rsrcA2,"d");
  assertNotNull(d);
  Resource d1=getChildResource(d,"1");
  assertNotNull(d1);
  Resource d1a=getChildResource(d1,"a");
  assertNotNull(d1a);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testLoopInInheritance(){
  final Resource rsrcA4=this.provider.getResource(ctx,"/override/apps/a/4",ResourceContext.EMPTY_CONTEXT,null);
  Resource d=getChildResource(rsrcA4,"d");
  assertNotNull(d);
  final Resource z=this.provider.getResource(ctx,"/override/apps/x/z",ResourceContext.EMPTY_CONTEXT,null);
  assertNotNull(z);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverridingOnTarget(){
  final Resource rsrcA2=this.provider.getResource(ctx,"/override/apps/a/2",ResourceContext.EMPTY_CONTEXT,null);
  final ValueMap vm=rsrcA2.adaptTo(ValueMap.class);
  assertNotNull(vm);
  assertEquals(3,vm.size());
  assertEquals("1",vm.get("a"));
  assertEquals("2",vm.get("b"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOverridingViaParent(){
  final Resource rsrcA2=this.provider.getResource(ctx,"/override/apps/a/2/c",ResourceContext.EMPTY_CONTEXT,null);
  final ValueMap vm=rsrcA2.adaptTo(ValueMap.class);
  assertNotNull(vm);
  assertEquals(2,vm.size());
  assertEquals("c",vm.get("1"));
  assertEquals("b",vm.get("2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.MockedResourceResolverImplTest </h4><pre class="type-6 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Misceleneous coverage.
 * @throws LoginException
 */
@Test public void testResolverMisc() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  try {
    resourceResolver.getAttribute(null);
    Assert.fail("Should have thrown a NPE");
  }
 catch (  NullPointerException e) {
  }
  Assert.assertArrayEquals(new String[]{"/apps/","/libs/"},resourceResolver.getSearchPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_versions() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  Resource resource=resourceResolver.resolve("/content/test.html;v=1.0");
  Map<String,String> parameters=resource.getResourceMetadata().getParameterMap();
  assertEquals("/content/test.html",resource.getPath());
  assertEquals("test.html",resource.getName());
  assertEquals(Collections.singletonMap("v","1.0"),parameters);
  resource=resourceResolver.resolve("/content/test;v='1.0'.html");
  parameters=resource.getResourceMetadata().getParameterMap();
  assertEquals("/content/test.html",resource.getPath());
  assertEquals("test.html",resource.getName());
  assertEquals(Collections.singletonMap("v","1.0"),parameters);
  buildResource("/single/test/withchildren",buildChildResources("/single/test/withchildren"),resourceResolver,resourceProvider);
  resource=resourceResolver.getResource("/single/test/withchildren;v='1.0'");
  assertNotNull(resource);
  assertEquals("/single/test/withchildren",resource.getPath());
  assertEquals("withchildren",resource.getName());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test getResource where path contains intermediate . verifying fix for SLING-864
 * @throws LoginException
 */
@Test public void testGetResourceSLING864() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  Assert.assertNotNull(resourceResolver);
  Resource singleResource=buildResource("/single/test.with/extra.dots/inthepath",EMPTY_RESOURCE_LIST,resourceResolver,resourceProvider);
  Resource resource=resourceResolver.getResource("/single/test.with/extra.dots/inthepath");
  Assert.assertEquals(singleResource,resource);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test getting a resolver.
 * @throws LoginException
 */
@Test public void testGetResolver() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  Assert.assertNotNull(resourceResolver);
  Map<String,Object> authenticationInfo=new HashMap<String,Object>();
  resourceResolver=resourceResolverFactory.getAdministrativeResourceResolver(authenticationInfo);
  Assert.assertNotNull(resourceResolver);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResources() throws LoginException {
  final int n=3;
  String[] languages=new String[]{FAKE_QUERY_LANGUAGE};
  Mockito.when(queryProvider.getSupportedLanguages(Mockito.any(ResolverContext.class))).thenReturn(languages);
  Mockito.when(queryProvider.queryResources(Mockito.any(ResolverContext.class),Mockito.any(String.class),Mockito.any(String.class))).thenReturn(buildValueMapCollection(n,"A_").iterator());
  final ResourceResolver rr=resourceResolverFactory.getResourceResolver(null);
  buildResource("/search/test/withchildren",buildChildResources("/search/test/withchildren"),rr,resourceProvider);
  final Iterator<Map<String,Object>> it=rr.queryResources("/search",FAKE_QUERY_LANGUAGE);
  final Set<String> toFind=new HashSet<String>();
  for (int i=0; i < n; i++) {
    toFind.add("A_" + i);
  }
  assertTrue("Expecting non-empty result (" + n + ")",it.hasNext());
  while (it.hasNext()) {
    final Map<String,Object> m=it.next();
    toFind.remove(m.get(PATH));
  }
  assertTrue("Expecting no leftovers (" + n + ") in"+ toFind,toFind.isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Test various administrative resource resolvers.
 * @throws LoginException
 */
@Test public void testGetAuthenticatedResolve() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getAdministrativeResourceResolver(null);
  Assert.assertNotNull(resourceResolver);
  Map<String,Object> authenticationInfo=new HashMap<String,Object>();
  resourceResolver=resourceResolverFactory.getAdministrativeResourceResolver(authenticationInfo);
  Assert.assertNotNull(resourceResolver);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
/** 
 * Basic test of mapping functionality, at the moment needs more
 * configuration in the virtual /etc/map.
 * @throws LoginException
 */
@Test public void testMapping() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  buildResource("/single/test",EMPTY_RESOURCE_LIST,resourceResolver,resourceProvider);
  HttpServletRequest request=Mockito.mock(HttpServletRequest.class);
  Mockito.when(request.getScheme()).thenReturn("http");
  Mockito.when(request.getServerPort()).thenReturn(80);
  Mockito.when(request.getServerName()).thenReturn("localhost");
  String path=resourceResolver.map(request,"/single/test?q=123123");
  Assert.assertEquals("/single/test?q=123123",path);
  path=resourceResolver.map(request,"/single/test");
  Assert.assertEquals("/single/test",path);
  path=resourceResolver.map("/single/test");
  Assert.assertEquals("/single/test",path);
  buildResource("/content",EMPTY_RESOURCE_LIST,resourceResolver,resourceProvider);
  path=resourceResolver.map("/content.html");
  Assert.assertEquals("/content.html",path);
}

</code></pre>

<br>
<pre class="type-15 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests list children via the resource (NB, this doesn't really test the
 * resource resolver at all, but validates this unit test.)
 * @throws LoginException
 */
@Test public void testListChildren() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  buildResource("/single/test/withchildren",buildChildResources("/single/test/withchildren"),resourceResolver,resourceProvider);
  Resource resource=resourceResolver.getResource("/single/test/withchildren");
  Assert.assertNotNull(resource);
  Iterator<Resource> resourceIterator=resource.listChildren();
  Assert.assertNotNull(resourceResolver);
  int i=0;
  while (resourceIterator.hasNext()) {
    Assert.assertEquals("m" + i,resourceIterator.next().getName());
    i++;
  }
  Assert.assertEquals(5,i);
}

</code></pre>

<br>
<pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Before public void before() throws LoginException {
  activator=new ResourceResolverFactoryActivator();
  Mockito.when(componentContext.getProperties()).thenReturn(buildBundleProperties());
  Mockito.when(componentContext.getBundleContext()).thenReturn(bundleContext);
  activator.resourceAccessSecurityTracker=new ResourceAccessSecurityTracker();
  activator.resourceProviderTracker=resourceProviderTracker;
  activator.changeListenerWhiteboard=resourceChangeListenerWhiteboard;
  handlers.add(createRPHandler(resourceProvider,"org.apache.sling.resourceresolver.impl.DummyTestProvider",10L,"/single"));
  buildMappingResource("/etc/map",mappingResourceProvider,null);
  handlers.add(createRPHandler(mappingResourceProvider,"org.apache.sling.resourceresolver.impl.MapProvider",11L,"/etc"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",12L,"/libs"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",13L,"/apps"));
  handlers.add(createRPHandler(queriableResourceProviderA,"org.apache.sling.resourceresolver.impl.QueriableResourceProviderA",14L,"/searchA"));
  Mockito.when(queriableResourceProviderA.getQueryLanguageProvider()).thenReturn(queryProvider);
  ResourceProviderStorage storage=new ResourceProviderStorage(handlers);
  Mockito.when(resourceProviderTracker.getResourceProviderStorage()).thenReturn(storage);
  activator.activate(componentContext);
  Mockito.when(usingBundle.getBundleContext()).thenReturn(usingBundleContext);
  Mockito.when(usingBundleContext.getBundle()).thenReturn(usingBundle);
  ArgumentCaptor<String> classesCaptor=ArgumentCaptor.forClass(String.class);
  ArgumentCaptor serviceCaptor=ArgumentCaptor.forClass(Object.class);
  @SuppressWarnings("rawtypes") ArgumentCaptor<Dictionary> propertiesCaptor=ArgumentCaptor.forClass(Dictionary.class);
  Mockito.verify(bundleContext,Mockito.atLeastOnce()).registerService(classesCaptor.capture(),serviceCaptor.capture(),propertiesCaptor.capture());
  int si=0;
  List serviceList=serviceCaptor.getAllValues();
  @SuppressWarnings({"unused","rawtypes"}) List<Dictionary> servicePropertiesList=propertiesCaptor.getAllValues();
  for (  String serviceName : classesCaptor.getAllValues()) {
    services.put(serviceName,serviceList.get(si));
    serviceProperties.put(serviceName,serviceProperties.get(si));
    si++;
  }
  Assert.assertNotNull(services.get(ResourceResolverFactory.class.getName()));
  Object rrf=services.get(ResourceResolverFactory.class.getName());
  if (rrf instanceof ServiceFactory) {
    rrf=((ServiceFactory)rrf).getService(usingBundle,null);
  }
  Assert.assertTrue(rrf instanceof ResourceResolverFactoryImpl);
  resourceResolverFactory=(ResourceResolverFactoryImpl)rrf;
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests listing children via the resource resolver getChildren call.
 * @throws LoginException
 */
@Test public void testResourceResolverGetChildren() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  buildResource("/single/test/withchildren",buildChildResources("/single/test/withchildren"),resourceResolver,resourceProvider);
  Resource resource=resourceResolver.getResource("/single/test/withchildren");
  Assert.assertNotNull(resource);
  Iterable<Resource> resourceIterator=resourceResolver.getChildren(resource);
  Assert.assertNotNull(resourceResolver);
  int i=0;
  for (  Resource r : resourceIterator) {
    Assert.assertEquals("m" + i,r.getName());
    i++;
  }
  Assert.assertEquals(5,i);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test search paths
 * @throws LoginException
 */
@Test public void testRelativeResource() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  Assert.assertNotNull(resourceResolver);
  Resource appResource=buildResource("/apps/store/inventory",EMPTY_RESOURCE_LIST,resourceResolver,appsResourceProvider);
  Resource libResource=buildResource("/libs/store/catalog",EMPTY_RESOURCE_LIST,resourceResolver,appsResourceProvider);
  Resource testResource=resourceResolver.getResource("store/inventory");
  Assert.assertEquals(appResource,testResource);
  testResource=resourceResolver.getResource("store/catalog");
  Assert.assertEquals(libResource,testResource);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test getResource for a resource provided by a resource provider.
 * @throws LoginException
 */
@Test public void testGetResource() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  Assert.assertNotNull(resourceResolver);
  Resource singleResource=buildResource("/single/test",EMPTY_RESOURCE_LIST,resourceResolver,resourceProvider);
  Resource resource=resourceResolver.getResource("/single/test");
  Assert.assertEquals(singleResource,resource);
}

</code></pre>

<br>
<pre class="type-15 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test listing children via the resource resolver listChildren call.
 * @throws LoginException
 */
@Test public void testResourceResolverListChildren() throws LoginException {
  ResourceResolver resourceResolver=resourceResolverFactory.getResourceResolver(null);
  buildResource("/single/test/withchildren",buildChildResources("/single/test/withchildren"),resourceResolver,resourceProvider);
  Resource resource=resourceResolver.getResource("/single/test/withchildren");
  Assert.assertNotNull(resource);
  Iterator<Resource> resourceIterator=resourceResolver.listChildren(resource);
  Assert.assertNotNull(resourceResolver);
  int i=0;
  while (resourceIterator.hasNext()) {
    Assert.assertEquals("m" + i,resourceIterator.next().getName());
    i++;
  }
  Assert.assertEquals(5,i);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ProviderHandlerTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testServletRegistrationAndSyntheticResources() throws LoginException {
  final String servletpath="/libs/a/b/GET.servlet";
  final Resource servletResource=Mockito.mock(Resource.class);
  Mockito.when(servletResource.getResourceMetadata()).then(new Answer<ResourceMetadata>(){
    @Override public ResourceMetadata answer(    InvocationOnMock invocation) throws Throwable {
      return new ResourceMetadata();
    }
  }
);
  final ResourceProvider<?> leaveProvider=Mockito.mock(ResourceProvider.class);
  Mockito.when(leaveProvider.getResource(Mockito.any(ResolverContext.class),Mockito.eq(servletpath),Mockito.any(ResourceContext.class),Mockito.any(Resource.class))).thenReturn(servletResource);
  ResourceProviderHandler h=createRPHandler(leaveProvider,"my-pid",0,servletpath);
  ResourceResolver resolver=new ResourceResolverImpl(new CommonResourceResolverFactoryImpl(new ResourceResolverFactoryActivator()),false,null,new ResourceProviderStorage(Arrays.asList(h)));
  final Resource parent=resolver.getResource(ResourceUtil.getParent(servletpath));
  assertNotNull("Parent must be available",parent);
  assertTrue("Resource should be synthetic",ResourceUtil.isSyntheticResource(parent));
  final Resource servlet=resolver.getResource(servletpath);
  assertNotNull("Servlet resource must not be null",servlet);
  assertEquals(servletResource,servlet);
  assertNotNull(resolver.getResource("/libs"));
  assertTrue(resolver.resolve("/libs") instanceof NonExistingResource);
  assertTrue(resolver.resolve(ResourceUtil.getParent(servletpath)) instanceof NonExistingResource);
  assertNotNull(resolver.resolve(servletpath));
  resolver.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverImplTest </h4><pre class="type-6 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testCloseWithStackTraceLogging() throws Exception {
  ResourceResolverFactoryActivator rrfa=spy(new ResourceResolverFactoryActivator());
  Whitebox.setInternalState(rrfa,"logResourceResolverClosing",true);
  CommonResourceResolverFactoryImpl crrfi=new CommonResourceResolverFactoryImpl(rrfa);
  final ResourceResolver rr=new ResourceResolverImpl(crrfi,false,null,resourceProviderTracker.getResourceProviderStorage());
  assertTrue(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  try {
    rr.adaptTo(Session.class);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.clone(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.findResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttribute("a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttributeNames();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null,"/a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getSearchPath();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getUserID();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.listChildren(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map("/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map(null,"/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.queryResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve((HttpServletRequest)null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve("/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve(null,"/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SlingException.class) public void testIsResourceCyclicHierarchyIndirect(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/3"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/3","/types/component","/types/1"));
  Resource resource=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/2"));
  assertTrue(resolver.isResourceType(resource,"/types/3"));
  resolver.isResourceType(resource,"/types/unknown");
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_clone_based_on_anonymous() throws Exception {
  final ResourceResolver anon0=resFac.getResourceResolver((Map<String,Object>)null);
  final Session anon0Session=anon0.adaptTo(Session.class);
  assertNull("Session should not be available",anon0Session);
  assertEquals(null,anon0.getUserID());
  final ResourceResolver anon1=anon0.clone(null);
  final Session anon1Session=anon1.adaptTo(Session.class);
  assertEquals(anon0.getUserID(),anon1.getUserID());
  assertNull("Session should not be available",anon1Session);
  anon1.close();
  final Map<String,Object> admin0Cred=new HashMap<String,Object>();
  admin0Cred.put(ResourceResolverFactory.USER,"admin");
  admin0Cred.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  final ResourceResolver admin0=anon0.clone(admin0Cred);
  assertEquals("admin",admin0.getUserID());
  admin0.close();
  anon0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_clone_based_on_admin() throws Exception {
  final ResourceResolver admin0=resFac.getAdministrativeResourceResolver((Map<String,Object>)null);
  assertEquals(null,admin0.getUserID());
  final ResourceResolver admin1=admin0.clone(null);
  assertEquals(admin0.getUserID(),admin1.getUserID());
  admin1.close();
  final Map<String,Object> anon0Cred=new HashMap<String,Object>();
  anon0Cred.put(ResourceResolverFactory.USER,"anonymous");
  final ResourceResolver anon0=admin0.clone(anon0Cred);
  assertEquals("anonymous",anon0.getUserID());
  anon0.close();
  admin0.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_getResourceSuperType(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  final Resource r=resolver.add(new SyntheticResource(resolver,"/a","a:b"));
  final Resource r2=resolver.add(new SyntheticResource(resolver,"/a2","a:c"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/a/b","x:y","t:c"));
  assertEquals("t:c",resolver.getParentResourceType(r.getResourceType()));
  assertNull(resolver.getParentResourceType(r2.getResourceType()));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SlingException.class) public void testIsResourceCyclicHierarchyDirect(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/1"));
  Resource resource=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/2"));
  resolver.isResourceType(resource,"/types/unknown");
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceType(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  final Resource r=resolver.add(new SyntheticResourceWithSupertype(resolver,"/a","a:b","d:e"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/d/e","x:y","t:c"));
  assertTrue(resolver.isResourceType(r,"a:b"));
  assertTrue(resolver.isResourceType(r,"d:e"));
  assertFalse(resolver.isResourceType(r,"x:y"));
  assertTrue(resolver.isResourceType(r,"t:c"));
  assertFalse(resolver.isResourceType(r,"h:p"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceTypeWithPaths(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/3"));
  resolver.add(new SyntheticResource(resolver,"/types/3","/types/component"));
  Resource resourceT1=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  Resource resourceT2=resolver.add(new SyntheticResource(resolver,"/resourceT2","/types/2"));
  Resource resourceT3=resolver.add(new SyntheticResource(resolver,"/resourceT3","/types/3"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/1"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT1,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT1,"/types/unknown"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/1"));
  assertTrue(resolver.isResourceType(resourceT2,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT2,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/unknown"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/1"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT3,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/unknown"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=resFac.getResourceResolver(authInfo);
  assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
  assertEquals(999,rr.getAttribute("testAttributeNumber"));
  assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
  assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
  final HashSet<String> validNames=new HashSet<String>();
  validNames.add(ResourceResolverFactory.USER);
  validNames.add("testAttributeString");
  validNames.add("testAttributeNumber");
  final Iterator<String> names=rr.getAttributeNames();
  assertTrue(validNames.remove(names.next()));
  assertTrue(validNames.remove(names.next()));
  assertTrue(validNames.remove(names.next()));
  assertFalse("Expect no more names",names.hasNext());
  assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  rr.close();
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testBasicAPIAssumptions() throws Exception {
  final Resource res00=resResolver.resolve((String)null);
  assertNotNull(res00);
  assertTrue("Resource must be NonExistingResource",res00 instanceof NonExistingResource);
  assertEquals("Null path is expected to return root","/",res00.getPath());
  final String path01="relPath/relPath";
  final Resource res01=resResolver.resolve(path01);
  assertNotNull(res01);
  assertEquals("Expecting absolute path for relative path","/" + path01,res01.getPath());
  assertTrue("Resource must be NonExistingResource",res01 instanceof NonExistingResource);
  final String no_resource_path="/no_resource/at/this/location";
  final Resource res02=resResolver.resolve(no_resource_path);
  assertNotNull(res02);
  assertEquals("Expecting absolute path for relative path",no_resource_path,res02.getPath());
  assertTrue("Resource must be NonExistingResource",res01 instanceof NonExistingResource);
  try {
    resResolver.resolve((HttpServletRequest)null);
    fail("Expected NullPointerException trying to resolve null request");
  }
 catch (  NullPointerException npe) {
  }
  final Resource res0=resResolver.resolve(null,no_resource_path);
  assertNotNull("Expecting resource if resolution fails",res0);
  assertTrue("Resource must be NonExistingResource",res0 instanceof NonExistingResource);
  assertEquals("Path must be the original path",no_resource_path,res0.getPath());
  final HttpServletRequest req1=mock(HttpServletRequest.class);
  when(req1.getProtocol()).thenReturn("http");
  when(req1.getServerName()).thenReturn("localhost");
  when(req1.getPathInfo()).thenReturn(no_resource_path);
  final Resource res1=resResolver.resolve(req1);
  assertNotNull("Expecting resource if resolution fails",res1);
  assertTrue("Resource must be NonExistingResource",res1 instanceof NonExistingResource);
  assertEquals("Path must be the original path",no_resource_path,res1.getPath());
  final HttpServletRequest req2=mock(HttpServletRequest.class);
  when(req2.getProtocol()).thenReturn("http");
  when(req2.getServerName()).thenReturn("localhost");
  when(req2.getPathInfo()).thenReturn(null);
  final Resource res2=resResolver.resolve(req2);
  assertNotNull("Expecting resource if resolution fails",res2);
  assertTrue("Resource must be NonExistingResource",res2 instanceof NonExistingResource);
  assertEquals("Path must be the the root path","/",res2.getPath());
  final Resource res3=resResolver.getResource(null);
  assertNull("Expected null resource for null path",res3);
  final Resource res4=resResolver.getResource(null,null);
  assertNull("Expected null resource for null path",res4);
  final Resource res5=resResolver.getResource(res01,null);
  assertNull("Expected null resource for null path",res5);
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testClose() throws Exception {
  final ResourceResolver rr=new ResourceResolverImpl(commonFactory,false,null,resourceProviderTracker.getResourceProviderStorage());
  assertTrue(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  try {
    rr.adaptTo(Session.class);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.clone(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.findResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttribute("a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttributeNames();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null,"/a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getSearchPath();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getUserID();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.listChildren(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map("/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map(null,"/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.queryResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve((HttpServletRequest)null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve("/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve(null,"/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverMangleNamespacesTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmangleNoSession(){
  activeSession=null;
  final Resource r=rr.resolve(null,"http://example.com/path/_with_mangling");
  assertEquals("/http://example.com/path/_with_mangling",r.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmanglePath(){
  final Resource r=rr.resolve(null,"/example.com/path/_with_mangling");
  assertEquals("/example.com/path/with:mangling",r.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUnmangleHttp(){
  final Resource r=rr.resolve(null,"http://example.com/path/_with_mangling");
  assertEquals("/http://example.com/path/with:mangling",r.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUrlNoPath(){
  assertEquals("http://withSlash.com/",rr.map("http://withSlash.com/"));
  assertEquals("http://noSlash.com",rr.map("http://noSlash.com"));
  assertEquals("http://nosuffix",rr.map("http://nosuffix"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWeirdCases(){
  assertEquals("http://foo",rr.map("http://foo"));
  assertEquals("http://",rr.map("http://"));
  assertEquals("http:/",rr.map("http:/"));
  assertEquals("http:",rr.map("http:"));
  assertEquals("http",rr.map("http"));
  assertEquals("gopher://foo",rr.map("gopher://foo"));
  assertEquals("gopher://",rr.map("gopher://"));
  assertEquals("gopher:/",rr.map("gopher:/"));
  assertEquals("gopher:",rr.map("gopher:"));
  assertEquals("gopher",rr.map("gopher"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.helper.RedirectResourceTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRedirectResource(){
  final String path="/redir/path";
  final String target="/redir/target";
  final int status=999;
  final RedirectResource res=new RedirectResource(null,path,target,status);
  assertEquals(path,res.getPath());
  assertEquals(RedirectResource.RT_SLING_REDIRECT,res.getResourceType());
  final Map<?,?> map=res.adaptTo(Map.class);
  assertNotNull("Expected Map adapter",map);
  assertEquals(target,map.get(RedirectResource.PROP_SLING_TARGET));
  assertEquals(status,((Integer)map.get(RedirectResource.PROP_SLING_STATUS)).intValue());
  final ValueMap valueMap=res.adaptTo(ValueMap.class);
  assertNotNull("Expected ValueMap adapter",valueMap);
  assertEquals(target,valueMap.get(RedirectResource.PROP_SLING_TARGET));
  assertEquals(status,((Integer)valueMap.get(RedirectResource.PROP_SLING_STATUS)).intValue());
  assertEquals(status,valueMap.get(RedirectResource.PROP_SLING_STATUS,Integer.class).intValue());
  final PersistableValueMap persistableValueMap=res.adaptTo(PersistableValueMap.class);
  assertNull("Unexpected PersistableValueMap adapter",persistableValueMap);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.helper.ResourceResolverControlTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies that a resource is returned when it should be
 */
@Test public void getResource_found(){
  assertThat(crp.getResource(context,"/something",null,null,false),not(nullValue()));
  assertThat(crp.getResource(context,"/some/path/object",null,null,false),not(nullValue()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies moving resources between different ResourceProviders
 * @throws PersistenceException persistence exception
 */
@Test public void move_differentProvider() throws PersistenceException {
  Resource newRes=newMockResource("/object");
  when(rootProvider.create(mockContext(),Mockito.eq("/object"),Mockito.anyMap())).thenReturn(newRes);
  Resource resource=crp.move(context,"/some/path/object","/");
  assertThat(resource,not(nullValue()));
  verify(subProvider).delete(mockContext(),Mockito.eq(subProviderResource));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that a synthetic parent is returned for a resource without an actual parent
 */
@Test public void getParent_synthetic(){
  Resource parent=crp.getParent(context,subProviderResource);
  assertThat(parent,notNullValue());
  assertTrue("parent is a synthetic resource",ResourceUtil.isSyntheticResource(parent));
}

</code></pre>

<br>
<pre class="type-15 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies finding resources
 */
@Test public void findResource() throws PersistenceException {
  Iterator<Resource> resources=crp.findResources(QUERY_MOCK_FIND_ALL,QL_MOCK);
  int count=0;
  while (resources.hasNext()) {
    assertThat("resources[0].path",resources.next().getPath(),equalTo("/some/path/object"));
    count++;
  }
  assertThat("query result count",count,Matchers.equalTo(1));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies that the existing parent of a resource is found
 */
@Test public void getParent_found(){
  Resource parent=crp.getParent(context,somethingResource);
  assertThat(parent,notNullValue());
  assertThat("parent.path",parent.getPath(),equalTo("/"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies copying resources between different ResourceProviders
 * @throws PersistenceException persistence exception
 */
@Test public void copy_differentProvider() throws PersistenceException {
  Resource newRes=newMockResource("/object");
  when(rootProvider.create(mockContext(),Mockito.eq("/object"),Mockito.anyMap())).thenReturn(newRes);
  Resource resource=crp.copy(context,"/some/path/object","/");
  assertThat(resource,not(nullValue()));
}

</code></pre>

<br>
<pre class="type-15 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies running a query
 */
@Test public void queryResources() throws PersistenceException {
  Iterator<Map<String,Object>> queryResources=crp.queryResources(QUERY_MOCK_FIND_ALL,QL_MOCK);
  int count=0;
  while (queryResources.hasNext()) {
    assertThat("ValueMap returned from query",queryResources.next(),hasEntry("key",(Object)"value"));
    count++;
  }
  assertThat("query result count",count,Matchers.equalTo(1));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies moving resources between the same ResourceProvider
 * @throws PersistenceException persistence exception
 */
@Test public void move_sameProvider() throws PersistenceException {
  when(subProvider.move(mockContext(),Mockito.eq("/some/path/object"),Mockito.eq("/some/path/new"))).thenReturn(true);
  configureResourceAt(subProvider,"/some/path/new/object");
  configureResourceAt(subProvider,"/some/path/new");
  Resource resource=crp.move(context,"/some/path/object","/some/path/new");
  assertThat(resource,not(nullValue()));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
/** 
 * Verifies copying resources between the same ResourceProvider
 * @throws PersistenceException persistence exception
 */
@Test public void copy_sameProvider() throws PersistenceException {
  when(subProvider.copy(mockContext(),Mockito.eq("/some/path/object"),Mockito.eq("/some/path/new"))).thenReturn(true);
  configureResourceAt(subProvider,"/some/path/new/object");
  configureResourceAt(subProvider,"/some/path/new");
  Resource resource=crp.copy(context,"/some/path/object","/some/path/new");
  assertThat(resource,not(nullValue()));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verifies that a synthetic resource is returned for a path which holds no
 * actual resource but is an ancestor of another resource provider
 */
@Test public void getResource_synthetic(){
  Resource resource=crp.getResource(context,"/some",null,null,false);
  assertTrue("Not a syntethic resource : " + resource,ResourceUtil.isSyntheticResource(resource));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.helper.URI2Test </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCreate(){
  URI u=new URI("http","//localhost:8080/to/a/resource","fragment");
  Assert.assertEquals("http://localhost:8080/to/a/resource",u.toString());
  u=new URI("http://localhost:8080/to/a/r%20e%20s%20o%20u%20r%20c%20e",true,"UTF-8");
  Assert.assertEquals("http://localhost:8080/to/a/r%20e%20s%20o%20u%20r%20c%20e",u.toString());
  u=new URI("http://localhost:8080/to/a/r e s o u r c e",false,"UTF-8");
  Assert.assertEquals("http://localhost:8080/to/a/r%20e%20s%20o%20u%20r%20c%20e",u.toString());
  Assert.assertEquals("r%20e%20s%20o%20u%20r%20c%20e",new String(u.getRawName()));
  Assert.assertEquals("/to/a/r%20e%20s%20o%20u%20r%20c%20e",new String(u.getRawPathQuery()));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testClone() throws CloneNotSupportedException {
  URI url=new URI("http://jakarta.apache.org",false);
  URI uriClone=(URI)url.clone();
  Assert.assertEquals(url,uriClone);
  Assert.assertEquals(url.hashCode(),uriClone.hashCode());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.MapEntriesTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_that_duplicate_alias_doesnt_replace_first_alias(){
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  final Resource secondResult=mock(Resource.class);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:alias")) {
        return Arrays.asList(result,secondResult).iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMap);
  assertTrue(aliasMap.containsKey("alias"));
  assertEquals("child",aliasMap.get("alias"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias4() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent")).thenReturn(null);
  method1.invoke(mapEntries,"/parent",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddVanity_1() throws Exception {
  Field field1=MapEntries.class.getDeclaredField("maxCachedVanityPathEntries");
  field1.setAccessible(true);
  field1.set(mapEntries,10);
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(0,entries.size());
  Field field=MapEntries.class.getDeclaredField("vanityTargets");
  field.setAccessible(true);
  Map<String,List<String>> vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(0,vanityTargets.size());
  Method method=MapEntries.class.getDeclaredMethod("doAddVanity",String.class);
  method.setAccessible(true);
  Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(resourceResolver.getResource("/justVanityPath")).thenReturn(justVanityPath);
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  method.invoke(mapEntries,"/justVanityPath");
  entries=mapEntries.getResolveMaps();
  assertEquals(2,entries.size());
  Field vanityCounter=MapEntries.class.getDeclaredField("vanityCounter");
  vanityCounter.setAccessible(true);
  AtomicLong counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(2,counter.longValue());
  Resource badVanityPath=mock(Resource.class,"badVanityPath");
  when(resourceResolver.getResource("/badVanityPath")).thenReturn(badVanityPath);
  when(badVanityPath.getPath()).thenReturn("/badVanityPath");
  when(badVanityPath.getName()).thenReturn("badVanityPath");
  when(badVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/content/mypage/en-us-{132"));
  method.invoke(mapEntries,"/badVanityPath");
  assertEquals(2,entries.size());
  vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(1,vanityTargets.size());
  Resource vanityPathOnJcrContentParent=mock(Resource.class,"vanityPathOnJcrContentParent");
  when(vanityPathOnJcrContentParent.getPath()).thenReturn("/vanityPathOnJcrContent");
  when(vanityPathOnJcrContentParent.getName()).thenReturn("vanityPathOnJcrContent");
  Resource vanityPathOnJcrContent=mock(Resource.class,"vanityPathOnJcrContent");
  when(resourceResolver.getResource("/vanityPathOnJcrContent/jcr:content")).thenReturn(vanityPathOnJcrContent);
  when(vanityPathOnJcrContent.getPath()).thenReturn("/vanityPathOnJcrContent/jcr:content");
  when(vanityPathOnJcrContent.getName()).thenReturn("jcr:content");
  when(vanityPathOnJcrContent.getParent()).thenReturn(vanityPathOnJcrContentParent);
  when(vanityPathOnJcrContent.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/vanityPathOnJcrContent"));
  method.invoke(mapEntries,"/vanityPathOnJcrContent/jcr:content");
  entries=mapEntries.getResolveMaps();
  assertEquals(4,entries.size());
  counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(4,counter.longValue());
  vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(2,vanityTargets.size());
  assertNull(vanityTargets.get("/vanityPathOnJcrContent/jcr:content"));
  assertNotNull(vanityTargets.get("/vanityPathOnJcrContent"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_simple_alias_support(){
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:alias")) {
        return Collections.singleton(result).iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMap);
  assertTrue(aliasMap.containsKey("alias"));
  assertEquals("child",aliasMap.get("alias"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_vanity_path_registration_include_exclude() throws IOException {
  final String[] validPaths={"/libs/somewhere","/libs/a/b","/foo/a","/baa/a"};
  final String[] invalidPaths={"/libs/denied/a","/libs/denied/b/c","/nowhere"};
  final List<Resource> resources=new ArrayList<Resource>();
  for (  final String val : validPaths) {
    resources.add(getVanityPathResource(val));
  }
  for (  final String val : invalidPaths) {
    resources.add(getVanityPathResource(val));
  }
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:vanityPath")) {
        return resources.iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  mapEntries.initializeVanityPaths();
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(validPaths.length * 2,entries.size());
  final Set<String> resultSet=new HashSet<String>();
  for (  final String p : validPaths) {
    resultSet.add(p + "$1");
    resultSet.add(p + ".html");
  }
  for (  final MapEntry entry : entries) {
    assertTrue(resultSet.remove(entry.getRedirect()[0]));
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias5() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/jcr:content",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/jcr:content",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doUpdateAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doUpdateAttributes",String.class,String[].class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertFalse(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasUpdated"));
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertFalse(aliasMapEntry.containsKey("alias"));
  assertTrue(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasUpdated"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertFalse(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("alias"));
  assertTrue(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasUpdated"));
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias2"));
  method.invoke(mapEntries,"/parent/child2");
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(3,aliasMapEntry.size());
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(3,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias",null));
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_getMapEntryList() throws Exception {
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(0,entries.size());
  final Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(resourceResolver.getResource("/justVanityPath")).thenReturn(justVanityPath);
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:vanityPath")) {
        return Collections.singleton(justVanityPath).iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  Method method=MapEntries.class.getDeclaredMethod("getMapEntryList",String.class);
  method.setAccessible(true);
  method.invoke(mapEntries,"/target/justVanityPath");
  entries=mapEntries.getResolveMaps();
  assertEquals(2,entries.size());
  Field vanityCounter=MapEntries.class.getDeclaredField("vanityCounter");
  vanityCounter.setAccessible(true);
  AtomicLong counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(2,counter.longValue());
  method.invoke(mapEntries,"/target/justVanityPath");
  entries=mapEntries.getResolveMaps();
  assertEquals(2,entries.size());
  counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(2,counter.longValue());
}

</code></pre>

<br>
<pre class="type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_vanity_path_registration() throws Exception {
  int DEFAULT_VANITY_STATUS=333333;
  when(resourceResolverFactory.getDefaultVanityPathRedirectStatus()).thenReturn(DEFAULT_VANITY_STATUS);
  final List<Resource> resources=new ArrayList<Resource>();
  Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  resources.add(justVanityPath);
  Resource badVanityPath=mock(Resource.class,"badVanityPath");
  when(badVanityPath.getPath()).thenReturn("/badVanityPath");
  when(badVanityPath.getName()).thenReturn("badVanityPath");
  when(badVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/content/mypage/en-us-{132"));
  resources.add(badVanityPath);
  Resource redirectingVanityPath=mock(Resource.class,"redirectingVanityPath");
  when(redirectingVanityPath.getPath()).thenReturn("/redirectingVanityPath");
  when(redirectingVanityPath.getName()).thenReturn("redirectingVanityPath");
  when(redirectingVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/redirectingVanityPath","sling:redirect",true));
  resources.add(redirectingVanityPath);
  Resource redirectingVanityPath301=mock(Resource.class,"redirectingVanityPath301");
  when(redirectingVanityPath301.getPath()).thenReturn("/redirectingVanityPath301");
  when(redirectingVanityPath301.getName()).thenReturn("redirectingVanityPath301");
  when(redirectingVanityPath301.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/redirectingVanityPath301","sling:redirect",true,"sling:redirectStatus",301));
  resources.add(redirectingVanityPath301);
  Resource vanityPathOnJcrContentParent=mock(Resource.class,"vanityPathOnJcrContentParent");
  when(vanityPathOnJcrContentParent.getPath()).thenReturn("/vanityPathOnJcrContent");
  when(vanityPathOnJcrContentParent.getName()).thenReturn("vanityPathOnJcrContent");
  Resource vanityPathOnJcrContent=mock(Resource.class,"vanityPathOnJcrContent");
  when(vanityPathOnJcrContent.getPath()).thenReturn("/vanityPathOnJcrContent/jcr:content");
  when(vanityPathOnJcrContent.getName()).thenReturn("jcr:content");
  when(vanityPathOnJcrContent.getParent()).thenReturn(vanityPathOnJcrContentParent);
  when(vanityPathOnJcrContent.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/vanityPathOnJcrContent"));
  resources.add(vanityPathOnJcrContent);
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:vanityPath")) {
        return resources.iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  mapEntries.initializeVanityPaths();
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(8,entries.size());
  for (  MapEntry entry : entries) {
    if (entry.getPattern().contains("/target/redirectingVanityPath301")) {
      assertEquals(301,entry.getStatus());
      assertFalse(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/redirectingVanityPath")) {
      assertEquals(DEFAULT_VANITY_STATUS,entry.getStatus());
      assertFalse(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/justVanityPath")) {
      assertTrue(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/vanityPathOnJcrContent")) {
      for (      String redirect : entry.getRedirect()) {
        assertFalse(redirect.contains("jcr:content"));
      }
    }
  }
  Field field=MapEntries.class.getDeclaredField("vanityTargets");
  field.setAccessible(true);
  @SuppressWarnings("unchecked") Map<String,List<String>> vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(4,vanityTargets.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child2");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test_doAddAliasAttributesWithDisableAliasOptimization() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAttributes",String.class,String[].class,boolean.class);
  method.setAccessible(true);
  when(resourceResolverFactory.isOptimizeAliasResolutionEnabled()).thenReturn(false);
  mapEntries=new MapEntries(resourceResolverFactory,bundleContext,eventAdmin);
  Field field0=MapEntries.class.getDeclaredField("mapRoot");
  field0.setAccessible(true);
  field0.set(mapEntries,MapEntries.DEFAULT_MAP_ROOT);
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNull(aliasMap);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isValidVanityPath() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("isValidVanityPath",Resource.class);
  method.setAccessible(true);
  final Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/jcr:system/node");
  assertFalse((Boolean)method.invoke(mapEntries,resource));
  when(resource.getPath()).thenReturn("/justVanityPath");
  assertFalse((Boolean)method.invoke(mapEntries,resource));
  when(resource.adaptTo(ValueMap.class)).thenReturn(mock(ValueMap.class));
  assertTrue((Boolean)method.invoke(mapEntries,resource));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test_doRemoveAttributessWithDisableAliasOptimization() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method.setAccessible(true);
  when(resourceResolverFactory.isOptimizeAliasResolutionEnabled()).thenReturn(false);
  mapEntries=new MapEntries(resourceResolverFactory,bundleContext,eventAdmin);
  Field field0=MapEntries.class.getDeclaredField("mapRoot");
  field0.setAccessible(true);
  field0.set(mapEntries,MapEntries.DEFAULT_MAP_ROOT);
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false,false);
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNull(aliasMap);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias2() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddVanity() throws Exception {
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(0,entries.size());
  Field field=MapEntries.class.getDeclaredField("vanityTargets");
  field.setAccessible(true);
  Map<String,List<String>> vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(0,vanityTargets.size());
  Method method=MapEntries.class.getDeclaredMethod("doAddVanity",String.class);
  method.setAccessible(true);
  Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(resourceResolver.getResource("/justVanityPath")).thenReturn(justVanityPath);
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  method.invoke(mapEntries,"/justVanityPath");
  entries=mapEntries.getResolveMaps();
  assertEquals(2,entries.size());
  Field vanityCounter=MapEntries.class.getDeclaredField("vanityCounter");
  vanityCounter.setAccessible(true);
  AtomicLong counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(2,counter.longValue());
  Resource badVanityPath=mock(Resource.class,"badVanityPath");
  when(resourceResolver.getResource("/badVanityPath")).thenReturn(badVanityPath);
  when(badVanityPath.getPath()).thenReturn("/badVanityPath");
  when(badVanityPath.getName()).thenReturn("badVanityPath");
  when(badVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/content/mypage/en-us-{132"));
  method.invoke(mapEntries,"/badVanityPath");
  assertEquals(2,entries.size());
  vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(1,vanityTargets.size());
  Resource vanityPathOnJcrContentParent=mock(Resource.class,"vanityPathOnJcrContentParent");
  when(vanityPathOnJcrContentParent.getPath()).thenReturn("/vanityPathOnJcrContent");
  when(vanityPathOnJcrContentParent.getName()).thenReturn("vanityPathOnJcrContent");
  Resource vanityPathOnJcrContent=mock(Resource.class,"vanityPathOnJcrContent");
  when(resourceResolver.getResource("/vanityPathOnJcrContent/jcr:content")).thenReturn(vanityPathOnJcrContent);
  when(vanityPathOnJcrContent.getPath()).thenReturn("/vanityPathOnJcrContent/jcr:content");
  when(vanityPathOnJcrContent.getName()).thenReturn("jcr:content");
  when(vanityPathOnJcrContent.getParent()).thenReturn(vanityPathOnJcrContentParent);
  when(vanityPathOnJcrContent.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/vanityPathOnJcrContent"));
  method.invoke(mapEntries,"/vanityPathOnJcrContent/jcr:content");
  entries=mapEntries.getResolveMaps();
  assertEquals(4,entries.size());
  counter=(AtomicLong)vanityCounter.get(mapEntries);
  assertEquals(4,counter.longValue());
  vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(2,vanityTargets.size());
  assertNull(vanityTargets.get("/vanityPathOnJcrContent/jcr:content"));
  assertNotNull(vanityTargets.get("/vanityPathOnJcrContent"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddAlias2() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent2");
  when(secondResult.getName()).thenReturn("parent2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent2");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  method.invoke(mapEntries,"/parent/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/child");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/child")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias3() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  method.invoke(mapEntries,"/parent/child");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},true,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},true,false);
  assertEquals(0,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void test_doUpdateAttributesWithDisableAliasOptimization() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doUpdateAttributes",String.class,String[].class,boolean.class);
  method.setAccessible(true);
  when(resourceResolverFactory.isOptimizeAliasResolutionEnabled()).thenReturn(false);
  mapEntries=new MapEntries(resourceResolverFactory,bundleContext,eventAdmin);
  Field field0=MapEntries.class.getDeclaredField("mapRoot");
  field0.setAccessible(true);
  field0.set(mapEntries,MapEntries.DEFAULT_MAP_ROOT);
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNull(aliasMap);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.MapEntryTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_compareTo(){
  final MapEntry a=new MapEntry("/foo",200,false,5,new String[0]);
  final MapEntry b=new MapEntry("/bar",200,false,5,new String[0]);
  assertTrue(a.compareTo(b) > 0);
  assertTrue(b.compareTo(a) < 0);
  assertTrue(a.compareTo(a) == 0);
  assertTrue(b.compareTo(b) == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.params.PathParserTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multipleParametersCanBeEscaped(){
  parser.parse("/content/test;key1='a.b';key2='c.d'");
  assertEquals("/content/test",parser.getPath());
  assertEquals(map("key1","a.b","key2","c.d"),parser.getParameters());
  parser.parse("/content/test;key1='a.b';key2='c.d'.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1","a.b","key2","c.d"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void dotDoesntHaveToBeEscapedAfterExtension(){
  parser.parse("/content/test.html;v=1.0");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("v","1.0"),parser.getParameters());
  parser.parse("/content/test.html;v=1.0/suffix");
  assertEquals("/content/test.html/suffix",parser.getPath());
  assertEquals(map("v","1.0"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullParsesToNull(){
  parser.parse(null);
  assertNull(parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void multipleParametersAreAllowed(){
  parser.parse("/content/test;key1=xyz;key2=abc");
  assertEquals("/content/test",parser.getPath());
  assertEquals(map("key1","xyz","key2","abc"),parser.getParameters());
  parser.parse("/content/test;key1=xyz;key2=abc.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1","xyz","key2","abc"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parameterCanBeAddedAfterResource(){
  parser.parse("/content/test;key1=xyz");
  assertEquals("/content/test",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
  parser.parse("/content/test;key1=xyz.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noParametersReturnEmptyMap(){
  parser.parse("/path/with/no/parameters");
  assertEquals("/path/with/no/parameters",parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parameterCanBeEscaped(){
  parser.parse("/content/test;key1='xyz'");
  assertEquals("/content/test",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
  parser.parse("/content/test;key1='xyz'.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void emptyParsesToEmpty(){
  parser.parse("");
  assertEquals("",parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void parameterCanBeAddedAfterExtension(){
  parser.parse("/content/test.html;key1=xyz");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
  parser.parse("/content/test.html;key1=xyz/suffix");
  assertEquals("/content/test.html/suffix",parser.getPath());
  assertEquals(map("key1","xyz"),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void emptyValueIsAllowed(){
  parser.parse("/content/test;key1=''.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1",""),parser.getParameters());
  parser.parse("/content/test;key1=.html");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("key1",""),parser.getParameters());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void slashHaveToBeEscapedAfterExtension(){
  parser.parse("/content/test.html;v='1/0'");
  assertEquals("/content/test.html",parser.getPath());
  assertEquals(map("v","1/0"),parser.getParameters());
  parser.parse("/content/test.html;v='1/0'/suffix");
  assertEquals("/content/test.html/suffix",parser.getPath());
  assertEquals(map("v","1/0"),parser.getParameters());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.providers.ResourceProviderTrackerTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void activate(){
  assertThat(tracker.getResourceProviderStorage().getAllHandlers().size(),equalTo(2));
  fixture.unregisterResourceProvider(rp2Info);
  assertThat(tracker.getResourceProviderStorage().getAllHandlers().size(),equalTo(1));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void deactivate(){
  tracker.deactivate();
  assertThat(tracker.getResourceProviderStorage().getAllHandlers(),hasSize(0));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.providers.tree.PathTreeTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void bestMatchForInvalidPaths(){
  for (  String invalid : new String[]{null,"","not/absolute/path"}) {
    assertThat("getBestMatchingNode(" + invalid + ")",tree.getBestMatchingNode(invalid),Matchers.nullValue());
    assertThat("getNode(" + invalid + ")",tree.getNode(invalid),Matchers.nullValue());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.stateful.SecureResourceProviderDecoratorTest </h4><pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void find(){
  Iterator<Resource> resources=src.findResources("FIND ALL","MockQueryLanguage");
  assertThat("resources should contain at least one item",resources.hasNext(),equalTo(true));
  Resource resource=resources.next();
  assertThat("unexpected resource found",resource,equalTo(first));
  assertThat("resources should exactly at least one item",resources.hasNext(),equalTo(false));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.sample.slingshot.SlingshotUtilTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getUserId_noMatch(){
  Resource resource=context.resourceResolver().getResource("/slingshot/users");
  assertThat(SlingshotUtil.getUserId(resource),nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getUserId_exactPath(){
  Resource resource=context.resourceResolver().getResource("/slingshot/users/admin");
  assertThat(SlingshotUtil.getUserId(resource),equalTo("admin"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getUserId_deepPath(){
  Resource resource=context.resourceResolver().getResource("/slingshot/users/admin/content");
  assertThat(SlingshotUtil.getUserId(resource),equalTo("admin"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getContentPath_noMatch(){
  Resource resource=context.resourceResolver().getResource("/slingshot/users/admin");
  assertThat(SlingshotUtil.getContentPath(resource),nullValue());
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getContentPath_match(){
  Resource resource=context.resourceResolver().getResource("/slingshot/users/admin/content/hobby");
  assertThat(SlingshotUtil.getContentPath(resource),equalTo("/hobby"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.sample.slingshot.impl.SetupServiceTest </h4><pre class="type-11 type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void setup() throws Exception {
  context.load().json("/slingshot.json",SlingshotConstants.APP_ROOT_PATH);
  ConfigurationAdmin configAdmin=mock(ConfigurationAdmin.class);
  when(configAdmin.listConfigurations(anyString())).thenReturn(new Configuration[]{null});
  context.registerService(ConfigurationAdmin.class,configAdmin);
  context.registerInjectActivateService(new SetupService());
  Session adminSession=context.resourceResolver().adaptTo(Session.class);
  UserManager userManager=AccessControlUtil.getUserManager(adminSession);
  for (  String user : new String[]{"slingshot1","slingshot2",InternalConstants.SERVICE_USER_NAME}) {
    assertThat(userManager.getAuthorizable(user),notNullValue());
  }
  Resource resource=context.resourceResolver().getResource(SlingshotConstants.APP_ROOT_PATH);
  assertThat(resource,resourceOfType(RESOURCETYPE_HOME));
  assertThat(resource.getChild("users"),notNullValue());
  assertThat(resource.getChild("users/slingshot1"),resourceOfType(RESOURCETYPE_USER));
  assertThat(resource.getChild("users/slingshot1"),hasChildren("info","profile","ugc"));
  Session user=adminSession.impersonate(new SimpleCredentials("slingshot1","slingshot1".toCharArray()));
  assertThat(user.hasPermission(SlingshotConstants.APP_ROOT_PATH + "/users/slingshot1/info","read,add_node,set_property"),equalTo(true));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.sample.slingshot.ratings.impl.RatingPostServletTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void successfulSave() throws Exception {
  Map<String,Object> params=new HashMap<String,Object>();
  params.put(RatingsUtil.PROPERTY_RATING,"5");
  context.registerService(RatingsService.class,Mockito.mock(RatingsService.class));
  RatingPostServlet servlet=context.registerInjectActivateService(new RatingPostServlet());
  MockSlingHttpServletRequest request=context.request();
  request.setRemoteUser("admin");
  request.setParameterMap(params);
  request.setResource(context.create().resource(SlingshotConstants.APP_ROOT_PATH + "/content/admin/travel"));
  MockSlingHttpServletResponse response=new MockSlingHttpServletResponse();
  servlet.doPost(request,response);
  assertThat(response.getStatus(),Matchers.equalTo(SC_OK));
  String output=response.getOutputAsString();
  assertThat(output,equalTo("{  \"rating\" : 0}"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.sample.slingshot.ratings.impl.RatingServiceImplTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getRatingsResourcePath(){
  context.load().json("/slingshot.json",SlingshotConstants.APP_ROOT_PATH);
  RatingsServiceImpl service=new RatingsServiceImpl();
  Resource resource=context.resourceResolver().getResource(SlingshotConstants.APP_ROOT_PATH + "/users/admin/content/hobby");
  String ratingsResourcePath=service.getRatingsResourcePath(resource);
  assertThat(ratingsResourcePath,equalTo("/slingshot/users/admin/ugc/ratings/hobby"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void getRatingsResourcePath_missing(){
  context.load().json("/slingshot.json",SlingshotConstants.APP_ROOT_PATH);
  RatingsServiceImpl service=new RatingsServiceImpl();
  Resource resource=context.resourceResolver().getResource(SlingshotConstants.APP_ROOT_PATH + "/users/admin");
  String ratingsResourcePath=service.getRatingsResourcePath(resource);
  assertThat(ratingsResourcePath,nullValue());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.dependenciesinstall.MultiValuedResourceTypeTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test(){
  Resource res=resourceResolver.resolve(testPath);
  Assert.assertEquals("foo/bar",res.getResourceType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.pathbasedrtp.MappingTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLevel2(){
  final Mapping m=new Mapping("/content:3");
  assertEquals("bar1",m.getResourceType("/content/foo/bar1","nt:unstructured"));
  assertEquals("bar2",m.getResourceType("/content/foo/bar2/wii","nt:unstructured"));
  assertNull(m.getResourceType("/","nt:unstructured"));
  assertNull(m.getResourceType("/content","nt:unstructured"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodetypeRegexp(){
  final Mapping m=new Mapping("/content:2:(nt:(file|test))");
  assertNotNull("nt:file must match",m.getResourceType("/content/foo1","nt:file"));
  assertEquals("foo1",m.getResourceType("/content/foo1","nt:file"));
  assertNotNull("nt:test must match",m.getResourceType("/content/foo1","nt:test"));
  assertEquals("foo2",m.getResourceType("/content/foo2","nt:test"));
  assertNull(m.getResourceType("/content/foo1","nt:unstructured"));
  assertNull(m.getResourceType("/content/foo1","some:type"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodetypeString(){
  final Mapping m=new Mapping("/content:2:nt:file");
  assertNotNull("nt:file must match",m.getResourceType("/content/foo1","nt:file"));
  assertEquals("foo1",m.getResourceType("/content/foo1","nt:file"));
  assertNull(m.getResourceType("/content/foo1","nt:unstructured"));
  assertNull(m.getResourceType("/content/foo1","some:type"));
}

</code></pre>

<br>
<pre class="type-15 type-12 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleMapping(){
  final Mapping m=new Mapping("/content:2");
  final String[][] testCases={{"/content/foo","nt:unstructured","foo"},{"/content/foo/bar","nt:unstructured","foo"},{"/not/content/foo/bar","nt:unstructured",null},{"/content/foo/bar","nt:file",null}};
  for (int i=0; i < testCases.length; i++) {
    final String[] tc=testCases[i];
    if (tc[2] == null) {
      assertNull("At index " + i,m.getResourceType(tc[0],tc[1]));
    }
 else {
      assertEquals("At index " + i,tc[2],m.getResourceType(tc[0],tc[1]));
    }
  }
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLevel3(){
  final Mapping m=new Mapping("/content:3");
  assertEquals("bar1",m.getResourceType("/content/foo/bar1","nt:unstructured"));
  assertEquals("bar2",m.getResourceType("/content/foo/bar2/wii","nt:unstructured"));
  assertEquals("bar3",m.getResourceType("/content/foo/bar3/wii2/xx","nt:unstructured"));
  assertNull(m.getResourceType("/","nt:unstructured"));
  assertNull(m.getResourceType("/content","nt:unstructured"));
  assertNull(m.getResourceType("/content/foo","nt:unstructured"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.urlfilter.impl.UrlFilterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void null_selector(){
  UrlFilter filter=new UrlFilter();
  final RequestPathInfo testInfo=context.mock(RequestPathInfo.class);
  this.context.checking(new Expectations(){
{
      allowing(testInfo).getSelectorString();
      will(returnValue(null));
    }
  }
);
  assertTrue(filter.checkSelector(testInfo,null));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void non_null_selector(){
  UrlFilter filter=new UrlFilter();
  final RequestPathInfo testInfo=context.mock(RequestPathInfo.class);
  this.context.checking(new Expectations(){
{
      allowing(testInfo).getSelectorString();
      will(returnValue("sample"));
    }
  }
);
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[0]);
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"sample","sample2"});
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"other"});
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.clear();
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m.*$");
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[1-2]m$");
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.clear();
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"other"});
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m.*$");
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"sample"});
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m$");
  assertTrue(filter.checkSelector(testInfo,properties));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextIT </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAny(){
  addBVP("one",null,"js");
  addBVP("two",null,null);
  addBVP("three",null,"*");
  addBVP("four",null,"ANY");
  addBVP("five",null,"basic");
  assertEquals("four,one,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("five,four,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("basic"),null)));
  assertEquals("four,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("other"),null)));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("js"),null),false);
  assertTrue("Expecting js language-specific BVP at the end",unsorted.endsWith("one"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContextsAndLanguages(){
  addBVP("foo",null,"js");
  addBVP("bar",null,null);
  addBVP("r1","request","js");
  addBVP("r2","request",null);
  addBVP("o1","other","js");
  addBVP("o2","other",null);
  addBVP("o3","other,request",null);
  addBVP("o4","python",null);
  addBVP("python","python","python");
  assertEquals("bar,foo,o3,r1,r2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"request")));
  assertEquals("With default content","bar,foo,o3,r1,r2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("o1,o2,o3",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"other")));
  assertEquals("o4,python",asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python")));
  assertEquals("",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"unusedContext")));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python"),false);
  assertTrue("Expecting python language-specific BVP at the end",unsorted.endsWith("python"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMapsAndBvps(){
  addBVP("foo",null,"js");
  addMap("bar",null,null);
  addMap("r1","request","js");
  addMap("r2","request",null);
  addMap("o1","other","js");
  addBVP("o2","other",null);
  addMap("o3","other,request",null);
  addBVP("o4","python",null);
  addMap("python","python","python");
  assertEquals("M_bar,M_o3,M_r1,M_r2,foo",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"request")));
  assertEquals("With default content","M_bar,M_o3,M_r1,M_r2,foo",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("M_o1,M_o3,o2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"other")));
  assertEquals("",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"unusedContext")));
  assertEquals("M_python,o4",asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python")));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python"),false);
  assertTrue("Expecting python language-specific BVP at the end",unsorted.endsWith("M_python"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.ScriptEngineManagerFactoryTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void checkAddingScriptBundle() throws Exception {
  context.checking(new Expectations(){
{
      exactly(1).of(bundleCtx).registerService(with(equal(new String[]{"javax.script.ScriptEngineManager","org.apache.sling.scripting.core.impl.helper.SlingScriptEngineManager"})),with(any(Object.class)),with(any(Dictionary.class)));
      will(returnValue(new MockServiceRegistration()));
    }
  }
);
  ScriptEngineManagerFactory factory=new ScriptEngineManagerFactory();
  factory.activate(componentCtx);
  ScriptEngineManager first=factory.getScriptEngineManager();
  assertNull(first.getEngineByName("dummy"));
  final Bundle bundle=context.mock(Bundle.class);
  final File factoryFile=createFactoryFile();
  context.checking(new Expectations(){
{
      atLeast(1).of(bundle).getEntry("META-INF/services/javax.script.ScriptEngineFactory");
      will(returnValue(factoryFile.toURI().toURL()));
      atLeast(1).of(bundle).loadClass(SCRIPT_ENGINE_FACTORY.getName());
      will(returnValue(SCRIPT_ENGINE_FACTORY));
    }
  }
);
  factory.bundleChanged(new BundleEvent(BundleEvent.STARTED,bundle));
  ScriptEngineManager second=factory.getScriptEngineManager();
  assertNotNull(second.getEngineByName("dummy"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void checkNonNullManagerAfterActivate() throws Exception {
  context.checking(new Expectations(){
{
      one(bundleCtx).registerService(with(equal(new String[]{"javax.script.ScriptEngineManager","org.apache.sling.scripting.core.impl.helper.SlingScriptEngineManager"})),with(any(Object.class)),with(any(Dictionary.class)));
      will(returnValue(new MockServiceRegistration()));
    }
  }
);
  ScriptEngineManagerFactory factory=new ScriptEngineManagerFactory();
  factory.activate(componentCtx);
  assertNotNull(factory.getScriptEngineManager());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.helper.ProtectedBindingsTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPuttingMapOverwritesSelectively(){
  bindings.put("test2","value2");
  Map<String,Object> toMerge=new HashMap<String,Object>();
  toMerge.put("test1","value2");
  toMerge.put("test2","value3");
  bindings.putAll(toMerge);
  assertEquals("value1",bindings.get("test1"));
  assertEquals("value3",bindings.get("test2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestAdaptObjectTag </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests to ensure that a null result is returned if the class to adapt does
 * not exist.
 */
@Test public void testMissingClass(){
  log.info("testMissingClass");
  log.info("Setting up tests");
  adaptToTag.setAdaptable(resource);
  adaptToTag.setAdaptTo("com.bad.class");
  adaptToTag.setVar(VAR_KEY);
  adaptToTag.doEndTag();
  log.info("Checking result");
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNull(result);
  log.info("Test successful!");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the adapt object Tag functionality.
 */
@Test public void testAdaptObject(){
  log.info("testAdaptObject");
  log.info("Setting up tests");
  adaptToTag.setAdaptable(resource);
  adaptToTag.setAdaptTo(ValueMap.class.getCanonicalName());
  adaptToTag.setVar(VAR_KEY);
  adaptToTag.doEndTag();
  log.info("Checking result");
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof ValueMap);
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestFindResourceTag </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the find resources functionalty.
 */
@Test public void testFindResources(){
  log.info("testGoodPath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setQuery("query");
  getResourceTag.setLanguage("language");
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Iterator);
  @SuppressWarnings("unchecked") Iterator<Resource> resources=(Iterator<Resource>)result;
  assertTrue(resources.hasNext());
  assertEquals(TEST_PATH,resources.next().getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestGetPropertyTag </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the adapt object Tag functionality.
 */
@Test public void testAdaptObject(){
  log.info("testAdaptObject");
  log.info("Setting up tests");
  ValueMap properties=new ValueMapDecorator(new HashMap<String,Object>());
  properties.put(TEST_KEY,TEST_VALUE);
  getPropertyTag.setProperties(properties);
  getPropertyTag.setVar(VAR_KEY);
  log.info("Testing retrieving value with default value");
  getPropertyTag.setDefaultValue(TEST_VALUE);
  getPropertyTag.setKey(TEST_KEY);
  getPropertyTag.doEndTag();
  Object value=pageContext.getAttribute(VAR_KEY);
  assertNotNull(value);
  assertEquals(TEST_VALUE,value);
  log.info("Testing retrieving default value");
  getPropertyTag.setDefaultValue(TEST_VALUE);
  getPropertyTag.setKey(TEST_EMPTY_KEY);
  getPropertyTag.doEndTag();
  value=pageContext.getAttribute(VAR_KEY);
  assertNotNull(value);
  assertEquals(TEST_VALUE,value);
  log.info("Testing retrieving value");
  getPropertyTag.setDefaultValue(null);
  getPropertyTag.setReturnClass(String.class.getCanonicalName());
  getPropertyTag.setKey(TEST_KEY);
  getPropertyTag.doEndTag();
  value=pageContext.getAttribute(VAR_KEY);
  assertNotNull(value);
  assertEquals(TEST_VALUE,value);
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestGetResourceTag </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests using an absolute path.
 */
@Test public void testAbsolutePath(){
  log.info("testAbsolutePath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setPath(TEST_ABSOLUTE_PATH);
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Resource);
  assertEquals(TEST_ABSOLUTE_PATH,((Resource)result).getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests to see what happens if a bad path is specified, this should just
 * return a null value instead of a resource.
 */
@Test public void testBadPath(){
  log.info("testBadPath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setPath(TEST_NON_PATH);
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNull(result);
  log.info("Test successful!");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests using an relative path.
 */
@Test public void testRelativePath(){
  log.info("testRelativePath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setBase(resource);
  getResourceTag.setPath(TEST_RELATIVE_PATH);
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Resource);
  assertEquals(TEST_ABSOLUTE_PATH + "/" + TEST_RELATIVE_PATH,((Resource)result).getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestListChildrenTag </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests to ensure the base ListChildren functionality works.
 */
@SuppressWarnings("unchecked") @Test public void testListChildren(){
  log.info("testGoodPath");
  listChildrenTag.setResource(resource);
  listChildrenTag.setVar(VAR_KEY);
  listChildrenTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Iterator);
  assertTrue(((Iterator<Resource>)result).hasNext());
  log.info("Test successful!");
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
/** 
 * Tests to see what happens if a null Resource is provided
 */
@Test public void testNullResource(){
  log.info("testNullResource");
  listChildrenTag.setVar(VAR_KEY);
  listChildrenTag.setResource(null);
  listChildrenTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNull(result);
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestSlingFunctions </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValue(){
  log.info("testGetValue");
  Resource resource=SlingFunctions.getResource(resolver,TEST_PATH);
  ValueMap properties=resource.adaptTo(ValueMap.class);
  log.info("Testing using class coersion");
  Date retrievedDate=SlingFunctions.getValue(properties,"date",Date.class);
  assertEquals(date,retrievedDate);
  assertTrue(retrievedDate instanceof Date);
  log.info("Testing with default value on existing key");
  Long retrievedLong=SlingFunctions.getValue(properties,"long",new Long(-123L));
  assertEquals(new Long(0L),retrievedLong);
  assertTrue(retrievedLong instanceof Long);
  log.info("Testing with no value and class coersion");
  Date fakeDate=SlingFunctions.getValue(properties,"date1",Date.class);
  assertTrue(fakeDate == null);
  log.info("Testing with no value and default specified");
  Long fakeLong=SlingFunctions.getValue(properties,"long1",new Long(-123L));
  assertEquals(new Long(-123L),fakeLong);
  assertTrue(fakeLong instanceof Long);
  log.info("Tests successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImplTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetScriptResourceResolver() throws Exception {
  ResourceResolver scriptResolver=renderContext.getScriptResourceResolver();
  assertNotNull("Expected a non-null resource resolver.",scriptResolver);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.it.SlingSpecificsSightlyIT </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUseAPIInheritanceOverlaying(){
  String url=launchpadURL + SLING_USE_INHERITANCE_WITHOVERLAY;
  String pageContent=client.getStringContent(url,200);
  assertEquals("child.javaobject",HTMLExtractor.innerHTML(url,pageContent,"#javaobj"));
  assertEquals("child.javascriptobject",HTMLExtractor.innerHTML(url,pageContent,"#javascriptobj"));
  assertEquals("child.ecmaobject",HTMLExtractor.innerHTML(url,pageContent,"#ecmaobj"));
  assertEquals("child.template",HTMLExtractor.innerHTML(url,pageContent,"#templateobj"));
  assertEquals("child.partials.javascript",HTMLExtractor.innerHTML(url,pageContent,"#partialsjs"));
  assertEquals("child.partials.ecmaobject",HTMLExtractor.innerHTML(url,pageContent,"#partialsecma"));
  assertEquals("child.partials.template",HTMLExtractor.innerHTML(url,pageContent,"#partialstemplate"));
  assertEquals("child.partials.included",HTMLExtractor.innerHTML(url,pageContent,"#partialsincluded"));
  assertEquals("child.partials.javaobject",HTMLExtractor.innerHTML(url,pageContent,"#partialsjava"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUseAPIInheritanceWithoutOverlay(){
  String url=launchpadURL + SLING_USE_INHERITANCE_WITHOUTOVERLAY;
  String pageContent=client.getStringContent(url,200);
  assertEquals("notoverlaid",HTMLExtractor.innerHTML(url,pageContent,"#notoverlaid"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAttributeQuotes(){
  String url=launchpadURL + SLING_ATTRIBUTE_QUOTES;
  String pageContent=client.getStringContent(url,200);
  assertTrue(pageContent.contains("<span data-resource='{\"resource\" : \"/sightly/attributequotes\"}'>/sightly/attributequotes</span>"));
  assertTrue(pageContent.contains("<span data-resource=\"/sightly/attributequotes\">/sightly/attributequotes</span>"));
  assertTrue(pageContent.contains("<span data-resource=\"/sightly/attributequotes\">/sightly/attributequotes</span>"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSlyResourceArraySelectors(){
  String url=launchpadURL + SLING_RESOURCE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("selectors: a.b",HTMLExtractor.innerHTML(url,pageContent,"#selectors span.selectors"));
  assertEquals("selectors: a.b",HTMLExtractor.innerHTML(url,pageContent,"#selectors-remove-c span.selectors"));
  assertEquals("selectors: a.c",HTMLExtractor.innerHTML(url,pageContent,"#removeselectors-remove-b span.selectors"));
  assertEquals("selectors: a.b.c",HTMLExtractor.innerHTML(url,pageContent,"#addselectors span.selectors"));
  assertEquals("It works",HTMLExtractor.innerHTML(url,pageContent,"#dot"));
  assertEquals("path: /sightly/text.txt",HTMLExtractor.innerHTML(url,pageContent,"#extension-selectors span.path"));
  assertEquals("selectors: a.b",HTMLExtractor.innerHTML(url,pageContent,"#extension-selectors span.selectors"));
  assertEquals("path: /sightly/text.txt",HTMLExtractor.innerHTML(url,pageContent,"#extension-replaceselectors span.path"));
  assertEquals("selectors: c",HTMLExtractor.innerHTML(url,pageContent,"#extension-replaceselectors span.selectors"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUseAPIWithOSGIService(){
  String url=launchpadURL + SLING_USE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("Hello World!",HTMLExtractor.innerHTML(url,pageContent,"#osgi"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDataSlyTemplate(){
  String url=launchpadURL + SLING_TEMPLATE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#template"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testErroneousUseObject(){
  String url=launchpadURL + SLING_JAVA_USE_NPE;
  String pageContent=client.getStringContent(url,500);
  assertTrue(pageContent.contains("java.lang.NullPointerException"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJSUseAPISiblingDependencies(){
  String url=launchpadURL + SLING_JS_DEPENDENCY_RESOLUTION;
  String pageContent=client.getStringContent(url,200);
  assertEquals("/apps/sightly/scripts/siblingdeps/dependency.js",HTMLExtractor.innerHTML(url,pageContent,"#js-rep-res"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAdaptablesUseAPI(){
  String url=launchpadURL + SLING_USE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#resadapt"));
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#reqadapt"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepositoryPojoUpdate() throws Exception {
  String url=launchpadURL + SLING_JAVA_USE_POJO_UPDATE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("original",HTMLExtractor.innerHTML(url + System.currentTimeMillis(),pageContent,"#repopojo"));
  uploadFile("RepoPojo.java.updated","RepoPojo.java","/apps/sightly/scripts/use");
  pageContent=client.getStringContent(url,200);
  assertEquals("updated",HTMLExtractor.innerHTML(url + System.currentTimeMillis(),pageContent,"#repopojo"));
  uploadFile("RepoPojo.java.original","RepoPojo.java","/apps/sightly/scripts/use");
  pageContent=client.getStringContent(url,200);
  assertEquals("original",HTMLExtractor.innerHTML(url + System.currentTimeMillis(),pageContent,"#repopojo"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testJSUseAPI(){
  String url=launchpadURL + SLING_JS_USE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("use",HTMLExtractor.innerHTML(url,pageContent,"#resource-name"));
  assertEquals("use",HTMLExtractor.innerHTML(url,pageContent,"#resource-getName"));
  assertEquals("/apps/sightly/scripts/use",HTMLExtractor.innerHTML(url,pageContent,"#resource-resourceType"));
  assertEquals("/apps/sightly/scripts/use",HTMLExtractor.innerHTML(url,pageContent,"#resource-getResourceType"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRepositoryPojoNoPkg(){
  String url=launchpadURL + SLING_USE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("nopkg",HTMLExtractor.innerHTML(url,pageContent,"#repopojo-nopkg"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBadTemplateIdentifier(){
  String url=launchpadURL + SLING_TEMPLATE_BAD_IDENTIFIER;
  String pageContent=client.getStringContent(url,500);
  assertTrue(pageContent.contains("org.apache.sling.scripting.sightly.impl.compiler.SightlyParsingException"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSlingModelsUseAPI(){
  String url=launchpadURL + SLING_USE;
  String pageContent=client.getStringContent(url,200);
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#reqmodel"));
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#reqmodel-reqarg"));
  assertEquals("SUCCESS",HTMLExtractor.innerHTML(url,pageContent,"#resmodel"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.security.impl.ContentDispositionFilterTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData1() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=null;
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData2() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(true));
    }
  }
);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData3() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData4() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(childPropoerties));
      allowing(childPropoerties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData5() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(childPropoerties));
      allowing(childPropoerties).containsKey(PROP_JCR_DATA);
      will(returnValue(true));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData6() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(null));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData7() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.security.impl.ReferrerFilterTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValidRequest(){
  Assert.assertEquals(false,filter.isValidRequest(getRequest(null)));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("relative")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("/relative/too")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("/relative/but/[illegal]")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("http://somehost")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://localhost")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://127.0.0.1")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("http://somehost/but/[illegal]")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://relhost")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://relhost:9001")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("http://abshost:9001")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("https://abshost:80")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://abshost:80")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("http://abshost:9001")));
  Assert.assertEquals(true,filter.isValidRequest(getRequest("http://another.abshost:80")));
  Assert.assertEquals(false,filter.isValidRequest(getRequest("http://yet.another.abshost:80")));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testHostName(){
  Assert.assertEquals("somehost",filter.getHost("http://somehost").host);
  Assert.assertEquals("somehost",filter.getHost("http://somehost/somewhere").host);
  Assert.assertEquals("somehost",filter.getHost("http://somehost:4242/somewhere").host);
  Assert.assertEquals("somehost",filter.getHost("http://admin@somehost/somewhere").host);
  Assert.assertEquals("somehost",filter.getHost("http://admin@somehost/somewhere?invald=@gagga").host);
  Assert.assertEquals("somehost",filter.getHost("http://admin@somehost:1/somewhere").host);
  Assert.assertEquals("somehost",filter.getHost("http://admin:admin@somehost/somewhere").host);
  Assert.assertEquals("somehost",filter.getHost("http://admin:admin@somehost:4343/somewhere").host);
  Assert.assertEquals("localhost",filter.getHost("http://localhost").host);
  Assert.assertEquals("127.0.0.1",filter.getHost("http://127.0.0.1").host);
  Assert.assertEquals("localhost",filter.getHost("http://localhost:535").host);
  Assert.assertEquals("127.0.0.1",filter.getHost("http://127.0.0.1:242").host);
  Assert.assertEquals("localhost",filter.getHost("http://localhost:256235/etewteq.ff").host);
  Assert.assertEquals("127.0.0.1",filter.getHost("http://127.0.0.1/wetew.qerq").host);
  Assert.assertEquals(null,filter.getHost("http:/admin:admin@somehost:4343/somewhere"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.serviceusermapping.impl.ServiceUserMappedBundleFilterTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFind(){
  List collection=new ArrayList<ServiceReference>();
  ServiceReference serviceReference1=mock(ServiceReference.class);
  ServiceReference serviceReference2=mock(ServiceReference.class);
  collection.add(serviceReference1);
  collection.add(serviceReference2);
  when(serviceReference1.getProperty(Mapping.SERVICENAME)).thenReturn(BUNDLE1);
  when(serviceReference1.getProperty(Constants.OBJECTCLASS)).thenReturn(new String[]{ServiceUserMappedImpl.SERVICEUSERMAPPED});
  when(serviceReference2.getProperty(Mapping.SERVICENAME)).thenReturn(BUNDLE2);
  when(serviceReference2.getProperty(Constants.OBJECTCLASS)).thenReturn(new String[]{ServiceUserMappedImpl.SERVICEUSERMAPPED});
  FindHook findHook=new ServiceUserMappedBundleFilter();
  findHook.find(bundleContext1,null,null,false,collection);
  TestCase.assertEquals(1,collection.size());
  TestCase.assertTrue(collection.contains(serviceReference1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.serviceusermapping.impl.ServiceUserMapperImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_getServiceUserID_WithServiceUserValidator(){
  @SuppressWarnings("serial") Map<String,Object> config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC1 + "=" + SAMPLE,BUNDLE_SYMBOLIC2 + "=" + ANOTHER,BUNDLE_SYMBOLIC1 + ":" + SUB+ "="+ SAMPLE_SUB,BUNDLE_SYMBOLIC2 + ":" + SUB+ "="+ ANOTHER_SUB});
      put("user.default",NONE);
    }
  }
;
  final ServiceUserMapperImpl sum=new ServiceUserMapperImpl();
  sum.configure(null,config);
  ServiceUserValidator serviceUserValidator=new ServiceUserValidator(){
    public boolean isValid(    String serviceUserId,    String serviceName,    String subServiceName){
      if (SAMPLE.equals(serviceUserId)) {
        return false;
      }
      return true;
    }
  }
;
  sum.bindServiceUserValidator(serviceUserValidator);
  TestCase.assertEquals(null,sum.getServiceUserID(BUNDLE1,null));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,null));
  TestCase.assertEquals(null,sum.getServiceUserID(BUNDLE1,""));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,""));
  TestCase.assertEquals(SAMPLE_SUB,sum.getServiceUserID(BUNDLE1,SUB));
  TestCase.assertEquals(ANOTHER_SUB,sum.getServiceUserID(BUNDLE2,SUB));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_amendment(){
  @SuppressWarnings("serial") Map<String,Object> config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC1 + "=" + SAMPLE,BUNDLE_SYMBOLIC1 + ":" + SUB+ "="+ SAMPLE_SUB});
      put("user.default",NONE);
    }
  }
;
  final ServiceUserMapperImpl sum=new ServiceUserMapperImpl();
  sum.configure(null,config);
  final MappingConfigAmendment mca1=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca1Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + "=" + ANOTHER});
      put(Constants.SERVICE_ID,1L);
      put(Constants.SERVICE_RANKING,100);
    }
  }
;
  mca1.configure(mca1Config);
  sum.bindAmendment(mca1,mca1Config);
  final MappingConfigAmendment mca2=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca2Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + ":" + SUB+ "="+ ANOTHER_SUB});
      put(Constants.SERVICE_ID,2L);
      put(Constants.SERVICE_RANKING,200);
    }
  }
;
  mca2.configure(mca2Config);
  sum.bindAmendment(mca2,mca2Config);
  TestCase.assertEquals(SAMPLE,sum.getServiceUserID(BUNDLE1,null));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,null));
  TestCase.assertEquals(SAMPLE,sum.getServiceUserID(BUNDLE1,""));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,""));
  TestCase.assertEquals(SAMPLE_SUB,sum.getServiceUserID(BUNDLE1,SUB));
  TestCase.assertEquals(ANOTHER_SUB,sum.getServiceUserID(BUNDLE2,SUB));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_getServiceUserID(){
  @SuppressWarnings("serial") Map<String,Object> config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC1 + "=" + SAMPLE,BUNDLE_SYMBOLIC2 + "=" + ANOTHER,BUNDLE_SYMBOLIC1 + ":" + SUB+ "="+ SAMPLE_SUB,BUNDLE_SYMBOLIC2 + ":" + SUB+ "="+ ANOTHER_SUB});
      put("user.default",NONE);
    }
  }
;
  final ServiceUserMapperImpl sum=new ServiceUserMapperImpl();
  sum.configure(null,config);
  TestCase.assertEquals(SAMPLE,sum.getServiceUserID(BUNDLE1,null));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,null));
  TestCase.assertEquals(SAMPLE,sum.getServiceUserID(BUNDLE1,""));
  TestCase.assertEquals(ANOTHER,sum.getServiceUserID(BUNDLE2,""));
  TestCase.assertEquals(SAMPLE_SUB,sum.getServiceUserID(BUNDLE1,SUB));
  TestCase.assertEquals(ANOTHER_SUB,sum.getServiceUserID(BUNDLE2,SUB));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_amendmentServiceUserMapping(){
  @SuppressWarnings("serial") Map<String,Object> config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC1 + "=" + SAMPLE,BUNDLE_SYMBOLIC1 + ":" + SUB+ "="+ SAMPLE_SUB});
      put("user.default",NONE);
    }
  }
;
  final ServiceUserMapperImpl sum=new ServiceUserMapperImpl();
  sum.registerAsync=false;
  final ServiceRegistrationContextHelper context=new ServiceRegistrationContextHelper();
  sum.configure(context.getBundleContext(),config);
  TestCase.assertEquals(2,context.getRegistrations(ServiceUserMappedImpl.SERVICEUSERMAPPED).size());
  final MappingConfigAmendment mca1=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca1Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + "=" + ANOTHER});
      put(Constants.SERVICE_ID,1L);
      put(Constants.SERVICE_RANKING,100);
    }
  }
;
  mca1.configure(mca1Config);
  sum.bindAmendment(mca1,mca1Config);
  TestCase.assertEquals(3,context.getRegistrations(ServiceUserMappedImpl.SERVICEUSERMAPPED).size());
  final MappingConfigAmendment mca2=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca2Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + ":" + SUB+ "="+ ANOTHER_SUB});
      put(Constants.SERVICE_ID,2L);
      put(Constants.SERVICE_RANKING,200);
    }
  }
;
  mca2.configure(mca2Config);
  sum.bindAmendment(mca2,mca2Config);
  TestCase.assertEquals(4,context.getRegistrations(ServiceUserMappedImpl.SERVICEUSERMAPPED).size());
  sum.unbindAmendment(mca1,mca1Config);
  TestCase.assertEquals(3,context.getRegistrations(ServiceUserMappedImpl.SERVICEUSERMAPPED).size());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void test_amendmentOverlap(){
  @SuppressWarnings("serial") final Map<String,Object> config=new HashMap<String,Object>(){
{
      put("user.default",NONE);
    }
  }
;
  final ServiceUserMapperImpl sum=new ServiceUserMapperImpl();
  sum.configure(null,config);
  final MappingConfigAmendment mca1=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca1Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + "=" + ANOTHER});
      put(Constants.SERVICE_RANKING,100);
    }
  }
;
  mca1.configure(mca1Config);
  final MappingConfigAmendment mca2=new MappingConfigAmendment();
  @SuppressWarnings("serial") final Map<String,Object> mca2Config=new HashMap<String,Object>(){
{
      put("user.mapping",new String[]{BUNDLE_SYMBOLIC2 + "=" + ANOTHER_SUB});
      put(Constants.SERVICE_RANKING,200);
    }
  }
;
  mca2.configure(mca2Config);
  sum.bindAmendment(mca1,mca1Config);
  sum.bindAmendment(mca2,mca2Config);
  TestCase.assertEquals(ANOTHER_SUB,sum.getServiceUserID(BUNDLE2,""));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockHttpSessionTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidate(){
  httpSession.invalidate();
  assertTrue(httpSession.isInvalidated());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testValues(){
  httpSession.putValue("attr1","value1");
  assertEquals(1,httpSession.getValueNames().length);
  assertEquals("value1",httpSession.getValue("attr1"));
  httpSession.removeValue("attr1");
  assertEquals(0,httpSession.getValueNames().length);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributes(){
  httpSession.setAttribute("attr1","value1");
  assertTrue(httpSession.getAttributeNames().hasMoreElements());
  assertEquals("value1",httpSession.getAttribute("attr1"));
  httpSession.removeAttribute("attr1");
  assertFalse(httpSession.getAttributeNames().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMaxInactiveInterval(){
  assertTrue(httpSession.getMaxInactiveInterval() > 0);
  httpSession.setMaxInactiveInterval(123);
  assertEquals(123,httpSession.getMaxInactiveInterval());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsNew(){
  assertTrue(httpSession.isNew());
  httpSession.setNew(false);
  assertFalse(httpSession.isNew());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletRequestTest </h4><pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResource(){
  assertNull(request.getResource());
  request.setResource(resource);
  assertSame(resource,request.getResource());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueryString() throws UnsupportedEncodingException {
  assertNull(request.getQueryString());
  assertEquals(0,request.getParameterMap().size());
  assertFalse(request.getParameterNames().hasMoreElements());
  request.setQueryString("param1=123&param2=" + URLEncoder.encode("!:!",CharEncoding.UTF_8) + "&param3=a&param3=b");
  assertNotNull(request.getQueryString());
  assertEquals(3,request.getParameterMap().size());
  assertTrue(request.getParameterNames().hasMoreElements());
  assertEquals("123",request.getParameter("param1"));
  assertEquals("!:!",request.getParameter("param2"));
  assertArrayEquals(new String[]{"a","b"},request.getParameterValues("param3"));
  Map<String,Object> paramMap=new LinkedHashMap<String,Object>();
  paramMap.put("p1","a");
  paramMap.put("p2",new String[]{"b","c"});
  paramMap.put("p3",null);
  paramMap.put("p4",new String[]{null});
  paramMap.put("p5",22);
  request.setParameterMap(paramMap);
  assertEquals("p1=a&p2=b&p2=c&p4=&p5=22",request.getQueryString());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestParameter() throws Exception {
  request.setQueryString("param1=123&param2=" + URLEncoder.encode("!:!",CharEncoding.UTF_8) + "&param3=a&param3=b");
  assertEquals(3,request.getRequestParameterMap().size());
  assertEquals(4,request.getRequestParameterList().size());
  assertEquals("123",request.getRequestParameter("param1").getString());
  assertEquals("!:!",request.getRequestParameter("param2").getString());
  assertEquals("a",request.getRequestParameters("param3")[0].getString());
  assertEquals("b",request.getRequestParameters("param3")[1].getString());
  assertNull(request.getRequestParameter("unknown"));
  assertNull(request.getRequestParameters("unknown"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCookies(){
  assertNull(request.getCookies());
  request.addCookie(new Cookie("cookie1","value1"));
  request.addCookie(new Cookie("cookie2","value2"));
  assertEquals("value1",request.getCookie("cookie1").getValue());
  Cookie[] cookies=request.getCookies();
  assertEquals(2,cookies.length);
  assertEquals("value1",cookies[0].getValue());
  assertEquals("value2",cookies[1].getValue());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testGetRequestDispatcher(){
  MockRequestDispatcherFactory requestDispatcherFactory=mock(MockRequestDispatcherFactory.class);
  RequestDispatcher requestDispatcher=mock(RequestDispatcher.class);
  when(requestDispatcherFactory.getRequestDispatcher(any(Resource.class),any(RequestDispatcherOptions.class))).thenReturn(requestDispatcher);
  when(requestDispatcherFactory.getRequestDispatcher(any(String.class),any(RequestDispatcherOptions.class))).thenReturn(requestDispatcher);
  request.setRequestDispatcherFactory(requestDispatcherFactory);
  assertSame(requestDispatcher,request.getRequestDispatcher("/path"));
  assertSame(requestDispatcher,request.getRequestDispatcher("/path",new RequestDispatcherOptions()));
  assertSame(requestDispatcher,request.getRequestDispatcher(resource));
  assertSame(requestDispatcher,request.getRequestDispatcher(resource,new RequestDispatcherOptions()));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContextPath(){
  assertNull(request.getContextPath());
  request.setContextPath("/ctx");
  assertEquals("/ctx",request.getContextPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRemoteHost() throws Exception {
  assertNull(null,request.getRemoteHost());
  request.setRemoteHost("host1");
  assertEquals("host1",request.getRemoteHost());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testServerNamePort(){
  assertEquals("localhost",request.getServerName());
  assertEquals(80,request.getServerPort());
  request.setServerName("myhost");
  request.setServerPort(12345);
  assertEquals("myhost",request.getServerName());
  assertEquals(12345,request.getServerPort());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetRemotePort() throws Exception {
  assertEquals(0,request.getRemotePort());
  request.setRemotePort(1234);
  assertEquals(1234,request.getRemotePort());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultResourceBundle(){
  ResourceBundle bundle=request.getResourceBundle(Locale.US);
  assertNotNull(bundle);
  assertFalse(bundle.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRemoteUser(){
  assertNull(null,request.getRemoteUser());
  request.setRemoteUser("admin");
  assertEquals("admin",request.getRemoteUser());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemeSecure(){
  assertEquals("http",request.getScheme());
  assertFalse(request.isSecure());
  request.setScheme("https");
  assertEquals("https",request.getScheme());
  assertTrue(request.isSecure());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRemoteAddr() throws Exception {
  assertNull(null,request.getRemoteAddr());
  request.setRemoteAddr("1.2.3.4");
  assertEquals("1.2.3.4",request.getRemoteAddr());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContentTypeCharset() throws Exception {
  assertNull(request.getContentType());
  assertNull(request.getCharacterEncoding());
  request.setContentType("image/gif");
  assertEquals("image/gif",request.getContentType());
  assertNull(request.getCharacterEncoding());
  request.setContentType("text/plain;charset=UTF-8");
  assertEquals("text/plain;charset=UTF-8",request.getContentType());
  assertEquals(CharEncoding.UTF_8,request.getCharacterEncoding());
  request.setCharacterEncoding(CharEncoding.ISO_8859_1);
  assertEquals("text/plain;charset=ISO-8859-1",request.getContentType());
  assertEquals(CharEncoding.ISO_8859_1,request.getCharacterEncoding());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeaders(){
  assertFalse(request.getHeaderNames().hasMoreElements());
  Calendar calendar=Calendar.getInstance();
  calendar.set(Calendar.MILLISECOND,0);
  long dateValue=calendar.getTimeInMillis();
  request.addHeader("header1","value1");
  request.addIntHeader("header2",5);
  request.addDateHeader("header3",dateValue);
  assertEquals("value1",request.getHeader("header1"));
  assertEquals(5,request.getIntHeader("header2"));
  assertEquals(dateValue,request.getDateHeader("header3"));
  request.setHeader("header1","value2");
  request.addIntHeader("header2",10);
  Enumeration<String> header1Values=request.getHeaders("header1");
  assertEquals("value2",header1Values.nextElement());
  assertFalse(header1Values.hasMoreElements());
  Enumeration<String> header2Values=request.getHeaders("header2");
  assertEquals("5",header2Values.nextElement());
  assertEquals("10",header2Values.nextElement());
  assertFalse(header2Values.hasMoreElements());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSession(){
  HttpSession session=request.getSession(false);
  assertNull(session);
  session=request.getSession();
  assertNotNull(session);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContent() throws Exception {
  assertEquals(0,request.getContentLength());
  assertNull(request.getInputStream());
  byte[] data=new byte[]{0x01,0x02,0x03};
  request.setContent(data);
  assertEquals(data.length,request.getContentLength());
  assertArrayEquals(data,IOUtils.toByteArray(request.getInputStream()));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testMethod(){
  assertEquals(HttpConstants.METHOD_GET,request.getMethod());
  request.setMethod(HttpConstants.METHOD_POST);
  assertEquals(HttpConstants.METHOD_POST,request.getMethod());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributes(){
  request.setAttribute("attr1","value1");
  assertTrue(request.getAttributeNames().hasMoreElements());
  assertEquals("value1",request.getAttribute("attr1"));
  request.removeAttribute("attr1");
  assertFalse(request.getAttributeNames().hasMoreElements());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletResponseTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentLength() throws Exception {
  assertEquals(0,response.getContentLength());
  response.setContentLength(55);
  assertEquals(55,response.getContentLength());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSetStatus() throws Exception {
  assertEquals(HttpServletResponse.SC_OK,response.getStatus());
  response.setStatus(HttpServletResponse.SC_BAD_GATEWAY);
  assertEquals(HttpServletResponse.SC_BAD_GATEWAY,response.getStatus());
  response.reset();
  assertEquals(HttpServletResponse.SC_OK,response.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSendError() throws Exception {
  response.sendError(HttpServletResponse.SC_NOT_FOUND);
  assertEquals(HttpServletResponse.SC_NOT_FOUND,response.getStatus());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testRedirect() throws Exception {
  response.sendRedirect("/location.html");
  assertEquals(HttpServletResponse.SC_MOVED_TEMPORARILY,response.getStatus());
  assertEquals("/location.html",response.getHeader("Location"));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCookies(){
  assertNull(response.getCookies());
  response.addCookie(new Cookie("cookie1","value1"));
  response.addCookie(new Cookie("cookie2","value2"));
  assertEquals("value1",response.getCookie("cookie1").getValue());
  Cookie[] cookies=response.getCookies();
  assertEquals(2,cookies.length);
  assertEquals("value1",cookies[0].getValue());
  assertEquals("value2",cookies[1].getValue());
  response.reset();
  assertNull(response.getCookies());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteBinaryContent() throws Exception {
  final byte[] TEST_DATA=new byte[]{0x01,0x02,0x03,0x04,0x05};
  response.getOutputStream().write(TEST_DATA);
  assertArrayEquals(TEST_DATA,response.getOutput());
  response.resetBuffer();
  assertEquals(0,response.getOutput().length);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContentTypeCharset() throws Exception {
  assertNull(response.getContentType());
  assertNull(response.getCharacterEncoding());
  response.setContentType("image/gif");
  assertEquals("image/gif",response.getContentType());
  assertNull(response.getCharacterEncoding());
  response.setContentType("text/plain;charset=UTF-8");
  assertEquals("text/plain;charset=UTF-8",response.getContentType());
  assertEquals(CharEncoding.UTF_8,response.getCharacterEncoding());
  response.setCharacterEncoding(CharEncoding.ISO_8859_1);
  assertEquals("text/plain;charset=ISO-8859-1",response.getContentType());
  assertEquals(CharEncoding.ISO_8859_1,response.getCharacterEncoding());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeaders() throws Exception {
  assertEquals(0,response.getHeaderNames().size());
  response.addHeader("header1","value1");
  response.addIntHeader("header2",5);
  response.addDateHeader("header3",System.currentTimeMillis());
  assertEquals(3,response.getHeaderNames().size());
  assertTrue(response.containsHeader("header1"));
  assertEquals("value1",response.getHeader("header1"));
  assertEquals("5",response.getHeader("header2"));
  assertNotNull(response.getHeader("header3"));
  response.setHeader("header1","value2");
  response.addIntHeader("header2",10);
  assertEquals(3,response.getHeaderNames().size());
  Collection<String> header1Values=response.getHeaders("header1");
  assertEquals(1,header1Values.size());
  assertEquals("value2",header1Values.iterator().next());
  Collection<String> header2Values=response.getHeaders("header2");
  assertEquals(2,header2Values.size());
  Iterator<String> header2Iterator=header2Values.iterator();
  assertEquals("5",header2Iterator.next());
  assertEquals("10",header2Iterator.next());
  response.reset();
  assertEquals(0,response.getHeaderNames().size());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWriteStringContent() throws Exception {
  final String TEST_CONTENT="Der Jodelkaiser  ";
  response.setCharacterEncoding(CharEncoding.UTF_8);
  response.getWriter().write(TEST_CONTENT);
  assertEquals(TEST_CONTENT,response.getOutputAsString());
  response.resetBuffer();
  assertEquals(0,response.getOutputAsString().length());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsCommitted() throws Exception {
  assertFalse(response.isCommitted());
  response.flushBuffer();
  assertTrue(response.isCommitted());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.get.impl.helpers.JsonRendererServletTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursionLevelF(){
  selectors=new String[]{"tidy","45"};
  assertEquals(45,jrs.getMaxRecursionLevel(request));
  assertTrue(jrs.isTidy(request));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursionLevelA(){
  selectors=new String[]{"12"};
  assertEquals(12,jrs.getMaxRecursionLevel(request));
  assertFalse(jrs.isTidy(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.post.impl.RequestPropertyTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlankIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(3,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
  assertEquals("",prop.getStringValues()[2]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithDefaultToIgnore() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""),p("./param@DefaultValue",":ignore"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(0,prop.getStringValues().length);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlanksIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","",""),p("./param@IgnoreBlanks","true"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(1,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithDefaultToNull() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""),p("./param@DefaultValue",":null"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertNull(prop.getStringValues());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlank() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValue() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","false"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("false",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithBlank() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(1,prop.getStringValues().length);
  assertEquals("",prop.getStringValues()[0]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithAllBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","","",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(3,prop.getStringValues().length);
  assertEquals("",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
  assertEquals("",prop.getStringValues()[2]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.resolver.internal.SlingServletResolverTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIgnoreRequest(){
  MockSlingHttpServletRequest insecureRequest=new MockSlingHttpServletRequest(SERVLET_PATH,null,SERVLET_EXTENSION,null,null);
  insecureRequest.setResourceResolver(mockResourceResolver);
  insecureRequest.setSecure(false);
  Servlet result=servletResolver.resolveServlet(insecureRequest);
  assertTrue("Did not ignore unwanted request",result.getClass() != MockSlingRequestHandlerServlet.class);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateServiceRegistrationProperties() throws Throwable {
  MockServiceReference msr=new MockServiceReference(null);
  msr.setProperty(ServletResolverConstants.SLING_SERVLET_RESOURCE_TYPES,"sample");
  msr.setProperty(ServletResolverConstants.SLING_SERVLET_METHODS,"GET");
  Field srpf=SlingServletResolver.class.getDeclaredField("servletResourceProviderFactory");
  srpf.setAccessible(true);
  ServletResourceProviderFactory factory=(ServletResourceProviderFactory)srpf.get(servletResolver);
  ServletResourceProvider servlet=factory.create(msr);
  Method createServiceProperties=SlingServletResolver.class.getDeclaredMethod("createServiceProperties",ServiceReference.class,ServletResourceProvider.class,String.class);
  createServiceProperties.setAccessible(true);
  assertNull(msr.getProperty(Constants.SERVICE_RANKING));
  @SuppressWarnings("unchecked") final Dictionary<String,Object> p1=(Dictionary<String,Object>)createServiceProperties.invoke(servletResolver,msr,servlet,"/a");
  assertNull(p1.get(Constants.SERVICE_RANKING));
  Object nonIntValue="Some Non Integer Value";
  msr.setProperty(Constants.SERVICE_RANKING,nonIntValue);
  assertEquals(nonIntValue,msr.getProperty(Constants.SERVICE_RANKING));
  @SuppressWarnings("unchecked") final Dictionary<String,Object> p2=(Dictionary<String,Object>)createServiceProperties.invoke(servletResolver,msr,servlet,"/a");
  assertNull(p2.get(Constants.SERVICE_RANKING));
  Object intValue=Integer.valueOf(123);
  msr.setProperty(Constants.SERVICE_RANKING,intValue);
  assertEquals(intValue,msr.getProperty(Constants.SERVICE_RANKING));
  @SuppressWarnings("unchecked") final Dictionary<String,Object> p3=(Dictionary<String,Object>)createServiceProperties.invoke(servletResolver,msr,servlet,"/a");
  assertEquals(intValue,p3.get(Constants.SERVICE_RANKING));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testAcceptsRequest(){
  MockSlingHttpServletRequest secureRequest=new MockSlingHttpServletRequest(SERVLET_PATH,null,SERVLET_EXTENSION,null,null);
  secureRequest.setResourceResolver(mockResourceResolver);
  secureRequest.setSecure(true);
  Servlet result=servletResolver.resolveServlet(secureRequest);
  assertEquals("Did not resolve to correct servlet",servlet,result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.settings.impl.SlingSettingsServiceImplTest </h4><pre class="type-11 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetSlingIdFromTooShortData() throws IOException {
  final String data=RandomStringUtils.randomAscii(8);
  SlingIdUtil.writeSlingId(slingIdFile,data);
  final SlingSettingsService slingSettingsService=createSlingSettingsService(slingIdFile,optionsFile);
  final String slingId=slingSettingsService.getSlingId();
  assertNotNull(slingId);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetSlingIdCreating() throws IOException {
  final SlingSettingsService slingSettingsService=createSlingSettingsService(slingIdFile,optionsFile);
  final String slingId=slingSettingsService.getSlingId();
  assertNotNull(slingId);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSlingIdExisting() throws IOException {
  final String expected=SlingIdUtil.createSlingId();
  SlingIdUtil.writeSlingId(slingIdFile,expected);
  final SlingSettingsService slingSettingsService=createSlingSettingsService(slingIdFile,optionsFile);
  final String slingId=slingSettingsService.getSlingId();
  assertNotNull(slingId);
  assertEquals(expected,slingId);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetSlingIdFromTooLargeData() throws IOException {
  final String expected=SlingIdUtil.createSlingId();
  final String data=expected + RandomStringUtils.randomAscii(1024 * 1024);
  SlingIdUtil.writeSlingId(slingIdFile,data);
  final SlingSettingsService slingSettingsService=createSlingSettingsService(slingIdFile,optionsFile);
  final String slingId=slingSettingsService.getSlingId();
  assertNotNull(slingId);
  assertEquals(expected,slingId);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingManagerImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testFindAllSuperimposings() throws InterruptedException, LoginException, RepositoryException {
  when(componentContextProperties.get(SuperimposingManagerImpl.FINDALLQUERIES_PROPERTY)).thenReturn("syntax|query");
  when(resourceResolver.findResources("query","syntax")).then(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation){
      return Arrays.asList(new Resource[]{prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false)}).iterator();
    }
  }
);
  initialize(true);
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSuperimposedResourceCreateMove() throws InterruptedException, LoginException, RepositoryException {
  when(componentContextProperties.get(SuperimposingManagerImpl.FINDALLQUERIES_PROPERTY)).thenReturn("syntax|query");
  initialize(true);
  final Resource superimposedResource=prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false);
  underTest.onEvent(prepareNodeCreateEvent(superimposedResource));
  String oldPath=superimposedResource.getPath();
  moveSuperimposedResource(superimposedResource,"/new/path");
  when(resourceResolver.findResources("query","syntax")).then(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation){
      return Arrays.asList(new Resource[]{superimposedResource}).iterator();
    }
  }
);
  underTest.onEvent(prepareNodeMoveEvent(superimposedResource,oldPath));
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals("/new/path",provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSuperimposedResourceCreateUpdateRemove() throws InterruptedException, LoginException, RepositoryException {
  initialize(true);
  Resource superimposedResource=prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false);
  underTest.onEvent(prepareNodeCreateEvent(superimposedResource));
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
  superimposedResource.adaptTo(ValueMap.class).put(PROP_SUPERIMPOSE_SOURCE_PATH,"/other/path");
  underTest.onEvent(prepareNodeChangeEvent(superimposedResource));
  providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider2=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider2.getRootPath());
  assertEquals("/other/path",provider2.getSourcePath());
  assertFalse(provider2.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider2),any(Dictionary.class));
  underTest.onEvent(prepareNodeRemoveEvent(superimposedResource));
  providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(0,providers.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceProviderImplTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetMappedNonExistingResourceWithOverlay() throws RepositoryException {
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(session.itemExists(SUPERIMPOSED_PATH + "/sub2")).thenReturn(true);
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub2");
  assertNull(resource);
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub2");
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedRootResource(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEquals(){
  assertTrue(underTest.equals(underTest));
  assertFalse(underTest.equals(underTestOverlay));
  assertTrue(underTestOverlay.equals(underTestOverlay));
  assertFalse(underTest.equals(underTestOverlay));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetterOverlay(){
  assertEquals(SUPERIMPOSED_PATH,underTestOverlay.getRootPath());
  assertEquals(ORIGINAL_PATH,underTestOverlay.getSourcePath());
  assertTrue(underTestOverlay.isOverlayable());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetMappedNonExistingResource(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub2");
  assertNull(resource);
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub2");
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedSubResourceWithOverlay() throws RepositoryException {
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(session.itemExists(SUPERIMPOSED_PATH + "/sub1")).thenReturn(true);
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetter(){
  assertEquals(SUPERIMPOSED_PATH,underTest.getRootPath());
  assertEquals(ORIGINAL_PATH,underTest.getSourcePath());
  assertFalse(underTest.isOverlayable());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedSubResource(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildren(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  Iterator<Resource> iterator=underTest.listChildren(resource);
  assertTrue(iterator.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/sub1",iterator.next().getPath());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetMappedResourceRootInvalidPath(){
  Resource resource=underTest.getResource(resourceResolver,"/invalid/path");
  assertNull(resource);
  resource=underTestOverlay.getResource(resourceResolver,"/invalid/path");
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedRootResourceWithOverlay() throws RepositoryException {
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(session.itemExists(SUPERIMPOSED_PATH)).thenReturn(true);
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildrenWithResourceWrapper(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  Iterator<Resource> iterator=underTest.listChildren(new ResourceWrapper(resource));
  assertTrue(iterator.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/sub1",iterator.next().getPath());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testListChildrenNonSuperimposingResource(){
  Iterator<Resource> iterator=underTest.listChildren(mock(Resource.class));
  assertNull(iterator);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceTest </h4><pre class="type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetter(){
  assertEquals(SUPERIMPOSED_PATH,underTest.getPath());
  assertEquals(RESOURCE_TYPE,underTest.getResourceType());
  assertNull(underTest.getResourceSuperType());
  assertEquals(ORIGINAL_PATH,underTest.getResourceMetadata().getResolutionPath());
  assertSame(this.resourceResolver,underTest.getResourceResolver());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Make sure adaptions are inherited from source resource, but can be overridden by superimposing resource instance.
 */
@Test public void testAdaptTo(){
  SlingAdaptable.setAdapterManager(new AdapterManager(){
    @SuppressWarnings("unchecked") public <AdapterType>AdapterType getAdapter(    Object adaptable,    Class<AdapterType> type){
      if (adaptable instanceof SuperimposingResource && type == String.class) {
        return (AdapterType)"mystring";
      }
      return null;
    }
  }
);
  when(this.originalResource.adaptTo(String.class)).thenReturn("myoriginalstring");
  when(this.originalResource.adaptTo(Integer.class)).thenReturn(12345);
  assertEquals("mystring",underTest.adaptTo(String.class));
  assertEquals((Integer)12345,underTest.adaptTo(Integer.class));
  assertNull(underTest.adaptTo(Boolean.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tenant.internal.TenantImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_property(){
  @SuppressWarnings("serial") Resource r=new MockResource(pt1,new HashMap<String,Object>(){
{
      put(p1,p1);
    }
  }
);
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertNull(tenant1.getName());
  TestCase.assertNull(tenant1.getDescription());
  Iterator<String> pi=tenant1.getPropertyNames();
  TestCase.assertTrue(propNamesTest.contains(pi.next()));
  TestCase.assertFalse(pi.hasNext());
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertEquals(p1,tenant1.getProperty(p1));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_name_description(){
  @SuppressWarnings("serial") Resource r=new MockResource(pt1,new HashMap<String,Object>(){
{
      put(Tenant.PROP_NAME,n1);
      put(Tenant.PROP_DESCRIPTION,d1);
    }
  }
);
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertEquals(n1,tenant1.getName());
  TestCase.assertEquals(d1,tenant1.getDescription());
  Iterator<String> pi=tenant1.getPropertyNames();
  TestCase.assertTrue(propNamesDefault.contains(pi.next()));
  TestCase.assertTrue(propNamesDefault.contains(pi.next()));
  TestCase.assertFalse(pi.hasNext());
  TestCase.assertEquals(n1,tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertEquals(d1,tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertNull(tenant1.getProperty(p1));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_id(){
  Resource r=new MockResource(pt1,new HashMap<String,Object>());
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertNull(tenant1.getName());
  TestCase.assertNull(tenant1.getDescription());
  TestCase.assertFalse(tenant1.getPropertyNames().hasNext());
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertNull(tenant1.getProperty(p1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tenant.internal.TenantProviderImplTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListTenantsWithoutTenantRoot() throws Exception {
  TenantProviderImpl provider=new TenantProviderImpl();
  final ResourceResolverFactory rrf=Mockito.mock(ResourceResolverFactory.class);
  final BundleContext context=Mockito.mock(BundleContext.class);
  final ResourceResolver rr=Mockito.mock(ResourceResolver.class);
  Mockito.when(rrf.getAdministrativeResourceResolver(Mockito.anyMapOf(String.class,Object.class))).thenReturn(rr);
  set(provider,"factory",rrf);
  provider.activate(context,new HashMap<String,Object>());
  Iterator<Tenant> tenants=provider.getTenants();
  TestCase.assertNotNull(tenants);
  TestCase.assertFalse(tenants.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockNodeTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testNtFileNode() throws RepositoryException {
  Node ntFile=this.session.getRootNode().addNode("testFile",JcrConstants.NT_FILE);
  assertNotNull(ntFile.getProperty(JcrConstants.JCR_CREATED).getDate());
  assertNotNull(ntFile.getProperty("jcr:createdBy").getString());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNodes() throws RepositoryException {
  final Node node111=this.node11.addNode("node111");
  NodeIterator nodes=this.node1.getNodes();
  assertEquals(1,nodes.getSize());
  assertEquals(this.node11,nodes.nextNode());
  assertTrue(this.node1.hasNodes());
  assertTrue(this.node11.hasNodes());
  assertFalse(node111.hasNodes());
  nodes=this.node1.getNodes("^node.*$");
  assertEquals(1,nodes.getSize());
  assertEquals(this.node11,nodes.nextNode());
  nodes=this.node1.getNodes("unknown?");
  assertEquals(0,nodes.getSize());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProperties() throws RepositoryException {
  PropertyIterator properties=this.node1.getProperties();
  Map<String,Property> props=propertiesToMap(properties);
  assertEquals(2,properties.getSize());
  assertEquals(this.prop1,props.get("prop1"));
  assertTrue(this.node1.hasProperties());
  assertTrue(this.node11.hasProperties());
  properties=this.node1.getProperties("^prop.*$");
  assertEquals(1,properties.getSize());
  assertEquals(this.prop1,properties.next());
  properties=this.node1.getProperties("unknown?");
  assertEquals(0,properties.getSize());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetPrimaryItem() throws RepositoryException {
  Node dataParent=this.node1.addNode("dataParent");
  Property dataProperty=dataParent.setProperty(JcrConstants.JCR_DATA,"data");
  assertEquals(dataProperty,dataParent.getPrimaryItem());
  Node contentParent=this.node1.addNode("contentParent");
  Node contentNode=contentParent.addNode(JcrConstants.JCR_CONTENT);
  assertEquals(contentNode,contentParent.getPrimaryItem());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockPropertyTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinary() throws RepositoryException, IOException {
  byte[] value1=new byte[]{0x01,0x01,0x03};
  this.node1.setProperty("prop1",new BinaryValue(value1).getBinary());
  Property prop1=this.node1.getProperty("prop1");
  assertArrayEquals(value1,IOUtils.toByteArray(prop1.getBinary().getStream()));
  assertArrayEquals(value1,IOUtils.toByteArray(prop1.getValue().getBinary().getStream()));
  byte[] value2=new byte[]{0x04,0x05,0x06};
  prop1.setValue(new BinaryValue(value2).getBinary());
  assertArrayEquals(value2,IOUtils.toByteArray(prop1.getBinary().getStream()));
  assertArrayEquals(value2,IOUtils.toByteArray(prop1.getValue().getBinary().getStream()));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBoolean() throws RepositoryException {
  this.node1.setProperty("prop1",true);
  Property prop1=this.node1.getProperty("prop1");
  assertEquals(true,prop1.getBoolean());
  assertEquals(true,prop1.getValue().getBoolean());
  prop1.setValue(false);
  assertEquals(false,prop1.getBoolean());
  assertEquals(false,prop1.getValue().getBoolean());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDouble() throws RepositoryException {
  this.node1.setProperty("prop1",1.5d);
  Property prop1=this.node1.getProperty("prop1");
  assertEquals(1.5d,prop1.getDouble(),0.001d);
  assertEquals(1.5d,prop1.getValue().getDouble(),0.001d);
  prop1.setValue(Double.MAX_VALUE);
  assertEquals(Double.MAX_VALUE,prop1.getDouble(),0.001d);
  assertEquals(Double.MAX_VALUE,prop1.getValue().getDouble(),0.001d);
}

</code></pre>

<br>
<pre class="type-15 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueArray() throws RepositoryException {
  Value[] value1=new Value[]{this.session.getValueFactory().createValue("aaa"),this.session.getValueFactory().createValue("bbb")};
  this.node1.setProperty("prop1",value1);
  Property prop1=this.node1.getProperty("prop1");
  Value[] values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value1[i].getString(),values[i].getString());
  }
  Value[] value2=new Value[]{this.session.getValueFactory().createValue("cc")};
  prop1.setValue(value2);
  values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value2[i].getString(),values[i].getString());
  }
  assertTrue(prop1.isMultiple());
  assertTrue(prop1.getDefinition().isMultiple());
  assertArrayEquals(new long[]{2},prop1.getLengths());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ValueFormatException.class) public void testSingleValueAsValueArray() throws RepositoryException {
  this.node1.setProperty("prop1",this.session.getValueFactory().createValue("value1"));
  Property prop1=this.node1.getProperty("prop1");
  assertFalse(prop1.isMultiple());
  assertEquals("value1",prop1.getValues()[0].getString());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testLong() throws RepositoryException {
  this.node1.setProperty("prop1",5L);
  Property prop1=this.node1.getProperty("prop1");
  assertEquals(5L,prop1.getLong());
  assertEquals(5L,prop1.getValue().getLong());
  prop1.setValue(Long.MAX_VALUE);
  assertEquals(Long.MAX_VALUE,prop1.getLong());
  assertEquals(Long.MAX_VALUE,prop1.getValue().getLong());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValue() throws RepositoryException {
  this.node1.setProperty("prop1",this.session.getValueFactory().createValue("value1"));
  Property prop1=this.node1.getProperty("prop1");
  assertEquals("value1",prop1.getString());
  assertEquals("value1",prop1.getValue().getString());
  prop1.setValue(this.session.getValueFactory().createValue("value2"));
  assertEquals("value2",prop1.getString());
  assertEquals("value2",prop1.getValue().getString());
  assertFalse(prop1.isMultiple());
  assertFalse(prop1.getDefinition().isMultiple());
  assertEquals(6,prop1.getLength());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBigDecimal() throws RepositoryException {
  this.node1.setProperty("prop1",new BigDecimal("1.5"));
  Property prop1=this.node1.getProperty("prop1");
  assertEquals(new BigDecimal("1.5"),prop1.getDecimal());
  assertEquals(new BigDecimal("1.5"),prop1.getValue().getDecimal());
  prop1.setValue(new BigDecimal("99999999.99999"));
  assertEquals(new BigDecimal("99999999.99999"),prop1.getDecimal());
  assertEquals(new BigDecimal("99999999.99999"),prop1.getValue().getDecimal());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCalendar() throws RepositoryException {
  Calendar value1=Calendar.getInstance();
  this.node1.setProperty("prop1",value1);
  Property prop1=this.node1.getProperty("prop1");
  assertEquals(value1,prop1.getDate());
  assertEquals(value1,prop1.getValue().getDate());
  Calendar value2=Calendar.getInstance();
  value2.add(Calendar.MONTH,-1);
  prop1.setValue(value2);
  assertEquals(value2,prop1.getDate());
  assertEquals(value2,prop1.getValue().getDate());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyArrayGetType() throws RepositoryException {
  this.node1.setProperty("prop1",new Value[]{});
  Property prop1=this.node1.getProperty("prop1");
  assertTrue(prop1.isMultiple());
  assertEquals(PropertyType.UNDEFINED,prop1.getType());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("deprecation") @Test public void testInputStream() throws RepositoryException, IOException {
  byte[] value1=new byte[]{0x01,0x01,0x03};
  this.node1.setProperty("prop1",new ByteArrayInputStream(value1));
  Property prop1=this.node1.getProperty("prop1");
  assertArrayEquals(value1,IOUtils.toByteArray(prop1.getStream()));
  byte[] value2=new byte[]{0x04,0x05,0x06};
  prop1.setValue(new ByteArrayInputStream(value2));
  assertArrayEquals(value2,IOUtils.toByteArray(prop1.getValue().getStream()));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testString() throws RepositoryException {
  this.node1.setProperty("prop1","value1");
  Property prop1=this.node1.getProperty("prop1");
  assertEquals("value1",prop1.getString());
  assertEquals("value1",prop1.getValue().getString());
  prop1.setValue("value2");
  assertEquals("value2",prop1.getString());
  assertEquals("value2",prop1.getValue().getString());
  assertFalse(prop1.isMultiple());
  assertFalse(prop1.getDefinition().isMultiple());
  assertEquals(6,prop1.getLength());
}

</code></pre>

<br>
<pre class="type-15 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringArray() throws RepositoryException {
  String[] value1=new String[]{"aaa","bbb"};
  this.node1.setProperty("prop1",value1);
  Property prop1=this.node1.getProperty("prop1");
  Value[] values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value1[i],values[i].getString());
  }
  String[] value2=new String[]{"cc"};
  prop1.setValue(value2);
  values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value2[i],values[i].getString());
  }
  assertTrue(prop1.isMultiple());
  assertTrue(prop1.getDefinition().isMultiple());
  assertArrayEquals(new long[]{2},prop1.getLengths());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockQueryManagerTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_ResultHandler_Rows() throws RepositoryException {
  final List<String> columnNames=ImmutableList.of("stringProp","intProp","optionalStringProp");
  MockJcr.addQueryResultHandler(queryManager,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      return new MockQueryResult(sampleNodes,columnNames);
    }
  }
);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  assertEquals(columnNames,ImmutableList.copyOf(result.getColumnNames()));
  List<Row> rows=ImmutableList.copyOf(result.getRows());
  assertEquals("value1",rows.get(0).getValue("stringProp").getString());
  assertEquals(1L,rows.get(0).getValue("intProp").getLong());
  assertEquals("optValue1",rows.get(0).getValue("optionalStringProp").getString());
  assertEquals("value2",rows.get(1).getValues()[0].getString());
  assertEquals(2L,rows.get(1).getValues()[1].getLong());
  assertNull(rows.get(1).getValues()[2]);
  assertEquals("value3",rows.get(2).getValues()[0].getString());
  assertEquals(3L,rows.get(2).getValues()[1].getLong());
  assertNull(rows.get(2).getValues()[2]);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_ResultHandler() throws RepositoryException {
  MockJcr.addQueryResultHandler(queryManager,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query1")) {
        return new MockQueryResult(sampleNodes);
      }
      return null;
    }
  }
);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_SpecificQuery() throws RepositoryException {
  MockJcr.setQueryResult(queryManager,"query1",Query.JCR_SQL2,sampleNodes);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoQueryResults() throws RepositoryException {
  Query query=queryManager.createQuery("dummy",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_AllQuerys() throws RepositoryException {
  MockJcr.setQueryResult(queryManager,sampleNodes);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_MultipleResultHandlers() throws RepositoryException {
  final List<Node> sampleNodes2=ImmutableList.of(sampleNodes.get(0));
  MockJcr.addQueryResultHandler(session,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query2")) {
        return new MockQueryResult(sampleNodes2);
      }
      return null;
    }
  }
);
  MockJcr.addQueryResultHandler(session,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query1")) {
        return new MockQueryResult(sampleNodes);
      }
      return null;
    }
  }
);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertEquals(sampleNodes2,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query3",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockRepositoryTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testLogin() throws RepositoryException {
  assertNotNull(repository.login());
  assertNotNull(repository.login(new SimpleCredentials(USER_NAME,PASSWORD)));
  assertNotNull(repository.login(MockJcr.DEFAULT_WORKSPACE));
  assertNotNull(repository.login(new SimpleCredentials(USER_NAME,PASSWORD),MockJcr.DEFAULT_WORKSPACE));
}

</code></pre>

<br>
<pre class="type-6 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultipleSessions() throws RepositoryException {
  Session session1=repository.login();
  Session session2=repository.login();
  Node root=session1.getRootNode();
  root.addNode("test");
  session1.save();
  Node testNode2=session2.getNode("/test");
  assertNotNull(testNode2);
  testNode2.remove();
  session2.save();
  try {
    session1.getNode("/test");
    fail("Node was not removed");
  }
 catch (  PathNotFoundException ex) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDescriptor(){
  assertEquals(0,repository.getDescriptorKeys().length);
  assertNull(repository.getDescriptor("test"));
  assertNull(repository.getDescriptorValue("test"));
  assertNull(repository.getDescriptorValues("test"));
  assertFalse(repository.isStandardDescriptor("test"));
  assertFalse(repository.isSingleValueDescriptor("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockSessionTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNamespaces() throws RepositoryException {
  assertArrayEquals(new String[]{"jcr"},this.session.getNamespacePrefixes());
  assertEquals("http://www.jcp.org/jcr/1.0",this.session.getNamespaceURI("jcr"));
  assertEquals("jcr",this.session.getNamespacePrefix("http://www.jcp.org/jcr/1.0"));
  this.session.setNamespacePrefix("dummy","http://mydummy");
  assertEquals(ImmutableSet.of("jcr","dummy"),ImmutableSet.copyOf(this.session.getNamespacePrefixes()));
  assertEquals("http://mydummy",this.session.getNamespaceURI("dummy"));
  assertEquals("dummy",this.session.getNamespacePrefix("http://mydummy"));
  NamespaceRegistry namespaceRegistry=this.session.getWorkspace().getNamespaceRegistry();
  assertEquals(ImmutableSet.of("jcr","dummy"),ImmutableSet.copyOf(namespaceRegistry.getPrefixes()));
  assertEquals(ImmutableSet.of("http://www.jcp.org/jcr/1.0","http://mydummy"),ImmutableSet.copyOf(namespaceRegistry.getURIs()));
  assertEquals("http://mydummy",namespaceRegistry.getURI("dummy"));
  assertEquals("dummy",namespaceRegistry.getPrefix("http://mydummy"));
  namespaceRegistry.unregisterNamespace("dummy");
  assertEquals(ImmutableSet.of("jcr"),ImmutableSet.copyOf(this.session.getNamespacePrefixes()));
  assertEquals("http://www.jcp.org/jcr/1.0",this.session.getNamespaceURI("jcr"));
  assertEquals("jcr",this.session.getNamespacePrefix("http://www.jcp.org/jcr/1.0"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNewState() throws RepositoryException {
  Node node=this.session.getRootNode().addNode("foo");
  Property property=node.setProperty("testProp","value123");
  assertTrue(node.isNew());
  assertTrue(property.isNew());
  this.session.save();
  assertFalse(node.isNew());
  assertFalse(property.isNew());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNodeRemove() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  Node node1=rootNode.addNode("node1");
  assertTrue(this.session.itemExists("/node1"));
  node1.remove();
  assertFalse(this.session.itemExists("/node1"));
  assertFalse(rootNode.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithCustomUserWorkspace(){
  Session mySession=MockJcr.newSession("myUser","myWorkspace");
  assertEquals("myUser",mySession.getUserID());
  assertEquals("myWorkspace",mySession.getWorkspace().getName());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLogout() throws Exception {
  assertTrue(session.isLive());
  session.logout();
  assertFalse(session.isLive());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptySession() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  assertNotNull(rootNode);
  assertFalse(rootNode.getProperties().hasNext());
  assertFalse(rootNode.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodesWithSpecialNames() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  Node node1=rootNode.addNode("node1.ext");
  Node node11=node1.addNode("Node Name With Spaces");
  node11.setProperty("prop11","value11");
  Node node12=node1.addNode("node12_ext");
  node12.setProperty("prop12","value12");
  assertTrue(this.session.itemExists("/node1.ext"));
  assertTrue(this.session.itemExists("/node1.ext/Node Name With Spaces"));
  assertTrue(this.session.itemExists("/node1.ext/node12_ext"));
  assertEquals("value11",node11.getProperty("prop11").getString());
  assertEquals("value12",node12.getProperty("prop12").getString());
  NodeIterator nodes=node1.getNodes();
  assertEquals(2,nodes.getSize());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodePropertyCreateRead() throws RepositoryException {
  Node rootNode=this.session.getNode("/");
  assertEquals(rootNode,this.session.getRootNode());
  Node node1=rootNode.addNode("node1");
  node1.setProperty("prop1a","value1a");
  node1.setProperty("prop1b","value1b");
  Node node2=rootNode.addNode("node2");
  node2.setProperty("prop2","value2");
  assertEquals(node1,rootNode.getNode("node1"));
  assertEquals(node1,this.session.getNode("/node1"));
  assertEquals(node1,this.session.getItem("/node1"));
  assertEquals(node1,this.session.getNodeByIdentifier(node1.getIdentifier()));
  assertTrue(this.session.nodeExists("/node1"));
  assertTrue(this.session.itemExists("/node1"));
  assertEquals(node2,rootNode.getNode("node2"));
  assertEquals(node2,this.session.getNode("/node2"));
  assertEquals(node2,this.session.getItem("/node2"));
  assertEquals(node2,this.session.getNodeByIdentifier(node2.getIdentifier()));
  assertTrue(this.session.nodeExists("/node2"));
  assertTrue(this.session.itemExists("/node2"));
  Property prop1a=node1.getProperty("prop1a");
  Property prop1b=node1.getProperty("prop1b");
  Property prop2=node2.getProperty("prop2");
  assertEquals(prop1a,this.session.getProperty("/node1/prop1a"));
  assertEquals(prop1a,this.session.getItem("/node1/prop1a"));
  assertTrue(this.session.propertyExists("/node1/prop1a"));
  assertTrue(this.session.itemExists("/node1/prop1a"));
  assertEquals(prop1b,this.session.getProperty("/node1/prop1b"));
  assertEquals(prop1b,this.session.getItem("/node1/prop1b"));
  assertTrue(this.session.propertyExists("/node1/prop1b"));
  assertTrue(this.session.itemExists("/node1/prop1b"));
  assertEquals(prop2,this.session.getProperty("/node2/prop2"));
  assertEquals(prop2,this.session.getItem("/node2/prop2"));
  assertTrue(this.session.propertyExists("/node2/prop2"));
  assertTrue(this.session.itemExists("/node2/prop2"));
  assertEquals("value1a",prop1a.getString());
  assertEquals("value1b",prop1b.getString());
  assertEquals("value2",prop2.getString());
  assertFalse(this.session.propertyExists("/node1"));
  assertFalse(this.session.nodeExists("/node1/prop1a"));
  assertEquals(JcrConstants.NT_UNSTRUCTURED,node1.getPrimaryNodeType().getName());
  assertTrue(node1.isNodeType(JcrConstants.NT_UNSTRUCTURED));
  assertTrue(node1.getPrimaryNodeType().isNodeType(JcrConstants.NT_UNSTRUCTURED));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleContextTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoServiceReferences() throws InvalidSyntaxException {
  ServiceReference<?>[] refs=bundleContext.getServiceReferences(String.class.getName(),null);
  assertNull(refs);
  Collection<ServiceReference<String>> refCol=bundleContext.getServiceReferences(String.class,null);
  assertNotNull(refCol);
  assertTrue(refCol.isEmpty());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testServiceUnregistration(){
  String clazz1=String.class.getName();
  Object service1=new Object();
  Dictionary<String,Object> properties1=getServiceProperties(null);
  ServiceRegistration reg1=bundleContext.registerService(clazz1,service1,properties1);
  assertNotNull(bundleContext.getServiceReference(clazz1));
  reg1.unregister();
  assertNull(bundleContext.getServiceReference(clazz1));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testObjectClassFilterMatches() throws InvalidSyntaxException {
  Filter filter=bundleContext.createFilter("(" + Constants.OBJECTCLASS + "="+ Integer.class.getName()+ ")");
  ServiceRegistration serviceRegistration=bundleContext.registerService(Integer.class.getName(),Integer.valueOf(1),null);
  assertTrue(filter.match(serviceRegistration.getReference()));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServiceRegistration() throws InvalidSyntaxException {
  String[] clazzes2=new String[]{String.class.getName(),Integer.class.getName()};
  Object service2=new Object();
  Dictionary<String,Object> properties2=getServiceProperties(null);
  ServiceRegistration reg2=bundleContext.registerService(clazzes2,service2,properties2);
  String clazz1=String.class.getName();
  Object service1=new Object();
  Dictionary<String,Object> properties1=getServiceProperties(null);
  ServiceRegistration reg1=bundleContext.registerService(clazz1,service1,properties1);
  String clazz3=Integer.class.getName();
  Object service3=new Object();
  Dictionary<String,Object> properties3=getServiceProperties(-100L);
  ServiceRegistration reg3=bundleContext.registerService(clazz3,service3,properties3);
  ServiceReference<?> refString=bundleContext.getServiceReference(String.class.getName());
  assertSame(reg1.getReference(),refString);
  ServiceReference<?> refInteger=bundleContext.getServiceReference(Integer.class.getName());
  assertSame(reg3.getReference(),refInteger);
  ServiceReference<?>[] refsString=bundleContext.getServiceReferences(String.class.getName(),null);
  assertEquals(2,refsString.length);
  assertSame(reg1.getReference(),refsString[0]);
  assertSame(reg2.getReference(),refsString[1]);
  Collection<ServiceReference<String>> refColString=bundleContext.getServiceReferences(String.class,null);
  assertEquals(2,refColString.size());
  assertSame(reg1.getReference(),refColString.iterator().next());
  ServiceReference<?>[] refsInteger=bundleContext.getServiceReferences(Integer.class.getName(),null);
  assertEquals(2,refsInteger.length);
  assertSame(reg3.getReference(),refsInteger[0]);
  assertSame(reg2.getReference(),refsInteger[1]);
  ServiceReference<?>[] allRefsString=bundleContext.getAllServiceReferences(String.class.getName(),null);
  assertArrayEquals(refsString,allRefsString);
  assertSame(service1,bundleContext.getService(refsString[0]));
  assertSame(service2,bundleContext.getService(refsString[1]));
  assertSame(service3,bundleContext.getService(refInteger));
  bundleContext.ungetService(refsString[0]);
  bundleContext.ungetService(refsString[1]);
  bundleContext.ungetService(refInteger);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testObjectClassFilterDoesNotMatch() throws InvalidSyntaxException {
  Filter filter=bundleContext.createFilter("(" + Constants.OBJECTCLASS + "="+ Integer.class.getName()+ ")");
  ServiceRegistration serviceRegistration=bundleContext.registerService(Long.class.getName(),Long.valueOf(1),null);
  assertFalse(filter.match(serviceRegistration.getReference()));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDataFile(){
  File rootFile=bundleContext.getDataFile("");
  assertNotNull(rootFile);
  File childFile=bundleContext.getDataFile("child");
  assertNotNull(childFile);
  assertEquals(childFile.getParentFile(),rootFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleTest </h4><pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths_leadingSlash(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(1));
  assertTrue(paths.contains("bundleData/nested/"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void getEntryPaths_empty(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("/");
  List<String> paths=Collections.list(entryPaths);
  assertTrue(paths.size() >= 3);
  assertTrue(paths.contains("bundleData/"));
  assertTrue(paths.contains("OSGI-INF/"));
  assertTrue(paths.contains("META-INF/"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void getEntryPaths_noMatch(){
  assertNull(bundle.getEntryPaths("/EMPTY"));
  assertNull(bundle.getEntryPaths("EMPTY"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void getEntryPaths_slash(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("/");
  List<String> paths=Collections.list(entryPaths);
  assertTrue(paths.size() >= 3);
  assertTrue(paths.contains("bundleData/"));
  assertTrue(paths.contains("OSGI-INF/"));
  assertTrue(paths.contains("META-INF/"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetSymbolicName() throws Exception {
  bundle.setSymbolicName("name-1");
  assertEquals("name-1",bundle.getSymbolicName());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths_Nested(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData/nested");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(2));
  assertTrue(paths.contains("bundleData/nested/first.txt"));
  assertTrue(paths.contains("bundleData/nested/second.txt"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(1));
  assertTrue(paths.contains("bundleData/nested/"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetLastModified(){
  bundle.setLastModified(42);
  assertEquals(42,bundle.getLastModified());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetHeaders(){
  bundle.setHeaders(ImmutableMap.of("prop1","value1"));
  assertEquals("value1",bundle.getHeaders().get("prop1"));
  assertEquals("value1",bundle.getHeaders("en").get("prop1"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetEntry(){
  assertNotNull(bundle.getEntry("/META-INF/test.txt"));
  assertNotNull(bundle.getEntry("META-INF/test.txt"));
  assertNull(bundle.getEntry("/invalid"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockComponentContextTest </h4><pre class="type-11 type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testLocateService(){
  String clazz=String.class.getName();
  Object service=new Object();
  underTest.getBundleContext().registerService(clazz,service,null);
  ServiceReference<?> ref=underTest.getBundleContext().getServiceReference(clazz);
  Object locatedService=underTest.locateService(null,ref);
  assertSame(service,locatedService);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testProvidedProperties(){
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("prop1","value1");
  props.put("prop2",25);
  ComponentContext componentContextWithProperties=MockOsgi.newComponentContext(props);
  Dictionary contextProps=componentContextWithProperties.getProperties();
  assertEquals(2,contextProps.size());
  assertEquals("value1",contextProps.get("prop1"));
  assertEquals(25,contextProps.get("prop2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockConfigurationAdminTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetConfigurationString() throws IOException {
  ConfigurationAdmin configAdmin=context.getService(ConfigurationAdmin.class);
  Configuration config=configAdmin.getConfiguration("org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest$ServiceWithMetadata");
  Dictionary<String,Object> configProps=new Hashtable<String,Object>();
  configProps.put(Constants.SERVICE_RANKING,3000);
  configProps.put("adaptables",TEST_ADAPTABLES);
  configProps.put("prop2",2);
  config.update(configProps);
  context.registerInjectActivateService(new ServiceWithMetadata(),ImmutableMap.<String,Object>builder().put(Constants.SERVICE_RANKING,4000).put("prop1",1).build());
  ServiceReference reference=context.bundleContext().getServiceReference(Comparable.class.getName());
  assertEquals(4000,reference.getProperty(Constants.SERVICE_RANKING));
  assertEquals(1,reference.getProperty("prop1"));
  assertArrayEquals(TEST_ADAPTABLES,(String[])reference.getProperty("adaptables"));
  assertEquals(2,reference.getProperty("prop2"));
  assertEquals("The Apache Software Foundation",reference.getProperty(Constants.SERVICE_VENDOR));
  assertEquals("org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest$ServiceWithMetadata",reference.getProperty(Constants.SERVICE_PID));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockServiceReferenceTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testWithOsgiMetadata(){
  ServiceWithMetadata serviceWithMetadata=new OsgiMetadataUtilTest.ServiceWithMetadata();
  bundleContext.registerService((String)null,serviceWithMetadata,null);
  ServiceReference reference=this.bundleContext.getServiceReference(Comparable.class.getName());
  assertEquals(5000,reference.getProperty(Constants.SERVICE_RANKING));
  assertEquals("The Apache Software Foundation",reference.getProperty(Constants.SERVICE_VENDOR));
  assertEquals("org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest$ServiceWithMetadata",reference.getProperty(Constants.SERVICE_PID));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testReferences(){
  OsgiMetadata metadata=OsgiMetadataUtil.getMetadata(OsgiServiceUtilTest.Service3.class);
  List<Reference> references=metadata.getReferences();
  assertEquals(4,references.size());
  Reference ref1=references.get(2);
  assertEquals("reference2",ref1.getName());
  assertEquals("org.apache.sling.testing.mock.osgi.OsgiServiceUtilTest$ServiceInterface2",ref1.getInterfaceType());
  assertEquals(ReferenceCardinality.MANDATORY_MULTIPLE,ref1.getCardinality());
  assertEquals("bindReference2",ref1.getBind());
  assertEquals("unbindReference2",ref1.getUnbind());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadata(){
  OsgiMetadata metadata=OsgiMetadataUtil.getMetadata(ServiceWithMetadata.class);
  Set<String> serviceInterfaces=metadata.getServiceInterfaces();
  assertEquals(3,serviceInterfaces.size());
  assertTrue(serviceInterfaces.contains("org.apache.sling.models.spi.Injector"));
  assertTrue(serviceInterfaces.contains("org.apache.sling.models.spi.injectorspecific.InjectAnnotationProcessorFactory"));
  assertTrue(serviceInterfaces.contains("java.lang.Comparable"));
  Map<String,Object> props=metadata.getProperties();
  assertEquals(4,props.size());
  assertEquals(5000,props.get("service.ranking"));
  assertEquals("The Apache Software Foundation",props.get(Constants.SERVICE_VENDOR));
  assertEquals("org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest$ServiceWithMetadata",props.get(Constants.SERVICE_PID));
  assertArrayEquals(new String[]{"org.apache.sling.api.resource.Resource","org.apache.sling.api.resource.ResourceResolver"},(String[])props.get("adaptables"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiServiceUtilActivateDeactivateTest </h4><pre class="type-11 type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService6(){
  Service6 service=new Service6();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertSame(bundleContext,service.getBundleContext());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testService5(){
  Service5 service=new Service5();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService4(){
  Service4 service=new Service4();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService2(){
  Service2 service=new Service2();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getBundleContext());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService3(){
  Service3 service=new Service3();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService1(){
  Service1 service=new Service1();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService7(){
  Service7 service=new Service7();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertSame(bundleContext,service.getBundleContext());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiServiceUtilTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testServiceFactoryViaScr(){
  ServiceFactory1 serviceFactory1=new ServiceFactory1();
  MockOsgi.injectServices(serviceFactory1,bundleContext);
  MockOsgi.activate(serviceFactory1,bundleContext,(Dictionary<String,Object>)null);
  bundleContext.registerService(ServiceFactory1.class.getName(),serviceFactory1,null);
  assertSame(serviceFactory1,bundleContext.getService(bundleContext.getServiceReference(ServiceFactory1.class.getName())));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService3(){
  Service3 service3=new Service3();
  assertTrue(MockOsgi.injectServices(service3,bundleContext));
  Dictionary<String,Object> service3Config=new Hashtable<String,Object>();
  service3Config.put("prop1","value1");
  assertTrue(MockOsgi.activate(service3,bundleContext,service3Config));
  assertNotNull(service3.getComponentContext());
  assertEquals(service3Config.get("prop1"),service3.getComponentContext().getProperties().get("prop1"));
  assertSame(service1,service3.getReference1());
  List<ServiceInterface2> references2=service3.getReferences2();
  assertEquals(1,references2.size());
  assertSame(service2,references2.get(0));
  List<ServiceSuperInterface3> references3=service3.getReferences3();
  assertEquals(1,references3.size());
  assertSame(service2,references3.get(0));
  List<Map<String,Object>> reference3Configs=service3.getReference3Configs();
  assertEquals(1,reference3Configs.size());
  assertEquals(200,reference3Configs.get(0).get(Constants.SERVICE_RANKING));
  assertTrue(MockOsgi.deactivate(service3,bundleContext));
  assertNull(service3.getComponentContext());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testServiceFactoryViaManualRegistration(){
  final ServiceFactory1 serviceFactory1=new ServiceFactory1();
  bundleContext.registerService(ServiceFactory1.class.getName(),new ServiceFactory(){
    @Override public Object getService(    Bundle bundle,    ServiceRegistration registration){
      return serviceFactory1;
    }
    @Override public void ungetService(    Bundle bundle,    ServiceRegistration registration,    Object service){
    }
  }
,null);
  assertSame(serviceFactory1,bundleContext.getService(bundleContext.getServiceReference(ServiceFactory1.class.getName())));
}

</code></pre>

<br>
<pre class="type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMockedService(){
  Service5 service5=Mockito.spy(new Service5());
  Mockito.doReturn(true).when(service5).doRemoteThing();
  MockOsgi.injectServices(service5,bundleContext);
  MockOsgi.activate(service5,bundleContext,(Dictionary<String,Object>)null);
  bundleContext.registerService(ServiceInterface5.class.getName(),service5,null);
  assertSame(service5,bundleContext.getService(bundleContext.getServiceReference(ServiceInterface5.class.getName())));
  assertEquals(true,service5.doRemoteThing());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.context.OsgiContextImplTest </h4><pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testRegisterMultipleServices(){
  Set<String> myService1=new HashSet<String>();
  context.registerService(Set.class,myService1);
  Set<String> myService2=new HashSet<String>();
  context.registerService(Set.class,myService2);
  Set[] serviceResults=context.getServices(Set.class,null);
  assertSame(myService1,serviceResults[1]);
  assertSame(myService2,serviceResults[0]);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterServiceWithProperties(){
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("prop1","value1");
  Set<String> myService=new HashSet<String>();
  context.registerService(Set.class,myService,props);
  ServiceReference<?> serviceReference=context.bundleContext().getServiceReference(Set.class.getName());
  Object serviceResult=context.bundleContext().getService(serviceReference);
  assertSame(myService,serviceResult);
  assertEquals("value1",serviceReference.getProperty("prop1"));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testContextObjects(){
  assertNotNull(context.componentContext());
  assertNotNull(context.bundleContext());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void testRegisterService(){
  Set<String> myService=new HashSet<String>();
  context.registerService(Set.class,myService);
  Set<?> serviceResult=context.getService(Set.class);
  assertSame(myService,serviceResult);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.builder.ContentBuilderTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithProperties(){
  Resource resource=context.create().resource("/content/test1/resource2",ImmutableMap.<String,Object>builder().put("jcr:title","Test Title").put("stringProp","value1").build());
  assertNotNull(resource);
  assertEquals("resource2",resource.getName());
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals("Test Title",props.get("jcr:title",String.class));
  assertEquals("value1",props.get("stringProp",String.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResource(){
  Resource resource=context.create().resource("/content/test1/resource1");
  assertNotNull(resource);
  assertEquals("resource1",resource.getName());
  assertTrue(ResourceUtil.getValueMap(resource).isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.context.AbstractSlingContextImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSlingModelsRequestAttribute(){
  context.request().setAttribute("prop1","myValue");
  RequestAttributeModel model=context.request().adaptTo(RequestAttributeModel.class);
  assertEquals("myValue",model.getProp1());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetCurrentResource(){
  context.currentResource("/content/sample/en/jcr:content/par/colctrl");
  assertEquals("/content/sample/en/jcr:content/par/colctrl",context.currentResource().getPath());
  context.currentResource(context.resourceResolver().getResource("/content/sample/en/jcr:content/par"));
  assertEquals("/content/sample/en/jcr:content/par",context.currentResource().getPath());
  context.currentResource((Resource)null);
  assertNull(context.request().getResource());
  context.currentResource((String)null);
  assertNull(context.request().getResource());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testResourceResolverFactory(){
  ResourceResolverFactory factory=context.getService(ResourceResolverFactory.class);
  assertNotNull(factory);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdaptToInterface(){
  context.request().setAttribute("prop1","myValue");
  ServiceInterface model=context.request().adaptTo(ServiceInterface.class);
  assertNotNull(model);
  assertEquals("myValue",model.getPropValue());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testSlingModelsInvalidAdapt(){
  OsgiServiceModel model=context.request().adaptTo(OsgiServiceModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlingBindings(){
  SlingBindings bindings=(SlingBindings)context.request().getAttribute(SlingBindings.class.getName());
  assertNotNull(bindings);
  assertSame(context.request(),bindings.get(SlingBindings.REQUEST));
  assertSame(context.response(),bindings.get(SlingBindings.RESPONSE));
  assertSame(context.slingScriptHelper(),bindings.get(SlingBindings.SLING));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testContextObjects(){
  assertNotNull(context.componentContext());
  assertNotNull(context.bundleContext());
  assertNotNull(context.resourceResolver());
  assertNotNull(context.request());
  assertNotNull(context.requestPathInfo());
  assertNotNull(context.response());
  assertNotNull(context.slingScriptHelper());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlingModelsOsgiService(){
  context.registerService(new MockMimeTypeService());
  OsgiServiceModel model=context.resourceResolver().adaptTo(OsgiServiceModel.class);
  assertNotNull(model.getMimeTypeService());
  assertEquals("text/html",model.getMimeTypeService().getMimeType("html"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunModes(){
  SlingSettingsService slingSettings=context.getService(SlingSettingsService.class);
  assertEquals(SlingContextImpl.DEFAULT_RUN_MODES,slingSettings.getRunModes());
  context.runMode("mode1","mode2");
  Set<String> newRunModes=slingSettings.getRunModes();
  assertEquals(2,newRunModes.size());
  assertTrue(newRunModes.contains("mode1"));
  assertTrue(newRunModes.contains("mode2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.context.ModelAdapterFactoryUtilTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdaptToInterface(){
  context.request().setAttribute("prop1","myValue");
  ServiceInterface model=context.request().adaptTo(ServiceInterface.class);
  assertNotNull(model);
  assertEquals("myValue",model.getPropValue());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestAttribute(){
  context.request().setAttribute("prop1","myValue");
  RequestAttributeModel model=context.request().adaptTo(RequestAttributeModel.class);
  assertNotNull(model);
  assertEquals("myValue",model.getProp1());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testInvalidAdapt(){
  OsgiServiceModel model=context.request().adaptTo(OsgiServiceModel.class);
  assertNull(model);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOsgiService(){
  context.registerService(MimeTypeService.class,new MockMimeTypeService(),null);
  OsgiServiceModel model=context.resourceResolver().adaptTo(OsgiServiceModel.class);
  assertNotNull(model);
  assertNotNull(model.getMimeTypeService());
  assertEquals("text/html",model.getMimeTypeService().getMimeType("html"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.jcrmock.resource.FindResourcesTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testFindResources(){
  Resource resource=context.resourceResolver().getResource("/test");
  Assert.assertNotNull("Resource with name 'test' should be there",resource);
  Iterator<Resource> result=context.resourceResolver().findResources("/test",Query.XPATH);
  Assert.assertTrue("At least one result expected",result.hasNext());
  Assert.assertEquals("/test",result.next().getPath());
  Assert.assertFalse("At most one result expected",result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.junit.SlingContextTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterAdapter(){
  context.registerAdapter(ResourceResolver.class,Integer.class,5);
  context.registerAdapter(ResourceResolver.class,String.class,new Function<ResourceResolver,String>(){
    @Override public String apply(    ResourceResolver input){
      return ">" + input.toString();
    }
  }
);
  assertEquals(Integer.valueOf(5),context.resourceResolver().adaptTo(Integer.class));
  assertEquals(">" + context.resourceResolver().toString(),context.resourceResolver().adaptTo(String.class));
  assertNull(context.resourceResolver().adaptTo(Double.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonDamTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDamAssetMetadata() throws IOException {
  Resource assetMetadata=context.resourceResolver().getResource(path + "/sample/portraits/scott_reynolds.jpg/jcr:content/metadata");
  ValueMap props=ResourceUtil.getValueMap(assetMetadata);
  assertEquals("Canon\u0000",props.get("tiff:Make",String.class));
  assertEquals((Long)807L,props.get("tiff:ImageWidth",Long.class));
  assertEquals((Integer)595,props.get("tiff:ImageLength",Integer.class));
  assertEquals(4.64385986328125d,props.get("dam:ApertureValue",Double.class),0.00000000001d);
  assertArrayEquals(new String[]{"stockphotography:business/business_people","properties:style/color","properties:orientation/landscape"},props.get("app:tags",String[].class));
  Resource binaryMetadata=context.resourceResolver().getResource(path + "/sample/portraits/scott_reynolds.jpg/jcr:content/renditions/original/jcr:content");
  ValueMap binaryProps=ResourceUtil.getValueMap(binaryMetadata);
  InputStream is=binaryProps.get(JcrConstants.JCR_DATA,InputStream.class);
  assertNotNull(is);
  byte[] binaryData=IOUtils.toByteArray(is);
  assertEquals(0,binaryData.length);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentProperties(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/jcr:content/header");
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals("/content/dam/sample/header.png",props.get("imageReference",String.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testContentResourceType(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/jcr:content/header");
  assertEquals("sample/components/header",resource.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testUTF8Chars(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/jcr:content");
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals("",props.get("utf8Property"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPageResourceType(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en");
  assertEquals("app:Page",resource.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPageContentProperties(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/toolbar/profiles/jcr:content");
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals(true,props.get("hideInNav",Boolean.class));
  assertEquals((Long)1234567890123L,props.get("longProp",Long.class));
  assertEquals(1.2345d,props.get("decimalProp",Double.class),0.00001d);
  assertEquals(true,props.get("booleanProp",Boolean.class));
  assertArrayEquals(new Long[]{1234567890123L,55L},props.get("longPropMulti",Long[].class));
  assertArrayEquals(new Double[]{1.2345d,1.1d},props.get("decimalPropMulti",Double[].class));
  assertArrayEquals(new Boolean[]{true,false},props.get("booleanPropMulti",Boolean[].class));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCalendarISO8601Format(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/jcr:content");
  ValueMap props=ResourceUtil.getValueMap(resource);
  Calendar calendar=props.get("dateISO8601String",Calendar.class);
  assertNotNull(calendar);
  calendar.setTimeZone(TimeZone.getTimeZone("GMT+2"));
  assertEquals(2014,calendar.get(Calendar.YEAR));
  assertEquals(4,calendar.get(Calendar.MONTH) + 1);
  assertEquals(22,calendar.get(Calendar.DAY_OF_MONTH));
  assertEquals(15,calendar.get(Calendar.HOUR_OF_DAY));
  assertEquals(11,calendar.get(Calendar.MINUTE));
  assertEquals(24,calendar.get(Calendar.SECOND));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCalendarEcmaFormat(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/jcr:content");
  ValueMap props=ResourceUtil.getValueMap(resource);
  Calendar calendar=props.get("app:lastModified",Calendar.class);
  assertNotNull(calendar);
  calendar.setTimeZone(TimeZone.getTimeZone("GMT+2"));
  assertEquals(2014,calendar.get(Calendar.YEAR));
  assertEquals(4,calendar.get(Calendar.MONTH) + 1);
  assertEquals(22,calendar.get(Calendar.DAY_OF_MONTH));
  assertEquals(15,calendar.get(Calendar.HOUR_OF_DAY));
  assertEquals(11,calendar.get(Calendar.MINUTE));
  assertEquals(24,calendar.get(Calendar.SECOND));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPageContentResourceType(){
  Resource resource=context.resourceResolver().getResource(path + "/sample/en/toolbar/profiles/jcr:content");
  assertEquals("sample/components/contentpage",resource.getResourceType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractJcrNamespaceTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSling4362() throws RepositoryException {
  BundleContext bundleContext=MockOsgi.newBundleContext();
  ResourceResolver resolver=MockSling.newResourceResolver(getResourceResolverType(),bundleContext);
  ContentLoader contentLoader=new ContentLoader(resolver);
  contentLoader.json("/json-import-samples/SLING-4362.json",context.uniqueRoot().content() + "/foo");
  Resource resource=resolver.getResource(context.uniqueRoot().content() + "/foo");
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals("fooType",props.get(SLING_RESOURCE_TYPE_PROPERTY));
  assertEquals("fooType",resource.getResourceType());
  MockOsgi.shutdown(bundleContext);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testSling4362_ViaContextRule() throws RepositoryException {
  ResourceResolver resolver=context.resourceResolver();
  ContentLoader contentLoader=new ContentLoader(resolver);
  contentLoader.json("/json-import-samples/SLING-4362.json",context.uniqueRoot().content() + "/foo");
  Resource resource=resolver.getResource(context.uniqueRoot().content() + "/foo");
  ValueMap props=ResourceUtil.getValueMap(resource);
  assertEquals("fooType",props.get(SLING_RESOURCE_TYPE_PROPERTY));
  assertEquals("fooType",resource.getResourceType());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractJcrResourceResolverTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateNodeWithPrimaryType() throws RepositoryException, PersistenceException {
  Resource parent=context.resourceResolver().getResource(getTestRootNode().getPath());
  Resource child=context.resourceResolver().create(parent,"nodeTypeResource",ImmutableMap.<String,Object>builder().put(SLING_RESOURCE_TYPE_PROPERTY,JcrConstants.NT_UNSTRUCTURED).build());
  assertNotNull(child);
  assertEquals(JcrConstants.NT_UNSTRUCTURED,child.getResourceType());
  assertEquals(JcrConstants.NT_UNSTRUCTURED,child.adaptTo(Node.class).getPrimaryNodeType().getName());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResourcesAndValues() throws IOException, RepositoryException {
  Resource resource1=context.resourceResolver().getResource(getTestRootNode().getPath() + "/node1");
  assertNotNull(resource1);
  assertEquals("node1",resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("booleanProp",Boolean.class));
  assertEquals(DATE_VALUE,props.get("dateProp",Date.class));
  assertEquals(CALENDAR_VALUE.getTime(),props.get("calendarProp",Calendar.class).getTime());
  Resource binaryPropResource=resource1.getChild("binaryProp");
  InputStream is=binaryPropResource.adaptTo(InputStream.class);
  byte[] dataFromResource=IOUtils.toByteArray(is);
  is.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource);
  InputStream is2=binaryPropResource.adaptTo(InputStream.class);
  byte[] dataFromResource2=IOUtils.toByteArray(is2);
  is2.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource2);
  List<Resource> children=ImmutableList.copyOf(resource1.listChildren());
  assertEquals(2,children.size());
  assertEquals("node11",children.get(0).getName());
  assertEquals("node12",children.get(1).getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateNodeWithResourceType() throws RepositoryException, PersistenceException {
  Resource parent=context.resourceResolver().getResource(getTestRootNode().getPath());
  Resource child=ResourceUtil.getOrCreateResource(context.resourceResolver(),parent.getPath() + "/intermediate/child","sling/resource/type",JcrConstants.NT_UNSTRUCTURED,true);
  assertNotNull(child);
  assertEquals(NT_SLING_ORDERED_FOLDER,parent.getResourceType());
  assertEquals("sling/resource/type",child.getResourceType());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPendingChangesCommit() throws Exception {
  if (getResourceResolverType() == ResourceResolverType.JCR_MOCK) {
    return;
  }
  Resource testRootResource=context.resourceResolver().getResource(getTestRootNode().getPath());
  context.resourceResolver().delete(testRootResource);
  assertTrue(session.hasPendingChanges());
  context.resourceResolver().commit();
  assertFalse(session.hasPendingChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractMultipleResourceResolverTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testMultipleResourceResolver() throws Exception {
  ResourceResolverFactory factory=newResourceResolerFactory();
  ResourceResolver resolver1=factory.getAdministrativeResourceResolver(null);
  ResourceResolver resolver2=factory.getAdministrativeResourceResolver(null);
  Resource root=resolver1.getResource("/");
  resolver1.create(root,"test",ImmutableMap.<String,Object>of());
  resolver1.commit();
  Resource testResource2=resolver2.getResource("/test");
  assertNotNull(testResource2);
  resolver2.delete(testResource2);
  resolver2.commit();
  assertNull(resolver1.getResource("/test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractSlingCrudResourceResolverTest </h4><pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  assertNotNull(resource1);
  assertEquals("node1",resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("booleanProp",Boolean.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListChildren() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  List<Resource> children=ImmutableList.copyOf(resource1.listChildren());
  assertEquals(2,children.size());
  assertEquals("node11",children.get(0).getName());
  assertEquals("node12",children.get(1).getName());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCalendarProperty() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(CALENDAR_VALUE.getTime(),props.get("calendarProp",Calendar.class).getTime());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties_DeepPathAccess() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot.getPath());
  assertNotNull(resource1);
  assertEquals(testRoot.getName(),resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("node1/stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("node1/stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("node1/integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("node1/doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("node1/booleanProp",Boolean.class));
  assertEquals(STRING_VALUE,props.get("node1/node11/stringProp11",String.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSearchPath(){
  ContentBuilder builder=new ContentBuilder(context.resourceResolver());
  builder.resource("/libs/any/path");
  Resource resource=context.resourceResolver().getResource("any/path");
  assertNotNull(resource);
  assertEquals("/libs/any/path",resource.getPath());
  builder.resource("/apps/any/path");
  resource=context.resourceResolver().getResource("any/path");
  assertNotNull(resource);
  assertEquals("/apps/any/path",resource.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryData() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  Resource binaryPropResource=resource1.getChild("binaryProp");
  InputStream is=binaryPropResource.adaptTo(InputStream.class);
  byte[] dataFromResource=IOUtils.toByteArray(is);
  is.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource);
  InputStream is2=ResourceUtil.getValueMap(resource1).get("binaryProp",InputStream.class);
  byte[] dataFromResource2=IOUtils.toByteArray(is2);
  is2.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource2);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCalendarPropertyToDate() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  Date dateValue=props.get("calendarProp",Date.class);
  assertNotNull(dateValue);
  assertEquals(CALENDAR_VALUE.getTime(),dateValue);
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetRootResourceByNullPath(){
  Resource rootResource=context.resourceResolver().resolve((String)null);
  assertNotNull(rootResource);
  assertEquals("/",rootResource.getPath());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrimaryTypeResourceType() throws PersistenceException {
  Resource resource=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  assertEquals(JcrConstants.NT_UNSTRUCTURED,resource.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-12 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDatePropertyToCalendar() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  if (getResourceResolverType() != ResourceResolverType.JCR_MOCK && getResourceResolverType() != ResourceResolverType.JCR_JACKRABBIT && getResourceResolverType() != ResourceResolverType.JCR_OAK) {
    Calendar calendarValue=props.get("dateProp",Calendar.class);
    assertNotNull(calendarValue);
    assertEquals(DATE_VALUE,calendarValue.getTime());
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testListChildren_RootNode() throws IOException {
  Resource resource1=context.resourceResolver().getResource("/");
  List<Resource> children=Lists.newArrayList(resource1.listChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,getTestRootResource().getParent()));
  children=Lists.newArrayList(resource1.getChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,getTestRootResource().getParent()));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPendingChangesCommit() throws PersistenceException {
  if (getResourceResolverType() == ResourceResolverType.JCR_MOCK) {
    return;
  }
  context.resourceResolver().delete(getTestRootResource());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
}

</code></pre>

<br>
<pre class="type-11 type-12 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDateProperty() throws IOException {
  Resource resource1=context.resourceResolver().getResource(getTestRootResource().getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  if (getResourceResolverType() != ResourceResolverType.JCR_MOCK && getResourceResolverType() != ResourceResolverType.JCR_JACKRABBIT && getResourceResolverType() != ResourceResolverType.JCR_OAK) {
    assertEquals(DATE_VALUE,props.get("dateProp",Date.class));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractUniqueRootTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testApps() throws Exception {
  String path=context.uniqueRoot().apps();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/apps/[^/]+"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLibs() throws Exception {
  String path=context.uniqueRoot().libs();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/libs/[^/]+"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContent(){
  String path=context.uniqueRoot().content();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/content/[^/]+"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.services.MockSlingSettingServiceTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoDefaultRunModes(){
  MockSlingSettingService underTest=new MockSlingSettingService();
  assertTrue(underTest.getRunModes().isEmpty());
  Set<String> newRunModes=ImmutableSet.<String>builder().add("mode1").add("mode2").build();
  underTest.setRunModes(newRunModes);
  assertEquals(newRunModes,underTest.getRunModes());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDefaultRunModes(){
  Set<String> defaultRunModes=ImmutableSet.<String>builder().add("mode0").build();
  MockSlingSettingService underTest=new MockSlingSettingService(defaultRunModes);
  assertEquals(defaultRunModes,underTest.getRunModes());
  Set<String> newRunModes=ImmutableSet.<String>builder().add("mode1").add("mode2").build();
  underTest.setRunModes(newRunModes);
  assertEquals(newRunModes,underTest.getRunModes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockHttpSessionTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServletContext(){
  assertNotNull(httpSession.getServletContext());
  assertTrue(httpSession.getServletContext() instanceof MockServletContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockSlingHttpServletRequestTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestPathInfo(){
  assertNotNull(request.getRequestPathInfo());
  assertTrue(request.getRequestPathInfo() instanceof MockRequestPathInfo);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultResourceBundle(){
  ResourceBundle bundle=request.getResourceBundle(Locale.US);
  assertNotNull(bundle);
  assertFalse(bundle.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceBundleFromProvider(){
  ResourceBundleProvider provider=mock(ResourceBundleProvider.class);
  bundleContext.registerService(ResourceBundleProvider.class.getName(),provider,null);
  when(provider.getResourceBundle("base1",Locale.US)).thenReturn(new ListResourceBundle(){
    @Override protected Object[][] getContents(){
      return new Object[][]{{"key1","value1"}};
    }
  }
);
  ResourceBundle bundle=request.getResourceBundle("base1",Locale.US);
  assertNotNull(bundle);
  assertEquals("value1",bundle.getString("key1"));
  ResourceBundle bundle2=request.getResourceBundle("base2",Locale.US);
  assertNotNull(bundle2);
  assertFalse(bundle2.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSession(){
  HttpSession session=request.getSession();
  assertNotNull(session);
  assertTrue(session instanceof MockHttpSession);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockSlingHttpServletResponseTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testContentTypeCharset() throws Exception {
  assertNull(response.getContentType());
  assertNull(response.getCharacterEncoding());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.CreateDeleteResourceResolverTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateDeleteCreate() throws PersistenceException {
  Resource resource=resourceResolver.create(testRoot,"node",PROPS1);
  assertEquals(PROPS1,ResourceUtil.getValueMap(resource));
  resourceResolver.delete(resource);
  assertNull(resourceResolver.getResource(testRoot.getPath() + "/node"));
  resource=resourceResolver.create(testRoot,"node",PROPS2);
  assertEquals(PROPS2,ResourceUtil.getValueMap(resource));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommitDeleteCreateCommit() throws PersistenceException {
  Resource resource=resourceResolver.create(testRoot,"node",PROPS1);
  assertEquals(PROPS1,ResourceUtil.getValueMap(resource));
  resourceResolver.commit();
  resourceResolver.delete(resource);
  assertNull(resourceResolver.getResource(testRoot.getPath() + "/node"));
  resource=resourceResolver.create(testRoot,"node",PROPS2);
  assertEquals(PROPS2,ResourceUtil.getValueMap(resource));
  resourceResolver.commit();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateDeleteCreateCommit() throws PersistenceException {
  Resource resource=resourceResolver.create(testRoot,"node",PROPS1);
  assertEquals(PROPS1,ResourceUtil.getValueMap(resource));
  resourceResolver.delete(resource);
  assertNull(resourceResolver.getResource(testRoot.getPath() + "/node"));
  resource=resourceResolver.create(testRoot,"node",PROPS2);
  assertEquals(PROPS2,ResourceUtil.getValueMap(resource));
  resourceResolver.commit();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateCommitDeleteCommitCreateCommit() throws PersistenceException {
  Resource resource=resourceResolver.create(testRoot,"node",PROPS1);
  assertEquals(PROPS1,ResourceUtil.getValueMap(resource));
  resourceResolver.commit();
  resourceResolver.delete(resource);
  assertNull(resourceResolver.getResource(testRoot.getPath() + "/node"));
  resourceResolver.commit();
  resource=resourceResolver.create(testRoot,"node",PROPS2);
  assertEquals(PROPS2,ResourceUtil.getValueMap(resource));
  resourceResolver.commit();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.NtFileResourceTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNtFile() throws IOException {
  Resource file=resourceResolver.create(testRoot,"ntFile",ImmutableMap.<String,Object>builder().put(JCR_PRIMARYTYPE,NT_FILE).build());
  resourceResolver.create(file,JCR_CONTENT,ImmutableMap.<String,Object>builder().put(JCR_PRIMARYTYPE,NT_RESOURCE).put(JCR_DATA,new ByteArrayInputStream(BINARY_VALUE)).build());
  String path=testRoot.getPath() + "/ntFile";
  Resource resource=resourceResolver.getResource(path);
  InputStream is=resource.adaptTo(InputStream.class);
  assertNotNull(is);
  assertArrayEquals(BINARY_VALUE,IOUtils.toByteArray(is));
  is.close();
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNtResource() throws IOException {
  resourceResolver.create(testRoot,"ntResource",ImmutableMap.<String,Object>builder().put(JCR_PRIMARYTYPE,NT_RESOURCE).put(JCR_DATA,new ByteArrayInputStream(BINARY_VALUE)).build());
  String path=testRoot.getPath() + "/ntResource";
  Resource resource=resourceResolver.getResource(path);
  InputStream is=resource.adaptTo(InputStream.class);
  assertNotNull(is);
  assertArrayEquals(BINARY_VALUE,IOUtils.toByteArray(is));
  is.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.ResourceResolverLoginTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetServiceResourceResolverWithoutAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getServiceResourceResolver(null);
  assertNotNull(resolver);
  assertNull(resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetServiceResourceResolverWithAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getServiceResourceResolver(AUTH_INFO);
  assertNotNull(resolver);
  assertNull(resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetResourceResolverWithoutAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getResourceResolver(null);
  assertNotNull(resolver);
  assertNull(resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetAdminstrativeResourceResolverWithAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getAdministrativeResourceResolver(AUTH_INFO);
  assertNotNull(resolver);
  assertNull(resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetAdministrativeResourceResolverWithoutAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getAdministrativeResourceResolver(null);
  assertNotNull(resolver);
  assertNull(resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResourceResolverWithAuthInfo() throws LoginException {
  ResourceResolver resolver=factory.getResourceResolver(AUTH_INFO);
  assertNotNull(resolver);
  assertEquals("myUser",resolver.getAttribute(ResourceResolverFactory.USER));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.RootResourceTypeTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetRootParent(){
  Resource rootParent=resourceResolver.getResource("/..");
  Assert.assertNull(rootParent);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceResolver(){
  Resource root=resourceResolver.getResource("/");
  Assert.assertTrue(root.isResourceType("rep:root"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.SlingCrudResourceResolverTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListChildren_RootNode() throws IOException {
  Resource resource1=resourceResolver.getResource("/");
  List<Resource> children=Lists.newArrayList(resource1.listChildren());
  assertEquals(1,children.size());
  assertEquals("test",children.get(0).getName());
  children=Lists.newArrayList(resource1.getChildren());
  assertEquals(1,children.size());
  assertEquals("test",children.get(0).getName());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties_DeepPathAccess() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath());
  assertNotNull(resource1);
  assertEquals(testRoot.getName(),resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("node1/stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("node1/stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("node1/integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("node1/doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("node1/booleanProp",Boolean.class));
  assertEquals(STRING_VALUE,props.get("node1/node11/stringProp11",String.class));
  assertTrue(STRING_VALUE,props.containsKey("node1/stringProp"));
  assertFalse(STRING_VALUE,props.containsKey("node1/unknownProp"));
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testNormalizePath(){
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/./node1");
  assertEquals("node1",resource1.getName());
  Resource resource11=resourceResolver.getResource(testRoot.getPath() + "/node1/../node1/node11");
  assertEquals("node11",resource11.getName());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testCalendarProperty() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(CALENDAR_VALUE.getTime(),props.get("calendarProp",Calendar.class).getTime());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testBinaryData() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  Resource binaryPropResource=resource1.getChild("binaryProp");
  InputStream is=binaryPropResource.adaptTo(InputStream.class);
  byte[] dataFromResource=IOUtils.toByteArray(is);
  is.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource);
  InputStream is2=ResourceUtil.getValueMap(resource1).get("binaryProp",InputStream.class);
  byte[] dataFromResource2=IOUtils.toByteArray(is2);
  is2.close();
  assertArrayEquals(BINARY_VALUE,dataFromResource2);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testStringToCalendarConversion() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ModifiableValueMap modProps=resource1.adaptTo(ModifiableValueMap.class);
  modProps.put("dateISO8601String",ISO8601.format(CALENDAR_VALUE));
  resourceResolver.commit();
  resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(CALENDAR_VALUE.getTime(),props.get("calendarProp",Calendar.class).getTime());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testGetConvertedToNullType(){
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  Object propValue=ResourceUtil.getValueMap(resource1).get("stringProp",null);
  assertEquals(STRING_VALUE,propValue);
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testListChildren() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  List<Resource> children=Lists.newArrayList(resource1.listChildren());
  assertEquals(2,children.size());
  assertEquals("node11",children.get(0).getName());
  assertEquals("node12",children.get(1).getName());
}

</code></pre>

<br>
<pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testPrimaryTypeResourceType(){
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  assertEquals(NT_UNSTRUCTURED,resource1.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDatePropertyToCalendar() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  Calendar calendarValue=props.get("dateProp",Calendar.class);
  assertNotNull(calendarValue);
  assertEquals(DATE_VALUE,calendarValue.getTime());
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testDateProperty() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(DATE_VALUE,props.get("dateProp",Date.class));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCalendarPropertyToDate() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap props=ResourceUtil.getValueMap(resource1);
  Date dateValue=props.get("calendarProp",Date.class);
  assertNotNull(dateValue);
  assertEquals(CALENDAR_VALUE.getTime(),dateValue);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testGetResourceNullPath(){
  Resource resource=resourceResolver.getResource((String)null);
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  assertNotNull(resource1);
  assertEquals("node1",resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("booleanProp",Boolean.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.ValueMapTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifiableValueMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap map=resource1.adaptTo(ModifiableValueMap.class);
  assertTrue(map instanceof ValueMap && map instanceof ModifiableValueMap);
  assertEquals("value1",map.get("prop1"));
  map.put("prop1","value2");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap map=resource1.adaptTo(ValueMap.class);
  assertTrue(map instanceof ValueMap && !(map instanceof ModifiableValueMap));
  assertEquals("value1",map.get("prop1"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  Map<String,Object> map=resource1.adaptTo(Map.class);
  assertTrue(map instanceof ValueMap && !(map instanceof ModifiableValueMap));
  assertEquals("value1",map.get("prop1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.bundlewit.BasicTeleportedIT </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigAdmin() throws IOException {
  final String pid="TEST_" + getClass().getName() + UUID.randomUUID();
  final ConfigurationAdmin ca=teleporter.getService(ConfigurationAdmin.class);
  assertNotNull("Teleporter should provide a ConfigurationAdmin",ca);
  final Configuration cfg=ca.getConfiguration(pid);
  assertNotNull("Expecting to get a Configuration",cfg);
  assertEquals("Expecting the correct pid",pid,cfg.getPid());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.sampletests.OsgiAwareTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testBundleContext(){
  assertNotNull("Expecting BundleContext to be injected by Sling test runner",bundleContext);
  final String mySymbolicName="org.apache.sling.testing.samples.sampletests";
  Bundle thisBundle=null;
  for (  Bundle b : bundleContext.getBundles()) {
    if (mySymbolicName.equals(b.getSymbolicName())) {
      thisBundle=b;
      break;
    }
  }
  assertNotNull("Expecting to find Bundle " + mySymbolicName,thisBundle);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.sampletests.OsgiAwareWithRuleTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void testConfigAdmin() throws Exception {
  ConfigurationAdmin configAdmin=configAdminService.getService(ConfigurationAdmin.class);
  assertNotNull("Expecting ConfigurationAdmin to be injected by Sling test runner",configAdmin);
  final String name="TEST_" + getClass().getName() + System.currentTimeMillis();
  assertNotNull("Expecting config " + name + " to be created",configAdmin.getConfiguration(name));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.teleporter.client.TeleporterHttpClientTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void waitForStatusWithLongTimeout() throws MalformedURLException, IOException {
  final TeleporterHttpClient client=new TeleporterHttpClient(baseUrl,TEST_PATH);
  final String testUrl=baseUrl + TEST_PATH;
  assertEquals(404,client.getHttpGetStatus(baseUrl + TEST_PATH));
  activateLater(TEST_PATH,1000);
  client.waitForStatus(testUrl,200,2000);
  assertEquals(200,client.getHttpGetStatus(baseUrl + TEST_PATH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.tools.test.ServerSetupSingletonTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContext(){
  final String key="foo";
  assertNull(serverSetup.getContext().get(key));
  serverSetup.getContext().put(key,this);
  assertEquals(serverSetup.getContext().get(key),this);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.JSONRecordingTest </h4><pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void logQueries() throws Exception {
  StringWriter sw=new StringWriter();
  when(request.getMethod()).thenReturn("GET");
  JSONRecording r=new JSONRecording(request);
  r.log(TracerContext.QUERY_LOGGER,"foo bar",new Object[]{"x","y"});
  r.log(TracerContext.QUERY_LOGGER,"foo bar",new Object[]{"x","z"});
  JSONWriter jw=new JSONWriter(sw).object();
  r.render(jw);
  jw.endObject();
  JSONObject json=new JSONObject(sw.toString());
  assertEquals("GET",json.get("method"));
  assertEquals(2,json.getJSONArray("queries").length());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.LogTracerModelTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void tracerConfigTest() throws Exception {
  TracerConfig tc=new TracerConfig("a.b.c",Level.DEBUG);
  assertEquals(3,tc.getDepth());
  assertEquals(TracerConfig.MatchResult.MATCH_LOG,tc.match("a.b.c.d",Level.DEBUG));
  assertEquals(TracerConfig.MatchResult.MATCH_NO_LOG,tc.match("a.b.c.d",Level.TRACE));
  assertEquals(TracerConfig.MatchResult.NO_MATCH,tc.match("a.b.d",Level.TRACE));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void parseTracerSet() throws Exception {
  TracerSet a=new TracerSet("foo : com.foo, com.bar;level=INFO");
  assertEquals("foo",a.getName());
  TracerConfig tcfoo=a.getConfig("com.foo");
  assertNotNull(tcfoo);
  assertEquals(Level.DEBUG,tcfoo.getLevel());
  assertNotNull("Config for parent should match for child",a.getConfig("com.foo.bar"));
  TracerConfig tcbar=a.getConfig("com.bar");
  assertNotNull(tcbar);
  assertEquals(Level.INFO,tcbar.getLevel());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void childLoggerLevelDiff() throws Exception {
  TracerSet ts=new TracerSet("foo : a.b;level=trace, a.b.c;level=info");
  TracerContext tc=getContext(ts);
  assertTrue(tc.shouldLog("a.b",Level.TRACE));
  assertTrue(tc.shouldLog("a.b.d",Level.TRACE));
  assertFalse(tc.shouldLog("a.b.c",Level.TRACE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.LogTracerTest </h4><pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void turboFilterRegisteredWhenTracingRequested_Sling() throws Exception {
  HttpServletRequest request=mock(SlingHttpServletRequest.class);
  HttpServletResponse response=mock(HttpServletResponse.class);
  when(request.getParameter(LogTracer.PARAM_TRACER_CONFIG)).thenReturn("foo.bar");
  activateTracer();
  FilterChain chain=new FilterChain(){
    @Override public void doFilter(    ServletRequest request,    ServletResponse response) throws IOException, ServletException {
      assertNotNull(context.getService(TurboFilter.class));
    }
  }
;
  Filter filter=getFilter(true);
  filter.doFilter(request,response,chain);
  assertNull("TurboFilter should get removed once request is done",context.getService(TurboFilter.class));
}

</code></pre>

<br>
<pre class="type-11 type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void checkTracing() throws Exception {
  HttpServletRequest request=mock(SlingHttpServletRequest.class);
  HttpServletResponse response=mock(HttpServletResponse.class);
  when(request.getParameter(LogTracer.PARAM_TRACER_CONFIG)).thenReturn("a.b.c;level=trace,a.b;level=debug");
  activateTracer();
  Level oldLevel=rootLogger().getLevel();
  rootLogger().setLevel(Level.INFO);
  FilterChain chain=new FilterChain(){
    @Override public void doFilter(    ServletRequest request,    ServletResponse response) throws IOException, ServletException {
      TurboFilter turboFilter=context.getService(TurboFilter.class);
      assertNotNull(turboFilter);
      getLogContext().addTurboFilter(turboFilter);
      getLogger("a").info("a-info");
      getLogger("a").debug("a-debug");
      getLogger("a.b").info("a.b-info");
      getLogger("a.b").debug("a.b-debug");
      getLogger("a.b").trace("a.b-trace");
      getLogger("a.b.c").debug("a.b.c-debug");
      getLogger("a.b.c").trace("a.b.c-trace");
      getLogger("a.b.c.d").trace("a.b.c.d-trace");
      if (getLogger("a.b.c").isTraceEnabled()) {
        getLogger("a.b.c").trace("a.b.c-trace2");
      }
    }
  }
;
  Filter filter=getFilter(true);
  filter.doFilter(request,response,chain);
  assertNull(context.getService(TurboFilter.class));
  List<String> logs=logCollector.getLogs();
  assertThat(logs,hasItem("a-info"));
  assertThat(logs,not(hasItem("a-debug")));
  assertThat(logs,hasItem("a.b-info"));
  assertThat(logs,hasItem("a.b-debug"));
  assertThat(logs,not(hasItem("a.b-trace")));
  assertThat(logs,hasItem("a.b.c-debug"));
  assertThat(logs,hasItem("a.b.c-trace"));
  assertThat(logs,hasItem("a.b.c-trace2"));
  assertThat(logs,hasItem("a.b.c.d-trace"));
  rootLogger().setLevel(oldLevel);
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void defaultSetup() throws Exception {
  context.registerInjectActivateService(new LogTracer());
  assertNull("Filters should not be registered unless enabled",context.getService(Filter.class));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void recordingWithoutTracing() throws Exception {
  activateTracerAndServlet();
  MockSlingHttpServletRequest request=new MockSlingHttpServletRequest(){
    @Override public RequestProgressTracker getRequestProgressTracker(){
      return createTracker("x","y");
    }
  }
;
  request.setHeader(TracerLogServlet.HEADER_TRACER_RECORDING,"true");
  HttpServletResponse response=mock(HttpServletResponse.class);
  FilterChain chain=new FilterChain(){
    @Override public void doFilter(    ServletRequest request,    ServletResponse response) throws IOException, ServletException {
      assertNull(context.getService(TurboFilter.class));
    }
  }
;
  prepareChain(chain).doFilter(request,response);
  String requestId=getRequestId(response);
  assertNotNull(requestId);
  Recording r=((TracerLogServlet)context.getService(Servlet.class)).getRecording(requestId);
  assertTrue(r instanceof JSONRecording);
  assertNotNull(((JSONRecording)r).getTracker());
}

</code></pre>

<br>
<pre class="type-9 type-10 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
"></span><br>
@Test public void turboFilterRegisteredWhenTracingRequested() throws Exception {
  HttpServletRequest request=mock(HttpServletRequest.class);
  HttpServletResponse response=mock(HttpServletResponse.class);
  when(request.getHeader(LogTracer.HEADER_TRACER_CONFIG)).thenReturn("foo.bar");
  activateTracer();
  FilterChain chain=new FilterChain(){
    @Override public void doFilter(    ServletRequest request,    ServletResponse response) throws IOException, ServletException {
      assertNotNull(context.getService(TurboFilter.class));
    }
  }
;
  Filter filter=getFilter(false);
  filter.doFilter(request,response,chain);
  assertNull("TurboFilter should get removed once request is done",context.getService(TurboFilter.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enableTracer() throws Exception {
  LogTracer tracer=context.registerInjectActivateService(new LogTracer(),ImmutableMap.<String,Object>of("enabled","true"));
  assertEquals(2,context.getServices(Filter.class,null).length);
  assertNull(context.getService(Servlet.class));
  MockOsgi.deactivate(tracer);
  assertNull(context.getService(Filter.class));
}

</code></pre>

<br>
<pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void enableTracerLogServlet() throws Exception {
  LogTracer tracer=context.registerInjectActivateService(new LogTracer(),ImmutableMap.<String,Object>of("enabled","true","servletEnabled","true"));
  assertEquals(2,context.getServices(Filter.class,null).length);
  assertNotNull(context.getService(Servlet.class));
  MockOsgi.deactivate(tracer);
  assertNull(context.getService(Filter.class));
  assertNull(context.getService(Servlet.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.TracerLogServletTest </h4><pre class="type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void recordingWhenRequested() throws Exception {
  TracerLogServlet logServlet=new TracerLogServlet(context.bundleContext());
  request=new MockSlingHttpServletRequest();
  Recording recording=logServlet.startRecording(request,response);
  assertNotNull(recording);
  Recording recording2=logServlet.getRecordingForRequest(request);
  assertSame(recording,recording2);
  Recording recording3=logServlet.startRecording(request,response);
  assertSame(recording,recording3);
  logServlet.resetCache();
  Recording recording4=logServlet.getRecordingForRequest(request);
  assertSame(Recording.NOOP,recording4);
}

</code></pre>

<br>
<pre class="type-11 type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void jsonRendering() throws Exception {
  TracerLogServlet logServlet=new TracerLogServlet(context.bundleContext());
  when(request.getMethod()).thenReturn("GET");
  when(request.getHeader(TracerLogServlet.HEADER_TRACER_RECORDING)).thenReturn("true");
  Recording recording=logServlet.startRecording(request,response);
  recording.registerTracker(createTracker("x","y"));
  ArgumentCaptor<String> requestIdCaptor=ArgumentCaptor.forClass(String.class);
  verify(response).setHeader(eq(TracerLogServlet.HEADER_TRACER_REQUEST_ID),requestIdCaptor.capture());
  verify(response).setHeader(TracerLogServlet.HEADER_TRACER_PROTOCOL_VERSION,String.valueOf(TracerLogServlet.TRACER_PROTOCOL_VERSION));
  StringWriter sw=new StringWriter();
  when(response.getWriter()).thenReturn(new PrintWriter(sw));
  when(request.getRequestURI()).thenReturn("/system/console/" + requestIdCaptor.getValue() + ".json");
  logServlet.renderContent(request,response);
  JSONObject json=new JSONObject(sw.toString());
  assertEquals("GET",json.getString("method"));
  assertEquals(2,json.getJSONArray("logs").length());
}

</code></pre>

<br>
<pre class="type-9 type-7 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
"></span><br>
@Test public void noRecordingByDefault() throws Exception {
  TracerLogServlet logServlet=new TracerLogServlet(context.bundleContext());
  assertSame(Recording.NOOP,logServlet.startRecording(request,response));
  assertSame(Recording.NOOP,logServlet.getRecordingForRequest(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.ValidationModelRetrieverImplTest </h4><pre class="type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCachedModel(){
  applicablePathPerResourceType.put("test/type","/content/site1");
  ValidationModel model=validationModelRetriever.getModel("test/type","/content/site1",false,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertEquals(1,modelProvider.counter);
  model=validationModelRetriever.getModel("test/type","/content/site1",false,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertEquals(1,modelProvider.counter);
  model=validationModelRetriever.getModel("invalid/type","/content/site1",false,resourceResolver);
  Assert.assertNull(model);
  Assert.assertEquals(2,modelProvider.counter);
  model=validationModelRetriever.getModel("invalid/type","/content/site1",false,resourceResolver);
  Assert.assertNull(model);
  Assert.assertEquals(2,modelProvider.counter);
}

</code></pre>

<br>
<pre class="type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetModelWithResourceInheritanceAndNoModelForSuperTypeFound(){
  applicablePathPerResourceType.put("test/type","/content/site1");
  Mockito.when(resourceResolver.getParentResourceType("test/type")).thenReturn("test/supertype");
  Mockito.when(resourceResolver.getParentResourceType("test/supertype")).thenReturn("test/supersupertype");
  ValidationModel model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(model.getResourceProperties(),Matchers.contains(new ResourcePropertyNameMatcher("test/type")));
}

</code></pre>

<br>
<pre class="type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetModel(){
  applicablePathPerResourceType.put("test/type","/content/site1");
  applicablePathPerResourceType.put("test/type","/content/site1/subnode/test");
  applicablePathPerResourceType.put("test/type","/content/site1/subnode");
  ValidationModel model=validationModelRetriever.getModel("test/type","/content/site1/subnode/test/somepage",false,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(Arrays.asList(model.getApplicablePaths()),Matchers.contains("/content/site1/subnode/test"));
}

</code></pre>

<br>
<pre class="type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetModelWithResourceInheritance(){
  applicablePathPerResourceType.put("test/type","/content/site1");
  ValidationModel model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(model.getResourceProperties(),Matchers.contains(new ResourcePropertyNameMatcher("test/type")));
  Mockito.when(resourceResolver.getParentResourceType("test/type")).thenReturn("test/supertype");
  applicablePathPerResourceType.put("test/supertype","/content/site1");
  model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(model.getResourceProperties(),Matchers.containsInAnyOrder(new ResourcePropertyNameMatcher("test/type"),new ResourcePropertyNameMatcher("test/supertype")));
}

</code></pre>

<br>
<pre class="type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetModelWithNullApplicablePathPath(){
  applicablePathPerResourceType.put("test/type","/content/site1");
  applicablePathPerResourceType.put("test/type",null);
  applicablePathPerResourceType.put("test/type","/content/site1/subnode");
  ValidationModel model=validationModelRetriever.getModel("test/type",null,false,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(Arrays.asList(model.getApplicablePaths()),Matchers.contains(""));
}

</code></pre>

<br>
<pre class="type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetModelWithResourceInheritanceAndNoSuitableBaseModelFound(){
  ValidationModel model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNull("Found model although no model has been specified",model);
  Mockito.when(resourceResolver.getParentResourceType("test/type")).thenReturn("test/supertype");
  model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNull("Found model although no model has been specified (neither in base nor in super type)",model);
  validationModelRetriever.validationModelsCache.clear();
  applicablePathPerResourceType.put("test/supertype","/content/site1");
  model=validationModelRetriever.getModel("test/type","/content/site1",true,resourceResolver);
  Assert.assertNotNull(model);
  Assert.assertThat(model.getResourceProperties(),Matchers.contains(new ResourcePropertyNameMatcher("test/supertype")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.ValidationServiceImplTest </h4><pre class="type-11 type-12 type-6 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithValidatorLeveragingTheResource() throws Exception {
  Validator<String> extendedValidator=new Validator<String>(){
    @Override @Nonnull public ValidationResult validate(    @Nonnull String data,    @Nonnull ValidationContext context,    @Nonnull ValueMap arguments) throws SlingValidationException {
      Resource resource=context.getResource();
      if (resource == null) {
        Assert.fail("Resource must not be null");
      }
 else {
        Assert.assertThat(resource.getPath(),Matchers.equalTo("/content/validation/1/resource"));
      }
      return DefaultValidationResult.VALID;
    }
  }
;
  propertyBuilder.validator(extendedValidator);
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",properties,JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValueMapWithEmptyOptionalValue() throws Exception {
  propertyBuilder.optional();
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"abc");
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertFalse(vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field1",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"abc")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test() public void testValidateResourceRecursivelyWithMissingValidatorAndNoEnforcement() throws Exception {
  validationService.modelRetriever=new ValidationModelRetriever(){
    @Override public @CheckForNull ValidationModel getModel(    @Nonnull String resourceType,    String resourcePath,    boolean considerResourceSuperTypeModels){
      return null;
    }
  }
;
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource","resourcetype1",JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validateResourceRecursively(testResource,false,null,false);
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueMapWithCorrectDataType() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"abc");
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  propertyBuilder=new ResourcePropertyBuilder();
  final String TEST_REGEX="^test$";
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,TEST_REGEX);
  modelBuilder.resourceProperty(propertyBuilder.build("field2"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","HelloWorld");
  hashMap.put("field2","HelloWorld");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertFalse(vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>hasItem(new DefaultValidationFailure("field2",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,TEST_REGEX)));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test() public void testValueMapWithMissingField() throws Exception {
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  modelBuilder.resourceProperty(propertyBuilder.build("field2"));
  modelBuilder.resourceProperty(propertyBuilder.build("field3"));
  modelBuilder.resourceProperty(propertyBuilder.build("field4"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1",new String[]{});
  hashMap.put("field2",new String[]{"null"});
  hashMap.put("field3","");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field4")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithNestedChildren() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild",null,true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child",null,true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child",properties);
  rr.create(resourceChild,"grandchild",properties);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMissingGrandChildProperty() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  modelBuilder.resourceProperty(property);
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild",null,true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child",null,true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field1","1");
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child",properties);
  rr.create(resourceChild,"grandchild",null);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("child/grandchild",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test() public void testValueMapWithWrongDataType() throws Exception {
  propertyBuilder.validator(new DateValidator());
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","1");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field1",ValidationServiceImpl.I18N_KEY_WRONG_PROPERTY_TYPE,Date.class)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMissingOptionalChildResource() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource child=new ChildResourceImpl("child",null,false,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  modelBuilder.childResource(child);
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValidateResourceRecursively() throws Exception {
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  final ValidationModel vm1=modelBuilder.build("resourcetype1");
  modelBuilder=new ValidationModelBuilder();
  modelBuilder.resourceProperty(propertyBuilder.build("field2"));
  final ValidationModel vm2=modelBuilder.build("resourcetype2");
  validationService.modelRetriever=new ValidationModelRetriever(){
    @Override public @CheckForNull ValidationModel getModel(    @Nonnull String resourceType,    String resourcePath,    boolean considerResourceSuperTypeModels){
      if (resourceType.equals("resourcetype1")) {
        return vm1;
      }
 else       if (resourceType.equals("resourcetype2")) {
        return vm2;
      }
 else {
        return null;
      }
    }
  }
;
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource","resourcetype1",JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype2");
  properties.put("field2","test");
  rr.create(testResource,"child1",properties);
  properties.clear();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype2");
  rr.create(testResource,"child2",properties);
  properties.clear();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype3");
  rr.create(testResource,"child3",properties);
  Predicate ignoreResourceType3Filter=new Predicate(){
    @Override public boolean evaluate(    Object object){
      Resource resource=(Resource)object;
      if ("resourcetype3".equals(resource.getResourceType())) {
        return false;
      }
      return true;
    }
  }
;
  ValidationResult vr=validationService.validateResourceRecursively(testResource,true,ignoreResourceType3Filter,false);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1"),new DefaultValidationFailure("child2",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field2")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMultivalueProperties() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  propertyBuilder.multiple();
  modelBuilder.resourceProperty(propertyBuilder.build("field"));
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field",new String[]{"1","abc","2"});
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field[1]",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"\\d")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetRelativeResourcePath(){
  Assert.assertThat(validationService.getRelativeResourceType("relative/path"),Matchers.equalTo("relative/path"));
  Assert.assertThat(validationService.getRelativeResourceType("/apps/relative/path"),Matchers.equalTo("relative/path"));
  Assert.assertThat(validationService.getRelativeResourceType("/libs/relative/path"),Matchers.equalTo("relative/path"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithPropertyPatternMatching() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  propertyBuilder.nameRegex("field.*");
  modelBuilder.resourceProperty(propertyBuilder.build("field"));
  propertyBuilder.nameRegex("otherfield.*");
  modelBuilder.resourceProperty(propertyBuilder.build("otherfield"));
  propertyBuilder.nameRegex("optionalfield.*").optional();
  modelBuilder.resourceProperty(propertyBuilder.build("optionalfield"));
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field1","1");
  mvm.put("field2","1");
  mvm.put("field3","abc");
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field3",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"\\d"),new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_MATCHING_PATTERN,"otherfield.*")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithNestedChildrenAndPatternMatching() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild","grandchild.*",true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child","child.*",true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  ChildResource siblingChild=new ChildResourceImpl("siblingchild","siblingchild.*",true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  modelBuilder.childResource(siblingChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/apps/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child1",properties);
  rr.create(resourceChild,"grandchild1",properties);
  rr.create(testResource,"child2",properties);
  rr.create(testResource,"child3",null);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>containsInAnyOrder(new DefaultValidationFailure("child2",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"grandchild.*"),new DefaultValidationFailure("child3",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"grandchild.*"),new DefaultValidationFailure("child3",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1"),new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"siblingchild.*")));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValueMapWithMissingOptionalValue() throws Exception {
  modelBuilder.resourceProperty(propertyBuilder.optional().build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field2","1");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateNeverCalledWithNullValues() throws Exception {
  Validator<String> myValidator=new Validator<String>(){
    @Override public @Nonnull ValidationResult validate(    @Nonnull String data,    @Nonnull ValidationContext context,    @Nonnull ValueMap arguments) throws SlingValidationException {
      Assert.assertNotNull("data parameter for validate should never be null",data);
      Assert.assertNotNull("location of context parameter for validate should never be null",context.getLocation());
      Assert.assertNotNull("valueMap of context parameter for validate should never be null",context.getValueMap());
      Assert.assertNull("resource of context parameter for validate cannot be set if validate was called only with a value map",context.getResource());
      Assert.assertNotNull("arguments parameter for validate should never be null",arguments);
      return DefaultValidationResult.VALID;
    }
  }
;
  propertyBuilder.validator(myValidator);
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","1");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.model.MergedValidationModelTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testOverwritingChildrenAndResourceProperties(){
  modelBuilder.resourceProperty(propertyBuilder.nameRegex("overwrittenNameToOverwrite").build("nameToOverwrite"));
  modelBuilder.childResource(childResourceBuilder.nameRegex("overwrittenNameToOverwrite").build("nameToOverwrite"));
  ValidationModel baseValidationModel=modelBuilder.build("base");
  modelBuilder=new ValidationModelBuilder();
  modelBuilder.resourceProperty(propertyBuilder.nameRegex("originalNameToOverwrite").build("nameToOverwrite"));
  modelBuilder.childResource(childResourceBuilder.nameRegex("originalNameToOverwrite").build("nameToOverwrite"));
  modelBuilder.resourceProperty(propertyBuilder.nameRegex("originalNameNotOverwritten").build("nameNotOverwritten"));
  modelBuilder.childResource(childResourceBuilder.nameRegex("originalNameNotOverwritten").build("nameNotOverwritten"));
  ValidationModel mergedModel=new MergedValidationModel(baseValidationModel,modelBuilder.build("superType"));
  Assert.assertThat(mergedModel.getResourceProperties(),Matchers.containsInAnyOrder(new ResourcePropertyNameRegexMatcher("overwrittenNameToOverwrite"),new ResourcePropertyNameRegexMatcher("originalNameNotOverwritten")));
  Assert.assertThat(mergedModel.getChildren(),Matchers.containsInAnyOrder(new ChildResourceNameRegexMatcher("overwrittenNameToOverwrite"),new ChildResourceNameRegexMatcher("originalNameNotOverwritten")));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testValidatedResourceTypes(){
  ValidationModel mergedModel=new MergedValidationModel(modelBuilder.build("base"),modelBuilder.build("superType"));
  Assert.assertThat(mergedModel.getValidatedResourceType(),Matchers.equalTo("base"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testLessSpecificApplicationPathInModelToMerge(){
  modelBuilder.addApplicablePath("/base/path").addApplicablePath("/base/path2");
  ValidationModel baseValidationModel=modelBuilder.build("base");
  modelBuilder.setApplicablePath("/base");
  ValidationModel mergedModel=new MergedValidationModel(baseValidationModel,modelBuilder.build("superType"));
  Assert.assertThat(Arrays.asList(mergedModel.getApplicablePaths()),Matchers.contains("/base/path","/base/path2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.resourcemodel.ResourceValidationModelProviderImplTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetValidationModelOutsideSearchPath() throws Exception {
  ValidationModel model1=modelBuilder.build("sling/validation/test");
  Resource contentValidatorsRoot=ResourceUtil.getOrCreateResource(rr,"/content",(Map<String,Object>)null,"sling:Folder",true);
  try {
    createValidationModelResource(rr,contentValidatorsRoot.getPath(),"testValidationModel1",model1);
    Collection<ValidationModel> models=modelProvider.getModel("sling/validation/test",validatorMap,rr);
    Assert.assertThat("Model was placed outside resource resolver search path but still found",models,Matchers.empty());
  }
  finally {
    rr.delete(contentValidatorsRoot);
  }
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetValidationModelWithChildren() throws Exception {
  ResourcePropertyBuilder resourcePropertyBuilder=new ResourcePropertyBuilder();
  resourcePropertyBuilder.multiple();
  resourcePropertyBuilder.optional();
  ResourceProperty childproperty=resourcePropertyBuilder.build("child1property");
  modelBuilder.childResource(new ChildResourceImpl("child1",null,true,Collections.singletonList(childproperty),Collections.<ChildResource>emptyList()));
  ValidationModel model1=modelBuilder.build("sling/validation/test");
  createValidationModelResource(rr,libsValidatorsRoot.getPath(),"testValidationModel1",model1);
  Collection<ValidationModel> models=modelProvider.getModel("sling/validation/test",validatorMap,rr);
  Assert.assertThat(models,Matchers.contains(model1));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetValidationModel() throws Exception {
  ValidationModel model1=modelBuilder.build("sling/validation/test");
  modelBuilder.setApplicablePath("/content/site2");
  ValidationModel model2=modelBuilder.build("sling/validation/test");
  createValidationModelResource(rr,libsValidatorsRoot.getPath(),"testValidationModel1",model1);
  createValidationModelResource(rr,libsValidatorsRoot.getPath(),"testValidationModel2",model2);
  Collection<ValidationModel> models=modelProvider.getModel("sling/validation/test",validatorMap,rr);
  Assert.assertThat(models,Matchers.containsInAnyOrder(model1,model2));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testGetValidationModelWithOverlay() throws Exception {
  ValidationModel model1=modelBuilder.build("sling/validation/test");
  modelBuilder.setApplicablePath("/content/site2");
  ValidationModel model2=modelBuilder.build("sling/validation/test");
  createValidationModelResource(rr,libsValidatorsRoot.getPath(),"testValidationModel1",model1);
  createValidationModelResource(rr,appsValidatorsRoot.getPath(),"testValidationModel1",model2);
  Collection<ValidationModel> models=modelProvider.getModel("sling/validation/test",validatorMap,rr);
  Assert.assertThat(models,Matchers.contains(model2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.util.TrieTest </h4><pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testExactKey(){
  TrieNode<String> node;
  node=dictionary.getElement("/apps/examples/node/jcr:content/nodes");
  assertThat(node.getValue(),Matchers.equalTo("/apps/examples/node/jcr:content/nodes"));
  node=dictionary.getElement("/apps/example");
  assertThat(node.getValue(),Matchers.equalTo("/apps/example"));
  node=dictionary.getElement("/libs");
  assertThat(node,Matchers.equalTo(dictionary.ROOT));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testOverwriteRootNode(){
  TrieNode<String> node=dictionary.getElement("invalid key");
  assertThat(node.getValue(),Matchers.equalTo(dictionary.ROOT.getValue()));
  dictionary.insert("","new root value");
  node=dictionary.getElement("invalid key");
  assertThat(node.getValue(),Matchers.equalTo("new root value"));
}

</code></pre>

<br>
<pre class="type-9 type-17 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
"></span><br>
@Test public void testLongestMatchingKey() throws Exception {
  TrieNode<String> node;
  node=dictionary.getElementForLongestMatchingKey("/apps/examples/node/jcr:content/nodes/1");
  assertThat(node.getValue(),Matchers.equalTo("/apps/examples/node/jcr:content/nodes"));
  node=dictionary.getElementForLongestMatchingKey("/apps/example/node/jcr:content/nodes/1");
  assertThat(node.getValue(),Matchers.equalTo("/apps/example"));
  node=dictionary.getElementForLongestMatchingKey("/libs");
  assertThat(node,Matchers.equalTo(dictionary.ROOT));
  dictionary.insert("","emptyKey");
  node=dictionary.getElementForLongestMatchingKey("/apps/test");
  assertThat(node.getValue(),Matchers.equalTo("emptyKey"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.testservices.ValidationServiceTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidRequestModel1() throws IOException, JSONException {
  MultipartEntity entity=new MultipartEntity();
  entity.addPart("sling:resourceType",new StringBody("validation/test/resourceType1"));
  entity.addPart("field1",new StringBody("Hello World"));
  entity.addPart(SlingPostConstants.RP_OPERATION,new StringBody("validation"));
  RequestExecutor re=getRequestExecutor().execute(getRequestBuilder().buildPostRequest("/validation/testing/fakeFolder1/resource").withEntity(entity)).assertStatus(200);
  String content=re.getContent();
  JSONObject jsonResponse=new JSONObject(content);
  assertFalse(jsonResponse.getBoolean("valid"));
  JSONObject failure=jsonResponse.getJSONArray("failures").getJSONObject(0);
  assertEquals("Property does not match the pattern \"^\\p{Upper}+$\".",failure.get("message"));
  assertEquals("field1",failure.get("location"));
  failure=jsonResponse.getJSONArray("failures").getJSONObject(1);
  assertEquals("Missing required property with name \"field2\".",failure.get("message"));
  assertEquals("",failure.get("location"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidRequestModel1() throws IOException, JSONException {
  MultipartEntity entity=new MultipartEntity();
  entity.addPart("sling:resourceType",new StringBody("validation/test/resourceType1"));
  entity.addPart("field1",new StringBody("HELLOWORLD"));
  entity.addPart("field2",new StringBody("30.01.1988"));
  entity.addPart(SlingPostConstants.RP_OPERATION,new StringBody("validation"));
  RequestExecutor re=getRequestExecutor().execute(getRequestBuilder().buildPostRequest("/validation/testing/fakeFolder1/resource").withEntity(entity)).assertStatus(200);
  JSONObject jsonResponse=new JSONObject(re.getContent());
  assertTrue(jsonResponse.getBoolean("valid"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.xss.impl.XSSAPIImplTest </h4><pre class="type-9 type-3 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
"></span><br>
@Test public void testEncodeForCSSString(){
  String[][] testData={{null,null},{"test","test"},{"\\","\\5c"},{"'","\\27"},{"\"","\\22"}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.encodeForCSSString(source);
    TestCase.assertEquals("Encoding '" + source + "'",expected,result);
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetValidCSSColor(){
  String[][] testData={{null,RUBBISH},{"",RUBBISH},{"rgb(0,+0,-0)","rgb(0,+0,-0)"},{"rgba ( 0\f%, 0%,\t0%,\n100%\r)","rgba ( 0\f%, 0%,\t0%,\n100%\r)"},{"#ddd","#ddd"},{"#eeeeee","#eeeeee"},{"hsl(0,1,2)","hsl(0,1,2)"},{"hsla(0,1,2,3)","hsla(0,1,2,3)"},{"currentColor","currentColor"},{"transparent","transparent"},{"\f\r\n\t MenuText\f\r\n\t ","MenuText"},{"expression(99,99,99)",RUBBISH},{"blue;",RUBBISH},{"url(99,99,99)",RUBBISH}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.getValidCSSColor(source,RUBBISH);
    if (!result.equals(expected)) {
      fail("Validating CSS Color '" + source + "', expecting '"+ expected+ "', but got '"+ result+ "'");
    }
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetValidJSON(){
  String[][] testData={{null,RUBBISH_JSON},{"",""},{"1]",RUBBISH_JSON},{"{}","{}"},{"{1}",RUBBISH_JSON},{"{test: 'test'}","{\"test\":\"test\"}"},{"{test:\"test}",RUBBISH_JSON},{"{test1:'test1', test2: {test21: 'test21', test22: 'test22'}}","{\"test1\":\"test1\",\"test2\":{\"test21\":\"test21\",\"test22\":\"test22\"}}"},{"[]","[]"},{"[1,2]","[1,2]"},{"[1",RUBBISH_JSON},{"[{test: 'test'}]","[{\"test\":\"test\"}]"}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.getValidJSON(source,RUBBISH_JSON);
    if (!result.equals(expected)) {
      fail("Validating JSON '" + source + "', expecting '"+ expected+ "', but got '"+ result+ "'");
    }
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetValidMultiLineComment(){
  String[][] testData={{null,RUBBISH},{"blah */ hack",RUBBISH},{"Valid comment","Valid comment"}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.getValidMultiLineComment(source,RUBBISH);
    if (!result.equals(expected)) {
      fail("Validating multiline comment '" + source + "', expecting '"+ expected+ "', but got '"+ result+ "'");
    }
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetValidStyleToken(){
  String[][] testData={{null,RUBBISH},{"",RUBBISH},{"}",RUBBISH},{"br\neak",RUBBISH},{"javascript:alert(1)",RUBBISH},{"'javascript:alert(1)'",RUBBISH},{"\"javascript:alert('XSS')\"",RUBBISH},{"url(javascript:alert(1))",RUBBISH},{"url('javascript:alert(1)')",RUBBISH},{"url(\"javascript:alert('XSS')\")",RUBBISH},{"expression(alert(1))",RUBBISH},{"expression  (alert(1))",RUBBISH},{"expression(this.location='a.co')",RUBBISH},{"</style><script>alert(1)</script>",RUBBISH},{"background-color","background-color"},{"-moz-box-sizing","-moz-box-sizing"},{".42%",".42%"},{"#fff","#fff"},{"'literal string'","'literal string'"},{"\"literal string\"","\"literal string\""},{"'it\\'s here'","'it\\'s here'"},{"\"it\\\"s here\"","\"it\\\"s here\""},{"\"bad string",RUBBISH},{"'it's here'",RUBBISH},{"\"it\"s here\"",RUBBISH},{"rgb(255, 255, 255)","rgb(255, 255, 255)"},{"rgb(255, 255, 255",RUBBISH},{"255, 255, 255)",RUBBISH},{"url(http://example.com/test.png)","url(http://example.com/test.png)"},{"url('image/test.png')","url('image/test.png')"},{"color: red",RUBBISH}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.getValidStyleToken(source,RUBBISH);
    if (!result.equals(expected)) {
      fail("Validating style token '" + source + "', expecting '"+ expected+ "', but got '"+ result+ "'");
    }
  }
}

</code></pre>

<br>
<pre class="type-12 type-6 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testGetValidXML(){
  String[][] testData={{null,RUBBISH_XML},{"",""},{"<t/>","<t/>"},{"<t>",RUBBISH_XML},{"<t>test</t>","<t>test</t>"},{"<t>test",RUBBISH_XML},{"<t t=\"t\">test</t>","<t t=\"t\">test</t>"},{"<t t=\"t>test</t>",RUBBISH_XML},{"<t><w>xyz</w></t>","<t><w>xyz</w></t>"},{"<t><w>xyz</t></w>",RUBBISH_XML}};
  for (  String[] aTestData : testData) {
    String source=aTestData[0];
    String expected=aTestData[1];
    String result=xssAPI.getValidXML(source,RUBBISH_XML);
    if (!result.equals(expected)) {
      fail("Validating XML '" + source + "', expecting '"+ expected+ "', but got '"+ result+ "'");
    }
  }
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
