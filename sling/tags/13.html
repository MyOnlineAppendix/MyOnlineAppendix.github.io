<h3><span class=" glyphicon glyphicon-tag"/>&nbspBooleanVerifier</h3><kbd>Verifies boolean conditions</kbd><br><br><br><h4 style="margin:0px">Class: org.apache.sling.api.resource.ResourceUtilTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@SuppressWarnings("deprecation") @Test public void testIsA(){
  assertFalse(ResourceUtil.isA(null,"something"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsStarResource(){
  final Resource nonStar=context.mock(Resource.class,"nonStarResource");
  final String starPath="/foo/*";
  final Resource star=context.mock(Resource.class,"starResource");
  final String nonStarPath="/foo/*";
  this.context.checking(new Expectations(){
{
      allowing(star).getPath();
      will(returnValue(starPath));
      allowing(nonStar).getPath();
      will(returnValue(nonStarPath));
    }
  }
);
  assertTrue("expecting star==true for path" + starPath,ResourceUtil.isStarResource(star));
  assertTrue("expecting star==false for path" + starPath,ResourceUtil.isStarResource(nonStar));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsSyntheticResource(){
  final Resource synth=new SyntheticResource(null,"foo","bar");
  final Resource star=context.mock(Resource.class);
  this.context.checking(new Expectations(){
{
      allowing(star).getPath();
      will(returnValue("/foo/*"));
    }
  }
);
  final Resource wrapped=new ResourceWrapper(synth);
  assertTrue("expecting synthetic==true for SyntheticResource",ResourceUtil.isSyntheticResource(synth));
  assertFalse("expecting synthetic==false for star resource",ResourceUtil.isSyntheticResource(star));
  assertTrue("expecting synthetic==true for wrapped Resource",ResourceUtil.isSyntheticResource(wrapped));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.resource.util.PathSetTest </h4><pre class="type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testToStringSet(){
  final PathSet set=PathSet.fromStrings("/a","/x/y");
  final Set<String> stringSet=set.toStringSet();
  assertEquals(2,stringSet.size());
  assertTrue(stringSet.contains("/a"));
  assertTrue(stringSet.contains("/x/y"));
  try {
    stringSet.add("foo");
    fail();
  }
 catch (  final UnsupportedOperationException uoe) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.resource.util.PathTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPathMatching(){
  final Path path=new Path("/content");
  assertFalse(path.matches("/"));
  assertFalse(path.matches("/foo"));
  assertFalse(path.matches("/foo/bar"));
  assertTrue(path.matches("/content"));
  assertTrue(path.matches("/content/a"));
  assertTrue(path.matches("/content/a/b"));
  assertFalse(path.matches("/content1"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRootMatching(){
  final Path path=new Path("/");
  assertTrue(path.matches("/"));
  assertTrue(path.matches("/foo"));
  assertTrue(path.matches("/foo/bar"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.wrappers.CompositeValueMapTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testOverrideNoDefaults() throws Exception {
  CompositeValueMap valueMap=new CompositeValueMap(getExtendedProps(),null,false);
  Assert.assertTrue("Final map should be empty",valueMap.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.api.wrappers.ValueMapDecoratorTest </h4><pre class="type-13 type-9 type-3 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore("SLING-4784") @Test public void testEqualsAndHashCodeOfEqualValueMapsWithArrayTypes(){
  map.put("prop1",new String[]{"1","2"});
  ValueMapDecorator valueMap2=new ValueMapDecorator(map);
  Assert.assertTrue("Two ValueMapDecorators based on the same map should be equal",valueMap.equals(valueMap2));
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap2.hashCode());
  ValueMapDecorator valueMap3=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap3.put("prop1",new String[]{"1","2"});
  Assert.assertEquals(valueMap,valueMap3);
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap3.hashCode());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEqualsOfInequalValueMapsWithNonArrayTypes(){
  valueMap.put("prop","value");
  ValueMapDecorator valueMap2=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap2.put("prop","value2");
  Assert.assertFalse("Two ValueMapDecorators based on maps with different entries should not be equal",valueMap.equals(valueMap2));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEqualsAndHashCodeOfEqualValueMapsWithNonArrayTypes(){
  map.put("prop1","some string");
  ValueMapDecorator valueMap2=new ValueMapDecorator(map);
  Assert.assertTrue("Two ValueMapDecorators based on the same map should be equal",valueMap.equals(valueMap2));
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap2.hashCode());
  ValueMapDecorator valueMap3=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap3.put("prop1","some string");
  Assert.assertEquals(valueMap,valueMap3);
  Assert.assertEquals("Two equal ValueMapDecorators should have the same hash code",valueMap.hashCode(),valueMap3.hashCode());
  Assert.assertEquals(map,valueMap);
  Assert.assertEquals(valueMap,map);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEqualsOfInequalValueMapsWithArrayTypes(){
  valueMap.put("prop",new String[]{"1","2"});
  ValueMapDecorator valueMap2=new ValueMapDecorator(new HashMap<String,Object>());
  valueMap2.put("prop",new String[]{"3","4"});
  Assert.assertFalse("Two ValueMapDecorators based on maps with different entries should not be equal",valueMap.equals(valueMap2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.auth.core.AuthUtilTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_normalized(){
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized//double/slash"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized/double/slash//"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized/./dot"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized/../dot"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized/dot/."));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/unnormalized/dot/.."));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_url(){
  TestCase.assertFalse(AuthUtil.isRedirectValid(null,"http://www.google.com"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isBrowserRequest_null(){
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with("User-Agent"));
      will(returnValue(null));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isBrowserRequest(request));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_no_resource_resolver_root_context(){
  context.checking(new Expectations(){
{
      allowing(request).getContextPath();
      will(returnValue(""));
      allowing(request).getAttribute(with(any(String.class)));
      will(returnValue(null));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"relative/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/absolute/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_null_empty(){
  TestCase.assertFalse(AuthUtil.isRedirectValid(null,null));
  TestCase.assertFalse(AuthUtil.isRedirectValid(null,""));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isBrowserRequest_Opera(){
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with("User-Agent"));
      will(returnValue("This is opera (Opera)"));
    }
  }
);
  TestCase.assertTrue(AuthUtil.isBrowserRequest(request));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_no_resource_resolver_non_root_context(){
  context.checking(new Expectations(){
{
      allowing(request).getContextPath();
      will(returnValue("/ctx"));
      allowing(request).getAttribute(with(any(String.class)));
      will(returnValue(null));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"relative/path"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/path"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"ctx/relative/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/ctx/absolute/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/ctx/"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/ctx"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_invalid_characters(){
  context.checking(new Expectations(){
{
      allowing(request).getContextPath();
      will(returnValue(""));
      allowing(request).getAttribute(with(any(String.class)));
      will(returnValue(null));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/illegal/</x"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/illegal/>/x"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/illegal/'/x"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/illegal/\"/x"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isBrowserRequest_Mozilla(){
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with("User-Agent"));
      will(returnValue("This is firefox (Mozilla)"));
    }
  }
);
  TestCase.assertTrue(AuthUtil.isBrowserRequest(request));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_resource_resolver_root_context(){
  context.checking(new Expectations(){
{
      allowing(resolver).resolve(with(any(HttpServletRequest.class)),with(equal("/absolute/path")));
      will(returnValue(new SyntheticResource(resolver,"/absolute/path","test")));
      allowing(resolver).resolve(with(any(HttpServletRequest.class)),with(equal("relative/path")));
      will(returnValue(new NonExistingResource(resolver,"relative/path")));
      allowing(resolver).resolve(with(any(HttpServletRequest.class)),with(any(String.class)));
      will(returnValue(new NonExistingResource(resolver,"/absolute/missing")));
      allowing(request).getAttribute(with(AuthenticationSupport.REQUEST_ATTRIBUTE_RESOLVER));
      will(returnValue(resolver));
      allowing(request).getAttribute(with(any(String.class)));
      will(returnValue(null));
      allowing(request).getContextPath();
      will(returnValue(""));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"relative/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/absolute/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/absolute/missing"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/absolute/missing/valid"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/missing/invalid/<"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/missing/invalid/>"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/missing/invalid/'"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/missing/invalid/\""));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isBrowserRequest_WebDAV(){
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with("User-Agent"));
      will(returnValue("WebDAV Client"));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isBrowserRequest(request));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_no_request(){
  TestCase.assertFalse(AuthUtil.isRedirectValid(null,"relative/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(null,"/absolute/path"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRedirectValid_resource_resolver_non_root_context(){
  context.checking(new Expectations(){
{
      allowing(resolver).resolve(with(any(HttpServletRequest.class)),with(equal("/absolute/path")));
      will(returnValue(new SyntheticResource(resolver,"/absolute/path","test")));
      allowing(resolver).resolve(with(any(HttpServletRequest.class)),with(equal("relative/path")));
      will(returnValue(new NonExistingResource(resolver,"relative/path")));
      allowing(request).getAttribute(with(AuthenticationSupport.REQUEST_ATTRIBUTE_RESOLVER));
      will(returnValue(resolver));
      allowing(request).getAttribute(with(any(String.class)));
      will(returnValue(null));
      allowing(request).getContextPath();
      will(returnValue("/ctx"));
    }
  }
);
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"relative/path"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/absolute/path"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"ctx/relative/path"));
  TestCase.assertTrue(AuthUtil.isRedirectValid(request,"/ctx/absolute/path"));
  TestCase.assertFalse(AuthUtil.isRedirectValid(request,"/ctxrelative/path"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.auth.core.spi.AuthenticationInfoTest </h4><pre class="type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveObject(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  final Object value="test";
  info.put("test",value);
  assertSame(value,info.get("test"));
  final Object removed=info.remove("test");
  assertSame(value,removed);
  assertFalse(info.containsKey("test"));
  assertNull(info.remove(AuthenticationInfo.AUTH_TYPE));
  Assert.assertEquals("test",info.get("sling.authType"));
  assertNull(info.remove("sling.authType"));
  Assert.assertEquals("test",info.getAuthType());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFAIL_AUTH(){
  final AuthenticationInfo fa=AuthenticationInfo.FAIL_AUTH;
  Assert.assertEquals("FAIL_AUTH",fa.getAuthType());
  fa.clear();
  Assert.assertEquals("FAIL_AUTH",fa.getAuthType());
  fa.put("test","test");
  assertFalse(fa.containsKey("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClear(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name",pwd);
  Assert.assertEquals("test",info.getAuthType());
  Assert.assertEquals("name",info.getUser());
  assertSame(pwd,info.getPassword());
  info.clear();
  Assert.assertEquals(1,info.size());
  Assert.assertEquals("test",info.getAuthType());
  assertFalse(info.containsKey(ResourceResolverFactory.USER));
  assertFalse(info.containsKey(ResourceResolverFactory.PASSWORD));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDOING_AUTH(){
  final AuthenticationInfo da=AuthenticationInfo.DOING_AUTH;
  Assert.assertEquals("DOING_AUTH",da.getAuthType());
  da.clear();
  Assert.assertEquals("DOING_AUTH",da.getAuthType());
  da.put("test","test");
  assertFalse(da.containsKey("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetCredentials(){
  final AuthenticationInfo info=new AuthenticationInfo("test");
  assertNull(info.get(CREDENTIALS));
  assertFalse(info.containsKey(CREDENTIALS));
  final Credentials creds=new SimpleCredentials("user",new char[0]);
  info.put(CREDENTIALS,creds);
  assertSame(creds,info.get(CREDENTIALS));
  final String user="user";
  final char[] pwd=new char[5];
  final AuthenticationInfo infoCred=new AuthenticationInfo("TEST",user,pwd);
  assertFalse(infoCred.containsKey(CREDENTIALS));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSetPassword(){
  final char[] pwd=new char[6];
  final AuthenticationInfo info=new AuthenticationInfo("test","name");
  assertFalse(info.containsKey(ResourceResolverFactory.PASSWORD));
  info.setPassword(pwd);
  assertSame(pwd,info.get(ResourceResolverFactory.PASSWORD));
  info.setPassword(null);
  assertSame(pwd,info.get(ResourceResolverFactory.PASSWORD));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.DeepNodeCreatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateWithVariousTypes() throws Exception {
  final Mockery mockery=new Mockery();
  final String fooPath="/foo";
  final String barPath="/foo/bar";
  final String wiiPath="/foo/bar/wii";
  final Session s=mockery.mock(Session.class);
  final Node foo=mockery.mock(Node.class,fooPath);
  final Node bar=mockery.mock(Node.class,barPath);
  final Node wii=mockery.mock(Node.class,wiiPath);
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(wiiPath);
      will(returnValue(false));
      allowing(s).itemExists(barPath);
      will(returnValue(false));
      allowing(s).itemExists(fooPath);
      will(returnValue(true));
      allowing(s).getItem(fooPath);
      will(returnValue(foo));
      allowing(foo).isNode();
      will(returnValue(true));
      allowing(foo).getPath();
      will(returnValue(fooPath));
      allowing(foo).addNode("bar","NT_/foo.bar");
      will(returnValue(bar));
      allowing(bar).getPath();
      will(returnValue(barPath));
      allowing(bar).addNode("wii","NT_/foo/bar.wii");
      will(returnValue(wii));
      allowing(s).getRootNode();
      allowing(s).save();
    }
  }
);
  final AtomicInteger counter=new AtomicInteger();
  final DeepNodeCreator c=new DeepNodeCreator(){
    @Override protected String getNodeType(    Node parent,    String childPath,    String suggestedNodeType) throws RepositoryException {
      return "NT_" + parent.getPath() + "."+ childPath;
    }
    @Override protected void nodeCreated(    Node n) throws RepositoryException {
      counter.addAndGet(1);
    }
  }
;
  final Node result=c.deepCreateNode(wiiPath,s,null);
  assertTrue("Expecting deepCreate to return created node",result == wii);
  assertEquals("Expecting correct count of nodeCreated calls",2,counter.get());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCreateFromRoot() throws Exception {
  final Mockery mockery=new Mockery();
  final DeepNodeCreator c=new DeepNodeCreator();
  final String rootPath="/";
  final String fooPath="/foo";
  final String barPath="/foo/bar";
  final Session s=mockery.mock(Session.class);
  final Node root=mockery.mock(Node.class,rootPath);
  final Node foo=mockery.mock(Node.class,fooPath);
  final Node bar=mockery.mock(Node.class,barPath);
  final String testNodeType="NT_TEST";
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(barPath);
      will(returnValue(false));
      allowing(s).itemExists(fooPath);
      will(returnValue(false));
      allowing(s).itemExists(rootPath);
      will(returnValue(true));
      allowing(s).getItem(rootPath);
      will(returnValue(root));
      allowing(root).isNode();
      will(returnValue(true));
      allowing(root).addNode("foo",testNodeType);
      will(returnValue(foo));
      allowing(foo).addNode("bar",testNodeType);
      will(returnValue(bar));
      allowing(s).getRootNode();
      will(returnValue(root));
      allowing(s).save();
    }
  }
);
  final Node result=c.deepCreateNode(barPath,s,testNodeType);
  assertTrue("Expecting deepCreate to return created node",result == bar);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testExistingNode() throws Exception {
  final Mockery mockery=new Mockery();
  final DeepNodeCreator c=new DeepNodeCreator();
  final String path="/foo/bar";
  final Session s=mockery.mock(Session.class);
  final Node n=mockery.mock(Node.class);
  mockery.checking(new Expectations(){
{
      allowing(s).itemExists(path);
      will(returnValue(true));
      allowing(s).getItem(path);
      will(returnValue(n));
      allowing(n).isNode();
      will(returnValue(true));
    }
  }
);
  final Node result=c.deepCreateNode(path,s,null);
  assertTrue("Expecting deepCreate to return existing node",result == n);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.bgservlets.impl.SuspendableOutputStreamTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSuspend() throws Exception {
  final ByteArrayOutputStream bos=new ByteArrayOutputStream();
  final SuspendableOutputStream f=new SuspendableOutputStream(bos);
  f.requestStateChange(JobStatus.State.RUNNING);
  final WriterThread t=new WriterThread(f);
  t.setDaemon(true);
  t.start();
  final long delay=WriterThread.WRITE_DELAY * 3;
  Thread.sleep(delay);
  assertTrue("Expecting data to be written by WriterThread",bos.size() > 0);
  f.requestStateChange(JobStatus.State.SUSPENDED);
  Thread.sleep(delay);
  assertEquals("Expecting SUSPEND state after a few writes",JobStatus.State.SUSPENDED,f.getState());
  final int count=bos.size();
  Thread.sleep(delay);
  assertEquals("Expecting no writes in SUSPEND state",count,bos.size());
  f.requestStateChange(JobStatus.State.RUNNING);
  Thread.sleep(delay);
  assertEquals("Expecting RUNNING state",JobStatus.State.RUNNING,f.getState());
  assertTrue("Expecting data to be written after resuming",bos.size() > count);
  f.close();
  Thread.sleep(delay);
  assertFalse("Expecting WriterThread to end after closing stream",t.isAlive());
  assertNotNull("Expecting non-null Exception in WriterThread",t.runException);
  assertTrue("Expecting IOException in WriterThread",t.runException instanceof IOException);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.cassandra.test.data.populator.CassandraDataAddTest </h4><pre class="type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddData(){
  String cf="p1";
  try {
    String r1=getrowID("/content/cassandra/" + cf + "/c1");
    String r2=getrowID("/content/cassandra/" + cf + "/c1/c2");
    CassandraResourceProvider cassandraResourceProvider=new CassandraResourceProvider();
    createColumnFamily(cf,cassandraResourceProvider.getKeyspace(),new StringSerializer());
    cassandraResourceProvider.setColumnFamily(cf);
    addData(cassandraResourceProvider.getKeyspace(),cf,new StringSerializer(),new String[]{"'" + r1 + "','/content/cassandra/"+ cf+ "/c1','nt:cassandra1','nt:supercass1','resolutionPathInfo=json'","'" + r2 + "','/content/cassandra/"+ cf+ "/c1/c2','nt:cassandra','nt:supercass2','resolutionPathInfo=json'"});
    Assert.assertTrue(true);
  }
 catch (  Exception e) {
    LOGGER.info("Ignore err" + e.getMessage());
    Assert.fail("Failed to add data to cassandra");
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.CacheConfigTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.ehcache.TestCache </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.CacheConfigTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.cache.infinispan.TestCache </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCacheWithChildKeys(){
  for (  CacheScope scope : CacheScope.values()) {
    String cacheName="SomeTestCache";
    Cache<String> cache=cacheManagerService.getCache(cacheName,scope);
    cache.put("fish","cat");
    assertTrue("Expected element to be in cache",cache.containsKey("fish"));
    cache.put("fish/child","childcat");
    cache.put("fish/child/child","childcatchild");
    Cache<String> sameCache=cacheManagerService.getCache(cacheName,scope);
    sameCache.removeChildren("fish/child/child");
    assertNull("Expected key to be removed",cache.get("fish/child/child"));
    sameCache.removeChildren("fish");
    assertNull("Expected key to be removed",cache.get("fish"));
    assertNull("Expected key to be removed",cache.get("fish/child"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.contentdetection.internal.FileNameExtractorImplTest </h4><pre class="type-11 type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidEncoding() throws NoSuchFieldException, SecurityException, IllegalArgumentException, IllegalAccessException {
  final String rawPath="http://example.com/demo%20test.jpg?test=true";
  final String oldEncoding=defaultEncoding;
  final String badEncoding="INVALID_ENCODING";
  try {
    defaultEncoding=badEncoding;
    try {
      fileNameExtractor.extract(rawPath);
      Assert.fail("Expected an exception with encoding " + defaultEncoding);
    }
 catch (    RuntimeException re) {
      final String msg=re.getMessage();
      Assert.assertTrue("Expected exception message to contain " + badEncoding + " ("+ msg+ ")",msg.contains(badEncoding));
    }
  }
  finally {
    defaultEncoding=oldEncoding;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.contentdetection.internal.it.ContentAwareMimeTypeServiceImplIT </h4><pre class="type-11 type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void detectFromContent() throws IOException {
  final String filename="this-is-actually-a-wav-file.mp3";
  final String path="/" + filename;
  final InputStream s=new BufferedInputStream(getClass().getResourceAsStream(path));
  assertNotNull("Expecting stream to be found:" + filename,s);
  InputStream originalStream=null;
  try {
    assertEquals("audio/x-wav",contentAwaremimeTypeService.getMimeType(filename,s));
    originalStream=getClass().getResourceAsStream(path);
    assertNotNull("Expecting stream to be found:" + filename,originalStream);
    assertTrue("Expecting content to be unchanged",IOUtils.contentEquals(s,originalStream));
  }
  finally {
    IOUtils.closeQuietly(s);
    IOUtils.closeQuietly(originalStream);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONObjectTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNull() throws JSONException {
  JSONObject obj=new JSONObject();
  obj.put(KEY,JSONObject.NULL);
  TestCase.assertTrue(obj.has(KEY));
  TestCase.assertTrue(obj.get(KEY).equals(null));
  TestCase.assertEquals("{\"" + KEY + "\":null}",obj.toString());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * See <a href="https://issues.apache.org/jira/browse/SLING-929">SLING-929</a>
 */
@Test public void testAppend() throws JSONException {
  JSONObject obj=new JSONObject();
  obj.append(KEY,"value1");
  obj.append(KEY,"value2");
  Object result=obj.get(KEY);
  assertTrue("Did not create an array",result instanceof JSONArray);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.JSONWriterTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEmpty() throws JSONException {
  assertTrue(output.toString().length() == 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSetTidy(){
  assertFalse(w.isTidy());
  w.setTidy(true);
  assertTrue(w.isTidy());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.jcr.JsonItemWriterTest </h4><pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
/** 
 * See <a href="https://issues.apache.org/jira/browse/SLING-924">SLING-924</a>
 */
@Test public void testOutputIterator() throws JSONException, RepositoryException {
  MockNode node1=new MockNode("/node1");
  MockNode node2=new MockNode("/node2");
  node1.addNode("node3");
  node1.setProperty("name","node1");
  node2.setProperty("name","node2");
  final NodeIterator it=new MockNodeIterator(new Node[]{node1,node2});
  final StringWriter sw=new StringWriter();
  writer.dump(it,sw);
  Pattern testPattern=Pattern.compile("\\{(.[^\\}]*)\\}");
  Matcher matcher=testPattern.matcher(sw.toString());
  assertTrue("Did not produce a JSON object",matcher.find());
  assertTrue("Did not produce a 2nd JSON object",matcher.find());
  assertFalse("Produced a JSON object for a child node",matcher.find());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.json.jcr.JsonJcrNodeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testJcrJsonObject() throws RepositoryException, JSONException {
  MockNode node=new MockNode("/node1");
  node.setProperty("prop1","value1");
  node.setProperty("prop2","value2");
  Set<String> ignoredProperties=new HashSet<String>();
  ignoredProperties.add("prop2");
  JsonJcrNode json=new JsonJcrNode(node,ignoredProperties);
  assertTrue("Did not create property",json.has("prop1"));
  assertFalse("Created ignored property",json.has("prop2"));
  assertTrue("Did not create jcr:name",json.has("jcr:name"));
  assertTrue("Did not create jcr:path",json.has("jcr:path"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITAppenderServices </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOsgiAppenderRef() throws Exception {
  Configuration config=ca.getConfiguration(ITConfigAdminSupport.PID,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(ITConfigAdminSupport.LOG_LEVEL,"INFO");
  p.put(ITConfigAdminSupport.LOGBACK_FILE,absolutePath("test-osg-appender-ref-config.xml"));
  config.update(p);
  delay();
  Logger ref=(Logger)LoggerFactory.getLogger("foo.ref.osgi");
  assertTrue(ref.isDebugEnabled());
  TestAppender ta=registerAppender("foo.bar","foo.baz");
  delay();
  Logger bar=(Logger)LoggerFactory.getLogger("foo.bar");
  bar.setLevel(Level.DEBUG);
  Logger baz=(Logger)LoggerFactory.getLogger("foo.baz");
  baz.setLevel(Level.INFO);
  bar.debug("Test message");
  baz.debug("Test message");
  ref.debug("Test message ref");
  assertEquals(2,ta.events.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAppenderServiceModified() throws Exception {
  TestAppender ta=registerAppender("foo.bar","foo.baz");
  delay();
  Logger bar=(Logger)LoggerFactory.getLogger("foo.bar");
  bar.setLevel(Level.DEBUG);
  Logger baz=(Logger)LoggerFactory.getLogger("foo.baz");
  baz.setLevel(Level.INFO);
  bar.debug("Test message");
  baz.debug("Test message");
  assertEquals(1,ta.events.size());
  ta.reset();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("loggers",new String[]{"foo.bar2"});
  sr.setProperties(props);
  delay();
  LoggerFactory.getLogger("foo.bar2").info("foo.bar2");
  LoggerFactory.getLogger("foo.baz").info("foo.baz");
  assertEquals(1,ta.msgs.size());
  assertTrue(ta.msgs.contains("foo.bar2"));
  assertFalse(ta.msgs.contains("foo.baz"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITConfigAdminSupport </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPackagingDataConfig() throws Exception {
  Configuration config=ca.getConfiguration(PID,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_PACKAGING_DATA,Boolean.FALSE);
  p.put(LOG_LEVEL,"INFO");
  config.update(p);
  delay();
  assertFalse(((LoggerContext)LoggerFactory.getILoggerFactory()).isPackagingDataEnabled());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testChangeLogLevelWithConfig() throws Exception {
  Configuration config=ca.createFactoryConfiguration(FACTORY_PID_CONFIGS,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_LOGGERS,new String[]{"foo1.bar"});
  p.put(LOG_LEVEL,"DEBUG");
  config.update(p);
  delay();
  Logger slf4jLogger=LoggerFactory.getLogger("foo1.bar");
  assertTrue(slf4jLogger.isDebugEnabled());
  assertTrue(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isInfoEnabled());
  assertFalse(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isDebugEnabled());
  Iterator<Appender<ILoggingEvent>> itr=((ch.qos.logback.classic.Logger)slf4jLogger).iteratorForAppenders();
  assertFalse(itr.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResetToDefault() throws Exception {
  ch.qos.logback.classic.Logger lgLog=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo2.bar");
  lgLog.setLevel(Level.TRACE);
  assertEquals(Level.TRACE,lgLog.getLevel());
  Configuration config=ca.createFactoryConfiguration(FACTORY_PID_CONFIGS,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_LOGGERS,new String[]{"foo2.bar"});
  p.put(LOG_LEVEL,"DEFAULT");
  config.update(p);
  delay();
  Logger slf4jLogger=LoggerFactory.getLogger("foo2.bar");
  assertFalse(slf4jLogger.isDebugEnabled());
  assertFalse(slf4jLogger.isTraceEnabled());
  assertTrue(lgLog.isAdditive());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testChangeGlobalConfig() throws Exception {
  Configuration config=ca.getConfiguration(PID,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LOG_LEVEL,"DEBUG");
  config.update(p);
  delay();
  assertTrue(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isDebugEnabled());
  config=ca.getConfiguration(PID,null);
  p=new Hashtable<String,Object>();
  p.put(LOG_LEVEL,"INFO");
  config.update(p);
  delay();
  assertTrue(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isInfoEnabled());
  assertFalse(LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME).isDebugEnabled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITConfigFragments </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigProvider() throws Exception {
  bundleContext.registerService(ConfigProvider.class.getName(),new FileConfigProvider(),null);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo2.bar.include");
  assertTrue(logger.isDebugEnabled());
  assertNotNull("Appender FOO2FILE must be attached",logger.getAppender("FOO2FILE"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigFragment() throws Exception {
  Properties props=new Properties();
  props.setProperty("logbackConfig","true");
  String config="<included>\n" + "  <appender name=\"FOOFILE\" class=\"ch.qos.logback.core.FileAppender\">\n" + "    <file>${sling.home}/logs/foo.log</file>\n"+ "    <encoder>\n"+ "      <pattern>%d %-5level %logger{35} - %msg %n</pattern>\n"+ "    </encoder>\n"+ "  </appender>\n"+ "\n"+ "  <logger name=\"foo.bar.include\" level=\"DEBUG\">\n"+ "       <appender-ref ref=\"FOOFILE\" />\n"+ "  </logger>\n"+ "\n"+ "</included>";
  bundleContext.registerService(String.class.getName(),config,props);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo.bar.include");
  assertTrue(logger.isDebugEnabled());
  assertNotNull("Appender FOOFILE must be attached",logger.getAppender("FOOFILE"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigProviderWithListener() throws Exception {
  FileConfigProvider fcp=new FileConfigProvider();
  fcp.fileName="test-reset-config-1.xml";
  bundleContext.registerService(ConfigProvider.class.getName(),fcp,null);
  delay();
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger("foo.reset.1");
  assertTrue(logger.isDebugEnabled());
  assertNotNull(logger.getAppender("FOO-RESET-FILE-1"));
  fcp.fileName="test-reset-config-2.xml";
  eventAdmin.sendEvent(new Event(RESET_EVENT_TOPIC,(Dictionary)null));
  delay();
  assertFalse(logger.isDebugEnabled());
  assertTrue(logger.isInfoEnabled());
  assertNotNull(logger.getAppender("FOO-RESET-FILE-2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITConfigPrinter </h4><pre class="type-15 type-13 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void includeOnlyLastNFiles() throws Exception {
  waitForPrinter();
  Configuration config=ca.getConfiguration(PID,null);
  Dictionary<String,Object> p=new Hashtable<String,Object>();
  p.put(LogConfigManager.PRINTER_MAX_INCLUDED_FILES,3);
  p.put(LogConfigManager.LOG_LEVEL,"INFO");
  config.update(p);
  delay();
  createLogConfig("error.log","includeOnlyLastNFiles","includeOnlyLastNFiles.1");
  for (int i=0; i < 10; i++) {
    FileUtils.touch(new File(logDir,"error.log." + i));
  }
  StringWriter sw=new StringWriter();
  invoke("printConfiguration",new PrintWriter(sw),"txt");
  assertThat(sw.toString(),containsString("error.log"));
  for (int i=0; i < 10; i++) {
    assertThat(sw.toString(),containsString("error.log." + i));
  }
  assertTrue(((URL[])invoke("getAttachments","zip")).length > 3);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITDefaultConfig </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Checks the default settings. It runs the bundle with minimum dependencies
 */
@Test public void testDefaultSettings() throws Exception {
  Logger slf4jLogger=LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);
  assertTrue("Default Log level should be INFO",slf4jLogger.isInfoEnabled());
  assertTrue(LoggerFactory.getILoggerFactory() instanceof LoggerContext);
  assertTrue(slf4jLogger instanceof ch.qos.logback.classic.Logger);
  ch.qos.logback.classic.Logger logger=(ch.qos.logback.classic.Logger)slf4jLogger;
  Iterator<Appender<ILoggingEvent>> itr=logger.iteratorForAppenders();
  assertTrue("One appender should be attached with root logger",itr.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITFilterSupport </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNormalFilter(){
  TestAppender ta=registerAppender("filter","TestAppender");
  org.slf4j.Logger bar=LoggerFactory.getLogger("filter.foo.bar");
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
  SimpleFilter stf=new SimpleFilter();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put("appenders","TestAppender");
  ServiceRegistration sr=bundleContext.registerService(Filter.class.getName(),stf,props);
  delay();
  assertNotNull("Filter should have context set",stf.getContext());
  assertTrue("Filter should be started",stf.isStarted());
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertTrue(ta.events.isEmpty());
  sr.unregister();
  delay();
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTurboFilter() throws Exception {
  TestAppender ta=registerAppender("turbofilter","TestAppender");
  org.slf4j.Logger bar=LoggerFactory.getLogger("turbofilter.foo.bar");
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
  SimpleTurboFilter stf=new SimpleTurboFilter();
  ServiceRegistration sr=bundleContext.registerService(TurboFilter.class.getName(),stf,null);
  delay();
  assertNotNull("Filter should have context set",stf.getContext());
  assertTrue("Filter should be started",stf.isStarted());
  ta.events.clear();
  assertFalse(bar.isDebugEnabled());
  bar.debug("Test");
  assertTrue(ta.events.isEmpty());
  sr.unregister();
  delay();
  ta.events.clear();
  assertTrue(bar.isDebugEnabled());
  bar.debug("Test");
  assertEquals(1,ta.events.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITJULIntegration </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Checks the default settings. It runs the bundle with minimum dependencies
 */
@Test public void testJULLogging() throws Exception {
  java.util.logging.Logger julLogger=java.util.logging.Logger.getLogger("foo.jul.1");
  org.slf4j.Logger slf4jLogger=LoggerFactory.getLogger("foo.jul.1");
  assertEquals(java.util.logging.Level.FINEST,julLogger.getLevel());
  assertTrue(slf4jLogger.isTraceEnabled());
  TestAppender ta=new TestAppender();
  Dictionary<String,Object> props=new Hashtable<String,Object>();
  String[] loggers={"foo.jul.1"};
  ch.qos.logback.classic.Logger bar=(ch.qos.logback.classic.Logger)LoggerFactory.getLogger(loggers[0]);
  bar.setLevel(Level.INFO);
  props.put("loggers",loggers);
  ServiceRegistration sr=bundleContext.registerService(Appender.class.getName(),ta,props);
  delay();
  assertEquals(java.util.logging.Level.INFO,julLogger.getLevel());
  julLogger.info("Info message");
  julLogger.fine("Fine message");
  assertEquals(1,ta.events.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.integration.ITWebConsoleRemote </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWebConsolePlugin() throws IOException {
  final HtmlPage page=webClient.getPage(prepareUrl(PLUGIN_SUFFIX));
  String text=page.asText();
  assertTrue(text.contains("WebConsoleTestTurboFilter"));
  assertTrue(text.contains("WebConsoleTestAppender"));
  assertTrue(text.contains("testremote.log"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPrinter() throws IOException {
  final HtmlPage page=webClient.getPage(prepareUrl(PRINTER_SUFFIX));
  String text=page.asText();
  assertTrue(text.contains("testremote.log"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.log.logback.internal.TestLogWriter </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void specialHandlingForConsole(){
  LogWriter lw=new LogWriter(null,null,5,null);
  assertTrue(createappender(lw) instanceof ConsoleAppender);
  lw=new LogWriter(LogWriter.FILE_NAME_CONSOLE,LogWriter.FILE_NAME_CONSOLE,5,null);
  assertTrue(createappender(lw) instanceof ConsoleAppender);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.metrics.internal.MetricServiceTest </h4><pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void timer() throws Exception {
  activate();
  Timer timer=service.timer("test");
  assertNotNull(timer);
  assertTrue(getRegistry().getTimers().containsKey("test"));
  assertSame(timer,service.timer("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void meter() throws Exception {
  activate();
  Meter meter=service.meter("test");
  assertNotNull(meter);
  assertTrue(getRegistry().getMeters().containsKey("test"));
  assertSame(meter,service.meter("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void counter() throws Exception {
  activate();
  Counter counter=service.counter("test");
  assertNotNull(counter);
  assertTrue(getRegistry().getCounters().containsKey("test"));
  assertSame(counter,service.counter("test"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void histogram() throws Exception {
  activate();
  Histogram histo=service.histogram("test");
  assertNotNull(histo);
  assertTrue(getRegistry().getHistograms().containsKey("test"));
  assertSame(histo,service.histogram("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.metrics.internal.MetricWebConsolePluginTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void consolidatedRegistry() throws Exception {
  MetricRegistry reg1=new MetricRegistry();
  reg1.meter("test1");
  context.registerService(MetricRegistry.class,reg1,regProps("foo"));
  activatePlugin();
  MetricRegistry consolidated=plugin.getConsolidatedRegistry();
  assertEquals(1,consolidated.getMetrics().size());
  assertTrue(consolidated.getMeters().containsKey("foo:test1"));
  MetricRegistry reg2=new MetricRegistry();
  reg2.meter("test2");
  context.registerService(MetricRegistry.class,reg2);
  consolidated=plugin.getConsolidatedRegistry();
  assertEquals(2,consolidated.getMetrics().size());
  assertTrue(consolidated.getMeters().containsKey("test2"));
  MetricRegistry reg3=new MetricRegistry();
  reg3.meter("test2");
  context.registerService(MetricRegistry.class,reg3);
  consolidated=plugin.getConsolidatedRegistry();
  assertEquals(2,consolidated.getMetrics().size());
  MetricRegistry reg4=new MetricRegistry();
  reg4.meter("test1");
  context.registerService(MetricRegistry.class,reg4,regProps("bar"));
  consolidated=plugin.getConsolidatedRegistry();
  assertTrue(consolidated.getMeters().containsKey("foo:test1"));
  assertTrue(consolidated.getMeters().containsKey("bar:test1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.BundleFileProcessorTest </h4><pre class="type-11 type-12 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBSNRenaming() throws IOException {
  File tempDir=new File(System.getProperty("java.io.tmpdir"));
  File originalFile=getMavenArtifactFile(getMavenRepoRoot(),"com.google.guava","guava","15.0");
  File generatedFile=new BSNRenamer(originalFile,tempDir,"org.acme.baklava.guava").process();
  try {
    compareJarContents(originalFile,generatedFile);
    JarFile jfOrg=null;
    JarFile jfNew=null;
    try {
      jfOrg=new JarFile(originalFile);
      jfNew=new JarFile(generatedFile);
      Manifest mfOrg=jfOrg.getManifest();
      Manifest mfNew=jfNew.getManifest();
      Attributes orgAttrs=mfOrg.getMainAttributes();
      Attributes newAttrs=mfNew.getMainAttributes();
      for (      Object key : orgAttrs.keySet()) {
        String orgVal=orgAttrs.getValue(key.toString());
        String newVal=newAttrs.getValue(key.toString());
        if ("Bundle-SymbolicName".equals(key.toString())) {
          assertEquals("Should have recorded the original Bundle-SymbolicName",orgVal,newAttrs.getValue("X-Original-Bundle-SymbolicName"));
          assertEquals("org.acme.baklava.guava",newVal);
        }
 else {
          assertEquals("Different keys: " + key,orgVal,newVal);
        }
      }
    }
  finally {
      closeQuietly(jfOrg);
      closeQuietly(jfNew);
    }
  }
  finally {
    assertTrue("Unable to delete temporary file",generatedFile.delete());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.BundleBundleVersionInfoTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSnapshot(){
  final String name="some.bundle";
  final Version version=new Version("1.0.4.SNAPSHOT");
  final long lastMod=0;
  final Bundle b=getMockBundle(name,version,lastMod);
  BundleVersionInfo<?> vi=new BundleBundleVersionInfo(b);
  assertEquals("Symbolic name matches",name,vi.getBundleSymbolicName());
  assertEquals("Version matches",version,vi.getVersion());
  assertTrue("isBundle",vi.isBundle());
  assertTrue("Bundle is a snapshot",vi.isSnapshot());
  assertEquals("Last-Modified matches",BundleVersionInfo.BND_LAST_MODIFIED_MISSING,vi.getBundleLastModified());
  assertTrue("Bundle is stored as source",vi.getSource() == b);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testVersionInfo(){
  final String name="some.bundle";
  final Version version=new Version("1.0.4");
  final long lastMod=1234L;
  final Bundle b=getMockBundle(name,version,lastMod);
  BundleVersionInfo<?> vi=new BundleBundleVersionInfo(b);
  assertEquals("Symbolic name matches",name,vi.getBundleSymbolicName());
  assertEquals("Version matches",version,vi.getVersion());
  assertTrue("isBundle",vi.isBundle());
  assertFalse("Not a snapshot",vi.isSnapshot());
  assertEquals("Last-Modified matches",lastMod,vi.getBundleLastModified());
  assertTrue("Bundle is stored as source",vi.getSource() == b);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.BundleVersionComparisonTest </h4><pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSortBundles(){
  final MockBundleVersionInfo[] sorted={new MockBundleVersionInfo("a.name","1.0",1),new MockBundleVersionInfo("a.name","1.1",1),new MockBundleVersionInfo("b","0.8.1",1),new MockBundleVersionInfo("b","0.9",1),new MockBundleVersionInfo("b","1.0",1),new MockBundleVersionInfo("b","1.0.1.SNAPSHOT",1),new MockBundleVersionInfo("b","1.0.1.SNAPSHOT",2),new MockBundleVersionInfo("b","1.1",1),new MockBundleVersionInfo("b","1.2.0.SNAPSHOT",1),new MockBundleVersionInfo("b","1.2.0.SNAPSHOT",2)};
  final List<BundleVersionInfo<?>> list=new ArrayList<BundleVersionInfo<?>>();
  for (int i=sorted.length - 1; i >= 0; i--) {
    list.add(sorted[i]);
  }
  final String firstBeforeSort=list.get(0).toString();
  Collections.sort(list);
  final String newFirstItem=list.get(0).toString();
  assertFalse("First item (" + newFirstItem + ") must have changed during sort",firstBeforeSort.equals(newFirstItem));
  int i=0;
  for (  BundleVersionInfo<?> vi : list) {
    assertEquals("Item sorted as expected at index " + i,sorted[i].toString(),vi.toString());
    i++;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.osgi.bundleversion.FileBundleVersionInfoTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlingApiJar() throws IOException {
  final File testJar=getTestJar("org.apache.sling.api");
  final BundleVersionInfo<?> vi=new FileBundleVersionInfo(testJar);
  assertEquals("org.apache.sling.api",vi.getBundleSymbolicName());
  assertEquals(vi.getVersion(),new Version("2.0.6"));
  assertFalse(vi.isSnapshot());
  assertEquals(1250080966786L,vi.getBundleLastModified());
  assertTrue(vi.isBundle());
  final Object src=vi.getSource();
  assertTrue(src instanceof File);
  assertEquals(testJar.getAbsolutePath(),((File)src).getAbsolutePath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSlf4jJar() throws IOException {
  final File testJar=getTestJar("jcr");
  final BundleVersionInfo<?> vi=new FileBundleVersionInfo(testJar);
  assertFalse(vi.isBundle());
  assertNull(vi.getBundleSymbolicName());
  assertNull(vi.getVersion());
  assertEquals(BundleVersionInfo.BND_LAST_MODIFIED_MISSING,vi.getBundleLastModified());
  final Object src=vi.getSource();
  assertTrue(src instanceof File);
  assertEquals(testJar.getAbsolutePath(),((File)src).getAbsolutePath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.InternalScheduleOptionsTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testReferences(){
  TriggerBuilder<? extends Trigger> trigger=TriggerBuilder.newTrigger();
  test=new InternalScheduleOptions(trigger);
  assertTrue(trigger == test.trigger);
  assertNull("If trigger was set, argumentException must be null",test.argumentException);
  String[] onLeader=new String[]{Scheduler.VALUE_RUN_ON_LEADER};
  test.onLeaderOnly(true);
  assertArrayEquals(onLeader,test.runOn);
  test.onLeaderOnly(false);
  assertNull(test.runOn);
  String[] onSingle=new String[]{Scheduler.VALUE_RUN_ON_SINGLE};
  test.onSingleInstanceOnly(true);
  assertArrayEquals(onSingle,test.runOn);
  test.onSingleInstanceOnly(false);
  assertNull(test.runOn);
  Map<String,Serializable> config=new HashMap<String,Serializable>();
  test.config(config);
  assertEquals(config,test.configuration);
  String testName="testName";
  test.name(testName);
  assertEquals(testName,test.name);
  test.canRunConcurrently(true);
  assertTrue(test.canRunConcurrently);
  String[] testStringArray=new String[]{"test1","test2","test3"};
  test.onInstancesOnly(testStringArray);
  assertArrayEquals(testStringArray,test.runOn);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzJobExecutorTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testJobExecutedWithTwoRunOnParams() throws SchedulerException {
  Job job=new SimpleJob();
  String jobName="testName";
  Map<String,Serializable> jobConfig=new HashMap<String,Serializable>();
  quartzScheduler.addJob(1L,1L,jobName,job,jobConfig,"0 * * * * ?",true);
  JobDetail jobDetail=scheduler.getJobDetail(JobKey.jobKey(jobName));
  when(executionContext.getJobDetail()).thenReturn(jobDetail);
  jobDetail.getJobDataMap().put(QuartzScheduler.DATA_MAP_RUN_ON,new String[]{VALUE_RUN_ON_LEADER,VALUE_RUN_ON_SINGLE});
  QuartzJobExecutor.SLING_ID=VALUE_RUN_ON_SINGLE;
  isRunnablePseudoJobCompleted=false;
  jobExecutor.execute(executionContext);
  assertTrue(isRunnablePseudoJobCompleted);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testJobNotExecutedWithTwoRunOnParams() throws SchedulerException {
  Job job=new SimpleJob();
  String jobName="testName";
  Map<String,Serializable> jobConfig=new HashMap<String,Serializable>();
  quartzScheduler.addJob(1L,1L,jobName,job,jobConfig,"0 * * * * ?",true);
  JobDetail jobDetail=scheduler.getJobDetail(JobKey.jobKey(jobName));
  when(executionContext.getJobDetail()).thenReturn(jobDetail);
  jobDetail.getJobDataMap().put(QuartzScheduler.DATA_MAP_RUN_ON,new String[]{VALUE_RUN_ON_LEADER,VALUE_RUN_ON_SINGLE});
  QuartzJobExecutor.SLING_ID="ANY STRING NOT EQUAL TO OF VALUE_RUN_ON_LEADER OR" + "VALUE_RUN_ON_SINGLE JUST A TEST CASE, NOTHING MORE";
  isRunnablePseudoJobCompleted=false;
  jobExecutor.execute(executionContext);
  assertFalse(isRunnablePseudoJobCompleted);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRunnableJob() throws SchedulerException, InterruptedException {
  Thread job=new Thread(new SimpleRunnableJob());
  String jobName="testName";
  Map<String,Serializable> jobConfig=new HashMap<String,Serializable>();
  quartzScheduler.addJob(1L,1L,jobName,job,jobConfig,"0 * * * * ?",true);
  JobDetail jobDetail=scheduler.getJobDetail(JobKey.jobKey(jobName));
  when(executionContext.getJobDetail()).thenReturn(jobDetail);
  isRunnablePseudoJobCompleted=false;
  jobExecutor.execute(executionContext);
  if (job.isAlive()) {
synchronized (job) {
      if (job.isAlive()) {
        job.join();
      }
    }
  }
  assertTrue(isRunnablePseudoJobCompleted);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testJobNotExecuted() throws SchedulerException {
  Job job=new SimpleJob();
  String jobName="testName";
  Map<String,Serializable> jobConfig=new HashMap<String,Serializable>();
  quartzScheduler.addJob(1L,1L,jobName,job,jobConfig,"0 * * * * ?",true);
  JobDetail jobDetail=scheduler.getJobDetail(JobKey.jobKey(jobName));
  when(executionContext.getJobDetail()).thenReturn(jobDetail);
  jobDetail.getJobDataMap().put(QuartzScheduler.DATA_MAP_RUN_ON,new String[]{VALUE_RUN_ON_LEADER});
  isRunnablePseudoJobCompleted=false;
  jobExecutor.execute(executionContext);
  assertFalse(isRunnablePseudoJobCompleted);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testJob() throws SchedulerException {
  Job job=new SimpleJob();
  String jobName="testName";
  Map<String,Serializable> jobConfig=new HashMap<String,Serializable>();
  quartzScheduler.addJob(1L,1L,jobName,job,jobConfig,"0 * * * * ?",true);
  JobDetail jobDetail=scheduler.getJobDetail(JobKey.jobKey(jobName));
  when(executionContext.getJobDetail()).thenReturn(jobDetail);
  isRunnablePseudoJobCompleted=false;
  jobExecutor.execute(executionContext);
  assertTrue(isRunnablePseudoJobCompleted);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testReferences(){
  String testName="testName";
  Map<String,Serializable> testMap=new HashMap<String,Serializable>();
  QuartzJobExecutor.JobContextImpl underTest=new QuartzJobExecutor.JobContextImpl(testName,testMap);
  assertTrue(underTest.getConfiguration().equals(testMap));
  assertTrue(underTest.getName().equals(testName));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.QuartzSchedulerTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithStoppedBundle() throws SchedulerException {
  String firstJob="testName1";
  String secondJob="testName2";
  when(bundle.getBundleId()).thenReturn(2L);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(2L,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  BundleEvent event=new BundleEvent(BundleEvent.STOPPED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertFalse(s.checkExists(JobKey.jobKey(secondJob)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithoutScheduler() throws Exception {
  String firstJob="testName1";
  String secondJob="testName2";
  Long bundleIdToRemove=2L;
  when(bundle.getBundleId()).thenReturn(bundleIdToRemove);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(bundleIdToRemove,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  setInternalSchedulerToNull();
  BundleEvent event=new BundleEvent(BundleEvent.STOPPED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertTrue(s.checkExists(JobKey.jobKey(secondJob)));
  returnInternalSchedulerBack();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBundleChangedWithStartedBundle() throws SchedulerException {
  String firstJob="testName1";
  String secondJob="testName2";
  when(bundle.getBundleId()).thenReturn(2L);
  quartzScheduler.addJob(1L,1L,firstJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  quartzScheduler.addJob(2L,2L,secondJob,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  BundleEvent event=new BundleEvent(BundleEvent.STARTED,bundle);
  quartzScheduler.bundleChanged(event);
  assertTrue(s.checkExists(JobKey.jobKey(firstJob)));
  assertTrue(s.checkExists(JobKey.jobKey(secondJob)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testUnschedule() throws Exception {
  String jobName="jobToUnschedule";
  quartzScheduler.addJob(6L,6L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(quartzScheduler.unschedule(6L,jobName));
  quartzScheduler.addJob(6L,6L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertFalse(quartzScheduler.unschedule(6L,null));
  assertFalse(quartzScheduler.unschedule(6L,"incorrectName"));
  setInternalSchedulerToNull();
  assertFalse(quartzScheduler.unschedule(6L,jobName));
  returnInternalSchedulerBack();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRemoveJob() throws SchedulerException {
  String jobName="testName";
  quartzScheduler.addJob(1L,1L,jobName,new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey(jobName)));
  quartzScheduler.removeJob(1L,jobName);
  assertFalse(s.checkExists(JobKey.jobKey(jobName)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddJobTwice() throws SchedulerException {
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPeriodic() throws SchedulerException {
  String jobName="anyName";
  String otherJobName="anyOtherName";
  quartzScheduler.addPeriodicJob(4L,4L,jobName,new Thread(),new HashMap(),2L,true,true);
  assertTrue("Job must exists",s.checkExists(JobKey.jobKey(jobName)));
  quartzScheduler.addPeriodicJob(5L,5L,otherJobName,new Thread(),new HashMap(),2L,true,false);
  assertTrue("Job must exists",s.checkExists(JobKey.jobKey(otherJobName)));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSchedule(){
  assertTrue(quartzScheduler.schedule(2L,2L,new Thread(),new InternalScheduleOptions(TriggerBuilder.newTrigger())));
  assertFalse(quartzScheduler.schedule(2L,2L,new Thread(),new InternalScheduleOptions(new IllegalArgumentException())));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAddJob() throws SchedulerException {
  quartzScheduler.addJob(1L,1L,"testName",new Thread(),new HashMap<String,Serializable>(),"0 * * * * ?",true);
  assertTrue(s.checkExists(JobKey.jobKey("testName")));
  assertFalse(s.checkExists(JobKey.jobKey("wrongName")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.SettingsSupportTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testStartAndStop() throws NoSuchFieldException, IllegalAccessException {
  listener.start();
  Field activeField=listener.getClass().getDeclaredField("active");
  activeField.setAccessible(true);
  AtomicBoolean isActive=(AtomicBoolean)activeField.get(listener);
  assertTrue(isActive.get());
  listener.stop();
  assertFalse(isActive.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.scheduler.impl.TopologyHandlerTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHandleTopologyEvent(){
  TopologyView oldView=new TopologyViewImpl();
  TopologyView newView=newViewWithInstanceDescription(true);
  TopologyEvent event=new TopologyEvent(TopologyEvent.Type.PROPERTIES_CHANGED,oldView,newView);
  underTest.handleTopologyEvent(event);
  assertTrue(QuartzJobExecutor.IS_LEADER.get());
  assertFalse(QuartzJobExecutor.DISCOVERY_INFO_AVAILABLE.get());
  event=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_INIT,null,newView);
  underTest.handleTopologyEvent(event);
  assertTrue(QuartzJobExecutor.IS_LEADER.get());
  assertTrue(QuartzJobExecutor.DISCOVERY_INFO_AVAILABLE.get());
  event=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_CHANGED,oldView,newView);
  underTest.handleTopologyEvent(event);
  assertTrue(QuartzJobExecutor.IS_LEADER.get());
  assertTrue(QuartzJobExecutor.DISCOVERY_INFO_AVAILABLE.get());
  newView=newViewWithInstanceDescription(false);
  event=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_CHANGED,oldView,newView);
  underTest.handleTopologyEvent(event);
  assertFalse(QuartzJobExecutor.IS_LEADER.get());
  assertTrue(QuartzJobExecutor.DISCOVERY_INFO_AVAILABLE.get());
  event=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_CHANGING,oldView,null);
  underTest.handleTopologyEvent(event);
  assertFalse(QuartzJobExecutor.IS_LEADER.get());
  assertFalse(QuartzJobExecutor.DISCOVERY_INFO_AVAILABLE.get());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testDeactivate(){
  underTest.deactivate();
  assertFalse(QuartzJobExecutor.DISCOVERY_AVAILABLE.get());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testActivate(){
  underTest.activate();
  assertTrue(QuartzJobExecutor.DISCOVERY_AVAILABLE.get());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.jcr.MockPropertyTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleFalse() throws Exception {
  MockProperty prop=new MockProperty("prop");
  prop.setValue(new String[]{"val"});
  assertFalse(prop.isMultiple());
  assertFalse(prop.getDefinition().isMultiple());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsMultipleTrue() throws Exception {
  MockProperty prop=new MockProperty("prop");
  prop.setValue(new String[]{"val1","val2"});
  assertTrue(prop.isMultiple());
  assertTrue(prop.getDefinition().isMultiple());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.junit.RetryRuleTest </h4><pre class="type-12 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Retry @Test public void testDefaultParameters(){
  callCount++;
  setupCounter++;
  if (callTime > 0) {
    final long delta=System.currentTimeMillis();
    assertTrue("Expecting at least 500 msec between calls",delta >= 500);
  }
  callTime=System.currentTimeMillis();
  assertTrue("Expecting to be called several times before passing",callCount > 3);
  assertEquals("Expecting setup() to be called before every retry",1,setupCounter);
  callTime=-1;
  callCount=0;
}

</code></pre>

<br>
<pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Retry(timeoutMsec=500,intervalMsec=1) @Test public void testCustomParameters(){
  callCount++;
  setupCounter++;
  assertTrue("Expecting to be called many times before passing",callCount > 100);
  assertEquals("Expecting setup() to be called before every retry",1,setupCounter);
  callTime=-1;
  callCount=0;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.testing.sling.MockResourceTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void basicTest() throws Exception {
  final MockResource r=new MockResource(null,PATH,RT);
  r.addProperty("1",Integer.MAX_VALUE);
  r.addProperty("2","two");
  assertTrue(r instanceof Resource);
  assertEquals(PATH,r.getPath());
  assertEquals(RT,r.getResourceType());
  assertNull(r.getResourceSuperType());
  final ValueMap m=r.adaptTo(ValueMap.class);
  assertEquals(Integer.MAX_VALUE,m.get("1"));
  assertEquals("two",m.get("2"));
  assertNull(m.get("third"));
  r.getProperties().put("third","trois");
  assertNull(m.get("third"));
  assertEquals("trois",r.adaptTo(ValueMap.class).get("third"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.commons.threads.impl.ExtendedThreadFactoryTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void shouldSetDaemonStatusCorrectly(){
  assertFalse("Non-daemon thread",thread("Pool",NORM,false).isDaemon());
  assertTrue("Daemon thread",thread("Pool",NORM,true).isDaemon());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.BasicLauncherIT </h4><pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Retry(timeoutMsec=U.LONG_TIMEOUT_MSEC,intervalMsec=U.STD_INTERVAL) public void testSpecificStartLevel() throws Exception {
  final String symbolicName="org.apache.commons.collections";
  assertEquals("Expecting bundle " + symbolicName + " to be installed","Installed",osgiConsole.getBundleState(symbolicName));
  final JSONObject status=U.getBundleData(C,client,symbolicName);
  final JSONArray props=status.getJSONArray("data").getJSONObject(0).getJSONArray("props");
  final String KEY="key";
  final String SL="Start Level";
  boolean found=false;
  for (int i=0; i < props.length(); i++) {
    final JSONObject o=props.getJSONObject(i);
    if (o.has(KEY) && SL.equals(o.getString(KEY))) {
      found=true;
      assertEquals("Expecting the start level that's set in provisioning model","99",o.getString("value"));
    }
  }
  assertTrue("Expecting start level to be found in JSON output",found);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.crankstart.launcher.NestedModelsMergerTest </h4><pre class="type-12 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNestedModelOrNot(){
  if (expectNestedModel) {
    assertTrue("Expecting a nested model for " + testArtifact,merger.isNestedModel(testArtifact));
  }
 else {
    assertFalse("Not expecting a nested model for " + testArtifact,merger.isNestedModel(testArtifact));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.commons.DefaultTopologyViewTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testForcedLeaderChangeCompare() throws Exception {
  final String slingId1=UUID.randomUUID().toString();
  final DefaultTopologyView view1=TopologyHelper.createTopologyView(UUID.randomUUID().toString(),slingId1);
  final DefaultInstanceDescription id2=TopologyHelper.addInstanceDescription(view1,TopologyHelper.createInstanceDescription(view1.getClusterViews().iterator().next()));
  final String slingId2=id2.getSlingId();
  final DefaultInstanceDescription id3=TopologyHelper.addInstanceDescription(view1,TopologyHelper.createInstanceDescription(view1.getClusterViews().iterator().next()));
  final String slingId3=id3.getSlingId();
  DefaultTopologyView view2=TopologyHelper.cloneTopologyView(view1,slingId2);
  assertNotEquals(view1.getClusterViews().iterator().next().getLeader().getSlingId(),view2.getClusterViews().iterator().next().getLeader().getSlingId());
  assertTrue(view1.compareTopology(view2) == Type.TOPOLOGY_CHANGED);
  DefaultTopologyView view3=TopologyHelper.cloneTopologyView(view1,slingId3);
  assertNotEquals(view1.getClusterViews().iterator().next().getLeader().getSlingId(),view3.getClusterViews().iterator().next().getLeader().getSlingId());
  assertTrue(view1.compareTopology(view3) == Type.TOPOLOGY_CHANGED);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.announcement.AnnouncementRegistryImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCluster() throws Exception {
  ClusterView cluster1=createCluster(2);
  ClusterView cluster2=createCluster(4);
  ClusterView cluster3=createCluster(7);
  Announcement ann1=createAnnouncement(cluster1,1,true);
  Announcement ann2=createAnnouncement(cluster2,2,true);
  Announcement ann3=createAnnouncement(cluster3,3,false);
  final String instance1=UUID.randomUUID().toString();
  final String instance2=UUID.randomUUID().toString();
  final String instance3=UUID.randomUUID().toString();
  ClusterView myCluster=createCluster(instance1,instance2,instance3);
  AnnouncementRegistryImpl registry1=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance1),config);
  AnnouncementRegistryImpl registry2=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance2),config);
  AnnouncementRegistryImpl registry3=AnnouncementRegistryImpl.testConstructorAndActivate(resourceResolverFactory,new DummySlingSettingsService(instance3),config);
  assertTrue(registry1.registerAnnouncement(ann1) != -1);
  assertTrue(registry2.registerAnnouncement(ann2) != -1);
  assertTrue(registry3.registerAnnouncement(ann3) != -1);
  assertTrue(registry1.hasActiveAnnouncement(cluster1.getInstances().get(1).getSlingId()));
  assertTrue(registry2.hasActiveAnnouncement(cluster2.getInstances().get(2).getSlingId()));
  assertTrue(registry3.hasActiveAnnouncement(cluster3.getInstances().get(3).getSlingId()));
  assertEquals(3,registry1.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry1.listLocalAnnouncements().size());
  assertEquals(0,registry1.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry1,myCluster,4,16);
  assertEquals(3,registry2.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry2.listLocalAnnouncements().size());
  assertEquals(0,registry2.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry2,myCluster,4,16);
  assertEquals(3,registry3.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry3.listLocalAnnouncements().size());
  assertEquals(1,registry3.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry3,myCluster,4,16);
  myCluster=createCluster(instance1,instance2);
  VirtualInstanceHelper.dumpRepo(resourceResolverFactory);
  assertEquals(2,registry1.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry1.listLocalAnnouncements().size());
  assertEquals(0,registry1.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry1,myCluster,3,8);
  assertEquals(2,registry2.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry2.listLocalAnnouncements().size());
  assertEquals(0,registry2.listLocalIncomingAnnouncements().size());
  assertAnnouncements(registry2,myCluster,3,8);
  Thread.sleep(10500);
  assertAnnouncements(registry1,myCluster,3,8);
  assertAnnouncements(registry2,myCluster,3,8);
  registry1.checkExpiredAnnouncements();
  registry2.checkExpiredAnnouncements();
  assertAnnouncements(registry1,myCluster,1,2);
  assertAnnouncements(registry2,myCluster,1,2);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExpiry() throws InterruptedException, NoSuchFieldException {
  ClusterView cluster1=createCluster(4);
  ClusterView cluster2=createCluster(3);
  ClusterView cluster3=createCluster(5);
  ClusterView myCluster=createCluster(slingId);
  Announcement ann1=createAnnouncement(cluster1,0,true);
  Announcement ann2=createAnnouncement(cluster2,1,true);
  Announcement ann3=createAnnouncement(cluster3,1,false);
  assertTrue(registry.registerAnnouncement(ann1) != -1);
  assertTrue(registry.registerAnnouncement(ann2) != -1);
  assertTrue(registry.registerAnnouncement(ann3) != -1);
  assertTrue(registry.hasActiveAnnouncement(cluster1.getInstances().get(0).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster2.getInstances().get(1).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster3.getInstances().get(1).getSlingId()));
  assertEquals(3,registry.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(3,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  Thread.sleep(10500);
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  assertTrue(registry.registerAnnouncement(ann3) != -1);
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(13,testAnn.listInstances().size());
  }
  registry.checkExpiredAnnouncements();
  assertEquals(1,registry.listAnnouncementsInSameCluster(myCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(cluster1.getInstances().get(0).getSlingId()));
  assertFalse(registry.hasActiveAnnouncement(cluster2.getInstances().get(1).getSlingId()));
  assertTrue(registry.hasActiveAnnouncement(cluster3.getInstances().get(1).getSlingId()));
{
    Announcement testAnn=createAnnouncement(myCluster,0,false);
    assertEquals(1,testAnn.listInstances().size());
    registry.addAllExcept(testAnn,myCluster,null);
    assertEquals(6,testAnn.listInstances().size());
  }
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLists() throws Exception {
  try {
    registry.listAnnouncementsInSameCluster(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.listAnnouncementsInSameCluster(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  DefaultClusterView localCluster=new DefaultClusterView(UUID.randomUUID().toString());
  DefaultInstanceDescription instance=TopologyHelper.createInstanceDescription(slingId,true,localCluster);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  Announcement ann=new Announcement(slingId);
  ann.setLocalCluster(localCluster);
  ann.setInherited(true);
  registry.registerAnnouncement(ann);
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  ann.setInherited(true);
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertTrue(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  registry.unregisterAnnouncement(slingId);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  ann.setInherited(false);
  registry.registerAnnouncement(ann);
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(1,registry.listLocalAnnouncements().size());
  assertEquals(1,registry.listLocalIncomingAnnouncements().size());
  assertTrue(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  registry.unregisterAnnouncement(slingId);
  assertEquals(0,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(0,registry.listLocalAnnouncements().size());
  assertEquals(0,registry.listLocalIncomingAnnouncements().size());
  assertFalse(registry.hasActiveAnnouncement(slingId));
  assertFalse(registry.hasActiveAnnouncement(UUID.randomUUID().toString()));
  assertEquals(1,ann.listInstances().size());
  registry.addAllExcept(ann,localCluster,new AnnouncementFilter(){
    public boolean accept(    String receivingSlingId,    Announcement announcement){
      assertNotNull(receivingSlingId);
      assertNotNull(announcement);
      return true;
    }
  }
);
  assertEquals(1,ann.listInstances().size());
  registry.registerAnnouncement(createAnnouncement(createCluster(3),1,false));
  assertEquals(1,registry.listAnnouncementsInSameCluster(localCluster).size());
  assertEquals(3,registry.listInstances(localCluster).size());
  registry.addAllExcept(ann,localCluster,new AnnouncementFilter(){
    public boolean accept(    String receivingSlingId,    Announcement announcement){
      assertNotNull(receivingSlingId);
      assertNotNull(announcement);
      return true;
    }
  }
);
  assertEquals(4,ann.listInstances().size());
  registry.registerAnnouncement(ann);
  assertEquals(2,registry.listAnnouncementsInSameCluster(localCluster).size());
}

</code></pre>

<br>
<pre class="type-11 type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRegisterUnregister() throws Exception {
  try {
    registry.registerAnnouncement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.unregisterAnnouncement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    registry.unregisterAnnouncement("");
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    new Announcement(null);
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  try {
    new Announcement("");
    fail("should complain");
  }
 catch (  IllegalArgumentException iae) {
  }
  Announcement ann=new Announcement(slingId);
  assertFalse(ann.isValid());
  assertFalse(registry.registerAnnouncement(ann) != -1);
  DefaultClusterView localCluster=new DefaultClusterView(UUID.randomUUID().toString());
  ann.setLocalCluster(localCluster);
  assertFalse(ann.isValid());
  assertFalse(registry.registerAnnouncement(ann) != -1);
  try {
    registry.listInstances(localCluster);
    fail("doing getInstances() on an empty cluster should throw an illegalstateexception");
  }
 catch (  IllegalStateException ise) {
  }
  DefaultInstanceDescription instance=TopologyHelper.createInstanceDescription(ann.getOwnerId(),true,localCluster);
  assertEquals(instance.getSlingId(),ann.getOwnerId());
  assertTrue(ann.isValid());
  assertTrue(registry.registerAnnouncement(ann) != -1);
  assertEquals(1,registry.listInstances(localCluster).size());
  registry.checkExpiredAnnouncements();
  assertEquals(1,registry.listInstances(localCluster).size());
  registry.unregisterAnnouncement(ann.getOwnerId());
  assertEquals(0,registry.listInstances(localCluster).size());
  assertTrue(ann.isValid());
  assertTrue(registry.registerAnnouncement(ann) != -1);
  assertEquals(1,registry.listInstances(localCluster).size());
  Thread.sleep(10500);
  assertEquals(0,registry.listInstances(localCluster).size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyConnectorServletTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPlaintextWhitelist_disabled() throws Exception {
  servlet.initWhitelist(new String[]{});
  assertFalse(servlet.isWhitelisted(getRequest("foo","x")));
  assertFalse(servlet.isWhitelisted(getRequest("bar","x")));
  assertFalse(servlet.isWhitelisted(getRequest("y","foo")));
  assertFalse(servlet.isWhitelisted(getRequest("y","bar")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testWildcardWhitelist() throws Exception {
  servlet.initWhitelist(new String[]{"foo*","b?r","test"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("fooo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("foooo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("x","foo")));
  assertTrue(servlet.isWhitelisted(getRequest("x","fooo")));
  assertTrue(servlet.isWhitelisted(getRequest("x","foooo")));
  assertTrue(servlet.isWhitelisted(getRequest("bur","x")));
  assertTrue(servlet.isWhitelisted(getRequest("x","bur")));
  assertTrue(servlet.isWhitelisted(getRequest("x","test")));
  assertFalse(servlet.isWhitelisted(getRequest("fo","x")));
  assertFalse(servlet.isWhitelisted(getRequest("x","testy")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSubnetMaskWhitelist() throws Exception {
  servlet.initWhitelist(new String[]{"1.2.3.4/24","2.3.4.1/30","3.4.5.6/31"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.4")));
  assertFalse(servlet.isWhitelisted(getRequest("1.2.3.4","1.2.4.3")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.1")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","1.2.3.254")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","1.2.4.5")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","2.3.4.1")));
  assertTrue(servlet.isWhitelisted(getRequest("foo","2.3.4.2")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","2.3.4.3")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","2.3.4.4")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.1")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.2")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.3")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.4")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.5")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.6")));
  assertFalse(servlet.isWhitelisted(getRequest("foo","3.4.5.7")));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPlaintextWhitelist_enabled() throws Exception {
  servlet.initWhitelist(new String[]{"foo","bar"});
  assertTrue(servlet.isWhitelisted(getRequest("foo","x")));
  assertTrue(servlet.isWhitelisted(getRequest("bar","x")));
  assertTrue(servlet.isWhitelisted(getRequest("y","foo")));
  assertTrue(servlet.isWhitelisted(getRequest("y","bar")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.TopologyRequestValidatorTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTrustRequest() throws IOException {
  final HttpPut method=new HttpPut("/TestUri");
  String clearMessage="TestMessage";
  final String message=topologyRequestValidator.encodeMessage(clearMessage);
  Assert.assertNotNull(message);
  Assert.assertNotEquals(message,clearMessage);
  topologyRequestValidator.trustMessage(method,message);
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER));
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue());
  Assert.assertTrue(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue().length() > 0);
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER));
  Assert.assertNotNull(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue());
  Assert.assertTrue(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue().length() > 0);
  final HttpServletRequest request=context.mock(HttpServletRequest.class);
  context.checking(new Expectations(){
{
      allowing(request).getHeader(with(TopologyRequestValidator.HASH_HEADER));
      will(returnValue(method.getFirstHeader(TopologyRequestValidator.HASH_HEADER).getValue()));
      allowing(request).getHeader(with(TopologyRequestValidator.SIG_HEADER));
      will(returnValue(method.getFirstHeader(TopologyRequestValidator.SIG_HEADER).getValue()));
      allowing(request).getHeader(with("Content-Encoding"));
      will(returnValue(""));
      allowing(request).getRequestURI();
      will(returnValue(method.getURI().getPath()));
      allowing(request).getReader();
      will(returnValue(new BufferedReader(new StringReader(message))));
    }
  }
);
  Assert.assertTrue(topologyRequestValidator.isTrusted(request));
  Assert.assertEquals(clearMessage,topologyRequestValidator.decodeMessage(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.connectors.ping.wl.WildcardHelperTest </h4><pre class="type-15 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testWildcards(){
  assertTrue(WildcardHelper.matchesWildcard("","*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","**"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","**?"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","????"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","???"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","?????"));
  for (int i=0; i < 100; i++) {
    String randomString=UUID.randomUUID().toString();
    assertTrue(WildcardHelper.matchesWildcard(randomString,"*"));
    assertTrue(WildcardHelper.matchesWildcard(randomString,randomString.substring(0,randomString.length() - 1) + "?"));
    assertTrue(WildcardHelper.matchesWildcard(randomString,randomString.substring(0,randomString.length() - 1) + "*"));
    assertTrue(WildcardHelper.matchesWildcard(randomString,randomString.substring(0,randomString.length() - 2) + "??"));
    assertTrue(WildcardHelper.matchesWildcard(randomString,randomString.substring(0,randomString.length() - 2) + "*"));
    assertTrue(WildcardHelper.matchesWildcard(randomString,"?" + randomString.substring(1,randomString.length())));
    assertTrue(WildcardHelper.matchesWildcard(randomString,"*" + randomString.substring(1,randomString.length())));
    assertTrue(WildcardHelper.matchesWildcard(randomString,"??" + randomString.substring(2,randomString.length())));
    assertTrue(WildcardHelper.matchesWildcard(randomString,"*" + randomString.substring(2,randomString.length())));
  }
  assertTrue(WildcardHelper.matchesWildcard("fooo","f*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","fo*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","foo*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","fooo*"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","fooo?"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","foooo*"));
  assertTrue(WildcardHelper.matchesWildcard("fooo","*"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","?"));
  assertFalse(WildcardHelper.matchesWildcard("fooo","f?"));
  assertTrue(WildcardHelper.matchesWildcard("fo","f?"));
  assertTrue(WildcardHelper.matchesWildcard("foooba","f*b?"));
  assertFalse(WildcardHelper.matchesWildcard("fooobar","f*b?"));
  assertFalse(WildcardHelper.matchesWildcard("foooba","f*b?r"));
  assertTrue(WildcardHelper.matchesWildcard("fooobar","f*b?r"));
  assertTrue(WildcardHelper.matchesWildcard("foooba","f???b?"));
  assertFalse(WildcardHelper.matchesWildcard("foooba","f??b?"));
  assertFalse(WildcardHelper.matchesWildcard("foooba","f??b?"));
}

</code></pre>

<br>
<pre class="type-15 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
"></span><br>
@Test public void testWithoutWildcards(){
  for (int i=0; i < 1000; i++) {
    String randomString=UUID.randomUUID().toString();
    assertTrue(WildcardHelper.matchesWildcard(randomString,randomString));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractClusterTest </h4><pre class="type-15 type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConnectorSwitching4139() throws Throwable {
  final int MIN_EVENT_DELAY=1;
  tearDown();
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
  instance1=newBuilder().setDebugName("instance1").newRepository("/var/discovery/clusterA/",true).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance2=newBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance3=newBuilder().setDebugName("instance3").newRepository("/var/discovery/clusterB/",false).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance4=newBuilder().setDebugName("instance4").useRepositoryOf(instance3).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance5=newBuilder().setDebugName("instance5").newRepository("/var/discovery/clusterC/",false).setConnectorPingTimeout(10).setConnectorPingInterval(999).setMinEventDelay(MIN_EVENT_DELAY).build();
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  Thread.sleep(500);
  assertSameTopology(new SimpleClusterView(instance1,instance2));
  assertSameTopology(new SimpleClusterView(instance3,instance4));
  assertSameTopology(new SimpleClusterView(instance5));
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance4,instance5);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  Thread.sleep(500);
  logger.info("testConnectorSwitching4139: instance1.slingId=" + instance1.slingId);
  logger.info("testConnectorSwitching4139: instance2.slingId=" + instance2.slingId);
  logger.info("testConnectorSwitching4139: instance3.slingId=" + instance3.slingId);
  logger.info("testConnectorSwitching4139: instance4.slingId=" + instance4.slingId);
  logger.info("testConnectorSwitching4139: instance5.slingId=" + instance5.slingId);
  instance1.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance1,instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  boolean success=false;
  for (int i=0; i < 25; i++) {
    runHeartbeatOnceWith(instance2,instance3,instance4,instance5);
    final boolean ping1=pingConnector(instance3,instance2);
    final boolean ping2=pingConnector(instance5,instance2);
    if (ping1 && ping2) {
      success=true;
      logger.info("testConnectorSwitching4139: successfully switched all pings to instance2 after " + i + " rounds.");
      if (i < 20) {
        logger.info("testConnectorSwitching4139: min loop cnt not yet reached: i=" + i);
        Thread.sleep(1000);
        continue;
      }
      break;
    }
    logger.info("testConnectorSwitching4139: looping cos ping1=" + ping1 + ", ping2="+ ping2);
    Thread.sleep(1000);
  }
  assertTrue(success);
  runHeartbeatOnceWith(instance2,instance3,instance4,instance5);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  instance2.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  instance4.stopViewChecker();
  instance1Restarted=newBuilder().setDebugName("instance1").useRepositoryOf(instance2).setConnectorPingTimeout(Integer.MAX_VALUE).setMinEventDelay(1).setSlingId(instance1.getSlingId()).build();
  runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance5);
  Thread.sleep(2000);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  success=false;
  for (int i=0; i < 40; i++) {
    runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance5);
    instance1.getViewChecker().checkView();
    try {
      pingConnector(instance3,instance2);
    }
 catch (    UndefinedClusterViewException ucve) {
    }
    pingConnector(instance5,instance2);
    final TopologyView topology=instance3.getDiscoveryService().getTopology();
    InstanceDescription i3=null;
    for (Iterator<InstanceDescription> it=topology.getInstances().iterator(); it.hasNext(); ) {
      final InstanceDescription id=it.next();
      if (id.getSlingId().equals(instance3.slingId)) {
        i3=id;
        break;
      }
    }
    assertNotNull(i3);
    assertEquals(instance3.slingId,i3.getSlingId());
    final ClusterView i3Cluster=i3.getClusterView();
    final int i3ClusterSize=i3Cluster.getInstances().size();
    if (i3ClusterSize == 1) {
      if (i < 30) {
        logger.info("testConnectorSwitching4139: [2] min loop cnt not yet reached: i=" + i);
        Thread.sleep(500);
        continue;
      }
      success=true;
      logger.info("testConnectorSwitching4139: i3ClusterSize: " + i3ClusterSize + ", i="+ i+ " (success)");
      break;
    }
    logger.info("testConnectorSwitching4139: i3ClusterSize: " + i3ClusterSize + ", i="+ i);
    Thread.sleep(500);
  }
  logger.info("testConnectorSwitching4139: instance1Restarted.slingId=" + instance1Restarted.slingId);
  logger.info("testConnectorSwitching4139: instance2.slingId=" + instance2.slingId);
  logger.info("testConnectorSwitching4139: instance3.slingId=" + instance3.slingId);
  logger.info("testConnectorSwitching4139: instance4.slingId=" + instance4.slingId);
  logger.info("testConnectorSwitching4139: instance5.slingId=" + instance5.slingId);
  instance1Restarted.dumpRepo();
  assertTrue(success);
  assertSameTopology(new SimpleClusterView(instance1Restarted,instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1Restarted.stop();
}

</code></pre>

<br>
<pre class="type-15 type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDuplicateInstance3726() throws Throwable {
  logger.info("testDuplicateInstance3726: start");
  final int MIN_EVENT_DELAY=1;
  tearDown();
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  logLevel=discoveryLogger.getLevel();
  discoveryLogger.setLevel(Level.DEBUG);
  instance1=newBuilder().setDebugName("instance1").newRepository("/var/discovery/clusterA/",true).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance2=newBuilder().setDebugName("instance2").useRepositoryOf(instance1).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance3=newBuilder().setDebugName("instance3").newRepository("/var/discovery/clusterB/",false).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  instance5=newBuilder().setDebugName("instance5").newRepository("/var/discovery/clusterC/",false).setConnectorPingTimeout(15).setMinEventDelay(MIN_EVENT_DELAY).build();
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  runHeartbeatOnceWith(instance1,instance2,instance3,instance5);
  Thread.sleep(500);
  assertSameTopology(new SimpleClusterView(instance1,instance2));
  assertSameTopology(new SimpleClusterView(instance3));
  assertSameTopology(new SimpleClusterView(instance5));
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  pingConnector(instance3,instance1);
  pingConnector(instance5,instance1);
  logger.info("testDuplicateInstance3726: instance1.slingId=" + instance1.slingId);
  logger.info("testDuplicateInstance3726: instance2.slingId=" + instance2.slingId);
  logger.info("testDuplicateInstance3726: instance3.slingId=" + instance3.slingId);
  logger.info("testDuplicateInstance3726: instance5.slingId=" + instance5.slingId);
  instance1.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance1,instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1.stopViewChecker();
  boolean success=false;
  for (int i=0; i < 25; i++) {
    runHeartbeatOnceWith(instance2,instance3,instance5);
    final boolean ping1=pingConnector(instance3,instance2);
    final boolean ping2=pingConnector(instance5,instance2);
    if (ping1 && ping2) {
      success=true;
      logger.info("testDuplicateInstance3726: successfully switched all pings to instance2 after " + i + " rounds.");
      if (i < 20) {
        logger.info("testDuplicateInstance3726: min loop cnt not yet reached: i=" + i);
        Thread.sleep(1000);
        continue;
      }
      break;
    }
    logger.info("testDuplicateInstance3726: looping");
    Thread.sleep(1000);
  }
  assertTrue(success);
  runHeartbeatOnceWith(instance2,instance3,instance5);
  assertTrue(pingConnector(instance3,instance2));
  assertTrue(pingConnector(instance5,instance2));
  instance2.dumpRepo();
  assertSameTopology(new SimpleClusterView(instance2),new SimpleClusterView(instance3),new SimpleClusterView(instance5));
  instance1Restarted=newBuilder().setDebugName("instance1").useRepositoryOf(instance2).setConnectorPingTimeout(Integer.MAX_VALUE).setMinEventDelay(1).setSlingId(instance1.getSlingId()).build();
  instance4=newBuilder().setDebugName("instance4").useRepositoryOf(instance3).setConnectorPingTimeout(30).setMinEventDelay(MIN_EVENT_DELAY).build();
  for (int i=0; i < 3; i++) {
    runHeartbeatOnceWith(instance1Restarted,instance2,instance3,instance4,instance5);
    Thread.sleep(250);
    try {
      pingConnector(instance3,instance2);
    }
 catch (    UndefinedClusterViewException ucve) {
    }
    assertTrue(pingConnector(instance5,instance2));
  }
  instance1Restarted.dumpRepo();
  logger.info("testDuplicateInstance3726: instance1Restarted.slingId=" + instance1Restarted.slingId);
  logger.info("testDuplicateInstance3726: instance2.slingId=" + instance2.slingId);
  logger.info("testDuplicateInstance3726: instance3.slingId=" + instance3.slingId);
  logger.info("testDuplicateInstance3726: instance4.slingId=" + instance4.slingId);
  logger.info("testDuplicateInstance3726: instance5.slingId=" + instance5.slingId);
  assertTrue(success);
  assertSameTopology(new SimpleClusterView(instance1Restarted,instance2),new SimpleClusterView(instance3,instance4),new SimpleClusterView(instance5));
  instance1Restarted.stop();
  logger.info("testDuplicateInstance3726: end");
}

</code></pre>

<br>
<pre class="type-11 type-12 type-6 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test plan:
 * * have a discoveryservice with two listeners registered
 * * one of them (the 'first' one) is long running
 * * during one of the topology changes, when the first
 * one is hit, deactivate the discovery service
 * * that deactivation used to block (SLING-4755) due
 * to synchronized(lock) which was blocked by the
 * long running listener. With having asynchronous
 * event sending this should no longer be the case
 * * also, once asserted that deactivation finished,
 * and that the first listener is still busy, make
 * sure that once the first listener finishes, that
 * the second listener still gets the event
 * @throws Throwable 
 */
@Test public void testLongRunningListener() throws Throwable {
  instance1.getConfig().setViewCheckTimeout(2);
  instance2.getConfig().setViewCheckTimeout(2);
  logger.info("testLongRunningListener : letting instance2 remain silent from now on");
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1500);
  instance1.heartbeatsAndCheckView();
  logger.info("testLongRunningListener : instance 2 should now be considered dead");
  LongRunningListener longRunningListener1=new LongRunningListener();
  AssertingTopologyEventListener fastListener2=new AssertingTopologyEventListener();
  fastListener2.addExpected(Type.TOPOLOGY_INIT);
  longRunningListener1.assertNoFail();
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  logger.info("testLongRunningListener : binding longRunningListener1 ...");
  instance1.bindTopologyEventListener(longRunningListener1);
  logger.info("testLongRunningListener : binding fastListener2 ...");
  instance1.bindTopologyEventListener(fastListener2);
  logger.info("testLongRunningListener : waiting a bit for longRunningListener1 to receive the TOPOLOGY_INIT event");
  Thread.sleep(2500);
  assertEquals(0,fastListener2.getRemainingExpectedCount());
  assertTrue(longRunningListener1.initReceived);
  fastListener2.addExpected(Type.TOPOLOGY_CHANGING);
  fastListener2.addExpected(Type.TOPOLOGY_CHANGED);
  instance1.getConfig().setViewCheckTimeout(10);
  instance2.getConfig().setViewCheckTimeout(10);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.heartbeatsAndCheckView();
  instance2.heartbeatsAndCheckView();
  Thread.sleep(500);
  instance1.dumpRepo();
  longRunningListener1.assertNoFail();
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  assertEquals(1,longRunningListener1.noninitReceived);
  Thread.sleep(2000);
  assertTrue(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
  Thread.sleep(2000);
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(1,fastListener2.getRemainingExpectedCount());
  assertEquals(1,longRunningListener1.noninitReceived);
  assertTrue(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
  final List<Exception> asyncException=new LinkedList<Exception>();
  Thread th=new Thread(new Runnable(){
    public void run(){
      try {
        instance1.stop();
      }
 catch (      Exception e) {
synchronized (asyncException) {
          asyncException.add(e);
        }
      }
    }
  }
);
  th.start();
  logger.info("Waiting max 4 sec...");
  th.join(4000);
  logger.info("Done waiting max 4 sec...");
  if (th.isAlive()) {
    logger.warn("Thread still alive: " + th.isAlive());
    longRunningListener1.getChangedSemaphore().release();
    fail("Thread was still alive");
  }
  logger.info("Thread was no longer alive: " + th.isAlive());
synchronized (asyncException) {
    logger.info("Async exceptions: " + asyncException.size());
    if (asyncException.size() != 0) {
      longRunningListener1.getChangedSemaphore().release();
      fail("async exceptions: " + asyncException.size() + ", first: "+ asyncException.get(0));
    }
  }
  longRunningListener1.getChangedSemaphore().release();
  Thread.sleep(500);
  assertEquals(0,fastListener2.getUnexpectedCount());
  assertEquals(0,fastListener2.getRemainingExpectedCount());
  assertEquals(2,longRunningListener1.noninitReceived);
  assertFalse(longRunningListener1.getChangedSemaphore().hasQueuedThreads());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractSingleInstanceTest </h4><pre class="type-11 type-6 type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetters() throws UndefinedClusterViewException, InterruptedException {
  logger.info("testGetters: start");
  assertNotNull(instance);
  logger.info("sling id=" + instance.getSlingId());
  try {
    instance.getClusterViewService().getLocalClusterView();
    fail("should complain");
  }
 catch (  UndefinedClusterViewException e) {
  }
  instance.heartbeatsAndCheckView();
  Thread.sleep(4000);
  assertNotNull(instance.getClusterViewService().getLocalClusterView());
  ClusterView cv=instance.getClusterViewService().getLocalClusterView();
  logger.info("cluster view: id=" + cv.getId());
  assertNotNull(cv.getId());
  assertNotSame(cv.getId(),"");
  List<InstanceDescription> instances=cv.getInstances();
  assertNotNull(instances);
  assertTrue(instances.size() == 1);
  InstanceDescription myInstance=instances.get(0);
  assertNotNull(myInstance);
  assertTrue(myInstance.getClusterView() == cv);
  logger.info("instance id: " + myInstance.getSlingId());
  assertEquals(instance.getSlingId(),myInstance.getSlingId());
  Map<String,String> properties=myInstance.getProperties();
  assertNotNull(properties);
  assertNull(myInstance.getProperty("foo"));
  assertTrue(myInstance.isLeader());
  assertTrue(myInstance.isLocal());
  logger.info("testGetters: end");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTopologyEventListeners() throws Throwable {
  logger.info("testTopologyEventListeners: start");
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 1st sleep 2s");
  Thread.sleep(2000);
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 2nd sleep 2s");
  Thread.sleep(2000);
  AssertingTopologyEventListener assertingTopologyEventListener=new AssertingTopologyEventListener();
  assertingTopologyEventListener.addExpected(Type.TOPOLOGY_INIT);
  logger.info("testTopologyEventListeners: binding the event listener");
  instance.bindTopologyEventListener(assertingTopologyEventListener);
  Thread.sleep(1000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  final String propertyName=UUID.randomUUID().toString();
  propertyValue=UUID.randomUUID().toString();
  PropertyProviderImpl pp=new PropertyProviderImpl();
  pp.setProperty(propertyName,propertyValue);
  assertingTopologyEventListener.addExpected(Type.PROPERTIES_CHANGED);
  assertEquals(1,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(0,pp.getGetCnt());
  instance.bindPropertyProvider(pp,propertyName);
  logger.info("testTopologyEventListeners: 3rd sleep 1.5s");
  Thread.sleep(1500);
  logger.info("testTopologyEventListeners: dumping due to failure: ");
  assertingTopologyEventListener.dump();
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertTrue(pp.getGetCnt() > 0);
  assertingTopologyEventListener.addExpected(Type.PROPERTIES_CHANGED);
  assertEquals(1,assertingTopologyEventListener.getRemainingExpectedCount());
  pp.setGetCnt(0);
  propertyValue=UUID.randomUUID().toString();
  pp.setProperty(propertyName,propertyValue);
  assertEquals(0,pp.getGetCnt());
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 4th sleep 2s");
  Thread.sleep(2000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(2,pp.getGetCnt());
  instance.heartbeatsAndCheckView();
  logger.info("testTopologyEventListeners: 5th sleep 2s");
  Thread.sleep(2000);
  assertEquals(0,assertingTopologyEventListener.getRemainingExpectedCount());
  assertEquals(3,pp.getGetCnt());
  logger.info("testTopologyEventListeners: done");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.base.its.AbstractTopologyEventTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetDuringDelay() throws Throwable {
  instance1=newBuilder().setDebugName("firstInstanceA").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(20).setMinEventDelay(6).build();
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  TopologyView earlyTopo=instance1.getDiscoveryService().getTopology();
  assertNotNull(earlyTopo);
  assertFalse(earlyTopo.isCurrent());
  assertEquals(1,earlyTopo.getInstances().size());
  for (int i=0; i < 4; i++) {
    instance1.heartbeatsAndCheckView();
    Thread.sleep(125);
  }
  TopologyView secondTopo=instance1.getDiscoveryService().getTopology();
  assertEquals(1,secondTopo.getInstances().size());
  assertEquals(instance1.getSlingId(),secondTopo.getInstances().iterator().next().getSlingId());
  assertTrue(secondTopo.isCurrent());
  instance1.dumpRepo();
  assertEarlyAndFirstClusterViewIdMatches(earlyTopo,secondTopo);
  Thread.sleep(500);
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_CHANGING);
  instance2=newBuilder().setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(20).setMinEventDelay(1).build();
  AssertingTopologyEventListener l2=new AssertingTopologyEventListener("instance2.l1");
  l2.addExpected(TopologyEvent.Type.TOPOLOGY_INIT);
  instance2.bindTopologyEventListener(l2);
  for (int i=0; i < 4; i++) {
    instance2.heartbeatsAndCheckView();
    instance1.heartbeatsAndCheckView();
    Thread.sleep(750);
  }
  assertEquals(0,l1.getUnexpectedCount());
  TopologyView topo2=instance2.getDiscoveryService().getTopology();
  assertTrue(topo2.isCurrent());
  assertEquals(2,topo2.getInstances().size());
  TopologyView topo1=instance1.getDiscoveryService().getTopology();
  assertTrue(topo1.isCurrent());
  assertEquals(2,topo1.getInstances().size());
  l1.addExpected(TopologyEvent.Type.TOPOLOGY_CHANGED);
  Thread.sleep(5000);
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  assertEquals(0,l2.getRemainingExpectedCount());
  assertEquals(0,l2.getUnexpectedCount());
  assertTrue(instance2.getDiscoveryService().getTopology().isCurrent());
  assertEquals(2,instance2.getDiscoveryService().getTopology().getInstances().size());
  assertTrue(instance1.getDiscoveryService().getTopology().isCurrent());
  assertEquals(2,instance1.getDiscoveryService().getTopology().getInstances().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.BaseTopologyViewTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCurrent() throws Exception {
  BaseTopologyView view=newView();
  assertTrue(view.isCurrent());
  view.setNotCurrent();
  assertTrue(!view.isCurrent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestMinEventDelayHandler </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLongMinDelay() throws Exception {
  mgr.installMinEventDelayHandler(sds,scheduler,5);
  final DummyListener listener=new DummyListener();
  logger.info("testLongMinDelay: calling handleActivated...");
  mgr.handleActivated();
  assertNoEvents(listener);
  logger.info("testLongMinDelay: calling bind...");
  mgr.bind(listener);
  assertNoEvents(listener);
  logger.info("testLongMinDelay: calling handleChanging...");
  mgr.handleChanging();
  assertNoEvents(listener);
  final DummyTopologyView view=new DummyTopologyView().addInstance();
  DummyTopologyView clonedView=view.clone();
  logger.info("testLongMinDelay: calling handleNewView...");
  mgr.handleNewView(view);
  TestHelper.assertEvents(mgr,listener,EventHelper.newInitEvent(view));
  final DummyTopologyView view2=new DummyTopologyView().addInstance();
  view2.addInstance(UUID.randomUUID().toString(),(DefaultClusterView)view2.getLocalInstance().getClusterView(),false,false);
  logger.info("testLongMinDelay: calling handleNewView...");
  clonedView.setNotCurrent();
  mgr.handleNewView(view2);
  TestHelper.assertEvents(mgr,listener,EventHelper.newChangingEvent(clonedView));
  assertFalse(view.isCurrent());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.base.TestViewStateManager </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDuplicateListeners() throws Exception {
  final DummyListener listener=new DummyListener();
  mgr.bind(listener);
  mgr.bind(listener);
  assertTrue(mgr.unbind(listener));
  assertFalse(mgr.unbind(listener));
  mgr.handleActivated();
  assertFalse(mgr.unbind(listener));
  mgr.bind(listener);
  mgr.bind(listener);
  assertTrue(mgr.unbind(listener));
  assertFalse(mgr.unbind(listener));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClusterSyncService_withConcurrency() throws Exception {
  final org.apache.log4j.Logger commonsLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery.commons.providers");
  final org.apache.log4j.Level logLevel=commonsLogger.getLevel();
  commonsLogger.setLevel(Level.INFO);
  final Semaphore serviceSemaphore=new Semaphore(0);
  final Semaphore testSemaphore=new Semaphore(0);
  final ReentrantLock lock=new ReentrantLock();
  final ClusterSyncServiceWithSemaphore cs=new ClusterSyncServiceWithSemaphore(lock,serviceSemaphore);
  mgr=new ViewStateManagerImpl(lock,cs);
  final DummyListener listener=new DummyListener();
  mgr.bind(listener);
  TestHelper.assertNoEvents(listener);
  mgr.handleActivated();
  TestHelper.assertNoEvents(listener);
  final String slingId1=UUID.randomUUID().toString();
  final String slingId2=UUID.randomUUID().toString();
  final String slingId3=UUID.randomUUID().toString();
  final String clusterId=UUID.randomUUID().toString();
  final DefaultClusterView cluster=new DefaultClusterView(clusterId);
  final DummyTopologyView view1=new DummyTopologyView().addInstance(slingId1,cluster,true,true).addInstance(slingId2,cluster,false,false).addInstance(slingId3,cluster,false,false);
  final DummyTopologyView view2=DummyTopologyView.clone(view1).removeInstance(slingId2);
  final DummyTopologyView view3=DummyTopologyView.clone(view1).removeInstance(slingId2).removeInstance(slingId3);
  async(new Runnable(){
    public void run(){
      mgr.handleNewView(view1);
    }
  }
);
  Thread.sleep(1000);
  TestHelper.assertNoEvents(listener);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  serviceSemaphore.release(1);
  Thread.sleep(1000);
  assertEvents(listener,EventHelper.newInitEvent(view1));
  mgr.handleChanging();
  assertEquals(0,mgr.waitForAsyncEvents(500));
  assertEvents(listener,EventHelper.newChangingEvent(view1));
  async(new Runnable(){
    public void run(){
      mgr.handleNewView(view2);
    }
  }
);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  logger.debug("run: asserting no events");
  TestHelper.assertNoEvents(listener);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  assertFalse("should not be locked",lock.isLocked());
  logger.debug("run: issuing a second event");
  async(new Runnable(){
    public void run(){
      logger.debug("run2: calling handleChanging...");
      mgr.handleChanging();
      try {
        logger.debug("run2: done with handleChanging, acquiring testSemaphore...");
        testSemaphore.acquire();
        logger.debug("run2: calling handleNewView...");
        mgr.handleNewView(view3);
        logger.debug("run2: done with handleNewView...");
      }
 catch (      InterruptedException e) {
        logger.error("interrupted: " + e,e);
      }
    }
  }
);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  int remainingAsyncEvents=mgr.waitForAsyncEvents(2000);
  logger.info("run: result of waitForAsyncEvent is: " + remainingAsyncEvents);
  assertEquals("should have one thread now waiting",1,serviceSemaphore.getQueueLength());
  assertEquals("should be acquiring (by thread2)",1,testSemaphore.getQueueLength());
  testSemaphore.release();
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  assertEquals("should have two async events now in the queue or being sent",2,mgr.waitForAsyncEvents(500));
  assertEquals("but should only have 1 thread actually sitting on the semaphore waiting",1,serviceSemaphore.getQueueLength());
  logger.debug("run: releasing consistencyService");
  serviceSemaphore.release(1);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  assertFalse("should not be locked",lock.isLocked());
  TestHelper.assertNoEvents(listener);
  serviceSemaphore.release(1);
  logger.debug("run: waiting 1sec");
  Thread.sleep(1000);
  logger.debug("run: asserting 1 event");
  final TopologyEvent changedEvent=EventHelper.newChangedEvent(view1,view3);
  assertEvents(listener,changedEvent);
  commonsLogger.setLevel(Level.INFO);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOnlyDiffersInProperties() throws Exception {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.DEBUG);
  logger.info("testOnlyDiffersInProperties: start");
  final String slingId1=UUID.randomUUID().toString();
  final String slingId2=UUID.randomUUID().toString();
  final String slingId3=UUID.randomUUID().toString();
  final String clusterId=UUID.randomUUID().toString();
  final DefaultClusterView cluster=new DefaultClusterView(clusterId);
  final DummyTopologyView view1=new DummyTopologyView().addInstance(slingId1,cluster,true,true).addInstance(slingId2,cluster,false,false).addInstance(slingId3,cluster,false,false);
  final DummyTopologyView view2=DummyTopologyView.clone(view1).removeInstance(slingId2);
  final DummyTopologyView view3=DummyTopologyView.clone(view1).removeInstance(slingId2).removeInstance(slingId3);
  DummyTopologyView view1Cloned=DummyTopologyView.clone(view1);
  logger.info("testOnlyDiffersInProperties: handleNewView(view1)");
  mgr.handleNewView(view1);
  logger.info("testOnlyDiffersInProperties: handleActivated()");
  mgr.handleActivated();
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  logger.info("testOnlyDiffersInProperties: handleNewView(view2)");
  mgr.handleNewView(view2);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  logger.info("testOnlyDiffersInProperties: handleNewView(view3)");
  mgr.handleNewView(view3);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  assertFalse(mgr.onlyDiffersInProperties(view1));
  assertFalse(mgr.onlyDiffersInProperties(view2));
  assertFalse(mgr.onlyDiffersInProperties(view3));
  final DummyTopologyView view4=DummyTopologyView.clone(view1Cloned);
  final DummyTopologyView view5=DummyTopologyView.clone(view1Cloned);
  final DummyTopologyView view6=DummyTopologyView.clone(view1Cloned);
  logger.info("testOnlyDiffersInProperties: handleNewView(view1cloned)");
  mgr.handleNewView(view1Cloned);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  DefaultInstanceDescription i4_1=(DefaultInstanceDescription)view4.getInstance(slingId1);
  i4_1.setProperty("a","b");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view4)");
  assertTrue(mgr.onlyDiffersInProperties(view4));
  DefaultInstanceDescription i5_1=(DefaultInstanceDescription)view5.getInstance(slingId1);
  i5_1.setProperty("a","b");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view5)");
  assertTrue(mgr.onlyDiffersInProperties(view5));
  DummyTopologyView view4Cloned=DummyTopologyView.clone(view4);
  mgr.handleNewView(view4);
  assertEquals(0,mgr.waitForAsyncEvents(5000));
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view4Cloned)");
  assertFalse(mgr.onlyDiffersInProperties(view4Cloned));
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view5)");
  assertFalse(mgr.onlyDiffersInProperties(view5));
  DefaultInstanceDescription i6_1=(DefaultInstanceDescription)view6.getInstance(slingId1);
  i6_1.setProperty("a","c");
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6)");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  String originalId=view6.getLocalClusterSyncTokenId();
  view6.setId(UUID.randomUUID().toString());
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [2]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [3]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view6.setId(null);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [4]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [5]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view4.setId(null);
  view6.setId(null);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [6]");
  assertTrue(mgr.onlyDiffersInProperties(view6));
  view6.setId(originalId);
  logger.info("testOnlyDiffersInProperties: onlyDiffersInProperties(view6) [7]");
  assertFalse(mgr.onlyDiffersInProperties(view6));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.commons.providers.spi.base.TestOakSyncTokenService </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOneNode() throws Exception {
  logger.info("testOneNode: start");
  DummyTopologyView one=TestHelper.newView(true,slingId1,slingId1,slingId1);
  Lock lock=new ReentrantLock();
  OakBacklogClusterSyncService cs=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService1,new DummySlingSettingsService(slingId1),factory1);
  ViewStateManager vsm=ViewStateManagerFactory.newViewStateManager(lock,cs);
  DummyListener l=new DummyListener();
  assertEquals(0,l.countEvents());
  vsm.bind(l);
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  vsm.handleActivated();
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  vsm.handleNewView(one);
  cs.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  cs.triggerBackgroundCheck();
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().me(1).seq(1).activeIds(1).setFinal(true));
  assertTrue(idMapService1.waitForInit(5000));
  cs.triggerBackgroundCheck();
  assertEquals(0,vsm.waitForAsyncEvents(1000));
  assertEquals(1,l.countEvents());
  logger.info("testOneNode: end");
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-19 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Verifies values related to public fields.
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTwoNodesOneLeaving() throws Exception {
  logger.info("testTwoNodesOneLeaving: start");
  String slingId2=UUID.randomUUID().toString();
  DummyTopologyView two1=TestHelper.newView(true,slingId1,slingId1,slingId1,slingId2);
  Lock lock1=new ReentrantLock();
  OakBacklogClusterSyncService cs1=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService1,new DummySlingSettingsService(slingId1),factory1);
  ViewStateManager vsm1=ViewStateManagerFactory.newViewStateManager(lock1,cs1);
  DummyListener l=new DummyListener();
  vsm1.bind(l);
  vsm1.handleActivated();
  vsm1.handleNewView(two1);
  cs1.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(1).activeIds(1).deactivatingIds(2));
  cs1.triggerBackgroundCheck();
  assertEquals(0,l.countEvents());
  logger.info("testTwoNodesOneLeaving: sync service should be waiting for backlog to disappear");
  Thread.sleep(2000);
  BackgroundCheckRunnable backgroundCheckRunnable=cs1.backgroundCheckRunnable;
  assertNotNull(backgroundCheckRunnable);
  assertFalse(backgroundCheckRunnable.isDone());
  assertFalse(backgroundCheckRunnable.cancelled());
  logger.info("testTwoNodesOneLeaving: freeing backlog - sync service should finish up");
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(2).activeIds(1));
  cs1.triggerBackgroundCheck();
  Thread.sleep(2000);
  backgroundCheckRunnable=cs1.backgroundCheckRunnable;
  assertNotNull(backgroundCheckRunnable);
  assertFalse(backgroundCheckRunnable.cancelled());
  assertTrue(backgroundCheckRunnable.isDone());
  assertEquals(0,vsm1.waitForAsyncEvents(1000));
  logger.info("testTwoNodesOneLeaving: setting up 2nd node");
  Lock lock2=new ReentrantLock();
  IdMapService idMapService2=IdMapService.testConstructor(new SimpleCommonsConfig(),new DummySlingSettingsService(slingId2),factory2);
  OakBacklogClusterSyncService cs2=OakBacklogClusterSyncService.testConstructorAndActivate(new SimpleCommonsConfig(),idMapService2,new DummySlingSettingsService(slingId2),factory2);
  ViewStateManager vsm2=ViewStateManagerFactory.newViewStateManager(lock2,cs2);
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory2,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(2).seq(3).activeIds(1,2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(3).activeIds(1,2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(1,l.countEvents());
  vsm2.handleActivated();
  assertTrue(idMapService1.waitForInit(5000));
  assertTrue(idMapService2.waitForInit(5000));
  DummyTopologyView two2=TestHelper.newView(two1.getLocalClusterSyncTokenId(),two1.getLocalInstance().getClusterView().getId(),true,slingId1,slingId1,slingId1,slingId2);
  vsm2.handleNewView(two2);
  cs1.triggerBackgroundCheck();
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(1000));
  assertEquals(1,l.countEvents());
  logger.info("testTwoNodesOneLeaving: removing instance2 from the view - even though vsm1 didn't really know about it, it should send a TOPOLOGY_CHANGING - we leave it as deactivating for now...");
  DummyTopologyView oneLeaving=two1.clone();
  oneLeaving.removeInstance(slingId2);
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(1).activeIds(1).deactivatingIds(2));
  vsm1.handleNewView(oneLeaving);
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(5000));
  assertEquals(2,l.countEvents());
  logger.info("testTwoNodesOneLeaving: marking instance2 as no longer deactivating, so vsm1 should now send a TOPOLOGY_CHANGED");
  DescriptorHelper.setDiscoveryLiteDescriptor(factory1,new DiscoveryLiteDescriptorBuilder().setFinal(true).me(1).seq(2).activeIds(1).inactiveIds(2));
  cs1.triggerBackgroundCheck();
  cs2.triggerBackgroundCheck();
  assertEquals(0,vsm1.waitForAsyncEvents(5000));
  RepositoryTestHelper.dumpRepo(factory1);
  assertEquals(3,l.countEvents());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.RepositoryDelaysTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * SLING-5195 : simulate slow session.saves that block
 * the calling thread for non-trivial amounts of time,
 * typically for longer than the configured heartbeat
 * timeout
 */
@Test public void testSlowSessionSaves() throws Exception {
  VirtualInstanceBuilder builder1=newBuilder();
  instance1=(FullJR2VirtualInstance)builder1.setDebugName("firstInstance").newRepository("/var/discovery/impl/",true).setMinEventDelay(0).setConnectorPingInterval(1).setConnectorPingTimeout(3).build();
  VirtualInstanceBuilder builder2=newBuilder();
  instance2=(FullJR2VirtualInstance)builder2.setDebugName("secondInstance").useRepositoryOf(instance1).setMinEventDelay(0).setConnectorPingInterval(1).setConnectorPingTimeout(3).build();
  instance1.setDelay("pre.commit",12000);
  instance1.startViewChecker(1);
  instance2.startViewChecker(1);
  Thread.sleep(5000);
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  TopologyView t2=instance2.getDiscoveryService().getTopology();
  assertTrue(t2.isCurrent());
  assertEquals(1,t2.getInstances().size());
  instance1.setDelay("pre.commit",-1);
  Thread.sleep(3000);
  TopologyView t1b=instance1.getDiscoveryService().getTopology();
  assertTrue(t1b.isCurrent());
  assertEquals(2,t1b.getInstances().size());
  TopologyView t2b=instance2.getDiscoveryService().getTopology();
  assertTrue(t2b.isCurrent());
  assertEquals(2,t2b.getInstances().size());
  instance1.setDelay("pre.commit",59876);
  instance2.setDelay("pre.commit",60000);
  logger.info("<main> both instances marked as delaying 1min - but with new background checks we should go changing within 3sec");
  Thread.sleep(8000);
  TopologyView t1c=instance1.getDiscoveryService().getTopology();
  assertFalse(t1c.isCurrent());
  TopologyView t2c=instance2.getDiscoveryService().getTopology();
  assertFalse(t2c.isCurrent());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the not-current view returned by getTopology()
 * matches what listeners get in TOPOLOGY_CHANGING - it should
 * basically be the same.
 */
@Test public void testOldView() throws Throwable {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.INFO);
  FullJR2VirtualInstanceBuilder builder=newBuilder();
  builder.setDebugName("firstInstanceA").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance1=builder.fullBuild();
  instance1.stopVoting();
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  logger.info("testOldView: instance1 created, no events expected yet. slingId=" + instance1.slingId);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  logger.info("testOldView: 2nd/3rd heartbeat sent - now expecting a TOPOLOGY_INIT");
  instance1.dumpRepo();
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  logger.info("testOldView: creating instance2");
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  FullJR2VirtualInstanceBuilder builder2=newBuilder();
  builder2.setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance2=builder2.fullBuild();
  instance2.stopVoting();
  logger.info("testOldView: instance2 created, now issuing one heartbeat with instance2 first, so that instance1 can take note of it");
  instance2.heartbeatsAndCheckView();
  logger.info("testOldView: now instance1 is also doing a heartbeat and should see that a new instance is there");
  instance1.heartbeatsAndCheckView();
  logger.info("testOldView: 500ms sleep...");
  Thread.sleep(500);
  logger.info("testOldView: 500ms sleep done.");
  assertEquals(2,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  l1.addExpected(Type.TOPOLOGY_CHANGED);
  logger.info("testOldView: now issuing 3 rounds of heartbeats/checks and expecting a TOPOLOGY_CHANGED then");
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  assertEquals(3,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
  PrivateAccessor.setField(instance1.getHeartbeatHandler(),"votingHandler",null);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  for (int i=0; i < 8; i++) {
    instance1.getHeartbeatHandler().heartbeatAndCheckView();
    Thread.sleep(500);
  }
  assertEquals(4,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.cluster.voting.VotingHandlerTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testActivateDeactivate() throws Exception {
  assertFalse((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
  votingHandler1.activate(null);
  assertTrue((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
  votingHandler1.deactivate();
  assertFalse((Boolean)PrivateAccessor.getField(votingHandler1,"activated"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.common.heartbeat.HeartbeatTest </h4><pre class="type-15 type-11 type-12 type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * SLING-5027 : test to reproduce the voting loop
 * (and verify that it's fixed)
 */
@Test public void testVotingLoop() throws Throwable {
  logger.info("testVotingLoop: creating slowMachine1...");
  FullJR2VirtualInstanceBuilder slowBuilder1=newBuilder();
  slowBuilder1.setDebugName("slow1").newRepository("/var/discovery/impl/",true).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance slowMachine1=slowBuilder1.fullBuild();
  instances.add(slowMachine1);
  SimpleTopologyEventListener slowListener1=new SimpleTopologyEventListener("slow1");
  slowMachine1.bindTopologyEventListener(slowListener1);
  logger.info("testVotingLoop: creating slowMachine2...");
  FullJR2VirtualInstanceBuilder slowBuilder2=newBuilder();
  slowBuilder2.setDebugName("slow2").useRepositoryOf(slowMachine1).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance slowMachine2=slowBuilder2.fullBuild();
  instances.add(slowMachine2);
  SimpleTopologyEventListener slowListener2=new SimpleTopologyEventListener("slow2");
  slowMachine2.bindTopologyEventListener(slowListener2);
  logger.info("testVotingLoop: creating fastMachine...");
  FullJR2VirtualInstanceBuilder fastBuilder=newBuilder();
  fastBuilder.setDebugName("fast").useRepositoryOf(slowMachine1).setConnectorPingTimeout(600).setConnectorPingInterval(999).setMinEventDelay(0);
  FullJR2VirtualInstance fastMachine=fastBuilder.fullBuild();
  instances.add(fastMachine);
  SimpleTopologyEventListener fastListener=new SimpleTopologyEventListener("fast");
  fastMachine.bindTopologyEventListener(fastListener);
  HeartbeatHandler hhSlow1=slowMachine1.getHeartbeatHandler();
  HeartbeatHandler hhSlow2=slowMachine2.getHeartbeatHandler();
  HeartbeatHandler hhFast=fastMachine.getHeartbeatHandler();
  Thread.sleep(1000);
  logger.info("testVotingLoop: after some initial 1sec sleep no event should yet have been sent");
  assertFalse(fastMachine.getDiscoveryService().getTopology().isCurrent());
  assertFalse(slowMachine1.getDiscoveryService().getTopology().isCurrent());
  assertFalse(slowMachine2.getDiscoveryService().getTopology().isCurrent());
  assertNull(fastListener.getLastEvent());
  assertNull(slowListener1.getLastEvent());
  assertNull(slowListener2.getLastEvent());
  logger.info("testVotingLoop: stopping voting of slowMachine1...");
  slowMachine1.stopVoting();
  logger.info("testVotingLoop: letting slow1, slow2 and fast all issue 1 heartbeat");
  hhSlow1.issueHeartbeat();
  hhSlow2.issueHeartbeat();
  hhFast.issueHeartbeat();
  logger.info("testVotingLoop: let the fast one do a checkView, thus initiate a voting");
  hhFast.doCheckView();
  Calendar previousVotedAt=null;
  for (int i=0; i < 5; i++) {
    logger.info("testVotingLoop: sleeping 1sec...");
    Thread.sleep(1000);
    logger.info("testVotingLoop: check to see that there is no voting loop...");
    ResourceResolverFactory factory=fastMachine.getResourceResolverFactory();
    ResourceResolver resourceResolver=factory.getAdministrativeResourceResolver(null);
    try {
      List<VotingView> ongoingVotings=VotingHelper.listOpenNonWinningVotings(resourceResolver,fastMachine.getFullConfig());
      assertNotNull(ongoingVotings);
      assertEquals(1,ongoingVotings.size());
      VotingView ongoingVote=ongoingVotings.get(0);
      assertFalse(ongoingVote.isWinning());
      assertFalse(ongoingVote.hasVotedYes(slowMachine1.getSlingId()));
      assertTrue(ongoingVote.hasVotedYes(slowMachine2.getSlingId()));
      final Resource memberResource=ongoingVote.getResource().getChild("members").getChild(slowMachine2.getSlingId());
      final ModifiableValueMap memberMap=memberResource.adaptTo(ModifiableValueMap.class);
      Property vote=(Property)memberMap.get("vote");
      assertEquals(Boolean.TRUE,vote.getBoolean());
      Property votedAt=(Property)memberMap.get("votedAt");
      if (previousVotedAt == null) {
        previousVotedAt=votedAt.getDate();
      }
 else {
        assertEquals(previousVotedAt,votedAt.getDate());
      }
    }
 catch (    Exception e) {
      resourceResolver.close();
      fail("Exception: " + e);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.impl.standalone.NoClusterDiscoveryServiceTest </h4><pre class="type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPropertyChanges() throws Exception {
  final DiscoveryService service=this.createService(true);
  final List<TopologyEvent> events=new ArrayList<TopologyEvent>();
  final TopologyEventListener listener=new TopologyEventListener(){
    @Override public void handleTopologyEvent(    final TopologyEvent event){
      events.add(event);
    }
  }
;
  invoke(service,"bindTopologyEventListener",new Class[]{TopologyEventListener.class},new Object[]{listener});
  events.clear();
  final PropertyProvider provider=new PropertyProvider(){
    @Override public String getProperty(    final String name){
      if ("a".equals(name)) {
        return "1";
      }
      if ("b".equals(name)) {
        return "2";
      }
      if ("c".equals(name)) {
        return "3";
      }
      return null;
    }
  }
;
  final Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(PropertyProvider.PROPERTY_PROPERTIES,new String[]{"a","b","c"});
  properties.put(Constants.SERVICE_ID,1L);
  invoke(service,"bindPropertyProvider",new Class[]{PropertyProvider.class,Map.class},new Object[]{provider,properties});
  assertEquals(1,events.size());
  assertEquals(TopologyEvent.Type.PROPERTIES_CHANGED,events.get(0).getType());
  assertNotNull(events.get(0).getNewView());
  assertTrue(events.get(0).getNewView().isCurrent());
  assertNotNull(events.get(0).getOldView());
  assertFalse(events.get(0).getOldView().isCurrent());
  assertEquals("1",events.get(0).getNewView().getLocalInstance().getProperty("a"));
  assertEquals("2",events.get(0).getNewView().getLocalInstance().getProperty("b"));
  assertEquals("3",events.get(0).getNewView().getLocalInstance().getProperty("c"));
  assertNull(events.get(0).getOldView().getLocalInstance().getProperty("a"));
  assertNull(events.get(0).getOldView().getLocalInstance().getProperty("b"));
  assertNull(events.get(0).getOldView().getLocalInstance().getProperty("c"));
  events.clear();
  invoke(service,"unbindPropertyProvider",new Class[]{PropertyProvider.class,Map.class},new Object[]{provider,properties});
  assertEquals(1,events.size());
  assertEquals(TopologyEvent.Type.PROPERTIES_CHANGED,events.get(0).getType());
  assertNotNull(events.get(0).getNewView());
  assertTrue(events.get(0).getNewView().isCurrent());
  assertNotNull(events.get(0).getOldView());
  assertFalse(events.get(0).getOldView().isCurrent());
  assertEquals("1",events.get(0).getOldView().getLocalInstance().getProperty("a"));
  assertEquals("2",events.get(0).getOldView().getLocalInstance().getProperty("b"));
  assertEquals("3",events.get(0).getOldView().getLocalInstance().getProperty("c"));
  assertNull(events.get(0).getNewView().getLocalInstance().getProperty("a"));
  assertNull(events.get(0).getNewView().getLocalInstance().getProperty("b"));
  assertNull(events.get(0).getNewView().getLocalInstance().getProperty("c"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBasics() throws Exception {
  final DiscoveryService service=this.createService(true);
  assertNotNull(service.getTopology());
  assertTrue(service.getTopology().isCurrent());
  invoke(service,"deactivate");
  assertNull(service.getTopology());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.oak.OakDiscoveryServiceTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBindBeforeActivate() throws Exception {
  OakVirtualInstanceBuilder builder=(OakVirtualInstanceBuilder)new OakVirtualInstanceBuilder().setDebugName("test").newRepository("/foo/bar",true);
  String slingId=UUID.randomUUID().toString();
  ;
  DiscoveryLiteDescriptorBuilder discoBuilder=new DiscoveryLiteDescriptorBuilder();
  discoBuilder.id("id").me(1).activeIds(1);
  discoBuilder.setFinal(false);
  DescriptorHelper.setDiscoveryLiteDescriptor(builder.getResourceResolverFactory(),discoBuilder);
  IdMapService idMapService=IdMapService.testConstructor(new SimpleCommonsConfig(1000,-1),new DummySlingSettingsService(slingId),builder.getResourceResolverFactory());
  assertTrue(idMapService.waitForInit(2000));
  OakDiscoveryService discoveryService=(OakDiscoveryService)builder.getDiscoverService();
  assertNotNull(discoveryService);
  DummyListener listener=new DummyListener();
  for (int i=0; i < 100; i++) {
    discoveryService.bindTopologyEventListener(listener);
    discoveryService.unbindTopologyEventListener(listener);
  }
  discoveryService.bindTopologyEventListener(listener);
  assertEquals(0,listener.countEvents());
  discoveryService.activate(null);
  assertEquals(0,listener.countEvents());
  discoveryService.unbindTopologyEventListener(listener);
  discoveryService.bindTopologyEventListener(listener);
  discoBuilder.setFinal(true);
  DescriptorHelper.setDiscoveryLiteDescriptor(builder.getResourceResolverFactory(),discoBuilder);
  discoveryService.checkForTopologyChange();
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(1,listener.countEvents());
  discoveryService.unbindTopologyEventListener(listener);
  assertEquals(1,listener.countEvents());
  discoveryService.bindTopologyEventListener(listener);
  assertEquals(0,discoveryService.getViewStateManager().waitForAsyncEvents(2000));
  assertEquals(2,listener.countEvents());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.discovery.oak.its.OakDiscoveryServiceTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests whether the not-current view returned by getTopology()
 * matches what listeners get in TOPOLOGY_CHANGING - it should
 * basically be the same.
 */
@Test public void testOldView() throws Throwable {
  final org.apache.log4j.Logger discoveryLogger=LogManager.getRootLogger().getLogger("org.apache.sling.discovery");
  discoveryLogger.setLevel(Level.INFO);
  OakVirtualInstanceBuilder builder=newBuilder();
  builder.setDebugName("firstInstanceA").newRepository("/var/discovery/oak/",true).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance1=builder.build();
  instance1.stopViewChecker();
  TopologyView t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  AssertingTopologyEventListener l1=new AssertingTopologyEventListener("instance1.l1");
  l1.addExpected(Type.TOPOLOGY_INIT);
  instance1.bindTopologyEventListener(l1);
  logger.info("testOldView: instance1 created, no events expected yet. slingId=" + instance1.slingId);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  instance1.heartbeatsAndCheckView();
  Thread.sleep(200);
  logger.info("testOldView: 2nd/3rd heartbeat sent - now expecting a TOPOLOGY_INIT");
  instance1.dumpRepo();
  assertEquals(1,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  logger.info("testOldView: creating instance2");
  builder.getSimulatedLeaseCollection().setFinal(false);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  VirtualInstanceBuilder builder2=newBuilder();
  builder2.setDebugName("secondInstanceB").useRepositoryOf(instance1).setConnectorPingTimeout(3).setMinEventDelay(3);
  instance2=builder2.build();
  instance2.stopViewChecker();
  logger.info("testOldView: instance2 created, now issuing one heartbeat with instance2 first, so that instance1 can take note of it");
  instance2.getViewChecker().checkView();
  OakDiscoveryService oakDisco1=(OakDiscoveryService)instance2.getDiscoveryService();
  oakDisco1.checkForTopologyChange();
  logger.info("testOldView: now instance1 is also doing a heartbeat and should see that a new instance is there");
  instance1.getViewChecker().checkView();
  OakDiscoveryService oakDisco2=(OakDiscoveryService)instance1.getDiscoveryService();
  oakDisco2.checkForTopologyChange();
  logger.info("testOldView: 500ms sleep...");
  Thread.sleep(500);
  logger.info("testOldView: 500ms sleep done.");
  assertEquals(2,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(1,t1.getInstances().size());
  builder.getSimulatedLeaseCollection().setFinal(true);
  l1.addExpected(Type.TOPOLOGY_CHANGED);
  logger.info("testOldView: now issuing 3 rounds of heartbeats/checks and expecting a TOPOLOGY_CHANGED then");
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  instance2.heartbeatsAndCheckView();
  instance1.heartbeatsAndCheckView();
  Thread.sleep(1200);
  assertEquals(3,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertTrue(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
  builder.getSimulatedLeaseCollection().setFinal(false);
  l1.addExpected(Type.TOPOLOGY_CHANGING);
  for (int i=0; i < 8; i++) {
    instance1.heartbeatsAndCheckView();
    Thread.sleep(500);
  }
  assertEquals(4,l1.getEvents().size());
  assertEquals(0,l1.getRemainingExpectedCount());
  assertEquals(0,l1.getUnexpectedCount());
  t1=instance1.getDiscoveryService().getTopology();
  assertFalse(t1.isCurrent());
  assertEquals(2,t1.getInstances().size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.agent.impl.SimpleDistributionAgentTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDistributionWithDisallowedRoot() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy queueDistributionStrategy=mock(DistributionQueueDispatchingStrategy.class);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(queueDistributionStrategy.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.QUEUED,"default")));
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,queueDistributionStrategy,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,new String[]{"/content"},0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/home");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  when(distributionPackage.getInfo()).thenReturn(packageInfo);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  queueDistributionStrategy.add(distributionPackage,queueProvider);
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertFalse(response.isSuccessful());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDistributionWithAllowedRoot() throws Exception {
  String name="sample-agent";
  DistributionPackageImporter packageImporter=mock(DistributionPackageImporter.class);
  DistributionPackageExporter packageExporter=mock(DistributionPackageExporter.class);
  DistributionRequestAuthorizationStrategy packageExporterStrategy=mock(DistributionRequestAuthorizationStrategy.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueueDispatchingStrategy queueDistributionStrategy=mock(DistributionQueueDispatchingStrategy.class);
  DistributionEventFactory distributionEventFactory=mock(DistributionEventFactory.class);
  ResourceResolverFactory resolverFactory=mock(ResourceResolverFactory.class);
  when(queueDistributionStrategy.add(any(DistributionPackage.class),any(DistributionQueueProvider.class))).thenReturn(Collections.singletonList(new DistributionQueueItemStatus(DistributionQueueItemState.QUEUED,"default")));
  SimpleDistributionAgent agent=new SimpleDistributionAgent(name,false,null,"serviceName",packageImporter,packageExporter,packageExporterStrategy,queueProvider,queueDistributionStrategy,null,distributionEventFactory,resolverFactory,mock(SlingRepository.class),mock(DefaultDistributionLog.class),null,new String[]{"/content"},0);
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.ADD,"/content");
  final DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionPackageInfo packageInfo=new DistributionPackageInfo("type");
  when(distributionPackage.getInfo()).thenReturn(packageInfo);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  queueDistributionStrategy.add(distributionPackage,queueProvider);
  doAnswer(new Answer(){
    @Override public Object answer(    InvocationOnMock invocationOnMock) throws Throwable {
      Object[] args=invocationOnMock.getArguments();
      ((DistributionPackageProcessor)args[2]).process(distributionPackage);
      return null;
    }
  }
).when(packageExporter).exportPackages(any(ResourceResolver.class),any(DistributionRequest.class),any(DistributionPackageProcessor.class));
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(new SimpleDistributionQueue(name,"name"));
  DistributionResponse response=agent.execute(resourceResolver,request);
  assertTrue(response.isSuccessful());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.component.impl.SettingsUtilsTest </h4><pre class="type-11 type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParseMap(){
  String[] lines=new String[]{"packageExporter/exporterKey=exporterValue","packageExporter/exporterMap[key1]=mapvalue1","packageExporter/exporterBuilder/builderKey=builderValue","packageExporter/endpointsArray[0]=http://abc.com","mainKey=mainValue","trigger[0]/propertyKey1=propertyValue1","trigger[0]/propertyKey2=propertyValue2","slashKey=http://aaa.com"};
  Map<String,Object> result=SettingsUtils.parseLines(lines);
  assertEquals("result map size",4,result.size());
  assertTrue(result.containsKey("packageExporter"));
  Object packageExporterProperties=result.get("packageExporter");
  assertTrue(packageExporterProperties instanceof Map);
  Map<String,Object> packageExporterMap=(Map)packageExporterProperties;
  assertTrue(packageExporterMap.containsKey("exporterKey"));
  assertEquals("exporterValue",packageExporterMap.get("exporterKey"));
  assertTrue(packageExporterMap.containsKey("exporterBuilder"));
  assertTrue(packageExporterMap.get("exporterBuilder") instanceof Map);
  Map exporterBuilderMap=(Map)packageExporterMap.get("exporterBuilder");
  assertEquals("builderValue",exporterBuilderMap.get("builderKey"));
  assertTrue(packageExporterMap.containsKey("exporterMap"));
  assertTrue(packageExporterMap.get("exporterMap") instanceof Map);
  Map exporterMap=(Map)packageExporterMap.get("exporterMap");
  assertEquals("mapvalue1",exporterMap.get("key1"));
  assertTrue(packageExporterMap.containsKey("endpointsArray"));
  assertTrue(packageExporterMap.get("endpointsArray") instanceof List);
  assertEquals("http://abc.com",((List)packageExporterMap.get("endpointsArray")).get(0));
  assertTrue(result.containsKey("mainKey"));
  assertTrue(result.containsKey("trigger"));
  assertTrue(result.get("trigger") instanceof List);
  List<Map> triggersList=(List<Map>)result.get("trigger");
  assertNotNull(triggersList.get(0));
  Map trigger0Map=triggersList.get(0);
  assertEquals("propertyValue1",trigger0Map.get("propertyKey1"));
  assertEquals("propertyValue2",trigger0Map.get("propertyKey2"));
  assertTrue(result.containsKey("slashKey"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.monitor.DistributionQueueHealthCheckTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithOneOkItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem item=mock(DistributionQueueItem.class);
  DistributionQueueItemStatus status=mock(DistributionQueueItemStatus.class);
  when(status.getAttempts()).thenReturn(1);
  when(queue.getItem(any(String.class))).thenReturn(new DistributionQueueEntry(item,status));
  when(queue.getHead()).thenReturn(new DistributionQueueEntry(item,status));
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNotOkItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem item=mock(DistributionQueueItem.class);
  DistributionQueueItemStatus status=mock(DistributionQueueItemStatus.class);
  when(status.getAttempts()).thenReturn(10);
  when(queue.getItem(any(String.class))).thenReturn(new DistributionQueueEntry(item,status));
  when(queue.getHead()).thenReturn(new DistributionQueueEntry(item,status));
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertFalse(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNoDistributionQueueProvider() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithNoItemInTheQueue() throws Exception {
  DistributionQueueHealthCheck distributionQueueHealthCheck=new DistributionQueueHealthCheck();
  distributionQueueHealthCheck.activate(Collections.<String,Object>emptyMap());
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queue.getHead()).thenReturn(null);
  DistributionAgent distributionAgent=mock(DistributionAgent.class);
  List<String> queues=new ArrayList<String>();
  queues.add("queueName");
  when(distributionAgent.getQueueNames()).thenReturn(queues);
  when(distributionAgent.getQueue(anyString())).thenReturn(queue);
  distributionQueueHealthCheck.bindDistributionAgent(distributionAgent);
  Result result=distributionQueueHealthCheck.execute();
  assertNotNull(result);
  assertTrue(result.isOk());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.packaging.impl.exporter.RemoteDistributionPackageExporterTest </h4><pre class="type-13 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDummyExport() throws Exception {
  DistributionPackageBuilder packageBuilder=mock(DistributionPackageBuilder.class);
  DistributionTransportSecretProvider distributionTransportSecretProvider=mock(DistributionTransportSecretProvider.class);
  String[] endpoints=new String[0];
  RemoteDistributionPackageExporter remotedistributionPackageExporter=new RemoteDistributionPackageExporter(mock(DefaultDistributionLog.class),packageBuilder,distributionTransportSecretProvider,endpoints,1);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  DistributionRequest distributionRequest=new SimpleDistributionRequest(DistributionRequestType.ADD,"/");
  final List<DistributionPackage> distributionPackages=new ArrayList<DistributionPackage>();
  remotedistributionPackageExporter.exportPackages(resourceResolver,distributionRequest,new DistributionPackageProcessor(){
    @Override public void process(    DistributionPackage distributionPackage){
      distributionPackages.add(distributionPackage);
    }
  }
);
  assertNotNull(distributionPackages);
  assertTrue(distributionPackages.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.PriorityQueueDispatchingStrategyTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueueExpansion() throws Exception {
  PriorityQueueDispatchingStrategy dispatchingStrategy=new PriorityQueueDispatchingStrategy(selectors,queueNames);
  List<String> queues=dispatchingStrategy.getQueueNames();
  assertEquals(7,queues.size());
  assertTrue(queues.contains("publish1"));
  assertTrue(queues.contains("news-publish1"));
  assertTrue(queues.contains("publish2"));
  assertTrue(queues.contains("news-publish2"));
  assertTrue(queues.contains("notes-publish1"));
  assertTrue(queues.contains("important-publish1"));
  assertTrue(queues.contains("important-publish2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.SingleQueueDistributionStrategyTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithFailingItemDelivery() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  DistributionQueueItem queueItem=mock(DistributionQueueItem.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(queueItem)).thenReturn(new DistributionQueueEntry(queueItem,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithNotNullItemStateFromTheQueue() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(any(DistributionQueueItem.class))).thenReturn(new DistributionQueueEntry(null,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionWithSucceedingItemDelivery() throws Exception {
  SingleQueueDispatchingStrategy singleQueueDistributionStrategy=new SingleQueueDispatchingStrategy();
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  DistributionQueueProvider queueProvider=mock(DistributionQueueProvider.class);
  DistributionQueue queue=mock(DistributionQueue.class);
  when(queueProvider.getQueue(DistributionQueueDispatchingStrategy.DEFAULT_QUEUE_NAME)).thenReturn(queue);
  DistributionQueueItemStatus state=mock(DistributionQueueItemStatus.class);
  when(queue.add(any(DistributionQueueItem.class))).thenReturn(new DistributionQueueEntry(null,state));
  Iterable<DistributionQueueItemStatus> returnedStates=singleQueueDistributionStrategy.add(distributionPackage,queueProvider);
  assertNotNull(returnedStates);
  Iterator<DistributionQueueItemStatus> iterator=returnedStates.iterator();
  assertNotNull(iterator);
  assertTrue(iterator.hasNext());
  assertNotNull(iterator.next());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.queue.impl.simple.SimpleDistributionQueueTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionAndRemoval() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  when(pkg.getId()).thenReturn("id");
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
  assertNotNull(queue.remove(pkg.getId()));
  assertTrue(queue.getStatus().isEmpty());
  DistributionQueueEntry entry=queue.getItem(pkg.getId());
  assertNull(entry);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAddition() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageAdditionRetrievalAndRemoval() throws Exception {
  DistributionQueue queue=new SimpleDistributionQueue("agentName","default");
  DistributionQueueItem pkg=mock(DistributionQueueItem.class);
  when(pkg.getId()).thenReturn("id");
  assertNotNull(queue.add(pkg));
  assertFalse(queue.getStatus().isEmpty());
  assertEquals(pkg,queue.getHead().getItem());
  assertFalse(queue.getStatus().isEmpty());
  DistributionQueueItemStatus status=queue.getItem(pkg.getId()).getStatus();
  assertNotNull(queue.remove(pkg.getId()));
  assertTrue(queue.getStatus().isEmpty());
  assertNotNull(status);
  assertEquals(1,status.getAttempts());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.SimpleDistributionPackageTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreatedAndReadPackagesEquality() throws Exception {
  DistributionRequest request=new SimpleDistributionRequest(DistributionRequestType.DELETE,"/abc");
  SimpleDistributionPackage createdPackage=new SimpleDistributionPackage(request,"VOID");
  SimpleDistributionPackage readPackage=SimpleDistributionPackage.fromStream(new ByteArrayInputStream(("DSTRPCK:DELETE|/abc").getBytes()),"VOID");
  assertEquals(createdPackage.getType(),readPackage.getType());
  assertEquals(createdPackage.getInfo().getRequestType(),readPackage.getInfo().getRequestType());
  assertEquals(Arrays.toString(createdPackage.getInfo().getPaths()),Arrays.toString(readPackage.getInfo().getPaths()));
  assertEquals(createdPackage.getId(),readPackage.getId());
  assertTrue(IOUtils.contentEquals(createdPackage.createInputStream(),readPackage.createInputStream()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.avro.AvroDistributionPackageBuilderTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackage() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  File f=new File(getClass().getResource("/avro/dp.avro").getFile());
  DistributionPackage distributionPackage=new FileDistributionPackage(f,"avro");
  boolean success=avroDistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageLifecycle() throws Exception {
  AvroDistributionPackageBuilder avroDistributionPackageBuilder=new AvroDistributionPackageBuilder();
  DistributionPackage distributionPackage=avroDistributionPackageBuilder.createPackage(resourceResolver,new DistributionRequest(){
    @Nonnull public DistributionRequestType getRequestType(){
      return DistributionRequestType.ADD;
    }
    public String[] getPaths(){
      return new String[]{"/libs"};
    }
    public boolean isDeep(    String path){
      return false;
    }
    @Nonnull @Override public String[] getFilters(    String path){
      return new String[0];
    }
  }
);
  assertNotNull(distributionPackage);
  DistributionPackage readPackage=avroDistributionPackageBuilder.readPackage(resourceResolver,distributionPackage.createInputStream());
  assertTrue(avroDistributionPackageBuilder.installPackage(resourceResolver,readPackage));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.kryo.KryoResourceDistributionPackageBuilderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPackageLifecycle() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  DistributionPackage kryoPackage=kryoResourceDistributionPackageBuilder.createPackage(resourceResolver,new DistributionRequest(){
    @Nonnull public DistributionRequestType getRequestType(){
      return DistributionRequestType.ADD;
    }
    public String[] getPaths(){
      return new String[]{"/libs"};
    }
    public boolean isDeep(    String path){
      return true;
    }
    @Nonnull @Override public String[] getFilters(    String path){
      return new String[0];
    }
  }
);
  assertNotNull(kryoPackage);
  DistributionPackage readPackage=kryoResourceDistributionPackageBuilder.readPackage(resourceResolver,kryoPackage.createInputStream());
  assertTrue(kryoResourceDistributionPackageBuilder.installPackage(resourceResolver,readPackage));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackage() throws Exception {
  KryoResourceDistributionPackageBuilder kryoResourceDistributionPackageBuilder=new KryoResourceDistributionPackageBuilder();
  File file=new File(getClass().getResource("/kryo/dp.kryo").getFile());
  DistributionPackage distributionPackage=new FileDistributionPackage(file,"kryo");
  boolean succes=kryoResourceDistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(succes);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.distribution.serialization.impl.vlt.FileVaultDistributionPackageBuilderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testReadDummyPackageInternal() throws Exception {
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,null,null,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  InputStream stream=new ByteArrayInputStream("some binary".getBytes("UTF-8"));
  boolean throwsException=false;
  try {
    DistributionPackage distributionPackage=fileVaultdistributionPackageBuilder.readPackageInternal(resourceResolver,stream);
  }
 catch (  Exception e) {
    throwsException=true;
  }
  assertTrue(throwsException);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallPackageInternal() throws Exception {
  File tempFile=File.createTempFile("testInstallPackageInternal","txt");
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  VaultPackage vaultPackage=mock(VaultPackage.class);
  when(packageManager.open(tempFile)).thenReturn(vaultPackage);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,null,null,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  Session session=mock(Session.class);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  when(distributionPackage.getId()).thenReturn(tempFile.getAbsolutePath());
  when(distributionPackage.getType()).thenReturn("filevlt");
  DistributionPackageInfo info=new DistributionPackageInfo("filevlt");
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/something"});
  when(distributionPackage.getInfo()).thenReturn(info);
  boolean success=fileVaultdistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInstallWithCustomImportModeAndACLHandling() throws Exception {
  File tempFile=File.createTempFile("testInstallPackageInternal","txt");
  Packaging packaging=mock(Packaging.class);
  PackageManager packageManager=mock(PackageManager.class);
  VaultPackage vaultPackage=mock(VaultPackage.class);
  when(packageManager.open(tempFile)).thenReturn(vaultPackage);
  when(packaging.getPackageManager()).thenReturn(packageManager);
  FileVaultDistributionPackageBuilder fileVaultdistributionPackageBuilder=new FileVaultDistributionPackageBuilder("filevlt",packaging,ImportMode.MERGE,AccessControlHandling.MERGE,null,null,null,false);
  ResourceResolver resourceResolver=mock(ResourceResolver.class);
  Session session=mock(Session.class);
  Workspace workspace=mock(Workspace.class);
  ObservationManager observationManager=mock(ObservationManager.class);
  when(workspace.getObservationManager()).thenReturn(observationManager);
  when(session.getWorkspace()).thenReturn(workspace);
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  DistributionPackage distributionPackage=mock(DistributionPackage.class);
  when(distributionPackage.getId()).thenReturn(tempFile.getAbsolutePath());
  when(distributionPackage.getType()).thenReturn("filevlt");
  DistributionPackageInfo info=new DistributionPackageInfo("filevlt");
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_TYPE,DistributionRequestType.ADD);
  info.put(DistributionPackageInfo.PROPERTY_REQUEST_PATHS,new String[]{"/something"});
  when(distributionPackage.getInfo()).thenReturn(info);
  boolean success=fileVaultdistributionPackageBuilder.installPackage(resourceResolver,distributionPackage);
  assertTrue(success);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.engine.impl.helper.ExternalServletContextWrapperTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests that the RequestDispatcher is wrapped.
 */
@Test public void testGetRequestDispatcher(){
  final RequestDispatcher rd=context.mock(RequestDispatcher.class);
  final ServletContext ctx=context.mock(ServletContext.class);
  context.checking(new Expectations(){
{
      oneOf(ctx).getRequestDispatcher("foo.jsp");
      will(returnValue(rd));
    }
  }
);
  ExternalServletContextWrapper wrapper=new ExternalServletContextWrapper(ctx);
  RequestDispatcher dispatcher=wrapper.getRequestDispatcher("foo.jsp");
  assertTrue(dispatcher instanceof RequestDispatcherWrapper);
  assertEquals(rd,((RequestDispatcherWrapper)dispatcher).getDelegate());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.impl.jobs.config.JobManagerConfigurationTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTopologyChange() throws Exception {
  final Scheduler scheduler=this.createScheduler();
  final ChangeListener ccl=new ChangeListener();
  ccl.init(1);
  final JobManagerConfiguration config=new JobManagerConfiguration();
  TestUtil.setFieldValue(config,"scheduler",scheduler);
  ((AtomicBoolean)TestUtil.getFieldValue(config,"active")).set(true);
  config.addListener(ccl);
  ccl.await();
  assertEquals(1,ccl.events.size());
  assertFalse(ccl.events.get(0));
  ccl.init(1);
  final TopologyView initView=createView();
  final TopologyEvent init=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_INIT,null,initView);
  config.handleTopologyEvent(init);
  ccl.await();
  assertEquals(1,ccl.events.size());
  assertTrue(ccl.events.get(0));
  ccl.init(2);
  final TopologyView view2=createView();
  Mockito.when(initView.isCurrent()).thenReturn(false);
  final TopologyEvent change1=new TopologyEvent(TopologyEvent.Type.TOPOLOGY_CHANGED,initView,view2);
  final TopologyView view3=createView();
  final TopologyEvent change2=new TopologyEvent(TopologyEvent.Type.PROPERTIES_CHANGED,view2,view3);
  config.handleTopologyEvent(change1);
  Mockito.when(view2.isCurrent()).thenReturn(false);
  config.handleTopologyEvent(change2);
  ccl.await();
  assertEquals(2,ccl.events.size());
  assertFalse(ccl.events.get(0));
  assertTrue(ccl.events.get(1));
  Thread.sleep(4000);
  assertEquals(2,ccl.events.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.JobHandlingTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test canceling a job
 * The job execution always fails
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testCancelJob() throws Exception {
  final Barrier cb=new Barrier(2);
  final Barrier cb2=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    Job job){
      cb.block();
      cb2.block();
      return JobResult.FAILED;
    }
  }
);
  final Map<String,Object> jobProperties=Collections.singletonMap("id",(Object)"cancelJobId");
  @SuppressWarnings("unchecked") final Map<String,Object>[] jobPropertiesAsArray=new Map[1];
  jobPropertiesAsArray[0]=jobProperties;
  final JobManager jobManager=this.getJobManager();
  jobManager.addJob(TOPIC,jobProperties);
  cb.block();
  assertEquals(1,jobManager.findJobs(JobManager.QueryType.ALL,TOPIC,-1,jobPropertiesAsArray).size());
  final Job e1=jobManager.getJob(TOPIC,jobProperties);
  assertNotNull(e1);
  cb2.block();
  sleep(200);
  final Job e2=jobManager.getJob(TOPIC,jobProperties);
  assertNotNull(e2);
  assertTrue(jobManager.removeJobById(e2.getId()));
  assertEquals(0,jobManager.findJobs(JobManager.QueryType.ALL,TOPIC,-1,jobPropertiesAsArray).size());
  final Collection<Job> col=jobManager.findJobs(JobManager.QueryType.HISTORY,TOPIC,-1,jobPropertiesAsArray);
  try {
    assertEquals(1,col.size());
  }
  finally {
    for (    final Job j : col) {
      jobManager.removeJobById(j.getId());
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test simple job execution.
 * The job is executed once and finished successfully.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testSimpleJobExecutionUsingJobExecutor() throws Exception {
  final Barrier cb=new Barrier(2);
  this.registerJobExecutor(TOPIC,new JobExecutor(){
    @Override public JobExecutionResult process(    final Job job,    final JobExecutionContext context){
      cb.block();
      return context.result().succeeded();
    }
  }
);
  this.getJobManager().addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Test simple job execution.
 * The job is executed once and finished successfully.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testSimpleJobExecutionUsingJobConsumer() throws Exception {
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  this.getJobManager().addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Reschedule test.
 * The job is rescheduled two times before it fails.
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testStartJobAndReschedule() throws Exception {
  final List<Integer> retryCountList=new ArrayList<Integer>();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC,new JobConsumer(){
    int retryCount;
    @Override public JobResult process(    Job job){
      int retry=0;
      if (job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT) != null) {
        retry=(Integer)job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT);
      }
      if (retry == retryCount) {
        retryCountList.add(retry);
      }
      retryCount++;
      cb.block();
      return JobResult.FAILED;
    }
  }
);
  final JobManager jobManager=this.getJobManager();
  final Job job=jobManager.addJob(TOPIC,null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  assertFalse("Unexpected event received in the given time.",cb.block(5));
  assertEquals("Unexpected number of retries",3,retryCountList.size());
  jobManager.removeJobById(job.getId());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.OrderedQueueTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Ordered Queue Test
 */
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testOrderedQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  this.registerJobConsumer("sling/orderedtest/*",new JobConsumer(){
    private volatile int lastCounter=-1;
    @Override public JobResult process(    final Job job){
      final int counter=job.getProperty("counter",-10);
      assertNotEquals("Counter property is missing",-10,counter);
      assertTrue("Counter should only increment by max of 1 " + counter + " - "+ lastCounter,counter == lastCounter || counter == lastCounter + 1);
      lastCounter=counter;
      if ("sling/orderedtest/start".equals(job.getTopic())) {
        cb.block();
        return JobResult.OK;
      }
      if (parallelCount.incrementAndGet() > 1) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
      final String topic=job.getTopic();
      if (topic.endsWith("sub1")) {
        final int i=(Integer)job.getProperty(Job.PROPERTY_JOB_RETRY_COUNT);
        if (i == 0) {
          parallelCount.decrementAndGet();
          return JobResult.FAILED;
        }
      }
      try {
        Thread.sleep(30);
      }
 catch (      InterruptedException ie) {
      }
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  final Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("counter",-1);
  jobManager.addJob("sling/orderedtest/start",properties);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue("orderedtest");
  assertNotNull("Queue 'orderedtest' should exist!",q);
  q.suspend();
  final int NUM_JOBS=30;
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic="sling/orderedtest/sub" + (i % 10);
    properties.clear();
    properties.put("counter",i);
    jobManager.addJob(subTopic,properties);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    try {
      Thread.sleep(500);
    }
 catch (    InterruptedException ie) {
    }
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",NUM_JOBS / 10,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.RoundRobinQueueTest </h4><pre class="type-15 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testRoundRobinQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC + "/start",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  final Set<Integer> maxParticipants=new HashSet<Integer>();
  this.registerJobConsumer(TOPIC + "/*",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      final int max=parallelCount.incrementAndGet();
      if (max > MAX_PAR) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
synchronized (maxParticipants) {
        maxParticipants.add(max);
      }
      sleep(job.getProperty("sleep",30));
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  jobManager.addJob(TOPIC + "/start",null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue(QUEUE_NAME);
  assertNotNull("Queue '" + QUEUE_NAME + "' should exist!",q);
  q.suspend();
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic=TOPIC + "/sub" + (i % 10);
    final Map<String,Object> props=new HashMap<String,Object>();
    if (i < 10) {
      props.put("sleep",300);
    }
 else {
      props.put("sleep",30);
    }
    jobManager.addJob(subTopic,props);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
    assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
    sleep(300);
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
  for (int i=1; i <= MAX_PAR; i++) {
    assertTrue("# Participants " + String.valueOf(i) + " not in "+ maxParticipants,maxParticipants.contains(i));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.event.it.UnorderedQueueTest </h4><pre class="type-15 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(timeout=DEFAULT_TEST_TIMEOUT) public void testUnorderedQueue() throws Exception {
  final JobManager jobManager=this.getJobManager();
  final Barrier cb=new Barrier(2);
  this.registerJobConsumer(TOPIC + "/start",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      cb.block();
      return JobResult.OK;
    }
  }
);
  final AtomicInteger count=new AtomicInteger(0);
  final AtomicInteger parallelCount=new AtomicInteger(0);
  final Set<Integer> maxParticipants=new HashSet<Integer>();
  this.registerJobConsumer(TOPIC + "/*",new JobConsumer(){
    @Override public JobResult process(    final Job job){
      final int max=parallelCount.incrementAndGet();
      if (max > MAX_PAR) {
        parallelCount.decrementAndGet();
        return JobResult.FAILED;
      }
synchronized (maxParticipants) {
        maxParticipants.add(max);
      }
      sleep(job.getProperty("sleep",30));
      parallelCount.decrementAndGet();
      return JobResult.OK;
    }
  }
);
  this.registerEventHandler(NotificationConstants.TOPIC_JOB_FINISHED,new EventHandler(){
    @Override public void handleEvent(    final Event event){
      count.incrementAndGet();
    }
  }
);
  jobManager.addJob(TOPIC + "/start",null);
  assertTrue("No event received in the given time.",cb.block(5));
  cb.reset();
  final Queue q=jobManager.getQueue(QUEUE_NAME);
  assertNotNull("Queue '" + QUEUE_NAME + "' should exist!",q);
  q.suspend();
  for (int i=0; i < NUM_JOBS; i++) {
    final String subTopic=TOPIC + "/sub" + (i % 10);
    final Map<String,Object> props=new HashMap<String,Object>();
    if (i < 10) {
      props.put("sleep",300);
    }
 else {
      props.put("sleep",30);
    }
    jobManager.addJob(subTopic,props);
  }
  q.resume();
  while (count.get() < NUM_JOBS + 1) {
    assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
    assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
    sleep(300);
  }
  assertEquals("Finished count",NUM_JOBS + 1,count.get());
  assertEquals("Finished count",NUM_JOBS + 1,jobManager.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Finished count",NUM_JOBS + 1,q.getStatistics().getNumberOfFinishedJobs());
  assertEquals("Failed count",0,q.getStatistics().getNumberOfFailedJobs());
  assertEquals("Cancelled count",0,q.getStatistics().getNumberOfCancelledJobs());
  for (int i=1; i <= MAX_PAR; i++) {
    assertTrue("# Participants " + String.valueOf(i) + " not in "+ maxParticipants,maxParticipants.contains(i));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.extensions.mdc.integration.ITMDCFilter </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWihCustomData() throws Exception {
  RequestBuilder rb=new RequestBuilder(ServerConfiguration.getServerUrl());
  executor.execute(rb.buildGetRequest("/mdc","createTestConfig","true"));
  TimeUnit.SECONDS.sleep(1);
  BasicClientCookie cookie=new BasicClientCookie("mdc-test-cookie","foo-test-cookie");
  cookie.setPath("/");
  cookie.setDomain("localhost");
  httpClient.getCookieStore().addCookie(cookie);
  RequestExecutor result=executor.execute(rb.buildGetRequest("/mdc","mdc-test-param","foo-test-param","ignored-param","ignored-value").withHeader("X-Forwarded-For","foo-forwarded-for").withHeader("mdc-test-header","foo-test-header"));
  JSONObject jb=new JSONObject(result.getContent());
  log.info("Response  {}",result.getContent());
  assertEquals("/mdc",jb.getString("req.requestURI"));
  assertEquals(ServerConfiguration.getServerUrl() + "/mdc",jb.getString("req.requestURL"));
  assertEquals("foo-forwarded-for",jb.getString("req.xForwardedFor"));
  assertEquals("foo-test-header",jb.getString("mdc-test-header"));
  assertEquals("foo-test-param",jb.getString("mdc-test-param"));
  assertEquals("foo-test-cookie",jb.getString("mdc-test-cookie"));
  assertFalse(jb.has("ignored-param"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.api.ResultLogTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLogEntries(){
  log.add(new ResultLog.Entry(Result.Status.OK,"ok 1"));
  log.add(new ResultLog.Entry(Result.Status.DEBUG,"debug 2"));
  log.add(new ResultLog.Entry(Result.Status.WARN,"warn 3"));
  log.add(new ResultLog.Entry(Result.Status.CRITICAL,"critical 4"));
  final Iterator<ResultLog.Entry> it=log.iterator();
  assertEquals("OK ok 1",it.next().toString());
  assertEquals("DEBUG debug 2",it.next().toString());
  assertEquals("WARN warn 3",it.next().toString());
  assertEquals("CRITICAL critical 4",it.next().toString());
  assertFalse(it.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyLogIsNotOk(){
  assertEquals(Result.Status.WARN,log.getAggregateStatus());
  assertFalse(log.iterator().hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.JmxScriptBindingsProviderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testJmxAttribute() throws Exception {
  final FormattingResultLog resultLog=new FormattingResultLog();
  final JmxScriptBindingsProvider.AttributeBinding b=new JmxScriptBindingsProvider.AttributeBinding(ManagementFactory.getPlatformMBeanServer(),resultLog);
  final Object value=b.attribute("java.lang:type=ClassLoading","LoadedClassCount");
  assertNotNull("Expecting non-null attribute value",value);
  assertTrue("Expecting non-empty value",value.toString().length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.core.impl.executor.HealthCheckExecutorImplTest </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectResultsFromFutures() throws Exception {
  List<HealthCheckFuture> futures=new LinkedList<HealthCheckFuture>();
  futures.add(future);
  Collection<HealthCheckExecutionResult> results=new TreeSet<HealthCheckExecutionResult>();
  when(future.isDone()).thenReturn(true);
  ExecutionResult testResult=new ExecutionResult(HealthCheckMetadata,new Result(Result.Status.OK,"test"),10L);
  when(future.get()).thenReturn(testResult);
  healthCheckExecutorImpl.collectResultsFromFutures(futures,results);
  verify(future,times(1)).get();
  assertEquals(1,results.size());
  assertTrue(results.contains(testResult));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.healthchecks.DefaultLoginsHealthCheckTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHealthCheckFails() throws Exception {
  assertFalse("Expecting failed check",getTestResult("admin:admin").isOk());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHealthCheckSucceeds() throws Exception {
  assertTrue("Expecting successful check",getTestResult("FOO:bar").isOk());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.AsyncHealthCheckTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAsyncHealthCheck() throws InterruptedException {
  final String id=UUID.randomUUID().toString();
  final AtomicInteger counter=new AtomicInteger(Integer.MIN_VALUE);
  final HealthCheck hc=new HealthCheck(){
    @Override public Result execute(){
      final int v=counter.incrementAndGet();
      return new Result(Result.Status.OK,"counter is now " + v);
    }
  }
;
  final Dictionary<String,Object> props=new Hashtable<String,Object>();
  props.put(HealthCheck.NAME,"name_" + id);
  props.put(HealthCheck.TAGS,id);
  props.put(HealthCheck.ASYNC_CRON_EXPRESSION,"*/1 * * * * ?");
  @SuppressWarnings("rawtypes") final ServiceRegistration reg=bundleContext.registerService(HealthCheck.class,hc,props);
  try {
    U.expectHealthChecks(1,executor,id);
{
      counter.set(0);
      final long timeout=System.currentTimeMillis() + 5000L;
      while (System.currentTimeMillis() < timeout) {
        if (counter.get() > 0) {
          break;
        }
        Thread.sleep(100L);
      }
      assertTrue("Expecting counter to be incremented",counter.get() > 0);
    }
    final String msg=executor.execute(id).get(0).getHealthCheckResult().iterator().next().getMessage();
    assertTrue("Expecting the right message: " + msg,msg.contains("counter is now"));
    final int previous=counter.get();
    final int n=100;
    for (int i=0; i < n; i++) {
      executor.execute(id);
    }
    assertTrue("Expecting counter to increment asynchronously",counter.get() < previous + n);
  }
  finally {
    reg.unregister();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.HealthCheckFilterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoResults(){
  final List<HealthCheck> s=filter.getTaggedHealthChecks("NOT A TAG");
  assertTrue("Expecting no services",s.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.it.core.SampleHealthChecksTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnnotatedHC(){
  final List<HealthCheckExecutionResult> results=executor.execute("annotation","sample");
  assertNotNull("Expecting non-null results");
  assertEquals("Expecting a single result",1,results.size());
  final HealthCheckExecutionResult r=results.get(0);
  assertTrue("Expecting non-empty HC log",r.getHealthCheckResult().iterator().hasNext());
  final String expected="All good";
  assertTrue("Expecting first log message to contain " + expected,r.getHealthCheckResult().iterator().next().getMessage().contains(expected));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.junitbridge.tests.HealthCheckTestsProviderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLastModified(){
  assertTrue(provider.lastModified() >= setupTimestamp);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetTestNames(){
  final List<String> names=provider.getTestNames();
  assertEquals(TAG_GROUPS.length,names.size());
  for (  String tag : TAG_GROUPS) {
    final String expected=testName(tag);
    assertTrue("Expecting test names to contain " + expected + ", "+ names,names.contains(expected));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.hc.util.SimpleConstraintCheckerTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainsC(){
  checker.check("This is a NICE TOUCH ok?","contains NICE",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBetweenA(){
  checker.check("5","between 2 and 6",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIntTwelveEquals(){
  checker.check(12,"12",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNotAnInteger(){
  checker.check("foo","between 12 and 16",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainsB(){
  checker.check("This is a NICE TOUCH ok?","contains NICE STRING",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGreaterThanTrue(){
  checker.check("5","> 2",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNullNotGreater(){
  checker.check(null,"> 2",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNullNotEquals(){
  checker.check(null,"foo",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFiveEquals(){
  final String s="5";
  checker.check(s,s,resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGreaterThanFalse(){
  checker.check("5","> 12",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLessThanFalse(){
  checker.check("5","< 2",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBetweenE(){
  checker.check(5L,"betWEEN 4 aND 16",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBetweenD(){
  checker.check(5L,"between 4 and 16",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testContainsA(){
  checker.check("This is a NICE STRING ok?","contains NICE STRING",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testStringNotEquals(){
  final String s="test_" + System.currentTimeMillis();
  checker.check(s,"something else",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testFiveNotEquals(){
  checker.check("5","foo",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testStringEquals(){
  final String s="test_" + System.currentTimeMillis();
  checker.check(s,s,resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBetweenC(){
  checker.check(5L,"between 12 and 16",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLessThanTrue(){
  checker.check("5","< 12",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIntTwelveGreaterThan(){
  checker.check(12,"> 11",resultLog);
  assertTrue(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBetweenB(){
  checker.check("5","between 12 and 16",resultLog);
  assertFalse(resultLog.getAggregateStatus().equals(Result.Status.OK));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.eclipse.m2e.EmbeddedArchetypeInstallerTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testInstallArchetype() throws IOException, CoreException {
  EmbeddedArchetypeInstaller archetypeInstaller=new EmbeddedArchetypeInstaller(archetypeGroupId,archetypeArtifactId,archetypeVersion);
  EmbeddedArtifact[] archetypeArtifacts=new EmbeddedArtifact[]{new EmbeddedArtifact("jar",archetypeVersion,getClass().getClassLoader().getResource("META-INF/MANIFEST.MF")),new EmbeddedArtifact("pom",archetypeVersion,getClass().getClassLoader().getResource("META-INF/MANIFEST.MF"))};
  archetypeInstaller.addResource("pom",archetypeArtifacts[0].openInputStream());
  archetypeInstaller.addResource("jar",archetypeArtifacts[1].openInputStream());
  archetypeInstaller.installArchetype();
  File artifactPathLocation=getInstalledArchetypeLocation();
  assertTrue("Archetype was not found at " + artifactPathLocation,artifactPathLocation.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.ide.test.impl.SlingContentModuleAdapterTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void projectMembersContainDotDirFoldersLast() throws Exception {
  IProject contentProject=projectRule.getProject();
  ProjectAdapter project=new ProjectAdapter(contentProject);
  project.addNatures(JavaCore.NATURE_ID,"org.eclipse.wst.common.project.facet.core.nature");
  project.installFacet("sling.content","1.0");
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/testproject/_jcr_content/image/file"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/testproject/_jcr_content/image/file.dir/.content.xml"),new ByteArrayInputStream(new byte[0]));
  project.createOrUpdateFile(Path.fromPortableString("jcr_root/content/testproject/_jcr_content/image/file.dir/_jcr_content/_dam_thumbnails/_dam_thumbnail_319.png"),new ByteArrayInputStream(new byte[0]));
  IModule module=ServerUtil.getModule(contentProject);
  SlingContentModuleFactory moduleFactory=new SlingContentModuleFactory();
  ModuleDelegate moduleDelegate=moduleFactory.getModuleDelegate(module);
  IModuleResource[] members=moduleDelegate.members();
  int fileIdx=-1;
  int fileDirIdx=-1;
  for (int i=0; i < members.length; i++) {
    String memberName=members[i].getModuleRelativePath().lastSegment();
    if (memberName == null) {
      continue;
    }
 else     if (memberName.equals("file.dir")) {
      fileDirIdx=i;
    }
 else     if (memberName.equals("file")) {
      fileIdx=i;
    }
  }
  Assert.assertTrue("file not sorted before file.dir ; file index = " + fileIdx + ", file.dir index = "+ fileDirIdx,fileIdx < fileDirIdx);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.RegisteredResourceComparatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConfigDigests() throws IOException {
  final Dictionary<String,Object> data=new Hashtable<String,Object>();
  data.put("foo","bar");
  final RegisteredResourceImpl a=getConfig("pid",data,0);
  data.put("foo","changed");
  final RegisteredResourceImpl b=getConfig("pid",data,0);
  assertEquals("Entity urls must be the same",a.getEntityId(),b.getEntityId());
  assertTrue("Digests must be included in configs comparison",a.compareTo(b) != 0);
  final RegisteredResourceImpl a2=getConfig("pid",data,0);
  final RegisteredResourceImpl b2=getConfig("pid",data,0);
  assertEquals("Digests must be included in configs comparison",0,a2.compareTo(b2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.tasks.BundleTaskCreatorTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeSnapshot() throws IOException {
  final String v="2.0.7.SNAPSHOT";
  final TaskResource[] r={new MockBundleResource(SN,v)};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,v,Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task",1,s.size());
    assertTrue("Expected a BundleUpdateTask",s.first() instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleBundleAlreadyInstalled() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.0")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task, same version is active",1,s.size());
    assertTrue("Change state task expected.",s.first() instanceof ChangeStateTask);
  }
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.RESOLVED);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one tasks, same version is installed",1,s.size());
    assertTrue("Change state task expected.",s.first() instanceof ChangeStateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleBundleNew() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.0")};
  final MockBundleTaskCreator c=new MockBundleTaskCreator();
  final SortedSet<InstallTask> s=getTasks(r,c);
  assertEquals("Expected one task",1,s.size());
  assertTrue("Expected a BundleInstallTask",s.first() instanceof BundleInstallTask);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeBothRegisteredReversed() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.0"),new MockBundleResource(SN,"1.1")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    assertTrue("Expected a ChangeStateTask",s.first() instanceof ChangeStateTask);
    assertTrue("Expected a BundleUpdateTask",s.toArray()[1] instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRemoveSingle() throws IOException {
  final String version="1.0";
  final MockBundleResource[] r={new MockBundleResource(SN,version)};
  r[0].setState(ResourceState.UNINSTALL);
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task, remove bundle",1,s.size());
    assertTrue("Expected a BundleRemoveTask",s.first() instanceof BundleRemoveTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleRemoveMultiple() throws IOException {
  final MockBundleResource[] r={new MockBundleResource(SN,"1.0"),new MockBundleResource(SN,"1.1"),new MockBundleResource(SN,"2.0")};
  for (  MockBundleResource x : r) {
    x.setState(ResourceState.UNINSTALL);
  }
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.1",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one tasks, bundle was not installed by us",2,s.size());
    final Iterator<InstallTask> i=s.iterator();
    final InstallTask first=i.next();
    final InstallTask second=i.next();
    assertTrue("Expected a ChangeStateTask",first instanceof ChangeStateTask);
    assertTrue("Expected a BundleRemoveTask",second instanceof BundleRemoveTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDowngradeOfRemovedResource() throws IOException {
  final MockBundleResource[] r={new MockBundleResource(SN,"1.0.0"),new MockBundleResource(SN,"1.1.0")};
  r[1].setState(ResourceState.UNINSTALL);
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    final Iterator<InstallTask> i=s.iterator();
    final InstallTask first=i.next();
    assertTrue("Expected a ChangeStateTask:" + first,first instanceof ChangeStateTask);
    final InstallTask second=i.next();
    assertTrue("Expected a BundleRemoveTask",second instanceof BundleRemoveTask);
    final BundleRemoveTask t=(BundleRemoveTask)second;
    assertEquals("Remove should be to V1.1",r[1].getEntityId(),t.getResource().getEntityId());
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgradeBothRegistered() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.1"),new MockBundleResource(SN,"1.0")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected two tasks",2,s.size());
    assertTrue("Expected a ChangeStateTask",s.first() instanceof ChangeStateTask);
    assertTrue("Expected a BundleUpdateTask",s.toArray()[1] instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testBundleUpgrade() throws IOException {
  final TaskResource[] r={new MockBundleResource(SN,"1.1")};
{
    final MockBundleTaskCreator c=new MockBundleTaskCreator();
    c.addBundleInfo(SN,"1.0",Bundle.ACTIVE);
    final SortedSet<InstallTask> s=getTasks(r,c);
    assertEquals("Expected one task",1,s.size());
    assertTrue("Expected a BundleUpdateTask",s.first() instanceof BundleUpdateTask);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.core.impl.util.RefreshDependenciesUtilTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDoesNotDependOnBundleBorE(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(B);
  bundles.add(E);
  assertFalse(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDependsOnBundleA(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(A);
  assertTrue(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAllBundlesInList(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(A);
  bundles.add(B);
  bundles.add(C);
  bundles.add(D);
  bundles.add(E);
  bundles.add(target);
  assertTrue(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDependsOnBundleC(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(C);
  assertTrue(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDependsOnBundleD(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(D);
  assertTrue(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDoesNotDependOnBundleB(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(B);
  assertFalse(rdu.isBundleAffected(target,bundles));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testTargetDependsOnSelf(){
  final List<Bundle> bundles=new ArrayList<Bundle>();
  bundles.add(F);
  assertTrue(rdu.isBundleAffected(F,bundles));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.factories.configuration.impl.ConfigUtilTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameDataEmptyAndNullDictionaries() throws Exception {
  final Dictionary<String,Object> a=new Hashtable<String,Object>();
  final Dictionary<String,Object> b=new Hashtable<String,Object>();
  assertTrue(ConfigUtil.isSameData(a,b));
  assertTrue(ConfigUtil.isSameData(b,a));
  assertFalse(ConfigUtil.isSameData(null,a));
  assertFalse(ConfigUtil.isSameData(null,null));
  assertFalse(ConfigUtil.isSameData(b,null));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameDataSameDictionaries() throws Exception {
  final Dictionary<String,Object> a=new Hashtable<String,Object>();
  final Dictionary<String,Object> b=new Hashtable<String,Object>();
  a.put("a","value");
  a.put("b",1);
  a.put("c",2L);
  a.put("d",true);
  a.put("e",1.1);
  final Enumeration<String> e=a.keys();
  while (e.hasMoreElements()) {
    final String name=e.nextElement();
    b.put(name,a.get(name));
  }
  assertTrue(ConfigUtil.isSameData(a,b));
  assertTrue(ConfigUtil.isSameData(b,a));
  final Enumeration<String> e1=a.keys();
  while (e1.hasMoreElements()) {
    final String name=e1.nextElement();
    b.put(name,a.get(name).toString());
  }
  assertTrue(ConfigUtil.isSameData(a,b));
  assertTrue(ConfigUtil.isSameData(b,a));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsSameDataArrays() throws Exception {
  final Dictionary<String,Object> a=new Hashtable<String,Object>();
  final Dictionary<String,Object> b=new Hashtable<String,Object>();
  a.put("a",new String[]{"1","2","3"});
  b.put("a",a.get("a"));
  a.put("b",new Integer[]{1,2,3});
  b.put("b",a.get("b"));
  a.put("c",new Long[]{1L,2L,3L});
  b.put("c",a.get("c"));
  a.put("d",new Integer[]{1,2,3});
  b.put("d",new String[]{"1","2","3"});
  assertTrue(ConfigUtil.isSameData(a,b));
  assertTrue(ConfigUtil.isSameData(b,a));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.factories.subsystems.base.impl.SubsystemBaseTransformerTest </h4><pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOtherRunMode() throws Exception {
  SlingSettingsService slingSettings=Mockito.mock(SlingSettingsService.class);
  Mockito.when(slingSettings.getRunModes()).thenReturn(new HashSet<String>(Arrays.asList("bar","tar")));
  SubsystemBaseTransformer sbt=new SubsystemBaseTransformer(slingSettings);
  URL testArchive=getClass().getResource("/test1.subsystem-base");
  RegisteredResource resource=new TestRegisteredResource(testArchive);
  TransformationResult[] tra=sbt.transform(resource);
  assertEquals(1,tra.length);
  TransformationResult tr=tra[0];
  assertEquals("esa",tr.getResourceType());
  assertEquals("test1",tr.getId());
  DeleteOnCloseFileInputStream dcis=(DeleteOnCloseFileInputStream)tr.getInputStream();
  assertTrue("The file backing the stream should exist",dcis.file.exists());
  Set<String> foundBundles=new HashSet<>();
  try (ZipInputStream zis=new ZipInputStream(dcis);JarFile jf=new JarFile(testArchive.getFile())){
    ZipEntry ze=null;
    while ((ze=zis.getNextEntry()) != null) {
      foundBundles.add(ze.getName());
switch (ze.getName()) {
case "OSGI-INF/SUBSYSTEM.MF":
        Manifest mf=new Manifest(zis);
      Attributes attrs=mf.getMainAttributes();
    assertEquals("test1",attrs.getValue("Subsystem-SymbolicName"));
  assertEquals("osgi.subsystem.composite",attrs.getValue("Subsystem-Type"));
assertEquals("(c) 2015 yeah!",attrs.getValue("Subsystem-Copyright"));
assertEquals("Extra subsystem headers can go here including very long ones " + "that would span multiple lines in a manifest",attrs.getValue("Subsystem-Description"));
assertEquals("org.apache.sling.commons.osgi;version=2.3.0;type=osgi.bundle;start-order:=0," + "org.apache.sling.commons.json;version=2.0.12;type=osgi.bundle;start-order:=10," + "org.apache.sling.commons.mime;version=2.1.8;type=osgi.bundle;start-order:=10,"+ "org.apache.sling.commons.threads;version=3.2.0;type=osgi.bundle;start-order:=20,"+ "org.apache.sling.commons.contentdetection;version=1.0.2;type=osgi.bundle;start-order:=100",attrs.getValue("Subsystem-Content"));
break;
case "org.apache.sling.commons.osgi-2.3.0.jar":
ZipEntry oze=jf.getEntry("Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar");
assertArtifactsEqual(oze.getName(),jf.getInputStream(oze),zis);
break;
case "org.apache.sling.commons.json-2.0.12.jar":
ZipEntry jze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar");
assertArtifactsEqual(jze.getName(),jf.getInputStream(jze),zis);
break;
case "org.apache.sling.commons.mime-2.1.8.jar":
ZipEntry mze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar");
assertArtifactsEqual(mze.getName(),jf.getInputStream(mze),zis);
break;
case "org.apache.sling.commons.threads-3.2.0.jar":
ZipEntry tze=jf.getEntry("Potential_Bundles/20/org.apache.sling.commons.threads-3.2.0.jar");
assertArtifactsEqual(tze.getName(),jf.getInputStream(tze),zis);
break;
case "org.apache.sling.commons.contentdetection-1.0.2.jar":
ZipEntry cze=jf.getEntry("Potential_Bundles/100/org.apache.sling.commons.contentdetection-1.0.2.jar");
assertArtifactsEqual(cze.getName(),jf.getInputStream(cze),zis);
break;
}
}
}
 assertEquals(new HashSet<>(Arrays.asList("OSGI-INF/SUBSYSTEM.MF","org.apache.sling.commons.osgi-2.3.0.jar","org.apache.sling.commons.json-2.0.12.jar","org.apache.sling.commons.mime-2.1.8.jar","org.apache.sling.commons.threads-3.2.0.jar","org.apache.sling.commons.contentdetection-1.0.2.jar")),foundBundles);
assertFalse("After closing the stream the temp file should have been deleted.",dcis.file.exists());
}

</code></pre>

<br>
<pre class="type-15 type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testTransformNoRunMode() throws Exception {
  SlingSettingsService slingSettings=Mockito.mock(SlingSettingsService.class);
  SubsystemBaseTransformer sbt=new SubsystemBaseTransformer(slingSettings);
  URL testArchive=getClass().getResource("/test1.subsystem-base");
  RegisteredResource resource=new TestRegisteredResource(testArchive);
  TransformationResult[] tra=sbt.transform(resource);
  assertEquals(1,tra.length);
  TransformationResult tr=tra[0];
  assertEquals("esa",tr.getResourceType());
  assertEquals("test1",tr.getId());
  DeleteOnCloseFileInputStream dcis=(DeleteOnCloseFileInputStream)tr.getInputStream();
  assertTrue("The file backing the stream should exist",dcis.file.exists());
  Set<String> foundBundles=new HashSet<>();
  try (ZipInputStream zis=new ZipInputStream(dcis);JarFile jf=new JarFile(testArchive.getFile())){
    ZipEntry ze=null;
    while ((ze=zis.getNextEntry()) != null) {
      foundBundles.add(ze.getName());
switch (ze.getName()) {
case "OSGI-INF/SUBSYSTEM.MF":
        Manifest mf=new Manifest(zis);
      Attributes attrs=mf.getMainAttributes();
    assertEquals("test1",attrs.getValue("Subsystem-SymbolicName"));
  assertEquals("osgi.subsystem.composite",attrs.getValue("Subsystem-Type"));
assertEquals("(c) 2015 yeah!",attrs.getValue("Subsystem-Copyright"));
assertEquals("Extra subsystem headers can go here including very long ones " + "that would span multiple lines in a manifest",attrs.getValue("Subsystem-Description"));
assertEquals("org.apache.sling.commons.osgi;version=2.3.0;type=osgi.bundle;start-order:=0," + "org.apache.sling.commons.json;version=2.0.12;type=osgi.bundle;start-order:=10," + "org.apache.sling.commons.mime;version=2.1.8;type=osgi.bundle;start-order:=10",attrs.getValue("Subsystem-Content"));
break;
case "org.apache.sling.commons.osgi-2.3.0.jar":
ZipEntry oze=jf.getEntry("Potential_Bundles/0/org.apache.sling.commons.osgi-2.3.0.jar");
assertArtifactsEqual(oze.getName(),jf.getInputStream(oze),zis);
break;
case "org.apache.sling.commons.json-2.0.12.jar":
ZipEntry jze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.json-2.0.12.jar");
assertArtifactsEqual(jze.getName(),jf.getInputStream(jze),zis);
break;
case "org.apache.sling.commons.mime-2.1.8.jar":
ZipEntry mze=jf.getEntry("Potential_Bundles/10/org.apache.sling.commons.mime-2.1.8.jar");
assertArtifactsEqual(mze.getName(),jf.getInputStream(mze),zis);
break;
}
}
}
 assertEquals(new HashSet<>(Arrays.asList("OSGI-INF/SUBSYSTEM.MF","org.apache.sling.commons.osgi-2.3.0.jar","org.apache.sling.commons.json-2.0.12.jar","org.apache.sling.commons.mime-2.1.8.jar")),foundBundles);
assertFalse("After closing the stream the temp file should have been deleted.",dcis.file.exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.FragmentInstallTest </h4><pre class="type-11 type-13 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInstallFragment() throws Exception {
  final String hostSymbolicName="osgi-installer-testbundle";
  assertNull("Test host bundle must be absent before installing",findBundle(hostSymbolicName));
  final String fragmentSymbolicName="osgi-installer-testfragment";
  assertNull("Test fragment bundle must be absent before installing",findBundle(fragmentSymbolicName));
  Object listener=this.startObservingBundleEvents();
  installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar"),"digest1"),null);
  this.waitForBundleEvents("Test bundle 1.2 must be found after waitForInstallerAction",listener,new BundleEvent(hostSymbolicName,"1.2",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent(hostSymbolicName,"1.2",org.osgi.framework.BundleEvent.STARTED));
  this.assertBundle("Bundle version 1.2 must be installed.",hostSymbolicName,"1.2",Bundle.ACTIVE);
  listener=this.startObservingBundleEvents();
  installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testfragment-1.0.jar"),"digest2"),null);
  this.waitForBundleEvents("Fragment bundle 1.0 must be found after waitForInstallerAction",listener,new BundleEvent(fragmentSymbolicName,"1.0",org.osgi.framework.BundleEvent.RESOLVED),new BundleEvent(hostSymbolicName,"1.2",org.osgi.framework.BundleEvent.STARTED));
  this.assertBundle("Host bundle must be still be active.",hostSymbolicName,"1.2",Bundle.ACTIVE);
  final Bundle host=findBundle(hostSymbolicName);
  assertTrue("Expecting host bundle to export its own package",isPackageExported(host,"com.example.testbundle.somepackage"));
  assertTrue("Expecting host bundle to export the fragment's package",isPackageExported(host,"com.example.testfragment.fragmentpackage"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.it.RegisterResourcesTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void removeAndReaddBundlesTest() throws Exception {
{
    final Object listener=this.startObservingBundleEvents();
    final List<InstallableResource> r=new ArrayList<InstallableResource>();
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testB-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-needsB.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.1.jar"))[0]);
    installer.registerResources(URL_SCHEME,r.toArray(new InstallableResource[r.size()]));
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-needsB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-needsB","1.0",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testbundle","1.1",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testbundle","1.1",org.osgi.framework.BundleEvent.STARTED));
    final String info="After initial registration";
    assertBundle(info,"osgi-installer-testB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-needsB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-testbundle","1.1",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar")),null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testbundle","1.2",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("After adding testbundle V1.2","osgi-installer-testbundle","1.2",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources("anotherscheme",new InstallableResource[]{new MockInstallableResource("osgi-installer-testA.jar",new FileInputStream(getTestBundle(BUNDLE_BASE_NAME + "-testA-1.0.jar")),"digest1",null,null)},null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testA","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testA","1.0",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("testA bundle added","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    final List<InstallableResource> r=new ArrayList<InstallableResource>();
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-needsB.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.0.jar"))[0]);
    r.add(getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-snap.jar"),"digest1")[0]);
    installer.registerResources(URL_SCHEME,r.toArray(new InstallableResource[r.size()]));
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-snapshot-test","1.0.0.SNAPSHOT",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-snapshot-test","1.0.0.SNAPSHOT",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testB",org.osgi.framework.BundleEvent.STOPPED),new BundleEvent("osgi-installer-testB",org.osgi.framework.BundleEvent.UNINSTALLED),new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.UPDATED),new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.STARTED));
    assertBundle("Snapshot bundle must be started","osgi-installer-snapshot-test","1.0.0.SNAPSHOT",Bundle.ACTIVE);
    assertNull("Bundle testB must be gone",findBundle("osgi-installer-testB"));
    final Bundle b=assertBundle("Bundle needsB must still be present","osgi-installer-needsB","1.0",-1);
    refreshPackages();
    final int state=b.getState();
    assertFalse("Bundle needsB must not be active anymore, as testB is gone (" + state + ")",Bundle.ACTIVE == state);
    assertBundle("Testbundle must be back to 1.0 as 1.1 and 1.2 is gone","osgi-installer-testbundle","1.0",Bundle.ACTIVE);
    assertBundle("testA bundle should still be present","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
{
    final Object listener=this.startObservingBundleEvents();
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testB-1.0.jar")),null);
    installer.updateResources(URL_SCHEME,getInstallableResource(getTestBundle(BUNDLE_BASE_NAME + "-testbundle-1.2.jar")),null);
    this.waitForBundleEvents("Bundles must be installed and started.",listener,new BundleEvent("osgi-installer-testbundle",org.osgi.framework.BundleEvent.UPDATED),new BundleEvent("osgi-installer-testbundle","1.2",org.osgi.framework.BundleEvent.STARTED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.INSTALLED),new BundleEvent("osgi-installer-testB","1.0",org.osgi.framework.BundleEvent.STARTED));
    final String info="After re-adding missing bundles";
    assertBundle(info,"osgi-installer-testB","1.0",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-testbundle","1.2",Bundle.ACTIVE);
    assertBundle(info,"osgi-installer-snapshot-test","1.0.0.SNAPSHOT",Bundle.ACTIVE);
    final Bundle b=findBundle("osgi-installer-needsB");
    b.start();
    assertBundle("After reinstalling testB, needsB must be startable, ","osgi-installer-needsB","1.0",Bundle.ACTIVE);
    assertBundle("testA bundle should still be present","osgi-installer-testA","1.0",Bundle.ACTIVE);
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.provider.jcr.impl.FolderNameFilterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testThreeModes(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  m.add("web");
  m.add("staging");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
  assertTrue("Test 3",f.getPriority("/libs/install.dev") > 0);
  assertTrue("Test 4",f.getPriority("/libs/install.web") > 0);
  assertTrue("Test 5",f.getPriority("/libs/install.staging") > 0);
  assertFalse("Test 6",f.getPriority("/libs/install/dev") > 0);
  assertTrue("Test 7",f.getPriority("/libs/install.dev.web.staging") > 0);
  assertTrue("Test 8",f.getPriority("/libs/install.web.dev.staging") > 0);
  assertTrue("Test 9",f.getPriority("/libs/install.staging.web.dev") > 0);
  assertTrue("Test 10",f.getPriority("/libs/install.staging.dev.web") > 0);
  assertTrue("Test 11",f.getPriority("/libs/install.dev.dev.web.staging.web") > 0);
  assertFalse("Test 12",f.getPriority("/libs/install.dev.bar") > 0);
  assertFalse("Test 13",f.getPriority("/libs/install.bar.dev") > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoRunMode(){
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,new HashSet<String>());
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSingleMode(){
  final Set<String> m=new HashSet<String>();
  m.add("dev");
  final FolderNameFilter f=new FolderNameFilter(ROOTS,DEFAULT_REGEXP,m);
  assertTrue("Test 1",f.getPriority("/libs/install") > 0);
  assertFalse("Test 2",f.getPriority("/libs/install.bar") > 0);
  assertTrue("Test 3",f.getPriority("/libs/install.dev") > 0);
  assertFalse("Test 4",f.getPriority("/libs/install/dev") > 0);
  assertTrue("Test 5",f.getPriority("/libs/install.dev.dev") > 0);
  assertFalse("Test 6",f.getPriority("/libs/install.dev.bar") > 0);
  assertFalse("Test 7",f.getPriority("/libs/install.bar.dev") > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.installer.provider.jcr.impl.RootFolderMoveListenerTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testMove() throws Exception {
  contentModificationSession.getRootNode().addNode(ROOT_1.substring(1));
  contentModificationSession.getNode(ROOT_1).addNode("one");
  contentModificationSession.save();
  waitForScanDelay();
  assertFalse("Expecting no scheduled scan before move",timer.expired());
  contentModificationSession.move(ROOT_1 + "/one",ROOT_1 + "/two");
  contentModificationSession.save();
  waitForScanDelay();
  assertTrue("Expecting scan to be triggered after move",timer.expired());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTimer(){
  assertFalse(timer.expired());
  timer.scheduleScan();
  waitForScanDelay();
  assertTrue(timer.expired());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testToString(){
  final String str=rmlt.toString();
  assertTrue("Expecting " + str + " to contain our list of paths",str.contains(ROOT_1 + ", " + ROOT_2));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.base.NodeTypeLoaderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testisReRegisterBuiltinNodeType(){
  assertFalse("Exception does not match",NodeTypeLoader.isReRegisterBuiltinNodeType(new Exception()));
  assertFalse("Plain RepositoryException does not match",NodeTypeLoader.isReRegisterBuiltinNodeType(new RepositoryException()));
  assertFalse("Non-reregister RepositoryException does not match",NodeTypeLoader.isReRegisterBuiltinNodeType(new RepositoryException("builtin that's it")));
  assertTrue("Reregister RepositoryException matches",NodeTypeLoader.isReRegisterBuiltinNodeType(new RepositoryException("{http://www.jcp.org/jcr/mix/1.0}language: can't reregister built-in node type")));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.ContentLoaderServiceTest </h4><pre class="type-13 type-9 type-3 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getContentInfo() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=(Node)session.getItem(ContentLoaderService.BUNDLE_CONTENT_NODE);
  final Node bundleContent=bcNode.addNode(bundle.getSymbolicName());
  bundleContent.addMixin("mix:lockable");
  Calendar now=Calendar.getInstance();
  bundleContent.setProperty(PROPERTY_CONTENT_LOADED_AT,now);
  final Boolean isLoaded=true;
  bundleContent.setProperty(PROPERTY_CONTENT_LOADED,isLoaded);
  final String[] paths={"foo","bar"};
  bundleContent.setProperty(PROPERTY_UNINSTALL_PATHS,paths);
  session.save();
  Map<String,Object> props=underTest.getBundleContentInfo(session,bundle,false);
  assertThat("ContentInfo should be provided",props,notNullValue());
  assertEquals(isLoaded,props.get(PROPERTY_CONTENT_LOADED));
  assertTrue(props.containsKey(PROPERTY_CONTENT_LOADED_AT));
  assertTrue(props.containsKey(PROPERTY_UNINSTALL_PATHS));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testContentIsUninstalled() throws RepositoryException {
  final Bundle bundle=createNewBundle();
  final Node bcNode=session.getNode(BUNDLE_CONTENT_NODE).addNode(bundle.getSymbolicName());
  underTest.contentIsUninstalled(session,bundle);
  assertTrue(bcNode.hasProperty("content-unloaded-by"));
  assertTrue(bcNode.hasProperty("content-unload-time"));
  assertFalse(bcNode.hasProperty(PROPERTY_UNINSTALL_PATHS));
  assertFalse(bcNode.getProperty(PROPERTY_CONTENT_LOADED).getBoolean());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.CreateNodeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCreateNode() throws Exception {
  contentCreator.prepareParsing(testRoot,DEFAULT_NAME);
  final String name=uniqueId();
  assertFalse("Expecting " + name + " child node to be absent before test",testRoot.hasNode(name));
  contentCreator.createNode(name,null,null);
  assertTrue("Expecting " + name + " child node to be created",testRoot.hasNode(name));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.DefaultContentCreatorTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void propertyDoesntOverwritten() throws RepositoryException {
  final String newPropertyName=uniqueId();
  final String newPropertyValue=uniqueId();
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  parentNode.setProperty(newPropertyName,newPropertyValue);
  session.save();
  contentCreator.createProperty(newPropertyName,PropertyType.REFERENCE,new String[]{"bar1","bar2"});
  assertTrue(!parentNode.getProperty(newPropertyName).isNew());
  assertEquals(newPropertyValue,parentNode.getProperty(newPropertyName).getString());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createDateProperty() throws RepositoryException, ParseException {
  final String propName="dateProp";
  final String[] propValues={"2012-10-01T09:45:00.000+02:00","2011-02-13T09:45:00.000+02:00"};
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  parentNode.addMixin("mix:versionable");
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,true,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.DATE,propValues);
  assertTrue(parentNode.hasProperty(propName));
  Property dateProp=parentNode.getProperty(propName);
  assertTrue(dateProp.isNew());
  assertEquals(propValues.length,dateProp.getValues().length);
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createNodeWithPrimaryType() throws RepositoryException {
  final String newNodeName=uniqueId();
  final List<String> createdNodes=new ArrayList<String>();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,false,true,false,false),new HashMap<String,ContentReader>(),createdNodes,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  int createdNodesSize=createdNodes.size();
  contentCreator.createNode(newNodeName,NodeType.NT_UNSTRUCTURED,null);
  assertEquals(createdNodesSize + 1,createdNodes.size());
  Node createdNode=parentNode.getNode(newNodeName);
  assertNotNull(createdNode);
  assertTrue(createdNode.getPrimaryNodeType().isNodeType(NodeType.NT_UNSTRUCTURED));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void addMixinsToExistingNode() throws RepositoryException, NoSuchFieldException {
  final String newNodeName=uniqueId();
  final String[] mixins={"mix:versionable"};
  final List<Node> versionables=(List<Node>)PrivateAccessor.getField(contentCreator,"versionables");
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,true,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  Node newNode=parentNode.addNode(newNodeName);
  assertEquals(0,versionables.size());
  assertFalse(newNode.isNodeType(mixins[0]));
  contentCreator.createNode(newNodeName,null,mixins);
  assertEquals(1,versionables.size());
  assertTrue(newNode.isNodeType(mixins[0]));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void finishNotReferenceableNode() throws RepositoryException, NoSuchFieldException {
  final String propName=uniqueId();
  final String underTestNodeName=uniqueId();
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,null);
  contentCreator.createProperty(propName,PropertyType.REFERENCE,underTestNodeName);
  contentCreator.createNode(underTestNodeName,null,null);
  contentCreator.finishNode();
  assertFalse(parentNode.hasProperty(propName));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createNodeWithOverwrite() throws RepositoryException {
  final String newNodeName=uniqueId();
  final String propertyName=uniqueId();
  final String propertyValue=uniqueId();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(true,false,true,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  Node nodeToOverwrite=parentNode.addNode(newNodeName);
  nodeToOverwrite.setProperty(propertyName,propertyValue);
  assertTrue(parentNode.getNode(newNodeName).hasProperty(propertyName));
  contentCreator.createNode(newNodeName,null,null);
  assertFalse(parentNode.getNode(newNodeName).hasProperty(propertyName));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createOtherProperty() throws RepositoryException {
  final String propName=uniqueId();
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,null);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.STRING,new String[]{});
  assertTrue(parentNode.hasProperty(propName));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createReferenceProperty() throws RepositoryException, NoSuchFieldException {
  final String propName=uniqueId();
  final String[] propValues={uniqueId(),uniqueId()};
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  final Map<String,String[]> delayedMultipleReferences=(Map<String,String[]>)PrivateAccessor.getField(contentCreator,"delayedMultipleReferences");
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,DEFAULT_NAME);
  contentCreator.createProperty(propName,PropertyType.REFERENCE,propValues);
  assertTrue(parentNode.hasProperty(propName));
  assertTrue(parentNode.getProperty(propName).isNew());
  String referencesKey=parentNode.getPath() + "/" + propName;
  String[] uuidsOrPaths=delayedMultipleReferences.get(referencesKey);
  assertNotNull(uuidsOrPaths);
  assertEquals(propValues.length,uuidsOrPaths.length);
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void createUndefinedProperty() throws RepositoryException {
  final String propName=uniqueId();
  final ContentImportListener listener=mockery.mock(ContentImportListener.class);
  this.mockery.checking(new Expectations(){
{
      oneOf(listener).onCreate(with(any(String.class)));
    }
  }
);
  contentCreator.init(ImportOptionsFactory.createImportOptions(false,false,false,false,false),new HashMap<String,ContentReader>(),null,listener);
  contentCreator.prepareParsing(parentNode,null);
  assertFalse(parentNode.hasProperty(propName));
  contentCreator.createProperty(propName,PropertyType.UNDEFINED,new String[]{});
  assertTrue(parentNode.hasProperty(propName));
  mockery.assertIsSatisfied();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.internal.PathEntryTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testConstructorSetup() throws NoSuchFieldException {
  final String overwriteDirective="true";
  final String overwritePropertiesDirective="true";
  final String uninstallDirective="true";
  final String pathDirective="PATH_DIRECTIVE";
  final String checkInDirective="true";
  final String autoCheckoutDirective="true";
  final String ignoreContentReadersDirective="mp3,txt,java";
  final String workspaceDirective="WORKSPACE_DIRECTIVE";
  final Long lastModified=1L;
  final Map<String,String> props=new HashMap<String,String>();
  props.put(PathEntry.OVERWRITE_DIRECTIVE,overwriteDirective);
  props.put(PathEntry.OVERWRITE_PROPERTIES_DIRECTIVE,overwritePropertiesDirective);
  props.put(PathEntry.UNINSTALL_DIRECTIVE,uninstallDirective);
  props.put(PathEntry.PATH_DIRECTIVE,pathDirective);
  props.put(PathEntry.CHECKIN_DIRECTIVE,checkInDirective);
  props.put(PathEntry.AUTOCHECKOUT_DIRECTIVE,autoCheckoutDirective);
  props.put(PathEntry.IGNORE_CONTENT_READERS_DIRECTIVE,ignoreContentReadersDirective);
  props.put(PathEntry.WORKSPACE_DIRECTIVE,workspaceDirective);
  final ManifestHeader.Entry entry=new TestEntry(props);
  final PathEntry pathEntry=new PathEntry(entry,lastModified);
  assertEquals(pathEntryPath,pathEntry.getPath());
  assertEquals(lastModified,pathEntry.getLastModified(),0);
  assertEquals(Boolean.valueOf(overwriteDirective),pathEntry.isOverwrite());
  assertEquals(Boolean.valueOf(overwritePropertiesDirective),pathEntry.isPropertyOverwrite());
  assertEquals(Boolean.valueOf(uninstallDirective),pathEntry.isUninstall());
  assertEquals(pathDirective,pathEntry.getTarget());
  assertEquals(Boolean.valueOf(checkInDirective),pathEntry.isCheckin());
  assertEquals(Boolean.valueOf(autoCheckoutDirective),pathEntry.isAutoCheckout());
  assertEquals(workspaceDirective,pathEntry.getWorkspace());
  assertTrue(pathEntry.isIgnoredImportProvider("mp3"));
  assertTrue(pathEntry.isIgnoredImportProvider(".mp3"));
  assertTrue(pathEntry.isIgnoredImportProvider(".txt"));
  assertTrue(pathEntry.isIgnoredImportProvider("java"));
  assertFalse(pathEntry.isIgnoredImportProvider("avi"));
  assertFalse(pathEntry.isIgnoredImportProvider(".avi"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.it.BasicInitialContentIT </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @Retry(intervalMsec=RETRY_INTERVAL,timeoutMsec=RETRY_TIMEOUT) public void initialContentInstalled() throws RepositoryException {
  final String testNodePath=contentRootPath + "/basic-content/test-node";
  assertTrue("Expecting initial content to be installed",session.itemExists(testNodePath));
  assertEquals("Expecting foo=bar","bar",session.getNode(testNodePath).getProperty("foo").getString());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.contentloader.it.ContentBundleTestBase </h4><pre class="type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  registerStartupHandler();
  session=repository.loginAdministrative(null);
  if (!bundlesToRemove.isEmpty()) {
    return;
  }
  assertFalse("Expecting no content before test",session.itemExists(contentRootPath));
  final InputStream is=getTestBundleStream();
  try {
    final Bundle b=bundleContext.installBundle(bundleSymbolicName,is);
    bundlesToRemove.add(b);
    b.start();
  }
  finally {
    is.close();
  }
  maybeDumpTestBundle();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.repository.it.CommonTests </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testXpathQueryWithMixin() throws RepositoryException {
  Session s=repository.loginAdministrative(null);
  try {
    final String path="XPATH_QUERY_" + System.currentTimeMillis();
    final String absPath="/" + path;
    final Node n=deleteAfterTests(s.getRootNode().addNode(path));
    n.addMixin("mix:title");
    s.save();
    final String statement="/jcr:root//element(*, mix:title)";
    @SuppressWarnings("deprecation") final Query q=s.getWorkspace().getQueryManager().createQuery(statement,Query.XPATH);
    final NodeIterator it=q.execute().getNodes();
    assertTrue("Expecting a non-empty result",it.hasNext());
    boolean found=false;
    while (it.hasNext()) {
      if (it.nextNode().getPath().equals(absPath)) {
        found=true;
        break;
      }
    }
    assertTrue("Expecting test node " + absPath + " to be found",found);
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAnonymousHasReadAccess() throws RepositoryException {
  final String path=assertCreateRetrieveNode(null);
  final Session s=repository.login();
  try {
    assertTrue("Expecting anonymous to see " + path,s.itemExists(path));
    final Node n=s.getNode(path);
    assertEquals("Expecting anonymous to see the foo property",path,n.getProperty("foo").getString());
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNodetypeObservation() throws Exception {
  Session s=repository.loginAdministrative(null);
  final Reader cnd=new StringReader(I18N_MESSAGE_CND);
  JcrEventsCounter counter=null;
  final String path="/" + uniqueName("observation");
  try {
    CndImporter.registerNodeTypes(cnd,s);
    counter=new JcrEventsCounter();
    final Node n=s.getRootNode().addNode(path.substring(1),"sling:MessageEntry");
    toDelete.add(n.getPath());
    n.setProperty("sling:key","foo");
    n.setProperty("sling:message","bar");
    s.save();
    final JcrEventsCounter c=counter;
    new Retry(5000){
      @Override protected void exec() throws Exception {
        assertTrue("Expecting JCR events after adding " + path,c.get() > 0);
      }
    }
;
  }
  finally {
    s.logout();
    cnd.close();
    if (counter != null) {
      counter.close();
    }
  }
  counter=new JcrEventsCounter();
  s=repository.loginAdministrative(null);
  try {
    final Node n=s.getNode(path);
    n.setProperty("sling:message","CHANGED now");
    s.save();
    final JcrEventsCounter c=counter;
    new Retry(5000){
      @Override protected void exec() throws Exception {
        assertTrue("Expecting JCR events after modifying " + path,c.get() > 0);
      }
    }
;
  }
  finally {
    s.logout();
    cnd.close();
    counter.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.AbstractListenerTest </h4><pre class="type-12 type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleOperations() throws Exception {
  generateEvents();
  assertEquals("Received: " + events,5,events.size());
  final Set<String> addPaths=new HashSet<String>();
  final Set<String> modifyPaths=new HashSet<String>();
  final Set<String> removePaths=new HashSet<String>();
  for (  final ResourceChange event : events) {
    if (event.getType() == ChangeType.ADDED) {
      addPaths.add(event.getPath());
    }
 else     if (event.getType() == ChangeType.CHANGED) {
      modifyPaths.add(event.getPath());
      assertEquals(Collections.singleton("foo"),event.getAddedPropertyNames());
    }
 else     if (event.getType() == ChangeType.REMOVED) {
      removePaths.add(event.getPath());
    }
 else {
      fail("Unexpected event: " + event);
    }
    assertNotNull(event.getUserId());
  }
  assertEquals(3,addPaths.size());
  assertTrue("Added set should contain " + createdPath,addPaths.contains(createdPath));
  assertTrue("Added set should contain " + pathToDelete,addPaths.contains(pathToDelete));
  assertTrue("Added set should contain " + pathToModify,addPaths.contains(pathToModify));
  assertEquals(1,modifyPaths.size());
  assertTrue("Modified set should contain " + pathToModify,modifyPaths.contains(pathToModify));
  assertEquals(1,removePaths.size());
  assertTrue("Removed set should contain " + pathToDelete,removePaths.contains(pathToDelete));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.jcr.resource.internal.JcrSystemUserValidatorTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsValidWithEnforcementOfSystemUsersEnabled() throws Exception {
  Field allowOnlySystemUsersField=jcrSystemUserValidator.getClass().getDeclaredField("allowOnlySystemUsers");
  allowOnlySystemUsersField.setAccessible(true);
  allowOnlySystemUsersField.set(jcrSystemUserValidator,true);
  assertFalse(jcrSystemUserValidator.isValid(null,null,null));
  assertFalse(jcrSystemUserValidator.isValid("notExisting",null,null));
  assertFalse(jcrSystemUserValidator.isValid(GROUP_ADMINISTRATORS,null,null));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsValidWithEnforcementOfSystemUsersDisabled() throws Exception {
  Field allowOnlySystemUsersField=jcrSystemUserValidator.getClass().getDeclaredField("allowOnlySystemUsers");
  allowOnlySystemUsersField.setAccessible(true);
  allowOnlySystemUsersField.set(jcrSystemUserValidator,false);
  assertFalse(jcrSystemUserValidator.isValid(null,null,null));
  assertTrue(jcrSystemUserValidator.isValid("notExisting",null,null));
  assertTrue(jcrSystemUserValidator.isValid(GROUP_ADMINISTRATORS,null,null));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.healthcheck.impl.JUnitTestSelectorTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoMethod(){
  final JUnitTestSelector s=new JUnitTestSelector("com.example.foo",null,null);
  assertTrue("Expecting package to be selected",s.acceptTestName("com.example.foo"));
  assertTrue("Expecting subpackage to be selected",s.acceptTestName("com.example.foo.bar"));
  assertTrue("Expecting class to be selected",s.acceptTestName("com.example.foo.some.ThisClass"));
  assertFalse("Expecting other package.accept to return false",s.acceptTestName("com.other.foo"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithMethod(){
  final JUnitTestSelector s=new JUnitTestSelector("com.example.foo","someMethod",null);
  assertTrue("Expecting package to be selected",s.acceptTestName("com.example.foo"));
  assertEquals("someMethod",s.getSelectedTestMethodName());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.junit.tests.TestAllPathsTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void checkTestTest() throws Exception {
  final String comment="# this is a comment" + "\n";
  final String empty="    " + "\n";
  final String testPassed="TEST_PASSED" + "\n";
  final String any="this is any line" + " \n";
  final String script1=comment + empty + testPassed;
  final String script2=comment + empty + testPassed+ testPassed;
  final String script3=comment + empty + testPassed+ any;
  final String script4=comment + empty;
  assertTrue(TestAllPaths.checkTest(script1));
  assertFalse(TestAllPaths.checkTest(script2));
  assertFalse(TestAllPaths.checkTest(script3));
  assertFalse(TestAllPaths.checkTest(script4));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.BootstrapInstallerTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Test method for{@link org.apache.sling.launchpad.base.impl.BootstrapInstaller#isBlank(java.lang.String)}.
 */
@Test public void testIsBlank(){
  assertTrue(BootstrapInstaller.isBlank(null));
  assertTrue(BootstrapInstaller.isBlank(""));
  assertTrue(BootstrapInstaller.isBlank(" "));
  assertFalse(BootstrapInstaller.isBlank("Test"));
  assertFalse(BootstrapInstaller.isBlank(" asdf "));
}

</code></pre>

<br>
<pre class="type-11 type-6 type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test method for{@link org.apache.sling.launchpad.base.impl.BootstrapInstaller#copyStreamToFile(java.io.InputStream,java.io.File)}.
 */
@Test public void testCopyStreamToFile(){
  InputStream stream=null;
  File to=null;
  File testDir=new File("testing");
  testDir.deleteOnExit();
  assertTrue(testDir.mkdir());
  stream=Thread.currentThread().getContextClassLoader().getResourceAsStream("holaworld.jar");
  assertNotNull(stream);
  to=new File(testDir,"test.jar");
  to.deleteOnExit();
  try {
    BootstrapInstaller.copyStreamToFile(stream,to);
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
  File copy=new File(testDir,"test.jar");
  try {
    FileInputStream copyStream=new FileInputStream(copy);
    byte[] copyData=new byte[copyStream.available()];
    copyStream.read(copyData);
    copyStream.close();
    FileInputStream origStream=new FileInputStream(copy);
    byte[] origData=new byte[origStream.available()];
    origStream.read(origData);
    origStream.close();
    assertArrayEquals(copyData,origData);
  }
 catch (  FileNotFoundException e) {
    fail(e.getMessage());
  }
catch (  IOException e) {
    fail(e.getMessage());
  }
  try {
    BootstrapInstaller.copyStreamToFile(null,to);
    fail("should have thrown exception");
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
catch (  IllegalArgumentException e) {
    assertNotNull(e.getMessage());
  }
  try {
    BootstrapInstaller.copyStreamToFile(stream,null);
    fail("should have thrown exception");
  }
 catch (  IOException e) {
    fail(e.getMessage());
  }
catch (  IllegalArgumentException e) {
    assertNotNull(e.getMessage());
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.ClassLoaderResourceProviderChildrenTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoResults(){
  final Iterator<String> it=provider.getChildren("FOO");
  assertFalse("Expecting no children",it.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testException(){
  throwExceptionOnOpenConnection=true;
  final Iterator<String> it=provider.getChildren("resources/install");
  assertFalse("Expecting no results with ignored IOException",it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.SlingFelixTest </h4><pre class="type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_start_stop(){
  assertNotNull(framework);
  assertEquals(Bundle.ACTIVE,framework.getState());
  stopSling();
  final long start=System.currentTimeMillis();
  while (!this.notifiable.stoppedCalled) {
    if (System.currentTimeMillis() - start > STOPPED_CALLED_TIMEOUT_MSEC) {
      break;
    }
    try {
      Thread.sleep(200);
    }
 catch (    InterruptedException ignore) {
    }
  }
  assertTrue("Expect Notifiable.stopped to be called",this.notifiable.stoppedCalled);
  assertFalse("Expect Notifiable.updated to not be called",this.notifiable.updatedCalled);
  assertNull("Expect Notifiable.updated to not be called",this.notifiable.updatedCalledFile);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.StartupManagerTimestampTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testClassTimestamp(){
  final int defaultValue=Integer.MIN_VALUE;
  final long ts=startupManager.getTimeStampOfClass(getClass(),defaultValue);
  assertTrue("Expecting non-default timestamp, got " + ts,ts > defaultValue);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.base.impl.bootstrapcommands.BootstrapCommandFileTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testNoFileNoExecution(){
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,nonExistentFile);
  assertFalse("Expecting anythingToExecute false for non-existing file",bcf.anythingToExecute(bundleContext));
}

</code></pre>

<br>
<pre class="type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSyntaxError() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  final String cmdString="# a comment\n" + "uninstall only_one_field\n" + "\n"+ "# another comment\n"+ "uninstall symbolicname1 1.0\n"+ "\n"+ "# another comment\n"+ "uninstall three args 1.0\n";
  try {
    bcf.parse(new ByteArrayInputStream(cmdString.getBytes()));
    fail("Expecting IOException for syntax error");
  }
 catch (  IOException ioe) {
    assertTrue("Exception message (" + ioe.getMessage() + ") should contain command line",ioe.getMessage().contains("three args"));
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testExecuteOnceOnly() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  assertTrue("Expecting anythingToExecute true for existing file",bcf.anythingToExecute(bundleContext));
  assertEquals("Expecting two commands to be executed",false,bcf.execute(bundleContext));
  assertFalse("Expecting anythingToExecute false after execution",bcf.anythingToExecute(bundleContext));
}

</code></pre>

<br>
<pre class="type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidCommand() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  final String cmdString="foo\n";
  try {
    bcf.parse(new ByteArrayInputStream(cmdString.getBytes()));
    fail("Expecting IOException for invalid command");
  }
 catch (  IOException ioe) {
    assertTrue("Exception message (" + ioe.getMessage() + ") should contain command line",ioe.getMessage().contains("foo"));
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testParsing() throws IOException {
  final BootstrapCommandFile bcf=new BootstrapCommandFile(logger,cmdFile);
  final String cmdString="# a comment\n" + "uninstall symbolicname1 1.0\n" + "\n"+ "# another comment\n"+ "uninstall symbolicname1 1.0\n";
  final List<Command> c=bcf.parse(new ByteArrayInputStream(cmdString.getBytes()));
  assertEquals("Expecting two commands after parsing",2,c.size());
  int index=0;
  for (  Command cmd : c) {
    assertTrue("Expecting an UninstallBundleCommand at index " + index,cmd instanceof UninstallBundleCommand);
    index++;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.MappingEventsTest </h4><pre class="type-2 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public synchronized void setup() throws Exception {
  session=repository.loginAdministrative(null);
  final Node rootNode=maybeCreateNode(session.getRootNode(),"content","nt:unstructured");
  session.save();
  assertTrue("toDelete should be empty before test",toDelete.isEmpty());
  mapRoot=maybeCreateNode(session.getRootNode(),"etc","nt:folder");
  final Node map=maybeCreateNode(mapRoot,"map","sling:Mapping");
  final Node http=maybeCreateNode(map,"http","sling:Mapping");
  maybeCreateNode(http,"localhost.80","sling:Mapping");
  final Node https=maybeCreateNode(map,"https","sling:Mapping");
  maybeCreateNode(https,"localhost.443","sling:Mapping");
  toDelete.add(map.getPath());
  toDelete.add(rootNode.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:vanityPath").remove();
  saveMappings(session);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[0] + ".print.html",res.getPath());
  rootNode.setProperty("sling:vanityPath",vanity);
  saveMappings(session);
  Node childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
  childNode.setProperty("sling:vanityPath","childVanity");
  childNode.addMixin("sling:VanityPath");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(childNode.getPath(),res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/childVanity.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test the order property of the vanity paths
 */
@Test public void test_resolve_with_sling_vanity_path_order() throws Exception {
  final String vanityPath="/ordering";
  Node child1=rootNode.addNode("child1");
  child1.addMixin("sling:VanityPath");
  child1.setProperty("sling:vanityPath",vanityPath);
  child1.setProperty("sling:vanityOrder",100);
  Node child2=rootNode.addNode("child2");
  child2.addMixin("sling:VanityPath");
  child2.setProperty("sling:vanityPath",vanityPath);
  child2.setProperty("sling:vanityOrder",200);
  try {
    saveMappings(session);
    Resource rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
    child2.remove();
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child1.getPath(),rsrc.getPath());
    child2=rootNode.addNode("child2");
    child2.addMixin("sling:VanityPath");
    child2.setProperty("sling:vanityPath",vanityPath);
    child2.setProperty("sling:vanityOrder",200);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
    child1.setProperty("sling:vanityOrder",300);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child1.getPath(),rsrc.getPath());
    child1.setProperty("sling:vanityOrder",50);
    saveMappings(session);
    rsrc=resResolver.resolve(vanityPath);
    assertNotNull(rsrc);
    assertFalse("Resource should exist",ResourceUtil.isNonExistingResource(rsrc));
    assertEquals("Path does not match",child2.getPath(),rsrc.getPath());
  }
  finally {
    child1.remove();
    if (rootNode.hasNode("child2")) {
      rootNode.getNode("child2").remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedesourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    content.getProperty("sling:alias").remove();
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/" + alias + ".print.html",res.getPath());
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResource() throws Exception {
  Resource res=resResolver.getResource(rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.getResource(path);
  assertNull(res);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=this.resourceResolverFactory.getResourceResolver(authInfo);
  final Session s=rr.adaptTo(Session.class);
  try {
    assertEquals("Expect 3 session attributes",3,s.getAttributeNames().length);
    assertEquals("AStringValue",s.getAttribute("testAttributeString"));
    assertEquals(999,s.getAttribute("testAttributeNumber"));
    assertEquals("admin",s.getAttribute(ResourceResolverFactory.USER));
    assertNull(session.getAttribute(ResourceResolverFactory.PASSWORD));
    assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
    assertEquals(999,rr.getAttribute("testAttributeNumber"));
    assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
    assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
    final HashSet<String> validNames=new HashSet<String>();
    validNames.add(ResourceResolverFactory.USER);
    validNames.add("testAttributeString");
    validNames.add("testAttributeNumber");
    final Iterator<String> names=rr.getAttributeNames();
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertFalse("Expect no more names",names.hasNext());
    assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  }
  finally {
    rr.close();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectUrl() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResource() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(rootPath);
  Resource res=resResolver.resolve(request,rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  assertNull(res.adaptTo(Node.class));
  path=rootPath + ".print.a4.html";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=rootPath + System.currentTimeMillis();
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertTrue(ResourceUtil.isNonExistingResource(res));
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    Node child=rootNode.addNode("child","nt:unstructured");
    child.setProperty("sling:alias",alias);
    try {
      saveMappings(session);
      res=resResolver.resolve(request,path);
      assertEquals(child.getPath(),res.getPath());
    }
  finally {
      child.remove();
      session.save();
    }
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    rootNode.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testResolveRemovedMixinVanityPath() throws Exception {
  Node childNode=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode.removeMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
  }
  finally {
    if (childNode != null) {
      childNode.remove();
      saveMappings(session);
    }
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithUpdate() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String[] vanityPathUpdated=new String[]{"testVanity","testV","testVanityUpdated"};
  rootNode.setProperty("sling:vanityPath",vanityPathUpdated);
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[2] + ".print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContentWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    content.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:alias").remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + alias + ".print.html",res.getPath());
  String childNodeName="rootChildAlias";
  Node childNode=maybeCreateNode(rootNode,childNodeName,"nt:unstructured");
  childNode.setProperty("sling:alias","childAlias");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals(rootPath + "/childAlias.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithVanityOrder() throws Exception {
  Node childNode=null;
  Node childNode2=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2=maybeCreateNode(rootNode,"rootChild2","nt:unstructured");
    childNode2.setProperty("sling:vanityPath","childVanity");
    childNode2.addMixin("sling:VanityPath");
    saveMappings(session);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2.setProperty("sling:vanityOrder",100);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode2.getPath(),res.getPath());
    assertEquals(childNode2.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode2.isSame(res.adaptTo(Node.class)));
    childNode.setProperty("sling:vanityOrder",1000);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    if (childNode != null) {
      childNode.remove();
    }
    if (childNode2 != null) {
      childNode2.remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.testservices.serversidetests.ResourceResolverWithVanityBloomFilterTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContentWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    content.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=this.resourceResolverFactory.getResourceResolver(authInfo);
  final Session s=rr.adaptTo(Session.class);
  try {
    assertEquals("Expect 3 session attributes",3,s.getAttributeNames().length);
    assertEquals("AStringValue",s.getAttribute("testAttributeString"));
    assertEquals(999,s.getAttribute("testAttributeNumber"));
    assertEquals("admin",s.getAttribute(ResourceResolverFactory.USER));
    assertNull(session.getAttribute(ResourceResolverFactory.PASSWORD));
    assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
    assertEquals(999,rr.getAttribute("testAttributeNumber"));
    assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
    assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
    final HashSet<String> validNames=new HashSet<String>();
    validNames.add(ResourceResolverFactory.USER);
    validNames.add("testAttributeString");
    validNames.add("testAttributeNumber");
    final Iterator<String> names=rr.getAttributeNames();
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertTrue(validNames.remove(names.next()));
    assertFalse("Expect no more names",names.hasNext());
    assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  }
  finally {
    rr.close();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPath() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[0]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[1]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithUpdate() throws Exception {
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String[] vanityPathUpdated=new String[]{"testVanity","testV","testVanityUpdated"};
  rootNode.setProperty("sling:vanityPath",vanityPathUpdated);
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanityPathUpdated[2]+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + vanity[2]+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + vanity[2] + ".print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveVanityPathWithVanityOrder() throws Exception {
  Node childNode=null;
  Node childNode2=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2=maybeCreateNode(rootNode,"rootChild2","nt:unstructured");
    childNode2.setProperty("sling:vanityPath","childVanity");
    childNode2.addMixin("sling:VanityPath");
    saveMappings(session);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode2.setProperty("sling:vanityOrder",100);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode2.getPath(),res.getPath());
    assertEquals(childNode2.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode2.isSame(res.adaptTo(Node.class)));
    childNode.setProperty("sling:vanityOrder",1000);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    if (childNode != null) {
      childNode.remove();
    }
    if (childNode2 != null) {
      childNode2.remove();
    }
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    Node child=rootNode.addNode("child","nt:unstructured");
    child.setProperty("sling:alias",alias);
    try {
      saveMappings(session);
      res=resResolver.resolve(request,path);
      assertEquals(child.getPath(),res.getPath());
    }
  finally {
      child.remove();
      session.save();
    }
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceInternalRedirectUrl() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest("https",null,-1,rootPath);
  Node localhost443=mapRoot.getNode("map/https/localhost.443");
  localhost443.setProperty(PROP_REDIRECT_INTERNAL,"http://localhost");
  try {
    saveMappings(session);
    Resource res=resResolver.resolve(request,rootPath);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    localhost443.getProperty(PROP_REDIRECT_INTERNAL).remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetResource() throws Exception {
  Resource res=resResolver.getResource(rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.getResource(path);
  assertNull(res);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedesourceAliasJcrContent() throws Exception {
  String alias="testAlias";
  Node content=rootNode.addNode("jcr:content","nt:unstructured");
  content.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ "/"+ alias+ ".print.html");
    res=resResolver.resolve(request,path);
    assertEquals("GET request resolution does not go up the path",Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
    content.getProperty("sling:alias").remove();
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/" + alias + ".print.html",res.getPath());
  }
  finally {
    content.remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResource() throws Exception {
  HttpServletRequest request=new FakeSlingHttpServletRequest(rootPath);
  Resource res=resResolver.resolve(request,rootPath);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  String path=rootPath + "/missing";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
  assertNull(res.adaptTo(Node.class));
  path=rootPath + ".print.a4.html";
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=rootPath + System.currentTimeMillis();
  res=resResolver.resolve(new FakeSlingHttpServletRequest(path),path);
  assertNotNull(res);
  assertTrue(ResourceUtil.isNonExistingResource(res));
  assertEquals(path,res.getPath());
  assertEquals(Resource.RESOURCE_TYPE_NON_EXISTING,res.getResourceType());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveResourceAliasWithUpdate() throws Exception {
  String[] alias={"testAlias","testAliasToUpdate"};
  rootNode.setProperty("sling:alias",alias);
  try {
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    String[] aliasUpdated={"testAlias","testAliasUpdated"};
    rootNode.setProperty("sling:alias",aliasUpdated);
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + aliasUpdated[1]+ ".print.html/suffix.pdf");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(rootPath,res.getPath());
    assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  }
  finally {
    rootNode.getProperty("sling:alias").remove();
    session.save();
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolveRemovedResourceAlias() throws Exception {
  String alias="testAlias";
  rootNode.setProperty("sling:alias",alias);
  saveMappings(session);
  String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  HttpServletRequest request=new FakeSlingHttpServletRequest(path);
  Resource res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath,res.getPath());
  assertEquals(rootNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(rootNode.isSame(res.adaptTo(Node.class)));
  rootNode.getProperty("sling:alias").remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + alias+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals("/" + alias + ".print.html",res.getPath());
  String childNodeName="rootChildAlias";
  Node childNode=maybeCreateNode(rootNode,childNodeName,"nt:unstructured");
  childNode.setProperty("sling:alias","childAlias");
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias.print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html/suffix.pdf");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertEquals(rootPath + "/" + childNodeName,res.getPath());
  assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
  assertEquals(".print.html/suffix.pdf",res.getResourceMetadata().getResolutionPathInfo());
  assertNotNull(res.adaptTo(Node.class));
  assertTrue(childNode.isSame(res.adaptTo(Node.class)));
  childNode.remove();
  saveMappings(session);
  path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/" + rootPath+ "/childAlias"+ ".print.html");
  request=new FakeSlingHttpServletRequest(path);
  res=resResolver.resolve(request,path);
  assertNotNull(res);
  assertTrue(res instanceof NonExistingResource);
  assertEquals(rootPath + "/childAlias.print.html",res.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testResolveRemovedMixinVanityPath() throws Exception {
  Node childNode=null;
  try {
    childNode=maybeCreateNode(rootNode,"rootChild","nt:unstructured");
    childNode.setProperty("sling:vanityPath","childVanity");
    saveMappings(session);
    String path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    HttpServletRequest request=new FakeSlingHttpServletRequest(path);
    Resource res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
    childNode.addMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertEquals(childNode.getPath(),res.getPath());
    assertEquals(childNode.getPrimaryNodeType().getName(),res.getResourceType());
    assertEquals(".print.html",res.getResourceMetadata().getResolutionPathInfo());
    assertNotNull(res.adaptTo(Node.class));
    assertTrue(childNode.isSame(res.adaptTo(Node.class)));
    childNode.removeMixin("sling:VanityPath");
    saveMappings(session);
    path=ResourceUtil.normalize(ResourceUtil.getParent(rootPath) + "/childVanity.print.html");
    request=new FakeSlingHttpServletRequest(path);
    res=resResolver.resolve(request,path);
    assertNotNull(res);
    assertTrue(res instanceof NonExistingResource);
    assertEquals("/childVanity.print.html",res.getPath());
  }
  finally {
    if (childNode != null) {
      childNode.remove();
      saveMappings(session);
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.EventsCounterTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Retry @Test public void testResourceEvents() throws Exception {
  assertTrue("Expecting events counter to have changed",EventsCounterUtil.getEventsCount(H,TOPIC) > initialResourceEventsCount);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspForwardTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testInfiniteLoopDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlC + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.RecursionTooDeepException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithForwardAndExtension() throws IOException {
  final String content=H.getContent(nodeUrlE + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithJspForward() throws IOException {
  final String content=H.getContent(nodeUrlF + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithoutForward() throws IOException {
  final String content=H.getContent(nodeUrlA + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithForward() throws IOException {
  final String content=H.getContent(nodeUrlB + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is not included (" + content + ")",!content.contains(testTextB));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testForcedResourceType() throws IOException {
  final String content=H.getContent(nodeUrlD + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertTrue("Text of node A is included (" + content + ")",!content.contains(testTextB));
  assertTrue("Resource type has been forced (" + content + ")",content.contains("Forced resource type:" + forcedResourceType));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspIncludeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithoutInclude() throws IOException {
  final String content=H.getContent(nodeUrlA + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextA + "</p>"));
  assertFalse("Nothing has been included",content.contains("<p>Including"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testInfiniteLoopDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlC + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.RecursionTooDeepException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithInclude() throws IOException {
  final String content=H.getContent(nodeUrlB + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testVarInclude() throws IOException {
  final String content=H.getContent(nodeUrlI + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes Loaded test content:",content.contains("Loaded test content:"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testWithIncludeAndExtension() throws IOException {
  final String content=H.getContent(nodeUrlE + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testForcedResourceType() throws IOException {
  final String content=H.getContent(nodeUrlD + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Include has been used",content.contains("<p>Including"));
  assertTrue("Text of node A is included (" + content + ")",content.contains(testTextA));
  assertTrue("Resource type has been forced (" + content + ")",content.contains("Forced resource type:" + forcedResourceType));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testMaxCallsDetection() throws IOException {
  final GetMethod get=new GetMethod(nodeUrlF + ".html");
  H.getHttpClient().executeMethod(get);
  final String content=get.getResponseBodyAsString();
  assertTrue("Response contains infinite loop error message",content.contains("org.apache.sling.api.request.TooManyCallsException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testCall() throws IOException {
  final String content=H.getContent(nodeUrlG + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Content contains formatted test text",content.contains("<p class=\"main\">" + testTextB + "</p>"));
  assertTrue("Call has been used",content.contains("<p>Calling"));
  assertTrue("Call has been made",content.contains("called"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @Retry public void testCallToSupertype() throws IOException {
  final String content=H.getContent(nodeUrlH + ".html",HttpTest.CONTENT_TYPE_HTML);
  assertTrue("Content includes JSP marker",content.contains("JSP template"));
  assertTrue("Call has been made",content.contains("called"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.JspScriptingTest </h4><pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testEnum() throws Exception {
  String toDelete=null;
  try {
    toDelete=H.uploadTestScript(unstructuredNode.scriptPath,"enum-test.jsp","txt.jsp");
    final String content=H.getContent(unstructuredNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
    for (    String expected : new String[]{"FOO=FOO","BAR=BAR"}) {
      assertTrue("Content contains '" + expected + "'("+ content+ ")",content.contains(expected));
    }
  }
  finally {
    if (toDelete != null) {
      H.getTestClient().delete(toDelete);
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testRtNoScript() throws Exception {
  final String content=H.getContent(rtNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue(content.contains("PlainTextRendererServlet"));
  assertTrue("Content contains " + rtNode.testText + " ("+ content+ ")",content.contains(rtNode.testText));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testTagFile() throws Exception {
  String tagFile=null;
  String tagUsingScript=null;
  try {
    H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,"/apps/testing/tags");
    tagFile=H.uploadTestScript("/apps/testing/tags","example.tag","example.tag");
    tagUsingScript=H.uploadTestScript(unstructuredNode.scriptPath,"withtag.jsp","html.jsp");
    final String content=H.getContent(unstructuredNode.nodeUrl + ".html",HttpTest.CONTENT_TYPE_HTML);
    assertTrue("JSP script executed as expected (" + content + ")",content.contains("<h1>Hello, Sling User</h1>"));
  }
  finally {
    if (tagFile != null) {
      H.getTestClient().delete(tagFile);
    }
    if (tagUsingScript != null) {
      H.getTestClient().delete(tagUsingScript);
    }
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test @Retry public void testUnstructuredNoScript() throws Exception {
  final String content=H.getContent(unstructuredNode.nodeUrl + ".txt",HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue(content.contains("PlainTextRendererServlet"));
  assertTrue("Content contains " + unstructuredNode.testText + " ("+ content+ ")",content.contains(unstructuredNode.testText));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test @Ignore public void testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertTrue(grantedArray.length() >= 8);
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:all");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:write");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:readAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lockManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:nodeTypeManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:retentionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lifecycleManagement");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:modifyProperties");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:addChildNodes");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:removeNode");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:removeChildNodes");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:write");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test for SLING-2600, Effective ACL servlet returns incorrect information
 */
@Test public void testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild2() throws IOException, JSONException {
  testUserId=H.createTestUser();
  String testFolderUrl=H.createTestFolder("{ 'jcr:primaryType': 'nt:unstructured', 'propOne' : 'propOneValue', 'child' : { 'childPropOne' : true } }");
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:all","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:removeNode","denied"));
  postUrl=testFolderUrl + "/child.modifyAce.html";
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + "/child.eacl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  String principalString=aceObject.optString("principal");
  assertEquals(testUserId,principalString);
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertTrue(grantedArray.length() >= 11);
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:all");
  H.assertPrivilege(grantedPrivilegeNames,false,"jcr:write");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:read");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:readAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyAccessControl");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lockManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:versionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:nodeTypeManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:retentionManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:lifecycleManagement");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:modifyProperties");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:addChildNodes");
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:removeChildNodes");
  JSONArray deniedArray=aceObject.optJSONArray("denied");
  assertNotNull(deniedArray);
  assertEquals(1,deniedArray.length());
  Set<String> deniedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < deniedArray.length(); i++) {
    deniedPrivilegeNames.add(deniedArray.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames,true,"jcr:removeNode");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test ACE update with a deny privilege for an ACE that already contains
 * a grant privilege 
 */
@Test public void testMergeAceForUserDenyPrivilegeAfterGrantPrivilege() throws IOException, JSONException {
  testUserId=H.createTestUser();
  testFolderUrl=H.createTestFolder();
  String postUrl=testFolderUrl + ".modifyAce.html";
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("principalId",testUserId));
  postParams.add(new NameValuePair("privilege@jcr:write","granted"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=testFolderUrl + ".acl.json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObject=new JSONObject(json);
  assertEquals(1,jsonObject.length());
  JSONObject aceObject=jsonObject.optJSONObject(testUserId);
  assertNotNull(aceObject);
  assertEquals(testUserId,aceObject.optString("principal"));
  JSONArray grantedArray=aceObject.optJSONArray("granted");
  assertNotNull(grantedArray);
  assertEquals(1,grantedArray.length());
  Set<String> grantedPrivilegeNames=new HashSet<String>();
  for (int i=0; i < grantedArray.length(); i++) {
    grantedPrivilegeNames.add(grantedArray.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames,true,"jcr:write");
  assertFalse(aceObject.has("denied"));
  List<NameValuePair> postParams2=new ArrayList<NameValuePair>();
  postParams2.add(new NameValuePair("principalId",testUserId));
  postParams2.add(new NameValuePair("privilege@jcr:nodeTypeManagement","denied"));
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams2,null);
  String json2=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json2);
  JSONObject jsonObject2=new JSONObject(json2);
  assertEquals(1,jsonObject2.length());
  JSONObject aceObject2=jsonObject2.optJSONObject(testUserId);
  assertNotNull(aceObject2);
  assertEquals(testUserId,aceObject2.optString("principal"));
  JSONArray grantedArray2=aceObject2.optJSONArray("granted");
  assertNotNull(grantedArray2);
  assertEquals(1,grantedArray2.length());
  Set<String> grantedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < grantedArray2.length(); i++) {
    grantedPrivilegeNames2.add(grantedArray2.getString(i));
  }
  H.assertPrivilege(grantedPrivilegeNames2,true,"jcr:write");
  JSONArray deniedArray2=aceObject2.optJSONArray("denied");
  assertNotNull(deniedArray2);
  assertEquals(1,deniedArray2.length());
  Set<String> deniedPrivilegeNames2=new HashSet<String>();
  for (int i=0; i < deniedArray2.length(); i++) {
    deniedPrivilegeNames2.add(deniedArray2.getString(i));
  }
  H.assertPrivilege(deniedPrivilegeNames2,true,"jcr:nodeTypeManagement");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.AuthenticationResponseCodeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidatingCorrectHttpBasicCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertTrue(post.getResponseBodyAsString().length() == 0);
  HttpMethod get=H.assertHttpStatus(HttpTest.HTTP_BASE_URL + "/?j_validate=true",HttpServletResponse.SC_OK);
  assertTrue(get.getResponseBodyAsString().length() == 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidatingCorrectFormCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","admin"));
  params.add(new NameValuePair("j_password","admin"));
  params.add(new NameValuePair("j_validate","true"));
  HttpMethod post=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params,null);
  assertTrue(post.getResponseBodyAsString().length() == 0);
  List<NameValuePair> params2=new ArrayList<NameValuePair>();
  params2.add(new NameValuePair("j_validate","true"));
  HttpMethod post2=H.assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_OK,params2,null);
  assertTrue(post2.getResponseBodyAsString().length() == 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.auth.SelectorAuthenticationResponseCodeTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWithAcceptHeaderIncorrectCredentials() throws Exception {
  List<NameValuePair> params=new ArrayList<NameValuePair>();
  params.add(new NameValuePair("j_username","garbage"));
  params.add(new NameValuePair("j_password","garbage"));
  List<Header> headers=new ArrayList<Header>();
  headers.add(new Header("User-Agent","Mozilla/5.0 Sling Integration Test"));
  HttpMethod post=assertPostStatus(HttpTest.HTTP_BASE_URL + "/j_security_check",HttpServletResponse.SC_MOVED_TEMPORARILY,params,headers,null);
  final String location=post.getResponseHeader("Location").getValue();
  assertNotNull(location);
  assertTrue(location.startsWith(HttpTest.HTTP_BASE_URL + "/system/sling/selector/login?"));
  assertTrue(location.contains("resource=%2F"));
  assertTrue(location.contains("j_reason=INVALID_CREDENTIALS"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.indexing.FullTextIndexingTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testUploadedPdfIsIndexed() throws Exception {
  final String queryUrl=HttpTest.WEBDAV_BASE_URL + "/content.query.json?queryType=xpath&statement=" + URLEncoder.encode("/jcr:root" + uploadPath + "//*[jcr:contains(.,'"+ expectedText+ "')]","UTF-8");
  final Condition c=new Condition(){
    public boolean isTrue() throws Exception {
      String result=H.getContent(queryUrl,HttpTest.CONTENT_TYPE_JSON);
      JSONArray results=new JSONArray(result);
      if (results.length() == 0) {
        return false;
      }
      String expectedPath=HttpTest.SERVLET_CONTEXT + uploadPath + "/"+ fileName+ "/jcr:content";
      for (int i=0; i < results.length(); i++) {
        JSONObject object=results.getJSONObject(i);
        if (expectedPath.equals(object.getString("jcr:path"))) {
          return true;
        }
      }
      return false;
    }
    public String getDescription(){
      return "A document containing '" + expectedText + "' is found under "+ uploadPath;
    }
  }
;
  assertFalse("Expecting search to return nothing before upload",c.isTrue());
  String localPath="/integration-test/indexing/" + fileName;
  InputStream resourceToUpload=getClass().getResourceAsStream(localPath);
  if (resourceToUpload == null)   throw new IllegalArgumentException("No resource to upload found at " + localPath);
  H.getTestClient().mkdirs(HttpTest.WEBDAV_BASE_URL,uploadPath);
  final int status=H.getTestClient().upload(HttpTest.WEBDAV_BASE_URL + uploadPath + "/"+ fileName,resourceToUpload);
  assertEquals("Upload status code",201,status);
  new RetryLoop(c,45,50);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.provisioning.EmbeddedModelTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testLaunchpadFeature(){
  assertTrue(modelContent.contains("[feature name=:launchpad]"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBootFeature(){
  assertTrue(modelContent.contains("[feature name=:boot]"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.repository.RepositoryInitializersTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void checkSignalProperty() throws IOException {
  final String path=FirstRepositoryInitializer.SIGNAL_NODE_PATH + "/" + SecondRepositoryInitializer.class.getSimpleName()+ ".txt";
  final String url=HttpTest.HTTP_BASE_URL + path;
  final String content=H.getContent(url,HttpTest.CONTENT_TYPE_PLAIN);
  assertTrue("Expecting a numeric value at " + path + ", got "+ content,Long.valueOf(content) > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.resourceresolver.ResourceResolverApiTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testResolutionFailsB(){
  final HttpServletRequest req1=new FakeSlingHttpServletRequest(no_resource_path);
  final Resource res1=resResolver.resolve(req1);
  Assert.assertNotNull("Expecting resource if resolution fails",res1);
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res1));
  Assert.assertEquals("Path must be the original path",no_resource_path,res1.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResolutionFailsA(){
  final Resource res0=resResolver.resolve(null,no_resource_path);
  Assert.assertNotNull("Expecting resource if resolution fails",res0);
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res0));
  Assert.assertEquals("Path must be the original path",no_resource_path,res0.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativePathsB(){
  final Resource res02=resResolver.resolve(no_resource_path);
  Assert.assertNotNull(res02);
  Assert.assertEquals("Expecting absolute path for relative path",no_resource_path,res02.getPath());
  Assert.assertTrue("Resource must be NonExistingResource",ResourceUtil.isNonExistingResource(res02));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRelativePathsA(){
  final String path01="relPath/relPath";
  final Resource res01=resResolver.resolve(path01);
  Assert.assertNotNull(res01);
  Assert.assertEquals("Expecting absolute path for relative path","/" + path01,res01.getPath());
  Assert.assertTrue("Resource must be NonExistingResource: " + res01.getClass().getName(),ResourceUtil.isNonExistingResource(res01));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testResolutionFailsC(){
  final HttpServletRequest req2=new FakeSlingHttpServletRequest(null);
  final Resource res2=resResolver.resolve(req2);
  Assert.assertNotNull("Expecting resource if resolution fails",res2);
  Assert.assertFalse("Resource must not be NonExistingResource was ",ResourceUtil.isNonExistingResource(res2));
  Assert.assertEquals("Path must be the the root path","/",res2.getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteParentTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDeleteNonExisting() throws Exception {
  final String path=TEST_PATH + "/" + EXISTING_PATH;
  final String testNodeUrl=H.getTestClient().createNode(HttpTest.HTTP_BASE_URL + "/" + path,null);
  assertTrue("Expecting created node path to end with " + path,testNodeUrl.endsWith(path));
  H.assertHttpStatus(testNodeUrl + ".json",200,"Expecting test node to exist before test");
  final String selectorsPath=TEST_PATH + "/" + deletePath;
  final PostMethod post=new PostMethod(HttpTest.HTTP_BASE_URL + "/" + selectorsPath);
  post.setParameter(":operation","delete");
  final int status=H.getHttpClient().executeMethod(post);
  assertEquals("Expecting 403 status for delete operation",403,status);
  H.assertHttpStatus(testNodeUrl + ".json",200,"Expecting test node to exist after test");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletPrivilegesUpdateTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
/** 
 * Test for SLING-897 fix: 
 * 1. Updating a property requires jcr:modifyProperties privilege on node.
 * 2. When changing an existing property observers should receive a PROPERTY_CHANGED event instead 
 * of a PROPERTY_REMOVED event and a PROPERTY_ADDED event
 */
@Test @Ignore public void testUpdatePropertyPrivilegesAndEvents() throws IOException, JSONException, RepositoryException, InterruptedException {
  testUserId=H.createTestUser();
  final String createTestNodeUrl=postUrl + SlingPostConstants.DEFAULT_CREATE_SUFFIX;
  NameValuePairList clientNodeProperties=new NameValuePairList();
  clientNodeProperties.add(SlingPostConstants.RP_NODE_NAME_HINT,testName.getMethodName());
  clientNodeProperties.add("propOne","propOneValue1");
  clientNodeProperties.add("propOne","propOneValue2");
  clientNodeProperties.add("propTwo","propTwoValue");
  String testNodeUrl=H.getTestClient().createNode(createTestNodeUrl,clientNodeProperties,null,false);
  String content=H.getContent(testNodeUrl + ".json",HttpTest.CONTENT_TYPE_JSON);
  JSONObject json=new JSONObject(content);
  Object propOneObj=json.opt("propOne");
  assertTrue(propOneObj instanceof JSONArray);
  assertEquals(2,((JSONArray)propOneObj).length());
  assertEquals("propOneValue1",((JSONArray)propOneObj).get(0));
  assertEquals("propOneValue2",((JSONArray)propOneObj).get(1));
  Object propTwoObj=json.opt("propTwo");
  assertTrue(propTwoObj instanceof String);
  assertEquals("propTwoValue",propTwoObj);
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair("propOne","propOneValueChanged"));
  postParams.add(new NameValuePair("propTwo","propTwoValueChanged1"));
  postParams.add(new NameValuePair("propTwo","propTwoValueChanged2"));
  Credentials testUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
  String expectedMessage="Expected javax.jcr.AccessDeniedException";
  H.assertAuthenticatedPostStatus(testUserCreds,testNodeUrl,HttpServletResponse.SC_INTERNAL_SERVER_ERROR,postParams,expectedMessage);
  Map<String,String> nodeAceProperties=new HashMap<String,String>();
  nodeAceProperties.put("principalId",testUserId);
  nodeAceProperties.put("privilege@jcr:modifyProperties","granted");
  H.getTestClient().createNode(testNodeUrl + ".modifyAce.html",nodeAceProperties);
  Repository repository=JcrUtils.getRepository(HttpTest.HTTP_BASE_URL + "/server/");
  Session jcrSession=null;
  TestEventListener listener=new TestEventListener();
  ObservationManager observationManager=null;
  try {
    jcrSession=repository.login(new SimpleCredentials("admin","admin".toCharArray()));
    observationManager=jcrSession.getWorkspace().getObservationManager();
    String testNodePath=testNodeUrl.substring(HttpTest.HTTP_BASE_URL.length());
    observationManager.addEventListener(listener,Event.PROPERTY_ADDED | Event.PROPERTY_CHANGED | Event.PROPERTY_REMOVED,testNodePath,true,null,null,false);
    H.assertAuthenticatedPostStatus(testUserCreds,testNodeUrl,HttpServletResponse.SC_OK,postParams,expectedMessage);
    String afterUpdateContent=H.getContent(testNodeUrl + ".json",HttpTest.CONTENT_TYPE_JSON);
    JSONObject afterUpdateJson=new JSONObject(afterUpdateContent);
    Object afterUpdatePropOneObj=afterUpdateJson.opt("propOne");
    assertTrue(afterUpdatePropOneObj instanceof JSONArray);
    assertEquals(1,((JSONArray)afterUpdatePropOneObj).length());
    assertEquals("propOneValueChanged",((JSONArray)afterUpdatePropOneObj).get(0));
    Object afterUpdatePropTwoObj=afterUpdateJson.opt("propTwo");
    assertTrue(afterUpdatePropTwoObj instanceof JSONArray);
    assertEquals(2,((JSONArray)afterUpdatePropTwoObj).length());
    assertEquals("propTwoValueChanged1",((JSONArray)afterUpdatePropTwoObj).get(0));
    assertEquals("propTwoValueChanged2",((JSONArray)afterUpdatePropTwoObj).get(1));
    for (int second=0; second < 15; second++) {
      if (listener.getEventBundlesProcessed() > 0) {
        break;
      }
      Thread.sleep(1000);
    }
    assertEquals("One property added event was expected: " + listener.toString(),1,listener.addedProperties.size());
    assertEquals(testNodePath + "/propTwo",listener.addedProperties.get(0));
    assertEquals("One property removed event was expected: " + listener.toString(),1,listener.removedProperties.size());
    assertEquals(testNodePath + "/propTwo",listener.removedProperties.get(0));
    assertEquals("One property changed event was expected: " + listener.toString(),1,listener.changedProperties.size());
    assertEquals(testNodePath + "/propOne",listener.changedProperties.get(0));
  }
  finally {
    if (observationManager != null) {
      observationManager.removeEventListener(listener);
    }
    jcrSession.logout();
    repository=null;
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.launchpad.webapp.integrationtest.userManager.CreateUserTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateUserWithExtraProperties() throws IOException, JSONException {
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user.create.html";
  testUserId="testUser" + random.nextInt();
  List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":name",testUserId));
  postParams.add(new NameValuePair("marker",testUserId));
  postParams.add(new NameValuePair("pwd","testPwd"));
  postParams.add(new NameValuePair("pwdConfirm","testPwd"));
  postParams.add(new NameValuePair("displayName","My Test User"));
  postParams.add(new NameValuePair("url","http://www.apache.org"));
  Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
  String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".json";
  String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
  assertNotNull(json);
  JSONObject jsonObj=new JSONObject(json);
  assertEquals(testUserId,jsonObj.getString("marker"));
  assertEquals("My Test User",jsonObj.getString("displayName"));
  assertEquals("http://www.apache.org",jsonObj.getString("url"));
  assertFalse(jsonObj.has(":name"));
  assertFalse(jsonObj.has("pwd"));
  assertFalse(jsonObj.has("pwdConfirm"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCreateUser() throws IOException, JSONException {
  testUserId="testUser" + random.nextInt() + System.currentTimeMillis();
  String postUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user.create.html";
  final List<NameValuePair> postParams=new ArrayList<NameValuePair>();
  postParams.add(new NameValuePair(":name",testUserId));
  postParams.add(new NameValuePair("marker",testUserId));
  postParams.add(new NameValuePair("pwd","testPwd"));
  postParams.add(new NameValuePair("pwdConfirm","testPwd"));
  final Credentials creds=new UsernamePasswordCredentials("admin","admin");
  H.assertAuthenticatedPostStatus(creds,postUrl,HttpServletResponse.SC_OK,postParams,null);
{
    final String getUrl=HttpTest.HTTP_BASE_URL + "/system/userManager/user/" + testUserId+ ".json";
    final String json=H.getAuthenticatedContent(creds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
    assertNotNull(json);
    final JSONObject jsonObj=new JSONObject(json);
    assertEquals(testUserId,jsonObj.getString("marker"));
    assertFalse(jsonObj.has(":name"));
    assertFalse(jsonObj.has("pwd"));
    assertFalse(jsonObj.has("pwdConfirm"));
  }
{
    final Credentials newUserCreds=new UsernamePasswordCredentials(testUserId,"testPwd");
    final String getUrl=HttpTest.HTTP_BASE_URL + "/system/sling/info.sessionInfo.json";
    final String json=H.getAuthenticatedContent(newUserCreds,getUrl,HttpTest.CONTENT_TYPE_JSON,null,HttpServletResponse.SC_OK);
    assertNotNull(json);
    final JSONObject jsonObj=new JSONObject(json);
    assertEquals(testUserId,jsonObj.getString("userID"));
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.Mime4jMboxParserImplStreamingTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTempFileIsDeleted() throws IOException {
  File testFile=new File(TU.TEST_FOLDER,TEST_FILE_NAME);
  Mime4jParserIterator iter=(Mime4jParserIterator)parser.parse(new FileInputStream(testFile));
  assertFalse("Expecting temp file to be deleted",new File(iter.tempFileAbsPath).exists());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.mailarchiveserver.impl.SearchServiceTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQueryPipeline(){
  String query=builder.buildQuery(parser.parse(searchPhrase),QueryBuilderImpl.SQL2);
  assertTrue(String.format("\nExpected: %s\n   Output: %s",expectedQuery,query),expectedQuery.equals(query));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.maven.projectsupport.BundleListContentProviderTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testClasspathResource() throws Exception {
  final URL url=provider.getResource(TEST_BUNDLE_LIST);
  assertNotNull("Expecting classpath resource to be found",url);
  assertTrue(url.toExternalForm().endsWith(TEST_BUNDLE_LIST));
}

</code></pre>

<br>
<pre class="type-11 type-2 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setupTemporaryFiles() throws IOException {
  TemporaryFolder configRoot=new TemporaryFolder(tempFolder.getRoot());
  configRoot.create();
  for (  String filename : CONFIG_FILES) {
    final File f=getConfigFile(configRoot,filename);
    f.createNewFile();
    assertTrue("Expecting temporary config file to have been created: " + f.getAbsolutePath(),f.exists());
  }
  configDirectory=configRoot.getRoot();
  resourceProviderRoot=new File(tempFolder.getRoot(),"RESOURCE_PROVIDER_ROOT");
  resourceProviderRoot.mkdirs();
  resourceProviderFile=new File(resourceProviderRoot,"RP_FILE_" + System.currentTimeMillis());
  resourceProviderFile.createNewFile();
  fakeBundlePath=getFakeBundlePath();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.AdapterFactoryTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testCanCreateFromAdaptableWithInvalidModel(){
  Assert.assertFalse(factory.canCreateFromAdaptable(resource,InvalidModelWithMissingAnnotation.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test @SuppressWarnings("deprecation") public void testIsModelClass(){
  Assert.assertTrue(factory.isModelClass(resource,DefaultStringModel.class));
  Assert.assertFalse(factory.isModelClass(resource,InvalidModelWithMissingAnnotation.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanCreateFromAdaptable(){
  Assert.assertTrue(factory.canCreateFromAdaptable(resource,DefaultStringModel.class));
  Assert.assertFalse(factory.canCreateFromAdaptable(request,DefaultStringModel.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.DefaultTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultWrappersConstructor(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.DefaultWrappersModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultWrappersModel.class);
  assertNotNull(model);
  assertEquals(Boolean.valueOf(true),model.getBooleanWrapperProperty());
  assertTrue(Arrays.equals(new Boolean[]{Boolean.TRUE,Boolean.TRUE},model.getBooleanWrapperArrayProperty()));
  assertEquals(Long.valueOf(1L),model.getLongWrapperProperty());
  assertArrayEquals(new Long[]{Long.valueOf(1L),Long.valueOf(1L)},model.getLongWrapperArrayProperty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultPrimitivesConstructor(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  org.apache.sling.models.testmodels.classes.constructorinjection.DefaultPrimitivesModel model=factory.getAdapter(res,org.apache.sling.models.testmodels.classes.constructorinjection.DefaultPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(true,model.getBooleanProperty());
  assertTrue(Arrays.equals(new boolean[]{true,true},model.getBooleanArrayProperty()));
  assertEquals(1L,model.getLongProperty());
  assertArrayEquals(new long[]{1L,1L},model.getLongArrayProperty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultWrappersField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  DefaultWrappersModel model=factory.getAdapter(res,DefaultWrappersModel.class);
  assertNotNull(model);
  assertEquals(Boolean.valueOf(true),model.getBooleanWrapperProperty());
  assertTrue(Arrays.equals(new Boolean[]{Boolean.TRUE,Boolean.TRUE},model.getBooleanWrapperArrayProperty()));
  assertEquals(Long.valueOf(1L),model.getLongWrapperProperty());
  assertArrayEquals(new Long[]{Long.valueOf(1L),Long.valueOf(1L)},model.getLongWrapperArrayProperty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultPrimitivesField(){
  ValueMap vm=new ValueMapDecorator(Collections.<String,Object>emptyMap());
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  DefaultPrimitivesModel model=factory.getAdapter(res,DefaultPrimitivesModel.class);
  assertNotNull(model);
  assertEquals(true,model.getBooleanProperty());
  assertTrue(Arrays.equals(new boolean[]{true,true},model.getBooleanArrayProperty()));
  assertEquals(1L,model.getLongProperty());
  assertArrayEquals(new long[]{1L,1L},model.getLongArrayProperty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ImplementsExtendsTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModel(){
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel.class,model.getClass());
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SampleServiceInterface.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Test to adapt to a superclass of the implementation class with the appropriate mapping in the @Model annotation.
 */
@Test public void testExtendsClassModel(){
  Resource res=getMockResourceWithProps();
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("!first-value|null|third-value!",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SimplePropertyModel.class));
  EvenSimplerPropertyModel simplerModel=factory.getAdapter(res,EvenSimplerPropertyModel.class);
  assertNotNull(simplerModel);
  assertEquals("first-value",model.getFirst());
  assertTrue(factory.canCreateFromAdaptable(res,EvenSimplerPropertyModel.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt in a case where there is no picker available.
 * This causes the extend adaptation to fail.
 */
@Test public void testImplementsNoPickerWithAdapterEqualsImplementation(){
  factory.unbindImplementationPicker(firstImplementationPicker,firstImplementationPickerProps);
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,ImplementsInterfacePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,ImplementsInterfacePropertyModel.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Try to adapt to interface, with an different implementation class that has the @Model annotation
 */
@Test public void testImplementsInterfaceModelWithPickLastImplementationPicker(){
  factory.bindImplementationPicker(new AdapterImplementationsTest.LastImplementationPicker(),new ServicePropertiesMap(3,1));
  Resource res=getMockResourceWithProps();
  SampleServiceInterface model=factory.getAdapter(res,SampleServiceInterface.class);
  assertNotNull(model);
  assertEquals(ImplementsInterfacePropertyModel2.class,model.getClass());
  assertEquals("first-value|null|third-value",model.getAllProperties());
  assertTrue(factory.canCreateFromAdaptable(res,SampleServiceInterface.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.OSGiInjectionTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testCollectionOSGiModelField() throws Exception {
  ServiceReference ref1=mock(ServiceReference.class);
  ServiceInterface service1=mock(ServiceInterface.class);
  when(bundleContext.getService(ref1)).thenReturn(service1);
  ServiceReference ref2=mock(ServiceReference.class);
  ServiceInterface service2=mock(ServiceInterface.class);
  when(bundleContext.getService(ref2)).thenReturn(service2);
  when(bundleContext.getServiceReferences(ServiceInterface.class.getName(),null)).thenReturn(new ServiceReference[]{ref1,ref2});
  Resource res=mock(Resource.class);
  CollectionOSGiModel model=factory.getAdapter(res,CollectionOSGiModel.class);
  assertNotNull(model);
  assertNotNull(model.getServices());
  assertEquals(2,model.getServices().size());
  assertTrue(model.getServices().contains(service1));
  assertTrue(model.getServices().contains(service2));
  verifyNoMoreInteractions(res);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.PostConstructTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testClassOrder(){
  SubClass sc=factory.getAdapter(resource,SubClass.class);
  assertTrue(sc.getPostConstructCalledTimestampInSub() > sc.getPostConstructCalledTimestampInSuper());
  assertTrue(sc.getPostConstructCalledTimestampInSuper() > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPostConstructMethodWhichThrowsExceptionThrowingException(){
  boolean thrown=false;
  try {
    factory.createModel(resource,FailingPostConstuctModel.class);
  }
 catch (  PostConstructException e) {
    assertTrue(e.getMessage().contains("Post-construct"));
    assertEquals("FAIL",e.getCause().getMessage());
    thrown=true;
  }
  assertTrue(thrown);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelClassesTest </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequiredPropertyModelWithException(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  ValueMap vm=spy(new ValueMapDecorator(map));
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  boolean thrown=false;
  try {
    factory.createModel(res,ResourceModelWithRequiredField.class);
  }
 catch (  MissingElementsException e) {
    assertEquals("required",((Field)e.getMissingElements().iterator().next().getElement()).getName());
    thrown=true;
  }
  assertTrue(thrown);
  verify(vm).get("required",String.class);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimplePropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  map.put("intProperty",new Integer(3));
  map.put("arrayProperty",new String[]{"three","four"});
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value",model.getFirst());
  assertNull(model.getSecond());
  assertEquals("third-value",model.getThirdProperty());
  assertEquals(3,model.getIntProperty());
  String[] array=model.getArrayProperty();
  assertEquals(2,array.length);
  assertEquals("three",array[0]);
  assertTrue(model.isPostConstructCalled());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.ResourceModelInterfacesTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimplePropertyModel(){
  Map<String,Object> map=new HashMap<String,Object>();
  map.put("first","first-value");
  map.put("third","third-value");
  map.put("fourth",true);
  ValueMap vm=new ValueMapDecorator(map);
  Resource res=mock(Resource.class);
  when(res.adaptTo(ValueMap.class)).thenReturn(vm);
  SimplePropertyModel model=factory.getAdapter(res,SimplePropertyModel.class);
  assertNotNull(model);
  assertEquals("first-value",model.getFirst());
  assertNull(model.getSecond());
  assertEquals("third-value",model.getThirdProperty());
  assertTrue(model.isFourth());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.impl.StaticInjectionAPFLoadOrderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Registration order: 1. ModelFactory, 2. model, 3. custom injector
 */
@Test public void testFactory_Model_Injector(){
  when(request.getResourceResolver()).thenReturn(null);
  registerModel();
  registerCustomInjector();
  assertFalse(createModel().hasResourceResolver());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Registration order: 1. ModelFactory, 2. custom injector, 3. model
 */
@Test public void testFactory_Injector_Model(){
  when(request.getResourceResolver()).thenReturn(null);
  registerCustomInjector();
  registerModel();
  assertFalse(createModel().hasResourceResolver());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Registration order: 1. ModelFactory, 2. model, 3. custom injector
 */
@Test public void testFactory_Model_Injector_WithResourceResolver(){
  when(request.getResourceResolver()).thenReturn(resourceResolver);
  registerModel();
  registerCustomInjector();
  assertTrue(createModel().hasResourceResolver());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * Registration order: 1. ModelFactory, 2. custom injector, 3. model
 */
@Test public void testFactory_Injector_Model_WithResourceResolver(){
  when(request.getResourceResolver()).thenReturn(resourceResolver);
  registerCustomInjector();
  registerModel();
  assertTrue(createModel().hasResourceResolver());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.models.it.ModelFactorySimpleTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanCreateFromAdaptable(){
  assertTrue("Model is not detected as such",modelFactory.canCreateFromAdaptable(resource,ConstructorInjectionTestModel.class));
  assertTrue("Model is not detected as such",modelFactory.canCreateFromAdaptable(resource,SampleServiceInterface.class));
  assertFalse("Model is incorrectly detected",modelFactory.canCreateFromAdaptable(new String(),ConstructorInjectionTestModel.class));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test() public void testCanCreateFromAdaptableWithModelExceptin(){
  assertFalse("Model is incorrectly detected",modelFactory.canCreateFromAdaptable(resource,DummyClass.class));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsModelClass(){
  assertTrue("Model is not detected as such",modelFactory.isModelClass(ConstructorInjectionTestModel.class));
  assertFalse("Dummy class incorrectly detected as model class",modelFactory.isModelClass(DummyClass.class));
  assertFalse("Model with invalid adaptable incorrectly detected as model class",modelFactory.isModelClass(InvalidImplementsInterfacePropertyModel.class));
  assertTrue("Model is not detected as such",modelFactory.isModelClass(SampleServiceInterface.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.couchbase.client.CouchbaseKeyTest </h4><pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLongKey(){
  String key=CouchbaseKey.build("/long/key/" + StringUtils.repeat("/aaa",500),PREFIX);
  assertTrue(StringUtils.startsWith(key,PREFIX + "/long/key/"));
  assertEquals(CouchbaseKey.MAX_KEY_LENGTH,key.length());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderRootTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRoot(){
  Resource root=context.resourceResolver().getResource("/");
  assertNotNull(root);
  assertTrue(root instanceof NoSqlResource);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testListChildren_RootNode() throws IOException {
  Resource testResource=ResourceUtil.getOrCreateResource(context.resourceResolver(),"/test",ImmutableMap.<String,Object>of(JcrConstants.JCR_PRIMARYTYPE,JcrConstants.NT_UNSTRUCTURED),JcrConstants.NT_UNSTRUCTURED,true);
  Resource root=context.resourceResolver().getResource("/");
  List<Resource> children=Lists.newArrayList(root.listChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,testResource));
  children=Lists.newArrayList(root.getChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,testResource));
  context.resourceResolver().delete(testResource);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testValueMapTypes() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  ValueMap valueMap=resource1.getValueMap();
  for (  Map.Entry<String,Object> entry : valueMap.entrySet()) {
    assertTrue(NoSqlValueMap.isValidType(entry.getValue().getClass()));
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties() throws IOException {
  Resource resource1=context.resourceResolver().getResource(testRoot().getPath() + "/node1");
  assertTrue(resource1 instanceof NoSqlResource);
  assertNotNull(resource1);
  assertEquals("node1",resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("booleanProp",Boolean.class));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.AbstractNoSqlResourceProviderTransactionalTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testRootNode(){
  assertTrue(testRoot() instanceof NoSqlResource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAddDeleteNodesPartialCommit() throws PersistenceException {
  context.resourceResolver().create(testRoot(),"node0",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  context.resourceResolver().create(testRoot(),"node2",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(testRoot(),"node3",ImmutableMap.<String,Object>of());
  assertTrue(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node0"));
  assertNotNull(testRoot().getChild("node1"));
  assertNotNull(testRoot().getChild("node2"));
  assertNotNull(testRoot().getChild("node3"));
  context.resourceResolver().delete(testRoot().getChild("node0"));
  context.resourceResolver().delete(testRoot().getChild("node2"));
  assertNull(testRoot().getChild("node0"));
  assertNotNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node2"));
  assertNotNull(testRoot().getChild("node3"));
  Iterator<Resource> children=testRoot().listChildren();
  assertEquals("node1",children.next().getName());
  assertEquals("node3",children.next().getName());
  assertFalse(children.hasNext());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().revert();
  assertFalse(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node2"));
  assertNull(testRoot().getChild("node3"));
  children=testRoot().listChildren();
  assertEquals("node0",children.next().getName());
  assertEquals("node1",children.next().getName());
  assertFalse(children.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursiveDeleteWithCommit() throws PersistenceException {
  Resource node1=context.resourceResolver().create(testRoot(),"node1",ImmutableMap.<String,Object>of());
  Resource node11=context.resourceResolver().create(node1,"node11",ImmutableMap.<String,Object>of());
  context.resourceResolver().create(node11,"node111",ImmutableMap.<String,Object>of());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  assertNotNull(testRoot().getChild("node1"));
  assertNotNull(testRoot().getChild("node1/node11"));
  assertNotNull(testRoot().getChild("node1/node11/node111"));
  context.resourceResolver().delete(node1);
  assertNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node1/node11"));
  assertNull(testRoot().getChild("node1/node11/node111"));
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
  assertNull(testRoot().getChild("node1"));
  assertNull(testRoot().getChild("node1/node11"));
  assertNull(testRoot().getChild("node1/node11/node111"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.resource.impl.PathUtilTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetDescendantPathPattern(){
  Pattern pattern=PathUtil.getSameOrDescendantPathPattern("/my/path");
  assertTrue(pattern.matcher("/my/path").matches());
  assertTrue(pattern.matcher("/my/path/child1").matches());
  assertTrue(pattern.matcher("/my/path/child2").matches());
  assertTrue(pattern.matcher("/my/path/child1/subchild1").matches());
  assertTrue(pattern.matcher("/my/path/child1/subchild1/subchild2").matches());
  assertFalse(pattern.matcher("/my/sibling").matches());
  assertFalse(pattern.matcher("/other").matches());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetChildPathPattern(){
  Pattern pattern=PathUtil.getChildPathPattern("/my/path");
  assertFalse(pattern.matcher("/my/path").matches());
  assertTrue(pattern.matcher("/my/path/child1").matches());
  assertTrue(pattern.matcher("/my/path/child2").matches());
  assertFalse(pattern.matcher("/my/path/child1/subchild1").matches());
  assertFalse(pattern.matcher("/my/path/child1/subchild1/subchild2").matches());
  assertFalse(pattern.matcher("/my/sibling").matches());
  assertFalse(pattern.matcher("/other").matches());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.nosql.generic.simple.SimpleNoSqlResourceProviderQueryTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQueryResources_InvalidQuery(){
  Iterator<Map<String,Object>> result=context.resourceResolver().queryResources("all","invalid");
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testFindResources_InvalidQuery(){
  Iterator<Resource> result=context.resourceResolver().findResources("all","invalid");
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindResources_ValidQuery(){
  Iterator<Resource> result=context.resourceResolver().findResources("all","simple");
  assertEquals("/nosql-simple",result.next().getPath());
  assertEquals("/nosql-simple/test",result.next().getPath());
  assertEquals("/nosql-simple/test/node1",result.next().getPath());
  assertEquals("/nosql-simple/test/node2",result.next().getPath());
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueryResources_ValidQuery(){
  Iterator<Map<String,Object>> result=context.resourceResolver().queryResources("all","simple");
  assertNull(result.next().get("prop1"));
  assertNull(result.next().get("prop1"));
  assertEquals("value1",result.next().get("prop1"));
  assertEquals("value2",result.next().get("prop1"));
  assertFalse(result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.ContainerPipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testOtherTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_OTHERTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be some results",resourceIterator.hasNext());
  Resource firstResource=resourceIterator.next();
  assertNotNull("First resource should not be null",firstResource);
  assertEquals("First resource should be instantiated path with apple & pea",PATH_FRUITS + "/apple/isnota/pea/buttheyhavesamecolor",firstResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource secondResource=resourceIterator.next();
  assertNotNull("Second resource should not be null",secondResource);
  assertEquals("Second resource should be instantiated path with banana & pea",PATH_FRUITS + "/banana/isnota/pea/andtheircolorisdifferent",secondResource.getPath());
  assertFalse("There should be no more items",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testOnePipe() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_ONEPIPE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be children",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testRottenTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_ROTTENTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("There shouldn't be any resource",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDummyTree() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_DUMMYTREE);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  assertNotNull("A container pipe should be built out from the given configuration",pipe);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("There should be some results",resourceIterator.hasNext());
  Resource firstResource=resourceIterator.next();
  assertNotNull("First resource should not be null",firstResource);
  assertEquals("First resource should be instantiated path with apple & pea",PATH_FRUITS + "/apple/isnota/pea/buttheyhavesamecolor",firstResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource secondResource=resourceIterator.next();
  assertNotNull("Second resource should not be null",secondResource);
  assertEquals("Second resource should be instantiated path with apple & carrot",PATH_FRUITS + "/apple/isnota/carrot/andtheircolorisdifferent",secondResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource thirdResource=resourceIterator.next();
  assertNotNull("Third resource should not be null",thirdResource);
  assertEquals("Third resource should be instantiated path with banana & pea",PATH_FRUITS + "/banana/isnota/pea/andtheircolorisdifferent",thirdResource.getPath());
  assertTrue("There should still be another item",resourceIterator.hasNext());
  Resource fourthResource=resourceIterator.next();
  assertNotNull("Fourth resource should not be null",fourthResource);
  assertEquals("fourthResource resource should be instantiated path with banana & carrot",PATH_FRUITS + "/banana/isnota/carrot/andtheircolorisdifferent",fourthResource.getPath());
  assertFalse("There should be no more items",resourceIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.FilterPipeTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTestPasses(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_TEST);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFilterProperties(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_PROPERTIES);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
  ValueMap properties=resourceIterator.next().adaptTo(ValueMap.class);
  assertFalse("...and only One",resourceIterator.hasNext());
  assertEquals("output resource's color is green","green",properties.get("color",String.class));
  assertTrue("output resource's name is not void",StringUtils.isNotBlank(properties.get("name",String.class)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoChildrenPasses(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_NOCHILDREN);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertTrue("output has one resource...",resourceIterator.hasNext());
  resourceIterator.next().adaptTo(ValueMap.class);
  assertFalse("...and only One",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoChildrenFails(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_NOCHILDREN_FAILS);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("output has no resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testTestFails(){
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_TEST_FAILS);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> resourceIterator=pipe.getOutput();
  assertFalse("output has no resource...",resourceIterator.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.JsonPipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPipedArray() throws Exception {
  Resource resource=context.resourceResolver().getResource(ARRAY);
  ContainerPipe pipe=(ContainerPipe)plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  Resource first=outputs.next();
  Resource second=outputs.next();
  Resource third=outputs.next();
  assertFalse("there should be only three elements",outputs.hasNext());
  assertEquals("first resource should be one","/content/json/array/one",first.getPath());
  assertEquals("second resource should be two","/content/json/array/two",second.getPath());
  assertEquals("third resource should be three","/content/json/array/three",third.getPath());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPipedJson() throws Exception {
  Resource resource=context.resourceResolver().getResource(CONF);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> outputs=pipe.getOutput();
  outputs.next();
  Resource result=outputs.next();
  context.resourceResolver().commit();
  ValueMap properties=result.adaptTo(ValueMap.class);
  assertTrue("There should be a Paris property",properties.containsKey("Paris"));
  assertTrue("There should be a Bucharest property",properties.containsKey("Bucharest"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MovePipeTest </h4><pre class="type-11 type-13 type-9 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testMoveProperty() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + MOVEPROPERTY_PIPE);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> output=pipe.getOutput();
  Assert.assertTrue(output.hasNext());
  output.next();
  Session session=context.resourceResolver().adaptTo(Session.class);
  session.save();
  Assert.assertTrue("new property path should exists",session.propertyExists(PATH_FRUITS + MOVED_NODE_PATH));
  Assert.assertFalse("old property path should not",session.propertyExists(PATH_FRUITS + PN_INDEX));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-8 type-14 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Is not executed with the test suite">IgnoredMethod</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
- Is not executed with the test suite
"></span><br>
@Ignore @Test public void testMoveNode() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + MOVENODE_PIPE);
  Pipe pipe=plumber.getPipe(resource);
  Iterator<Resource> output=pipe.getOutput();
  Assert.assertTrue(output.hasNext());
  output.next();
  Session session=context.resourceResolver().adaptTo(Session.class);
  session.save();
  Assert.assertTrue("new node path should exists",session.nodeExists(PATH_FRUITS + MOVED_NODE_PATH));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.MultiPropertyPipeTest </h4><pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testNonWorkingMV() throws Exception {
  Resource conf=context.resourceResolver().getResource(PATH_PIPE + "/typo");
  Pipe pipe=plumber.getPipe(conf);
  assertFalse("There should not be next for a non existing resource",pipe.getOutput().hasNext());
  conf=context.resourceResolver().getResource(PATH_PIPE + "/notProperty");
  pipe=plumber.getPipe(conf);
  assertFalse("There should not be next for a resource that is not a property",pipe.getOutput().hasNext());
  conf=context.resourceResolver().getResource(PATH_PIPE + "/notMultiple");
  pipe=plumber.getPipe(conf);
  assertFalse("There should not be next for a property that is not multiple",pipe.getOutput().hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.PlumberServletTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testDryRun() throws Exception {
  SlingHttpServletRequest dryRunRequest=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,"true");
  servlet.execute(dryRunRequest,response,true);
  Resource resource=context.resourceResolver().getResource("/content/fruits");
  ValueMap properties=resource.adaptTo(ValueMap.class);
  assertFalse("property fruits shouldn't have been written",properties.containsKey("fruits"));
  SlingHttpServletRequest request=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,"false");
  servlet.execute(request,response,true);
  WritePipeTest.assertPiped(resource);
}

</code></pre>

<br>
<pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testWriteExecute() throws ServletException {
  SlingHttpServletRequest request=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,null);
  servlet.execute(request,response,true);
  String finalResponse=stringResponse.toString();
  assertFalse("There should be a response",StringUtils.isBlank(finalResponse));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
/** 
 * in this test we execute a pipe that modifies content, with a flag mocking the GET request:
 * the execution should fail.
 */
@Test public void testGetOnWriteExecute() throws ServletException {
  SlingHttpServletRequest request=mockPlumberServletRequest(context.resourceResolver(),pipedWritePath,null,null,null,null);
  boolean hasFailed=true;
  try {
    servlet.execute(request,response,false);
    hasFailed=false;
  }
 catch (  Exception e) {
  }
  assertTrue("Execution should have failed",hasFailed);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.RemovePipeTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testComplexRemove() throws Exception {
  ResourceResolver resolver=context.resourceResolver();
  Resource resource=resolver.getResource(PATH_PIPE + "/" + NN_COMPLEX);
  Pipe pipe=plumber.getPipe(resource);
  assertTrue("resource should be solved",pipe.getOutput().hasNext());
  pipe.getOutput().next();
  resolver.commit();
  assertNull("isnota carrot should be removed",resolver.getResource(PATH_APPLE + "/isnota/carrot"));
  Resource isNotAPea=resolver.getResource(PATH_APPLE + "/isnota/pea");
  assertNotNull("isnota pea should not be removed",isNotAPea);
  assertFalse("isnota pea color property should not be here",isNotAPea.adaptTo(ValueMap.class).containsKey("color"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.SlingQueryPipeTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testChildren() throws Exception {
  Resource resource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLE);
  SlingQueryPipe pipe=(SlingQueryPipe)plumber.getPipe(resource);
  assertNotNull("A Sling query pipe should be built out from the given configuration",pipe);
  Iterator<Resource> it=pipe.getOutput();
  assertTrue("this pipe should have an output",it.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.pipes.WritePipeTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimple() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLE);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  pipe.getOutput();
  context.resourceResolver().commit();
  ValueMap properties=context.resourceResolver().getResource("/content/fruits/apple").adaptTo(ValueMap.class);
  assertTrue("There should be hasSeed set to true",properties.get("hasSeed",false));
  assertArrayEquals("Colors should be correctly set",new String[]{"green","red"},properties.get("colors",String[].class));
  assertFalse("worm property should be gone (${null} conf)",properties.get("worm",false));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testPiped() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_PIPED);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  Iterator<Resource> it=pipe.getOutput();
  assertTrue("There should be one result",it.hasNext());
  Resource resource=it.next();
  assertNotNull("The result should not be null",resource);
  assertEquals("The result should be the configured one in the piped write pipe","/content/fruits",resource.getPath());
  context.resourceResolver().commit();
  ValueMap properties=resource.adaptTo(ValueMap.class);
  assertArrayEquals("First fruit should have been correctly instantiated & patched from nothing",new String[]{"apple"},properties.get("fruits",String[].class));
  assertTrue("There should be a second result awaiting",it.hasNext());
  resource=it.next();
  assertNotNull("The second result should not be null",resource);
  assertEquals("The second result should be the configured one in the piped write pipe","/content/fruits",resource.getPath());
  context.resourceResolver().commit();
  assertPiped(resource);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleTree() throws Exception {
  Resource confResource=context.resourceResolver().getResource(PATH_PIPE + "/" + NN_SIMPLETREE);
  Pipe pipe=plumber.getPipe(confResource);
  assertNotNull("pipe should be found",pipe);
  assertTrue("this pipe should be marked as content modifier",pipe.modifiesContent());
  pipe.getOutput();
  context.resourceResolver().commit();
  Resource appleResource=context.resourceResolver().getResource("/content/fruits/apple");
  ValueMap properties=appleResource.adaptTo(ValueMap.class);
  assertTrue("There should be hasSeed set to true",properties.get("hasSeed",false));
  assertArrayEquals("Colors should be correctly set",new String[]{"green","red"},properties.get("colors",String[].class));
  Node appleNode=appleResource.adaptTo(Node.class);
  NodeIterator children=appleNode.getNodes();
  assertTrue("Apple node should have children",children.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.MergeUtilityTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseRawTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  MergeUtility.merge(baseRaw,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseEffectiveTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  MergeUtility.merge(baseEffective,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeEffectiveTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  MergeUtility.merge(baseEffective,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeRawTest() throws Exception {
  final Model baseRaw=U.readTestModel("merge/config-base.txt");
  final Model mergeRaw=U.readTestModel("merge/config-merge.txt");
  MergeUtility.merge(baseRaw,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.ModelUtilityTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseRawTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  ModelUtility.merge(baseRaw,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeBaseEffectiveTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  ModelUtility.merge(baseEffective,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeRawTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  ModelUtility.merge(baseRaw,mergeRaw);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseRaw.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.a"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.b"));
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(3,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new String[]{"one","two","three"},(String[])cfgB.getProperties().get("array"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(3,cfgC.getProperties().size());
  assertEquals("C",cfgC.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  assertArrayEquals(new Integer[]{1,2,3},(Integer[])cfgC.getProperties().get("array"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void mergeEffectiveTest() throws Exception {
  final Model baseRaw=U.readCompleteTestModel(new String[]{"merge/config-base.txt"});
  final Model mergeRaw=U.readCompleteTestModel(new String[]{"merge/config-merge.txt"});
  final Model baseEffective=ModelUtility.getEffectiveModel(baseRaw);
  final Model mergeEffective=ModelUtility.getEffectiveModel(mergeRaw);
  ModelUtility.merge(baseEffective,mergeEffective);
  final List<Configuration> cfgs=U.assertConfigurationsInRunMode(baseEffective.getFeature("configadmin").getRunMode(),4);
  final Configuration cfgBoot=cfgs.get(0);
  assertEquals(1,cfgBoot.getProperties().size());
  assertTrue(cfgBoot.getProperties().get(":bootstrap").toString().contains("uninstall bundle.c"));
  final Configuration cfgA=cfgs.get(1);
  assertEquals("org.apache.test.A",cfgA.getPid());
  assertNull(cfgA.getFactoryPid());
  assertEquals(1,cfgA.getProperties().size());
  assertEquals("AA",cfgA.getProperties().get("name"));
  final Configuration cfgB=cfgs.get(2);
  assertEquals("org.apache.test.B",cfgB.getPid());
  assertNull(cfgB.getFactoryPid());
  assertEquals(2,cfgB.getProperties().size());
  assertEquals("BB",cfgB.getProperties().get("name"));
  assertEquals("bar",cfgB.getProperties().get("foo"));
  final Configuration cfgC=cfgs.get(3);
  assertEquals("org.apache.test.C",cfgC.getPid());
  assertNull(cfgC.getFactoryPid());
  assertEquals(1,cfgC.getProperties().size());
  assertEquals("bar",cfgB.getProperties().get("foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.provisioning.model.VersionTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testQualifiers(){
  final Version va=new Version("1-A");
  final Version vb=new Version("1-B");
  assertTrue(va.compareTo(vb) < 0);
  assertTrue(vb.compareTo(va) > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testVersions(){
  final String v1="1";
  final String v20="2.0";
  final String v150="1.5.0";
  final Version ve1=new Version(v1);
  final Version ve20=new Version(v20);
  final Version ve150=new Version(v150);
  assertTrue(ve1.compareTo(ve20) < 0);
  assertTrue(ve20.compareTo(ve150) > 0);
  assertTrue(ve1.compareTo(ve150) < 0);
  assertTrue(ve20.compareTo(ve1) > 0);
  assertTrue(ve150.compareTo(ve20) < 0);
  assertTrue(ve150.compareTo(ve1) > 0);
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testSnapshotQualifier(){
  final Version v1=new Version("1");
  final Version v1snapshot=new Version("1-SNAPSHOT");
  final Version v1a=new Version("1-A");
  assertTrue(v1.compareTo(v1snapshot) > 0);
  assertTrue(v1snapshot.compareTo(v1) < 0);
  assertTrue(v1a.compareTo(v1) > 0);
  assertTrue(v1.compareTo(v1a) < 0);
  assertTrue(v1a.compareTo(v1snapshot) > 0);
  assertTrue(v1snapshot.compareTo(v1a) < 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.it.RepoInitIT </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void serviceUserCreated() throws Exception {
  new Retry(){
    @Override public Void call() throws Exception {
      assertTrue("Expecting user " + FRED_WILMA,userExists(FRED_WILMA));
      return null;
    }
  }
;
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void fredWilmaAcl() throws Exception {
  new Retry(){
    @Override public Void call() throws Exception {
      assertFalse("Expecting no write access to A",canWrite(FRED_WILMA,"/acltest/A"));
      assertTrue("Expecting write access to A/B",canWrite(FRED_WILMA,"/acltest/A/B"));
      return null;
    }
  }
;
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void anotherUserAcl() throws Exception {
  new Retry(){
    @Override public Void call() throws Exception {
      assertTrue("Expecting write access to A",canWrite(ANOTHER,"/acltest/A"));
      assertFalse("Expecting no write access to B",canWrite(ANOTHER,"/acltest/A/B"));
      return null;
    }
  }
;
}

</code></pre>

<br>
<pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Before public void setup() throws Exception {
  WaitFor.services(teleporter,SlingRepository.class,RepoInitParser.class);
  session=teleporter.getService(SlingRepository.class).loginAdministrative(null);
  try {
    session.getRootNode().addNode("acltest").addNode("A").addNode("B").save();
    ;
  }
 catch (  RepositoryException ignore) {
  }
  assertTrue("Expecting test nodes to be created",session.itemExists("/acltest/A/B"));
  final InputStream is=getClass().getResourceAsStream(REPO_INIT_FILE);
  assertNotNull("Expecting " + REPO_INIT_FILE,is);
  try {
    final RepoInitParser parser=teleporter.getService(RepoInitParser.class);
    final OperationVisitor v=new JcrRepoInitOpVisitor(session);
    for (    Operation op : parser.parse(new InputStreamReader(is,"UTF-8"))) {
      op.accept(v);
    }
    session.save();
  }
  finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.repoinit.jcr.GeneralAclTest </h4><pre class="type-13 type-9 type-19 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values related to public fields.">PublicFieldVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies values related to public fields.
"></span><br>
@Test public void addChildAtRoot() throws Exception {
  final String nodename="test_" + U.id;
  final String path="/" + nodename;
  final String aclSetup="set ACL for " + U.username + "\n"+ "allow jcr:all on /\n"+ "end";
  U.parseAndExecute(aclSetup);
  try {
    assertFalse(s.itemExists(path));
    s.getRootNode().addNode(nodename);
    s.save();
    assertTrue(s.nodeExists(path));
    s.getNode(path).remove();
    s.save();
    assertFalse(s.itemExists(path));
  }
  finally {
    s.logout();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceaccesssecurity.impl.ResourceAccessSecurityImplTests </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCannotUpdateWrongPath(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/wrongcontent");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  assertFalse(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCanUpdate(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.GRANTED);
  assertTrue(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testCannotUpdate(){
  initMocks("/content",new String[]{"update"});
  Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/content");
  when(resourceAccessGate.canUpdate(resource)).thenReturn(ResourceAccessGate.GateResult.DENIED);
  assertFalse(resourceAccessSecurity.canUpdate(resource));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.impl.MapArgsConverterTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void noArguments() throws PersistenceException {
  final Map<String,Object> m=MapArgsConverter.toMap();
  assertTrue(m.isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcebuilder.it.FileRetrievalIT </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void createAndeRtrieveFile() throws IOException, ServletException {
  final String expected="yes, it worked";
  final long startTime=System.currentTimeMillis();
  final String mimeType="application/javascript";
  E.builder.resource("somefolder").file("the-model.js",getClass().getResourceAsStream("/files/models.js")).commit();
  final Resource r=A.assertFile("somefolder/the-model.js",mimeType,expected,-1L);
  final ResourceMetadata meta=r.getResourceMetadata();
  assertTrue("Expecting a last modified time >= startTime",meta.getModificationTime() >= startTime);
  assertEquals("Expecting the correct mime-type",mimeType,meta.getContentType());
  final InputStream is=r.adaptTo(InputStream.class);
  assertNotNull("Expecting InputStream for file resource " + r.getPath(),is);
  try {
    final String content=A.readFully(is);
    assertTrue("Expecting [" + expected + "] in content",content.contains(expected));
  }
  finally {
    is.close();
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.MergedResourceProviderTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildren(){
  final Resource rsrcA=this.provider.getResource(ctx,"/merged/a",ResourceContext.EMPTY_CONTEXT,null);
  assertNotNull(rsrcA);
  final Iterator<Resource> i=this.provider.listChildren(ctx,rsrcA);
  assertNotNull(i);
  final List<String> names=new ArrayList<String>();
  while (i.hasNext()) {
    names.add(i.next().getName());
  }
  assertEquals(6,names.size());
  assertTrue(names.contains("1"));
  assertTrue(names.contains("2"));
  assertTrue(names.contains("3"));
  assertTrue(names.contains("4"));
  assertTrue(names.contains("Y"));
  assertTrue(names.contains("X"));
}

</code></pre>

<br>
<pre class="type-12 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetWithRelatedResource(){
  final String path="/merged/b/c/d";
  String[] relatedPaths=new String[]{null,"/merged/a","/merged/b","/merged/b/c","/merged/b/c/d","/merged/b/c/d/e","/merged/b/c/d/e/f"};
  for (  String relatedPath : relatedPaths) {
    final Resource relatedResource;
    if (relatedPath != null) {
      relatedResource=provider.getResource(ctx,relatedPath,ResourceContext.EMPTY_CONTEXT,null);
      assertNotNull("Not found: " + relatedPath,relatedResource);
    }
 else {
      relatedResource=null;
    }
    Resource resource=provider.getResource(ctx,path,ResourceContext.EMPTY_CONTEXT,relatedResource);
    assertNotNull(resource);
    assertEquals(path,resource.getPath());
    assertTrue(resource instanceof MergedResource);
    MergedResource mergedResource=(MergedResource)resource;
    List<Resource> mappedResources=mergedResource.getMappedResources();
    assertEquals(2,mappedResources.size());
    assertEquals(mappedResources.get(0).getPath(),"/libs/b/c/d");
    assertEquals(mappedResources.get(1).getPath(),"/apps/b/c/d");
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListSubChildren(){
  final Resource rsrcY=this.provider.getResource(ctx,"/merged/a/Y",ResourceContext.EMPTY_CONTEXT,null);
  assertNotNull(rsrcY);
  final Iterator<Resource> i=this.provider.listChildren(ctx,rsrcY);
  assertNotNull(i);
  final List<String> names=new ArrayList<String>();
  while (i.hasNext()) {
    names.add(i.next().getName());
  }
  assertEquals(3,names.size());
  assertTrue(names.contains("a"));
  assertTrue(names.contains("b"));
  assertTrue(names.contains("c"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourcemerger.impl.OverridingResourceProviderTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHideChildrenFromList(){
  final Resource rsrcA2=this.provider.getResource(ctx,"/override/apps/a/2",ResourceContext.EMPTY_CONTEXT,null);
  final Iterator<Resource> children=this.provider.listChildren(ctx,rsrcA2);
  final List<String> names=new ArrayList<String>();
  while (children.hasNext()) {
    names.add(children.next().getName());
  }
  assertTrue(names.contains("a"));
  assertFalse(names.contains("b"));
  assertTrue(names.contains("c"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.MockedResourceResolverImplTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResources() throws LoginException {
  final int n=3;
  String[] languages=new String[]{FAKE_QUERY_LANGUAGE};
  Mockito.when(queryProvider.getSupportedLanguages(Mockito.any(ResolverContext.class))).thenReturn(languages);
  Mockito.when(queryProvider.queryResources(Mockito.any(ResolverContext.class),Mockito.any(String.class),Mockito.any(String.class))).thenReturn(buildValueMapCollection(n,"A_").iterator());
  final ResourceResolver rr=resourceResolverFactory.getResourceResolver(null);
  buildResource("/search/test/withchildren",buildChildResources("/search/test/withchildren"),rr,resourceProvider);
  final Iterator<Map<String,Object>> it=rr.queryResources("/search",FAKE_QUERY_LANGUAGE);
  final Set<String> toFind=new HashSet<String>();
  for (int i=0; i < n; i++) {
    toFind.add("A_" + i);
  }
  assertTrue("Expecting non-empty result (" + n + ")",it.hasNext());
  while (it.hasNext()) {
    final Map<String,Object> m=it.next();
    toFind.remove(m.get(PATH));
  }
  assertTrue("Expecting no leftovers (" + n + ") in"+ toFind,toFind.isEmpty());
}

</code></pre>

<br>
<pre class="type-11 type-2 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Allocates resources before the execution of the test cases">TestInitializer</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Allocates resources before the execution of the test cases
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Before public void before() throws LoginException {
  activator=new ResourceResolverFactoryActivator();
  Mockito.when(componentContext.getProperties()).thenReturn(buildBundleProperties());
  Mockito.when(componentContext.getBundleContext()).thenReturn(bundleContext);
  activator.resourceAccessSecurityTracker=new ResourceAccessSecurityTracker();
  activator.resourceProviderTracker=resourceProviderTracker;
  activator.changeListenerWhiteboard=resourceChangeListenerWhiteboard;
  handlers.add(createRPHandler(resourceProvider,"org.apache.sling.resourceresolver.impl.DummyTestProvider",10L,"/single"));
  buildMappingResource("/etc/map",mappingResourceProvider,null);
  handlers.add(createRPHandler(mappingResourceProvider,"org.apache.sling.resourceresolver.impl.MapProvider",11L,"/etc"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",12L,"/libs"));
  handlers.add(createRPHandler(appsResourceProvider,"org.apache.sling.resourceresolver.impl.AppsProvider",13L,"/apps"));
  handlers.add(createRPHandler(queriableResourceProviderA,"org.apache.sling.resourceresolver.impl.QueriableResourceProviderA",14L,"/searchA"));
  Mockito.when(queriableResourceProviderA.getQueryLanguageProvider()).thenReturn(queryProvider);
  ResourceProviderStorage storage=new ResourceProviderStorage(handlers);
  Mockito.when(resourceProviderTracker.getResourceProviderStorage()).thenReturn(storage);
  activator.activate(componentContext);
  Mockito.when(usingBundle.getBundleContext()).thenReturn(usingBundleContext);
  Mockito.when(usingBundleContext.getBundle()).thenReturn(usingBundle);
  ArgumentCaptor<String> classesCaptor=ArgumentCaptor.forClass(String.class);
  ArgumentCaptor serviceCaptor=ArgumentCaptor.forClass(Object.class);
  @SuppressWarnings("rawtypes") ArgumentCaptor<Dictionary> propertiesCaptor=ArgumentCaptor.forClass(Dictionary.class);
  Mockito.verify(bundleContext,Mockito.atLeastOnce()).registerService(classesCaptor.capture(),serviceCaptor.capture(),propertiesCaptor.capture());
  int si=0;
  List serviceList=serviceCaptor.getAllValues();
  @SuppressWarnings({"unused","rawtypes"}) List<Dictionary> servicePropertiesList=propertiesCaptor.getAllValues();
  for (  String serviceName : classesCaptor.getAllValues()) {
    services.put(serviceName,serviceList.get(si));
    serviceProperties.put(serviceName,serviceProperties.get(si));
    si++;
  }
  Assert.assertNotNull(services.get(ResourceResolverFactory.class.getName()));
  Object rrf=services.get(ResourceResolverFactory.class.getName());
  if (rrf instanceof ServiceFactory) {
    rrf=((ServiceFactory)rrf).getService(usingBundle,null);
  }
  Assert.assertTrue(rrf instanceof ResourceResolverFactoryImpl);
  resourceResolverFactory=(ResourceResolverFactoryImpl)rrf;
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ProviderHandlerTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testServletRegistrationAndSyntheticResources() throws LoginException {
  final String servletpath="/libs/a/b/GET.servlet";
  final Resource servletResource=Mockito.mock(Resource.class);
  Mockito.when(servletResource.getResourceMetadata()).then(new Answer<ResourceMetadata>(){
    @Override public ResourceMetadata answer(    InvocationOnMock invocation) throws Throwable {
      return new ResourceMetadata();
    }
  }
);
  final ResourceProvider<?> leaveProvider=Mockito.mock(ResourceProvider.class);
  Mockito.when(leaveProvider.getResource(Mockito.any(ResolverContext.class),Mockito.eq(servletpath),Mockito.any(ResourceContext.class),Mockito.any(Resource.class))).thenReturn(servletResource);
  ResourceProviderHandler h=createRPHandler(leaveProvider,"my-pid",0,servletpath);
  ResourceResolver resolver=new ResourceResolverImpl(new CommonResourceResolverFactoryImpl(new ResourceResolverFactoryActivator()),false,null,new ResourceProviderStorage(Arrays.asList(h)));
  final Resource parent=resolver.getResource(ResourceUtil.getParent(servletpath));
  assertNotNull("Parent must be available",parent);
  assertTrue("Resource should be synthetic",ResourceUtil.isSyntheticResource(parent));
  final Resource servlet=resolver.getResource(servletpath);
  assertNotNull("Servlet resource must not be null",servlet);
  assertEquals(servletResource,servlet);
  assertNotNull(resolver.getResource("/libs"));
  assertTrue(resolver.resolve("/libs") instanceof NonExistingResource);
  assertTrue(resolver.resolve(ResourceUtil.getParent(servletpath)) instanceof NonExistingResource);
  assertNotNull(resolver.resolve(servletpath));
  resolver.close();
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceDecorationTest </h4><pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void childrenAreDecorated(){
  final Resource root=resolver.resolve((String)null);
  final Iterator<Resource> it=resolver.listChildren(root);
  assertTrue("Expecting root to have children",it.hasNext());
  assertDecorated(it,2);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceProviderEntryTest </h4><pre class="type-11 type-12 type-6 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemoveTheOnlyProvider() throws LoginException {
  long counter=1;
  providers.clear();
  for (  String path : new String[]{"/foo","/","/foo/bar"}) {
    final ResourceResolver resolver=Mockito.mock(ResourceResolver.class);
    final ResourceProvider<?> p=Mockito.mock(ResourceProvider.class);
    Mockito.when(p.getResource(Mockito.any(ResolverContext.class),Mockito.startsWith(path),Mockito.any(ResourceContext.class),Mockito.any(Resource.class))).thenReturn(new TestResource(resolver));
    ++counter;
    ResourceProviderHandler h=createRPHandler(p,"rp" + counter,counter,path);
    providers.add(h);
    this.providersBasedResolver=null;
{
      final Resource r=getResource(path);
      assertEqualsResolver(resolver,r);
      assertFalse(r instanceof SyntheticResource);
    }
    providers.remove(h);
    this.providersBasedResolver=null;
{
      final Resource r=getResource(path);
      if (r == null) {
      }
 else       if (!p.equals(r.getResourceResolver())) {
      }
 else {
        fail("Expecting inactive provider after removing it for " + path);
      }
    }
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.ResourceResolverImplTest </h4><pre class="type-6 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testCloseWithStackTraceLogging() throws Exception {
  ResourceResolverFactoryActivator rrfa=spy(new ResourceResolverFactoryActivator());
  Whitebox.setInternalState(rrfa,"logResourceResolverClosing",true);
  CommonResourceResolverFactoryImpl crrfi=new CommonResourceResolverFactoryImpl(rrfa);
  final ResourceResolver rr=new ResourceResolverImpl(crrfi,false,null,resourceProviderTracker.getResourceProviderStorage());
  assertTrue(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  try {
    rr.adaptTo(Session.class);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.clone(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.findResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttribute("a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttributeNames();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null,"/a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getSearchPath();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getUserID();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.listChildren(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map("/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map(null,"/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.queryResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve((HttpServletRequest)null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve("/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve(null,"/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
}

</code></pre>

<br>
<pre class="type-13 type-9 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SlingException.class) public void testIsResourceCyclicHierarchyIndirect(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/3"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/3","/types/component","/types/1"));
  Resource resource=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/2"));
  assertTrue(resolver.isResourceType(resource,"/types/3"));
  resolver.isResourceType(resource,"/types/unknown");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=SlingException.class) public void testIsResourceCyclicHierarchyDirect(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/1"));
  Resource resource=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/1"));
  assertTrue(resolver.isResourceType(resource,"/types/2"));
  resolver.isResourceType(resource,"/types/unknown");
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceType(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  final Resource r=resolver.add(new SyntheticResourceWithSupertype(resolver,"/a","a:b","d:e"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/d/e","x:y","t:c"));
  assertTrue(resolver.isResourceType(r,"a:b"));
  assertTrue(resolver.isResourceType(r,"d:e"));
  assertFalse(resolver.isResourceType(r,"x:y"));
  assertTrue(resolver.isResourceType(r,"t:c"));
  assertFalse(resolver.isResourceType(r,"h:p"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceTypeWithPaths(){
  final PathBasedResourceResolverImpl resolver=getPathBasedResourceResolver();
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/1","/types/component","/types/2"));
  resolver.add(new SyntheticResourceWithSupertype(resolver,"/types/2","/types/component","/types/3"));
  resolver.add(new SyntheticResource(resolver,"/types/3","/types/component"));
  Resource resourceT1=resolver.add(new SyntheticResource(resolver,"/resourceT1","/types/1"));
  Resource resourceT2=resolver.add(new SyntheticResource(resolver,"/resourceT2","/types/2"));
  Resource resourceT3=resolver.add(new SyntheticResource(resolver,"/resourceT3","/types/3"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/1"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT1,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT1,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT1,"/types/unknown"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/1"));
  assertTrue(resolver.isResourceType(resourceT2,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT2,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT2,"/types/unknown"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/1"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/2"));
  assertTrue(resolver.isResourceType(resourceT3,"/types/3"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/component"));
  assertFalse(resolver.isResourceType(resourceT3,"/types/unknown"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_attributes_from_authInfo() throws Exception {
  final Map<String,Object> authInfo=new HashMap<String,Object>();
  authInfo.put(ResourceResolverFactory.USER,"admin");
  authInfo.put(ResourceResolverFactory.PASSWORD,"admin".toCharArray());
  authInfo.put("testAttributeString","AStringValue");
  authInfo.put("testAttributeNumber",999);
  final ResourceResolver rr=resFac.getResourceResolver(authInfo);
  assertEquals("AStringValue",rr.getAttribute("testAttributeString"));
  assertEquals(999,rr.getAttribute("testAttributeNumber"));
  assertEquals("admin",rr.getAttribute(ResourceResolverFactory.USER));
  assertNull(rr.getAttribute(ResourceResolverFactory.PASSWORD));
  final HashSet<String> validNames=new HashSet<String>();
  validNames.add(ResourceResolverFactory.USER);
  validNames.add("testAttributeString");
  validNames.add("testAttributeNumber");
  final Iterator<String> names=rr.getAttributeNames();
  assertTrue(validNames.remove(names.next()));
  assertTrue(validNames.remove(names.next()));
  assertTrue(validNames.remove(names.next()));
  assertFalse("Expect no more names",names.hasNext());
  assertTrue("Expect validNames set to be empty now",validNames.isEmpty());
  rr.close();
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testBasicAPIAssumptions() throws Exception {
  final Resource res00=resResolver.resolve((String)null);
  assertNotNull(res00);
  assertTrue("Resource must be NonExistingResource",res00 instanceof NonExistingResource);
  assertEquals("Null path is expected to return root","/",res00.getPath());
  final String path01="relPath/relPath";
  final Resource res01=resResolver.resolve(path01);
  assertNotNull(res01);
  assertEquals("Expecting absolute path for relative path","/" + path01,res01.getPath());
  assertTrue("Resource must be NonExistingResource",res01 instanceof NonExistingResource);
  final String no_resource_path="/no_resource/at/this/location";
  final Resource res02=resResolver.resolve(no_resource_path);
  assertNotNull(res02);
  assertEquals("Expecting absolute path for relative path",no_resource_path,res02.getPath());
  assertTrue("Resource must be NonExistingResource",res01 instanceof NonExistingResource);
  try {
    resResolver.resolve((HttpServletRequest)null);
    fail("Expected NullPointerException trying to resolve null request");
  }
 catch (  NullPointerException npe) {
  }
  final Resource res0=resResolver.resolve(null,no_resource_path);
  assertNotNull("Expecting resource if resolution fails",res0);
  assertTrue("Resource must be NonExistingResource",res0 instanceof NonExistingResource);
  assertEquals("Path must be the original path",no_resource_path,res0.getPath());
  final HttpServletRequest req1=mock(HttpServletRequest.class);
  when(req1.getProtocol()).thenReturn("http");
  when(req1.getServerName()).thenReturn("localhost");
  when(req1.getPathInfo()).thenReturn(no_resource_path);
  final Resource res1=resResolver.resolve(req1);
  assertNotNull("Expecting resource if resolution fails",res1);
  assertTrue("Resource must be NonExistingResource",res1 instanceof NonExistingResource);
  assertEquals("Path must be the original path",no_resource_path,res1.getPath());
  final HttpServletRequest req2=mock(HttpServletRequest.class);
  when(req2.getProtocol()).thenReturn("http");
  when(req2.getServerName()).thenReturn("localhost");
  when(req2.getPathInfo()).thenReturn(null);
  final Resource res2=resResolver.resolve(req2);
  assertNotNull("Expecting resource if resolution fails",res2);
  assertTrue("Resource must be NonExistingResource",res2 instanceof NonExistingResource);
  assertEquals("Path must be the the root path","/",res2.getPath());
  final Resource res3=resResolver.getResource(null);
  assertNull("Expected null resource for null path",res3);
  final Resource res4=resResolver.getResource(null,null);
  assertNull("Expected null resource for null path",res4);
  final Resource res5=resResolver.getResource(res01,null);
  assertNull("Expected null resource for null path",res5);
}

</code></pre>

<br>
<pre class="type-6 type-13 type-9 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("deprecation") @Test public void testClose() throws Exception {
  final ResourceResolver rr=new ResourceResolverImpl(commonFactory,false,null,resourceProviderTracker.getResourceProviderStorage());
  assertTrue(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  rr.close();
  assertFalse(rr.isLive());
  try {
    rr.adaptTo(Session.class);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.clone(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.findResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttribute("a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getAttributeNames();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getResource(null,"/a");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getSearchPath();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.getUserID();
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.listChildren(null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map("/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.map(null,"/somepath");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.queryResources("a","b");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve((HttpServletRequest)null);
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve("/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
  try {
    rr.resolve(null,"/path");
    fail();
  }
 catch (  final IllegalStateException ise) {
  }
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.helper.ResourceResolverControlTest </h4><pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Verifies that a synthetic parent is returned for a resource without an actual parent
 */
@Test public void getParent_synthetic(){
  Resource parent=crp.getParent(context,subProviderResource);
  assertThat(parent,notNullValue());
  assertTrue("parent is a synthetic resource",ResourceUtil.isSyntheticResource(parent));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
/** 
 * Verifies that a synthetic resource is returned for a path which holds no
 * actual resource but is an ancestor of another resource provider
 */
@Test public void getResource_synthetic(){
  Resource resource=crp.getResource(context,"/some",null,null,false);
  assertTrue("Not a syntethic resource : " + resource,ResourceUtil.isSyntheticResource(resource));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.BloomFilterUtilsTest </h4><pre class="type-15 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void probability(){
  byte[] bloom=BloomFilterUtils.createFilter(20,64);
  System.out.println(bloom.length);
  Random random=new Random(1);
  random.setSeed(1);
  for (int i=0; i < 20; i++) {
    BloomFilterUtils.add(bloom,random.nextInt());
  }
  random.setSeed(1);
  for (int i=0; i < 20; i++) {
    assertTrue(BloomFilterUtils.probablyContains(bloom,random.nextInt()));
  }
  int falsePositives=0;
  for (int i=20; i < 100000; i++) {
    if (BloomFilterUtils.probablyContains(bloom,random.nextInt())) {
      falsePositives++;
    }
  }
  assertEquals(4594,falsePositives);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.MapEntriesTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_that_duplicate_alias_doesnt_replace_first_alias(){
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  final Resource secondResult=mock(Resource.class);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:alias")) {
        return Arrays.asList(result,secondResult).iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMap);
  assertTrue(aliasMap.containsKey("alias"));
  assertEquals("child",aliasMap.get("alias"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias4() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent")).thenReturn(null);
  method1.invoke(mapEntries,"/parent",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_simple_alias_support(){
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:alias")) {
        return Collections.singleton(result).iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  Map<String,String> aliasMap=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMap);
  assertTrue(aliasMap.containsKey("alias"));
  assertEquals("child",aliasMap.get("alias"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_vanity_path_registration_include_exclude() throws IOException {
  final String[] validPaths={"/libs/somewhere","/libs/a/b","/foo/a","/baa/a"};
  final String[] invalidPaths={"/libs/denied/a","/libs/denied/b/c","/nowhere"};
  final List<Resource> resources=new ArrayList<Resource>();
  for (  final String val : validPaths) {
    resources.add(getVanityPathResource(val));
  }
  for (  final String val : invalidPaths) {
    resources.add(getVanityPathResource(val));
  }
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:vanityPath")) {
        return resources.iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  mapEntries.initializeVanityPaths();
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(validPaths.length * 2,entries.size());
  final Set<String> resultSet=new HashSet<String>();
  for (  final String p : validPaths) {
    resultSet.add(p + "$1");
    resultSet.add(p + ".html");
  }
  for (  final MapEntry entry : entries) {
    assertTrue(resultSet.remove(entry.getRedirect()[0]));
  }
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias5() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/jcr:content",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/jcr:content",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doUpdateAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doUpdateAttributes",String.class,String[].class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertFalse(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasUpdated"));
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertFalse(aliasMapEntry.containsKey("alias"));
  assertTrue(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasUpdated"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertFalse(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("alias"));
  assertTrue(aliasMapEntry.containsKey("aliasUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasUpdated"));
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias2"));
  method.invoke(mapEntries,"/parent/child2");
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(3,aliasMapEntry.size());
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(3,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias",null));
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContentUpdated"));
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertFalse(aliasMapEntry.containsKey("aliasJcrContent"));
  assertTrue(aliasMapEntry.containsKey("aliasJcrContentUpdated"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContentUpdated"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-12 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_vanity_path_registration() throws Exception {
  int DEFAULT_VANITY_STATUS=333333;
  when(resourceResolverFactory.getDefaultVanityPathRedirectStatus()).thenReturn(DEFAULT_VANITY_STATUS);
  final List<Resource> resources=new ArrayList<Resource>();
  Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  resources.add(justVanityPath);
  Resource badVanityPath=mock(Resource.class,"badVanityPath");
  when(badVanityPath.getPath()).thenReturn("/badVanityPath");
  when(badVanityPath.getName()).thenReturn("badVanityPath");
  when(badVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/content/mypage/en-us-{132"));
  resources.add(badVanityPath);
  Resource redirectingVanityPath=mock(Resource.class,"redirectingVanityPath");
  when(redirectingVanityPath.getPath()).thenReturn("/redirectingVanityPath");
  when(redirectingVanityPath.getName()).thenReturn("redirectingVanityPath");
  when(redirectingVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/redirectingVanityPath","sling:redirect",true));
  resources.add(redirectingVanityPath);
  Resource redirectingVanityPath301=mock(Resource.class,"redirectingVanityPath301");
  when(redirectingVanityPath301.getPath()).thenReturn("/redirectingVanityPath301");
  when(redirectingVanityPath301.getName()).thenReturn("redirectingVanityPath301");
  when(redirectingVanityPath301.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/redirectingVanityPath301","sling:redirect",true,"sling:redirectStatus",301));
  resources.add(redirectingVanityPath301);
  Resource vanityPathOnJcrContentParent=mock(Resource.class,"vanityPathOnJcrContentParent");
  when(vanityPathOnJcrContentParent.getPath()).thenReturn("/vanityPathOnJcrContent");
  when(vanityPathOnJcrContentParent.getName()).thenReturn("vanityPathOnJcrContent");
  Resource vanityPathOnJcrContent=mock(Resource.class,"vanityPathOnJcrContent");
  when(vanityPathOnJcrContent.getPath()).thenReturn("/vanityPathOnJcrContent/jcr:content");
  when(vanityPathOnJcrContent.getName()).thenReturn("jcr:content");
  when(vanityPathOnJcrContent.getParent()).thenReturn(vanityPathOnJcrContentParent);
  when(vanityPathOnJcrContent.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/vanityPathOnJcrContent"));
  resources.add(vanityPathOnJcrContent);
  when(resourceResolver.findResources(anyString(),eq("sql"))).thenAnswer(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation) throws Throwable {
      if (invocation.getArguments()[0].toString().contains("sling:vanityPath")) {
        return resources.iterator();
      }
 else {
        return Collections.<Resource>emptySet().iterator();
      }
    }
  }
);
  mapEntries.doInit();
  mapEntries.initializeVanityPaths();
  List<MapEntry> entries=mapEntries.getResolveMaps();
  assertEquals(8,entries.size());
  for (  MapEntry entry : entries) {
    if (entry.getPattern().contains("/target/redirectingVanityPath301")) {
      assertEquals(301,entry.getStatus());
      assertFalse(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/redirectingVanityPath")) {
      assertEquals(DEFAULT_VANITY_STATUS,entry.getStatus());
      assertFalse(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/justVanityPath")) {
      assertTrue(entry.isInternal());
    }
 else     if (entry.getPattern().contains("/target/vanityPathOnJcrContent")) {
      for (      String redirect : entry.getRedirect()) {
        assertFalse(redirect.contains("jcr:content"));
      }
    }
  }
  Field field=MapEntries.class.getDeclaredField("vanityTargets");
  field.setAccessible(true);
  @SuppressWarnings("unchecked") Map<String,List<String>> vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(4,vanityTargets.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void test_doNodeAdded1() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doNodeAdded",String.class,boolean.class);
  method.setAccessible(true);
  Boolean resfreshed=(Boolean)method.invoke(mapEntries,"/node",true);
  assertTrue(resfreshed.booleanValue());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent/child2");
  when(secondResult.getName()).thenReturn("child2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child2");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isValidVanityPath() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("isValidVanityPath",Resource.class);
  method.setAccessible(true);
  final Resource resource=mock(Resource.class);
  when(resource.getPath()).thenReturn("/jcr:system/node");
  assertFalse((Boolean)method.invoke(mapEntries,resource));
  when(resource.getPath()).thenReturn("/justVanityPath");
  assertFalse((Boolean)method.invoke(mapEntries,resource));
  when(resource.adaptTo(ValueMap.class)).thenReturn(mock(ValueMap.class));
  assertTrue((Boolean)method.invoke(mapEntries,resource));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doUpdateVanityOrder() throws Exception {
  Field field0=MapEntries.class.getDeclaredField("resolveMapsMap");
  field0.setAccessible(true);
  Map<String,List<MapEntry>> resolveMapsMap=(Map<String,List<MapEntry>>)field0.get(mapEntries);
  assertEquals(1,resolveMapsMap.size());
  Field field=MapEntries.class.getDeclaredField("vanityTargets");
  field.setAccessible(true);
  Map<String,List<String>> vanityTargets=(Map<String,List<String>>)field.get(mapEntries);
  assertEquals(0,vanityTargets.size());
  Method method=MapEntries.class.getDeclaredMethod("doAddVanity",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doUpdateVanityOrder",String.class,boolean.class);
  method1.setAccessible(true);
  Resource justVanityPath=mock(Resource.class,"justVanityPath");
  when(resourceResolver.getResource("/justVanityPath")).thenReturn(justVanityPath);
  when(justVanityPath.getPath()).thenReturn("/justVanityPath");
  when(justVanityPath.getName()).thenReturn("justVanityPath");
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  method.invoke(mapEntries,"/justVanityPath");
  Resource justVanityPath2=mock(Resource.class,"justVanityPath2");
  when(resourceResolver.getResource("/justVanityPath2")).thenReturn(justVanityPath2);
  when(justVanityPath2.getPath()).thenReturn("/justVanityPath2");
  when(justVanityPath2.getName()).thenReturn("justVanityPath2");
  when(justVanityPath2.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath","sling:vanityOrder",100));
  method.invoke(mapEntries,"/justVanityPath2");
  assertEquals(2,resolveMapsMap.size());
  assertEquals(2,vanityTargets.size());
  assertNotNull(resolveMapsMap.get("/target/justVanityPath"));
  Iterator<MapEntry> iterator=resolveMapsMap.get("/target/justVanityPath").iterator();
  assertEquals("/justVanityPath2$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath2.html",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath.html",iterator.next().getRedirect()[0]);
  assertFalse(iterator.hasNext());
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath","sling:vanityOrder",1000));
  method1.invoke(mapEntries,"/justVanityPath",false);
  iterator=resolveMapsMap.get("/target/justVanityPath").iterator();
  assertEquals("/justVanityPath$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath2$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath.html",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath2.html",iterator.next().getRedirect()[0]);
  assertFalse(iterator.hasNext());
  when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:vanityPath","/target/justVanityPath"));
  method1.invoke(mapEntries,"/justVanityPath",true);
  iterator=resolveMapsMap.get("/target/justVanityPath").iterator();
  assertEquals("/justVanityPath2$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath$1",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath2.html",iterator.next().getRedirect()[0]);
  assertEquals("/justVanityPath.html",iterator.next().getRedirect()[0]);
  assertFalse(iterator.hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias2() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doAddAlias2() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent");
  when(result.getName()).thenReturn("parent");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource secondResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent2")).thenReturn(secondResult);
  when(secondResult.getParent()).thenReturn(parent);
  when(secondResult.getPath()).thenReturn("/parent2");
  when(secondResult.getName()).thenReturn("parent2");
  when(secondResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent2");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("parent",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  method.invoke(mapEntries,"/parent/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("parent",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
  method.invoke(mapEntries,"/parent/child");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("alias"));
  assertEquals("child",aliasMapEntry.get("alias"));
  assertEquals(1,aliasMap.size());
  when(resourceResolver.getResource("/parent/child")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},true,false);
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
  assertEquals(0,aliasMap.size());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void test_doRemoveAlias3() throws Exception {
  Method method=MapEntries.class.getDeclaredMethod("doAddAlias",String.class);
  method.setAccessible(true);
  Method method1=MapEntries.class.getDeclaredMethod("doRemoveAttributes",String.class,String[].class,boolean.class,boolean.class);
  method1.setAccessible(true);
  Field field0=MapEntries.class.getDeclaredField("aliasMap");
  field0.setAccessible(true);
  Map<String,Map<String,String>> aliasMap=(Map<String,Map<String,String>>)field0.get(mapEntries);
  assertEquals(0,aliasMap.size());
  Resource parent=mock(Resource.class);
  when(parent.getPath()).thenReturn("/parent");
  final Resource result=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child")).thenReturn(result);
  when(result.getParent()).thenReturn(parent);
  when(result.getPath()).thenReturn("/parent/child");
  when(result.getName()).thenReturn("child");
  when(result.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","alias"));
  method.invoke(mapEntries,"/parent/child");
  final Resource jcrContentResult=mock(Resource.class);
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(jcrContentResult.getParent()).thenReturn(result);
  when(jcrContentResult.getPath()).thenReturn("/parent/child/jcr:content");
  when(jcrContentResult.getName()).thenReturn("jcr:content");
  when(jcrContentResult.adaptTo(ValueMap.class)).thenReturn(buildValueMap("sling:alias","aliasJcrContent"));
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  Map<String,String> aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},false,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},false,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  method.invoke(mapEntries,"/parent/child");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(null);
  when(result.getChild("jcr:content")).thenReturn(null);
  method1.invoke(mapEntries,"/parent/child/jcr:content",new String[]{"sling:alias"},true,false);
  assertEquals(1,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertEquals(1,aliasMapEntry.size());
  when(resourceResolver.getResource("/parent/child/jcr:content")).thenReturn(jcrContentResult);
  when(result.getChild("jcr:content")).thenReturn(jcrContentResult);
  method.invoke(mapEntries,"/parent/child/jcr:content");
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNotNull(aliasMapEntry);
  assertTrue(aliasMapEntry.containsKey("aliasJcrContent"));
  assertEquals("child",aliasMapEntry.get("aliasJcrContent"));
  assertEquals(2,aliasMapEntry.size());
  method1.invoke(mapEntries,"/parent/child",new String[]{"sling:alias"},true,false);
  assertEquals(0,aliasMap.size());
  aliasMapEntry=mapEntries.getAliasMap("/parent");
  assertNull(aliasMapEntry);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.mapping.MapEntryTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_compareTo(){
  final MapEntry a=new MapEntry("/foo",200,false,5,new String[0]);
  final MapEntry b=new MapEntry("/bar",200,false,5,new String[0]);
  assertTrue(a.compareTo(b) > 0);
  assertTrue(b.compareTo(a) < 0);
  assertTrue(a.compareTo(a) == 0);
  assertTrue(b.compareTo(b) == 0);
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void test_isRegExp(){
  TestCase.assertFalse(isRegExp("http/www.example.com.8080/bla"));
  TestCase.assertTrue(isRegExp("http/.+\\.www.example.com.8080/bla"));
  TestCase.assertTrue(isRegExp("http/(.+)\\.www.example.com.8080/bla"));
  TestCase.assertTrue(isRegExp("http/(.+)\\.www.example.com.8080/bla"));
  TestCase.assertTrue(isRegExp("http/[^.]+.www.example.com.8080/bla"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.resourceresolver.impl.params.PathParserTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void nullParsesToNull(){
  parser.parse(null);
  assertNull(parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void noParametersReturnEmptyMap(){
  parser.parse("/path/with/no/parameters");
  assertEquals("/path/with/no/parameters",parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void emptyParsesToEmpty(){
  parser.parse("");
  assertEquals("",parser.getPath());
  assertTrue(parser.getParameters().isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.samples.urlfilter.impl.UrlFilterTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void null_selector(){
  UrlFilter filter=new UrlFilter();
  final RequestPathInfo testInfo=context.mock(RequestPathInfo.class);
  this.context.checking(new Expectations(){
{
      allowing(testInfo).getSelectorString();
      will(returnValue(null));
    }
  }
);
  assertTrue(filter.checkSelector(testInfo,null));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void non_null_selector(){
  UrlFilter filter=new UrlFilter();
  final RequestPathInfo testInfo=context.mock(RequestPathInfo.class);
  this.context.checking(new Expectations(){
{
      allowing(testInfo).getSelectorString();
      will(returnValue("sample"));
    }
  }
);
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[0]);
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"sample","sample2"});
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"other"});
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.clear();
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m.*$");
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[1-2]m$");
  assertFalse(filter.checkSelector(testInfo,properties));
  properties.clear();
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"other"});
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m.*$");
  assertTrue(filter.checkSelector(testInfo,properties));
  properties.put(UrlFilter.PN_ALLOWED_SELECTORS,(Object)new String[]{"sample"});
  properties.put(UrlFilter.PN_ALLOWED_SELECTOR_PATTERN,"^s[a-z]m$");
  assertTrue(filter.checkSelector(testInfo,properties));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.core.impl.BindingsValuesProvidersByContextIT </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAny(){
  addBVP("one",null,"js");
  addBVP("two",null,null);
  addBVP("three",null,"*");
  addBVP("four",null,"ANY");
  addBVP("five",null,"basic");
  assertEquals("four,one,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("five,four,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("basic"),null)));
  assertEquals("four,three,two",asString(bvpProvider.getBindingsValuesProviders(factory("other"),null)));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("js"),null),false);
  assertTrue("Expecting js language-specific BVP at the end",unsorted.endsWith("one"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContextsAndLanguages(){
  addBVP("foo",null,"js");
  addBVP("bar",null,null);
  addBVP("r1","request","js");
  addBVP("r2","request",null);
  addBVP("o1","other","js");
  addBVP("o2","other",null);
  addBVP("o3","other,request",null);
  addBVP("o4","python",null);
  addBVP("python","python","python");
  assertEquals("bar,foo,o3,r1,r2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"request")));
  assertEquals("With default content","bar,foo,o3,r1,r2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("o1,o2,o3",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"other")));
  assertEquals("o4,python",asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python")));
  assertEquals("",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"unusedContext")));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python"),false);
  assertTrue("Expecting python language-specific BVP at the end",unsorted.endsWith("python"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMapsAndBvps(){
  addBVP("foo",null,"js");
  addMap("bar",null,null);
  addMap("r1","request","js");
  addMap("r2","request",null);
  addMap("o1","other","js");
  addBVP("o2","other",null);
  addMap("o3","other,request",null);
  addBVP("o4","python",null);
  addMap("python","python","python");
  assertEquals("M_bar,M_o3,M_r1,M_r2,foo",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"request")));
  assertEquals("With default content","M_bar,M_o3,M_r1,M_r2,foo",asString(bvpProvider.getBindingsValuesProviders(factory("js"),null)));
  assertEquals("M_o1,M_o3,o2",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"other")));
  assertEquals("",asString(bvpProvider.getBindingsValuesProviders(factory("js"),"unusedContext")));
  assertEquals("M_python,o4",asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python")));
  final String unsorted=asString(bvpProvider.getBindingsValuesProviders(factory("python"),"python"),false);
  assertTrue("Expecting python language-specific BVP at the end",unsorted.endsWith("M_python"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestAdaptObjectTag </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the adapt object Tag functionality.
 */
@Test public void testAdaptObject(){
  log.info("testAdaptObject");
  log.info("Setting up tests");
  adaptToTag.setAdaptable(resource);
  adaptToTag.setAdaptTo(ValueMap.class.getCanonicalName());
  adaptToTag.setVar(VAR_KEY);
  adaptToTag.doEndTag();
  log.info("Checking result");
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof ValueMap);
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestFindResourceTag </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests the find resources functionalty.
 */
@Test public void testFindResources(){
  log.info("testGoodPath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setQuery("query");
  getResourceTag.setLanguage("language");
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Iterator);
  @SuppressWarnings("unchecked") Iterator<Resource> resources=(Iterator<Resource>)result;
  assertTrue(resources.hasNext());
  assertEquals(TEST_PATH,resources.next().getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestGetResourceTag </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests using an absolute path.
 */
@Test public void testAbsolutePath(){
  log.info("testAbsolutePath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setPath(TEST_ABSOLUTE_PATH);
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Resource);
  assertEquals(TEST_ABSOLUTE_PATH,((Resource)result).getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests using an relative path.
 */
@Test public void testRelativePath(){
  log.info("testRelativePath");
  getResourceTag.setVar(VAR_KEY);
  getResourceTag.setBase(resource);
  getResourceTag.setPath(TEST_RELATIVE_PATH);
  getResourceTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Resource);
  assertEquals(TEST_ABSOLUTE_PATH + "/" + TEST_RELATIVE_PATH,((Resource)result).getPath());
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestListChildrenTag </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
/** 
 * Tests to ensure the base ListChildren functionality works.
 */
@SuppressWarnings("unchecked") @Test public void testListChildren(){
  log.info("testGoodPath");
  listChildrenTag.setResource(resource);
  listChildrenTag.setVar(VAR_KEY);
  listChildrenTag.doEndTag();
  Object result=pageContext.getAttribute(VAR_KEY);
  assertNotNull(result);
  assertTrue(result instanceof Iterator);
  assertTrue(((Iterator<Resource>)result).hasNext());
  log.info("Test successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.jsp.taglib.TestSlingFunctions </h4><pre class="type-11 type-13 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFindResources() throws ClassNotFoundException {
  log.info("testFindResources");
  Iterator<Resource> resources=SlingFunctions.findResources(resolver,"query","language");
  assertNotNull(resources);
  assertTrue(resources.hasNext());
  assertEquals(resource,resources.next());
  log.info("Tests successful!");
}

</code></pre>

<br>
<pre class="type-11 type-13 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAdaptTo() throws ClassNotFoundException {
  log.info("testAdaptTo");
  Adaptable adaptable=SlingFunctions.getResource(resolver,TEST_PATH);
  Object adapted=SlingFunctions.adaptTo(adaptable,ValueMap.class.getCanonicalName());
  assertNotNull(adapted);
  assertTrue(adapted instanceof ValueMap);
  log.info("Tests successful!");
}

</code></pre>

<br>
<pre class="type-11 type-13 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildResources(){
  log.info("testListChildResources");
  Iterator<Resource> children=SlingFunctions.listChildren(resource);
  assertNotNull(children);
  assertTrue(children.hasNext());
  log.info("Tests successful!");
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetValue(){
  log.info("testGetValue");
  Resource resource=SlingFunctions.getResource(resolver,TEST_PATH);
  ValueMap properties=resource.adaptTo(ValueMap.class);
  log.info("Testing using class coersion");
  Date retrievedDate=SlingFunctions.getValue(properties,"date",Date.class);
  assertEquals(date,retrievedDate);
  assertTrue(retrievedDate instanceof Date);
  log.info("Testing with default value on existing key");
  Long retrievedLong=SlingFunctions.getValue(properties,"long",new Long(-123L));
  assertEquals(new Long(0L),retrievedLong);
  assertTrue(retrievedLong instanceof Long);
  log.info("Testing with no value and class coersion");
  Date fakeDate=SlingFunctions.getValue(properties,"date1",Date.class);
  assertTrue(fakeDate == null);
  log.info("Testing with no value and default specified");
  Long fakeLong=SlingFunctions.getValue(properties,"long1",new Long(-123L));
  assertEquals(new Long(-123L),fakeLong);
  assertTrue(fakeLong instanceof Long);
  log.info("Tests successful!");
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.impl.utils.RenderUtilsTest </h4><pre class="type-11 type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
"></span><br>
@Test public void testGetCollectionWithOneElement(){
  String stringObject="test";
  Integer numberObject=1;
  Collection stringCollection=RenderUtils.toCollection(stringObject);
  assertTrue(stringCollection.size() == 1 && stringCollection.contains(stringObject));
  Collection numberCollection=RenderUtils.toCollection(numberObject);
  assertTrue(numberCollection.size() == 1 && numberCollection.contains(numberObject));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.scripting.sightly.it.SlingSpecificsSightlyIT </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testAttributeQuotes(){
  String url=launchpadURL + SLING_ATTRIBUTE_QUOTES;
  String pageContent=client.getStringContent(url,200);
  assertTrue(pageContent.contains("<span data-resource='{\"resource\" : \"/sightly/attributequotes\"}'>/sightly/attributequotes</span>"));
  assertTrue(pageContent.contains("<span data-resource=\"/sightly/attributequotes\">/sightly/attributequotes</span>"));
  assertTrue(pageContent.contains("<span data-resource=\"/sightly/attributequotes\">/sightly/attributequotes</span>"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testErroneousUseObject(){
  String url=launchpadURL + SLING_JAVA_USE_NPE;
  String pageContent=client.getStringContent(url,500);
  assertTrue(pageContent.contains("java.lang.NullPointerException"));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testBadTemplateIdentifier(){
  String url=launchpadURL + SLING_TEMPLATE_BAD_IDENTIFIER;
  String pageContent=client.getStringContent(url,500);
  assertTrue(pageContent.contains("org.apache.sling.scripting.sightly.impl.compiler.SightlyParsingException"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.security.impl.ContentDispositionFilterTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData1() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=null;
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData2() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(true));
    }
  }
);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData3() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData4() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(childPropoerties));
      allowing(childPropoerties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData5() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(childPropoerties));
      allowing(childPropoerties).containsKey(PROP_JCR_DATA);
      will(returnValue(true));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertTrue(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData6() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource resource=context.mock(Resource.class);
  final ValueMap properties=context.mock(ValueMap.class);
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(null));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void test_isJcrData7() throws Throwable {
  contentDispositionFilter=new ContentDispositionFilter();
  final SlingHttpServletRequest request=context.mock(SlingHttpServletRequest.class);
  final SlingHttpServletResponse response=context.mock(SlingHttpServletResponse.class);
  final Resource child=context.mock(Resource.class,"child");
  final Resource resource=context.mock(Resource.class,"resource");
  final ValueMap properties=context.mock(ValueMap.class);
  final ValueMap childPropoerties=context.mock(ValueMap.class,"childPropoerties");
  context.checking(new Expectations(){
{
      allowing(request).getResource();
      will(returnValue(resource));
      allowing(resource).adaptTo(ValueMap.class);
      will(returnValue(properties));
      allowing(properties).containsKey(PROP_JCR_DATA);
      will(returnValue(false));
      allowing(resource).getChild(JCR_CONTENT_LEAF);
      will(returnValue(child));
      allowing(child).adaptTo(ValueMap.class);
      will(returnValue(null));
    }
  }
);
  final ContentDispositionFilter.RewriterResponse rewriterResponse=contentDispositionFilter.new RewriterResponse(request,response);
  Boolean result=(Boolean)PrivateAccessor.invoke(rewriterResponse,"isJcrData",new Class[]{Resource.class},new Object[]{resource});
  Assert.assertFalse(result);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.serviceusermapping.impl.ServiceUserMappedBundleFilterTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testFind(){
  List collection=new ArrayList<ServiceReference>();
  ServiceReference serviceReference1=mock(ServiceReference.class);
  ServiceReference serviceReference2=mock(ServiceReference.class);
  collection.add(serviceReference1);
  collection.add(serviceReference2);
  when(serviceReference1.getProperty(Mapping.SERVICENAME)).thenReturn(BUNDLE1);
  when(serviceReference1.getProperty(Constants.OBJECTCLASS)).thenReturn(new String[]{ServiceUserMappedImpl.SERVICEUSERMAPPED});
  when(serviceReference2.getProperty(Mapping.SERVICENAME)).thenReturn(BUNDLE2);
  when(serviceReference2.getProperty(Constants.OBJECTCLASS)).thenReturn(new String[]{ServiceUserMappedImpl.SERVICEUSERMAPPED});
  FindHook findHook=new ServiceUserMappedBundleFilter();
  findHook.find(bundleContext1,null,null,false,collection);
  TestCase.assertEquals(1,collection.size());
  TestCase.assertTrue(collection.contains(serviceReference1));
}

</code></pre>

<br>
<pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEvent(){
  Map<BundleContext,Collection<ListenerHook.ListenerInfo>> map=new HashMap<BundleContext,Collection<ListenerHook.ListenerInfo>>();
  map.put(bundleContext1,new ArrayList<ListenerHook.ListenerInfo>());
  map.put(bundleContext2,new ArrayList<ListenerHook.ListenerInfo>());
  ServiceEvent serviceEvent=mock(ServiceEvent.class);
  ServiceReference serviceReference=mock(ServiceReference.class);
  when(serviceEvent.getServiceReference()).thenReturn(serviceReference);
  when(serviceReference.getProperty(Constants.OBJECTCLASS)).thenReturn(new String[]{ServiceUserMappedImpl.SERVICEUSERMAPPED});
  when(serviceReference.getProperty(Mapping.SERVICENAME)).thenReturn(BUNDLE1);
  EventListenerHook eventListenerHook=new ServiceUserMappedBundleFilter();
  eventListenerHook.event(serviceEvent,map);
  TestCase.assertEquals(1,map.size());
  TestCase.assertTrue(map.containsKey(bundleContext1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockHttpSessionTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testInvalidate(){
  httpSession.invalidate();
  assertTrue(httpSession.isInvalidated());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributes(){
  httpSession.setAttribute("attr1","value1");
  assertTrue(httpSession.getAttributeNames().hasMoreElements());
  assertEquals("value1",httpSession.getAttribute("attr1"));
  httpSession.removeAttribute("attr1");
  assertFalse(httpSession.getAttributeNames().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMaxInactiveInterval(){
  assertTrue(httpSession.getMaxInactiveInterval() > 0);
  httpSession.setMaxInactiveInterval(123);
  assertEquals(123,httpSession.getMaxInactiveInterval());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsNew(){
  assertTrue(httpSession.isNew());
  httpSession.setNew(false);
  assertFalse(httpSession.isNew());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletRequestTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testQueryString() throws UnsupportedEncodingException {
  assertNull(request.getQueryString());
  assertEquals(0,request.getParameterMap().size());
  assertFalse(request.getParameterNames().hasMoreElements());
  request.setQueryString("param1=123&param2=" + URLEncoder.encode("äöüß€!:!",CharEncoding.UTF_8) + "&param3=a&param3=b");
  assertNotNull(request.getQueryString());
  assertEquals(3,request.getParameterMap().size());
  assertTrue(request.getParameterNames().hasMoreElements());
  assertEquals("123",request.getParameter("param1"));
  assertEquals("äöüß€!:!",request.getParameter("param2"));
  assertArrayEquals(new String[]{"a","b"},request.getParameterValues("param3"));
  Map<String,Object> paramMap=new LinkedHashMap<String,Object>();
  paramMap.put("p1","a");
  paramMap.put("p2",new String[]{"b","c"});
  paramMap.put("p3",null);
  paramMap.put("p4",new String[]{null});
  paramMap.put("p5",22);
  request.setParameterMap(paramMap);
  assertEquals("p1=a&p2=b&p2=c&p4=&p5=22",request.getQueryString());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultResourceBundle(){
  ResourceBundle bundle=request.getResourceBundle(Locale.US);
  assertNotNull(bundle);
  assertFalse(bundle.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSchemeSecure(){
  assertEquals("http",request.getScheme());
  assertFalse(request.isSecure());
  request.setScheme("https");
  assertEquals("https",request.getScheme());
  assertTrue(request.isSecure());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeaders(){
  assertFalse(request.getHeaderNames().hasMoreElements());
  Calendar calendar=Calendar.getInstance();
  calendar.set(Calendar.MILLISECOND,0);
  long dateValue=calendar.getTimeInMillis();
  request.addHeader("header1","value1");
  request.addIntHeader("header2",5);
  request.addDateHeader("header3",dateValue);
  assertEquals("value1",request.getHeader("header1"));
  assertEquals(5,request.getIntHeader("header2"));
  assertEquals(dateValue,request.getDateHeader("header3"));
  request.setHeader("header1","value2");
  request.addIntHeader("header2",10);
  Enumeration<String> header1Values=request.getHeaders("header1");
  assertEquals("value2",header1Values.nextElement());
  assertFalse(header1Values.hasMoreElements());
  Enumeration<String> header2Values=request.getHeaders("header2");
  assertEquals("5",header2Values.nextElement());
  assertEquals("10",header2Values.nextElement());
  assertFalse(header2Values.hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testAttributes(){
  request.setAttribute("attr1","value1");
  assertTrue(request.getAttributeNames().hasMoreElements());
  assertEquals("value1",request.getAttribute("attr1"));
  request.removeAttribute("attr1");
  assertFalse(request.getAttributeNames().hasMoreElements());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlethelpers.MockSlingHttpServletResponseTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testHeaders() throws Exception {
  assertEquals(0,response.getHeaderNames().size());
  response.addHeader("header1","value1");
  response.addIntHeader("header2",5);
  response.addDateHeader("header3",System.currentTimeMillis());
  assertEquals(3,response.getHeaderNames().size());
  assertTrue(response.containsHeader("header1"));
  assertEquals("value1",response.getHeader("header1"));
  assertEquals("5",response.getHeader("header2"));
  assertNotNull(response.getHeader("header3"));
  response.setHeader("header1","value2");
  response.addIntHeader("header2",10);
  assertEquals(3,response.getHeaderNames().size());
  Collection<String> header1Values=response.getHeaders("header1");
  assertEquals(1,header1Values.size());
  assertEquals("value2",header1Values.iterator().next());
  Collection<String> header2Values=response.getHeaders("header2");
  assertEquals(2,header2Values.size());
  Iterator<String> header2Iterator=header2Values.iterator();
  assertEquals("5",header2Iterator.next());
  assertEquals("10",header2Iterator.next());
  response.reset();
  assertEquals(0,response.getHeaderNames().size());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsCommitted() throws Exception {
  assertFalse(response.isCommitted());
  response.flushBuffer();
  assertTrue(response.isCommitted());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.get.impl.helpers.JsonRendererServletTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursionLevelF(){
  selectors=new String[]{"tidy","45"};
  assertEquals(45,jrs.getMaxRecursionLevel(request));
  assertTrue(jrs.isTidy(request));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRecursionLevelA(){
  selectors=new String[]{"12"};
  assertEquals(12,jrs.getMaxRecursionLevel(request));
  assertFalse(jrs.isTidy(request));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.post.impl.RequestPropertyTest </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValue() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true"));
  assertEquals(1,props.size());
  assertTrue(props.get("/test/path/param").hasValues());
  assertTrue(props.get("/test/path/param").providesValue());
  assertEquals(1,props.get("/test/path/param").getStringValues().length);
  assertEquals("true",props.get("/test/path/param").getStringValues()[0]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlankIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(3,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
  assertEquals("",prop.getStringValues()[2]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithDefaultToIgnore() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""),p("./param@DefaultValue",":ignore"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(0,prop.getStringValues().length);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlanksIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","",""),p("./param@IgnoreBlanks","true"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(1,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithDefaultToNull() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""),p("./param@DefaultValue",":null"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertNull(prop.getStringValues());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithBlank() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""),p("./param@IgnoreBlanks","true"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertFalse(prop.hasValues());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNullSingleValueWithDefaultToIgnore() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param@DefaultValue",":ignore"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertFalse(prop.hasValues());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValue() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","true","false"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertTrue(prop.providesValue());
  assertEquals(2,prop.getStringValues().length);
  assertEquals("true",prop.getStringValues()[0]);
  assertEquals("false",prop.getStringValues()[1]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithAllBlanksIgnoringBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","","",""),p("./param@IgnoreBlanks","true"));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertFalse(prop.hasValues());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSingleValueWithBlank() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(1,prop.getStringValues().length);
  assertEquals("",prop.getStringValues()[0]);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMultiValueWithAllBlanks() throws Throwable {
  Map<String,RequestProperty> props=collectContent(p("./param","","",""));
  assertEquals(1,props.size());
  RequestProperty prop=props.get("/test/path/param");
  assertTrue(prop.hasValues());
  assertFalse(prop.providesValue());
  assertEquals(3,prop.getStringValues().length);
  assertEquals("",prop.getStringValues()[0]);
  assertEquals("",prop.getStringValues()[1]);
  assertEquals("",prop.getStringValues()[2]);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.servlets.resolver.internal.SlingServletResolverTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIgnoreRequest(){
  MockSlingHttpServletRequest insecureRequest=new MockSlingHttpServletRequest(SERVLET_PATH,null,SERVLET_EXTENSION,null,null);
  insecureRequest.setResourceResolver(mockResourceResolver);
  insecureRequest.setSecure(false);
  Servlet result=servletResolver.resolveServlet(insecureRequest);
  assertTrue("Did not ignore unwanted request",result.getClass() != MockSlingRequestHandlerServlet.class);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingManagerImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testFindAllSuperimposings() throws InterruptedException, LoginException, RepositoryException {
  when(componentContextProperties.get(SuperimposingManagerImpl.FINDALLQUERIES_PROPERTY)).thenReturn("syntax|query");
  when(resourceResolver.findResources("query","syntax")).then(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation){
      return Arrays.asList(new Resource[]{prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false)}).iterator();
    }
  }
);
  initialize(true);
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSuperimposedResourceCreateMove() throws InterruptedException, LoginException, RepositoryException {
  when(componentContextProperties.get(SuperimposingManagerImpl.FINDALLQUERIES_PROPERTY)).thenReturn("syntax|query");
  initialize(true);
  final Resource superimposedResource=prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false);
  underTest.onEvent(prepareNodeCreateEvent(superimposedResource));
  String oldPath=superimposedResource.getPath();
  moveSuperimposedResource(superimposedResource,"/new/path");
  when(resourceResolver.findResources("query","syntax")).then(new Answer<Iterator<Resource>>(){
    public Iterator<Resource> answer(    InvocationOnMock invocation){
      return Arrays.asList(new Resource[]{superimposedResource}).iterator();
    }
  }
);
  underTest.onEvent(prepareNodeMoveEvent(superimposedResource,oldPath));
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals("/new/path",provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testSuperimposedResourceCreateUpdateRemove() throws InterruptedException, LoginException, RepositoryException {
  initialize(true);
  Resource superimposedResource=prepareSuperimposingResource(SUPERIMPOSED_PATH,ORIGINAL_PATH,false,false);
  underTest.onEvent(prepareNodeCreateEvent(superimposedResource));
  List<SuperimposingResourceProvider> providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider.getRootPath());
  assertEquals(ORIGINAL_PATH,provider.getSourcePath());
  assertFalse(provider.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider),any(Dictionary.class));
  superimposedResource.adaptTo(ValueMap.class).put(PROP_SUPERIMPOSE_SOURCE_PATH,"/other/path");
  underTest.onEvent(prepareNodeChangeEvent(superimposedResource));
  providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(1,providers.size());
  SuperimposingResourceProvider provider2=providers.iterator().next();
  assertEquals(SUPERIMPOSED_PATH,provider2.getRootPath());
  assertEquals("/other/path",provider2.getSourcePath());
  assertFalse(provider2.isOverlayable());
  verify(bundleContext).registerService(anyString(),same(provider2),any(Dictionary.class));
  underTest.onEvent(prepareNodeRemoveEvent(superimposedResource));
  providers=IteratorUtils.toList(underTest.getRegisteredProviders());
  assertEquals(0,providers.size());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceIteratorTest </h4><pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testWith2Elements(){
  when(this.originalResourceIterator.hasNext()).thenReturn(true,true,false);
  when(this.originalResourceIterator.next()).thenReturn(this.originalResource1,this.originalResource2,null);
  Iterator<Resource> underTest=new SuperimposingResourceIterator(this.superimposingResourceProvider,this.originalResourceIterator);
  assertTrue(underTest.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/node1",underTest.next().getPath());
  assertTrue(underTest.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/node2",underTest.next().getPath());
  assertFalse(underTest.hasNext());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testEmpty(){
  when(this.originalResourceIterator.hasNext()).thenReturn(false);
  Iterator<Resource> underTest=new SuperimposingResourceIterator(this.superimposingResourceProvider,this.originalResourceIterator);
  assertFalse(underTest.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.superimposing.impl.SuperimposingResourceProviderImplTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedRootResource(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testEquals(){
  assertTrue(underTest.equals(underTest));
  assertFalse(underTest.equals(underTestOverlay));
  assertTrue(underTestOverlay.equals(underTestOverlay));
  assertFalse(underTest.equals(underTestOverlay));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetterOverlay(){
  assertEquals(SUPERIMPOSED_PATH,underTestOverlay.getRootPath());
  assertEquals(ORIGINAL_PATH,underTestOverlay.getSourcePath());
  assertTrue(underTestOverlay.isOverlayable());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedSubResourceWithOverlay() throws RepositoryException {
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(session.itemExists(SUPERIMPOSED_PATH + "/sub1")).thenReturn(true);
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertNull(resource);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetter(){
  assertEquals(SUPERIMPOSED_PATH,underTest.getRootPath());
  assertEquals(ORIGINAL_PATH,underTest.getSourcePath());
  assertFalse(underTest.isOverlayable());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedSubResource(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH + "/sub1");
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH + "/sub1",resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildren(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  Iterator<Resource> iterator=underTest.listChildren(resource);
  assertTrue(iterator.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/sub1",iterator.next().getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetMappedRootResourceWithOverlay() throws RepositoryException {
  when(resourceResolver.adaptTo(Session.class)).thenReturn(session);
  when(session.itemExists(SUPERIMPOSED_PATH)).thenReturn(true);
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
  resource=underTestOverlay.getResource(resourceResolver,SUPERIMPOSED_PATH);
  assertTrue(resource instanceof SuperimposingResource);
  assertEquals(SUPERIMPOSED_PATH,resource.getPath());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListChildrenWithResourceWrapper(){
  Resource resource=underTest.getResource(resourceResolver,SUPERIMPOSED_PATH);
  Iterator<Resource> iterator=underTest.listChildren(new ResourceWrapper(resource));
  assertTrue(iterator.hasNext());
  assertEquals(SUPERIMPOSED_PATH + "/sub1",iterator.next().getPath());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tenant.internal.TenantImplTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_property(){
  @SuppressWarnings("serial") Resource r=new MockResource(pt1,new HashMap<String,Object>(){
{
      put(p1,p1);
    }
  }
);
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertNull(tenant1.getName());
  TestCase.assertNull(tenant1.getDescription());
  Iterator<String> pi=tenant1.getPropertyNames();
  TestCase.assertTrue(propNamesTest.contains(pi.next()));
  TestCase.assertFalse(pi.hasNext());
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertEquals(p1,tenant1.getProperty(p1));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_name_description(){
  @SuppressWarnings("serial") Resource r=new MockResource(pt1,new HashMap<String,Object>(){
{
      put(Tenant.PROP_NAME,n1);
      put(Tenant.PROP_DESCRIPTION,d1);
    }
  }
);
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertEquals(n1,tenant1.getName());
  TestCase.assertEquals(d1,tenant1.getDescription());
  Iterator<String> pi=tenant1.getPropertyNames();
  TestCase.assertTrue(propNamesDefault.contains(pi.next()));
  TestCase.assertTrue(propNamesDefault.contains(pi.next()));
  TestCase.assertFalse(pi.hasNext());
  TestCase.assertEquals(n1,tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertEquals(d1,tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertNull(tenant1.getProperty(p1));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void test_id(){
  Resource r=new MockResource(pt1,new HashMap<String,Object>());
  Tenant tenant1=new TenantImpl(r);
  TestCase.assertEquals(t1,tenant1.getId());
  TestCase.assertNull(tenant1.getName());
  TestCase.assertNull(tenant1.getDescription());
  TestCase.assertFalse(tenant1.getPropertyNames().hasNext());
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_NAME));
  TestCase.assertNull(tenant1.getProperty(Tenant.PROP_DESCRIPTION));
  TestCase.assertNull(tenant1.getProperty(p1));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tenant.internal.TenantProviderImplTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testListTenantsWithoutTenantRoot() throws Exception {
  TenantProviderImpl provider=new TenantProviderImpl();
  final ResourceResolverFactory rrf=Mockito.mock(ResourceResolverFactory.class);
  final BundleContext context=Mockito.mock(BundleContext.class);
  final ResourceResolver rr=Mockito.mock(ResourceResolver.class);
  Mockito.when(rrf.getAdministrativeResourceResolver(Mockito.anyMapOf(String.class,Object.class))).thenReturn(rr);
  set(provider,"factory",rrf);
  provider.activate(context,new HashMap<String,Object>());
  Iterator<Tenant> tenants=provider.getTenants();
  TestCase.assertNotNull(tenants);
  TestCase.assertFalse(tenants.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.AbstractItemTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testModifiedNew(){
  assertFalse(this.node1.isModified());
  assertFalse(this.node1.isNew());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockNodeTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testIsNode(){
  assertTrue(this.node1.isNode());
  assertFalse(this.prop1.isNode());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHasNode() throws RepositoryException {
  assertTrue(this.node1.hasNode("node11"));
  assertFalse(this.node1.hasNode("node25"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetNodes() throws RepositoryException {
  final Node node111=this.node11.addNode("node111");
  NodeIterator nodes=this.node1.getNodes();
  assertEquals(1,nodes.getSize());
  assertEquals(this.node11,nodes.nextNode());
  assertTrue(this.node1.hasNodes());
  assertTrue(this.node11.hasNodes());
  assertFalse(node111.hasNodes());
  nodes=this.node1.getNodes("^node.*$");
  assertEquals(1,nodes.getSize());
  assertEquals(this.node11,nodes.nextNode());
  nodes=this.node1.getNodes("unknown?");
  assertEquals(0,nodes.getSize());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testGetProperties() throws RepositoryException {
  PropertyIterator properties=this.node1.getProperties();
  Map<String,Property> props=propertiesToMap(properties);
  assertEquals(2,properties.getSize());
  assertEquals(this.prop1,props.get("prop1"));
  assertTrue(this.node1.hasProperties());
  assertTrue(this.node11.hasProperties());
  properties=this.node1.getProperties("^prop.*$");
  assertEquals(1,properties.getSize());
  assertEquals(this.prop1,properties.next());
  properties=this.node1.getProperties("unknown?");
  assertEquals(0,properties.getSize());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testHasProperty() throws RepositoryException {
  assertTrue(this.node1.hasProperty("prop1"));
  assertFalse(this.node1.hasProperty("prop25"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockPropertyTest </h4><pre class="type-15 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueArray() throws RepositoryException {
  Value[] value1=new Value[]{this.session.getValueFactory().createValue("aaa"),this.session.getValueFactory().createValue("bbb")};
  this.node1.setProperty("prop1",value1);
  Property prop1=this.node1.getProperty("prop1");
  Value[] values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value1[i].getString(),values[i].getString());
  }
  Value[] value2=new Value[]{this.session.getValueFactory().createValue("cc")};
  prop1.setValue(value2);
  values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value2[i].getString(),values[i].getString());
  }
  assertTrue(prop1.isMultiple());
  assertTrue(prop1.getDefinition().isMultiple());
  assertArrayEquals(new long[]{2},prop1.getLengths());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-5 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies that exceptions are thrown during the test case execution">ExceptionVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies that exceptions are thrown during the test case execution
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test(expected=ValueFormatException.class) public void testSingleValueAsValueArray() throws RepositoryException {
  this.node1.setProperty("prop1",this.session.getValueFactory().createValue("value1"));
  Property prop1=this.node1.getProperty("prop1");
  assertFalse(prop1.isMultiple());
  assertEquals("value1",prop1.getValues()[0].getString());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValue() throws RepositoryException {
  this.node1.setProperty("prop1",this.session.getValueFactory().createValue("value1"));
  Property prop1=this.node1.getProperty("prop1");
  assertEquals("value1",prop1.getString());
  assertEquals("value1",prop1.getValue().getString());
  prop1.setValue(this.session.getValueFactory().createValue("value2"));
  assertEquals("value2",prop1.getString());
  assertEquals("value2",prop1.getValue().getString());
  assertFalse(prop1.isMultiple());
  assertFalse(prop1.getDefinition().isMultiple());
  assertEquals(6,prop1.getLength());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptyArrayGetType() throws RepositoryException {
  this.node1.setProperty("prop1",new Value[]{});
  Property prop1=this.node1.getProperty("prop1");
  assertTrue(prop1.isMultiple());
  assertEquals(PropertyType.UNDEFINED,prop1.getType());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testString() throws RepositoryException {
  this.node1.setProperty("prop1","value1");
  Property prop1=this.node1.getProperty("prop1");
  assertEquals("value1",prop1.getString());
  assertEquals("value1",prop1.getValue().getString());
  prop1.setValue("value2");
  assertEquals("value2",prop1.getString());
  assertEquals("value2",prop1.getValue().getString());
  assertFalse(prop1.isMultiple());
  assertFalse(prop1.getDefinition().isMultiple());
  assertEquals(6,prop1.getLength());
}

</code></pre>

<br>
<pre class="type-15 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions in iterations">IterativeVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies assertions in iterations
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testStringArray() throws RepositoryException {
  String[] value1=new String[]{"aaa","bbb"};
  this.node1.setProperty("prop1",value1);
  Property prop1=this.node1.getProperty("prop1");
  Value[] values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value1[i],values[i].getString());
  }
  String[] value2=new String[]{"cc"};
  prop1.setValue(value2);
  values=prop1.getValues();
  for (int i=0; i < values.length; i++) {
    assertEquals("value #" + i,value2[i],values[i].getString());
  }
  assertTrue(prop1.isMultiple());
  assertTrue(prop1.getDefinition().isMultiple());
  assertArrayEquals(new long[]{2},prop1.getLengths());
}

</code></pre>

<br>
<pre class="type-13 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRemove() throws RepositoryException {
  this.node1.setProperty("prop1","value1");
  Property prop1=this.node1.getProperty("prop1");
  assertEquals("value1",prop1.getString());
  prop1.remove();
  assertFalse(this.node1.hasProperty("prop1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockQueryManagerTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_ResultHandler() throws RepositoryException {
  MockJcr.addQueryResultHandler(queryManager,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query1")) {
        return new MockQueryResult(sampleNodes);
      }
      return null;
    }
  }
);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_SpecificQuery() throws RepositoryException {
  MockJcr.setQueryResult(queryManager,"query1",Query.JCR_SQL2,sampleNodes);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNoQueryResults() throws RepositoryException {
  Query query=queryManager.createQuery("dummy",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testQueryResults_MultipleResultHandlers() throws RepositoryException {
  final List<Node> sampleNodes2=ImmutableList.of(sampleNodes.get(0));
  MockJcr.addQueryResultHandler(session,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query2")) {
        return new MockQueryResult(sampleNodes2);
      }
      return null;
    }
  }
);
  MockJcr.addQueryResultHandler(session,new MockQueryResultHandler(){
    @Override public MockQueryResult executeQuery(    MockQuery query){
      if (StringUtils.equals(query.getStatement(),"query1")) {
        return new MockQueryResult(sampleNodes);
      }
      return null;
    }
  }
);
  Query query=queryManager.createQuery("query1",Query.JCR_SQL2);
  QueryResult result=query.execute();
  assertEquals(sampleNodes,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query2",Query.JCR_SQL2);
  result=query.execute();
  assertEquals(sampleNodes2,ImmutableList.copyOf(result.getNodes()));
  query=queryManager.createQuery("query3",Query.JCR_SQL2);
  result=query.execute();
  assertFalse(result.getNodes().hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockRepositoryTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDescriptor(){
  assertEquals(0,repository.getDescriptorKeys().length);
  assertNull(repository.getDescriptor("test"));
  assertNull(repository.getDescriptorValue("test"));
  assertNull(repository.getDescriptorValues("test"));
  assertFalse(repository.isStandardDescriptor("test"));
  assertFalse(repository.isSingleValueDescriptor("test"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.jcr.MockSessionTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNewState() throws RepositoryException {
  Node node=this.session.getRootNode().addNode("foo");
  Property property=node.setProperty("testProp","value123");
  assertTrue(node.isNew());
  assertTrue(property.isNew());
  this.session.save();
  assertFalse(node.isNew());
  assertFalse(property.isNew());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testNodeRemove() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  Node node1=rootNode.addNode("node1");
  assertTrue(this.session.itemExists("/node1"));
  node1.remove();
  assertFalse(this.session.itemExists("/node1"));
  assertFalse(rootNode.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testLogout() throws Exception {
  assertTrue(session.isLive());
  session.logout();
  assertFalse(session.isLive());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testEmptySession() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  assertNotNull(rootNode);
  assertFalse(rootNode.getProperties().hasNext());
  assertFalse(rootNode.getNodes().hasNext());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodesWithSpecialNames() throws RepositoryException {
  Node rootNode=this.session.getRootNode();
  Node node1=rootNode.addNode("node1.ext");
  Node node11=node1.addNode("Node Name With Spaces");
  node11.setProperty("prop11","value11");
  Node node12=node1.addNode("node12_ext");
  node12.setProperty("prop12","value12");
  assertTrue(this.session.itemExists("/node1.ext"));
  assertTrue(this.session.itemExists("/node1.ext/Node Name With Spaces"));
  assertTrue(this.session.itemExists("/node1.ext/node12_ext"));
  assertEquals("value11",node11.getProperty("prop11").getString());
  assertEquals("value12",node12.getProperty("prop12").getString());
  NodeIterator nodes=node1.getNodes();
  assertEquals(2,nodes.getSize());
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testItemsExists() throws RepositoryException {
  assertFalse(this.session.nodeExists("/node1"));
  assertFalse(this.session.itemExists("/node2"));
  assertFalse(this.session.propertyExists("/node1/prop1"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSaveRefresh() throws RepositoryException {
  assertFalse(this.session.hasPendingChanges());
  this.session.save();
  this.session.refresh(true);
  this.session.refresh(false);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNodePropertyCreateRead() throws RepositoryException {
  Node rootNode=this.session.getNode("/");
  assertEquals(rootNode,this.session.getRootNode());
  Node node1=rootNode.addNode("node1");
  node1.setProperty("prop1a","value1a");
  node1.setProperty("prop1b","value1b");
  Node node2=rootNode.addNode("node2");
  node2.setProperty("prop2","value2");
  assertEquals(node1,rootNode.getNode("node1"));
  assertEquals(node1,this.session.getNode("/node1"));
  assertEquals(node1,this.session.getItem("/node1"));
  assertEquals(node1,this.session.getNodeByIdentifier(node1.getIdentifier()));
  assertTrue(this.session.nodeExists("/node1"));
  assertTrue(this.session.itemExists("/node1"));
  assertEquals(node2,rootNode.getNode("node2"));
  assertEquals(node2,this.session.getNode("/node2"));
  assertEquals(node2,this.session.getItem("/node2"));
  assertEquals(node2,this.session.getNodeByIdentifier(node2.getIdentifier()));
  assertTrue(this.session.nodeExists("/node2"));
  assertTrue(this.session.itemExists("/node2"));
  Property prop1a=node1.getProperty("prop1a");
  Property prop1b=node1.getProperty("prop1b");
  Property prop2=node2.getProperty("prop2");
  assertEquals(prop1a,this.session.getProperty("/node1/prop1a"));
  assertEquals(prop1a,this.session.getItem("/node1/prop1a"));
  assertTrue(this.session.propertyExists("/node1/prop1a"));
  assertTrue(this.session.itemExists("/node1/prop1a"));
  assertEquals(prop1b,this.session.getProperty("/node1/prop1b"));
  assertEquals(prop1b,this.session.getItem("/node1/prop1b"));
  assertTrue(this.session.propertyExists("/node1/prop1b"));
  assertTrue(this.session.itemExists("/node1/prop1b"));
  assertEquals(prop2,this.session.getProperty("/node2/prop2"));
  assertEquals(prop2,this.session.getItem("/node2/prop2"));
  assertTrue(this.session.propertyExists("/node2/prop2"));
  assertTrue(this.session.itemExists("/node2/prop2"));
  assertEquals("value1a",prop1a.getString());
  assertEquals("value1b",prop1b.getString());
  assertEquals("value2",prop2.getString());
  assertFalse(this.session.propertyExists("/node1"));
  assertFalse(this.session.nodeExists("/node1/prop1a"));
  assertEquals(JcrConstants.NT_UNSTRUCTURED,node1.getPrimaryNodeType().getName());
  assertTrue(node1.isNodeType(JcrConstants.NT_UNSTRUCTURED));
  assertTrue(node1.getPrimaryNodeType().isNodeType(JcrConstants.NT_UNSTRUCTURED));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testPathsAreNormalized() throws RepositoryException {
  this.session.getRootNode().addNode("foo");
  assertTrue("Requesting node /foo/ should succeed",this.session.nodeExists("/foo/"));
  assertTrue("Requesting item /foo/ should succeed",this.session.itemExists("/foo/"));
  this.session.getRootNode().addNode("bar/");
  assertTrue("Creating /bar/ should succeed",this.session.nodeExists("/bar"));
  this.session.removeItem("/foo/");
  assertFalse("Removing /foo/ should succeed",this.session.nodeExists("/foo"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleContextTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoServiceReferences() throws InvalidSyntaxException {
  ServiceReference<?>[] refs=bundleContext.getServiceReferences(String.class.getName(),null);
  assertNull(refs);
  Collection<ServiceReference<String>> refCol=bundleContext.getServiceReferences(String.class,null);
  assertNotNull(refCol);
  assertTrue(refCol.isEmpty());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testObjectClassFilterMatches() throws InvalidSyntaxException {
  Filter filter=bundleContext.createFilter("(" + Constants.OBJECTCLASS + "="+ Integer.class.getName()+ ")");
  ServiceRegistration serviceRegistration=bundleContext.registerService(Integer.class.getName(),Integer.valueOf(1),null);
  assertTrue(filter.match(serviceRegistration.getReference()));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testObjectClassFilterDoesNotMatch() throws InvalidSyntaxException {
  Filter filter=bundleContext.createFilter("(" + Constants.OBJECTCLASS + "="+ Integer.class.getName()+ ")");
  ServiceRegistration serviceRegistration=bundleContext.registerService(Long.class.getName(),Long.valueOf(1),null);
  assertFalse(filter.match(serviceRegistration.getReference()));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.MockBundleTest </h4><pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths_leadingSlash(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(1));
  assertTrue(paths.contains("bundleData/nested/"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void getEntryPaths_empty(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("/");
  List<String> paths=Collections.list(entryPaths);
  assertTrue(paths.size() >= 3);
  assertTrue(paths.contains("bundleData/"));
  assertTrue(paths.contains("OSGI-INF/"));
  assertTrue(paths.contains("META-INF/"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void getEntryPaths_slash(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("/");
  List<String> paths=Collections.list(entryPaths);
  assertTrue(paths.size() >= 3);
  assertTrue(paths.contains("bundleData/"));
  assertTrue(paths.contains("OSGI-INF/"));
  assertTrue(paths.contains("META-INF/"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths_Nested(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData/nested");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(2));
  assertTrue(paths.contains("bundleData/nested/first.txt"));
  assertTrue(paths.contains("bundleData/nested/second.txt"));
}

</code></pre>

<br>
<pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testBundleId(){
  assertTrue(bundle.getBundleId() > 0);
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void getEntryPaths(){
  Enumeration<String> entryPaths=bundle.getEntryPaths("bundleData");
  List<String> paths=Collections.list(entryPaths);
  assertThat(paths.size(),CoreMatchers.is(1));
  assertTrue(paths.contains("bundleData/nested/"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testMetadata(){
  OsgiMetadata metadata=OsgiMetadataUtil.getMetadata(ServiceWithMetadata.class);
  Set<String> serviceInterfaces=metadata.getServiceInterfaces();
  assertEquals(3,serviceInterfaces.size());
  assertTrue(serviceInterfaces.contains("org.apache.sling.models.spi.Injector"));
  assertTrue(serviceInterfaces.contains("org.apache.sling.models.spi.injectorspecific.InjectAnnotationProcessorFactory"));
  assertTrue(serviceInterfaces.contains("java.lang.Comparable"));
  Map<String,Object> props=metadata.getProperties();
  assertEquals(4,props.size());
  assertEquals(5000,props.get("service.ranking"));
  assertEquals("The Apache Software Foundation",props.get(Constants.SERVICE_VENDOR));
  assertEquals("org.apache.sling.testing.mock.osgi.OsgiMetadataUtilTest$ServiceWithMetadata",props.get(Constants.SERVICE_PID));
  assertArrayEquals(new String[]{"org.apache.sling.api.resource.Resource","org.apache.sling.api.resource.ResourceResolver"},(String[])props.get("adaptables"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiServiceUtilActivateDeactivateTest </h4><pre class="type-11 type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService6(){
  Service6 service=new Service6();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertSame(bundleContext,service.getBundleContext());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testService5(){
  Service5 service=new Service5();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService4(){
  Service4 service=new Service4();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService2(){
  Service2 service=new Service2();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getBundleContext());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService3(){
  Service3 service=new Service3();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService1(){
  Service1 service=new Service1();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-7 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService7(){
  Service7 service=new Service7();
  assertTrue(MockOsgi.activate(service,bundleContext,map));
  assertTrue(service.isActivated());
  assertSame(bundleContext,service.getComponentContext().getBundleContext());
  assertSame(bundleContext,service.getBundleContext());
  assertEquals(map,ImmutableMap.copyOf(service.getMap()));
  assertTrue(MockOsgi.deactivate(service,bundleContext,map));
  assertFalse(service.isActivated());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.osgi.OsgiServiceUtilTest </h4><pre class="type-11 type-13 type-9 type-7 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether two objects/variables are the same
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService3(){
  Service3 service3=new Service3();
  assertTrue(MockOsgi.injectServices(service3,bundleContext));
  Dictionary<String,Object> service3Config=new Hashtable<String,Object>();
  service3Config.put("prop1","value1");
  assertTrue(MockOsgi.activate(service3,bundleContext,service3Config));
  assertNotNull(service3.getComponentContext());
  assertEquals(service3Config.get("prop1"),service3.getComponentContext().getProperties().get("prop1"));
  assertSame(service1,service3.getReference1());
  List<ServiceInterface2> references2=service3.getReferences2();
  assertEquals(1,references2.size());
  assertSame(service2,references2.get(0));
  List<ServiceSuperInterface3> references3=service3.getReferences3();
  assertEquals(1,references3.size());
  assertSame(service2,references3.get(0));
  List<Map<String,Object>> reference3Configs=service3.getReference3Configs();
  assertEquals(1,reference3Configs.size());
  assertEquals(200,reference3Configs.get(0).get(Constants.SERVICE_RANKING));
  assertTrue(MockOsgi.deactivate(service3,bundleContext));
  assertNull(service3.getComponentContext());
}

</code></pre>

<br>
<pre class="type-13 type-7 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether two objects/variables are the same">IdentityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies whether two objects/variables are the same
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testService4(){
  Service4 service4=new Service4();
  assertTrue(MockOsgi.injectServices(service4,bundleContext));
  assertFalse(MockOsgi.activate(service4,bundleContext));
  assertSame(service1,service4.getReference1());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.NodeTypeDefinitionScannerTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testGetNodeTypeDefinitions() throws Exception {
  List<String> definitions=NodeTypeDefinitionScanner.get().getNodeTypeDefinitions();
  assertTrue(definitions.contains("SLING-INF/nodetypes/folder.cnd"));
  assertTrue(definitions.contains("SLING-INF/nodetypes/resource.cnd"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.builder.ContentBuilderTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResource(){
  Resource resource=context.create().resource("/content/test1/resource1");
  assertNotNull(resource);
  assertEquals("resource1",resource.getName());
  assertTrue(ResourceUtil.getValueMap(resource).isEmpty());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.context.AbstractSlingContextImplTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRunModes(){
  SlingSettingsService slingSettings=context.getService(SlingSettingsService.class);
  assertEquals(SlingContextImpl.DEFAULT_RUN_MODES,slingSettings.getRunModes());
  context.runMode("mode1","mode2");
  Set<String> newRunModes=slingSettings.getRunModes();
  assertEquals(2,newRunModes.size());
  assertTrue(newRunModes.contains("mode1"));
  assertTrue(newRunModes.contains("mode2"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.jcrmock.resource.FindResourcesTest </h4><pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test @SuppressWarnings("deprecation") public void testFindResources(){
  Resource resource=context.resourceResolver().getResource("/test");
  Assert.assertNotNull("Resource with name 'test' should be there",resource);
  Iterator<Resource> result=context.resourceResolver().findResources("/test",Query.XPATH);
  Assert.assertTrue("At least one result expected",result.hasNext());
  Assert.assertEquals("/test",result.next().getPath());
  Assert.assertFalse("At most one result expected",result.hasNext());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderBinaryTest </h4><pre class="type-16 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After public final void tearDown() throws Exception {
  assertFalse(context.resourceResolver().hasChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonDamTest </h4><pre class="type-16 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After public final void tearDown() throws Exception {
  assertFalse(context.resourceResolver().hasChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.loader.AbstractContentLoaderJsonTest </h4><pre class="type-16 type-13 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Releases resources used by the test cases">TestCleaner</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Releases resources used by the test cases
- Verifies boolean conditions
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@After public final void tearDown() throws Exception {
  assertFalse(context.resourceResolver().hasChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractJcrResourceResolverTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPendingChangesCommit() throws Exception {
  if (getResourceResolverType() == ResourceResolverType.JCR_MOCK) {
    return;
  }
  Resource testRootResource=context.resourceResolver().getResource(getTestRootNode().getPath());
  context.resourceResolver().delete(testRootResource);
  assertTrue(session.hasPendingChanges());
  context.resourceResolver().commit();
  assertFalse(session.hasPendingChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractSlingCrudResourceResolverTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testListChildren_RootNode() throws IOException {
  Resource resource1=context.resourceResolver().getResource("/");
  List<Resource> children=Lists.newArrayList(resource1.listChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,getTestRootResource().getParent()));
  children=Lists.newArrayList(resource1.getChildren());
  assertFalse(children.isEmpty());
  assertTrue(containsResource(children,getTestRootResource().getParent()));
}

</code></pre>

<br>
<pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testPendingChangesCommit() throws PersistenceException {
  if (getResourceResolverType() == ResourceResolverType.JCR_MOCK) {
    return;
  }
  context.resourceResolver().delete(getTestRootResource());
  assertTrue(context.resourceResolver().hasChanges());
  context.resourceResolver().commit();
  assertFalse(context.resourceResolver().hasChanges());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.resource.AbstractUniqueRootTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testApps() throws Exception {
  String path=context.uniqueRoot().apps();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/apps/[^/]+"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testLibs() throws Exception {
  String path=context.uniqueRoot().libs();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/libs/[^/]+"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testContent(){
  String path=context.uniqueRoot().content();
  assertNotNull(context.resourceResolver().getResource(path));
  assertTrue(path.matches("^/content/[^/]+"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.services.MockSlingSettingServiceTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testNoDefaultRunModes(){
  MockSlingSettingService underTest=new MockSlingSettingService();
  assertTrue(underTest.getRunModes().isEmpty());
  Set<String> newRunModes=ImmutableSet.<String>builder().add("mode1").add("mode2").build();
  underTest.setRunModes(newRunModes);
  assertEquals(newRunModes,underTest.getRunModes());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockHttpSessionTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testServletContext(){
  assertNotNull(httpSession.getServletContext());
  assertTrue(httpSession.getServletContext() instanceof MockServletContext);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.mock.sling.servlet.MockSlingHttpServletRequestTest </h4><pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testRequestPathInfo(){
  assertNotNull(request.getRequestPathInfo());
  assertTrue(request.getRequestPathInfo() instanceof MockRequestPathInfo);
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testDefaultResourceBundle(){
  ResourceBundle bundle=request.getResourceBundle(Locale.US);
  assertNotNull(bundle);
  assertFalse(bundle.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceBundleFromProvider(){
  ResourceBundleProvider provider=mock(ResourceBundleProvider.class);
  bundleContext.registerService(ResourceBundleProvider.class.getName(),provider,null);
  when(provider.getResourceBundle("base1",Locale.US)).thenReturn(new ListResourceBundle(){
    @Override protected Object[][] getContents(){
      return new Object[][]{{"key1","value1"}};
    }
  }
);
  ResourceBundle bundle=request.getResourceBundle("base1",Locale.US);
  assertNotNull(bundle);
  assertEquals("value1",bundle.getString("key1"));
  ResourceBundle bundle2=request.getResourceBundle("base2",Locale.US);
  assertNotNull(bundle2);
  assertFalse(bundle2.getKeys().hasMoreElements());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSession(){
  HttpSession session=request.getSession();
  assertNotNull(session);
  assertTrue(session instanceof MockHttpSession);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.RootResourceTypeTest </h4><pre class="type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testIsResourceResolver(){
  Resource root=resourceResolver.getResource("/");
  Assert.assertTrue(root.isResourceType("rep:root"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.SlingCrudResourceResolverTest </h4><pre class="type-11 type-13 type-9 type-3 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testSimpleProperties_DeepPathAccess() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath());
  assertNotNull(resource1);
  assertEquals(testRoot.getName(),resource1.getName());
  ValueMap props=ResourceUtil.getValueMap(resource1);
  assertEquals(STRING_VALUE,props.get("node1/stringProp",String.class));
  assertArrayEquals(STRING_ARRAY_VALUE,props.get("node1/stringArrayProp",String[].class));
  assertEquals((Integer)INTEGER_VALUE,props.get("node1/integerProp",Integer.class));
  assertEquals(DOUBLE_VALUE,props.get("node1/doubleProp",Double.class),0.0001);
  assertEquals(BOOLEAN_VALUE,props.get("node1/booleanProp",Boolean.class));
  assertEquals(STRING_VALUE,props.get("node1/node11/stringProp11",String.class));
  assertTrue(STRING_VALUE,props.containsKey("node1/stringProp"));
  assertFalse(STRING_VALUE,props.containsKey("node1/unknownProp"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.resourceresolver.ValueMapTest </h4><pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testModifiableValueMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap map=resource1.adaptTo(ModifiableValueMap.class);
  assertTrue(map instanceof ValueMap && map instanceof ModifiableValueMap);
  assertEquals("value1",map.get("prop1"));
  map.put("prop1","value2");
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  ValueMap map=resource1.adaptTo(ValueMap.class);
  assertTrue(map instanceof ValueMap && !(map instanceof ModifiableValueMap));
  assertEquals("value1",map.get("prop1"));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@SuppressWarnings("unchecked") @Test public void testMap() throws IOException {
  Resource resource1=resourceResolver.getResource(testRoot.getPath() + "/node1");
  Map<String,Object> map=resource1.adaptTo(Map.class);
  assertTrue(map instanceof ValueMap && !(map instanceof ModifiableValueMap));
  assertEquals("value1",map.get("prop1"));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.failingtests.JUnit4FailingTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testAssertsEveryTime(){
  assertTrue("This JUnit4 test asserts every time",false);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.samples.sampletests.ParametrizedJunit4Test </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testSequence(){
  assertTrue(buffer.length() > 0);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.testing.tools.test.ServerSetupSingletonTest </h4><pre class="type-13 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
"></span><br>
@Test public void testProperties(){
  assertTrue(serverSetup.getConfig() == props);
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.LogTracerModelTest </h4><pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void childLoggerLevelDiff() throws Exception {
  TracerSet ts=new TracerSet("foo : a.b;level=trace, a.b.c;level=info");
  TracerContext tc=getContext(ts);
  assertTrue(tc.shouldLog("a.b",Level.TRACE));
  assertTrue(tc.shouldLog("a.b.d",Level.TRACE));
  assertFalse(tc.shouldLog("a.b.c",Level.TRACE));
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.tracer.internal.LogTracerTest </h4><pre class="type-11 type-13 type-9 type-10 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void recordingWithoutTracing() throws Exception {
  activateTracerAndServlet();
  MockSlingHttpServletRequest request=new MockSlingHttpServletRequest(){
    @Override public RequestProgressTracker getRequestProgressTracker(){
      return createTracker("x","y");
    }
  }
;
  request.setHeader(TracerLogServlet.HEADER_TRACER_RECORDING,"true");
  HttpServletResponse response=mock(HttpServletResponse.class);
  FilterChain chain=new FilterChain(){
    @Override public void doFilter(    ServletRequest request,    ServletResponse response) throws IOException, ServletException {
      assertNull(context.getService(TurboFilter.class));
    }
  }
;
  prepareChain(chain).doFilter(request,response);
  String requestId=getRequestId(response);
  assertNotNull(requestId);
  Recording r=((TracerLogServlet)context.getService(Servlet.class)).getRecording(requestId);
  assertTrue(r instanceof JSONRecording);
  assertNotNull(((JSONRecording)r).getTracker());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.impl.ValidationServiceImplTest </h4><pre class="type-11 type-12 type-6 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies assertions inside branch conditions">BranchVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies (un)successful execution of the test case by reporting explicitly a failure">UtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies assertions inside branch conditions
- Verifies (un)successful execution of the test case by reporting explicitly a failure
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithValidatorLeveragingTheResource() throws Exception {
  Validator<String> extendedValidator=new Validator<String>(){
    @Override @Nonnull public ValidationResult validate(    @Nonnull String data,    @Nonnull ValidationContext context,    @Nonnull ValueMap arguments) throws SlingValidationException {
      Resource resource=context.getResource();
      if (resource == null) {
        Assert.fail("Resource must not be null");
      }
 else {
        Assert.assertThat(resource.getPath(),Matchers.equalTo("/content/validation/1/resource"));
      }
      return DefaultValidationResult.VALID;
    }
  }
;
  propertyBuilder.validator(extendedValidator);
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",properties,JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValueMapWithEmptyOptionalValue() throws Exception {
  propertyBuilder.optional();
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"abc");
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertFalse(vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field1",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"abc")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test() public void testValidateResourceRecursivelyWithMissingValidatorAndNoEnforcement() throws Exception {
  validationService.modelRetriever=new ValidationModelRetriever(){
    @Override public @CheckForNull ValidationModel getModel(    @Nonnull String resourceType,    String resourcePath,    boolean considerResourceSuperTypeModels){
      return null;
    }
  }
;
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource","resourcetype1",JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validateResourceRecursively(testResource,false,null,false);
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValueMapWithCorrectDataType() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"abc");
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  propertyBuilder=new ResourcePropertyBuilder();
  final String TEST_REGEX="^test$";
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,TEST_REGEX);
  modelBuilder.resourceProperty(propertyBuilder.build("field2"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","HelloWorld");
  hashMap.put("field2","HelloWorld");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertFalse(vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>hasItem(new DefaultValidationFailure("field2",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,TEST_REGEX)));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithNestedChildren() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild",null,true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child",null,true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child",properties);
  rr.create(resourceChild,"grandchild",properties);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMissingGrandChildProperty() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  modelBuilder.resourceProperty(property);
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild",null,true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child",null,true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field1","1");
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child",properties);
  rr.create(resourceChild,"grandchild",null);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("child/grandchild",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMissingOptionalChildResource() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource child=new ChildResourceImpl("child",null,false,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  modelBuilder.childResource(child);
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValidateResourceRecursively() throws Exception {
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  final ValidationModel vm1=modelBuilder.build("resourcetype1");
  modelBuilder=new ValidationModelBuilder();
  modelBuilder.resourceProperty(propertyBuilder.build("field2"));
  final ValidationModel vm2=modelBuilder.build("resourcetype2");
  validationService.modelRetriever=new ValidationModelRetriever(){
    @Override public @CheckForNull ValidationModel getModel(    @Nonnull String resourceType,    String resourcePath,    boolean considerResourceSuperTypeModels){
      if (resourceType.equals("resourcetype1")) {
        return vm1;
      }
 else       if (resourceType.equals("resourcetype2")) {
        return vm2;
      }
 else {
        return null;
      }
    }
  }
;
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource","resourcetype1",JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype2");
  properties.put("field2","test");
  rr.create(testResource,"child1",properties);
  properties.clear();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype2");
  rr.create(testResource,"child2",properties);
  properties.clear();
  properties.put(JcrResourceConstants.SLING_RESOURCE_TYPE_PROPERTY,"resourcetype3");
  rr.create(testResource,"child3",properties);
  Predicate ignoreResourceType3Filter=new Predicate(){
    @Override public boolean evaluate(    Object object){
      Resource resource=(Resource)object;
      if ("resourcetype3".equals(resource.getResourceType())) {
        return false;
      }
      return true;
    }
  }
;
  ValidationResult vr=validationService.validateResourceRecursively(testResource,true,ignoreResourceType3Filter,false);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1"),new DefaultValidationFailure("child2",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field2")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithMultivalueProperties() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  propertyBuilder.multiple();
  modelBuilder.resourceProperty(propertyBuilder.build("field"));
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field",new String[]{"1","abc","2"});
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field[1]",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"\\d")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithPropertyPatternMatching() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  propertyBuilder.nameRegex("field.*");
  modelBuilder.resourceProperty(propertyBuilder.build("field"));
  propertyBuilder.nameRegex("otherfield.*");
  modelBuilder.resourceProperty(propertyBuilder.build("otherfield"));
  propertyBuilder.nameRegex("optionalfield.*").optional();
  modelBuilder.resourceProperty(propertyBuilder.build("optionalfield"));
  ValidationModel vm=modelBuilder.build("type");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/content/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  ModifiableValueMap mvm=testResource.adaptTo(ModifiableValueMap.class);
  mvm.put("field1","1");
  mvm.put("field2","1");
  mvm.put("field3","abc");
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>contains(new DefaultValidationFailure("field3",RegexValidator.I18N_KEY_PATTERN_DOES_NOT_MATCH,"\\d"),new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_MATCHING_PATTERN,"otherfield.*")));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testResourceWithNestedChildrenAndPatternMatching() throws Exception {
  propertyBuilder.validator(new RegexValidator(),RegexValidator.REGEX_PARAM,"\\d");
  ResourceProperty property=propertyBuilder.build("field1");
  ChildResource modelGrandChild=new ChildResourceImpl("grandchild","grandchild.*",true,Collections.singletonList(property),Collections.<ChildResource>emptyList());
  ChildResource modelChild=new ChildResourceImpl("child","child.*",true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  ChildResource siblingChild=new ChildResourceImpl("siblingchild","siblingchild.*",true,Collections.singletonList(property),Collections.singletonList(modelGrandChild));
  modelBuilder.childResource(modelChild);
  modelBuilder.childResource(siblingChild);
  ValidationModel vm=modelBuilder.build("sometype");
  ResourceResolver rr=context.resourceResolver();
  Resource testResource=ResourceUtil.getOrCreateResource(rr,"/apps/validation/1/resource",JcrConstants.NT_UNSTRUCTURED,JcrConstants.NT_UNSTRUCTURED,true);
  Map<String,Object> properties=new HashMap<String,Object>();
  properties.put("field1","1");
  Resource resourceChild=rr.create(testResource,"child1",properties);
  rr.create(resourceChild,"grandchild1",properties);
  rr.create(testResource,"child2",properties);
  rr.create(testResource,"child3",null);
  ValidationResult vr=validationService.validate(testResource,vm);
  Assert.assertFalse("resource should have been considered invalid",vr.isValid());
  Assert.assertThat(vr.getFailures(),Matchers.<ValidationFailure>containsInAnyOrder(new DefaultValidationFailure("child2",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"grandchild.*"),new DefaultValidationFailure("child3",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"grandchild.*"),new DefaultValidationFailure("child3",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_PROPERTY_WITH_NAME,"field1"),new DefaultValidationFailure("",ValidationServiceImpl.I18N_KEY_MISSING_REQUIRED_CHILD_RESOURCE_MATCHING_PATTERN,"siblingchild.*")));
}

</code></pre>

<br>
<pre class="type-13 type-9 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test() public void testValueMapWithMissingOptionalValue() throws Exception {
  modelBuilder.resourceProperty(propertyBuilder.optional().build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field2","1");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<pre class="type-13 type-9 type-10 type-17 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects are null">NullVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies logic rules using matcher-style statements">ConditionMatcher</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects are null
- Verifies logic rules using matcher-style statements
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testValidateNeverCalledWithNullValues() throws Exception {
  Validator<String> myValidator=new Validator<String>(){
    @Override public @Nonnull ValidationResult validate(    @Nonnull String data,    @Nonnull ValidationContext context,    @Nonnull ValueMap arguments) throws SlingValidationException {
      Assert.assertNotNull("data parameter for validate should never be null",data);
      Assert.assertNotNull("location of context parameter for validate should never be null",context.getLocation());
      Assert.assertNotNull("valueMap of context parameter for validate should never be null",context.getValueMap());
      Assert.assertNull("resource of context parameter for validate cannot be set if validate was called only with a value map",context.getResource());
      Assert.assertNotNull("arguments parameter for validate should never be null",arguments);
      return DefaultValidationResult.VALID;
    }
  }
;
  propertyBuilder.validator(myValidator);
  modelBuilder.resourceProperty(propertyBuilder.build("field1"));
  ValidationModel vm=modelBuilder.build("sling/validation/test");
  HashMap<String,Object> hashMap=new HashMap<String,Object>();
  hashMap.put("field1","1");
  ValidationResult vr=validationService.validate(new ValueMapDecorator(hashMap),vm);
  Assert.assertThat(vr.getFailures(),Matchers.hasSize(0));
  Assert.assertTrue(vr.isValid());
}

</code></pre>

<br>
<h4 style="margin:0px">Class: org.apache.sling.validation.testservices.ValidationServiceTest </h4><pre class="type-11 type-13 type-9 type-3 type-8 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies whether objects/variable are equal to an expected value ">EqualityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Contains more than 2 JUnit-based stereotypes">HybridVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
- Verifies whether objects/variable are equal to an expected value 
- Contains more than 2 JUnit-based stereotypes
"></span><br>
@Test public void testInvalidRequestModel1() throws IOException, JSONException {
  MultipartEntity entity=new MultipartEntity();
  entity.addPart("sling:resourceType",new StringBody("validation/test/resourceType1"));
  entity.addPart("field1",new StringBody("Hello World"));
  entity.addPart(SlingPostConstants.RP_OPERATION,new StringBody("validation"));
  RequestExecutor re=getRequestExecutor().execute(getRequestBuilder().buildPostRequest("/validation/testing/fakeFolder1/resource").withEntity(entity)).assertStatus(200);
  String content=re.getContent();
  JSONObject jsonResponse=new JSONObject(content);
  assertFalse(jsonResponse.getBoolean("valid"));
  JSONObject failure=jsonResponse.getJSONArray("failures").getJSONObject(0);
  assertEquals("Property does not match the pattern \"^\\p{Upper}+$\".",failure.get("message"));
  assertEquals("field1",failure.get("location"));
  failure=jsonResponse.getJSONArray("failures").getJSONObject(1);
  assertEquals("Missing required property with name \"field2\".",failure.get("message"));
  assertEquals("",failure.get("location"));
}

</code></pre>

<br>
<pre class="type-11 type-13 type-9 "><code><span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to API calls (Java or TPL) ">APIUtilityVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies boolean conditions">BooleanVerifier</span>&nbsp;<span class="label label-info" style="display: inline-block;" data-toggle="tooltip" title="Verifies values of objects/variables related to AUT calls">InternalCallVerifier</span>&nbsp;<span class=" glyphicon glyphicon-comment" aria-hidden="true" label-info" data-toggle="tooltip" title="This method/test case: 
- Verifies values of objects/variables related to API calls (Java or TPL) 
- Verifies boolean conditions
- Verifies values of objects/variables related to AUT calls
"></span><br>
@Test public void testValidRequestModel1() throws IOException, JSONException {
  MultipartEntity entity=new MultipartEntity();
  entity.addPart("sling:resourceType",new StringBody("validation/test/resourceType1"));
  entity.addPart("field1",new StringBody("HELLOWORLD"));
  entity.addPart("field2",new StringBody("30.01.1988"));
  entity.addPart(SlingPostConstants.RP_OPERATION,new StringBody("validation"));
  RequestExecutor re=getRequestExecutor().execute(getRequestBuilder().buildPostRequest("/validation/testing/fakeFolder1/resource").withEntity(entity)).assertStatus(200);
  JSONObject jsonResponse=new JSONObject(re.getContent());
  assertTrue(jsonResponse.getBoolean("valid"));
}

</code></pre>

<br>
<script>$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});</script>
